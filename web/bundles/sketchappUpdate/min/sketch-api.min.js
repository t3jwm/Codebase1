/*
  ___________           __         .__         .__        
 /   _____/  | __ _____/  |_  ____ |  |__      |__| ____  
 \_____  \|  |/ // __ \   __\/ ___\|  |  \     |  |/  _ \ 
 /        \    <\  ___/|  | \  \___|   Y  \    |  (  <_> )
/_______  /__|_ \\___  >__|  \___  >___|  / /\ |__|\____/ 
		\/     \/    \/          \/     \/  \/            
 
 HTML5 graphics made w/ WebGL, WebRTC & Canvas
 
 -------------------------------------------------------------------
 Sketchpad 3.5 built for "Draw, Create, Share!"
 -------------------------------------------------------------------
 Sketch API v3.7.6.43
 Copyright (c) Sketch.IO, Inc. <https://sketch.io>
 -------------------------------------------------------------------
 
 SketchAPI uses certain modules under license from third parties.
 Sketch.io offers the SketchAPI, pursuant to its license,
 to you on the condition you accept the following modules under
 their respective licenses.
 -------------------------------------------------------------------
    module: i18n.js - Oct 7, 2014
       src: https://github.com/gammasoft/browser-i18n
    author: Renato Gama
 copyright: (c) 2013 Gammasoft
   license: MIT

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the 'Software'), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
    module: sprintf.js - Nov 4, 2014
       src: https://github.com/jakobwesthoff/sprintf.js
    author: Jakob Westhoff
 copyright: (c) 2010 Jakob Westhoff
   license: MIT
 -------------------------------------------------------------------
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the 'Software'), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
    module: Base64 shim
       src: http://code.google.com/p/stringencoders/
   authors: Nick Galbreath
 copyright: (c) 2010 Nick Galbreath
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix shim
       src: https://github.com/camupod/CSSMatrix
   authors: Cameron Lakenen & Arian Stolwijk
 copyright: (c) 2013 Cameron Lakenen & Arian Stolwijk
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix.decompose
       src: http://www.joelambert.co.uk/morf/
    author: Joe Lambert
 copyright: (c) 2011 Joe Lambert <http://www.joelambert.co.uk>
   license: MIT
 -------------------------------------------------------------------
    module: AnimationFrame shim
       src: https://github.com/kof/animationFrame
    author: Oleg Slobodskoi
 copyright: (c) 2013 Oleg Slobodskoi
   license: MIT
 -------------------------------------------------------------------
    module: Blob.js - Blob shim (2014-07-01)
       src: https://github.com/eligrey/Blob.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: Canvas.toBlob.js (2013-12-27)
       src: https://github.com/eligrey/canvas-toBlob.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: FileSaver.js (2015-01-04)
       src: https://github.com/eligrey/FileSaver.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: Parse URI v1.2.2
       src: https://gist.github.com/kflorence/1169555
    author: Steven Levithan & Kyle Florence
 copyright: (c) 2007 Steven Levithan
   license: MIT
 -------------------------------------------------------------------
    module: Catmull?Rom Spline
       src: https://github.com/almende/vis/
    author: Almende B.V.
 copyright: (c) 2014 Almende B.V.
   license: MIT
 -------------------------------------------------------------------
    module: arcToBezier - Elliptical Arc to Bezier Curve(s)
       src: http://www.levien.com/
    author: Raph Levien <raph@artofcode.com>
 copyright: (c) 2002 USC/Information Sciences Institute
   license: MIT
 -------------------------------------------------------------------
    module: CSS Gradient Parser
       src: http://lea.verou.me/demos/cssgradientsplease/
    author: Lea Verou
 copyright: (c) 2011 Lea Verou. All rights reserved.
   license: MIT
 -------------------------------------------------------------------
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the 'Software'), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
*/
"undefined"===typeof eventjs&&(eventjs={});
(function(r){function g(e){if(!e||e.nodeName||"object"!==typeof e)return e;var p=new e.constructor,k;for(k in e)p[k]=!e[k]||e.nodeName||"object"!==typeof e[k]?e[k]:g(e[k]);return p}function d(e,p,k,a,c,s){a=a||{};if("[object Object]"===String(e))return q(e,c);if(e&&p&&k)if("string"===typeof e&&"ready"===p)b(e,a,k);else{if("string"===typeof e&&(e=document.querySelectorAll(e),0===e.length)){h("target does not exist",arguments);return}if(0<e.length&&e!==window)if(1===e.length)e=e[0];else{for(var u={},
w=0,x=e.length;w<x;w++){var y=d(e[w],p,k,g(a),c);y&&(u[w]=y)}return r.wrapBatch(u)}"string"===typeof p&&(p=p.toLowerCase().split(/[, ]/),1===p.length&&(p=p.shift()));if("string"!==typeof p)return m(e,p,k,a,c);0===p.indexOf("on")&&(p=p.substr(2));if("object"!==typeof e)return h("target must be an element",arguments);if("function"!==typeof k)return h("listener must be a function",arguments);u=a.useCapture||!1;w=p+"."+l(e)+"."+l(k)+"."+(u?1:0);if(r.gestureHandler[p])if("remove"===c)e[w]&&e[w].remove&&
(e[w].remove(),delete e[w]);else{if("add"===c){if(e[w]&&e[w].add)return e[w].add(),e[w];e[w]&&console.warn("handle",e[w]);if(a.useCall){var F=k;k=function(k,p){for(var a in p)k[a]=p[a];return F.call(e,k)}}a.uid=w;a.gesture=p;a.target=e;a.listener=k;a.fromOverwrite=s;return e[w]=r.proxy[p](a)}}else{for(var B=f(p,a.strict),C=B.length,w=0;w<C;w++)if("remove"===c)e[t](B[w],k,u);else if("add"===c)e[A](B[w],k,u);return{type:p,target:e,listener:k,add:function(){for(var p=0;p<C;p++)r.add(e,B[p],k,a)},remove:function(){for(var p=
0;p<C;p++)r.remove(e,B[p],k,a)}}}}else h("target, type and listener are required",arguments)}function m(e,p,k,a,c){var l,f={};if(Array.isArray(p))for(var b=0,h=p.length;b<h;b++){var t=p[b];t&&(l=d(e,t,k,g(a),c))&&(f[t]=l)}else for(b in p)(t=p[b])&&(l=t.listener?d(e,b,t.listener,g(t),c):d(e,b,t,g(a),c))&&(f[b]=l);return r.wrapBatch(f)}function q(e,p){var k=e.target;if(e.type&&e.listener){var a=e.listener;return d(k,e.type,a,e,p)}var c={},l;for(l in e){var a=e[l],f=typeof a;if("string"===f||"number"===
f||"boolean"===f)c[l]=a}var f={},b;for(b in e){l=e[b];if("function"===typeof l)var a=l,h=g(c);else if("function"===typeof l.listener){var a=l.listener,h=g(c),t;for(t in l)h[t]=l[t]}else continue;l=b.toLowerCase().split(/[, ]/);for(var m=0;m<l.length;m++)f[b]=r.add(k,l[m],a,h,p)}return f}function b(e,p,k){var a=r.getTime(),c=p.timeout,l=setInterval(function(){0===r.useStallOnReady&&(r.getTime()-a>c&&clearInterval(l),document.querySelector(e)&&(clearInterval(l),setTimeout(k,1)))},p.interval||1E3/60)}
function h(e,p){"undefined"!==typeof console&&"undefined"!==typeof console.error&&console.error(e,p)}function f(e,p){var k=document.addEventListener?"":"on",v=c[e];if(isFinite(v)&&!p){var l=[],f;for(f in r.supports)l.push(k+a[f][v]);return l}return[k+e]}r.useCSSTransform=!1;r.useIdentifiers=!1;r.useStallOnReady=0;r.POINTER_TYPE_UNAVAILABLE=1;r.POINTER_TYPE_TOUCH=2;r.POINTER_TYPE_PEN=3;r.POINTER_TYPE_MOUSE=4;r.add=function(e,p,k,a){return d(e,p,k,a,"add")};r.remove=function(e,p,k,a){return d(e,p,k,
a,"remove")};r.stop=function(e){e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.cancelBubbleCount=0)};r.prevent=function(e){e&&(e.preventDefault?e.preventDefault():e.preventManipulation?e.preventManipulation():e.returnValue=!1)};r.cancel=function(e){r.stop(e);r.prevent(e)};r.blur=function(){if(r.isEditingText()){var e=document.activeElement;e.blur&&e.blur()}};r.isEditingText=function(){var e=document.activeElement;if(e){var p=e.nodeName;if("INPUT"===p||"TEXTAREA"===p||"true"===e.contentEditable)return!0}return!1};
r.detectEvent=function(e,p){p=p||window;e="on"+e;if(e in p)return!0;p.setAttribute||(p=document.createElement("div"));if(p.setAttribute&&p.removeAttribute){p.setAttribute(e,"");var k="function"===typeof p[e];void 0!==p[e]&&(p[e]=null);p.removeAttribute(e);return k}};r.detectCSSPrefix=function(e,p){p=p||document.documentElement;for(var k=getComputedStyle(p,""),a=["","-moz-","-webkit-","-ms-","-o-"],c=0;c<a.length;c++)for(var l=a[c],f=0;f<k.length;f++)if(k[f]===l+e)return l};r.bulk=function(e,p){for(var k in e){var a=
e[k];if(a&&a[p])a[p]()}};r.wrapBatch=function(e){return{add:function(){r.bulk(e,"add")},remove:function(){r.bulk(e,"remove")},pause:function(){r.bulk(e,"pause")},resume:function(){r.bulk(e,"resume")}}};var a={msPointer:["MSPointerDown","MSPointerMove","MSPointerUp"],pointer:["pointerdown","pointermove","pointerup"],touch:["touchstart","touchmove","touchend"],mouse:["mousedown","mousemove","mouseup"]},c={MSPointerDown:0,MSPointerMove:1,MSPointerUp:2,pointerdown:0,pointermove:1,pointerup:2,touchstart:0,
touchmove:1,touchend:2,mousedown:0,mousemove:1,mouseup:2};r.supports={};window.navigator.pointerEnabled?r.supports.pointer=!0:window.navigator.msPointerEnabled&&(r.supports.msPointer=!0);r.detectEvent("touchstart")&&(r.supports.touch=!0);r.detectEvent("mousedown")&&(r.supports.mouse=!0);var l=function(){var e=1;return function(p){return p===window?"#window":p===document?"#document":p.eventJSId?p.eventJSId:p.eventJSId=e++}}(),A=document.addEventListener?"addEventListener":"attachEvent",t=document.removeEventListener?
"removeEventListener":"detachEvent";return r})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={});g.Pointer=function(m){m.target=m.target||window;m.doc=m.target.ownerDocument||m.target;m.minFingers=m.minFingers||m.fingers||1;m.maxFingers=m.maxFingers||m.fingers||Infinity;m.position=m.position||"relative";m.listenerOnSetup=m.listener;r.useCSSTransform&&!1!==m.useCSSTransform&&(m.useCSSTransform=!0);m.pointers={};m.fingers=0;var d={};d.gesture=m.gesture;d.target=m.target;d.env=m.env||{};d.listener=m.listener;d.proxy=function(b){(d.listener=b)(d.event,d)};
d.attached=!0;d.add=function(){!1===d.attached&&(d.attached=!0,m._pointerDown&&m._pointerDown.add(),m._pointerMove&&m._pointerMove.add(),m._pointerUp&&m._pointerUp.add(),m._pointerOver&&m._pointerOver.add(),m._pointerOut&&m._pointerOut.add())};d.remove=function(){!0===d.attached&&(d.attached=!1,d.resetPointers(),m._pointerDown&&m._pointerDown.remove(),m._pointerMove&&m._pointerMove.remove(),m._pointerUp&&m._pointerUp.remove(),m._pointerOver&&m._pointerOver.remove(),m._pointerOut&&m._pointerOut.remove())};
var b=0;d.pause=function(){m._pointerMove&&m._pointerMove.remove();m._pointerUp&&m._pointerUp.remove();b=m.fingers;m.fingers=0};d.resume=function(){m._pointerMove&&m._pointerMove.add();m._pointerUp&&m._pointerUp.add();m.fingers=b};d.resetPointer=function(b){var f=m.pointers||{};f[b]&&(delete f[b],m.fingers--)};d.resetPointers=function(){m.pointers={};m.fingers=0};d.resetBoundingBox=function(){d.bbox=m.bbox=r.getBBox(m.target);var b=m.pointers||{},f;for(f in b)b[f].dirty=!0};d.hasMoved=function(b){b=
b||1;var f=d.start.x-d.x,a=d.start.y-d.y;return 1===b?!(!f&&!a):Math.sqrt(f*f+a*a)>=b};d.distanceMoved=function(){var b=d.start.x-d.x,f=d.start.y-d.y;return Math.sqrt(b*b+f*f)};return d};var d=r.supports;r.isMouse=!!d.mouse;r.isPointer=!!d.pointer||!!d.msPointer;r.isTouch=!!d.touch;g.getPointerID=function(m,d){var b=Object.keys(m);return d?b.join(","):b};g.getPoint=function(m,d){var b=m.pageX,h=m.pageY;if("absolute"===d.position)return{x:b,y:h};var f=d.bbox.matrix,b=f.point3d({x:b,y:h,z:-(b*f.m13+
h*f.m23+f.m43)/f.m33}),h=b.x/b.w,f=b.y/b.w;0>b.x/h&&(h=0>b.x?-16777215:16777215);0>b.y/f&&(f=0>b.y?-16777215:16777215);return{x:h,y:f}};g.setPointerStart=function(m,d,b,h){h=d.pointers[h]={};var f=d.bbox,a=d.useCSSTransform,c=b.pageX,l=b.pageY;a&&(b=g.getPoint(b,d),c=b.x,l=b.y);switch(d.position){case "differenceFromLast":case "difference":h.offsetX=c;h.offsetY=l;break;case "move":h.offsetX=c-f.x1;h.offsetY=l-f.y1;break;case "absolute":h.offsetX=0;h.offsetY=0;break;default:a?(h.offsetX=-f.scrollLeft-
f.pageXOffset,h.offsetY=-f.scrollTop-f.pageYOffset):(h.offsetX=f.x1-f.scrollLeft,h.offsetY=f.y1-f.scrollTop)}d=c-h.offsetX;b=l-h.offsetY;h.rotation=0;h.scale=1;h.startTime=m.startTime;h.moveTime=m.startTime;h.move={x:d,y:b};h.start={x:d,y:b};return h};g.isPointerStart=function(m,d,b){d.event=m;d.listener=b.listenerOnSetup;var h=(m.type||"mousedown").toLowerCase();0===h.indexOf("mouse")?(r.isMouse=!0,r.isTouch=!1,r.isPointer=!1):0===h.indexOf("touch")?(r.isMouse=!1,r.isTouch=!0,r.isPointer=!1):0===
h.indexOf("mspointer")&&(r.isMouse=!1,r.isTouch=!1,r.isPointer=!0);d.startTime=r.getTime();var h=!b.fingers,f=b.pointers;m=g.getChangedTouches(m);for(var a=m.length,c=0;c<a;c++){var l=m[c],A=l.identifier,t=f[A];if(b.fingers){if(b.fingers>=b.maxFingers)return d.identifier=g.getPointerID(f,!0),h;for(var e in f)if(f[e].up){delete f[e];b.cancel=!0;b.fingers++;t=g.setPointerStart(d,b,l,A);break}void 0===t&&(b.fingers++,g.setPointerStart(d,b,l,A))}else d.resetBoundingBox(),b.cancel=!1,b.fingers=1,b.pointers=
{},g.setPointerStart(d,b,l,A)}d.identifier=g.getPointerID(b.pointers,!0);return h};g.isPointerEnd=function(m,d,b,h){for(var f=b.pointers,a=m.touches||[],c={},l=0,A=a.length;l<A;l++)c[a[l].identifier]=!0;for(var t in f)a=f[t],c[t]||a.up||(h&&h(m,"up"),a.up=!0,b.fingers--);return 0===A?(m=g.getPointerID(f),b.fingers=0,b.gestureFingers=m.length,d.identifier=m.join(","),!0):!1};(function(){var m=65535;r.getPointerId=function(){return m};r.setPointerId=function(d){isFinite(d)&&(m=d)};g.getChangedTouches=
function(){var d=function(){var b;return function(f){return"mousedown"===f.type&&f!==b?(b=f,++m):m}}(),b=function(){var b={};return function(f){var a=f.type,c=f.identifier,l=b[c];if("touchstart"===a&&f!==l)return f.__identifier=++c,b[c]=f,c;"touchend"===a&&delete b[c];return l.__identifier}}();return function(h){if(h.changedTouches){if(r.useIdentifiers){var f=[];h=h.changedTouches;for(var a in h){var c=h[a],l=b(c);f.push({clientX:c.clientX,clientY:c.clientY,pageX:c.pageX,pageY:c.pageY,screenX:c.screenX,
screenY:c.screenY,identifier:l,pointerId:l,pointerType:2})}return f}return h.changedTouches}if(0<=h.pageX+h.pageY)return[{clientX:h.clientX,clientY:h.clientY,pageX:h.pageX,pageY:h.pageY,screenX:h.screenX,screenY:h.screenY,identifier:d(h),pointerId:1,pointerType:4}];h=h||window.event;f=document.documentElement;return[{clientX:h.clientX,clientY:h.clientY,pageX:h.clientX+f.scrollLeft,pageY:h.clientY+f.scrollTop,screenX:h.screenX,screenY:h.screenY,identifier:d(h),pointerId:1,pointerType:4}]}}()})();(function(){var m,
d;r.getPageXY=function(b){if(b.changedTouches)return(b=b.changedTouches)&&b.length?(b=b[0],{x:m=b.pageX,y:d=b.pageY}):{x:m,y:d};if(0<=b.pageX+b.pageY)return{x:b.pageX,y:b.pageY};b=b||window.event;var h=document.documentElement;return{x:b.clientX+h.scrollLeft,y:b.clientY+h.scrollTop}}})();(function(){var m,d;r.getClientXY=function(b){if(b.changedTouches)return(b=b.changedTouches)&&b.length?(b=b[0],{x:m=b.clientX,y:d=b.clientY}):{x:m,y:d};b=b||window.event;return{x:b.clientX,y:b.clientY}}})();r.getPointInNode=
function(m,d){var b=r.getBBox(d);if(r.useCSSTransform)return g.getPoint(m,{bbox:b});var h=r.getClientXY(m);return{x:h.x-b.x1+b.scrollLeft,y:h.y-b.y1+b.scrollTop}};r.convertPointFromNode=function(m,d,b){var h=d.parentNode;d=r.getMatrix(d,h).inverse();b=r.getMatrix(b,h);var h=m.x,f=m.y;m=h*b.m11+f*b.m21+b.m31;b=h*b.m12+f*b.m22+b.m32;d=d.point3d({x:m,y:b,z:-(m*d.m13+b*d.m23+d.m43)/d.m33});m=d.x/d.w;b=d.y/d.w;return{x:m,y:b}};r.getDocumentScroll=function(m){m=m||{};if(void 0!==window.pageXOffset)m.pageXOffset=
window.pageXOffset,m.pageYOffset=window.pageYOffset;else if("CSS1Compat"===document.compatMode)m.pageXOffset=document.documentElement.scrollLeft,m.pageYOffset=document.documentElement.scrollTop;else{var d=document.body;m.pageXOffset=d.scrollLeft;m.pageYOffset=d.scrollTop}return m};r.getMatrix=function(){var m;return function(d,b){void 0===m&&(m=r.detectCSSPrefix("transform")||"");for(var h=new CSSMatrix,f=d;null!==f&&f!==b;){var a=getComputedStyle(f),c=a.getPropertyValue(m+"perspective");if(c&&"none"!==
c)var l=a.getPropertyValue(m+"perspective-origin").split(" "),A=parseFloat(l[0])||0,t=parseFloat(l[1])||0,c=-1/parseFloat(c),l=(new CSSMatrix).translate(A,t),l=l.multiply(new CSSMatrix("matrix3d(1,0,0,0, 0,1,0,0, 0,0,1,"+c+", 0,0,0,1)")),l=l.translate(-A,-t),h=l.multiply(h);var e=0,p=0;"static"===a.getPropertyValue("position")===!1&&(e+=f.offsetLeft,p+=f.offsetTop);c=f===document.body;!1===c&&(e-=f.scrollLeft,p-=f.scrollTop);var k=a.getPropertyValue(m+"transform");k&&"none"!==k?(l=a.getPropertyValue(m+
"transform-origin").split(" "),A=parseFloat(l[0])||0,t=parseFloat(l[1])||0,a=parseFloat(l[2])||0,l=(new CSSMatrix).translate(A+e,t+p,a),l=l.multiply(new CSSMatrix(k)),l=l.translate(-A,-t,-a)):l=(new CSSMatrix).translate(e,p);h=l.multiply(h);if(!0===c)break;else f=f.parentNode}return h}}();r.getBBox=function(){function m(m,b){var h=parseFloat(m.getPropertyValue(b),10);return h===+h?h:0}return function(d){if(d===window||d===document)d=document.body;var b={},h=d.getBoundingClientRect();b.width=h.width;
b.height=h.height;b.x1=h.left;b.y1=h.top;b.scaleX=h.width/d.offsetWidth||1;b.scaleY=h.height/d.offsetHeight||1;b.scrollLeft=0;b.scrollTop=0;h=getComputedStyle(d);if("border-box"===h.getPropertyValue("box-sizing")===!1){var f=m(h,"border-left-width"),a=m(h,"border-right-width"),c=m(h,"border-bottom-width"),l=m(h,"border-top-width");b.border=[f,a,l,c];b.x1+=f;b.y1+=l;b.width-=a+f;b.height-=c+l}b.x2=b.x1+b.width;b.y2=b.y1+b.height;r.useCSSTransform&&(b.matrix=r.getMatrix(d).inverse());for(h=h.getPropertyValue("position");null!==
d&&d!==document.body&&void 0!==d.scrollTop;){h=getComputedStyle(d);h=h.getPropertyValue("position");if("absolute"!==h)if("fixed"===h){b.scrollTop=d.scrollLeft;b.scrollLeft=d.scrollTop;break}else b.scrollLeft+=d.scrollLeft,b.scrollTop+=d.scrollTop;d=d.parentNode}r.getDocumentScroll(b);b.scrollLeft-=b.pageXOffset;b.scrollTop-=b.pageYOffset;return b}}();r.getTime=function(){var m=window.performance;return m&&m.now?m.now.bind(m):Date.now}();r.gestureHandler=r.gestureHandler||{};r.register=function(m){r.gestureHandler[m]=
g[m]}})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={}),d=/iPhone|iPad|iPod/i.test(navigator.userAgent);g.click=function(m){m.gesture=m.gesture||"click";m.maxFingers=m.maxFingers||m.fingers||1;m.onPointerDown=function(b){g.isPointerStart(b,q,m)&&(m._pointerUp=r.add(m.doc,"mouseup",m.onPointerUp))};m.onPointerUp=function(b){if((!d||"mouseup"!==b.type)&&g.isPointerEnd(b,q,m)&&(m._pointerUp.remove(),!b.cancelBubble)){var h=g.getChangedTouches(b)[0],f=m.bbox,a=r.getBBox(m.target),c=h.pageY-a.pageYOffset,h=h.pageX-a.pageXOffset;
if(h>f.x1&&c>f.y1&&h<f.x2&&c<f.y2&&f.scrollTop===a.scrollTop){for(var l in m.pointers)if(f=m.pointers[l]){q.x=f.start.x;q.y=f.start.y;break}q.state="click";q.listener(b,q)}}};m._pointerDown=r.add(m.target,"mousedown",m.onPointerDown);var q=g.Pointer(m);return q};r.register("click")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={});g.dbltap=g.dblclick=function(d){d.gesture=d.gesture||"dbltap";d.maxFingers=d.maxFingers||d.fingers||1;var m,q,b,h,f;d.onPointerDown=function(c){var l=g.getChangedTouches(c);m&&!q?(f=l[0],q=r.getTime()-m):(h=l[0],m=r.getTime(),q=0,clearTimeout(b),b=setTimeout(function(){m=0},700));g.isPointerStart(c,a,d)&&((d._pointerMove=r.add(d.doc,"mousemove",d.onPointerMove)).listener(c),d._pointerUp=r.add(d.doc,"mouseup",d.onPointerUp))};d.onPointerMove=function(a){if(m&&
!q)f=g.getChangedTouches(a)[0];else if(!f)return;a=d.bbox;var l=f.pageX-a.x1,A=f.pageY-a.y1;0<l&&l<a.width&&0<A&&A<a.height&&25>=Math.abs(f.pageX-h.pageX)&&25>=Math.abs(f.pageY-h.pageY)||(d._pointerMove.remove(),clearTimeout(b),m=q=0)};d.onPointerUp=function(c){g.isPointerEnd(c,a,d)&&(d._pointerMove.remove(),d._pointerUp.remove());if(m&&q){if(700>=q){for(var l in d.pointers){l=d.pointers[l];a.x=l.start.x;a.y=l.start.y;break}a.state=d.gesture;a.listener(c,a)}clearTimeout(b);m=q=0}};d._pointerDown=
r.add(d.target,"mousedown",d.onPointerDown);var a=g.Pointer(d);return a};r.register("dbltap");r.register("dblclick")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={});g.dragElement=function(d,m){g.drag({event:m,target:d,position:"move",listener:function(m,b){d.style.left=b.x+"px";d.style.top=b.y+"px";r.prevent(m)}})};g.drag=function(d){function m(k){h.fingers=d.fingers;for(var e=g.getChangedTouches(k),p=0,a=e.length;p<a;p++){var c=e[p],l=c.identifier,f=d.pointers[l];if(f){f.dirty&&(f=g.setPointerStart(h,d,c,l));f.pageX=c.pageX;f.pageY=c.pageY;if(d.useCSSTransform)var b=g.getPoint(f,d),t=b.x,b=b.y;else t=c.pageX,b=c.pageY;
h.identifier=l;h.pointerId=c.pointerId;h.pointerType=c.pointerType;h.start=f.start;h.x=t-f.offsetX;h.y=b-f.offsetY;A&&(f.offsetX=t,f.offsetY=b);h.listener(k,h)}}}function q(k){g.isPointerStart(k,h,d)&&(l&&d._pointerMove.remove(),d._pointerMove=r.add(a,"mousemove",e),d._pointerUp=r.add(a,"mouseup",p))}function b(){h.attached&&(d._pointerMove=r.add(c,"mousemove",e))}d.gesture="drag";var h=g.Pointer(d),f=d.event,a=d.doc,c=d.target,l=!0===d.monitor,A="differenceFromLast"===d.position,t=d.onPointerDown=
function(k){h.event=k;h.pointerDown=!0;h.pointerMove=!1;h.pointerMoved=!1;h.pointerUp=!1;h.pointerStart=!0;h.pointerDrag=!1;h.pointerEnd=!1;h.state="down";l&&(h.resetPointer(d.monitorId),d.monitorId=void 0);q(k);m(k)},e=d.onPointerMove=function(k){h.event=k;h.pointerMove=!0;h.pointerMoved=!0;h.pointerStart=!1;h.pointerDrag=h.pointerDown;h.pointerEnd=!1;h.state="move";d.fingers?m(k):l&&(q(k),m(k),d.monitorId=h.identifier)},p=d.onPointerUp=function(k){h.event=k;h.pointerDown=!1;h.pointerMove=!1;h.pointerUp=
!0;h.pointerStart=!1;h.pointerDrag=!1;h.pointerEnd=!0;h.state="up";g.isPointerEnd(k,h,d,m)&&(d._pointerMove.remove(),d._pointerUp.remove(),l&&b())};h.pointerDown=!1;h.pointerMove=!1;h.pointerMoved=!1;h.pointerUp=!0;h.pointerStart=!1;h.pointerDrag=!1;h.pointerEnd=!1;l&&b();f?t(f):d._pointerDown=r.add(c,"mousedown",t);return h};r.register("drag")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={}),d=Math.PI/180,m=function(m,b){var h=0,f=0,a=0,c;for(c in b){var l=b[c];!0!==l.up&&(h+=l.move.x,f+=l.move.y,a++)}m.x=h/a;m.y=f/a;return m};g.gesture=function(q){q.gesture=q.gesture||"gesture";q.minFingers=q.minFingers||q.fingers||2;q.onPointerDown=function(h){var f=q.fingers;g.isPointerStart(h,b,q)&&(q._pointerMove=r.add(q.doc,"mousemove",q.onPointerMove),q._pointerUp=r.add(q.doc,"mouseup",q.onPointerUp));q.fingers===q.minFingers&&f!==q.fingers&&(f=q.pointers,
b.fingers=q.minFingers,b.scale=1,b.rotation=0,b.identifier=g.getPointerID(f,!0),b.state="start",b.pointerStart=!0,b.pointerChange=!1,b.pointerEnd=!1,m(b,f),b.listener(h,b))};q.onPointerMove=function(h,f){for(var a=q.pointers,c=g.getChangedTouches(h),l=c.length,A=0;A<l;A++){var t=c[A],e=t.identifier,p=a[e];p&&(p.move.x=t.pageX-p.offsetX,p.move.y=t.pageY-p.offsetY)}if(!(q.fingers<q.minFingers)){c=[];A=l=0;m(b,a);for(e in a)if(t=a[e],!0!==t.up&&(p=t.start,p.x!==b.x||p.y!==b.y)){if(void 0===p.distance){var k=
p.x-b.x,v=p.y-b.y;p.distance=Math.sqrt(k*k+v*v);p.angle=Math.atan2(k,v)/d}var k=t.move.x-b.x,v=t.move.y-b.y,z=Math.sqrt(k*k+v*v),l=l+z/p.distance,k=Math.atan2(k,v)/d,p=(p.angle-k+360)%360-180;t.DEG2=t.DEG1;t.DEG1=0<p?p:-p;t.DEG2===+t.DEG2&&(t.rotation=0<p?t.rotation+(t.DEG1-t.DEG2):t.rotation-(t.DEG1-t.DEG2),A+=t.rotation);c.push(t.move)}b.touches=c;b.fingers=q.fingers;b.scale=l/q.fingers;b.rotation=A/q.fingers;b.state="change";b.pointerStart=!1;b.pointerChange=!0;b.pointerEnd=!1;b.listener(h,b)}};
q.onPointerUp=function(h){g.isPointerEnd(h,b,q)&&(q._pointerMove.remove(),q._pointerUp.remove());"end"!==b.state&&q.fingers<q.minFingers&&(b.fingers=q.fingers,b.state="end",b.pointerStart=!1,b.pointerChange=!1,b.pointerEnd=!0,b.listener(h,b))};q._pointerDown=r.add(q.target,"mousedown",q.onPointerDown);var b=g.Pointer(q);return b};r.register("gesture")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){(r.proxy||(r.proxy={})).shake=function(g){var d={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:g.target,listener:g.listener,remove:function(){window.removeEventListener("devicemotion",h,!1)}},m=r.getTime(),q={x:0,y:0,z:0},b={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},h=function(f){var a=f.accelerationIncludingGravity;q.x=.8*q.x+(1-.8)*a.x;q.y=.8*q.y+(1-.8)*a.y;q.z=.8*q.z+(1-.8)*a.z;d.accelerationIncludingGravity=q;d.acceleration.x=a.x-
q.x;d.acceleration.y=a.y-q.y;d.acceleration.z=a.z-q.z;if("devicemotion"===g.gesture)d.listener(f,d);else for(var a=r.getTime(),c=0;3>c;c++){var l="xyz"[c],h=d.acceleration[l],l=b[l],t=Math.abs(h);!(1E3>a-m)&&4<t&&(h=a*h/t,t=Math.abs(h+l.value),l.value&&200>t?(l.value=h,l.count++,3===l.count&&(d.listener(f,d),m=a,l.value=0,l.count=0)):(l.value=h,l.count=1))}};if(window.addEventListener)return window.addEventListener("devicemotion",h,!1),d};r.register("shake")})(eventjs);
"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={}),d=Math.PI/180;g.swipe=function(m){m.snap=m.snap||90;m.threshold=m.threshold||.75;m.gesture=m.gesture||"swipe";m.onPointerDown=function(b){g.isPointerStart(b,q,m)&&((m._pointerMove=r.add(m.doc,"mousemove",m.onPointerMove)).listener(b),m._pointerUp=r.add(m.doc,"mouseup",m.onPointerUp))};m.onPointerMove=function(b){b=g.getChangedTouches(b);for(var h=b.length,f=0;f<h;f++){var a=b[f],c=m.pointers[a.identifier];c&&(c.move.x=a.pageX,c.move.y=a.pageY,c.moveTime=r.getTime())}};
m.onPointerUp=function(b){if(g.isPointerEnd(b,q,m)){m._pointerMove.remove();m._pointerUp.remove();var h,f,a,c,l={x:0,y:0},A=0,t=0,e=0,p;for(p in m.pointers){var k=m.pointers[p];c=k.move.x-k.start.x;var v=k.move.y-k.start.y,A=A+k.move.x,t=t+k.move.y;l.x+=k.start.x;l.y+=k.start.y;e++;f=Math.sqrt(c*c+v*v);k=k.moveTime-k.startTime;c=Math.atan2(c,v)/d+180;f=k?f/k:0;if(void 0===a)a=c,h=f;else if(20>=Math.abs(c-a))a=(a+c)/2,h=(h+f)/2;else return}p=m.gestureFingers;m.minFingers<=p&&m.maxFingers>=p&&h>m.threshold&&
(l.x/=e,l.y/=e,q.start=l,q.x=A/e,q.y=t/e,q.angle=-(((a/m.snap+.5>>0)*m.snap||360)-360),q.velocity=h,q.fingers=p,q.state="swipe",q.listener(b,q))}};m._pointerDown=r.add(m.target,"mousedown",m.onPointerDown);var q=g.Pointer(m);return q};r.register("swipe")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={});g.longpress=function(d){d.gesture="longpress";return g.tap(d)};g.tap=function(d){d.gesture=d.gesture||"tap";d.delay=d.delay||500;d.driftDeviance=d.driftDeviance||10;d.timeout=d.timeout||250;var m,q;d.onPointerDown=function(h){g.isPointerStart(h,b,d)&&(m=r.getTime(),(d._pointerMove=r.add(d.doc,"mousemove",d.onPointerMove)).listener(h),d._pointerUp=r.add(d.doc,"mouseup",d.onPointerUp),"longpress"===d.gesture&&(q=setTimeout(function(){if(!(h.cancelBubble&&1<++h.cancelBubbleCount)){var f=
0,a;for(a in d.pointers){var c=d.pointers[a];if(!0===c.end||d.cancel)return;f++}d.minFingers<=f&&d.maxFingers>=f&&(b.state="start",b.fingers=f,b.x=c.start.x,b.y=c.start.y,b.listener(h,b))}},d.delay)))};d.onPointerMove=function(b){var f=d.bbox;b=g.getChangedTouches(b);for(var a=b.length,c=0;c<a;c++){var l=b[c],m=d.pointers[l.identifier];if(m){var t=l.pageX-f.x1,l=l.pageY-f.y1,e=t-m.start.x,m=l-m.start.y,m=Math.sqrt(e*e+m*m);if(!(0<t&&t<f.width&&0<l&&l<f.height&&m<=d.driftDeviance)){d._pointerMove.remove();
d.cancel=!0;break}}}};d.onPointerUp=function(h){if(g.isPointerEnd(h,b,d)&&(clearTimeout(q),d._pointerMove.remove(),d._pointerUp.remove(),!(h.cancelBubble&&1<++h.cancelBubbleCount)))if("longpress"===d.gesture)"start"===b.state&&(b.state="end",b.listener(h,b));else if(!(d.cancel||r.getTime()-m>d.timeout)){var f=d.gestureFingers;d.minFingers<=f&&d.maxFingers>=f&&(b.state="tap",b.fingers=d.gestureFingers,b.listener(h,b))}};d._pointerDown=r.add(d.target,"mousedown",d.onPointerDown);var b=g.Pointer(d);
return b};r.register("tap");r.register("longpress")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={});g.hover=function(d){d.gesture=d.gesture||"hover";d.maxFingers=d.maxFingers||d.fingers||1;d.delay=d.delay||150;d.interval=d.interval||30;d.timeout=d.timeout||1E4;var m,q,b=0;d.onPointerOver=function(f){g.isPointerStart(f,h,d)&&(d._pointerOut=r.add(d.target,"mouseout",d.onPointerOut),clearTimeout(m),clearInterval(q),m=setTimeout(function(){q=setInterval(function(){var a=r.getTime()-h.startTime;a>d.timeout?(clearTimeout(m),clearInterval(q)):(h.state="hover",h.iterate=
b++,h.lapse=a,h.listener(f,h))},d.interval)},d.delay))};d.onPointerOut=function(f){g.isPointerEnd(f,h,d)&&(d._pointerOut.remove(),clearTimeout(m),clearInterval(q))};d._pointerOver=r.add(d.target,"mouseover",d.onPointerOver);var h=g.Pointer(d);return h};r.register("hover")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={});g.wheelPreventElasticBounce=function(d){d&&("string"===typeof d&&(d=document.querySelector(d)),r.add(d,"wheel",function(m,d){d.preventElasticBounce(m);r.stop(m)}))};g.wheel=function(d){var m,q=d.timeout||150,b=0,h={gesture:"wheel",state:"start",wheelDelta:0,target:d.target,listener:d.listener,preventElasticBounce:function(a){var c=this.target,e=c.scrollTop;e+c.offsetHeight===c.scrollHeight&&0>=this.wheelDelta?r.cancel(a):0===e&&0<=this.wheelDelta&&r.cancel(a);
r.stop(a)},add:function(){d.target[a](l,f,!1)},remove:function(){d.target[c](l,f,!1)}},f=function(a){a=a||window.event;h.state=b++?"change":"start";h.wheelDelta=a.detail?-20*a.detail:a.wheelDelta;h.listener(a,h);clearTimeout(m);m=setTimeout(function(){b=0;h.state="end";h.wheelDelta=0;h.listener(a,h)},q)},a=document.addEventListener?"addEventListener":"attachEvent",c=document.removeEventListener?"removeEventListener":"detachEvent",l=r.detectEvent("mousewheel")?"mousewheel":"DOMMouseScroll";d.target[a](l,
f,!1);return h};r.register("wheel")})(eventjs);
(function(r){r.elementsFromEvent=function(d,m){var q=r.getClientXY(d);return r.elementsFromPoint(q.x,q.y,m)};var g=r.elementsFromPoint=function(d,m,q,b,h){if(q)var f=q.ownerDocument;else f=document,q=f.getElementsByTagName("html")[0];if(f=f.elementFromPoint(d,m)){var a="pointerEvents",c=f.style[a];if(b===f)if("pointerEvents"===a&&"none"===c)a="display",c=h;else return console.warn("this should not happen",f),[];if(f===q||"HTML"===f.nodeName)return[f];f.style[a]="none";d=g(d,m,q,f,c);d=[f].concat(d);
f.style[a]=c;return d}return[]}})(eventjs);
(function(r){var g=r.proxy;(r.keyTrackerReset=function(){r.fnKey=g.fnKey=!1;r.metaKey=g.metaKey=!1;r.escKey=g.escKey=!1;r.ctrlKey=g.ctrlKey=!1;r.shiftKey=g.shiftKey=!1;r.altKey=g.altKey=!1})();var d=r.keys={};r.keyTracker=function(f){var a="keydown"===f.type,c=f.keyCode;27===c&&(r.escKey=g.escKey=a);h[c]&&(r.metaKey=g.metaKey=a);r.ctrlKey=g.ctrlKey=f.ctrlKey;r.shiftKey=g.shiftKey=f.shiftKey;r.altKey=g.altKey=f.altKey;a?d[c]?(d[c]="press",f.state="press"):(d[c]="down",f.state="down"):(d[c]=!1,f.state=
"up")};r.getKeyID=function(f){return m[f.keyCode]||""};var m=r.fromKeyCode={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"PauseBreak",20:"CapsLock",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",
86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"LeftWindow",92:"RightWindow",93:"Select",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"Multiply",107:"Add",109:"Subtract",110:"DecimalPoint",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",
221:"]",222:"'"},q=navigator.userAgent.toLowerCase(),b=-1!==q.indexOf("macintosh"),h;(function(){b&&-1!==q.indexOf("khtml")?h={91:!0,93:!0}:b&&-1!==q.indexOf("firefox")?(h={224:!0},m[173]=m[189],delete m[189],m[61]=m[187],delete m[187],m[59]=m[186],delete m[186]):h={17:!0};for(var f in h)m[f]="Meta"})();(function(){r.toKeyCode={};for(var f in m)r.toKeyCode[m[f]]=f})()})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(r){var g=r.proxy||(r.proxy={});g.ambiguous=function(d){var m=d.target,q=d.ondrag,b=d.ongesture,h=function(){var a="pointerId pointerType pointerDown pointerDrag pointerEnd pointerMove pointerStart pointerUp identifier fingers state x y".split(" ");return function(c,e){e=e||{};for(var p=0,k=a.length;p<k;p++){var l=a[p];e[l]=c[l]}return e}}();if(r.supports.touch){var f=[],a={};d=r.wrapBatch(a);d.target=m;d.gesture="ambiguous";a.drag=eventjs.add({target:m,type:"drag",monitor:q.monitor,maxFingers:q.maxFingers,
listener:function(l,b){b.pointerStart&&(f=[]);if(a.gesture.attached)if(7<=b.distanceMoved()||b.pointerEnd){a.gesture.remove();b.listener=c(q.listener);if(f.length){for(var e=h(b),p=0,k=f.length;p<k;p++){var v=f[p];b.listener(v.event,h(v.self,b))}h(e,b)}b.listener(l,b)}else f.push({event:l,self:h(b)});b.pointerEnd&&a.gesture.add()}});a.drag.proxy=function(l){var f=a.drag;(f.listener=c(l))(f.event,f)};var c=function(c){return function(l,e){c(l,e);e.pointerEnd&&a.gesture.add()}};a.gesture=eventjs.add({target:m,
type:"gesture",maxFingers:b.maxFingers,listener:function(c,l){l.pointerStart?a.drag.remove():l.pointerEnd&&a.drag.add();b.listener(c,l)}});return d}for(var l in q)d[l]=q[l];return g.drag(d)};r.register("ambiguous")})(eventjs);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.DOMMisc=function(g){var d=g.util||(g.util={});d.inherits=function(m,d){function b(){}b.prototype=d.prototype;m.prototype=new b;m.prototype.constructor=m};d.errorHandler=function(m){return function(){console.warn(m,arguments)}};d.requestKioskMode=function(){g.client.nodewebkit&&require("nw.gui").Window.get().enterKioskMode()};d.diff=function(m,q,b){if(m!==q){var h=new m.constructor,f=new q.constructor,a=!0,c;for(c in m)if(b&&-1!==b.indexOf(c))h[c]=m[c],f[c]=
q[c];else if(!(c in q))a=!1,h[c]=m[c],f[c]=q[c];else if(m[c]!==q[c])if("object"===typeof m[c]&&"object"===typeof q[c]){var l=d.diff(m[c],q[c],b);void 0!==l&&(a=!1,h[c]=l.from,f[c]=l.to)}else a=!1,h[c]=m[c],f[c]=q[c];for(c in q)c in m||(a=!1,h[c]=m[c],f[c]=q[c]);if(!a)return{from:h,to:f}}};d.sort=function(m){var q=d.sort[m.fn]||m.fn,b=m.data||m,h=m.param,f;Array.isArray(b)?f=h?b.sort(function(a,c){return q(a[h],c[h])}):b.sort(q):(f={},Object.keys(b).sort(q).forEach(function(a){f[a]=b[a]}));return f};
d.sort.numeric=function(m,d){return m-d};d.sort.natural=function(m,d){var b=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,h=/(^[ ]*|[ ]*$)/g,f=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,c=/^0/,l=m.toString().replace(h,"")||"",A=d.toString().replace(h,"")||"",h=l.replace(b,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),b=A.replace(b,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,
"").split("\x00"),l=parseInt(l.match(a))||1!=h.length&&l.match(f)&&Date.parse(l);if(f=parseInt(A.match(a))||l&&A.match(f)&&Date.parse(A)||null){if(l<f)return-1;if(l>f)return 1}f=0;for(a=Math.max(h.length,b.length);f<a;f++){l=!(h[f]||"").match(c)&&parseFloat(h[f])||h[f]||0;A=!(b[f]||"").match(c)&&parseFloat(b[f])||b[f]||0;if(isNaN(l)!==isNaN(A))return isNaN(l)?1:-1;typeof l!==typeof A&&(l+="",A+="");if(l<A)return-1;if(l>A)return 1}return 0};d.getItems=function(m,q){var b=m.length,h={};d.each(m,function(f){d.getItem(f,
function(a){h[f]=a;--b||q(h)})})};d.getItem=function(m,q){q=q||function(f){console.log(f)};var b=function(f){if(f)try{f=JSON.parse(f)}catch(a){}q(f)};if(d.exists("chrome.storage.local"))chrome.storage.local.get(m,function(f){b(f[m])});else{var h=localStorage.getItem((g.feature&&g.feature.prefix||"")+"/"+m)||"";b(h)}};d.setItem=function(m,q){if(d.exists("chrome.storage.local")){var b={};b[m]=q;chrome.storage.local.set(b)}else localStorage.setItem((g.feature&&g.feature.prefix||"")+"/"+m,q)};d.json=
{};d.json.pretty=function(m){return JSON.stringify(m,null,"\t")};d.json.stringify=function(m){return JSON.stringify(m,function(m,b){return"object"===typeof b&&(null===b||b.nodeName||b.tagName)?void 0:b})};d.timestamp=function(){if("object"===typeof window){var m=window.performance;if(m&&m.now)return m.now.bind(m)}return Date.now}();d.perf=function(m,q,b){if(q&&m){for(var h=d.perf(),f=0;f<q;f++)m();console.log(h()+"ms",b||"")}else{var a=d.timestamp();return function(c,l){var f=d.timestamp(),b=Math.round(f-
a);c&&console.log(b+"ms",c);l&&(a=f);return b}}};d.exists=function(m,d){try{for(var b=m.split("."),h=d||window,f=0,a=b.length;f<a;f++){var c=b[f];if(null==h[c])return!1;h=h[c]}return!0}catch(l){return!1}};d.copy=function(){var m="function"===typeof CanvasPattern,d=function(b){if(!b||"object"!==typeof b)return b;if(!(b.nodeType||m&&b instanceof CanvasPattern)){if(b.clone&&"function"===typeof b.clone)return b.clone();if(b.constructor){var h=new b.constructor,f;for(f in b){var a=b[f];h[f]=a&&"object"===
typeof a?d(a):a}return h}}};return d}();d.copyInto=function(){var m=function(d,b,h){h=h||{};if(d&&"object"===typeof d)for(var f in d){var a=b[f],c=d[f],l=h.filter;l&&l(c,a)||(l=typeof c,c&&"object"===l?c.nodeType?h.referenceNodes&&(b[f]=c):b[f]=typeof a===l?m(c,a,h):m(c,new c.constructor,h):b[f]=c)}return b};return m}();d.count=function(m,d,b){if(m){if(isFinite(m.length))return m.length;if("object"===typeof m){var h=0,f=void 0!==d;if(f&&void 0!==b)for(var a in m)m[a]&&m[a][d]===b&&++h;else if(f)for(a in m)void 0!==
m[a]&&++h;else for(a in m)++h;return h}}else return 0};d.isEmpty=function(m){if(null==m)return!0;if(0<=m.length)return!m.length;for(var d in m)return!1;return!0};d.isNotEmpty=function(m){return!d.isEmpty(m)};d.clamp=function(m,d,b){return b<m?m:b>d?d:b};d.clampFinite=function(m){var q=d.INFINITY;m>+q&&(m=+q);m<-q&&(m=-q);return m};d.arrayEmpty=function(m){m.splice(0,m.length)};d.arrayIntersects=function(m,d){if(d&&d.some)return d.some(function(b){return-1!==m.indexOf(b)});console.warn("invalid arguments",
arguments)};d.inArray=function(m,d){return-1!==m.indexOf(d)};d.isArray=function(m){if(Array.isArray(m))return!0;if("undefined"!==typeof NodeList)return m instanceof NodeList};d.each=function(m,q){if(d.isArray(m))for(var b=0;b<m.length;b++)q(m[b],b);else for(b in m)q(m[b],b)};d.equals=function(m,q){return"object"===typeof m?"object"===typeof q?d.json.stringify(m)===d.json.stringify(q):!1:m===q};d.objectToArray=function(m){var d=[],b;for(b in m)d.push(m[b]);return d};d.arrayToObject=function(d){for(var q=
{},b=0,h=d.length;b<h;b++)q[d[b]]=!0;return q};d.addFileInput=function(d,q){g.uploader.addFileInput({target:d,onchange:function(b){b.fileInput.value="";b.addMedia({openAsNew:q,self:g.uploader})}})};d.bytesToSize=function(d,q){if(d){q=q||1;var b=Math.floor(Math.log(Math.abs(d))/Math.log(1024));return(d/Math.pow(1024,b)).toFixed(q)+["Bytes","kb","mb","gb","tb"][b]}return"0Bytes"};d.getTimeFormat=function(d,q){d/=1E3;var b=d/3600>>0,h=(d-3600*b)/60>>0,f=d-3600*b-60*h>>0;return q?(10>b&&(b="0"+b),10>
h&&(h="0"+h),10>f&&(f="0"+f),b+":"+h+":"+f):{hours:b,minutes:h,seconds:f}};d.require=function(d){function q(){var a=document.createElement("link");a.href=b;a.setAttribute("type","text/css");a.setAttribute("rel","stylesheet");document.head.appendChild(a)}"string"===typeof d&&(d={url:d});var b=d.url,h=d.type||(-1!==b.indexOf(".css")?"css":"js"),f=d.async||!1,a=d.onsuccess;if("css"===h)f?setTimeout(q,0):q();else{var c=document.createElement("script");c.src=b;c.async=f;if(a){var l=!1;c.onload=c.onreadystatechange=
function(){if(!1===l){var f=c.readyState;if(!f||/loaded|complete/.test(f))l=!0,a(),c.onload=c.onreadystatechange=null}}}document.head.appendChild(c)}};d.isEditingText=function(){var d=document.activeElement;if(!d)return!1;var q=d.nodeName;return"INPUT"===q||"TEXTAREA"===q||"true"===d.contentEditable?d.classList.contains("sk-canvas-dummy")?!1:!0:!1};d.pending=function(d,q){var b=d;return{add:function(h){b+=h||1},next:function(){--b||q&&q()}}};d.throttle=function(d,q,b){b?(clearTimeout(d.throttleId),
d.throttleId=setTimeout(q,b)):(cancelAnimationFrame(d.throttleId),d.throttleId=requestAnimationFrame(q))}};"object"===typeof module&&module.exports?module.exports=r.module.DOMMisc:r.module.DOMMisc(sketch)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.dom=r.dom||{},d=r.util;g.$=function(b,h){return"object"===typeof b?b:(h||document).querySelector(b)};g.$$=function(b,h){return"object"===typeof b?b:(h||document).querySelectorAll(b)};g.create=function(){return function(b,h){if(-1!==b.indexOf("<")){var f=document.createElement("div");f.innerHTML=b.trim();var f=f.childNodes,a=f.length;if(0===a)return;b=1===a?f[0]:f}else-1!==b.indexOf(" ")?b=document.createTextNode(b):(b=b.toLowerCase(),b="canvas"===b?g.Canvas():document.createElement(b));
if(h){var f=b,c;for(c in h)a=h[c],"function"===typeof a&&0===c.indexOf("on")?eventjs.add(f,c,a):f.setAttribute(c,a)}return b}}();g.append=function(b,h,f){b=g.$(b);"string"===typeof h&&(h=g.create(h,f));if(b&&b.appendChild){if(h.item&&h.length)for(var a=h.length;a--;)b.appendChild(h[a]);else b.appendChild(h);return h}console.warn("dom.append",arguments)};g.appendText=function(b,h){(b=g.$(b))&&b.appendChild&&b.appendChild(document.createTextNode(h))};g.Canvas=function(b,h,f){var a;if("undefined"===
typeof document){if(void 0===m)return{ctx:{}};a=new m}else a=document.createElement("canvas"),"function"===typeof FlashCanvas&&(a.onload=r.client.fn.detect);a.ctx=a.getContext(f||"2d");a.width=b||1;a.height=h||1;return a};g.Canvas.resize=function(b,h,f){h&&f?(b.width=h,b.height=f):b.width=b.width};g.Canvas.clear=function(b){b.ctx.clearRect(0,0,b.width,b.height)};g.Context3d=function(b,h){return g.Canvas(b,h,"webgl").ctx};g.Context2d=function(b,h){return g.Canvas(b,h,"2d").ctx};(function(){function b(b,
f){for(var a in f)b.style[a]=f[a]}g.style=function(h,f){if(h=g.$$(h)){1===h.nodeType&&(h=[h]);for(var a=0,c=h.length;a<c;a++)b(h[a],f)}};g.styleSheet=function(h,f){for(var a=document.styleSheets,c=0;c<a.length;c++){var l=a[c].cssRules;if(l)for(var d=0;d<l.length;d++){var t=l[d];h===t.selectorText&&b(t,f)}}}})();g.clone=function(){function b(f,a){"CANVAS"===f.nodeName&&f.getContext("2d").drawImage(a,0,0)}function h(f,a){b(a,f);for(var c=a.childNodes,l=f.childNodes,d=0;d<c.length;d++){var t=c[d],e=
l[d];t&&e&&(b(t,e),t.childNodes.length&&e.childNodes&&h(e,t))}}return function(f,a){var c=f.cloneNode(!0);h(f,c);c.id=a;c.style.position="absolute";c.style.opacity=1;c.style.zIndex=9999999;c.style.display="block";return c}}();g.empty=function(b){"string"===typeof b&&(b=g.$(b));if(b){for(;b.firstChild;)b.removeChild(b.firstChild);return b}return null};g.remove=function(){return function(b){if(b)if(1===b.nodeType)b.parentNode&&b.parentNode.removeChild(b);else if(d.isArray(b))for(var h=0,f=b.length;h<
f;h++){var a=b[h];a.parentNode&&a.parentNode.removeChild(a)}}}();g.measure=function(){function b(b,f){var a=b.getPropertyValue(f),a=parseFloat(a,10);return a===+a?a:0}return function(h,f){f=f||{};"string"===typeof h&&(h=g.$(h));if(!(h=h||this.selection&&this.selection[0]))return{width:0,height:0};if(h===window||h===document)h=document.body;var a={},c=h.getBoundingClientRect();a.x1=c.left;a.y1=c.top;a.scrollLeft=0;a.scrollTop=0;!0===f.sansScale?(a.width=h.offsetWidth,a.height=h.offsetHeight):(a.width=
c.width,a.height=c.height,a.scaleX=c.width/h.offsetWidth||1,a.scaleY=c.height/h.offsetHeight||1);c=window.getComputedStyle(h);if(!0!==f.sansBorder){var l=b(c,"border-left-width"),d=b(c,"border-right-width"),t=b(c,"border-bottom-width"),e=b(c,"border-top-width");a.border={top:e,right:d,bottom:t,left:l};a.x1+=l;a.y1+=e;a.width-=d+l;a.height-=t+e}!0!==f.sansMargin&&(l=b(c,"margin-left"),d=b(c,"margin-right"),t=b(c,"margin-bottom"),e=b(c,"margin-top"),a.margin={top:e,right:d,bottom:t,left:l},a.x1-=l,
a.y1-=e,a.width+=d+l,a.height+=t+e);!0!==f.sansPadding&&(l=b(c,"padding-left"),d=b(c,"padding-right"),t=b(c,"padding-bottom"),e=b(c,"padding-top"),a.padding={top:e,right:d,bottom:t,left:l});a.x2=a.x1+a.width;a.y2=a.y1+a.height;a.position=c.getPropertyValue("position");for(l=h;null!==l&&l!==document.body&&void 0!==l.scrollTop;){c=getComputedStyle(l);c=c.getPropertyValue("position");if("absolute"!==c)if("fixed"===c){a.scrollTop=l.scrollLeft;a.scrollLeft=l.scrollTop;break}else a.scrollLeft+=l.scrollLeft,
a.scrollTop+=l.scrollTop;l=l.parentNode}eventjs.getDocumentScroll(a);a.scrollLeft-=a.pageXOffset;a.scrollTop-=a.pageYOffset;return a}}();g.setClass=function(){function b(b,f){"function"===typeof b&&(f?setTimeout(b,f):b())}return function(h){if(h&&h.target)var f=h.target,a=h.className,c=h.on,l=h.list,d=h.delay,t=h.callback;else f=arguments[0],a=arguments[1],c=arguments[2],l=arguments[3];void 0===c&&(c=!0);"string"===typeof f&&(f=g.$(f));if(f&&a)if(f.length){for(l=0;l<f.length;l++){var e=f[l].classList;
e&&(c?e.add(a):e.remove(a))}b(t,d)}else{if("string"===typeof l)if(f.parentNode)l=g.$$(l,f.parentNode);else{console.warn("setClass",h);return}l&&l.length||(l=[f]);for(var e=f.classList,f="toggle"===c&&e.contains(a),p=0,k=l.length;p<k;p++){var v=l[p].classList;v&&v.remove(a)}if(e){if(!1===c||f)return b(t,d),!1;e.add(a);b(t,d);return!0}}else console.warn("setClass",arguments)}}();g.addClass=function(b,h){if((b=g.$(b))&&h)switch(typeof h){case "string":b.classList.add(h);break;case "object":d.each(h,
function(f){b.classList.add(f)})}};g.strip_html=function(){if("undefined"!==typeof document){var b=document.createElement("span");return function(h){b.innerHTML=h;return b.innerText}}}();g.getCoordinateAt=function(){function b(a,e,p,k){k=k||{x:0,y:0};var v=parseInt(c[a]||a)/100;e=parseInt(c[e]||e)/100;l[a]?(k.x+=h(p.x1,p.x2,v),k.y+=h(p.y1,p.y2,e)):(k.x+=h(p.x1,p.x2,e),k.y+=h(p.y1,p.y2,v));return k}function h(a,e,p){return(e-a)*p+a}function f(a){return"string"===typeof a?(a=a.split(" "),{x:parseFloat(a[0]),
y:parseFloat(a[1])}):a}var a={sansBorder:!0,sansMargin:!0},c={top:"0%",left:"0%",center:"50%",bottom:"100%",right:"100%"},l={left:"x2",right:"x1"},d={top:"bottom",left:"right",right:"left",bottom:"top"};return function(c){c=c||{};var e=g.$(c.element),p;c=c.at||{};p=isFinite(c.x+c.y)?{point:c}:"string"===typeof c||c instanceof Node?{align:"top left",element:c}:c;var k;c=p.align||"";"string"===typeof c?(c=-1!==c.indexOf(" to ")?c.replace(" to "," ").split(" "):c.split(" "),k={edge:c[0],position:c[1],
toEdge:c[2],toPosition:c[3]}):k=c||{};c=f(p.offset||{x:0,y:0});var v=f(p.point),z=g.$(p.element);p=k.edge||"left";var s=k.position||"top",h=k.toEdge||d[k.edge];k=k.toPosition||"center";if(z||v){if(z){e?(e.style.display="block",e=g.measure(e,a)):e={width:0,height:0};var m=g.measure(z,a),m=b(h,k,m),e=b(p,s,{x1:0,y1:0,x2:e.width,y2:e.height});m.x-=e.x;m.y-=e.y}else v&&(m={x:0,y:0},m.x+=v.x||0,m.y+=v.y||0);l[p]?(m.x+=c.x*("right"===p?-1:1),m.y+=c.y*("bottom"===s?-1:1)):(m.x+=c.x*("right"===s?-1:1),m.y+=
c.y*("bottom"===p?-1:1));return m}}}();if("object"===typeof module&&module.exports){try{var m=require("canvas")}catch(q){}module.exports=g}})(sketch);
(function(r){var g=r.dom=r.dom||{},d=r.util,m={fadeout:{keyframes:[{opacity:1},{opacity:0}],timing:{ease:"ease-out",duration:250,iterations:1}},fadein:{keyframes:[{opacity:0},{opacity:1}],timing:{ease:"ease-out",duration:250,iterations:1}},zoomout:{keyframes:[{transform:"scale(1)"},{transform:"scale(0)"}],timing:{ease:"ease-out",duration:250,iterations:1}},radar:{keyframes:[{offset:0,opacity:0,transform:"scale(1)"},{offset:.01,opacity:.35,transform:"scale(1)"},{offset:.8,opacity:0,transform:"scale(1.1)"},
{offset:1,opacity:0,transform:"scale(1.1)"}],timing:{duration:1250,iterations:Infinity}},pulse:{keyframes:[{transform:"scale(1)"},{transform:"scale(1.1)"},{transform:"scale(1)"}],timing:{duration:250,iterations:1}}};m.heartbeat=d.copyInto({timing:{iterations:2}},d.copy(m.pulse));var q=function(b,h,f){f[b]=function(){h[b].call(h,arguments)}};g.animate=function(b,h){"string"===typeof h&&(h={name:h});var f={},a=m[h.name],c=d.copy(a.keyframes),l=d.copy(a.timing),A;for(A in h)l[A]=h[A];requestAnimationFrame(function(){var a=
b.animate(c,l);a.onfinish=h.onfinish;for(var e in a)q(e,a,f)});return f}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(f){f=f.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/);if("data:"===f[1]||"blob:"===f[1]||"filesystem:"===f[1])return!0}var d=r.util||(r.util={}),m=!!("crossOrigin"in document.createElement("img")),q="undefined"!==typeof window&&"FormData"in window,b={};d.loadImage=function(f){function a(){d.request({url:l,responseType:"blob",onprogress:e,onerror:function(k){c(3);b[v.host]=3},onsuccess:function(k,e){e&&(l=URL.createObjectURL(e),c(0),b[v.host]=m?1:0)}})}function c(c){t.onload=p;
t.onerror=k;t.onprogress=e;switch(c){case 0:t.src=l;break;case 1:t.crossOrigin="anonymous";t.src=l;break;case 2:a();break;case 3:d.loadImage.proxyUrl?t.src=d.loadImage.proxyUrl+escape(l):console.log("proxy not setup")}return t}"string"===typeof f&&(f={src:f});if("undefined"===typeof f.src)return console.warn("loadImage",arguments);var l=f.src,A=!1!==f.cors,t=f.image||document.createElement("img"),e=f.onprogress,p=f.onsuccess,k=f.onerror,v=document.createElement("a");v.href=l;var z;if(z=e)z=g(l)?!1:
q;if(z)return c(2);if(!1===A||h(l,!0))return c(0);A=b[v.host];return"undefined"!==typeof A?c(A):m?c(1):q?a():c(3)};var h=function(){var f=/^([!#$&-;=?-\[\]_a-z~ ]|%[0-9a-fA-F]{2}|)+$/,a=/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/,c={"http:":/:(80)?$/,"https:":/:(443)?$/},l={"data:":!0,"blob:":!0,filesystem:!0};return function(b,h){if("string"===typeof b){var e=b.match(a);return h&&l[e[1]]?!0:e[1]&&e[1].toLowerCase()!==location.protocol||e[2]&&e[2].replace(c[location.protocol],"")!==location.host||e[1]&&!e[2]?
!1:f.test(b)}console.error(b)}}();"object"===typeof module&&module.exports&&(module.exports=r.util.loadImage)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g={},d={};(r.util||(r.util={})).loadScript=function(d){"string"===typeof d&&(d={url:d});m(d);return this};var m=function(m){var b=m.urls;"undefined"===typeof b&&(b=[{url:m.url,verify:m.verify}]);var h=document.getElementsByTagName("head")[0],f=function(k,e){if(!(g[k.url]||e&&"undefined"===typeof window[e])){g[k.url]=!0;if(d[k.url])d[k.url]();delete d[k.url];k.callback&&k.callback();"undefined"!==typeof p&&p()}},a=!1,c=[],l=function(k){"string"===typeof k&&(k={url:k,verify:m.verify});
if(/([\w\d.])$/.test(k.verify)){var e=k.test=k.verify;if("object"===typeof e)for(var p=0;p<e.length;p++)c.push(e[p]);else c.push(e)}g[k.url]||(e=document.createElement("script"),e.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||f(k)},e.onload=function(){f(k)},e.onerror=function(e){a=!0;delete d[k.url];if("object"===typeof k.test)for(var p in k.test)A(k.test[p]);else A(k.test)},e.setAttribute("type","text/javascript"),e.setAttribute("src",k.url),h.appendChild(e),
d[k.url]=function(){})},A=function(k){for(var e=[],p=0;p<c.length;p++)c[p]!==k&&e.push(c[p]);c=e},t=function(k){if(k)f(k,k.test);else for(var e=0;e<b.length;e++)f(b[e],b[e].test);for(var p=!0,e=0;e<c.length;e++){var l=c[e];if(l&&-1!==l.indexOf(".")){var l=l.split("."),h=window[l[0]];"undefined"!==typeof h&&(2===l.length?"undefined"===typeof h[l[1]]&&(p=!1):3===l.length&&"undefined"===typeof h[l[1]][l[2]]&&(p=!1))}else"undefined"===typeof window[l]&&(p=!1)}!m.strictOrder&&p?a?m.error&&m.error():m.callback&&
m.callback():setTimeout(function(){t(k)},10)};if(m.strictOrder){var e=-1,p=function(){e++;if(b[e]){var k=b[e],c=k.url;d[c]?d[c]=function(){k.callback&&k.callback();p()}:g[c]?p():(l(k),t(k))}else a?m.error&&m.error():m.callback&&m.callback()};p()}else for(e=0;e<b.length;e++)l(b[e]),t(b[e])};"object"===typeof module&&module.exports&&(module.exports=r.util.loadScript)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){(r.util||(r.util={})).request=function(d,m,q,b){"string"===typeof d&&(d={url:d});var h=d.data,f=d.url,a=d.method||(d.data?"POST":"GET"),c=d.format,l=d.headers,A=d.responseType,t=d.withCredentials||!1;b=b||d.onprogress;m=m||d.onsuccess;q=q||d.onerror;if("undefined"!==typeof g&&r.loc.isLocalUrl(f))g.readFile(f,"utf8",function(k,e){k?q&&q(k):m&&m({responseText:e})});else{var e=new XMLHttpRequest;e.open(a,f,!0);if(l)for(var p in l)e.setRequestHeader(p,l[p]);else h&&e.setRequestHeader("Content-type",
"application/x-www-form-urlencoded");A&&(e.responseType=A);t&&(e.withCredentials=!0);q&&"onerror"in e&&(e.onerror=q);b&&e.upload&&"onprogress"in e.upload&&(h?e.upload.onprogress=function(k){b.call(e,k,event.loaded/event.total)}:e.addEventListener("progress",function(k){var p=0;if(k.lengthComputable)p=k.total;else if(e.totalBytes)p=e.totalBytes;else if(p=parseInt(e.getResponseHeader("Content-Length-Raw")),isFinite(p))e.totalBytes=p;else return;b.call(e,k,k.loaded/p)}));e.onreadystatechange=function(k){if(4===
e.readyState)if(200===e.status||304===e.status||308===e.status||0===e.status&&!window.top.cordova){if(m){var p;if("json"===c)try{p=JSON.parse(k.target.response)}catch(a){q&&q.call(e,k)}else p="xml"===c?k.target.responseXML:"text"===c?k.target.responseText:k.target.response;m.call(e,k,p)}}else q&&q.call(e,k)};e.send(h);return e}};if("object"===typeof module&&module.exports){var g=require("fs");XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest;module.exports=r.util.request}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){(r.dom||(r.dom={})).scrollTo=function(d){d=d||{};var m=d.callback,q=d.target,b=d.top===+d.top?d.top:null,h=d.left===+d.left?d.left:null,f=d.duration===Math.abs(d.duration)?d.duration:250,a=d.relative||!1,c=q.scrollTop;d=q.scrollLeft;var b=b===+b?a?c+b:b:c,h=h===+h?a?d+h:h:d,l=Math.abs(c-b),a=Math.abs(d-h);if(0===f||50>Math.max(a,l))q.scrollLeft=h,q.scrollTop=b;else{f/=25;b=l/25*(b>c?1:-1);h=a/25*(h>d?1:-1);for(l=a=0;25>=l;l++)g(q,c,d,a*f),d+=h,c+=b,a++;m&&setTimeout(m,a*f)}};var g=function(d,
m,g,b){setTimeout(function(){d.scrollTop=m+.5>>0;d.scrollLeft=g+.5>>0},b)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.FiniteMath=function(g){var d=g.util||(g.util={});d.ZERO=1E-10;d.RAD_DEG=180/Math.PI;d.DEG_RAD=1/d.RAD_DEG;d.INFINITY=4294967295;d.INFINITY_MINUS_24bit=4278190080;d.INFINITY_MINUS_16bit=4294901760;d.INFINITY_MINUS_8bit=4294967040;d.Random=function(m){m=isFinite(m)?m:d.Random.seed();this.toInt=function(){return m=16807*m%2147483647};this.toDouble=function(){m=16807*m%2147483647;return m/2147483647};this.intRange=function(d,b){d-=.4999;m=16807*m%2147483647;
return Math.round(d+m/2147483647*(b+.4999-d))};this.doubleRange=function(d,b){m=16807*m%2147483647;return d+m/2147483647*(b-d)}};d.Random.seed=function(){return 2147483648*Math.random()>>0};d.getScreenMetrics=function(){if("undefined"===typeof document)return{};var m=function(a){try{b.style.fontSize=a}catch(c){b.style.fontSize=""}return b.offsetHeight/1E4},g=document.createElement("div");g.style.cssText="position: relative; width: 1px; height: 1px; overflow: scroll;";var b=document.createElement("div");
b.style.cssText="position: absolute; width: 100em; height: 10000em; overflow: hidden;";g.appendChild(b);document.body.appendChild(g);for(var h="normal xx-small x-small small medium large x-large xx-large".split(" "),f={},a=0;a<h.length;a++)f[h[a]+"_px"]=m(h[a]);f["%>px"]=m("100%")/100;f["px>pt"]=1/m("1pt");f["pt>pc"]=1/12;f["px>in"]=1/m("72pt");f["in>ft"]=1/12;f["ft>yd"]=1/3;f["px>mm"]=25.4*f["px>in"];f["mm>cm"]=.1;f["cm>m"]=.01;f["px>ex"]=1/m("1ex");f["ex>em"]=1/f["px>ex"]/m("1em");f["px>px"]=1;
document.body.removeChild(g);var c=function(a,f,b,e){for(var p in f)"object"===typeof(e=f[p])?c(a,e,p):(b&&(a["px>"+p]=a["px>"+b]*a[b+">"+p],a[b+">"+e]=a[b+">"+p]*a[p+">"+e],a[b+">px"]=1/a["px>"+b],a[e+">"+b]=1/a[p+">"+e]*1/a[b+">"+p],a[p+">"+b]=1/a[b+">"+p]),a["px>"+e]=a["px>"+p]*a[p+">"+e],a[p+">px"]=1/a["px>"+p],a[e+">px"]=1/a["px>"+p]*1/a[p+">"+e],a[e+">"+p]=1/a[p+">"+e])};c(f,{pt:"pc",mm:{cm:"m"},"in":{ft:"yd"},ex:"em"});return d.toMetric=f};d.hash=function(d){if(d){for(var g=5381,b=0,h=d.length;b<
h;b++)var f=d[b].charCodeAt(),g=(g<<5)+g+f;return g}return 0};d.getRandomID=function(d){d=d||8;for(var g=["a","e","i","o","u"],b="bcdfghjklmnpqrstvwxyz".split(""),h="",f=0;f<d;f++)h=0==f%2?h+g[4*Math.random()>>0]:h+b[20*Math.random()>>0];return h};d.uuid=function(){for(var d=Date.now(),g=0,b="";36>g;g++){var h="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[g];if("-"===h||"4"===h)b+=h;else var f=d*Math.random()*16%16|0,b=b+("x"===h?f:f&3|8).toString(16)}return b};(function(){var m=/inherit/,g=d.arrayToObject([0,
1,2,3,4,5,6,7,8,9,"."]),b=d.arrayToObject(["-","+","*","/"]),h=/(\d+)%/,f=/(\d+)px/g,a=/\((.*)\)/,c=function(l){l=l.replace(a,function(k){return c(k.slice(1,-1))});for(var f=[l[0]],h=[],e=0,p=l.length,k=1;k<p;k++){var v=l[k];" "!==v&&(g[v]||!f[e]?f[e]+=v:b[f[e]]?f[e]="":(h[e]=v,f[++e]=""))}l=parseFloat(f[0]);for(k=0;k<h.length;k++)switch(e=parseFloat(f[k+1]),h[k]){case "+":l+=e;break;case "-":l-=e;break;case "*":l*=e;break;case "/":l/=e}return l};d.parseMath=function(a,b){a=a.replace(f,"$1");b&&(b.inherit&&
(a=a.replace(m,b.inherit)),b.percent&&(a=a.replace(h,function(a){return b.percent*(parseFloat(a)/100)})));return c(a)}})()};"object"===typeof module&&module.exports?module.exports=r.module.FiniteMath:r.module.FiniteMath(r)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r=r.util||(r.util={});var g=r.string||(r.string={});r.version=function(d,b){function h(f,a){a=a||4;f=f.split(".").map(function(a){var c=parseInt(a);return(a=a.replace(c,""))?c+a[0].charCodeAt()/255:c});for(var c=0,l=0;l<f.length&&a!==l;++l)c+=f[l]/255*Math.pow(255,a-l+1);return c}this.value=d;this.hash=h(d,b);this.isGreaterThan=function(f,a){return h(d,a)>h(f,a)};this.isLessThan=function(f,a){return h(d,a)<h(f,a)}};var d=g.rxSplitByUppercase=/([A-Z]?[^A-Z]*)/g,m=g.rxAlphaNumeric=/[^A-Z0-9]+/gi;
g.rxFile=/[^\w\s-.]+/g;g.rxNumeric=/^-?\d*[\.]?\d+$/;g.invalid=function(d,b){return!!(d||"").match(g[b])};g.toAlphaNumeric=function(d){return(d||"").replace(m,"")};g.spaceCamelCase=function(m){return(m||"").match(d).slice(0,-1).join(" ")};g.replaceAll=function(d,b,h){return(d||"").split(b).join(h)};g.lcfirst=function(d){d=d||"";return d[0]?d[0].toLowerCase()+d.substr(1):d};g.ucfirst=function(d){d=d||"";return d[0]?d[0].toUpperCase()+d.substr(1):d};g.ucwords=function(d){return(d||"").replace(/^(.)|\s(.)/g,
function(b){return b.toUpperCase()})};g.addslashes=function(d){return d.replace(/([\\"'])/g,"\\$1").replace(/\0/g,"\\0")};g.stripslashes=function(d){return d.replace(/\0/g,"0").replace(/\\([\\'"])/g,"$1")};g.dirparent=function(d){return g.dirpath(d.replace(/\/+$/,""))};g.dirpath=function(d){return d.replace(/([^:]\/)\/+/g,"$1").replace(/\/[^\/]*$/,"")};g.dirname=function(d){return g.filename(g.dirpath(d))};g.filename=function(d){return(d||"").replace(/^.*[\\\/]/,"")};g.filenameSansExtension=function(d){return g.filename(d).split(".").shift()};
g.extension=function(d){return(d||"").split(".").pop().toLowerCase()};g.lpad=function(d,b,h){for(;d.length<h;)d=b+d;return d};g.rpad=function(d,b,h){for(;d.length<h;)d+=b;return d};g.hellip=function(d,b){return d<=b?d:d.substr(0,b-3)+String.fromCharCode(8230)};g.encodeURL=function(d){return encodeURIComponent(d)};g.decodeURL=function(d){return decodeURIComponent(d)};g.encodeUTF8=function(d){return unescape(encodeURIComponent(d))};g.decodeUTF8=function(d){return decodeURIComponent(escape(d))};g.enquote=
function(d){return"&ldquo;"+d+"&rdquo;"};(function(){var d=String.prototype;if(!("trim"in d)){var b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;d.trim=function(h){return this.replace(b,"")}}"startsWith"in d||(d.startsWith=function(b,f){f=f||0;return this.lastIndexOf(b,f)===f});"includes"in d||(d.includes=function(){return-1!==d.indexOf.apply(this,arguments)})})();"object"===typeof module&&module.exports&&(module.exports=g)})(sketch);
(function(r){var g=(r.util||(r.util={})).FileInfo=function(){function d(b){console.warn("could not detect format",b)}function m(b){var f=b.toLowerCase().split(".").pop();if(q[f])return q[f];if(g.isSVGString(b))return q.svg}var q=function(){var b={bmp:{mime:"image/bmp",type:"image"},gif:{mime:"image/gif",type:"image"},icns:{mime:"image/icns",type:"image"},ico:{mime:"image/x-icon",type:"image"},jpeg:{mime:"image/jpg",type:"image"},jpg:{mime:"image/jpg",type:"image"},png:{mime:"image/png",type:"image"},
tiff:{mime:"image/tiff",type:"image"},webp:{mime:"image/webp",type:"image"},aiff:{mime:"audio/aiff",type:"audio"},mid:{mime:"audio/mid",type:"audio"},mp3:{mime:"audio/mpeg",type:"audio"},ogg:{mime:"audio/ogg",type:"audio"},wav:{mime:"audio/wav",type:"audio"},mp4:{mime:"video/mp4",type:"video"},mpeg:{mime:"video/mpeg",type:"video"},webm:{mime:"video/webm",type:"video"},svg:{mime:"image/svg-xml",type:"clipart"},eot:{mime:"application/vnd.ms-fontobject",type:"font"},otf:{mime:"application/font-sfnt",
type:"font"},ttf:{mime:"application/font-sfnt",type:"font"},woff:{mime:"application/font-woff",type:"font"},woff2:{mime:"application/font-woff",type:"font"},pdf:{mime:"application/pdf",type:"package"},ps:{mime:"application/postscript",type:"package"},psd:{mime:"image/vnd.adobe.photoshop",type:"package"},rtf:{mime:"application/rtf",type:"package"},zip:{mime:"application/zip",type:"package"}},f;for(f in b)b[f].extension=f;return b}(),b={"424d":"bmp",47494638:"gif","69636e73":"icns","00000100":"ico",
ffd8ff:"jpg","89504e47":"png","4d4d002a":"tiff","49492a00":"tiff",57454250:"webp","464f524d":"aiff","4d546864":"mid",fffb:"mp3",494433:"mp3","4f676753":"ogg",52494646:"wav","000001b3":"mpeg","000001ba":"mpeg","1a45dfa3":"webm","4c50":"eot","00010000":"ttf",74727565:"ttf","4f54544f":"otf","774f4646":"woff","774f4646":"woff","774f4632":"woff2",25504446:"pdf",25215053:"ps",38425053:"psd","7b5c7274":"rtf","504b0304":"zip","504b0506":"zip","504b0708":"zip"};return function(h,f,a){if("string"===typeof h){var c=
m(h);c?f(c):(f(q.png),d(h))}else if(g.isBlob(h)){var c=h.slice(0,4),l=new FileReader;l.onload=function(c){var t;a:{c=new Uint8Array(l.result);for(var e="",p=0;p<c.length;p++)e+=c[p].toString(16);c=e;for(t in b)if(t===c.slice(0,t.length)){t=q[b[t]];break a}t=void 0}t?f(t):(a&&a(),d(h))};l.readAsArrayBuffer(c)}else a&&a(),d(h)}}();g.isBlob=function(d){var m=Object.prototype.toString.call(d);d=3<d.size;return("[object Blob]"===m||"[object File]"===m)&&d};g.isSVGString=function(d){return d.startsWith("data:image/svg")||
d.startsWith("<?xml")||d.startsWith("<svg")}})(sketch);
(function(r){"object"===typeof exports?module.exports=r():"function"===typeof define&&define.amd?define(r):(sketch.util=sketch.util||{},sketch.util.MD5=r().hash)})(function(){var r=function(a,e){return a+e&4294967295},g=function(a,e,p,k,c,l){e=r(r(e,a),r(k,l));return r(e<<c|e>>>32-c,p)},d=function(a,e,p,k,c,l,f){return g(e&p|~e&k,a,e,c,l,f)},m=function(a,e,p,k,c,l,f){return g(e&k|p&~k,a,e,c,l,f)},q=function(a,e,p,k,c,l,f){return g(p^(e|~k),a,e,c,l,f)},b=function(a,e){var p=a[0],k=a[1],c=a[2],l=a[3],
p=d(p,k,c,l,e[0],7,-680876936),l=d(l,p,k,c,e[1],12,-389564586),c=d(c,l,p,k,e[2],17,606105819),k=d(k,c,l,p,e[3],22,-1044525330),p=d(p,k,c,l,e[4],7,-176418897),l=d(l,p,k,c,e[5],12,1200080426),c=d(c,l,p,k,e[6],17,-1473231341),k=d(k,c,l,p,e[7],22,-45705983),p=d(p,k,c,l,e[8],7,1770035416),l=d(l,p,k,c,e[9],12,-1958414417),c=d(c,l,p,k,e[10],17,-42063),k=d(k,c,l,p,e[11],22,-1990404162),p=d(p,k,c,l,e[12],7,1804603682),l=d(l,p,k,c,e[13],12,-40341101),c=d(c,l,p,k,e[14],17,-1502002290),k=d(k,c,l,p,e[15],22,1236535329),
p=m(p,k,c,l,e[1],5,-165796510),l=m(l,p,k,c,e[6],9,-1069501632),c=m(c,l,p,k,e[11],14,643717713),k=m(k,c,l,p,e[0],20,-373897302),p=m(p,k,c,l,e[5],5,-701558691),l=m(l,p,k,c,e[10],9,38016083),c=m(c,l,p,k,e[15],14,-660478335),k=m(k,c,l,p,e[4],20,-405537848),p=m(p,k,c,l,e[9],5,568446438),l=m(l,p,k,c,e[14],9,-1019803690),c=m(c,l,p,k,e[3],14,-187363961),k=m(k,c,l,p,e[8],20,1163531501),p=m(p,k,c,l,e[13],5,-1444681467),l=m(l,p,k,c,e[2],9,-51403784),c=m(c,l,p,k,e[7],14,1735328473),k=m(k,c,l,p,e[12],20,-1926607734),
p=g(k^c^l,p,k,e[5],4,-378558),l=g(p^k^c,l,p,e[8],11,-2022574463),c=g(l^p^k,c,l,e[11],16,1839030562),k=g(c^l^p,k,c,e[14],23,-35309556),p=g(k^c^l,p,k,e[1],4,-1530992060),l=g(p^k^c,l,p,e[4],11,1272893353),c=g(l^p^k,c,l,e[7],16,-155497632),k=g(c^l^p,k,c,e[10],23,-1094730640),p=g(k^c^l,p,k,e[13],4,681279174),l=g(p^k^c,l,p,e[0],11,-358537222),c=g(l^p^k,c,l,e[3],16,-722521979),k=g(c^l^p,k,c,e[6],23,76029189),p=g(k^c^l,p,k,e[9],4,-640364487),l=g(p^k^c,l,p,e[12],11,-421815835),c=g(l^p^k,c,l,e[15],16,530742520),
k=g(c^l^p,k,c,e[2],23,-995338651),p=q(p,k,c,l,e[0],6,-198630844),l=q(l,p,k,c,e[7],10,1126891415),c=q(c,l,p,k,e[14],15,-1416354905),k=q(k,c,l,p,e[5],21,-57434055),p=q(p,k,c,l,e[12],6,1700485571),l=q(l,p,k,c,e[3],10,-1894986606),c=q(c,l,p,k,e[10],15,-1051523),k=q(k,c,l,p,e[1],21,-2054922799),p=q(p,k,c,l,e[8],6,1873313359),l=q(l,p,k,c,e[15],10,-30611744),c=q(c,l,p,k,e[6],15,-1560198380),k=q(k,c,l,p,e[13],21,1309151649),p=q(p,k,c,l,e[4],6,-145523070),l=q(l,p,k,c,e[11],10,-1120210379),c=q(c,l,p,k,e[2],
15,718787259),k=q(k,c,l,p,e[9],21,-343485551);a[0]=r(p,a[0]);a[1]=r(k,a[1]);a[2]=r(c,a[2]);a[3]=r(l,a[3])},h=function(a){var e=[],p;for(p=0;64>p;p+=4)e[p>>2]=a.charCodeAt(p)+(a.charCodeAt(p+1)<<8)+(a.charCodeAt(p+2)<<16)+(a.charCodeAt(p+3)<<24);return e},f=function(a){var e=[],p;for(p=0;64>p;p+=4)e[p>>2]=a[p]+(a[p+1]<<8)+(a[p+2]<<16)+(a[p+3]<<24);return e},a=function(a){var e=a.length,p=[1732584193,-271733879,-1732584194,271733878],k,c,l;for(k=64;k<=e;k+=64)b(p,h(a.substring(k-64,k)));a=a.substring(k-
64);c=a.length;l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(k=0;k<c;k+=1)l[k>>2]|=a.charCodeAt(k)<<(k%4<<3);l[k>>2]|=128<<(k%4<<3);if(55<k)for(b(p,l),k=0;16>k;k+=1)l[k]=0;e=(8*e).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(e[2],16);e=parseInt(e[1],16)||0;l[14]=a;l[15]=e;b(p,l);return p},c="0123456789abcdef".split(""),l=function(a){var e;for(e=0;e<a.length;e+=1){for(var p=a,k=e,l=a[e],f="",b=void 0,b=0;4>b;b+=1)f+=c[l>>8*b+4&15]+c[l>>8*b&15];p[k]=f}return a.join("")},A=function(){this.reset()};"5d41402abc4b2a76b9719d911017c592"!==
l(a("hello"))&&(r=function(a,e){var p=(a&65535)+(e&65535);return(a>>16)+(e>>16)+(p>>16)<<16|p&65535});A.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};A.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var e;for(e=64;e<=a;e+=64)b(this._state,h(this._buff.substring(e-64,e)));this._buff=this._buff.substr(e-64);return this};A.prototype.end=function(a){var e=this._buff,p=e.length,
k,c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(k=0;k<p;k+=1)c[k>>2]|=e.charCodeAt(k)<<(k%4<<3);this._finish(c,p);a=a?this._state:l(this._state);this.reset();return a};A.prototype._finish=function(a,e){var p=e,k;a[p>>2]|=128<<(p%4<<3);if(55<p)for(b(this._state,a),p=0;16>p;p+=1)a[p]=0;k=8*this._length;k=k.toString(16).match(/(.*?)(.{0,8})$/);p=parseInt(k[2],16);k=parseInt(k[1],16)||0;a[14]=p;a[15]=k;b(this._state,a)};A.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,
-1732584194,271733878];return this};A.prototype.destroy=function(){delete this._state;delete this._buff;delete this._length};A.hash=function(c,e){/[\u0080-\uFFFF]/.test(c)&&(c=unescape(encodeURIComponent(c)));var p=a(c);return e?p:l(p)};A.hashBinary=function(c,e){var p=a(c);return e?p:l(p)};A.ArrayBuffer=function(){this.reset()};A.ArrayBuffer.prototype.append=function(a){var e=this._concatArrayBuffer(this._buff,a),p=e.length;this._length+=a.byteLength;for(a=64;a<=p;a+=64)b(this._state,f(e.subarray(a-
64,a)));this._buff=a-64<p?e.subarray(a-64):new Uint8Array(0);return this};A.ArrayBuffer.prototype.end=function(a){var e=this._buff,p=e.length,k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c;for(c=0;c<p;c+=1)k[c>>2]|=e[c]<<(c%4<<3);this._finish(k,p);a=a?this._state:l(this._state);this.reset();return a};A.ArrayBuffer.prototype._finish=A.prototype._finish;A.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};
A.ArrayBuffer.prototype.destroy=A.prototype.destroy;A.ArrayBuffer.prototype._concatArrayBuffer=function(a,e){var p=a.length,k=new Uint8Array(p+e.byteLength);k.set(a);k.set(new Uint8Array(e),p);return k};A.ArrayBuffer.hash=function(a,e){var p=new Uint8Array(a),k=p.length,c=[1732584193,-271733879,-1732584194,271733878],h,s,d;for(h=64;h<=k;h+=64)b(c,f(p.subarray(h-64,h)));p=h-64<k?p.subarray(h-64):new Uint8Array(0);s=p.length;d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(h=0;h<s;h+=1)d[h>>2]|=p[h]<<(h%4<<
3);d[h>>2]|=128<<(h%4<<3);if(55<h)for(b(c,d),h=0;16>h;h+=1)d[h]=0;k=(8*k).toString(16).match(/(.*?)(.{0,8})$/);p=parseInt(k[2],16);k=parseInt(k[1],16)||0;d[14]=p;d[15]=k;b(c,d);return e?c:l(c)};return A});"undefined"===typeof sketch&&(sketch={});
(function(r){r=r.util=r.util||{};r.Queue=function(g){var d={},m=g.oncomplete,q=g.onprogress,b=g.oncancel,h=g.next,f=g.range,a=g.items,c=!1!==g.flatten;g=!1!==g.instant;d.cancel=function(){d.canceled||0>=d.remaining||(b&&b(),d.canceled=!0)};d.next=function(){if(!d.canceled&&!d.complete){var a=d.items,f=d.remaining,b=d.length,e=b-f-1,p=d.keys[e];q&&q(b?1-(f+1)/b:1);if(a.length)if(d.remaining--,b=(f="[object Object]"===String(k))&&k.length,c)h.call(d,a.shift(),p,e);else{var k=a[0];f&&!b&&a.shift();f&&
b?h.call(d,k.shift(),p,e):h.call(d,a.shift(),p,e)}else d.complete=!0,m&&m()}};d.reset=function(a){function b(e,a){if(Array.isArray(e)||e instanceof NodeList)for(var k=0;k<e.length;k++)a(k);else for(k in e)a(k)}if(f){a=[];for(var h=f.from;h<=f.to;h++)a.push(h)}d.length=0;d.remaining=-1;d.items=[];d.keys=[];d.complete=!1;d.canceled=!1;b(a,function(e){var p=a[e];if("[object Object]"!==String(p)||c)d.items.push(p),d.keys.push(e),d.length++,d.remaining++;else{var k=[];d.items.push(k);b(p,function(a){k.push(p[a]);
d.keys.push(e);d.length++;d.remaining++})}})};d.reset(a);g?d.next():requestAnimationFrame(function(){d.next()});return d};"object"===typeof module&&module.exports&&(module.exports=r.Queue)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.lang=r.lang||{locales:{en:{}}},d=r.util,m;g.translate=function(f){return f};g.setLocale=function(f,a){f=f||"auto";f=g.getLocale(f);m=m||new q({directory:"./js/lang",extension:".json"});m.setLocale(f,function(c){r.feature.lang=f;a&&a()},function(){g.setLocale("en",a)});g.translate=m.__.bind?m.__.bind(m):function(){return m.__.apply(m,arguments)}};g.getLocale=function(f){"auto"===f&&(f=r.client.lang);return g.available[f]?f:-1!==f.indexOf("-")?g.getLocale(f.split("-")[0]):"en"};
g.getWordCount=function(){var f=0,a;for(a in g.locales.en)f+=d.count(g.locales.en[a].split(" "));console.log(f)};var q=function(f){for(var a in f)this[a]=f[a]};q.localeCache={};q.prototype={defaultLocale:"en",directory:"/locales",extension:".min.json",getLocale:function(){return this.locale},setLocale:function(f,a,c){this.locale=f=(f=f||document.querySelector("html").getAttribute("lang"))||this.defaultLocale;g.locales[f]?(this.setLocaleData(f,g.locales[f]),a&&a()):f in q.localeCache||(this.getLocaleFileFromServer(a,
c),q.localeCache[f]={})},setLocaleData:function(f,a){q.localeCache[f]=a},getLocaleFileFromServer:function(f,a){var c=this.locale;d.request({url:this.directory+"/"+c+this.extension,format:"json",headers:{"Content-Type":"text/plain;charset=UTF-8"},onerror:a,onsuccess:function(a,b){q.localeCache[c]=b;f&&f(b)}})},__:function(){var f=arguments[0],f=q.localeCache[this.locale][f]||f;1<arguments.length&&(f=h(f,Array.prototype.slice.call(arguments,1)));return f},__n:function(f,a){var c=q.localeCache[this.locale][f];
a=parseInt(a,10);c=0===a?c.zero:1<a?c.other:c.one;c=h(c,[a]);2<arguments.length&&(c=h(c,Array.prototype.slice.call(arguments,2)));return c}};var b=d.sprintf=function(f){if("string"!==typeof f)throw"sprintf: The first arguments need to be a valid format string.";for(var a=new RegExp(/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g),c,l=[],b=1;c=a.exec(f);){if(b>=arguments.length&&"%"!==c[8])throw"sprintf: At least one argument was missing.";l[l.length]={begin:c.index,end:c.index+c[0].length,
sign:"+"==c[1],negative:0>parseFloat(arguments[b])?!0:!1,padding:void 0==c[2]?" ":"'"==c[2].substring(0,1)?c[3]:c[2],alignLeft:"-"==c[4],width:void 0!=c[5]?c[5]:!1,precision:void 0!=c[7]?c[7]:!1,type:c[8],data:"%"!=c[8]?String(arguments[b++]):!1}}a="";for(b=c=0;b<l.length;++b){a+=f.substring(c,l[b].begin);c=l[b].end;var h="";switch(l[b].type){case "%":h="%";break;case "b":h=Math.abs(parseInt(l[b].data)).toString(2);break;case "c":h=String.fromCharCode(Math.abs(parseInt(l[b].data)));break;case "d":h=
String(Math.abs(parseInt(l[b].data)));break;case "f":h=!1===l[b].precision?String(Math.abs(parseFloat(l[b].data))):Math.abs(parseFloat(l[b].data)).toFixed(l[b].precision);break;case "o":h=Math.abs(parseInt(l[b].data)).toString(8);break;case "s":h=l[b].data.substring(0,l[b].precision?l[b].precision:l[b].data.length);break;case "x":h=Math.abs(parseInt(l[b].data)).toString(16).toLowerCase();break;case "X":h=Math.abs(parseInt(l[b].data)).toString(16).toUpperCase();break;default:throw"sprintf: Unknown type \u201c"+
l[b].type+"\u201d detected. This should never happen. Maybe the regex is wrong.";}if("%"!=l[b].type){if(!1!=l[b].width&&l[b].width>h.length)for(var e=h.length,p=0;p<l[b].width-e;++p)h=!0==l[b].alignLeft?h+l[b].padding:l[b].padding+h;if("b"==l[b].type||"d"==l[b].type||"o"==l[b].type||"f"==l[b].type||"x"==l[b].type||"X"==l[b].type)!0==l[b].negative?h="-"+h:!0==l[b].sign&&(h="+"+h)}a+=h}return a+=f.substring(c,f.length)},h=d.vsprintf=function(f,a,c){c=a.slice(0);c.splice(0,0,f);return b.apply(null,c)}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.lang=r.lang||{};r.lang.locales=r.lang.locales||{};r.lang.available={de:{en:"German","native":"Deutsch"},en:{en:"English","native":"English"},es:{en:"Spanish","native":"Espa\u00f1ol"},fr:{en:"French","native":"Fran\u00e7ais"},it:{en:"Italian","native":"Italiano"},nl:{en:"Dutch","native":"Nederlands"},pl:{en:"Polish","native":"Polski"},pt:{en:"Portuguese","native":"Portugu\u00eas"},sv:{en:"Swedish","native":"Svenska"},ar:{en:"Arabic","native":"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},ko:{en:"Korean",
"native":"\ud55c\uad6d\uc5b4"},ja:{en:"Japanese","native":"\u65e5\u672c\u8a9e"},ru:{en:"Russian","native":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u042f\u0437\u044b\u043a"},zh:{en:"Chinese","native":"\u4e2d\u6587"}};r.util.copyInto({en:{"about-version":"[?] SketchAPI %s","delete-doc-confirm":"Are you sure?","change-doc-confirm":"Save current image?","select-tool-count":"%s layers selected","select-tool-message":"Use the <span class='icon-select'></span> Select tool to Move, Rotate, Scale, Delete, and reorganize the layers of your design.",
"useMaxCopies-alert":"You can only include %s %s of this clipart.","welcome-to":"Welcome to %s","zoom-tool-message":"Use the <span class='icon-zoom'></span> Zoom tool to fine tune your image.","scissor-tool-message":"Use the <span class='icon-scissors'></span> Scissor tool to slice polygons into pieces by drawing a line through the polygon.",start:"Start","load-fail-restore":"Last time your document did not load properly.<p>Do you want to re-attempt to load your document?","copy-to-clipboard":"Copy to Clipboard",
"could-not-authorize":"%s could not authorize","image-ready-to-share":"Your image is ready to be shared!","share-link-copied":"Share link copied!","still-uploading":"Still uploading to %s","upload-complete":"%s upload complete!","upload-failed":"%s upload failed!","uploading-to":"Uploading to %s","changes-saved":"All changes saved!","upload-invalid":"Invalid format uploaded","user-entered":"%s has entered the room.","user-exited":"%s has left the room.",author:"Author",license:"License",project:"File",
"special-thanks":"Special thanks",background:"Background","change-media":"Change Media","cut-objects":"Cut Selection","merge-objects":"Merge Objects","merge-paths":"Merge Paths","new-doc-created":"New Document Created!","paste-objects":"Paste Selection","resize-canvas":"Resize Canvas","remove-objects":"Remove Selection","reset-clipart-color":"Reset Clipart Color","split-path":"Split Path","update-clipart-color":"Change Clipart Color","update-style":"Update Style","update-text":"Update Text",angle:"Angle",
antialias:"Antialias",anticlockwise:"Anticlockwise",blend:"Blend",bristles:"Bristles",coils:"Coils",composite:"Composite",constrain:"Constrain",content:"Content",contract:"Contract",cutout:"Cutout",diameter:"Size",distance:"Distance",fill:"Fill",increment:"Increment",innerRadius:"Inner Radius",lineWidth:"Line Width",lookback:"Lookback",opacity:"Opacity",outerRadius:"Outer Radius",palette:"Palette",points:"Points",ratio:"Ratio",reset:"Reset",roundness:"Roundness",imperfection:"Imperfection",sides:"Sides",
slope:"Slope",spacing:"Spacing",speed:"Speed",spread:"Spread",stroke:"Outline",arrow:"Arrow",brush:"Brush",calligraphy:"Calligraphy",chrome:"Chrome",crayon:"Crayon",eraser:"Eraser",fur:"Fur",paintbrush:"Paintbrush",pen:"Pen",pencil:"Pencil",sketchy:"Sketchy",spirograph:"Spirograph",spraypaint:"Spraypaint",streamer:"Streamer",web:"Web",oil:"Oil",burst:"Burst",circle:"Circle",ellipse:"Ellipse",gear:"Gear",pie:"Pie",radialBurst:"Radial Burst",rectangle:"Rectangle",regularPolygon:"Regular Polygon",ring:"Ring",
shape:"Shape",spiral:"Spiral",square:"Square",star:"Star",triangle:"Triangle",select:"Select","quick-selection":"Quick Selection","add-to-selection":"Add to Selection","subtract-from-selection":"Subtract from Selection","select-all":"Select all","select-inverse":"Select inverse",unselect:"Unselect","crop-draw":"Crop Area",crop:"Crop","screenshot-log":"Click & drag to create your screenshot.",screenshot:"Screenshot","take-snapshot":"Take Snapshot",zoom:"Zoom","zoom-in":"Zoom in","zoom-out":"Zoom out",
"zoom-to-default":"Zoom to actual size",stamp:"Stamp","choose-stamp":"Set stamp category","convert-to-stamp":"Convert to Stamp",clipart:"Clipart","load-your-own-image":"Load your own image","choose-clipart":"Set clipart category",floodfill:"Floodfill",contiguous:"Contiguous",tolerance:"Tolerance",text:"Text",font:"Font",fontFamily:"Font Family",fontSize:"Font Size",fontStyle:"Font Style",fontVariant:"Font Variant",fontWeight:"Font Weight",textAlign:"Text Align",textDecoration:"Text Decoration",textTransform:"Text Transform",
whiteSpace:"White Space","choose-font":"Set font family",brightness:"Brightness",camera:"Camera",contrast:"Contrast",exposure:"Exposure",hue:"Hue",luminosity:"Luminosity",saturation:"Saturation",temperature:"Temperature",tint:"Tint",blur:"Blur",pixelSize:"Pixel Size",copy:"Copy","copy-all":"Copy all",cut:"Cut","cut-all":"Cut all","delete":"Delete",duplicate:"Duplicate","delete-file":"Delete File","duplicate-file":"Duplicate File","object-backwards":"Send Backwards","object-forwards":"Send Forwards",
"object-to-back":"Send to Back","object-to-front":"Send to Front",paste:"Paste",history:"History",undo:"Undo",redo:"Redo",move:"Move","move-left":"Move Left","move-right":"Move Right","move-up":"Move Up","move-down":"Move Down",rotate:"Rotate",scale:"Scale",transform:"Transform",translate:"Translate","click-to-edit":"Click to Edit","click-to-select":"Click to Select","dbltap-to-edit":"Double Click to Edit","drag-to-move":"Drag to Move","drag-to-resize":"Drag to Resize","drag-to-rotate":"Drag to Rotate",
black:"Black",blueprint:"Blueprint",graphPaper:"Graph Paper",grid:"Grid",lined:"Lined",looseLeaf:"Loose Leaf",notebook:"Notebook",transparent:"Transparent",white:"White",color:"Color",gradient:"Gradient",pattern:"Pattern",eyedropper:"Eyedropper","choose-blend":"Set Blending Mode","color-burn":"Color Burn","color-dodge":"Color Dodge",darken:"Darken",difference:"Difference",disco:"Disco",erase:"Erase",exclusion:"Exclusion","hard-light":"Hard Light",lighten:"Lighten",multiply:"Multiply",normal:"Normal",
overlay:"Overlay",screen:"Screen","soft-light":"Soft Light","source-atop":"Source Atop","destination-over":"Destination Over",cancel:"Cancel","continue":"Continue","delete-doc":"Delete",ok:"Ok","open-doc":"Open",quit:"Quit",download:"Download","download-format":"Download %s",save:"Save","save-format":"Save %s",dontSave:"Don&rsquo;t Save",autosave:"Autosave","keyboard-shortcuts":"Keyboard Shortcuts",shortcuts:"Shortcuts","ask-question":"Ask Question","draw-with-friend":"Draw with a friend","report-bug":"Report Bug",
"request-feature":"Request Feature",connecting:"Connecting","decoding-format":"Decoding %s",downloading:"Downloading",loading:"Loading","loading-error":"Error loading","opening-format":"Opening %s","reading-files":"Reading files","reading-format":"Reading %s",rendering:"Rendering",syncing:"Syncing","choose-brush":"Choose Brush","choose-media":"Choose Media","choose-shape":"Choose Shape","choose-utility":"Choose Utility","choose-units":"Set units","%":"%",cm:"cm",inches:"inches",mm:"mm",pixels:"pixels",
"choose-fill":"Set Fill Style","choose-stroke":"Set Outline Style","choose-background":"Set Background Style",about:"About",attachment:"Attachment","community-page":"Community",configure:"Configure","export":"Export",file:"File",layers:"Layers",menu:"Sidebar","my-docs":"My Files","new":"New",open:"Open",print:"Print","video-tutorials":"Video Tutorials","choose-preset-size":"Set preset size","sans serif":"Sans Serif",serif:"Serif",display:"Display",handwriting:"Handwriting",bold:"Bold",italic:"Italic",
"line-through":"Strikethrough",underline:"Underline",plants:"Plants",people:"People",animals:"Animals","water colors":"Water colors",typogrunge:"Typogrunge",tizzape:"Tizzape","simple smudges":"Simple Smudges",retro:"Retro",leafs:"Leafs",footprints:"Footprints",flowers:"Flowers",doodles:"Doodles",butterflies:"Butterflies","aspect-ratio":"Aspect Ratio","choose-aspect-ratio":"Set Aspect Ratio","choose-constrain":"Constrain Proportions","hide-layer":"Hide layer","show-layer":"Show layer","convert-format":"Convert to %s",
"update-format":"Update %s",image:"Image",saving:"Saving",colorNoise:"Noise",colorMode:"Type",linear:"Linear Gradient",radial:"Radial Gradient",cycle:"Color Cycle",lineJoin:"Corner",lineCap:"Cap",round:"Round",bevel:"Bevel",miter:"Miter",enabled:"Enabled",disabled:"Disabled",projects:"Files",paper:"Paper",quality:"Quality",fileFormat:"Format",sizeTo:"Size To",size:"Size",percent:"Percent",share:"Share",dpi:"DPI",settings:"Settings",tool:"Tool",width:"Width",height:"Height",x:"X",y:"Y","no-layers":"No layers added",
"object-order":"Layer Order",document:"Document",library:"Library",utilities:"Utilities",brushes:"Brushes",shapes:"Shapes",highlighter:"Highlighter",polyarrow:"Arrow",polyline:"Line",polygon:"Polygon",scissor:"Scissor",path:"Path",help:"Help",curved:"Curved",textbrush:"Textbrush",shader:"Shader",fitWithin:"Fit Within","72dpi":"72\u2014Web","150dpi":"150\u2014Draft Printing","300dpi":"300\u2014High-Res Printing","upload-as-new":"Upload as new",place:"Place into",upload:"Upload",resize:"Resize",dimensions:"Dimensions",
apply:"Apply",create:"Create","set-background":"Change Background","rename-file":"Rename File","screenshot-tool-message":"Use the <span class='icon-screenshot'></span> Screenshot tool to download a selection of your drawing."}},r.lang.locales)})(sketch);Array.isArray=Array.isArray||function(r){return r&&"[object Array]"===Object.prototype.toString.call(r)};Array.prototype.every=Array.prototype.every||function(r,g){for(var d=0,m=this.length;d<m&&r.call(g||window,this[d],d,this);++d);return d===m};
Array.prototype.filter=Array.prototype.filter||function(r,g){for(var d=[],m=0,q=this.length,b;m<q;++m)b=this[m],r.call(g||window,b,m,this)&&d.push(b);return d};Array.prototype.forEach=Array.prototype.forEach||function(r,g){for(var d=0,m=this.length;d<m;++d)r.call(g||window,this[d],d,this)};Array.prototype.indexOf=Array.prototype.indexOf||function(r){for(var g=0,d=this.length;g<d;++g)if(this[g]===r)return g;return-1};
Array.prototype.lastIndexOf=Array.prototype.lastIndexOf||function(r){for(var g=this.length-1;-1<g;--g)if(this[g]===r)return g;return-1};Array.prototype.map=Array.prototype.map||function(r,g){for(var d=[],m=0,q=this.length;m<q;++m)d.push(r.call(g||window,this[m],m,this));return d};Array.prototype.reduce=Array.prototype.reduce||function(r,g){for(var d=g||0,m=0,q=this.length;m<q;++m)d=r.call(window,d,this[m],m,this);return d};
Array.prototype.reduceRight=Array.prototype.reduceRight||function(r,g){for(var d=g||0,m=this.length-1;-1<m;--m)d=r.call(window,d,this[m],m,this);return d};Array.prototype.some=Array.prototype.some||function(r,g){for(var d=0,m=this.length;d<m&&!r.call(g||window,this[d],d,this);++d);return d===m};Array.prototype.concat=Array.prototype.concat||function(r){for(var g=0;g<r.length;g++)this.push(r[g]);return this};
if(!window.btoa||!window.atob){var base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(r,g){var d=base64.ALPHA.indexOf(r.charAt(g));if(-1==d)throw"Cannot decode base64";return d},decode:function(r){r=""+r;var g=base64.getbyte64,d,m,q,b=r.length;if(0==b)return r;if(0!=b%4)throw"Cannot decode base64";d=0;r.charAt(b-1)==base64.PADCHAR&&(d=1,r.charAt(b-2)==base64.PADCHAR&&(d=2),b-=4);var h=[];for(m=0;m<b;m+=4)q=g(r,m)<<18|g(r,m+1)<<12|g(r,m+
2)<<6|g(r,m+3),h.push(String.fromCharCode(q>>16,q>>8&255,q&255));switch(d){case 1:q=g(r,m)<<18|g(r,m+1)<<12|g(r,m+2)<<6;h.push(String.fromCharCode(q>>16,q>>8&255));break;case 2:q=g(r,m)<<18|g(r,m+1)<<12,h.push(String.fromCharCode(q>>16))}return h.join("")},getbyte:function(r,g){var d=r.charCodeAt(g);if(255<d)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return d},encode:function(r){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var g=base64.PADCHAR,d=base64.ALPHA,m=base64.getbyte,
q,b,h=[];r=""+r;var f=r.length-r.length%3;if(0==r.length)return r;for(q=0;q<f;q+=3)b=m(r,q)<<16|m(r,q+1)<<8|m(r,q+2),h.push(d.charAt(b>>18)),h.push(d.charAt(b>>12&63)),h.push(d.charAt(b>>6&63)),h.push(d.charAt(b&63));switch(r.length-f){case 1:b=m(r,q)<<16;h.push(d.charAt(b>>18)+d.charAt(b>>12&63)+g+g);break;case 2:b=m(r,q)<<16|m(r,q+1)<<8,h.push(d.charAt(b>>18)+d.charAt(b>>12&63)+d.charAt(b>>6&63)+g)}return h.join("")}};window.btoa=base64.encode;window.atob=base64.decode}
"document"in self&&("classList"in document.createElement("_")?function(){var r=document.createElement("_");r.classList.add("c1","c2");if(!r.classList.contains("c2")){var g=function(d){var g=DOMTokenList.prototype[d];DOMTokenList.prototype[d]=function(b){var h,f=arguments.length;for(h=0;h<f;h++)b=arguments[h],g.call(this,b)}};g("add");g("remove")}r.classList.toggle("c3",!1);if(r.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(m,g){return 1 in arguments&&
!this.contains(m)===!g?g:d.call(this,m)}}r=null}():function(r){if("Element"in r){r=r.Element.prototype;var g=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},m=Array.prototype.indexOf||function(a){for(var c=0,b=this.length;c<b;c++)if(c in this&&this[c]===a)return c;return-1},q=function(a,c){this.name=a;this.code=DOMException[a];this.message=c},b=function(a,c){if(""===c)throw new q("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(c))throw new q("INVALID_CHARACTER_ERR",
"String contains an invalid character");return m.call(a,c)},h=function(a){for(var c=d.call(a.getAttribute("class")||""),c=c?c.split(/\s+/):[],b=0,e=c.length;b<e;b++)this.push(c[b]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},f=h.prototype=[],a=function(){return new h(this)};q.prototype=Error.prototype;f.item=function(a){return this[a]||null};f.contains=function(a){return-1!==b(this,a+"")};f.add=function(){var a=arguments,c=0,f=a.length,e,p=!1;do e=a[c]+"",-1===b(this,
e)&&(this.push(e),p=!0);while(++c<f);p&&this._updateClassName()};f.remove=function(){var a=arguments,c=0,f=a.length,e,p=!1,k;do for(e=a[c]+"",k=b(this,e);-1!==k;)this.splice(k,1),p=!0,k=b(this,e);while(++c<f);p&&this._updateClassName()};f.toggle=function(a,c){a+="";var b=this.contains(a),e=b?!0!==c&&"remove":!1!==c&&"add";if(e)this[e](a);return!0===c||!1===c?c:!b};f.toString=function(){return this.join(" ")};if(g.defineProperty){f={get:a,enumerable:!0,configurable:!0};try{g.defineProperty(r,"classList",
f)}catch(c){-2146823252===c.number&&(f.enumerable=!1,g.defineProperty(r,"classList",f))}}else g.prototype.__defineGetter__&&r.__defineGetter__("classList",a)}}(self));
(function(r){for(var g,d={},m=function(){},q=["memory"],b="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");g=q.pop();)r[g]||(r[g]=d);for(;g=b.pop();)r[g]||(r[g]=m)})(self.console=self.console||{});
self.console.image=function(r){function g(d,g){var b=d.width,h=d.height;console.log("%c+","font-size: 1px; padding: "+Math.floor(h/2)+"px "+Math.floor(b/2)+"px; line-height: "+h+"px;background: url("+g+"); background-size: "+b+"px "+h+"px; color: transparent;",arguments)}var d=r.nodeName;"IMG"===d?g(r,r.src):"CANVAS"===d?g(r,r.toDataURL()):console.log(r)};
"function"===self.WebKitCSSMatrix?self.CSSMatrix=WebKitCSSMatrix:function(){function r(a){if(void 0===a||"none"===a)return m(this);if(a instanceof r)return g(a);var c=arguments;if(c.length){if(16===c.length)return f(this,c);if(6===c.length)return h(this,c)}return this.setMatrixValue(a)}function g(a){var c=new r;c.m11=c.a=a.m11;c.m12=c.b=a.m12;c.m13=a.m13;c.m14=a.m14;c.m21=c.c=a.m21;c.m22=c.d=a.m22;c.m23=a.m23;c.m24=a.m24;c.m31=a.m31;c.m32=a.m32;c.m33=a.m33;c.m34=a.m34;c.m41=c.e=a.m41;c.m42=c.f=a.m42;
c.m43=a.m43;c.m44=a.m44;return c}function d(a,c){return c instanceof r?new r(c.m11*a.m11+c.m12*a.m21+c.m13*a.m31+c.m14*a.m41,c.m11*a.m12+c.m12*a.m22+c.m13*a.m32+c.m14*a.m42,c.m11*a.m13+c.m12*a.m23+c.m13*a.m33+c.m14*a.m43,c.m11*a.m14+c.m12*a.m24+c.m13*a.m34+c.m14*a.m44,c.m21*a.m11+c.m22*a.m21+c.m23*a.m31+c.m24*a.m41,c.m21*a.m12+c.m22*a.m22+c.m23*a.m32+c.m24*a.m42,c.m21*a.m13+c.m22*a.m23+c.m23*a.m33+c.m24*a.m43,c.m21*a.m14+c.m22*a.m24+c.m23*a.m34+c.m24*a.m44,c.m31*a.m11+c.m32*a.m21+c.m33*a.m31+c.m34*
a.m41,c.m31*a.m12+c.m32*a.m22+c.m33*a.m32+c.m34*a.m42,c.m31*a.m13+c.m32*a.m23+c.m33*a.m33+c.m34*a.m43,c.m31*a.m14+c.m32*a.m24+c.m33*a.m34+c.m34*a.m44,c.m41*a.m11+c.m42*a.m21+c.m43*a.m31+c.m44*a.m41,c.m41*a.m12+c.m42*a.m22+c.m43*a.m32+c.m44*a.m42,c.m41*a.m13+c.m42*a.m23+c.m43*a.m33+c.m44*a.m43,c.m41*a.m14+c.m42*a.m24+c.m43*a.m34+c.m44*a.m44):null}function m(a){a.m11=a.a=1;a.m12=a.b=0;a.m13=0;a.m14=0;a.m21=a.c=0;a.m22=a.d=1;a.m23=0;a.m24=0;a.m31=0;a.m32=0;a.m33=1;a.m34=0;a.m41=a.e=0;a.m42=a.f=0;a.m43=
0;a.m44=1;return a}var q=/^matrix\((.*)\)/,b=/^matrix3d\((.*)\)/,h=function(a,c){a.m11=a.a=c[0];a.m12=a.b=c[1];a.m41=a.e=c[4];a.m21=a.c=c[2];a.m22=a.d=c[3];a.m42=a.f=c[5];return a},f=function(a,c){a.m11=a.a=c[0];a.m12=a.b=c[1];a.m13=c[2];a.m14=c[3];a.m21=a.c=c[4];a.m22=a.d=c[5];a.m23=c[6];a.m24=c[7];a.m31=c[8];a.m32=c[9];a.m33=c[10];a.m34=c[11];a.m41=a.e=c[12];a.m42=a.f=c[13];a.m43=c[14];a.m44=c[15];return a};r.prototype.setMatrixValue=function(a){if("string"===typeof a){m(this);a=a.trim();if("none"===
a)return this;for(var c=a.replace(/^.*\((.*)\)$/g,"$1").split(/\s*,\s*/),l=c.length;l--;)c[l]=parseFloat(c[l]);if(6===c.length&&q.test(a))return h(this,c);if(16===c.length&&b.test(a))return f(this,c)}throw Error("Failed to execute 'setMatrixValue' on 'CSSMatrix': Failed to parse '"+a+"'");};r.prototype.multiply=function(a){return d(this,a)};r.prototype.inverse=function(){var a;a=(a=this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+this.m12*
this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-this.m11*
this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44)?new r((this.m23*this.m34*this.m42-this.m24*this.m33*this.m42+this.m24*this.m32*this.m43-this.m22*this.m34*this.m43-this.m23*this.m32*this.m44+this.m22*this.m33*this.m44)/a,(this.m14*this.m33*this.m42-this.m13*this.m34*this.m42-this.m14*this.m32*this.m43+this.m12*
this.m34*this.m43+this.m13*this.m32*this.m44-this.m12*this.m33*this.m44)/a,(this.m13*this.m24*this.m42-this.m14*this.m23*this.m42+this.m14*this.m22*this.m43-this.m12*this.m24*this.m43-this.m13*this.m22*this.m44+this.m12*this.m23*this.m44)/a,(this.m14*this.m23*this.m32-this.m13*this.m24*this.m32-this.m14*this.m22*this.m33+this.m12*this.m24*this.m33+this.m13*this.m22*this.m34-this.m12*this.m23*this.m34)/a,(this.m24*this.m33*this.m41-this.m23*this.m34*this.m41-this.m24*this.m31*this.m43+this.m21*this.m34*
this.m43+this.m23*this.m31*this.m44-this.m21*this.m33*this.m44)/a,(this.m13*this.m34*this.m41-this.m14*this.m33*this.m41+this.m14*this.m31*this.m43-this.m11*this.m34*this.m43-this.m13*this.m31*this.m44+this.m11*this.m33*this.m44)/a,(this.m14*this.m23*this.m41-this.m13*this.m24*this.m41-this.m14*this.m21*this.m43+this.m11*this.m24*this.m43+this.m13*this.m21*this.m44-this.m11*this.m23*this.m44)/a,(this.m13*this.m24*this.m31-this.m14*this.m23*this.m31+this.m14*this.m21*this.m33-this.m11*this.m24*this.m33-
this.m13*this.m21*this.m34+this.m11*this.m23*this.m34)/a,(this.m22*this.m34*this.m41-this.m24*this.m32*this.m41+this.m24*this.m31*this.m42-this.m21*this.m34*this.m42-this.m22*this.m31*this.m44+this.m21*this.m32*this.m44)/a,(this.m14*this.m32*this.m41-this.m12*this.m34*this.m41-this.m14*this.m31*this.m42+this.m11*this.m34*this.m42+this.m12*this.m31*this.m44-this.m11*this.m32*this.m44)/a,(this.m12*this.m24*this.m41-this.m14*this.m22*this.m41+this.m14*this.m21*this.m42-this.m11*this.m24*this.m42-this.m12*
this.m21*this.m44+this.m11*this.m22*this.m44)/a,(this.m14*this.m22*this.m31-this.m12*this.m24*this.m31-this.m14*this.m21*this.m32+this.m11*this.m24*this.m32+this.m12*this.m21*this.m34-this.m11*this.m22*this.m34)/a,(this.m23*this.m32*this.m41-this.m22*this.m33*this.m41-this.m23*this.m31*this.m42+this.m21*this.m33*this.m42+this.m22*this.m31*this.m43-this.m21*this.m32*this.m43)/a,(this.m12*this.m33*this.m41-this.m13*this.m32*this.m41+this.m13*this.m31*this.m42-this.m11*this.m33*this.m42-this.m12*this.m31*
this.m43+this.m11*this.m32*this.m43)/a,(this.m13*this.m22*this.m41-this.m12*this.m23*this.m41-this.m13*this.m21*this.m42+this.m11*this.m23*this.m42+this.m12*this.m21*this.m43-this.m11*this.m22*this.m43)/a,(this.m12*this.m23*this.m31-this.m13*this.m22*this.m31+this.m13*this.m21*this.m32-this.m11*this.m23*this.m32-this.m12*this.m21*this.m33+this.m11*this.m22*this.m33)/a):!1;return a};r.prototype.translate=function(a,c,l){l=l||0;var b=g(this);b.m41=b.e=b.m11*a+b.m21*c+b.m31*l+b.m41;b.m42=b.f=b.m12*a+
b.m22*c+b.m32*l+b.m42;b.m43=b.m13*a+b.m23*c+b.m33*l+b.m43;b.m44=b.m14*a+b.m24*c+b.m34*l+b.m44;return b};r.prototype.scale=function(a,c,l){c!==+c&&(c=a);l!==+l&&(l=1);var b=new r;b.m11=b.a=a;b.m22=b.d=c;b.m33=l;return d(this,b)};r.prototype.rotate=function(a,c,l){a!==+a&&(a=0);c!==+c&&l!==+l&&(l=a,c=a=0);c!==+c&&(c=0);l!==+l&&(l=0);var b,f;a*=Math.PI/180;b=Math.PI/180*c;f=Math.PI/180*l;l=Math.cos(a);a=-Math.sin(a);c=Math.cos(b);b=-Math.sin(b);var e=Math.cos(f);f=-Math.sin(f);var p=new r;p.m11=p.a=
c*e;p.m12=p.b=-c*f;p.m13=b;p.m21=p.c=a*b*e+l*f;p.m22=p.d=l*e-a*b*f;p.m23=-a*c;p.m31=a*f-l*b*e;p.m32=a*e+l*b*f;p.m33=l*c;return d(this,p)};r.prototype.rotateAxisAngle=function(a,c,l,b){c!==+c&&(c=a);l!==+l&&(l=a);var f;f=Math.PI/360*b;b=Math.sin(f);f=Math.cos(f);var e=b*b,p=Math.sqrt(a*a+c*c+l*l);0===p?(c=a=0,l=1):(a/=p,c/=p,l/=p);var p=a*a,k=c*c,v=l*l,h=new r;h.m11=h.a=1-2*(k+v)*e;h.m12=h.b=2*(a*c*e+l*b*f);h.m13=2*(a*l*e-c*b*f);h.m21=h.c=2*(c*a*e-l*b*f);h.m22=h.d=1-2*(v+p)*e;h.m23=2*(c*l*e+a*b*f);
h.m31=2*(l*a*e+c*b*f);h.m32=2*(l*c*e-a*b*f);h.m33=1-2*(p+k)*e;h.m14=h.m24=h.m34=0;h.m41=h.e=h.m42=h.f=h.m43=0;h.m44=1;return d(this,h)};r.prototype.toString=function(){var a=function(a){return a.toFixed(6)},c;c=this.m13||this.m14||this.m23||this.m24||this.m31||this.m32||1!==this.m33||this.m34||this.m43||1!==this.m44?!1:!0;return c?"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].map(a).join(", ")+")":"matrix3d("+[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,
this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44].map(a).join(", ")+")"};r.prototype.skewX=function(a){a*=Math.PI/180;var c=new r;c.m21=c.c=Math.tan(a);return d(c,this)};r.prototype.skewY=function(a){a*=Math.PI/180;var c=new r;c.m12=c.b=Math.tan(a);return d(c,this)};"undefined"!==typeof exports?("object"===typeof module&&module.exports&&(exports=module.exports=r),exports.CSSMatrix=r):self.CSSMatrix=r}();
(function(){var r=function(d,m,g,b){this.x=d?d:0;this.y=m?m:0;this.z=g?g:0;this.w=b?b:0;this.checkValues=function(){this.x=this.x?this.x:0;this.y=this.y?this.y:0;this.z=this.z?this.z:0;this.w=this.w?this.w:0};this.length=function(){this.checkValues();return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};this.normalise=function(){var b=this.length();return new r(this.x/b,this.y/b,this.z/b)};this.dot=function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w};this.cross=function(b){return new r(this.y*
b.z-this.z*b.y,this.z*b.x-this.x*b.z,this.x*b.y-this.y*b.x)};this.combine=function(b,f,a){return new r(f*this.x+a*b.x,f*this.y+a*b.y,f*this.z+a*b.z)}},g=function(d){d=d||{};var m={perspective:null,translate:null,skew:null,scale:null,rotate:null},g;for(g in m)this[g]=d[g]?d[g]:new r};CSSMatrix.prototype.transformVector=function(d){return new r(this.m11*d.x+this.m12*d.y+this.m13*d.z,this.m21*d.x+this.m22*d.y+this.m23*d.z,this.m31*d.x+this.m32*d.y+this.m33*d.z)};CSSMatrix.prototype.point3d=function(d){return new r(this.m11*
d.x+this.m21*d.y+this.m31*d.z+this.m41,this.m12*d.x+this.m22*d.y+this.m32*d.z+this.m42,this.m13*d.x+this.m23*d.y+this.m33*d.z+this.m43,this.m14*d.x+this.m24*d.y+this.m34*d.z+this.m44)};CSSMatrix.prototype.transpose=function(){for(var d=new CSSMatrix,m=0,g=0,m=0;2>=m;m++)for(g=m+1;3>=g;g++)d["m"+(m+1)+(g+1)]=this["m"+(g+1)+(m+1)],d["m"+(g+1)+(m+1)]=this["m"+(m+1)+(g+1)];return d};CSSMatrix.prototype.determinant=function(){return this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-
this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+
this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44};CSSMatrix.prototype.decompose=function(){var d=new CSSMatrix(this.toString()),m,q,b,h,f;if(0===d.m33)return new g((new CSSMatrix).decompose());for(f=1;4>=f;f++)for(j=1;4>=j;j++)d["m"+f+j]/=d.m44;for(f=1;3>=f;f++)d["m"+
f+"4"]=0;d.m44=1;if(0===d.determinant())return new g((new CSSMatrix).decompose());0!=d.m14||0!=d.m24||0!=d.m34?(m=new r(d.m14,d.m24,d.m34,d.m44),q=d.inverse(),q=q.transpose(),m=q.transformVector(m),d.m14=d.m24=d.m34=0,d.m44=1):m=new r(0,0,0,1);q=new r(d.m41,d.m42,d.m43);d.m41=0;d.m42=0;d.m43=0;b=[new r,new r,new r];for(f=1;3>=f;f++)b[f-1].x=d["m"+f+"1"],b[f-1].y=d["m"+f+"2"],b[f-1].z=d["m"+f+"3"];d=new r;h=new r;d.x=b[0].length();b[0]=b[0].normalise();h.x=b[0].dot(b[1]);b[1]=b[1].combine(b[0],1,-h.x);
d.y=b[1].length();b[1]=b[1].normalise();h.x/=d.y;h.y=b[0].dot(b[2]);b[2]=b[2].combine(b[0],1,-h.y);h.z=b[1].dot(b[2]);b[2]=b[2].combine(b[1],1,-h.z);d.z=b[2].length();b[2]=b[2].normalise();h.y/=d.z;h.y/=d.z;f=b[1].cross(b[2]);if(0>b[0].dot(f))for(f=0;3>f;f++)d.x*=-1,b[f].x*=-1,b[f].y*=-1,b[f].z*=-1;f=new r;f.y=Math.asin(-b[0].z);0!=Math.cos(f.y)?(f.x=Math.atan2(b[1].z,b[2].z),f.z=Math.atan2(b[0].y,b[0].x)):(f.x=Math.atan2(-b[2].x,b[1].y),f.z=0);return new g({perspective:m,translate:q,skew:h,scale:d,
rotate:f})}})();
(function(){function r(d,q,b){var h=document.createElement("canvas");g(d,h,q,b);return h.toDataURL("image/jpeg",q.quality||.8)}function g(d,g,b,h){var f=d.naturalWidth,a=d.naturalHeight,c=b.width,l=b.height,A=g.getContext("2d");A.save();b=b.orientation;switch(b){case 5:case 6:case 7:case 8:g.width=l;g.height=c;break;default:g.width=c,g.height=l}switch(b){case 2:A.translate(c,0);A.scale(-1,1);break;case 3:A.translate(c,l);A.rotate(Math.PI);break;case 4:A.translate(0,l);A.scale(1,-1);break;case 5:A.rotate(.5*
Math.PI);A.scale(1,-1);break;case 6:A.rotate(.5*Math.PI);A.translate(0,-l);break;case 7:A.rotate(.5*Math.PI);A.translate(c,-l);A.scale(-1,1);break;case 8:A.rotate(-.5*Math.PI),A.translate(-c,0)}g=d.naturalWidth;1048576<g*d.naturalHeight?(b=document.createElement("canvas"),b.width=b.height=1,b=b.getContext("2d"),b.drawImage(d,-g+1,0),g=0===b.getImageData(0,0,1,1).data[3]):g=!1;g&&(f/=2,a/=2);g=document.createElement("canvas");g.width=g.height=1024;b=g.getContext("2d");if(h){h=a;var t=document.createElement("canvas");
t.width=1;t.height=h;t=t.getContext("2d");t.drawImage(d,0,0);for(var t=t.getImageData(0,0,1,h).data,e=0,p=h,k=h;k>e;)0===t[4*(k-1)+3]?p=k:e=k,k=p+e>>1;h=k/h;h=0===h?1:h}else h=1;c=Math.ceil(1024*c/f);l=Math.ceil(1024*l/a/h);for(t=h=0;h<a;){for(p=e=0;e<f;)b.clearRect(0,0,1024,1024),b.drawImage(d,-e,-h),A.drawImage(g,0,0,1024,1024,p,t,c,l),e+=1024,p+=c;h+=1024;t+=l}A.restore()}function d(d){if(window.Blob&&d instanceof Blob){var g=new Image,b=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&
window.webkitURL.createObjectURL?window.webkitURL:null;if(!b)throw Error("No createObjectURL function found to create blob url");g.src=b.createObjectURL(d);this.blob=d;d=g}if(!d.naturalWidth&&!d.naturalHeight){var h=this;d.onload=function(){var b=h.imageLoadListeners;if(b){h.imageLoadListeners=null;for(var a=0,c=b.length;a<c;a++)b[a]()}};this.imageLoadListeners=[]}this.srcImage=d}d.prototype.render=function(d,q,b){if(this.imageLoadListeners){var h=this;this.imageLoadListeners.push(function(){h.render(d,
q,b)})}else{q=q||{};var f=this.srcImage,a=f.src,c=a.length,l=f.naturalWidth,f=f.naturalHeight,A=q.width,t=q.height,e=q.maxWidth,p=q.maxHeight,a=this.blob&&"image/jpeg"===this.blob.type||0===a.indexOf("data:image/jpeg")||a.indexOf(".jpg")===c-4||a.indexOf(".jpeg")===c-5;A&&!t?t=f*A/l<<0:t&&!A?A=l*t/f<<0:(A=l,t=f);e&&A>e&&(A=e,t=f*A/l<<0);p&&t>p&&(t=p,A=l*t/f<<0);var l={width:A,height:t},k;for(k in q)l[k]=q[k];k=d.tagName.toLowerCase();"img"===k?d.src=r(this.srcImage,l,a):"canvas"===k&&g(this.srcImage,
d,l,a);if("function"===typeof this.onrender)this.onrender(d);b&&b()}};"function"===typeof define&&define.amd?define([],function(){return d}):this.MegaPixImage=d})();
!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var g;"undefined"!=typeof window?g=window:"undefined"!=typeof global?g=global:"undefined"!=typeof self&&(g=self);g.AnimationFrame=r()}}(function(){return function g(d,m,q){function b(a,c){if(!m[a]){if(!d[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(h)return h(a,!0);l=Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",
l;}l=m[a]={exports:{}};d[a][0].call(l.exports,function(c){var l=d[a][1][c];return b(l?l:c)},l,l.exports,g,d,m,q)}return m[a].exports}for(var h="function"==typeof require&&require,f=0;f<q.length;f++)b(q[f]);return b}({1:[function(g,d,m){d.exports=g("./lib/animation-frame")},{"./lib/animation-frame":2}],2:[function(g,d,m){function q(a){if(!(this instanceof q))return new q(a);a||(a={});"number"==typeof a&&(a={frameRate:a});null!=a.useNative||(a.useNative=!0);this.options=a;this.frameRate=a.frameRate||
q.FRAME_RATE;this._frameLength=1E3/this.frameRate;this._isCustomFrameRate=this.frameRate!==q.FRAME_RATE;this._timeoutId=null;this._callbacks={};this._tickCounter=this._lastTickTime=0}var b=g("./native"),h=g("./now"),f=g("./performance"),a=b.request,c=b.cancel;d.exports=q;q.FRAME_RATE=60;q.shim=function(a){var c=new q(a);window.requestAnimationFrame=function(a){return c.request(a)};window.cancelAnimationFrame=function(a){return c.cancel(a)};return c};q.prototype.request=function(c){var d=this;++this._tickCounter;
if(b.supported&&this.options.useNative&&!this._isCustomFrameRate)return a(c);if(!c)throw new TypeError("Not enough arguments");if(null==this._timeoutId){var m=this._frameLength+this._lastTickTime-h();0>m&&(m=0);this._timeoutId=setTimeout(function(){d._lastTickTime=h();d._timeoutId=null;++d._tickCounter;var e=d._callbacks;d._callbacks={};for(var c in e)if(e[c])if(b.supported&&d.options.useNative)a(e[c]);else e[c](f.now())},m)}this._callbacks[this._tickCounter]=c;return this._tickCounter};q.prototype.cancel=
function(a){b.supported&&this.options.useNative&&c(a);delete this._callbacks[a]}},{"./native":3,"./now":4,"./performance":6}],3:[function(g,d,m){g=window;try{g.top.name,g=g.top}catch(q){}m.request=g.requestAnimationFrame;m.cancel=g.cancelAnimationFrame||g.cancelRequestAnimationFrame;m.supported=!1;d=["Webkit","Moz","ms","O"];for(var b=0;b<d.length&&!m.request;b++)m.request=g[d[b]+"RequestAnimationFrame"],m.cancel=g[d[b]+"CancelAnimationFrame"]||g[d[b]+"CancelRequestAnimationFrame"];m.request&&m.request.call(null,
function(){m.supported=!0})},{}],4:[function(g,d,m){d.exports=Date.now||function(){return(new Date).getTime()}},{}],5:[function(g,d,m){g=g("./now");m.navigationStart=g()},{"./now":4}],6:[function(g,d,m){var q=g("./now"),b=g("./performance-timing");m.now=function(){return window.performance&&window.performance.now?window.performance.now():q()-b.navigationStart}},{"./now":4,"./performance-timing":5}]},{},[1])(1)});
(function(){for(var r=["ms","moz","webkit","o"],g=0;g<r.length&&!window.requestAnimationFrame;++g)window.requestAnimationFrame=window[r[g]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[g]+"CancelAnimationFrame"]||window[r[g]+"CancelRequestAnimationFrame"];window.requestAnimationFrame&&window.cancelAnimationFrame||AnimationFrame.shim()})();
(function(r){navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;window.resolveLocalFileSystemURL=window.resolveLocalFileSystemURL||window.webkitResolveLocalFileSystemURL;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;
window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL||window.oURL;window.Blob=window.Blob||window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;r.Element&&function(g){g.matchesSelector=g.matchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector||g.webkitMatchesSelector||function(d){d=(this.parentNode||this.document).querySelectorAll(d);for(var m=-1;d[++m]&&d[m]!=this;);return!!d[m]}}(Element.prototype);Date.now||(Date.now=function(){return(new Date).getTime()})})(self);
(function(){function r(m,b,h){typeof m!==(h||"function")&&d(b)}var g=-1!==window.location.href.indexOf("/clients/"),d=function(d,b){var h=g?"../../sketch-src/www/":"./";eventjs.useStallOnReady++;sketch.util.require({url:h+"inc/"+(b||"shim")+"/"+d,onsuccess:function(){eventjs.useStallOnReady--}})};(function(){var m=document.createElement("DIV");m.innerHTML="\x3c!--[if lte IE 9]><I></I><![endif]--\x3e";0<m.getElementsByTagName("I").length&&d("IE8-HTML5.js")})();(function(){var m=document.createElement("canvas");
m.getContext&&m.getContext("2d")||d("flashcanvas.js","FlashCanvasPro")})();r(window.ArrayBuffer,"TypedArray.js");r(window.Blob,"Blob.js");r(window.requestFileSystem,"requestFileSystem.js");r(window.atob&&window.btoa,"Base64.js");r(window.getComputedStyle,"getComputedStyle.js");r(window.JSON&&window.JSON.parse,"JSON.js");r(document.querySelector,"querySelector.js");r(document.documentElement.classList,"ClassList.js","object");r(document.documentElement.animate,"WebAnimations.js");void 0===window.innerHeight&&
d("dimensions.js");try{if("undefined"===typeof chrome||"undefined"===typeof chrome.storage)localStorage.setItem("test","test"),localStorage.removeItem("test")}catch(m){d("localStorage.js")}})();
(function(r){r.URL=r.URL||r.webkitURL;if(r.Blob&&r.URL)try{new Blob;return}catch(g){}var d=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||function(d){var g=function(k){return Object.prototype.toString.call(k).match(/^\[object\s(.*)\]$/)[1]},b=function(){this.data=[]},h=function(k,e,a){this.data=k;this.size=k.length;this.type=e;this.encoding=a},f=b.prototype,a=h.prototype,c=d.FileReaderSync,l=function(k){this.code=this[this.name=k]},A="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),
t=A.length,e=d.URL||d.webkitURL||d,p=e.createObjectURL,k=e.revokeObjectURL,v=e,z=d.btoa,s=d.atob,u=d.ArrayBuffer,w=d.Uint8Array;for(h.fake=a.fake=!0;t--;)l.prototype[A[t]]=t+1;e.createObjectURL||(v=d.URL={});v.createObjectURL=function(k){var a=k.type;null===a&&(a="application/octet-stream");if(k instanceof h)return a="data:"+a,"base64"===k.encoding?a+";base64,"+k.data:"URI"===k.encoding?a+","+decodeURIComponent(k.data):z?a+";base64,"+z(k.data):a+","+encodeURIComponent(k.data);if(p)return p.call(e,
k)};v.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&k&&k.call(e,a)};f.append=function(k){var e=this.data;if(w&&(k instanceof u||k instanceof w)){var a="";k=new w(k);for(var p=0,b=k.length;p<b;p++)a+=String.fromCharCode(k[p]);e.push(a)}else if("Blob"===g(k)||"File"===g(k))if(c)a=new c,e.push(a.readAsBinaryString(k));else throw new l("NOT_READABLE_ERR");else k instanceof h?"base64"===k.encoding&&s?e.push(s(k.data)):"URI"===k.encoding?e.push(decodeURIComponent(k.data)):"raw"===k.encoding&&
e.push(k.data):("string"!==typeof k&&(k+=""),e.push(unescape(encodeURIComponent(k))))};f.getBlob=function(k){arguments.length||(k=null);return new h(this.data.join(""),k,"raw")};f.toString=function(){return"[object BlobBuilder]"};a.slice=function(k,e,a){var c=arguments.length;3>c&&(a=null);return new h(this.data.slice(k,1<c?e:this.data.length),a,this.encoding)};a.toString=function(){return"[object Blob]"};a.close=function(){this.size=0;delete this.data};return b}(r);r.Blob=function(m,g){var b=g?g.type||
"":"",h=new d;if(m)for(var f=0,a=m.length;f<a;f++)h.append(m[f]);return h.getBlob(b)}})("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this);
(function(r){var g=r.Uint8Array,d=(r=r.HTMLCanvasElement)&&r.prototype,m=/\s*;\s*base64\s*(?:;|$)/i,q="toDataURL",b;g&&(b=new g([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]));r&&!d.toBlob&&(d.toBlob=function(h,f){f||(f="image/png");if(this.mozGetAsFile)h(this.mozGetAsFile("canvas",f));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(f))h(this.msToBlob());
else{var a=Array.prototype.slice.call(arguments,1),c=this[q].apply(this,a),l=c.indexOf(","),a=c.substring(l+1),c=m.test(c.substring(0,l)),d;if(Blob.fake)d=new Blob,d.encoding=c?"base64":"URI",d.data=a,d.size=a.length;else if(g)if(c){d=Blob;for(var c=a.length,l=new g(c/4*3|0),t=0,e=0,p=[0,0],k=0,v=0,z,s;c--;)s=a.charCodeAt(t++),z=b[s-43],255!==z&&void 0!==z&&(p[1]=p[0],p[0]=s,v=v<<6|z,k++,4===k&&(l[e++]=v>>>16,61!==p[1]&&(l[e++]=v>>>8),61!==p[0]&&(l[e++]=v),k=0));d=new d([l],{type:f})}else d=new Blob([decodeURIComponent(a)],
{type:f});h(d)}},d.toBlobHD=d.toDataURLHD?function(){q="toDataURLHD";var b=this.toBlob();q="toDataURL";return b}:d.toBlob);r&&!d.toBlobURL&&(d.toBlobURL=function(b){b=b||function(b){console.log("no callback",b)};this.toBlob(function(f){b(URL.createObjectURL(f))})})})("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this);document.createElementNS||(document.createElementNS=function(r,g){return document.createElement(g)});
if(!window.chrome||!window.chrome.fileSystem){var saveAs=saveAs||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(r){if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var g=r.document,d=g.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in d,q=function(e){var a=g.createEvent("MouseEvents");a.initMouseEvent("click",!0,!1,r,0,0,0,0,0,!1,!1,!1,!1,0,null);e.dispatchEvent(a)},b=r.webkitRequestFileSystem,
h=r.requestFileSystem||b||r.mozRequestFileSystem,f=function(e){(r.setImmediate||r.setTimeout)(function(){throw e;},0)},a=0,c=function(e){var a=function(){"string"===typeof e?(r.URL||r.webkitURL||r).revokeObjectURL(e):e.remove()};r.chrome?a():setTimeout(a,500)},l=function(e,a,k){a=[].concat(a);for(var c=a.length;c--;){var b=e["on"+a[c]];if("function"===typeof b)try{b.call(e,k||e)}catch(l){f(l)}}},A=function(e,p){var k=this,f=e.type,z=!1,s,u,w=function(){l(k,["writestart","progress","write","writeend"])},
x=function(){if(z||!s)s=(r.URL||r.webkitURL||r).createObjectURL(e);u?u.location.href=s:void 0==r.open(s,"_blank")&&"undefined"!==typeof safari&&(r.location.href=s);k.readyState=k.DONE;w();c(s)},y=function(e){return function(){if(k.readyState!==k.DONE)return e.apply(this,arguments)}},t={create:!0,exclusive:!1},B;k.readyState=k.INIT;p||(p="download");if(m)s=(r.URL||r.webkitURL||r).createObjectURL(e),d.href=s,d.download=p,q(d),k.readyState=k.DONE,w(),c(s);else{r.chrome&&f&&"application/octet-stream"!==
f&&(B=e.slice||e.webkitSlice,e=B.call(e,0,e.size,"application/octet-stream"),z=!0);b&&"download"!==p&&(p+=".download");if("application/octet-stream"===f||b)u=r;h?(a+=e.size,h(r.TEMPORARY,a,y(function(a){a.root.getDirectory("saved",t,y(function(a){var b=function(){a.getFile(p,t,y(function(a){a.createWriter(y(function(p){p.onwriteend=function(e){u.location.href=a.toURL();k.readyState=k.DONE;l(k,"writeend",e);c(a)};p.onerror=function(){var k=p.error;k.code!==k.ABORT_ERR&&x()};["writestart","progress",
"write","abort"].forEach(function(e){p["on"+e]=k["on"+e]});p.write(e);k.abort=function(){p.abort();k.readyState=k.DONE};k.readyState=k.WRITING}),x)}),x)};a.getFile(p,{create:!1},y(function(k){k.remove();b()}),y(function(k){k.code===k.NOT_FOUND_ERR?b():x()}))}),x)}),x)):x()}},t=A.prototype;t.abort=function(){this.readyState=this.DONE;l(this,"abort")};t.readyState=t.INIT=0;t.WRITING=1;t.DONE=2;t.error=t.onwritestart=t.onprogress=t.onwrite=t.onabort=t.onerror=t.onwriteend=null;return function(e,a){return new A(e,
a)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs})}"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Listener=function(g){var d=0,m=function(b,h){if("function"===typeof h){var f=h.uniqueId||(h.uniqueId=d++);return b+"."+f}console.warn(b,"listener does not exist")},q=function(b){var h={},f=function(){var a=!1,c;for(c in h)h[c].apply(g,arguments)&&(a=!0);return a};f.add=function(a){var c=m(b,a);if(void 0===h[c]&&a)return h[c]=a,{add:function(){h[c]=a},remove:function(){delete h[c]}}};f.remove=function(a){var c=m(b,a);void 0!==h[c]&&a&&delete h[c]};return f};
g.on=g.addListener=function(b,h){return(g.on[b]?g.on[b]:g.on[b]=q(b)).add(h)};g.removeListener=function(b,h){(g.on[b]?g.on[b]:g.on[b]=q(b)).remove(h)};g.removeListeners=function(b){delete g.on[b]};g.emit=function(b){var h=g.on[b];if(h){var f=Array.prototype.slice.call(arguments).slice(1);return h.apply(g,f)}}};"object"===typeof module&&module.exports&&(module.exports=r.module.Listener)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.loc=r.loc||{},d=r.util;g.getHash=function(d){var q="?"+window.location.hash.substr(1),q=g.parseUri(q).queryKey;g.hash=q;return d?q[d]:q};g.getSearch=function(){var d=g.getQuery(window.location.search,"sk");return g.search=d};g.update=function(){g.getSearch();g.getHash()};g.parseQuery=function(d){d=d.split(";");for(var g={},b=0;b<d.length;b++)if(d[b]){var h=d[b].split(":");g[h[0]]=h[1]||!0}return g};g.getQuery=function(d,q){var b=g.parseUri(d).queryKey;return b=b[q]?g.parseQuery(b[q]):
{}};g.setHost=function(m){var q=r.fs.dbpath?r.fs.dbpath()||"":"",b=function(k){return"string"===typeof k?(k=k&&-1===k.indexOf("://")?e+k:k,h(k)):""},h=function(k){var e=k[k.length-1];return"="===e||"?"===e||"/"===e?k:k+"/"},f=function(){return t.host+d.string.dirpath(t.pathname)},a=function(){var k=h(f());g.host=k;g.protocol=t.protocol;g.HOST=b(k);g.MEDIA=g.HOST+"media/";g.PROXY=g.HOST+"proxy/?url=";g.GET=q;g.POST=q},c=function(k){k=k.split(":");return{host:k.shift(),port:k.shift()}},l=function(k,
e,a){a=c(a);e=c(e);for(var p in k)k[p].replace&&(k[p]=k[p].replace(e.host,a.host));(e=k.feature)&&d.copyInto(e,r.feature);e=h(k.pathWeb||k.HOST||f());g.host=e;g.protocol=t.protocol;g.IO=k.IO||"";g.HOST=b(e);g.MEDIA=b(k.MEDIA||g.HOST+"media/");g.PROXY=b(k.PROXY||g.HOST+"proxy/?url=");g.GET=b(k.pathGet||k.GET||q);g.POST=b(k.pathPost||k.POST||q)},A=function(k){var e=k.feature;e&&d.copyInto(e,r.feature);e=h(k.pathWeb||k.HOST||f());g.host=e;g.protocol=t.protocol;g.IO=k.IO;g.HOST=b(e);g.MEDIA=b(k.MEDIA||
g.HOST+"media/");g.PROXY=b(k.PROXY||g.HOST+"proxy/?url=");g.GET=b(k.pathGet||k.GET||q);g.POST=b(k.pathPost||k.POST||q)};m=m||g.hosts||{};g.hosts=m;g.update();var t=window.location,e=t.protocol+"//",p=t.host;if(m[p])return A(m[p]);if(m[e+p])return A(m[e+p]);var k,v;for(v in m){var z=m[v];if(z.alias&&-1!==z.alias.indexOf(p))return l(d.copy(z),v,p);z.defaultFallback&&(k=z)}return k?A(k):a()};g.setHash=function(m,q){if("string"===typeof m){var b=g.getHash();b[m]=q;return g.setHash(b)}if("boolean"===typeof q)return b=
d.copyInto(m,g.getHash()),g.setHash(b);b=[];m=m||g.getHash();for(var h in m){var f=m[h];void 0!==f&&(f?b.push(h+"="+f):b.push(h))}b="#"+b.join("&");h=window.location;h.hash!==b&&(h.hash=b)};g.getSketchID=function(){return d.exists("gapi.hangout.getHangoutId")?gapi.hangout.getHangoutId():g.getHash(r.feature.sync.hashFlag)||""};g.isLocalUrl=function(){var d=/^([!#$&-;=?-\[\]_a-z~ ]|%[0-9a-fA-F]{2}|)+$/,g=/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/,b={"http:":/:(80)?$/,"https:":/:(443)?$/},h={"data:":!0,"blob:":!0,
"filesystem:":!0};return function(f,a){if("string"===typeof f){var c=f.match(g);return a&&h[c[1]]?!0:c[1]&&c[1].toLowerCase()!==location.protocol||c[2]&&c[2].replace(b[location.protocol],"")!==location.host||c[1]&&!c[2]?!1:d.test(f)}console.error(f)}}();g.isRemoteUrl=function(d){return d.startsWith("http:")||d.startsWith("https:")?!g.isLocalUrl(d):!1};g.isBlobUrl=function(d){return d.startsWith("blob:")};g.isDataUrl=function(d){return d.startsWith("data:")};g.isFileUrl=function(d){return d.startsWith("filesystem:")};
g.isInternalUrl=function(d){return g.isBlobUrl(d)||g.isDataUrl(d)||g.isFileUrl(d)};g.isValidXhrUrl=function(d){return g.isLocalUrl(d,!0)||g.isRemoteUrl(d)};g.getMediaUrl=function(d){return g.isInternalUrl(d)?d:d.startsWith("http")||d.startsWith("./")||d.startsWith("/")?d:g.MEDIA+d};g.parseUri=function(d){var g="source protocol authority credentials username password host port relative path directory file query anchor".split(" "),b=RegExp("^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?://)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)").exec(d);
d={queryKey:{}};for(var h=0;h<g.length;h++)d[g[h]]=b[h]||"";d.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(b,a,c,l,h){a&&a.length&&(d.queryKey[a]=c)});return d};"object"===typeof module&&module.exports&&(module.exports=r.loc)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Supports=function(g,d){var m=this,q=g.dom,b=g.feature,h=g.util;m.getAuthDirection=function(){if(m.android){if(m.chrome)return["center","bottom",180];if(!m.firefox&&m.opera)return["center","center",0]}else if(!m.opera){if(m.chrome)return["right","top",45];if(m.firefox)return["left","top",315]}return["center","top",0]};var f=navigator.userAgent||navigator.vendor||window.opera;m.userAgent=f;m.ie=!!document.documentMode;m.firefox="undefined"!==typeof InstallTrigger;
m.opera=!!window.opera||/Opera|OPR/i.test(f);m.chrome=!!window.chrome&&!m.opera;m.safari=/Safari/i.test(f)&&!m.opera&&!m.chrome;if(m.ios=/iPhone|iPad|iPod/i.test(f))m.iosVersion=parseFloat(navigator.appVersion.match(/OS (\d)/)[1],10);m.android=/Android/i.test(f);m.blackberry=/Blackberry/i.test(f);m.mac=!m.ios&&/Mac/.test(f);m.windows=/Windows/.test(f);m.linux=/Linux/.test(f);m.mobile=/Opera Mini|IEMobile|Symbian|WebOS/i.test(f)||m.ios||m.android||m.blackberry;try{m.cordova=!!window.top.cordova}catch(a){}m.nodewebkit=
!(!h.exists("process.versions")||!process.versions["node-webkit"]);m.chromeApp=h.exists("chrome.storage.local");m.flash=function(){var a=navigator,c=parseFloat,e=a.plugins,a=a.mimeTypes,p,k;if(e&&"object"==typeof e["Shockwave Flash"]){if((p=e["Shockwave Flash"].description)&&(!a||!a["application/x-shockwave-flash"]||a["application/x-shockwave-flash"].enabledPlugin))return c(p.replace(/^.*\s+(\S+)\s+\S+$/,"$1"))}else if(window.ActiveXObject)try{if(k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))if(p=
k.GetVariable("$version"))return c(p.replace(/^\S+\s+(\d+),(\d+).*$/i,"$1.$2"))}catch(b){}return!1}();m.lang=((navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage)||"en").toLowerCase();"function"===typeof detectPrivateMode&&detectPrivateMode(function(a){m.incognito=a});m.fn={};m.fn.detect=function(a){var c=q.Canvas(1,1);m.fn.detectIO(c,function(){if(m.canvas=!!c.ctx)m.fn.detectWebGL(),m.fn.detectCanvas2dFeatures(c),m.fn.detectPixelRatioSupport(c);m.fn.detectFileSystem();
m.fn.detectFeature();m.history=!(!window.history||!window.history.pushState);a&&a()})};m.fn.detectWebGL=function(){var a=document.createElement("canvas");a.width=1;a.height=1;try{m.webgl=!(!a.getContext("webgl")&&!a.getContext("experimental-webgl"))}catch(c){m.webgl=!1}};m.fn.detectFileSystem=function(){if(m.fileReader=!!window.FileReader)m.chooseEntry=h.exists("chrome.fileSystem.chooseEntry")||h.exists("navigator.camera.getPicture"),m.fs=!m.nodewebkit&&!!l(window,"requestFileSystem")};m.fn.detectPixelRatio=
function(a){a=l(a,"backingStorePixelRatio")||1;return m.pixelRatio=m._pixelRatio=(window.devicePixelRatio||1)/a};m.fn.detectPixelRatioSupport=function(a){if(b){var c=a.ctx,e=m.fn.detectPixelRatio(c);if(b.canvas.usePixelRatio||b.canvas.usePixelRatioDesktop&&!m.mobile)if(m.ios&&8>m.iosVersion)m._pixelRatio=1;else{if(1!==e){var p=h.timestamp();a.width=window.innerWidth*e;a.height=window.innerHeight*e;c.drawImage(a,0,0);36<h.timestamp()-p&&(m.pixelRatio=1);a.width=a.height=1}}else m._pixelRatio=1}};m.fn.detectFeature=
function(){b&&(m.opera&&m.windows&&(m.gco.__blend=!1),b.style.composite=b.style.composite&&!1!==m.gco.__composite,b.style.blend=b.style.blend&&!1!==m.gco.__blend,b.vector.record||(b.vector.edit=!1),b.vector.edit||(b.history.vector=!1))};m.fn.detectUserMedia=function(){return m.getUserMedia=!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)};m.fn.detectPeerConnection=function(){return m.peerConnection=!!(window.PeerConnection||window.webkitPeerConnection00||
window.webkitRTCPeerConnection||window.mozRTCPeerConnection||window.RTCPeerConnection)};m.fn.detectDataChannel=function(){try{var a=g.net;(new RTCPeerConnection(a.iceServers,a.dataChannelConfig)).createDataChannel("supportCheck",{reliable:!0}).close();return m.dataChannel=!0}catch(c){return m.dataChannel=!1}};var c={blendModes:"normal multiply screen overlay darken lighten color-dodge color-burn hard-light soft-light difference exclusion hue saturation color luminosity".split(" "),compositeModes:"source-over source-in source-out source-atop destination-over destination-in destination-out destination-atop lighter copy xor".split(" ")};
m.fn.detectCanvas2dFeatures=function(a){var b=a.ctx;a=function(e,a){for(var k=!1,l=c[a],f=0;f<l.length;f++){var h=l[f];if(0===f)m.gco[h]=!0;else{b.globalCompositeOperation=h;var d=b.globalCompositeOperation===h;(m.gco[h]=d)&&(k=!0)}}m.gco["__"+e]=k};m.gco={};a("composite","compositeModes");a("blend","blendModes");m.ctx_imageSmoothing="boolean"===typeof b.imageSmoothingEnabled;m.ctx_lineDash="function"===typeof b.setLineDash};m.fn.detectIO=function(a,c){var e=0,p=function(){!--e&&c&&c()},k=function(k,
c){++e;var b=a.toDataURL(c).split(";")[0].substr(5);m.io[k]=b===c;setTimeout(p,1)};m.io={};m.io.__enabled=!0;k("jpeg","image/jpeg");k("png","image/png");k("webp","image/webp");k("bmp","image/bmp");(function(k,c){try{++e,a.toBlob(function(k){var e=new Image;e.onload=function(){var k=!(0===this.width&&0===this.height);m.io.blob=k;m.io.zip=!(!k||!g.module.ZIP);p()};e.onerror=function(){m.io.blob=!1;m.io.zip=!1;p()};e.src=URL.createObjectURL(k)})}catch(b){m.io.blob=!1,m.io.zip=!1,setTimeout(p,1)}})()};
var l=function(a,c){if(a[c])return a[c];c=c[0].toUpperCase()+c.substr(1);return a["webkit"+c]||a["moz"+c]||a["ms"+c]||a["o"+c]};d&&m.fn.detect(d)}})(sketch);"undefined"===typeof sketch&&(sketch={});"undefined"===typeof sk&&(sk=sketch);
(function(r){r.module=r.module||{};r.module.Namespace=function(g){var d=g.util;sk=g;g.__nodejs=!1;g.__version="3.7.6";"{{"===g.__version.substr(0,2)&&(g.__version="3.7.3dev");g.api=g.api||{};g.client=g.client||{io:{}};g.doc=g.doc||{};g.doc.render=g.doc.render||{};g.doc.selection=g.doc.selection||{};g.docs=g.docs||{};g.dom=g.dom||{};g.events=g.events||{};g.fs=g.fs||{};g.gen=g.gen||{};g.io=g.io||{};g.lang=g.lang||{};g.lib=g.lib||{};g.loc=g.loc||{};g.module=g.module||{};g.net=g.net||{};g.net.userColor=
"blue";g.net.userId="U";g.server=g.server||{};g.sidebar=g.sidebar||{};g.ui=g.ui||{};g.ui.colorPicker=g.ui.colorPicker||{};g.ui.icons=g.ui.icons||{};g.vector=g.vector||{};g.windows=g.windows||{};(function(){var d=g.feature={};d.container=void 0;d.focusElement=void 0;d.debug=!1;d.debugCache=!1;d.debugRender=!1;d.interactable=!0;d.kiosk=!1;d.lang="auto";d.prefix="sketch";d.theme="light";d.cache257=!1;d.cache2D=!0;d.cache2DPadding=2;d.cacheSVG=!0;d.doc={};d.doc.bounds={};d.doc.clip={};d.doc.description=
"made with https://sketch.io/";d.doc.format="json";d.doc.title="My Drawing";d.doc.units="%";d.doc.width=100;d.doc.height=100;d.doc.x=0;d.doc.y=0;d.doc.background="#fff";d.doc.dpi=72;d.doc.centerOnLoad=!0;d.doc.centerOnResize=!0;d.doc.gestureScroll=!0;d.doc.gestureTransform=!1;d.doc.gestureZoom=!1;d.doc.globalTools=!0;d.doc.restoreSettings=!0;d.tools={};d.tools.defaultTool="pen";d.tools.defaults={};d.tools.defaults.units="objectBoundingBox";d.tools.defaults.addByClick=!0;d.tools.defaults.addByDrag=
!0;d.tools.defaults.defaultHeight=100;d.tools.defaults.defaultWidth=100;d.tools.defaults.editByClick=!1;d.tools.defaults.editByDblClick=!0;d.tools.defaults.constrainToCanvas=!1;d.tools.defaults.showBBox=!0;d.tools.defaults.showCenterPoint=!0;d.tools.defaults.showGhostPath=!1;d.tools.defaults.maxHeight=16384;d.tools.defaults.maxWidth=16384;d.tools.defaults.minHeight=3;d.tools.defaults.minWidth=3;d.tools.defaults.flippable=!0;d.tools.defaults.movable=!0;d.tools.defaults.rotatable=!0;d.tools.defaults.scalable=
!0;d.tools.defaults.usePointInBBox=!0;d.tools.defaults.usePointInImageData=!1;d.tools.defaults.usePointInPath=!1;d.tools.defaults.usePointNearest=!0;d.tools.defaults.useHoverFocus=!0;d.tools.defaults.controls={};d.tools.defaults.controls.anchor=void 0;d.tools.defaults.controls.spinner=void 0;d.tools.defaults.controls.n=void 0;d.tools.defaults.controls.s=void 0;d.tools.defaults.controls.e=void 0;d.tools.defaults.controls.w=void 0;d.tools.defaults.controls.ne=void 0;d.tools.defaults.controls.se=void 0;
d.tools.defaults.controls.sw=void 0;d.tools.defaults.controls.nw=void 0;d.tools.defaults.controls.mouse={};d.tools.defaults.controls.mouse.width=14;d.tools.defaults.controls.mouse.height=14;d.tools.defaults.controls.mouse.padding=0;d.tools.defaults.controls.touch={};d.tools.defaults.controls.touch.width=24;d.tools.defaults.controls.touch.height=24;d.tools.defaults.controls.touch.padding=0;d.tools.select={};d.tools.select.useConfigure=!0;d.tools.select.clickToDeselect=!0;d.tools.text={};d.tools.text.autoHeight=
!0;d.tools.text.clip=!1;d.tools.text.defaultHeight=100;d.tools.text.defaultWidth=300;d.tools.text.minHeight=15;d.tools.text.minWidth=15;d.tools.text.useHTML=!1;d.tools.text.useCanvasRender=!1;d.tools.text.useSearch="text";d.tools.media={};d.tools.media.useSearch="no";d.tools.vectorfill={};d.tools.vectorfill.fillArea="point";d.tools.vectorfill.fillMode=!1;d.tools.pointer={};d.tools.pointer.vibrate=!1;d.tools.brush={};d.tools.path={};d.tools.scissor={};d.tools.polygon={};d.tools.polygon.useAddPointAtDistanceOnDrag=
10;d.tools.polygon.useBendable=!0;d.tools.polyline={};d.tools.polyline.useAddPointAtDistanceOnDrag=10;d.tools.polyline.useBendable=!0;d.tools.camera={};d.tools.crop={};d.tools.group={};d.tools.screenshot={};d.tools.shape={};d.tools.zoom={};d.canvas={};d.canvas.clip=!0;d.canvas.glfx=!1;d.canvas.useBGRender=!1;d.canvas.useBGSave=!0;d.canvas.useGroupBBox=!1;d.canvas.usePixelRatio=!1;d.canvas.usePixelRatioDesktop=!1;d.canvas.pixelRatio=void 0;d.zoom={};d.zoom.defaultValue=1;d.zoom.fromCenter=!0;d.zoom.increment=
.1;d.zoom.max=100;d.zoom.min=.25;d.zoom.value=1;d.vector={};d.vector.edit=!0;d.vector.record=!0;d.ui={};d.ui.addToLibrary=!0;d.ui.bruteForce=!0;d.ui.scrollerAtopColor="#fff";d.ui.scrollerCategories=!0;d.ui.scrollerShadow=!1;d.ui.cursorDefs=!1;d.ui.cursorDynamic=!1;d.ui.customRangeBar=!1;d.ui.quickSelect=!1;d.ui.tooltips=!0;d.ui.listTool="list";d.ui.listText="list";d.uploader={};d.uploader.DND=!0;d.uploader.DNDArea=void 0;d.uploader.DNDMessage=void 0;d.beforeUnloadPrompt=!1;d.preventScroll=!1;d.preventTouch=
!1;d.requireAuth=!1;d.pane={};d.pane.tabs=!1;d.pane.position=void 0;d.pane.header=!0;d.io={};d.io.exportDrop=!1;d.io.filePickerIO=!1;d.io.defaultProject=!1;d.io.translateX=0;d.io.translateY=0;d.palette={};d.palette.hexInput=!1;d.palette.closeButton=!1;d.palette.colorPicker=!1;d.palette.eyeDropper=!1;d.palette.grid=!1;d.palette.header="";d.palette.version=2;d.palette.buildInstant=!1;d.style={};d.style.toGlobals=!0;d.style.fromGlobalPaint=!1;d.style.fromGlobalBlend=!1;d.style.defaultFillType="color";
d.style.defaultStrokeType="color";d.style.defaultBackgroundType="color";d.style.color="#000";d.style.gradient=!1;d.style.pattern=!1;d.style.blend=!1;d.style.composite=!1;d.style.colorMode=!1;d.style.colorNoise=!1;d.style.lineJoin=!1;d.placement={};d.placement.mediaClick=!1;d.placement.mediaDblClick=!1;d.placement.mediaDrag=!1;d.history={};d.history.autoSelect=!1;d.history.canUndo=!0;d.history.canRedo=!0;d.history.bitmap=!1;d.history.limit=!1;d.history.vector=!1;d.fs={};d.fs.autosave=!0;d.fs.dbname=
"sketchpad";d.sync={};d.sync.image=!1;d.sync.json=!1;d.sync.svg=!1;d.sync.thumb=!1;d.sync.zip=!1;d.sync.maxAssetSize=0;d.sync.maxFileSize=0;d.sync.enabled=!1;d.sync.hashFlag="sketch";d.stream={};d.stream.api="RTCDataChannel";d.stream.audio=!1;d.stream.maxFileSize=0;d.stream.realtime=!1;d.stream.sketch=!1;d.stream.syncServer=!1;d.stream.spectrumAnalysis=!1;d.stream.text=!1;d.stream.video=!1;d.stream.videoAtop=!1;d.session={};d.session.userId="";d.session.userName="";d.social={};d.social.autoLogout=
!1;d.social.autoLogoutTimeout=!1;d.social.setCookie=!0})();(function(){function m(b){for(var f={},a=0,c;a<b.length;a++)if(c=b[a]){var l=c[0].toLowerCase()+c.substr(1);f[l]=c}return f}function q(b,f){f=m(f);(g.attrs[b]=function(a){var c=this;(this.setValue=function(a){if("undefined"!==typeof a){if("string"===typeof a){var d=f,t=document.createElement("span").style;t[b]=a;for(var e in d)a=t[b+d[e]],""!==a&&"initial"!==a&&(c[e]=a)}else for(d in f)"undefined"!==typeof a[d]&&(c[d]=a[d]);return c}})(a)}).type=
b}var b=g.attrs={};q("background","Color Image Repeat Attachment Position Clip Origin Size".split(" "));q("border","Width Style Color Radius ImageSource ImageSlice ImageWidth ImageOutset ImageRepeat".split(" "));q("padding",["Top","Left","Bottom","Right"]);q("margin",["Top","Left","Bottom","Right"]);b.create=function(d,f){return b[d]?new b[d](f):f};b.update=function(d,f,a){return a&&a.setValue?a.setValue(f):b.create(d,f)};b.__basicObject={bbox:"bbox",composite:"string",groupId:"string",id:"string",
meta:"string",opacity:"number",pointerId:"string",seed:"number",timestamp:"number",toolkitId:"string",type:"string",visible:"boolean"};b.__styledObject=d.copyInto(b.__basicObject,{filter:"filter",fill:"style",stroke:"style",border:"border",background:"style",margin:"margin",padding:"padding"});b.__rules={exportable:"boolean",movable:"boolean",rotatable:"boolean",scalable:"boolean",selectable:"boolean",useAlignX:"string",useAlignY:"string",useBackgroundOverlay:"boolean",useConstrain:"boolean",useConstrainX:"boolean",
useConstrainY:"boolean",useControlNE:"boolean",useControlNW:"boolean",useControlSE:"boolean",useControlSW:"boolean",useHighRes:"boolean",useMaxCopies:"number",useMaxHeight:"number",useMaxWidth:"number",useMinHeight:"number",useMinWidth:"number",usePixelData:"boolean",useStickToBack:"boolean",useStickToFront:"boolean",useStretchToEdge:"boolean",useStretchToFit:"boolean"}})()};"object"===typeof module&&module.exports&&(module.exports=r.module.Namespace)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Document=function(g){function d(e){if(b.pixelRatio!==e)return b.pixelRatio=e||1,b.scene.setDirtyCache(b.scene.children),!0}function m(){var e=b.backgroundRaw;if(e&&e.canvas){var k=b.orient.scale,e=e.canvas;b.targetEditable.style.backgroundSize=e.width*k+"px "+e.height*k+"px"}}var q="undefined"===typeof window?{}:window,b=this,h=g.client,f=g.dom,a=g.feature,c=g.style,l=g.ui,A=g.util;b.idx=g.module.Document.idx++;b.__editing=!1;b.__interacting=!1;b.__lastSynchronized=
0;b.__lastModified=0;b.__preloading=!1;b.__rendering=!1;b.defaultTool="select";b.tool={};b.config={};b.selection={};g.module.Listener(b);g.docs[b.idx]=b;var t=b.contexts={layer0:"z-index: 0;",draw:"z-index: 1;",active:"z-index: 2;",cache:"display: none;"};a.debug&&(t.debug="");var e=b.canvas2d={x:0,y:0,width:0,height:0,orientX:0,orientY:0};b.container=q.document;b.format="json";b.title=a.doc.title;b.description=a.doc.description;b.uuid=A.uuid();b.dpi=72;b.pixelRatio=a.canvas.pixelRatio||1;b.zoom=
1;b.units="%";b.x=0;b.y=0;b.width=100;b.height=100;b.scrollLeft=0;b.scrollTop=0;b.pages={};b.pages.length=1;b.pages.data=[{width:b.width,height:b.height}];b.bounds={width:0,height:0};b.viewport={width:0,height:0,clip:{}};b.clip={};b.getBounds=function(e){e=e||{};e.dpi=e.dpi||72;e.scale=e.scale||1;var k=b.getViewport(),a=b.bounds;"%"===b.units?(a.width=(b.width||100)/100*k.width,a.height=(b.height||100)/100*k.height):(a.width=b.width,a.height=b.height);e=e.dpi/72*e.scale;a.width=Math.ceil(a.width*
e);a.height=Math.ceil(a.height*e);a.x=b.x;a.y=b.y;return a};b.getViewport=function(){var e=f.measure(b.targetViewport),k=e.padding||{left:0,right:0,top:0,bottom:0},a=e.height-k.top-k.bottom,c=b.viewport;c.width=Math.round((e.width-k.left-k.right)/e.scaleX);c.height=Math.round(a/e.scaleY);return c};b.setMetrics=function(e){b.x=isFinite(e.x)?e.x:b.x||0;b.y=isFinite(e.y)?e.y:b.y||0;b.setSize(e.width||b.width,e.height||b.height,e.units||b.units,e.dpi||b.dpi);b.scrollTo({left:e.scrollLeft||b.scrollLeft,
top:e.scrollTop||b.scrollTop,duration:0});b.orient.reset();b.orient.setZoom(e.zoom||1)};b.getMetrics=function(){var e={};e.units=b.units;e.x=b.x;e.y=b.y;e.width=b.width;e.height=b.height;e.scrollLeft=b.scrollLeft;e.scrollTop=b.scrollTop;e.zoom=b.zoom;return e};b.setAttributes=function(e){b.mixinMetaData(e,b)};(function(){var e={uuid:"string",title:"string",description:"string",background:{string:!0,object:!0},format:"string",units:"string",dpi:"number",x:"number",y:"number",width:"number",height:"number",
pages:"object",labels:"object",clip:"object"};b.mixinMetaData=function(k,a){if("object"===typeof k){for(var c in k){var b=typeof k[c],l=e[c];l&&(b===l||l[b])&&(a[c]=k[c])}k.width&&k.height&&a.pages&&1===a.pages.length&&(c=a.pages.data[0],c.width=k.width,c.height=k.height);return a}}})();b.focus=function(){g.doc=b;b.targetEditable.focus();f.setClass({target:b.originalContainer,className:"sk-focused",on:!0,list:f.$$(".sk-focused")})};b.setPixelRatio=function(e){d(e)&&(b.setCanvasSize(),b.orient.reset(),
b.orient.render("root.setPixelRatio"))};b.setZoom=function(e){e===+e&&(b.orient.setZoom(e),b.orient.render())};b.setClip=function(e,k){e?e.path?b.setClipPath(e,k):b.setClipRect(e,k):(b.clip={},b.render.dirtyClip=!0)};b.setClipRect=function(e,k){b.clip=e};b.setClipPath=function(e,k){var a=new g.vector.Transform;a.scale(k,k);a.flatten(e.path);b.clip={};b.clip.path=e.path;b.clip.style=e.style};b.setPage=function(e,k){var a=b.pages;if(k)for(var c=0,l=b.scrollTop+b.viewport.height,f=0;f<a.data.length;f++)if(c+=
a.data[f].height,l<=c){e=f+e;break}e=Math.min(a.length-1,Math.max(0,e));for(c=f=0;f<e;f++)c+=a.data[f].height;b.scrollTo({top:c,duration:0})};b.addPage=function(e){e.width&&e.height&&(b.pages.length++,b.pages.data.push({width:e.width,height:e.height}),b.setSize(b.width,b.height+e.height),b.scrollElementCSS())};b.removePage=function(e){isFinite(e)&&b.pages.data[e]&&(e=b.pages.data.splice(e,1)[0])&&(b.pages.length--,b.setSize(b.width,b.height-e.height),b.scrollElementCSS())};b.scrollTo=function(e,k,
a){var c;"object"===typeof e&&(c=e,e=c.left,k=c.top,a=c.duration,c=c.relative);f.scrollTo({target:b.targetScrollable,left:e,top:k,duration:a,relative:c})};b.scrollReset=function(){var e=b.targetScrollable;e.scrollLeft=0;e.scrollTop=0;b.scrollLeft=0;b.scrollTop=0};b.scrollElementCSS=function(){var e=b.pixelRatio,k=b.scrollLeft,a=b.scrollTop,c=b.orient.scale,l=b.orient.getValues(),f=b.setBounds(),d=b.targetEditable.style;d.width=c*f.width+"px";d.height=c*f.height+"px";d.left=(l.x+k*(1-c))/e+"px";d.top=
(l.y+a*(1-c))/e+"px";e=b.container;e.scrollTop>b.bounds.height-b.viewport.height&&(e.scrollTop=b.bounds.height-b.viewport.height);m()};b.setBounds=function(e,k){var a=b.zoom,c=b.container,l=b.getBounds();e=e||l.width;k=k||l.height;e&&k||(l=f.measure(c),e=l.width,k=l.height);var a=Math.max(1,a),l=b.getViewport(),d=Math.max(l.width,e),h=Math.max(l.height,k),d=d*a,a=h*a,h=Math.min(d,l.width),l=Math.min(a,l.height);c.style.width=h+"px";c.style.height=l+"px";return{targetWidth:d,targetHeight:a,width:e,
height:k}};b.setContainer=function(e){var k="string"===typeof e?f.$(e):f.$(e.container||document.body);if(!(k instanceof HTMLElement))throw"opts.element must be a valid HTMLElement or selector";var a=k.classList,c=a.contains("sk-canvas-content");a.contains("sk-canvas")||c||f.$(".sk-canvas",k)?a=k:(a=f.create('<div class="sk-canvas"></div>'),k.appendChild(a));c=f.$(".sk-canvas-dummy",a);null==c&&(c=document.createElement("div"),c.className="sk-canvas-dummy",c.setAttribute("data-pid",b.idx),c.contentEditable=
!h.mobile,a.appendChild(c));b.targetEditable=c;b.targetListenable=f.$(e.focusElement||c);b.targetScrollable=f.$(e.scrollElement||a);b.targetViewport=f.$(e.targetViewport||a.parentNode||a);b.originalContainer=k;b.container=a;b.focus()};(function(){function e(k,c){a.theme=c;w(k,k,k);x&&x()}function k(e,k,c){a.theme=c;e(k,function(e){w(k,e.css,e);x&&x()})}function l(e){var k=e.angle,a=e.mode,b=c.getColorStopsHelper({dna:e[e.type],noise:e.noise}),k=c.toCSSGradient({stops:c.toCSSColorStops(b),type:a,angle:k});
w(e,k,d(a,b,e));x&&x()}function f(e){-1===e.indexOf("gradient")&&(e=c.toCSSGradient({dna:e,type:"linear",angle:"0deg"}));var k=c.parseCSSGradient(e).stops;k?(w(e,e,d("linear",k)),x&&x()):y&&y()}function d(e,k,a){var p=b.bounds;return c.createGradient(null,e,0,0,p.width,p.height,k,a)}function h(e,k){var a=g.loc.getMediaUrl(e);g.convert.fileToPattern(a,function(b){c.loadPattern(e);w(k||e,"url("+a+")",b);m();x&&x()},y)}function w(e,k,c){b.background=e;b.backgroundRaw=c;e=b.targetEditable.style;e.background!==
k&&(a.canvas.useBGRender?(b.render.dirtyControls=!0,b.render.scene("doc.setBackground")):e.background=k)}var x,y;b.setBackground=function(a,d,s){a=a||"none";x=d||a.onload;y=s||a.onerror;if(a.type)switch(a=c.copy(a),a.type){case "color":e(a.color);break;case "gradient":l(a);break;case "pattern":h(a.pattern,a)}else{if(a.crop)return d=b.bounds,A.thumbnailer({src:a.src,crop:a.crop||"fit",center:a.center||!1,width:a.width||d.width,height:a.height||d.height,onsuccess:function(e){h(e.toDataURL(),a)}});d=
a.src||a;switch(d){case "none":break;case "blank":return e("white","light");case "white":return e("white","light");case "black":return e("black","dark");case "grid":return k(g.gen.grid,"grid","light");case "graphPaper":return k(g.gen.grid,"graphPaper","light");case "blueprint":return k(g.gen.grid,"blueprint","light");case "notebook":return k(g.gen.paper,"notebook","light");case "looseLeaf":return k(g.gen.paper,"looseLeaf","light");case "lined":return k(g.gen.paper,"lined","dark");case "transparent":return k(g.gen.interlace,
"transparent","light");case "transparentDark":return k(g.gen.interlace,"transparentDark","dark");default:s=c.validate(d),"color"===s?e(d,"light"):"pattern"===s||0===d.indexOf("url(")?(s=d.match(/url\(([^<]+)\)/),h((s&&s[1]?s[1]:d).replace(/['']/g,""))):f(d)}}}})();b.setSize=function(e,k,a,c){e&&k?"%"===a?(b.dpi=c||72,b.width=e,b.height=k,b.units="%"):(b.dpi=c||72,b.width=e,b.height=k,b.units="px"):(b.dpi=72,b.width=100,b.height=100,b.units="%");b.setCanvasSize()};b.setCanvasSize=function(c,k){b.render.dirtyClip=
!0;var l=b.container,z=b.targetScrollable;a.canvas.usePixelRatioDesktop&&!h.mobile?d(q.devicePixelRatio):a.canvas.usePixelRatio&&d(q.devicePixelRatio);var s=b.getViewport(),u=s.width,s=s.height,w=b.setBounds(c,k),x=w.targetWidth<=u,y=w.targetHeight<=s;l.style.overflowX=x?"visible":"auto";l.style.overflowY=y?"visible":"auto";x&&y&&b.scrollReset();!1===b.render.toExport?(c=Math.min(w.targetWidth,u),k=Math.min(w.targetHeight,s)):(c=w.targetWidth,k=w.targetHeight,z.scrollTop=0);e.width=c;e.height=k;if(u=
!a.vector.edit&&t.cache)t.cache.width=c,t.cache.height=k,t.cache.ctx.drawImage(t.layer0,0,0);var s=b.pixelRatio,m;for(m in t)w="cache"===m,u&&w||(z=t[m],"string"===typeof z&&(z=f.Canvas(1,1),z.style.cssText=t[m],"active"===m&&eventjs.add(z,"mousedown",function(){g.setDocument(b.idx)})),z.width=c*s,z.height=k*s,z.className="layer-"+m,t[m]=z,w||(z.style.width=e.width+"px",z.style.height=e.height+"px",l.appendChild(z)));u&&(z=t.layer0,l=z.ctx,f.Canvas.resize(z,c,k),l.drawImage(t.cache,0,0),z=t.cache,
f.Canvas.resize(z,c,k));(l=b.scene&&b.scene.children)&&b.scene.setDirtyBounds(l)};b.setTool=function(){function e(k,p,f){var d=b.toolkit.getConfig(k);if(d){var h=b.scene;"select"===k?a.vector.edit&&h.setDirtyControl():h.selection.length&&h.deselectAll();b.render.dirty=!0;b.render.dirtyActiveContext=!0;b.render.dirtyControls=!0;l.setToolMenu&&l.setToolMenu(k);a.style.fromGlobalPaint&&c.setObjectFromGlobal(d);a.style.fromGlobalBlend&&b.setComposite(c.composite,d.type);d=(d=d.composite)&&d.selected||
d;c.isGCO(d)?c.composite=d:c.composite="source-over";b.toolkit.setTool({type:k,onerror:function(e){f&&f(e)},onsuccess:function(){l.configurePane&&l.configurePane(k);b.saveSettings();g.palette&&g.palette.setIndicator();p&&p()}});A.setItem("tool.type",k)}}return function(k,a,c){void 0===k&&(k={type:b.defaultTool});"string"===typeof k&&(k={type:k});var l=k.type;a=k.onsuccess||a;c=k.onerror||c;if(b.tool.type===l)return a&&a();A.throttle(e,function(){e(l,a,c)})}}();b.reset=function(){b.scrollReset();b.orient.reset();
b.scene.reset();b.history.reset();b.on.reset&&b.on.reset()};b.resetCache=function(){g.assets.reset();g.vector.SVG.resetCache();b.render.cache.reset()};b.disable=function(){b.keyboard&&b.keyboard.disable();b.tool&&b.tool.disable();eventjs.bulk(g.events,"remove")};b.enable=function(){};b.destroy=function(){delete g.docs[b.idx];b.disable();l.scrollers&&(l.scrollers={})};b.saveSettings=function(){var e=b.config[b.tool.type];if(e)return e=b.scene.stringify(e),A.setItem("tool.config",e),e};b.restoreSettings=
function(e){var k=b.toolkit;A.getItems(["tool.config"],function(l){var f=a.tools.defaultTool;try{var d=l["tool.config"],h=d.type||f,w=k.getConfig(h);k.setConfigure(d,w);c.setGlobalFromObject(d)}catch(x){h=f,w=k.getConfig(h)}g.exec(h,function(){d&&b.setComposite(d.composite);e&&e()},function(k){e&&e();console.warn(h,k)})})};b.needsSync=function(){return b.__lastSynchronized!==b.__lastModified};b.timestamp=function(){return b.recorder?b.recorder.currentTime:b.player?b.player.currentTime:Date.now()}};
r.module.Document.idx=0;"object"===typeof module&&module.exports&&(module.exports=r.module.Document)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.DocumentStyle=function(g,d){function m(a,c){var b;if(a[c])b="string"===typeof a[c]?a[c]=new f.create(a,c):a[c];else if(b=d.config[a.type],b[c])b=b[c];else return"";var e=b.type;"string"!==typeof b[e]&&(b[e]=f[c][e]);return b}function q(a,c){var h=m(c,a),e=h.noise,p=h.type,k=h[p];if(k){if(c.useBackgroundOverlay)return"brush"===c.toolkitId?h.__colors=[0,h.color||"#000"]:h.__colors=[0,d.backgroundRaw];if("none"===k)return h.__colors=[0,"rgba(0,0,0,0)"];switch(p){case "color":return h.__colors=
[0,k];case "gradient":var v=f.getGradientStops({dna:k,asFlatArray:!0,asHex32:!0});if(0===v.length)return h.__colors=[0,h.color||"#000"];break;case "pattern":return k?(f.loadPattern(k),h.__colors=[0,f.patternCtx[k]]):h.__colors=[0,h.color||"#000"]}if(e||g.detect.useColorModeCycle[c.type]){p=f.hashDNA(k+e);if(f.gradientCtx[p])return h.__colors=f.gradientCtx[p];h.__colors=g.style.getColorStopsHelper({stops:v,noise:e,seed:c.seed});return f.gradientCtx[p]=h.__colors}h=h.__colors=[];for(e=0;e<v.length;e+=
2)h.push(v[e]),h.push(b(v[e+1],"HEX32>RGBA>W3"));return h}}var b=g.color.space,h=g.feature,f=g.style,a=d.toolkit,c=g.util;d.setComposite=function(c,b,h){c=f.getCompositeReadable(c);b=b||d.tool.type;var e=a.getToolkitDevice(b);if(e){b=d.config[b];if("eraser"===b.type)return;var p=b.composite;p&&p.setValue?p.setValue(c):b.composite=c;e.composite=c;h&&d.selection.length&&d.setParam({param:"composite",value:c})}f.composite=c};d.setFill=function(a){a=a||{};"string"===typeof a?a={fill:{dna:a}}:a.stroke||
(a.fill=f.copyInto(a,{},{paintType:"fill"}));a.useColorPicker=!1!==a.useColorPicker;a.useRecord=!1!==a.useRecord;a.useRender=!1!==a.useRender;d.setStyle(a)};d.setStroke=function(a,c,b,e,p,k,h){a=a||{};"string"===typeof a?(a={stroke:{dna:a}},k&&(a.stroke.dashArray=k),isFinite(h)&&(a.stroke.dashOffset=h),b&&(a.stroke.lineCap=b),e&&(a.stroke.lineJoin=e),isFinite(c)&&(a.stroke.lineWidth=c),isFinite(p)&&(a.stroke.miterLimit=p)):a.stroke||(a.stroke=f.copyInto(a,{},{paintType:"stroke"}));a.useColorPicker=
!1!==a.useColorPicker;a.useRecord=!1!==a.useRecord;a.useRender=!1!==a.useRender;d.setStyle(a)};d.setFont=function(c){"string"===typeof c&&(c={fontFamily:c});c=c||{};var b=c.fontFamily,f=c.onsuccess,e=c.selection;if(b){var p=a.text,e=d.selection.parse(e||d.selection.items);c=d.scene.copyProperties(p,c);p.loadFont(b,function(){d.setParam({filter:"text",params:c,selection:e});f&&f()})}};(function(){d.setStyle=function(b){var m=b.useColorPicker&&g.ui.colorPicker.update||!1,t=h.stream.realtime&&d.on.record,
e=b.useRecord||!1,p=b.useRender||!1,k=!0===e||"down"===e||"start"===e,v=!0===e||"up"===e||"end"===e||"update"===e;(e=b.configure)||(e=d.config[(d.selection.item||d.tool).type]);var z=e,s=d.selection.toObjects(b.selection||d.selection.items),u={},w={},e=b.changeCount||0,x,y,F={},B;for(B in f.methods)if(b[B]){a:{y=b[B];"string"===typeof y&&(y={dna:y});var C=y.dna||y.color||y.gradient||y.pattern,G=y.paintType;if(!G&&C)if(C=f.parseStyle(C))G=C.type,C=C.dna;else{y=void 0;break a}G&&(y.type=G,y[G]=C,delete y.dna,
delete y.paintType)}if(y){x=y[y.type];var G=y,C=B,r=z&&z[C];r&&(f.copyInto(G,r),f.copyInto(G,f[C]));G=B;if(C=d.tool.device)if(r=C[G])f.copyInto(y,r),q(G,C);F[B]=y}}z=0;for(G=s.length;z<G;z++)for(B in b=s[z],F){y=F[B];a:{var C=b,r=y,E=B,D=u,H=w,P=k,K=v,J=t,N=C[E];if(void 0===N)if((N=d.config[C.type])&&N[E])N=C[E]=f.create({},E);else{C=void 0;break a}if(!1===N)C=!1;else{if(f.equals(r,N.__cache||N))K&&delete N.__cache;else if("clipart"===C.type)changeCount++;else{P&&(N.__cache=f.copy(N));if(K||J){var S=
C.id,P=D[S]||{id:S};P[E]=N.__cache;D[S]=P}K&&(d.scene.setDirtyPixelData(C),delete N.__cache);f.copyInto(r,N);if(K||J)P=H[S]||{id:S},P[E]=f.copy(N),H[S]=P;C.dirtyCache=!0;q(E,C);C=!0;break a}C=void 0}}C&&e++}v&&d.saveSettings();e&&(v||t)&&(k=c.diff(c.objectToArray(u),c.objectToArray(w),["id"]))&&(t&&d.on.record({op:"SCENE_UPDATE",data:k.to}),v&&d.history&&d.history.store({cmd:"update",name:"update-style",data:{from:k.from,to:k.to}}));a.text&&a.text.updateCSSStyle();m&&"none"!==x&&y&&"color"===y.type&&
g.ui.colorPicker.update(x);g.palette&&(m=g.palette,t=m.getPaintMethod(),d.scene&&1===d.selection.length?(b=d.scene.getOneSelected())&&"clipart"!==b.type&&(y=b&&b[t]):(x=d.tool.device)&&(y=x[t]),y&&m.setIndicator(y));p&&e&&(d.render.dirty=!0)}})();d.loadStyle=function(){function a(c,b,e){var p=m(c,b);"pattern"===p.type&&p.pattern?f.loadPattern(p.pattern,function(k){q(b,c);e()},function(){e("404")}):(q(b,c),e())}return function(c,b){var e=1,p=function(k){--e||b&&b()};if(e)for(var k in f.methods)c[k]&&
(e++,a(c,k,p));p()}}();d.getW3CStyle=function(a,c,b,e,p,k,h){var z=h[a];if(z&&z.enabled){var s=z.type,u=z.mode,w=z[s];if("destination-out"===h.composite)return d.backgroundRaw||"#000";if("none"===w)return"stamp"===h.type?"rgba(0,0,0,0)":"rgba(0,0,0,1)";if("color"===s)return"cycle"===u?(c=z.__colors||(z.__colors=q(a,h)),c[(2*(h.time||0)+1)%c.length]):w;if("pattern"===s)return f.patternCtx[w]?f.patternCtx[w]:"rgba(0,0,0,1)";if("gradient"===s)return a=z.__colors||(z.__colors=q(a,h)),f.createGradient(c,
u,b,e,p,k,a,z,h.bbox&&h.bbox.scale)}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Exec=function(g){function d(a,e,c,k){eventjs.shiftKey&&(a*=10,e*=10);k?q.selection.length&&(b.copy(),b.paste(),b.selection.translate(a,e)):(q.selection.transform({state:c,translate:{x:a,y:e}}),m())}function m(){q.render.dirty=!0;q.render.dirtyControls=!0}var q,b,h=g.dom,f=g.lang,a=g.util,c=g.vector,l=g.feature;g.exec=function(c,e,p){if(c){if(A[c]){q=g.doc;b=q.scene;var k=Array.prototype.slice.call(arguments);return A[c].apply(null,k)}if(l.doc.globalTools){var f=
a.pending(1,e);a.each(g.docs,function(e){f.add(1);e.setTool(c,f.next,f.next)});f.next()}else g.doc.setTool({type:c,onsuccess:e,onerror:p})}else console.warn("missing trigger",arguments)};g.exec.register=function(a,e){a.indexOf&&(-1!==a.indexOf(" ")?a=a.split(" "):-1!==a.indexOf(",")&&(a=a.split(",")));if("object"===typeof a)for(var c=0;c<a.length;c++)A[a[c]]=e;else A[a]=e};g.exec.unregister=function(a){delete A[a]};var A={"object-download":function(a){if(1===q.selection.length)for(var e in q.selection.items)if((a=
b.children[e])&&a.src&&"image"===a.type){g.assets.getBlob(a.src,function(e,k,a){k=a.replace("#asset-","")+".png";g.download.blob(e,k)});return}g.download.image({filename:q.title+"-layerExport",useSelection:!0})},"object-move-left":function(a,e,c){d(-(e||1),0,c)},"object-move-up":function(a,e,c){d(0,-(e||1),c)},"object-move-right":function(a,e,c){d(e||1,0,c)},"object-move-down":function(a,e,c){d(0,e||1,c)},"object-move-end":function(a,e,c){d(0,0,c)},"object-clone-left":function(a,e,c){d(-(e||1),0,
c,!0)},"object-clone-up":function(a,e,c){d(0,-(e||1),c,!0)},"object-clone-right":function(a,e,c){d(e||1,0,c,!0)},"object-clone-down":function(a,e,c){d(0,e||1,c,!0)},"object-clone-end":function(a,e,c){d(0,0,c,!0)},"debug-action":function(a,e){e=e||q.selection.items;for(var c in e){var k=b.children[c];void 0!==k&&(console.log("id:",k.id,"idx:",k.zIndex,"type:",k.type),console.log("object:",k),console.log("bbox:",k.bbox))}},render:function(){m()},"zoom-to":function(a,e){q.setZoom(e)},"zoom-in":function(a){q.render.dirtyControls=
!0;q.orient.controllerZoomIn();b.setDirtyBounds(b.children)},"zoom-out":function(a){q.render.dirtyControls=!0;q.orient.controllerZoomOut();b.setDirtyBounds(b.children)},"zoom-reset":function(a){q.render.dirtyControls=!0;q.orient.controllerReset();b.setDirtyBounds(b.children)},"object-to-stamp":function(a){g.assets.addStampFromSelection()},"object-merge":function(a){g.assets.addCloneFromSelection()},"object-group":function(a){a="group"+Math.round(999999*Math.random());for(var e in q.selection.items){var c=
b.children[e];c&&(c.groupId=a)}},"path-merge":function(a){c.mergeLayers();a=b.getSelection();q.selection.remove();if(a=c.mergeLayers(a))a.dirtyCheck=!0,q.history.store({cmd:"add",name:"merge-objects",data:[a]}),b.push(a),b.sort(),b.reindex(),m()},"object-forwards":function(a){b.sendForwards&&q.selection.length&&(b.sendForwards({record:!0}),m())},"object-to-front":function(a){b.sendForwards&&q.selection.length&&(b.sendForwards({record:!0,toFront:!0}),m())},"object-backwards":function(a){b.sendBackwards&&
q.selection.length&&(b.sendBackwards({record:!0}),m())},"object-to-back":function(a){b.sendBackwards&&q.selection.length&&(b.sendBackwards({record:!0,toBack:!0}),m())},"object-delete":function(a){q.selection.length&&(q.selection.remove(),m(),g.ui.configurePane())},"object-copy":function(a){b.copy&&q.selection.length&&(b.copy(),b.setDirtyControl(),m())},"object-cut":function(a){b.cut&&q.selection.length&&(b.cut(),m(),g.ui.configurePane())},"object-paste":function(a){b.paste&&b.paste(function(){m();
q.setTool("select")})},"object-duplicate":function(a){b.duplicate&&(b.duplicate(),m())},"select-all":function(a){g.exec("select",function(){b.selectAll();m()})},"select-inverse":function(a){g.exec("select",function(){b.selectInverse();m()})},"deselect-all":function(a){b.deselectAll();m()},undo:function(a){q.history.undo();q.render.dirtyControls=!0},redo:function(a){q.history.redo();q.render.dirtyControls=!0},print:function(a){g.print()},save:function(a){g.save.fromQuery()},"save-server":function(a){g.save.toServer()},
"save-image":function(a,e){g.download.image(e)},"save-gif":function(a){g.download.image("gif")},"save-jpeg":function(a){g.download.image("jpeg")},"save-png":function(a){g.download.image("png")},"save-webp":function(a){g.download.image("webp")},"save-json":function(a){g.download.json()},"save-pdf":function(a){g.download.pdf()},"save-zip":function(a){g.download.zip()},camera:function(a){g.exec("take-snapshot")},"take-snapshot":function(c,e){var b=a.camera;if(b.capture&&!b.capturing){var k=g.rtc.getDefaultID();
g.rtc.videos[k]?b.capture(null,null,k,null,function(){e&&e();g.exec("select")}):g.module.RTC(g,q,function(){g.exec("take-snapshot",function(){g.rtc.pause()})})}},reset:function(a){h.Canvas.clear(q.contexts.layer0);q.render.dirtyClip=!0;q.reset()},"new":function(c){g.exec("reset");q.uuid=a.uuid();q.history.store({cmd:"new",name:"new",data:[]});g.fs.touch&&g.fs.touch(q.uuid)},"new-confirm":function(a,e,c){g.save.confirm({oncontinue:function(){g.exec("new");g.ui.log(f.translate("new-doc-created"));e&&
e()},onrequestsave:function(){g.save.fromQuery()},oncancel:function(){c&&c()}})},configure:function(a){a=g.ui.pages.getPageId();g.ui.setPane("configure");"configure"!==a&&!1!==g.sidebar.opened||sidebar.toggle()},layers:function(a){a=g.ui.pages.getPageId();g.ui.setPane("layers");"layers"!==a&&!1!==g.sidebar.opened||sidebar.toggle()},history:function(a){a=g.ui.pages.getPageId();g.ui.setPane("history");"history"!==a&&!1!==g.sidebar.opened||sidebar.toggle()},menu:function(a){g.sidebar.toggle()},palette:function(a){g.windows.toggle("#sk-palette")},
"color-picker":function(a){g.windows.toggle("#sk-palette")},colorPalette:function(a){g.colorPalette.enabled?g.colorPalette.disable():g.colorPalette.enable()}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(a,c){if(void 0===g.initialized&&(g.initialized=!0,l.Namespace(r),r.client=new l.Supports(r),A.exists("glfx.loadFilters")&&!glfx.presets.length))return glfx.loadFilters(function(){a.apply(null,c)}),!0}function d(a){h(l.Style,a.style)&&(a.style=new l.Style(a))}function m(a,c){new l.GenerateMedia(a,c);new l.UI(a,c);new l.UICursor(a,c);new l.Library(a,c);new l.DocumentStyle(a,c);l.Exec&&new l.Exec(a);l.GeneratePreview&&new l.GeneratePreview(a);h(l.Convert,a.convert)&&(a.convert=
new l.Convert(a));h(l.Assets,a.assets)&&(a.assets=new l.Assets(a,c))}function q(a,c){l.Scene&&(c.scene=new l.Scene(a,c),c.hovered=c.scene.hovered,c.selection=c.scene.selection,l.AddMedia&&new l.AddMedia(a,c),l.AddObject&&(new l.AddObject(a,c),c.scene.add=c.addObject),l.SceneReplicate&&(l.SceneReplicate(a,c),c.scene.clipboard.enable()),l.SceneOrganize&&l.SceneOrganize(a,c),l.ScenePlacement&&l.ScenePlacement(a,c),l.SceneFind&&l.SceneFind(a,c));l.History&&(c.history=new l.History(a,c));l.Control&&l.ControlEvent&&
(new l.Control(a,c),new l.ControlEvent(a,c));l.Theme&&(c.theme=new l.Theme(a,c))}function b(a,c){a.vector.Shape&&(a.vector.VOBPath=a.vector.Shape.VOBPath);h(l.ZIP,a.io.zip)&&(a.io.zip=new l.ZIP(a));h(l.PDF,a.io.pdf)&&(a.io.pdf=new l.PDF(a));h(l.SVG,a.io.svg)&&(a.io.svg=new l.SVG(a));h(l.JSON,a.io.json)&&(a.io.json=new l.JSON(a));h(l.GBR,a.io.gbr)&&(a.io.gbr=new l.GBR(a));h(l.ABR,a.io.abr)&&(a.io.abr=new l.ABR(a));h(l.Server,a.server)&&(a.server=new l.Server(a,c));h(l.FileSystem,a.fs)&&(a.fs=new l.FileSystem(a));
h(l.Open,a.open)&&(a.open=new l.Open(a));h(l.Save,a.save)&&(a.save=new l.Save(a));h(l.Download,a.download)&&(a.download=new l.Download(a));h(l.Print,a.print)&&(a.print=new l.Print(a));var k=a.feature;h(l.UIPaletteEditor,a.palette)&&(a.palette=new l.UIPaletteEditor(a,c));h(l.UISidebar,a.sidebar)&&(k.pane.position?a.sidebar=new l.UISidebar(a,k.pane.position):console.warn("sidebar position not set"));h(l.UITooltip,a.ui.tooltip)&&!a.client.mobile&&k.ui.tooltips&&(a.ui.tooltip=new l.UITooltip(a));h(l.UIVortex,
a.vortex)&&(a.vortex=new l.UIVortex(document.body));l.UIStartWindow&&new l.UIStartWindow(a,c);k.pane.tabs&&a.ui.UISidebarTabs();h(a.ui.Timer,a.timer)&&(a.timer=new a.ui.Timer);h(l.Keyboard,a.keyboard)&&(a.keyboard=new l.Keyboard(a));a.keyboard&&a.keyboard.enable(c);l.ShareFest&&new l.ShareFest(a,c);l.SocketIO&&new l.SocketIO(a,c);l.Peer&&new l.Peer(a,c);l.PeerTest&&new l.PeerTest(a,c);l.Recorder&&(c.recorder=new l.Recorder(a,c));l.Player&&(c.player=new l.Player(a,c));h(a.net.Swarm,a.net.swarm)&&(a.net.swarm=
new a.net.Swarm);h(a.net.Users,a.net.users)&&(a.net.users=new a.net.Users);h(l.RTCManager,a.rtc)&&(a.rtc=new l.RTCManager(a,c));"undefined"!==typeof Stats&&!r.stats&&r.feature.debug&&(r.stats=new Stats,r.stats.setMode(1),r.stats.domElement.style.zIndex=99999,r.stats.domElement.style.position="fixed",r.stats.domElement.style.bottom="0px",r.stats.domElement.style.left="0px",document.body.appendChild(r.stats.domElement));l.PathFinder&&new l.PathFinder(a,c);l.Camera&&(A.camera=new l.Camera(a,c));l.Orientation&&
l.Orientation.createController(a,c);A.getScreenMetrics&&!A.toMetrics&&(A.toMetrics=A.getScreenMetrics());A.loadImage&&t.PROXY&&(A.loadImage.proxyUrl=t.PROXY);a.ui.Loader&&!a.loader&&(a.loader=new a.ui.Loader);a.feature.kiosk&&A.requestKioskMode()}function h(a,c){return a&&!(c instanceof a)}function f(e,b){function k(a){clearTimeout(k.timeout);k.timeout=setTimeout(function(){e.windows.restore&&e.windows.restore();e.emit("beforeresize");b.setCanvasSize();f.doc.centerOnResize&&b.orient.reset(!0);e.emit("resize",
b.viewport);b.render.dirty=!0;b.render.dirtyControls=!0;b.render.dirtyPointer=!0;"text"===b.tool.type&&d.text.updateCSS()},100)}var f=e.feature,d=b.toolkit,l=b.container,h=b.contexts.active;e.events.onResize=eventjs.add(window,"resize",k);eventjs.add(l,"scroll",function(a){var k=b.container;a=k.scrollTop;k=k.scrollLeft;b.scrollTop=a;b.scrollLeft=k;b.scrollElementCSS();b.render.dirtyClip=!0;var c=b.contexts,f;for(f in c){var l=c[f];l.style.left=k+"px";l.style.top=a+"px"}if(b.scene){f=b.scene.children;
a=0;for(k=f.length;a<k;a++)c=f[a],c.dirtyTransform=!0,c.inbounds=void 0;d.text&&(c=b.selection.item)&&"text"===c.type&&d.text.updateCSSTransform();e.emit("scroll");b.render.dirty=!0;b.render.dirtyControls=!0;b.render.dirtyPointer=!0}});(function(){var a=t.getSketchID();e.events.hashchange=eventjs.add(window,"hashchange",function(k){e.emit("hashchange",t.getHash());k=t.getSketchID();if(a!==k){var c=a;a=k;e.save.confirm({oncontinue:function(){e.open.fromServer()},onrequestsave:function(){e.save.fromQuery()},
oncancel:function(){t.setHash("sketch",c)}})}})})();e.ui.TSEvents.add();e.ui.setupStartWindow&&e.ui.setupStartWindow();e.windows.restore&&(e.events.onScroll=eventjs.add(window,"scroll",e.windows.restore));f.preventScroll&&!f.debugCache&&eventjs.add(l,"wheel",eventjs.stop);e.client.chromeApp||(e.events.onBeforeUnload=eventjs.add(window,"beforeunload",c));f.preventTouch&&e.client.mobile&&(e.events.onTouch=eventjs.add(document,"touchstart",eventjs.prevent,{strict:!0}));eventjs.add(h,"contextmenu",eventjs.prevent);
eventjs.add(h,"mouseup",function(){document.activeElement!==document.body&&document.activeElement&&document.activeElement.blur();e.windows.clearFocus&&eventjs.add(h,"mouseup",e.windows.clearFocus)});e.events.onFocus=eventjs.add(window,"focus",a);e.events.onBlur=eventjs.add(window,"load,blur",eventjs.keyTrackerReset)}function a(a){eventjs.keyTrackerReset(a);(a=r.doc.clipboard)&&a.loadCopies()}function c(a){function c(a){return"function"===typeof a?a():a}var k=r.feature.beforeUnloadPrompt,b;"object"===
typeof k?(b=c(k.message),setTimeout(k.oncancel,250)):b=c(k);if(b)return(a||window.event).returnValue=b}console&&console.log&&console.log("%c\u2665 SketchAPI 3.7.5 \u2665","color: red;");var l=r.module,A=r.util,t=r.loc;r.perf=A.perf;r.setHost=t.setHost;r.doc=void 0;r.docs={};r.setDocument=function(a){var c=r.doc;if(a=r.docs[a]){var k=c.idx;a.__editing||a.focus();if(a.idx!==k){(k=a.scene.clipboard)&&k.loadCopies();var k=r.feature.style.fromGlobalPaint,b=r.feature.style.toGlobals;if(k||b)k&&a.setStyle({selection:[],
fill:r.style.fill,stroke:r.style.stroke}),k=a.tool.type,a.toolkit.setConfig(k,c.config[k]);r.doc=a}return a}console.warn("docId does not exist.")};r.Document=function(a){if(!g(r.Document,arguments)){a=a||{};var c=a.onready,k=a.onsupport,h=a.toolset;d(r);var z=r.feature,s=new l.Document(r);s.setAttributes(z.doc);s.setContainer(a);s.toolkit=new l.Toolkit(r,s);s.render=new l.SceneRender(r,s);s.config=new l.Configure(r,s,h);s.queueHistory=new l.QueuePending;m(r,s);q(r,s);r.lang.setLocale(z.lang,function(){r.client.fn.detect(function(){k&&
k(s);requestAnimationFrame(function(){s.setBackground(z.doc.background);s.setCanvasSize();b(r,s);r.module.install(r,s);s.toolkit.setup();f(r,s);s.queueHistory.run(r,s);requestAnimationFrame(function(){s.render.start();z.doc.restoreSettings?s.restoreSettings(function(){c&&c(s)}):c&&c(s)})})})})}};r.construct=function(a){g(r.construct,arguments)||(a=a||{},a.icons&&A.copyInto(a.icons,r.ui.icons),a.feature&&r.setFeature(a.feature),r.setHost(a.hosts),r.Document(a))};r.setFeature=function(){function a(c){if("object"===
typeof c){var k=r.feature,e=k.tools,b=e.defaults;A.copyInto(c,k);Object.keys(e).forEach(function(a){"defaults"!==a&&"defaultTool"!==a&&(e[a]=A.copyInto(b,e[a],{filter:function(a,k){return"object"===typeof a?!1===k:void 0!==k}}))});k.debug&&(document.body.style.overflow="auto")}}return function(c){if(!g(r.setFeature,arguments)){a(c);var k=r.feature,b=t.getSearch();b.zoom&&(k.zoom.value=parseFloat(b.zoom));b.pixelRatio&&(k.canvas.pixelRatio=parseFloat(b.pixelRatio),k.canvas.usePixelRatio=!1,k.canvas.usePixelRatioDesktop=
!1);for(var f in b){var d=b[f],l=typeof k[f];"undefined"!==l&&("string"===l?k[f]=d:"boolean"===l?k[f]="true"===d||!0===d:"number"===l&&isFinite(d=parseFloat(d))&&(k[f]=d))}}}}();l.Listener(r)})(sketch);"undefined"===typeof sketch&&(sketch={});(function(r){r.module=r.module||{};r.module.QueuePending=function(g){var d=[];this.add=function(g){d.push(g)};this.run=function(m,q){for(;d.length;){var b=d.shift();g?g(m,q,b):b(m,q)}}};"object"===typeof module&&module.exports&&(module.exports=r.module.QueuePending)})(sketch);
"undefined"===typeof sketch&&(sketch={});(function(r){var g=new r.module.QueuePending;r.module=r.module||{};r.module.add=g.add;r.module.install=g.run})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.StyleGCO=function(g,d){var m=g.util;d.getComposite=function(a,b){a=h(a);return b&&q[a]?"source-over":a};var q=m.arrayToObject("source-in source-out source-atop destination-over destination-in destination-out destination-atop copy xor".split(" "));d.getCompositeReadable=function(a){a="string"===typeof a?a||"normal":"normal";return b[a]||a};var b={"source-over":"normal","destination-out":"erase"},h=d.getCompositeNative=function(a){a="string"===typeof a?a||
"source-over":"source-over";return f[a]||a},f={normal:"source-over",disco:"lighter",erase:"destination-out"};d.getBlendOptions=function(){return"normal <br> darken multiply color-burn <br> lighten screen color-dodge <br> overlay soft-light hard-light <br> difference exclusion disco <br> hue saturation color luminosity <br> erase source-atop destination-over".split(" ")};d.isNormalGCO=m.arrayToObject(["normal","source-over"]);d.isGCO=function(c){return c&&(c=c.selected||c)?a[c]||!1:!1};var a=m.arrayToObject("normal darken multiply color-burn lighten screen color-dodge overlay soft-light hard-light difference exclusion hue saturation color luminosity erase disco".split(" ").concat("source-over source-in source-out source-atop destination-over destination-in destination-out destination-atop lighter copy xor".split(" ")))};
"object"===typeof module&&module.exports&&(module.exports=r.module.StyleGCO)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.StyleGradient=function(g,d){var m=g.util,q=g.vector.Point;d.createGradient=function(b,h,f,a,c,l,g,t,e){b=b||d.__ctx;t=t||{};if(isFinite(f+c+a+l)){if("radial"===h)h=(f+c)/2,e=(a+l)/2,a=Math.sqrt(Math.pow(c-f,2)+Math.pow(l-a,2))/3,b=b.createRadialGradient(h,e,0,h,e,a);else{h=t.angle;if(h===+h&&(e&&(0>e.x&&(h=180-h),0>e.y&&(h=360-h)),235!==h)){e=q(f,a);t=q(f,l);f=q(c,l);a=q(c,a);l=h%90-45;var p=h%180-90;c=Math.abs(l)/90;0>=l*p?(l=q.atTimeOnLine(t,f,c),a=q.atTimeOnLine(a,
e,c)):(l=q.atTimeOnLine(e,t,c),a=q.atTimeOnLine(f,a,c));a=q.distance(l,a)/2;c=q.atTimeOnLine(e,f,.5);h*=m.DEG_RAD;e=q.atRadianDistance(c,h,-a);t=q.atRadianDistance(c,h,+a);f=e.x||0;a=e.y||0;c=t.x||0;l=t.y||0}f===c&&(c+=.1);a===l&&(l+=.1);b=b.createLinearGradient(f,a,c,l)}for(h=0;h<g.length;h+=2)e=g[h],(a=g[h+1])&&e===+e&&b.addColorStop(e,a);return b}return"#000"};d.toCSSGradientBG=function(b){if("none"===(b.dna||b))return"background: none";b=d.toCSSGradient(b);return"\t\t\t\tbackground: "+b+";\t\t\t\tbackground: -webkit-"+
b+";\t\t\t\tbackground: -moz-"+b+";\t\t\t\tbackground: -o-"+b+";"};d.toCSSGradient=function(b){var h=b.dna||"",f=b.stops,a=b.type||"linear";b=b.angle;b=b===+b?b+90+"deg":b||"0deg";f=f||d.getGradientStops({dna:h,asCSSArray:!0});return"radial"===a?"radial-gradient(circle closest-side at 50% 50%,"+f+")":"linear-gradient("+b+","+f+")"};d.toCSSColorStops=function(b){for(var d=[],f=0;f<b.length;f+=2)d.push(b[f+1]+" "+100*b[f]+"%");return d};d.parseCSSGradient=function(b,d){var f=g.color.spacex,a=g.color.CSSLinearGradient.parse(b);
if(a){for(var c=a.stops,l=c.length-1,m=[],t=0;t<=l;t++){var e=c[t],p=e.position;p?(-1!==p.indexOf("%")&&(p=parseFloat(p.replace("%",""))/100),m.push(isFinite(p)?p:t/l)):m.push(t/l);d?m.push((new f(e.color)).toHEX32String().substr(1)):m.push(e.color)}if(d)return m.join(",");a.stops=m;return a}return""};d.getGradientStops=function(b){var d=b.asCSSArray||!1,f=b.asFlatArray||!1,a=b.asHex32||!1,c=[];b=(b.dna||"").split(",");var l=b.length;if(2>l)return c;for(var g=0;g<l;g+=2){var m=parseFloat(b[g]),e=
b[g+1],p=e.length;8!==p&&(3===p?e="ff"+e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:6===p&&(e="ff"+e));if(a)e=parseInt("0x"+e,16);else{var k=e.substr(0,2);if("ff"===k)e="#"+e.substr(2);else var p=parseInt(e.substr(2,2),16),v=parseInt(e.substr(4,2),16),e=parseInt(e.substr(6,2),16),k=parseInt(k,16)/255,e="rgba("+p+","+v+","+e+","+k+")"}f?(c.push(m),c.push(e)):d?c.push(e+" "+100*m+"%"):c.push({offset:m,color:e})}return c};d.getColorStopsHelper=function(b){return d.getColorStops({dna:b.dna,stops:b.stops,asCSSArray:b.asCSSArray||
!1,asSVGArray:b.asSVGArray||!1,seed:b.seed||1,blend:b.blend||(b.noise?"Luminosity":"Normal"),reflect:b.reflect||!1,length:500,resolution:1,H:b.noise?10:0,S:b.noise?20:0,L:b.noise?10:0})};d.getColorStops=function(b){var d=g.color.space,f=m?new m.Random(b.seed||1):Math.random,a=b.dna||"",c=b.stops,l=b.blend||"Normal",q=b.reflect||!1,t=b.resolution||1,e=b.length||1,p=b.H||0,k=b.S||0,v=b.L||0,z=b.asCSSArray||!1;b=b.asSVGArray||!1;if(g.color.blend)var s=g.color.blend.useAlphaBlend[l],u=g.color.blend[l];
else s=!1,u=function(a,k){return a*k/255};c?a=c:"string"===typeof a&&(a=a.split(","));for(var c=[],w=0;w<a.length;w+=2)c.push({color:a[w+1],offset:parseFloat(a[w],10)/(q?2:1)});if(q)for(a=a.slice(0).reverse(),w=0;w<a.length;w+=2)c.push({color:a[w],offset:.5-parseFloat(a[w+1],10)/2+.5});var a=0,w=c[a].color,q="string"===typeof w?"W3>HEX32>RGBA":"HEX32>RGBA",w=d(w,q),x=c[a].offset,y=c[a+1];if(!y)return c;for(var F=d(y.color,q),y=c[a+1].offset,B=[],C=0;C<=e;C+=t){var G;G=C/e;G>y&&(a++,c[a]&&(w=F,x=y,
c[a+1]&&(F=d(c[a+1].color,q),y=c[a+1].offset)));G=(G-x)/(y-x);Infinity===G&&(G=0);if("Normal"===l&&0===p&&0===k&&0===v)G=d.RGB_W3({R:w.R*(1-G)+F.R*G,G:w.G*(1-G)+F.G*G,B:w.B*(1-G)+F.B*G});else{var r=d.RGB_HSL({R:w.R*(1-G)+F.R*G,G:w.G*(1-G)+F.G*G,B:w.B*(1-G)+F.B*G});G=d.HSLA_RGBA({H:(r.H+f.toDouble()*p+360)%360,S:Math.min(100,Math.max(0,r.S-f.toDouble()*k)),L:Math.min(100,Math.max(0,r.L-f.toDouble()*v)),A:255});r=d.HSLA_RGBA({H:(r.H+f.toDouble()*p+360)%360,S:Math.min(100,Math.max(0,r.S+f.toDouble()*
k)),L:Math.min(100,Math.max(0,r.L+f.toDouble()*v)),A:255});s?(G=u(G,r),G=d(G,"HEX32>RGBA>W3")):G=d.RGBA_W3({R:u(G.R,r.R),G:u(G.G,r.G),B:u(G.B,r.B),A:u(G.A,r.A)})}b?B.push({color:G,offset:C/e}):z?B.push(G+" "+C/e*100+"%"):(B.push(C/e),B.push(G))}return B}};"object"===typeof module&&module.exports&&(module.exports=r.module.StyleGradient)})(sketch);
RegExp.create=function(r,g,d){for(var m in g){var q=g[m],b=RegExp("{{"+m+"}}","gi");q.source&&(q=q.source.replace(/^\^|\$$/g,""));r=r.replace(RegExp("\\("+b.source+"\\)","gi"),"("+q+")");r=r.replace(b,"(?:"+q+")")}return RegExp(r,d)};
(function(r){r.color=r.color||{};var g=r.color.CSSLinearGradient=function(d){this.direction=d.direction;this.stops=d.stops;this.fromString=d.fromString};g.parse=function(d){if("string"!==typeof d)return null;d=d.replace(/-(moz|ms|o|webkit)-/,"");var m=d.match(g.regex.css);if(!m)return null;var q=m[1]||"top",m=m[2].match(g.regex.colorStop),b=parseFloat(q);if(!isNaN(b))switch((b%360+360)%360){case 0:q="left";break;case 90:q="bottom";break;case 180:q="right";break;case 240:q="top"}for(b=0;b<m.length;b++){var h=
m[b],f=h.match(g.regex.color)[0],h=(h=h.substr(f.length).match(g.regex.length))&&h[0];m[b]={color:f,position:h}}return new g({direction:q.replace("to ",""),stops:m,fromString:d})};g.regex={};g.regex.number=/^-?[0-9]*\.?[0-9]+$/;g.regex.keyword=/^(?:to\s|)(?:top\s+|bottom\s+)?(?:right|left)|(?:to\s|)(?:right\s+|left\s+)?(?:top|bottom)$/;g.regex.blah=/circle closest-side at 50% 50%/;g.regex.direction=RegExp.create("^(?:{{keyword}}|{{blah}}|{{number}}deg|0)$",{blah:g.regex.blah,keyword:g.regex.keyword,
number:g.regex.number});g.regex.color=RegExp.create("(?:{{keyword}}|{{func}}|{{hex}})",{keyword:/^(?:red|tan|grey|gray|lime|navy|blue|teal|aqua|cyan|gold|peru|pink|plum|snow|[a-z]{5,20})$/,func:RegExp.create("^(?:rgb|hsl)a?\\((?:\\s*{{number}}%?\\s*,?\\s*){3,4}\\)$",{number:g.regex.number}),hex:/^#(?:[0-9a-f]{1,2}){3}$/i},"i");g.regex.percentage=RegExp.create("^(?:{{number}}%|0)$",{number:g.regex.number});g.regex.length=RegExp.create("{{number}}{{unit}}|0",{number:g.regex.number,unit:/%|px|mm|cm|in|em|rem|en|ex|ch|vm|vw|vh/});
g.regex.colorStop=RegExp.create("{{color}}\\s*{{length}}?",{color:g.regex.color,length:g.regex.length},"gi");g.regex.type=/linear-gradient|radial-gradient/;g.regex.css=RegExp.create("^{{type}}\\(\\s*(?:({{direction}})\\s*,)?\\s*({{colorstop}}\\s*(?:,\\s*{{colorstop}}\\s*)+)\\)$",{type:g.regex.type,direction:g.regex.direction,colorStop:g.regex.colorStop},"i")})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.StylePalette=function(g,d){var m=g.util,q=g.color.space,b=g.feature;d.add=function(b,f,a){"string"===typeof b&&(b=[b]);var c=d[f+"Hash"],l=d[f+"Official"],g=d[f];if(b&&b.length)for(var m=0;m<b.length;m++){var e=b[m];if(e){var p=e.dna||e,k=d.hashDNA(p);c[k]||(c[k]=!0,e.dna&&(l[k]=!0),"gradient"===f&&-1!==p.indexOf("gradient")&&(p=d.parseCSSGradient(p,!0)),a?g.unshift(p):g.push(p))}}};d.addFromBlob=function(h,f){g.convert.blobToText(h,function(a){a.startsWith("GIMP Gradient")?
d.add(Color.open.GGR(a).join(","),"gradient",!0):a.startsWith("GIMP Palette")?d.add(Color.open.GPL(a),"color",!0):b.debug&&console.log("un-handled method",h);f&&f()})};d.loadDefault=function(){function b(f,a,c){d[a]=g.lib&&g.lib[a]?g.lib[a]():[d[c]];!d[f]&&d[a]&&(d.reset(f),d.add(d[a],f))}return function(){b("color","defaultColors","defaultColor");b("gradient","defaultGradients","defaultGradient");b("pattern","defaultPatterns","defaultPattern")}}();d.reset=function(b){b?(d[b+"Ctx"]={},d[b+"Official"]=
{},d[b+"Hash"]={},d[b]=[]):(d.gradientCtx={},d.gradientOfficial={},d.gradientHash={},d.gradient=[],d.colorCtx={},d.colorOfficial={},d.colorHash={},d.color=[],d.patternCtx={},d.patternOfficial={},d.patternHash={},d.pattern=[])};d.hashDNA=function(b){if(b&&b.toLowerCase)return"#"===b[0]&&(b=q.W3_HEX(b).toString()),b=m.hash(b),b=Math.abs(b).toString(16).substr(0,6),m.string.rpad(b,"0",6)};d.generateColorBlock=function(){var b={Cyan:[12,6,9.7],Azure:[33,6.9,9.2],Indigo:[62,9,8.6],Purple:[92,6,9],Pink:[150,
8,9],Red:[180,10,9],Orange:[196,7.7,9.7],Orange3:[224,6.2,10],Yellow:[234,4.7,11],Green:[261,11,9.5]},f=0,a;for(a in b)f++;for(var c=0,d,g=[],m=1;8>=m;m++)for(a in b){if(1===m)d=q.HSL_RGB({H:0,S:0,L:100-c/(f-1)*100}),c++;else{n=m-1;d=b[a];var e=Math.min(1,n/d[1]),p=Math.min(1,1-n/d[2]);d=q.HSI_RGB({H:(d[0]+180)%360,S:150*e,I:250*p})}g.push(q(d,"RGB>HEX24>W3"))}return g}};"object"===typeof module&&module.exports&&(module.exports=r.module.StylePalette)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Style=function(g){function d(a,e){(m[a]=function(a,k){a=a||p[e].value;if("string"===typeof a){var b=m.parseStyle(a);if(b)var d=b.type,b=b.dna;else k=k||{},d=k.type||"color",b=k[k.type]||"#000";a={};a.type=d;a[d]=b}this.method=e;this.opacity=a.opacity||1;this.type=a.type||"color";this.mode=a.mode||"linear";this.noise=a.noise||!1;this.angle=a.angle||0;d=p[e]||p.fill;this.color=a.color||d.color;this.gradient=a.gradient||d.gradient;this.pattern=a.pattern||d.pattern;
"stroke"===e?(this.dashArray=Array.isArray(a.dashArray)?a.dashArray:c.dashArray,this.dashOffset=isFinite(a.dashOffset)?a.dashOffset:c.dashOffset,this.lineCap=a.lineCap||c.lineCap,this.lineJoin=a.lineJoin||c.lineJoin,this.lineWidth=isFinite(a.lineWidth)?a.lineWidth:c.lineWidth,this.miterLimit=isFinite(a.miterLimit)?a.miterLimit:c.miterLimit,this.enabled=isFinite(a.enabled)?a.enabled:isFinite(a.lineWidth)):this.enabled="fill"===e?isFinite(a.enabled)?a.enabled:!0:isFinite(a.enabled)?a.enabled:!1}).type=
e;m[e]=new m[a]}var m=this,q=g.dom,b=g.color.space,h=g.feature,f=g.loc,a=g.util;m.types=["color","gradient","pattern"];m.methods={background:"Background",fill:"Fill",stroke:"Stroke"};m.create=function(a,c){a=a||{};c=c||a.method||"fill";var e=m.methods[c];if(e)return new m[e](a);console.error(arguments)};m.copy=function(a,c){return m.copyInto(a,{},c)};m.copyInto=function(a,e,b){b=b||{};var d=b.compress,f=b.paintType;b=b.exclude||{};if((!d||!1!==a.enabled&&0!==a.lineWidth)&&e){var f=f||a.type||e.type,
p;for(p in a)if(!0!==b[p]){var h=A[p];if(h){if(d)if("method"===p)continue;else if(l[p]&&p!==f)continue;else if(c[p]===a[p])continue;e[p]="array"===h?a[p].slice():a[p]}}return e}};m.copyStyles=function(a,e,c){for(var b in m.methods)a[b]&&e[b]&&m.copyInto(a[b],e[b],{exclude:c});return e};m.equals=function(a,e){for(var c in a){var b=A[c];if(b)if("array"===b){if(String(a[c])!==String(e[c]))return!1}else if(a[c]!==e[c])return!1}return!0};var c={dashArray:"none",dashOffset:0,lineCap:"butt",lineJoin:"miter",
lineWidth:1,miterLimit:4,angle:0,mode:"linear",noise:!1,opacity:1},l={color:"string",gradient:"string",pattern:"string"},A={color:"string",gradient:"string",pattern:"string",dashArray:"array",dashOffset:"float",lineCap:"string",lineJoin:"string",lineWidth:"float",miterLimit:"float",angle:"number",mode:"string",noise:"boolean",opacity:"float",type:"string",method:"string",enabled:"boolean"};m.setObjectFromGlobal=function(a){m.copyStyles(m,a,{enabled:!0})};m.setGlobalFromObject=function(a){m.copyStyles(a,
m);if(g.palette){var e=g.palette.getPaintMethod();(a=a[e])&&g.palette.setPaint(a)}};var t=m.__ctx=q.Canvas(1,1).ctx;m.loadPaint=function(a,e,c){"pattern"===a.type?m.loadPattern(a[a.type],e,c):e&&e(a)};m.loadPattern=function(k,e,c,b){if(k instanceof CanvasPattern)e&&e(k);else{var d=m.patternCtx[k];d?e&&e(d):a.loadImage({src:f.getMediaUrl(k),onprogress:b,onsuccess:function(){var a=t.createPattern(this,"repeat");a.width=this.width;a.height=this.height;m.patternCtx[k]=a;e&&e(a)},onerror:function(){c&&
c();h.debug&&console.warn("missing pattern",k)}})}};m.hexFromColor=function(a){"string"===typeof a?"hsla"===a.substr(0,4)?a=b(a,"W3>HSLA>RGBA>HEX24>W3"):"rgba"===a.substr(0,4)?a=b(a,"W3>RGBA>HEX24>W3"):"rgb"===a.substr(0,3)?a=b(a,"W3>RGB>HEX24>W3"):g.color.webcolors[a]&&(a=g.color.webcolors[a]):isFinite(a.R)?a=b(a,"RGB>HEX24>W3"):isFinite(a.H)&&(a=b(a,"HSLA>RGBA>HEX24>W3"));return a};var e={color:function(a){return a.startsWith("#")||a.startsWith("hsl")||a.startsWith("rgb")||g.color.webcolors[a]},
pattern:function(a){return a.startsWith("#asset")||a.startsWith("data:")||a.startsWith("blob:")||a.startsWith("filesystem:")||a.startsWith("http")||a.startsWith("./")},gradient:function(a){return-1!==a.indexOf(",")&&isFinite(parseInt(a[0]))?!0:-1!==a.indexOf("linear-gradient(")?!0:-1!==a.indexOf("radial-gradient(")?!0:!1}};m.validate=function(a,c){if("string"===typeof a){var b=a.toLowerCase();return c?e[c](b):e.pattern(b)?"pattern":e.color(b)?"color":e.gradient(b)?"gradient":!1}return!1};m.parseStyle=
function(a){if("none"===a)return{dna:"none",type:"gradient"};if(e.pattern(a))return{dna:a,type:"pattern"};if(e.color(a))return{dna:a,type:"color"};if(e.gradient(a))if(-1!==a.indexOf("linear-gradient")){if(a=m.parseCSSGradient(a,!0))return{dna:a,type:"gradient"}}else return{dna:a,type:"gradient"}};m.renderSwatch=function(a,e,c,b,d){var f=e.type,p=e[f];d=d||1;c=(c||24)*d;b=(b||24)*d;a.width=c;a.height=b;if("CANVAS"===a.nodeName){var l=a.ctx||a.getContext("2d");m.loadPaint(e,function(){l.fillStyle=m.toContext2D(e,
c,b);l.fillRect(0,0,c,b)})}else switch(f){case "color":a.style.background=p;break;case "gradient":a.style.cssText=m.toCSSGradientBG({dna:p,type:"linear",angle:"135deg"});break;case "pattern":p.css&&(a.style.background=p.css)}};m.toSVG=function(a){var e=g.vector.SVG;switch(a.type){case "color":return a.color;case "gradient":var c=a.gradient,b=a.noise;return e.Gradient({type:a.mode+"Gradient",id:"dna"+m.hashDNA(c),stops:m.getColorStopsHelper({asSVGArray:!0,noise:b,dna:c})});case "pattern":return c=
a.pattern,e.Pattern({id:"dna"+m.hashDNA(c),pattern:m.patternCtx[c]})}};m.toCSS=function(a){switch(a.type){case "color":return a.color;case "gradient":return m.toCSSGradient({stops:m.toCSSColorStops(m.getColorStopsHelper({dna:a[a.type],noise:a.noise})),type:a.mode,angle:a.angle});case "pattern":return"url("+f.getMediaUrl(a.pattern)+")"}};m.toContext2D=function(a,e,c){var b=a.type;a=a[b];switch(b){case "color":return a;case "gradient":return m.createGradient(t,"linear",0,0,e,c,m.getGradientStops({dna:a,
asFlatArray:!0}));case "pattern":if(a instanceof CanvasPattern)return a;if(m.patternCtx[a])return m.patternCtx[a];console.warn("pattern not loaded.")}};q=g.module;q.StyleGCO&&new q.StyleGCO(g,m);q.StyleGradient&&new q.StyleGradient(g,m);q.StylePalette&&new q.StylePalette(g,m);m.loadDefault&&m.loadDefault();var p=function(){function a(e){function c(a,k){var b=h.style[a];b[e]&&(b=b[e]);return m.validate(b,a)?b:k}return{color:c("color","#000"),gradient:c("gradient","0.169429711,fff91d8a,0.583,ff7c0ebd,1,ff0000f0"),
pattern:c("pattern","data:image/gif;base64,R0lGODlhDgAOAID/ANDu/FOdvCwAAAAADgAOAAACHYwDh5fazqKcj05rar5q+w961diVi9g9jaaGkFEAADs=")}}var e={};e.fill=a("fill");e.fill.value=e.fill[h.style.defaultFillType];e.background=a("background");e.background.value=e.background[h.style.defaultBackgroundType];e.stroke=a("stroke");e.stroke.value=e.stroke[h.style.defaultStrokeType];return e}();a.each(m.methods,function(a,e){d(a,e)});m.composite="normal";g.style=m};"object"===typeof module&&module.exports&&(require("prototypes"),
module.exports=r.module.Style)})(sketch);"undefined"===typeof sketch&&(sketch={});sketch.color=sketch.color||{};sketch.color.space=sketch.color.space||{};sketch.color.spacex=sketch.color.spacex||{};
(function(){var r={},g={"HEX24>HSL":"HEX24>RGB>HSL","HEX32>HSLA":"HEX32>RGBA>HSLA","HEX24>CMYK":"HEX24>RGB>CMY>CMYK","RGB>CMYK":"RGB>CMY>CMYK"},d=sketch.color.space=function(b,f){g[f]&&(f=g[f]);if("object"===typeof b&&0<=b[0]){for(var a=f.substr(0,f.indexOf(">")),c={},l=0;l<a.length;l++){var m=a.substr(l,1);c[m]=b[l]}b=c}if(r[f])return r[f](b);for(var t=[],a=f.split(">"),c=a[0]+"_"+a[1],l=2;l<=a.length;l++)b=d[c](b),t.push(d[c]),c=c.substr(c.indexOf("_")+1)+"_"+a[l];a=t.length;1===a?r[f]=t[0]:2===
a?r[f]=function(a){return t[1](t[0](a))}:3===a?r[f]=function(a){return t[2](t[1](t[0](a)))}:4===a&&(r[f]=function(a){return t[3](t[2](t[1](t[0](a))))});return b},m={"#":function(b,f){b.color=d.HEX24_RGBA(d.W3_HEX24(f));b.colorSpace="RGB"},rgba:function(b,f){b.color=d.W3_RGBA(f);b.colorSpace="RGB"},rgb:function(b,f){b.color=d.W3_RGB(f);b.colorSpace="RGB"},hsla:function(b,f){b.color=d.W3_HSLA(f);b.colorSpace="HSL"},hsl:function(b,f){b.color=d.W3_HSL(f);b.colorSpace="HSL"}},q=sketch.color.spacex=function(d,
f){if(!(this instanceof q))return new q(d);d=d||"#000";if("string"===typeof d)if(d=d.replace(/ /g,""),d=d.toLowerCase(),b[d])m["#"](this,b[d]);else for(var a in m){if(0===d.indexOf(a)){m[a](this,d);break}}else this.color=d,this.colorSpace=f;return this};q.prototype.setSpace=function(b){var f=this.colorSpace;f!==b&&(this.color=d(this.color,f+">"+b),this.colorSpace=b);return this};q.prototype.toHEX24=function(){return d.RGB_HEX24(this.toRGB().color)};q.prototype.toHEX32=function(){return d.RGBA_HEX32(this.toRGB().color)};
q.prototype.toRGB=function(){return this.setSpace("RGB")};q.prototype.toHSL=function(){return this.setSpace("HSL")};q.prototype.toHSV=function(){return this.setSpace("HSV")};q.prototype.toCMYK=function(){return this.setSpace("CMYK")};q.prototype.toHEXString=q.prototype.toHEX24String=function(){return d.HEX24_W3(this.toHEX24())};q.prototype.toHEX32String=function(){return d.HEX32_W3(this.toHEX32())};q.prototype.toRGBString=function(){return d.RGB_W3(this.toRGB().color)};q.prototype.toRGBAString=function(){return d.RGBA_W3(this.toRGB().color)};
q.prototype.toHSLString=function(){return d.HSL_W3(this.toHSL().color)};q.prototype.toHSLAString=function(){return d.HSLA_W3(this.toHSL().color)};q.prototype.isW3Contrast=function(b,d,a){d=d||125;a=a||500;b=b?(new q(b)).toRGB().color:{R:0,G:0,B:0};d=this.isW3Brightness(b)<=d;a=this.isW3Difference(b)<=a;return!(d&&a)};q.prototype.isW3Brightness=function(b){return d.W3Brightness(this.color,b)};q.prototype.isW3Difference=function(b){return d.W3Difference(this.color,b)};d.isW3Contrast=function(b,f){f=
f||{R:255,G:255,B:255};var a=125>=d.W3Brightness(b,f),c=500>=d.W3Difference(b,f);return!(a&&c)};d.W3Brightness=function(b,d){return Math.abs((299*b.R+587*b.G+114*b.B)/1E3-(299*d.R+587*d.G+114*d.B)/1E3)};d.W3Difference=function(b,d){var a=Math.max(b.R,d.R)-Math.min(b.R,d.R),c=Math.max(b.G,d.G)-Math.min(b.G,d.G);d=Math.max(b.B,d.B)-Math.min(b.B,d.B);return a+c+d};d.RGB_W3=function(b){return"rgb("+(b.R>>0)+","+(b.G>>0)+","+(b.B>>0)+")"};d.RGBA_W3=function(b){var d=isFinite(b.A)?b.A/255:1;return"rgba("+
(b.R>>0)+","+(b.G>>0)+","+(b.B>>0)+","+d+")"};d.W3_RGB=function(b){b=b.substr(4,b.length-5).split(",");return{R:parseFloat(b[0],10),G:parseFloat(b[1],10),B:parseFloat(b[2],10)}};d.W3_RGBA=function(b){b=b.substr(5,b.length-6).split(",");return{R:parseFloat(b[0],10),G:parseFloat(b[1],10),B:parseFloat(b[2],10),A:255*parseFloat(b[3]||1)}};d.HSL_W3=function(b){return"hsl("+(b.H+.5>>0)+","+(b.S+.5>>0)+"%,"+(b.L+.5>>0)+"%)"};d.HSLA_W3=function(b){var d=isFinite(b.A)?b.A/255:1;return"hsla("+(b.H+.5>>0)+","+
(b.S+.5>>0)+"%,"+(b.L+.5>>0)+"%,"+d+")"};d.W3_HSL=function(b){var d=b.indexOf("(")+1,a=b.indexOf(")");b=b.substr(d,a-d).split(",");return{H:parseFloat(b[0],10),S:parseFloat(b[1],10),L:parseFloat(b[2],10)}};d.W3_HSLA=function(b){var d=b.indexOf("(")+1,a=b.indexOf(")");b=b.substr(d,a-d).split(",");return{H:parseFloat(b[0],10),S:parseFloat(b[1],10),L:parseFloat(b[2],10),A:255*parseFloat(b[3],10)}};d.W3_HEX=d.W3_HEX24=function(b){"#"===b.substr(0,1)&&(b=b.substr(1));3===b.length&&(b=b[0]+b[0]+b[1]+b[1]+
b[2]+b[2]);return parseInt("0x"+b,16)};d.W3_HEX32=function(b){"#"===b.substr(0,1)&&(b=b.substr(1));3===b.length&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]);return 6===b.length?parseInt("0xFF"+b,16):parseInt("0x"+b,16)};d.HEX_W3=d.HEX24_W3=function(b,d){d||(d=6);b||(b=0);var a,c=b.toString(16);for(a=c.length;a<d;)c="0"+c,a++;for(a=c.length;a>d;)c=c.substr(1),a--;return"#"+c};d.HEX32_W3=function(b){return d.HEX_W3(b,8)};d.HEX_RGB=d.HEX24_RGB=function(b){return{R:b>>16,G:b>>8&255,B:b&255}};d.HEX_RGB=d.HEX24_RGBA=
function(b){return{R:b>>16,G:b>>8&255,B:b&255,A:255}};d.HEX32_RGBA=function(b){return{R:b>>>16&255,G:b>>>8&255,B:b&255,A:b>>>24}};d.RGBA_HEX32=function(b){return(b.A<<24|b.R<<16|b.G<<8|b.B)>>>0};d.RGB_HEX24=d.RGB_HEX=function(b){0>b.R&&(b.R=0);0>b.G&&(b.G=0);0>b.B&&(b.B=0);255<b.R&&(b.R=255);255<b.G&&(b.G=255);255<b.B&&(b.B=255);return b.R<<16|b.G<<8|b.B};d.RGB_CMY=function(b){return{C:1-b.R/255,M:1-b.G/255,Y:1-b.B/255}};d.RGBA_HSLA=d.RGB_HSL=function(b){var d=b.R/255,a=b.G/255,c=b.B/255,l=Math.min(d,
a,c),g=Math.max(d,a,c),m=g-l,e,p=(g+l)/2;if(0===m)l=e=0;else{var l=.5>p?m/(g+l):m/(2-g-l),k=((g-d)/6+m/2)/m,v=((g-a)/6+m/2)/m,m=((g-c)/6+m/2)/m;d===g?e=m-v:a===g?e=1/3+k-m:c===g&&(e=2/3+v-k);0>e&&(e+=1);1<e&&(e-=1)}return{H:360*e,S:100*l,L:100*p,A:b.A}};d.RGBA_HSVA=d.RGB_HSV=function(b){var d=b.R/255,a=b.G/255,c=b.B/255,l=Math.min(d,a,c),g=Math.max(d,a,c),m=g-l,e;if(0===m)l=e=0;else{var l=m/g,p=((g-d)/6+m/2)/m,k=((g-a)/6+m/2)/m,m=((g-c)/6+m/2)/m;d===g?e=m-k:a===g?e=1/3+p-m:c===g&&(e=2/3+k-p);0>e&&
(e+=1);1<e&&(e-=1)}return{H:360*e,S:100*l,V:100*g,A:b.A}};d.CMY_RGB=function(b){return{R:Math.max(0,255*(1-b.C)),G:Math.max(0,255*(1-b.M)),B:Math.max(0,255*(1-b.Y))}};d.CMY_CMYK=function(b){var d=b.C,a=b.M;b=b.Y;var c=Math.min(b,Math.min(a,Math.min(d,1))),d=Math.round((d-c)/(1-c)*100),a=Math.round((a-c)/(1-c)*100);b=Math.round((b-c)/(1-c)*100);c=Math.round(100*c);return{C:d,M:a,Y:b,K:c}};d.CMYK_CMY=function(b){return{C:b.C*(1-b.K)+b.K,M:b.M*(1-b.K)+b.K,Y:b.Y*(1-b.K)+b.K}};d.HSLA_RGBA=d.HSL_RGB=function(b){var d=
b.H/360,a=b.S/100,c=b.L/100,l,g,m;0===a?c=a=d=c:(g=.5>c?c*(1+a):c+a-a*c,l=2*c-g,m=d+1/3,0>m&&(m+=1),1<m&&(m-=1),c=1>6*m?l+6*(g-l)*m:1>2*m?g:2>3*m?l+(g-l)*(2/3-m)*6:l,m=d,0>m&&(m+=1),1<m&&(m-=1),a=1>6*m?l+6*(g-l)*m:1>2*m?g:2>3*m?l+(g-l)*(2/3-m)*6:l,m=d-1/3,0>m&&(m+=1),1<m&&(m-=1),d=1>6*m?l+6*(g-l)*m:1>2*m?g:2>3*m?l+(g-l)*(2/3-m)*6:l);return{R:255*c,G:255*a,B:255*d,A:b.A}};d.HSVA_RGBA=d.HSV_RGB=function(b){var d=b.H/360,a=b.S/100,c=b.V/100,l,g,m,e,p;if(0===a)l=g=m=Math.round(255*c);else switch(1<=d&&
(d=0),d*=6,e=d-Math.floor(d),p=Math.round(255*c*(1-a)),m=Math.round(255*c*(1-a*e)),a=Math.round(255*c*(1-a*(1-e))),c=Math.round(255*c),Math.floor(d)){case 0:l=c;g=a;m=p;break;case 1:l=m;g=c;m=p;break;case 2:l=p;g=c;m=a;break;case 3:l=p;g=m;m=c;break;case 4:l=a;g=p;m=c;break;case 5:l=c,g=p}return{R:l,G:g,B:m,A:b.A}};var b=sketch.color.webcolors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",
blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",
darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",fuscia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",
lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",
mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",
peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",
white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};"object"===typeof module&&module.exports&&(module.exports=sketch.color)})();"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Library=function(g,d){function m(a){var b=a.template.clip,d=new c.BBox(b.path),e=d.x2-d.x1,d=d.y2-d.y1,p=a.getOffsetHeight?a.getOffsetHeight():0,k=a.getViewport(),k=Math.min(k.width/e,(k.height-p)/d)-.05;a.setClip(b,k);a.setSize(e*k,d*k);a.orient.setCenter();a.orient.setPan(0,p/2);a.orient.decompose();a.baseWidth=e*k;a.baseHeight=d*k}var q=g.dom,b=g.lib,h=g.loc,f=d.toolkit,a=g.util,c=g.vector;b.setData=function(c,f){if(f.data||f.official){var h=b[c],e={};
f.reset&&(h.tree=f.data?{}:h.defaultTree||{});a.Queue({items:f,oncomplete:function(){for(var a in h.tree)e[a]=e[a]||h.tree[a];h.tree=e;b.init(c);g.ui.configurePane(null,!0)},next:function(c,k,b){if("reset"===k)return this.next();if("defaultValue"===k)return h.defaultItem=c,this.next();b=c.data?c.data:c;for(var f=0;f<b.length;f++){var l=b[f];"string"===typeof l&&(l={filepath:l,name:a.string.filename(l),category:c.category||"Unknown"});void 0===l.name&&(l.name=a.string.filename(l.filepath));void 0===
l.id&&(l.id=l.name.replace(this.rxAlphaNumeric,"")+Date.now());var u=l.category||c.category||"Unknown";(e[u]||(e[u]=[])).push(l)}b=d.scene.copyRules(c);h.meta[c.category||k]=b;this.next()}})}};b.setClipartDefaultValue=function(a){var c=b.clipart;if(a=a||c.defaultItem)a=a.startsWith("./")?a:c.path+"/"+a,delete f.media.device.render,f.media.device.src=a,d.config.clipart.src=a};b.setClipartData=function(a){a&&(b.setData("clipart",a),b.setClipartDefaultValue(a.defaultValue))};b.setStampDefaultValue=function(a){var c=
b.clipart;a=a||c.defaultItem;d.config.stamp.src=a};b.setStampData=function(a){a&&(b.setData("stamp",a),b.setStampDefaultValue(a.defaultValue))};b.setTextData=function(a){a&&(b.setData("text",a),a.defaultValue&&(d.config.text.fontFamily=a.defaultValue))};b.setPaletteData=function(a){function c(b){var e=a[b];if(e){var d=e.official,k=e.data;if(!1===e.enabled){g.feature.style[b]=!1;var f=q.$("."+b+"-indicator");f&&q.style(f.parentNode,{display:"none"})}else g.feature.style[b]=!0,(f=q.$("."+b+"-indicator"))&&
q.style(f.parentNode,{display:""});if(d||k){if(d){for(var f=[],h=0;h<d.length;h++)f.push({dna:d[h],status:"official"});d=f.concat(k)}else d=k;!0!==e.reset&&(d=d.concat(g.style[b]));d.length&&(g.style.reset(b),g.style.add(d,b))}e.defaultValue&&(g.style.fill[b]=e.defaultValue)}}c("color");c("gradient");c("pattern");g.palette.rebuild()};b.setTemplateData=function(c){c&&b.setData("template",a.copy(c))};b.openTemplate=function(f,h,t){function e(){d.template=k;k.alert&&(g.feature.alert=k.alert);k.background&&
d.setBackground(k.background);m(d);d.scene.add({data:a.copy(k.children),scale:v},function(){b.setClipartDefaultValue();h&&h(v)},function(a){console.error(a);t&&t(a)},{useRecord:!1,useRender:!1})}var p=b.template;b.getTemplateData&&b.getTemplateData();f=f||p.defaultItem;var k=p.byId[f]||p.byName[f];if(k){var v=1;if(k.clip){var z=k.clip;"string"===typeof z.path?(z.path=c.SVGPath.toVOBPath(path),e()):"string"===typeof z.src?new c.SVG({src:z.src,onload:function(a){z.path=a.vob.childNodes[0].data;e()}}):
z.path&&e()}else e()}else return console.warn("missing template")};b.init=function(c){function d(a,c,b){switch(b){default:return f.tree[c].sort(function(a,c){return a.name.localeCompare(c.name)})}}if(!h.MEDIA)return console.warn("loc not setup");var f=b[c];f.meta=f.meta||{};f.path=h.MEDIA+f.dir+"/";f.type=c;f.defaultTree=f.defaultTree||a.copy(f.tree);f.getSrc=function(a,c){c=c||{};if(a){var b=a.filepath||"";if(b.startsWith("#"))return c.absolute?g.assets.getURL(b):b;if(b.startsWith("blob")||b.startsWith("http")||
b.startsWith("./"))return b;var d=f.dir+"/";return c.absolute?h.MEDIA+d+b:d+b}};f.getThumbnail=function(a){if(a){var b=h.MEDIA+"thumb/"+f.dir+"/",k=a.filepath||"";return k.startsWith("http")?k:a.thumbnail?a.thumbnail:k.startsWith("#")?a.thumbnail:k.startsWith(".")?k.replace("/media/","/media/thumb/").replace(".svg",".png"):"text"===c?b+a.filename+".png":b+k.replace(".svg",".png")}};f.getEntry=function(a){var c=f.byPath[a];if(c)return c;c=g.assets.getItem(a);return f.byPath[c.src]};(f.reindex=function(){f.byId=
{};f.byName={};f.byPath={};f.paths=[];for(var e in f.tree){d(c,e);for(var b=e,k=f.tree[b],v=0;v<k.length;v++){var h=k[v];h.type=c;h.category=b;h.filepath=h.filepath||"";h.filename=a.string.filename(h.filepath);h.folder=b;h.id&&(f.byId[h.id]=h);f.byName[h.name]=h;f.byPath[h.filepath]=h;f.paths.push(h)}}})()};"template brush shape stamp text clipart image color gradient texture".split(" ").forEach(function(c){b[c]=a.copyInto(b[c],{meta:{},defaultCategory:"",dir:c,tree:{"Your Files":[]}});b.init(c)})}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Scene=function(g,d){function m(){F();a.children.splice(0,a.children.length);a.childrenById={}}function q(c){d.on.objectAdd&&(a.updateTransform(c),d.on.objectAdd(c))}function b(c){c.length&&(a.updateSelectionInfo(),d.on.select&&(c=d.selection.toObjects(c),c.length&&d.on.select(c)))}function h(c){c.length&&(a.updateSelectionInfo(),d.on.deselect&&(c=d.selection.toObjects(c),c.length&&d.on.deselect(c)))}function f(a){alertify.log_visible()||(a=a.useMaxCopies,
a=p.translate("useMaxCopies-alert",a,1<a?"copies":"copy"),g.ui.log(a))}var a=this,c=g.dom,l=g.assets,A=d.contexts,t=g.detect,e=g.feature,p=g.lang,k=g.net,v=d.render,z=g.style,s=d.toolkit,u=g.ui,w=g.util,x=g.vector;a.push=function(c,e){e&&a.decompress(c);a.children.push(c);a.childrenById[c.id]=c};a.pushAt=function(c,e,b){b&&a.decompress(c);a.children.splice(e,0,c);a.childrenById[c.id]=c};a.shiftAt=function(c){var e=a.children[c].id;a.children.splice(c,1);delete a.childrenById[e]};a.setData=function(c,
e){m();for(var b=0;b<c.length;b++)a.push(c[b],e)};a.load=function(a){a=a||{};var c=a.objects,e=a.onsuccess,b=a.onerror;a=a.onprogress;c&&(d.scene.setData(c,!0),d.scene.reindex());d.render.preload({chunkBatch:!0,onerror:b,onprogress:a,onsuccess:function(){g.assets&&g.assets.addFromObjects(d.scene.children);e&&e()}})};a.addObject=function(c,e){e=e||{};if(!1===a.ensureMaxCopies(c))a.deselectAll();else{var b=s.getToolkit(c.type),f=a.copyProperties(b,c,{id:a.createId(c),timestamp:d.timestamp(),toolkit:b,
toolkitId:b.id,zIndex:a.children.length,bbox:{x:0,y:0,width:0,height:0,rotate:0,scale:{x:1,y:1}}});a.ensureStickyIdx(f);a.push(f);a.sort();a.reindex();b.loadResource({object:f,onerror:q,onsuccess:q});e.useHistory&&d.history.store({cmd:"add",name:f.type,data:[f]},{userId:k.userId});return f}};a.removeById=function(c,e){var b=a.getById(c);b&&a.removeByIdx(b.zIndex,e);return a};a.remove=a.removeByIdx=function(c,e){e=!1!==e;switch(typeof c){case "number":var b={};b[c]=!0;c=b;break;case "object":c=w.copy(c);
break;default:return a}for(var b=[],k=a.children.length,f=a.children.splice(0,k),p=a.selection.items,l={},s=0;s<k;s++){var h=f[s];c[s]?(e&&b.push(a.copyDeep(h)),v.cache.clean(h.hash),d.scene.setDirtyPixelData(h)):(a.children.push(h),l[h.id]=h);p[h.zIndex]&&a.selection.deselect(h.zIndex)}e&&b.length&&(d.on.objectRemove&&d.on.objectRemove(a.selection.toObjects(c)),d.history&&d.history.store({cmd:"remove",name:"remove-objects",data:b}));a.childrenById=l;a.reindex();a.updateSelectionInfo();return a};
a.removeByName=function(c,e){var b=a.getByName(c);b.length&&(b=a.selection.fromObjects(b),a.removeByIdx(b,e));return a};a.removeAll=function(c){var e=a.selection.fromObjects(a.children);a.removeByIdx(e,c);a.deselectAll();return a};a.clear=function(e){a.removeAll(!1!==e);c.Canvas.clear(A.active);c.Canvas.clear(A.draw);c.Canvas.clear(A.layer0);return a};a.reset=function(c){m();c||g.__nodejs||d.on.record&&!c&&d.on.record({op:"SCENE_RESET",type:"major"});return a};a.deselectById=function(c){return(c=
a.getById(c))?a.deselectByIdx(c.zIndex):a};a.deselect=a.deselectByIdx=function(c){if(a.selection.length){var e=[];if("object"===typeof c){var b=c;if(Array.isArray(b))for(var k=0;k<b.length;k++)c=b[k],y(c,!1)&&e.push(c);else for(c in b)y(c,!1)&&e.push(c)}else y(c)&&e.push(c);h(e)}return a};var y=function(c){var e=a.selection;return e.items[c]?(e.deselect(c),!0):!1};a.deselectByName=function(c){var e=a.selection;e.length&&(c=a.getByName(c),c.length&&a.deselectByIdx(e.fromObjects(c)));return a};a.deselectAll=
function(){var c=a.selection;c.length&&(c=Object.keys(c.items),F(),h(c));return a};var F=function(){s&&s.text&&s.text.hide();a.selection.reset();a.hovered.reset();a.controls=[]};(function(){function c(e,d){d&&a.deselectAll();var f=[];if(Array.isArray(e))for(var p=0;p<e.length;p++){var l=e[p];k(l,!1)&&f.push(l)}else for(l in e)k(l,!1)&&f.push(l);b(f)}function k(c,e){var b=a.children[c];if(b&&!1!==b.selectable){var b=a.selection,d=!!b.items[c];if(e){if(!d||1!==b.length)return a.deselectAll(),b.select(c),
!0}else if(!d)return b.select(c),1<b.length&&(a.controls=[]),!0}return!1}a.selectById=function(c,e){var b=a.getById(c);b&&a.selectByIdx(b.zIndex,e);return a};a.select=function(e,b){"object"===typeof e?isFinite(e.zIndex)?a.selectByIdx(e.zIndex,b):c(e,b):a.selectByIdx(e,b);return a};a.selectByIdx=function(d,f){e.vector.edit&&("object"===typeof d?c(d,f):a.children[d]&&k(d,!!f)&&b([d]));return a}})();a.selectByName=function(c,e){var b=a.getByName(c);b.length?(b=a.selection.fromObjects(b),a.selectByIdx(b,
e)):e&&a.deselectAll();return a};(function(){function c(k){if(e.vector.edit){var d=a.selection.items,f=a.children,p=f.length;a.controls=[];for(var l=[],v=[],s=0;s<p;s++)!1!==f[s].selectable&&(k&&d[s]?(a.selection.deselect(s),v.push(s)):(a.selection.select(s),l.push(s)));a.handleSelection();b(l);h(v)}}a.selectAll=function(){c();return a};a.selectInverse=function(){c(!0);return a}})();a.getById=function(c){return a.childrenById[c]};a.getByIdx=function(c){return a.children[c]};(function(){function c(e){return function(c){for(var b=
[],k=a.children,d=0;d<k.length;d++){var f=k[d];void 0!==f[e]&&f[e]===c&&b.push(f)}return b}}a.getByGroupId=new c("groupId");a.getByName=new c("name");a.getBySrc=new c("src")})();a.getLast=function(){return a.children[a.children.length-1]};a.getFocused=function(){return a.selection.item||a.hovered.item};a.getOneSelected=function(){if(a.selection.item)return a.selection.item;for(var c in a.selection.items)return a.children[c]};a.getHovered=function(){return a.hovered.item};a.getSelected=function(){return a.selection.item};
a.getSelection=function(c,e){return a.selection.toObjects(c,e)};a.getCollisions=function(c,e){e=e||{};var b=[],k=x.Polygon.SAT,d=c.trx2D;if(d)for(var f=[d.nw,d.ne,d.se,d.sw],p=e.objects||a.children,l=p.length,v=isFinite(e.idx)?e.idx:l-1;v<l;v++){var s=p[v];s.id!==c.id&&s.trx2D&&(d=s.trx2D,k(f,[d.nw,d.ne,d.se,d.sw])&&(e.fn?e.fn(s):b.push(s)))}return b};a.setDirtyPixelData=function(c,b){c&&e.canvas.glfxPixelData&&(c.usePixelData&&(c.dirtyCache=!0),a.getCollisions(c,{idx:isFinite(b)?b:c.zIndex,fn:function(a){a.usePixelData&&
(a.dirtyCache=!0)}}))};(function(){function c(e,b){return function(c){c=c||a.selection.items;for(var k in c)if(c=a.children[k])c[e]=b;return a}}a.traverse=function(e,b,k){var d=a.children;"function"===typeof e?w.each(d,e):(new c(e,b))(k||a.selection.items)};a.setDirtyCache=new c("dirtyCache",!0);a.setDirtyControl=new c("dirtyControl",!0);a.setDirtyTransform=new c("dirtyTransform",!0);a.setDirtyBounds=new c("inbounds",void 0)})();a.updateSelectionInfo=function(){if("undefined"!==typeof document){var e=
c.$(".sk-selection-count");if(e){var b=a.selection;if(b.length){var k=p.translate("select-tool-count",b.length)+":",d={};b.traverse(function(a){a=a.type;d[a]||(d[a]=0);d[a]++});var k=k+'<div style="margin: 5px 0 0 25px;">',f;for(f in d)var b=d[f],l=1<b?"s":"",v=p.translate(f),k=k+(b+" "+v+" layer"+l+"<br>");k+="</div>"}else k=p.translate("select-tool-message");e.innerHTML=k}}};a.handleSelection=function(){return function(){if(e.vector.edit){var c=e.tools.select.useConfigure,b=a.selection,k=b.length,
d=b.item;if(0===k)c&&u.configurePane();else if(1===k)e.style.toGlobals&&z.setGlobalFromObject(d),c&&u.configurePane(d.type);else if(a.controls=[],c){var f,c=!0,p;for(p in b.items)if(b=a.children[p])if(f=f||b.type,f!==b.type){c=!1;break}u.configurePane(c?f:void 0)}}}}();var B=/[^a-zA-Z]/g,C=/[^0-9]/g,G=function(a,c){return a.zIndex>c.zIndex?1:-1},r=function(a,c){return a.id>c.id?1:-1},E=function(a,c){var e=a.name||"",b=c.name||"",k=e.replace(B,""),d=b.replace(B,"");return k===d?(k=parseInt(e.replace(C,
""),10),d=parseInt(b.replace(C,""),10),k===d?0:k>d?1:-1):k>d?1:-1};a.sort=function(c){switch(c){case "name":a.children.sort(E);break;case "id":a.children.sort(r);break;default:a.children.sort(G)}};a.reindex=function(){for(var c=a.children,e=a.selection.items,b=[],k=0,d=c.length,f;k<d;k++)if(f=c[k]){var p=f.zIndex;e[p]&&(delete e[p],b.push(k));f.zIndex=k}F();k=0;for(d=b.length;k<d;k++)p=b[k],a.selection.select(p);a.updateSelectionInfo()};(function(){function c(a){var e=1;return function(c){c=c||{};
var b=c.id;if(b){var d=typeof b;if(("string"===d||"number"===d)&&w.isEmpty(a(b)))return b}c.increment&&e++;for(c=(c.userId||k.userId)+":";;){if(w.isEmpty(a(c+e)))return c+e;e++}}}a.createId=c(a.getById);a.createGroupId=c(a.getByGroupId)})();a.createHash=function(a,c){c=c||{};for(var e=d.pixelRatio+"",b=[a],k=t.useLocalAlpha;a=b.shift();)for(var f in a){var p=a[f];if(null!=p&&!(H[f]||D[f]||c[f]))if("fill"===f){if(e+=p.noise,e+=p.angle,e+=p.mode,e+=p.enabled,p=p[p.type])e+=p.substr(0,256)}else if("stroke"===
f&&p.lineWidth){if(e+=p.noise,e+=p.angle,e+=p.mode,e+=p.lineWidth,e+=p.lineCap,e+=p.lineJoin,e+=p.enabled,p=p[p.type])e+=p.substr(0,256)}else if("opacity"===f)k[a.type]&&(e+=f+":"+p);else if("scale"!==f||a.type)if("src"===f)e+=p.substr(0,256);else if("bbox"===f)p=a.bbox,e+="width:"+p.width,e+="height:"+p.height,e+="padding:"+p.padding,p.scale&&(p=p.scale,e+="scale:"+p.x+","+p.y);else{var l=typeof p;"string"===l?e+=f+":"+p.substr(0,256):"number"===l?e+=f+":"+p:"object"!==l?e+=f+":"+p:p.childNodes||
p.getImageData||p&&b.push(p)}}b=5381;k=0;for(f=e.length;k<f;k++)b=(b<<5)+b+e.charCodeAt(k);return String(b)};a.copyDeep=function(c,e){e=e||{};if(!c||!c.constructor||"object"!==typeof c)return c;if(!c.childNodes&&!c.getImageData){var b=new c.constructor,k;for(k in c)if(!H[k]){var d=c[k],f=typeof d;"number"===f||"string"===f||"boolean"===f?b[k]=d:"object"===f&&("fill"===k||"stroke"===k?(d=z.copy(d,e))&&(b[k]=d):b[k]=e.compress&&d&&d.getValue?d.getValue():a.copyDeep(d,e))}return b}};a.copyDeepCompress=
function(c){return a.copyDeep(c,{compress:!0})};a.roundData=function(a,c){c=c||1E3;for(var e in a){var b=a[e];if(b){var k=b.data;if(k&&k.length)for(var d=0;d<k.length;d++){var f=k[d];f.x=Math.round(f.x*c)/c;f.y=Math.round(f.y*c)/c}b=b.bbox;b.width=Math.round(b.width*c)/c;b.height=Math.round(b.height*c)/c;b.x=Math.round(b.x*c)/c;b.y=Math.round(b.y*c)/c}}return a};a.decompress=function(a){if("string"===typeof a.filter){var c=/\(([^)]+)\)/.exec(a.filter),c=[[{cmd:"shader",id:a.filter.replace(c[0],""),
data:c[1].split(",").map(function(a){return parseFloat(a)})}]],c=new u.vars.FilterStack({filter:c});a.filter=c}void 0!==a.fill&&(a.fill=new z.Fill(a.fill));void 0!==a.stroke&&(a.stroke=new z.Stroke(a.stroke));void 0===a.toolkitId&&(a.toolkitId=s.getToolkitId(a.type));return a};a.toString=a.stringify=function(c){c=c||a.children;return JSON.stringify(a.copyDeepCompress(c))};a.copyAttributes=function(a,c,b){b=b||{};if(c){for(var k in a){var d=a[k],f=c[k],p=b[k];"undefined"!==typeof f&&(f.getValue?b[k]=
f.getValue():"filter"===d?b[k]=f.data||f:"style"===d?b[k]=z.create(f,k):"object"===d?b[k]=w.copy(f):"bbox"===d?(p=p||(b[k]={}),w.copyInto(f,p)):"clamp"===d?(p=p||(b[k]={}),p.min=f.min,p.max=f.max):p!==f&&(b[k]=void 0!==f.value?f.value:f))}return b}e.debug&&console.log("scene.copyAttributes",arguments)};a.copyRules=function(c,e){e=e||{};a.copyAttributes(g.attrs.__rules,c,e);return e};a.copyProperties=function(c,e,b){b=b||{};a.copyAttributes(g.attrs.__rules,e,b);a.copyAttributes(c.attributes,e,b);return b};
a.ensureStickyIdx=function(c){c.useStickToBack&&(c.zIndex=-1);c=w.INFINITY_MINUS_24bit;for(var e=0;e<a.children.length;e++){var b=a.children[e];b.useStickToFront&&(b.zIndex=c++)}};a.ensureMaxCopies=function(c){if("string"!==typeof c.src)return!0;var e=a.children,b={},k=c.src,d=g.lib[c.type],p=d&&d.getEntry(k);if(p){var v=p.folder;if((p=d.meta[v])&&p.useMaxCopies){for(var s=d.tree[v],v=0;v<s.length;v++)for(var h=d.getSrc(s[v],{absolute:!0}),y=0;y<e.length;y++){var z=e[y];if(void 0!==z.src&&z.id!==
c.id){k=z.src;if(k.startsWith("#"))if(k=l.getItem(z.src,z.type))k=k.src;else continue;var z=k,u=h,z=z===u?!0:z.length<u.length?u.indexOf(z)+z.length===u.length:z.indexOf(u)+u.length===z.length;if(z&&(b[k]||(b[k]=0),k=++b[k],k>=p.useMaxCopies))return c.useMaxCopies=p.useMaxCopies,f(c),!1}}return!0}}h=k;for(v=0;v<e.length;v++)if(z=e[v],void 0!==z.src&&z.id!==c.id&&(c.useMaxCopies||z.useMaxCopies)&&(k=(p=g.lib[z.type].getEntry(z.src))&&p.src||z.src,l.equals(k,h)&&(b[k]||(b[k]=0),k=++b[k],k>=z.useMaxCopies)))return f(c),
!1;return!0};var D=w.arrayToObject("id zIndex clamp data visible tid".split(" ")),H=w.arrayToObject("filePicker resource palette subtool reset callback hash render renderCache scaleCache breaks dirtyCheck dirtyCache dirtyCache dirtyTransform dirtyControl dirtyResource selected hovered inbounds error ctx trx trx2D trxInverse svg brush toolkit __hash __colors __textContent __textMetrics __offset".split(" "));a.children=[];a.childrenById={};a.copies=[];a.controls=[];a.selection=new g.module.SceneSelection(g,
d,a);a.hovered=new g.module.SceneSelection(g,d,a);g.module.SceneTransform(g,d,a)};"object"===typeof module&&module.exports&&(module.exports=r.module.Scene)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.AddMedia=function(g,d){var m=d.canvas2d,q=g.dom,b=g.feature,h=g.lang,f=d.render,a=d.scene,c=d.toolkit,l=g.util,A=g.ui;d.addMedia=function(b,f,p,h){function x(){l.exists("doc.config.clipart.opacity.value",g)&&(d.config.clipart.opacity.value=100);A.refresh&&A.refresh("clipart");g.exec("select")}"string"===typeof b&&(b={src:b});var y=b.data||b,m=y.slice&&"string"===typeof y.type,B=!!b.openAsNew;f=f||b.onsuccess;h=h||b.onprogress;p=p||b.onerror;var q=b.thumb,
G={};isFinite(b.x+b.y)?G={x:b.x,y:b.y}:b.event&&(G=a.pointInSceneFromEvent(b.event));var r,E;m?y.lastModifiedDate?(r=y.src||URL.createObjectURL(y),E=l.string.extension(y.name)):(r=URL.createObjectURL(y),E=(y.type||"image/png").split("/").pop()):y.src?(r=y.src,E=l.string.extension(r)):r=y;if(q)q.width=q.width||b.width,q.height=q.height||b.height,q.croparea&&!isFinite(q.width+q.height)&&(q.width=q.croparea[2]-q.croparea[0],q.height=q.croparea[3]-q.croparea[1]),q.src=r,q.onsuccess=function(a){delete b.thumb;
b.data=a;d.addMedia(b,f,p,h)},l.thumbnailer(q);else{if(y.toDataURL)return y.toBlob(function(a){b.data=a;d.addMedia(b,f,p,h)});var D={data:{},add:function(a){D.data[a]=!0},run:function(a){g.loader&&g.loader.stop();var c=D.data;c.clipart&&c.stamp&&delete c.clipart;for(var e in D.data)D.callbacks[e]();D.callbacks.callback(a)},callbacks:{callback:function(a){if(f!==b.onsuccess)b.onsuccess();f&&f(a)},text:function(){A.refresh&&A.refresh("text");c.setTool("text")},stamp:function(){A.refresh&&A.refresh("stamp");
c.setTool("stamp")},clipart:x,image:x,color:function(){g.palette.setPaintType("color",!0);g.windows.show("#sk-palette")},gradient:function(){g.palette.setPaintType("gradient",!0);g.windows.show("#sk-palette")},pattern:function(){g.palette.setPaintType("pattern",!0);g.windows.show("#sk-palette")}}};if(m)switch(E){case "zip":e(y,D);return;case "json":g.open.json(y);return;case "sketchpad":case "sketch":g.open.sketch({blob:y});return;case "svg":if(-1!==y.src.indexOf("missing-glyph")&&-1!==y.src.indexOf("units-per-em")){g.assets.addFont(y,
D.run,D.run);return}break;case "ttf":case "woff":g.assets.addFont(y,D.run,D.run);return;case "pat":console.log("pat",y);D.run();return;case "abr":case "gbr":D.add("stamp");t(E,y,D.run);return;case "ggr":D.add("gradient");g.style.addFromBlob(y,D.run);return;case "gpl":D.add("color");g.style.addFromBlob(y,D.run);return;case "pdf":k(y,G,D.run,!0,B);return;case "psd":v(y,G,D.run,!0,B);return}"string"===typeof r?r.startsWith("{")?g.open.json(r):(m=function(c){B?g.exec("new-confirm",function(){g.open[E]({src:c,
type:E,openAsNew:B,onsuccess:function(){D.run()}})}):a.add({centerOnPoint:!0,type:E,src:c,x:G.x,y:G.y,width:b.width,height:b.height},function(a){D.run(a)})},l.FileInfo.isSVGString(r)?(D.add(E="clipart"),g.assets.addClipart(y,m,p,h)):(D.add(E="image"),g.assets.addImage(y,m,p,h))):console.log("unrecognized",y)}};var t=function(a,c,e){var k=g.io[a]&&g.io[a].toBitmap;if(k){var d=h.translate("decoding-format","."+a);g.loader&&(g.loader.create("decode",d),g.loader.create("files","..."));k(c,function(a,
c,b,k){g.loader&&(g.loader.create("decode",d,Math.max(0,b-1)>>0),g.loader.create("files",c.name||"untitled"));g.assets.addStamp(a,function(a,c){100===b?(g.loader&&g.loader.create("decode",d,99),e&&e()):k&&k()})})}else b.debug&&console.log("missing .abr support"),e&&e()},e=function(a,c){g.io.zip.getEntries(a,function(e){e.some(function(a,c,e){return"sketch.json"===a.filename})?g.open.sketch({blob:a}):(g.loader&&(g.loader.create("decoding",h.translate("opening-format",".ZIP")+"..."),g.loader.create("decodingFiles",
"...")),g.io.zip.decode({entries:e,oncomplete:function(){g.loader&&(g.loader.stop("decoding"),g.loader.stop("decodingFiles"));c.run()},onchange:function(e){var b=e.blob,k=e.filename,d=e.next,f=l.string.extension(k),f="undefined"===b.type?f:b.type;g.loader&&(g.loader.create("decoding",h.translate("opening-format",".ZIP")+"...",e.percent),g.loader.create("decodingFiles",l.string.filename(k)));switch(f){case "application/json":"sketch.json"===k?(g.loader&&(g.loader.stop("decoding"),g.loader.stop("decodingFiles")),
g.open.sketch({blob:a})):d();break;case "image/jpeg":case "image/gif":case "image/png":case "jpeg":case "png":case "gif":c.add("clipart");g.assets.addImage(b,d);break;case "image/svg+xml":case "svg":c.add("clipart");g.assets.addClipart(b,d);break;case "abr":case "gbr":c.add("stamp");t(f,b,d);break;case "ggr":c.add("gradient");g.style.addFromBlob(b,d);break;case "gpl":c.add("color");g.style.addFromBlob(b,d);break;default:d()}},onprogress:function(a,c,e){g.loader&&(g.loader.create("decoding",h.translate("opening-format",
".ZIP")+"...",a),g.loader.create("decodingFiles",l.string.filename(e)))}}))})},p=function(a,c,e,b,k){g.save.confirm({oncontinue:function(){a(c,e,b,!1,k)},onrequestsave:function(){g.save.fromQuery()},oncancel:function(){console.log("cancel")}})},k=function(a,c,e,b,d){if(b&&d)return p(k,a,c,e,d);g.loader&&g.loader.create("decoding",h.translate("opening-format",".PDF")+"...");g.open.pdf({file:URL.createObjectURL(a),point:c,openAsNew:d,onprogress:function(a){g.loader&&g.loader.create("decoding",null,
a)},onsuccess:function(){d||e&&e()},onerror:function(){}})},v=function(a,c,e,b,k){e=new FileReader;e.onload=function(a){a=new Uint8Array(a.target.result);a=new PSD.Parser(a);a.parse();d.addMedia({data:a.imageData.createCanvas(a.header,a.colorModeData),x:c.x,y:c.y})};e.readAsArrayBuffer(a)};d.addBackground=function(c,e,b,k){"string"===typeof c&&(c={src:c});e=e||c.onsuccess;b=b||c.onerror;k=k||c.onprogress;var f=function(b){b.name="background";b.selectable=!1;b.useStickToBack=!0;a.removeByName("background");
a.copyRules(c,b);b=a.addObject(b);a.updateConstrain(b);d.history&&d.history.store({cmd:"add",name:"background",data:[b]});d.render.scene("doc.addBackground");e&&e(b)},p=g.style.validate(c.src);"color"===p||"gradient"===p?(b=d.container,f({type:"rectangle",fill:new g.style.Fill(c.src),stroke:new g.style.Stroke,width:b.offsetWidth,height:b.offsetHeight,useConstrain:!0,useStretchToEdge:!0})):g.assets.add({data:c.src,onprogress:k,onerror:b,onsuccess:function(a,c){var e=c.width||c.vob.width,b=c.height||
c.vob.height,k={type:c.type||"image",src:a,bbox:{}},d=k.bbox,p=m.width,l=m.height;e/b<p/l?(k.useConstrainX=!0,k.useAlignY="top",d.width=p,d.height=b/e*p):(k.useConstrainY=!0,k.useAlignX="left",d.width=e/b*l,d.height=l);d.owidth=d.width;d.oheight=d.height;f(k)}})};d.addMediaFromDrag=function(e){-1!==String(e).indexOf("Event")&&(e={target:this,src:this.src});var b=e.target,k=e.event,f=e.src||b.getAttribute("data-src")||b.src,p=e.type||b.getAttribute("data-type")||"clipart";g.assets.add(f);var l=q.clone(b,
"sk-draggable"),v=q.measure(b),h=v.padding,t=h.top+h.bottom,A=v.border,r=h.left+A.left,E=h.top+A.top,D=v.width,H=v.height;l.style.width=D-(h.left+h.right)+"px";l.style.height=H-t+"px";return eventjs.proxy.drag({position:"move",target:b,event:k,listener:function(b,k){if(!c.media)return console.log("missing toolkit");var v=eventjs.getPageXY(b);if("down"===k.state){var h=eventjs.getBBox(k.target);k.offset={};k.offset.x=h.width/2-(v.x-k.x);k.offset.y=h.height/2-(v.y-k.y);eventjs.prevent(b)}var s=k.bbox.pageYOffset,
u=k.bbox.pageXOffset;l.style.left=k.x+u+r-1+"px";l.style.top=k.y+s+E-1+"px";if(!l.addedToDOM){var h=Math.abs(k.x-k.start.x),g=Math.abs(k.y-k.start.y);if(h>D/2||g>H/2)l.addedToDOM=!0,document.body.appendChild(l)}if("up"===k.state){h=v.x-u;g=v.y-s;l.style.display="none";var B=document.elementFromPoint(h,g);B&&B.classList.contains("layer-active")?(h=c.media,h.device.useMinWidth=1,h.device.useMaxWidth=2E3,h=eventjs.getBBox(d.container),g=d.zoom,B=v.y-h.y1-h.pageYOffset-m.orientY,h=(v.x-h.x1-h.pageXOffset-
m.orientX)/g+k.offset.x+u,g=B/g+k.offset.y+s,a.deselectAll(),a.add({centerOnPoint:!0,type:p,src:f,x:h,y:g},function(c){a.select(c);e.ondrop&&e.ondrop(c)})):d.exportDrop(f,h,g);l.addedToDOM&&document.body.removeChild(l)}}})};d.exportDrop=function(a,c,e){!b.io.exportDrop||0<c&&0<e&&c<window.innerWidth&&e<window.innerHeight||(c=d.selection.item,g.assets.add({data:a,type:c?c.type:d.tool.type,onsuccess:function(c){var e=(l.string.filename(a)||"").split(".").shift();this.vob?g.download.blob(new Blob([this.stringify()],
{type:"image/svg+xml"}),e+".svg"):g.assets.getBlob(c,function(a){g.download.blob(a,e+".png")})}}))};d.setMedia=function(e){var k=e.type,p=e.src,l=e.onsuccess,v=e.onprogress,h=e.onerror;b.vector.edit||"text"===d.tool.type||a.deselectAll();var m=d.selection.items,B="select"===d.tool.type,t=d.selection.item,t=d.config,G=[],r=[];switch(k){case "clipart":case "image":case "stamp":e=p;"stamp"===k?(e=e.replace("thumb","live"),t[k].src=e):(t[k].src=e,p=c.media,p.device.src=e,p.device.render=void 0);for(var E in m)if(t=
a.children[E],"image"===t.type&&"clipart"===k?t.type="clipart":"clipart"===t.type&&"image"===k&&(t.type="image"),t&&t.type===k)if(m=t.src,t.src=e,a.ensureMaxCopies(t)){var m={id:t.id,src:m},p={id:t.id,src:e},D=g.lib[t.type].getEntry(t.src);if(D)for(var H in g.attrs.__rules)void 0===D[H]?void 0!==t[H]&&(m[H]=t[H],p[H]="",delete t[H]):(m[H]=t[H],p[H]=D[H],t[H]=D[H]);G.push(m);r.push(p);t.dirtyResource=!0;t.dirtyCheck=!0}else t.src=m;break;case "text":for(E in H=e.fontFamily||e.name,p=c.text,p.device.fontFamily=
H,t[k].fontFamily=H,m)(t=a.children[E])&&"text"===t.type&&(G.push({id:t.id,fontFamily:t.fontFamily}),r.push({id:t.id,fontFamily:H}),t.fontFamily=H,t.dirtyResource=!0)}G.length&&r.length?(d.selection.length&&q.Canvas.clear(d.contexts.active),d.history&&d.history.store({cmd:"update",name:"change-media",data:{from:G,to:r}}),f.preload({onerror:h,onprogress:v,onsuccess:l})):c.setTool({type:k,onerror:h,onsuccess:function(){B?c.setTool("select"):A.setToolMenu&&A.setToolMenu(d.tool.type);l&&l()}});d.saveSettings()}};
"object"===typeof module&&module.exports&&(module.exports=r.module.AddMedia)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.AddObject=function(g,d){function m(g,b,h){h?d.render.scene({from:"doc.addObject",onsuccess:function(){g&&g(b)}}):g&&g(b)}d.addObject=function(q,b,h,f){function a(a,c){var e=typeof c;return typeof G[a]===e?G[a]:typeof q[a]===e?q[a]:c}function c(c,e){return G[c]=a(c,e)}function l(a){t.debug&&console.error(a,arguments);h({message:a})}var A=g.detect,t=g.feature,e=d.render,p=d.scene,k=d.toolkit,v=g.util,z=g.vector;q=q||{};b=b||function(){};h=h||function(){};
f=f||{};var s=f.fromSelf||!1,u=f.fromCollection||!1,w=isFinite(f.useRecord)?f.useRecord:!0,x=isFinite(f.useRender)?f.useRender:!0,y=isFinite(f.useHistory)?f.useHistory:!0,F=q.type;if(Array.isArray(q)||q.data&&!F){p=q.data||q;w=isFinite(q.useRender)?q.useRecord:!0;x=isFinite(q.useRender)?q.useRender:!0;f=q.scale;if(isFinite(f))for(var B=0;B<p.length;B++){var C=p[B];if(void 0!==C&&!C.useStretchToEdge&&!C.useStretchToFit){var G=C.bbox=C.bbox||{x:0,y:0};G.x*=f;G.y*=f;"text"===C.type?C.fontSize*=f:(G.scale=
G.scale||{x:1,y:1},G.scale.x*=f,G.scale.y*=f)}}var r=[];v.Queue({items:p,oncomplete:function(){m(b,r,x)},next:function(a){var c=this;d.addObject(a,function(a){r.push(a);c.next()},function(a){c.next()},{fromSelf:s,fromCollection:!0,useRecord:w,useRender:x})}})}else if(k.exists(F)){d.render.dirtyControls=!0;var E=d.config[F];f=E.toolkitId;if(!0!==s){if("media"===f&&q.src){g.assets.add({type:F,targetId:q.targetId,data:q.src,onsuccess:function(a,c){k.media.device.src=q.src=a;d.addObject(q,b,h,{fromSelf:!0,
fromCollection:u,useRecord:w,useRender:x})}});return}if("text"===f&&q.fontFamily&&(!z.text.supports[E.fontFamily]||E.fontFamily!==q.fontFamily)){k.text.loadFont({fontFamily:q.fontFamily,onerror:h,onsuccess:function(){E.fontFamily=q.fontFamily;d.addObject(q,b,h,{fromSelf:!0,fromCollection:u,useRecord:w,useRender:x})}});return}}p.decompress(q);var D=k.getFeature({type:F,toolkitId:f}),G=q.bbox=q.bbox||{},B=q.width,C=q.height;f=a("scale",1);isFinite(f)&&(f={x:f,y:f});c("units",D.units||"objectBoundingBox");
c("padding",0);c("rotate",0);c("scale",f);isFinite(a("width",0))&&(B=c("width",0));isFinite(a("height",0))&&(C=c("height",0));f=k.getToolkit(F);if(A.brush[F])if(q.points||q.data)v=q.points||q.data,"string"===typeof v&&(q.path="M"===v[0]?z.SVGPath.toVOBPath(v):z.SVGPath.toVOBPolygon(v));else{console.warn(F+" requires a path!",q);onsuccess&&onsuccess();return}else if(!B||!C)if(A.shape[F])B||(G.width=B=C||f.defaultWidth),C||(G.height=C=B||f.defaultHeight);else if(A.media[F])if(C=g.assets.getItem(f.device.src))"clipart"===
C.type?(C=C.viewBox,B=C[2]-C[0],C=C[3]-C[1]):(B=C.width,C=C.height),z=d.bounds,A=D.maxWidth||v.INFINITY,D=D.maxHeight||v.INFINITY,G.width||G.height||(F=d.viewport,A=Math.min(A,F.width,z.width,B),D=Math.min(D,F.height,z.height,C)),v=v.fitSize(B,C,{width:G.width||"auto",height:G.height||"auto",maxWidth:A,maxHeight:D}),G.width=B=v.width,G.height=C=v.height;else{l("invalid asset");return}else if("text"===F)if(B=p.copyDeepCompress(d.config.text),v.copyInto(q,B),q.content)v=k.text.measureText(q,B),B=z.text.getFontStyle(q),
B=z.text.measureTextWidth("M",B),B=v.width+B,C=v.height,G.width=B=G.width||B,G.height=C=G.height||C;else{console.warn("Text requires content!",q);onsuccess&&onsuccess();return}else if("group"!==F){console.warn("Object requires view-box!",q);onsuccess&&onsuccess();return}p=p.getCenterPoint();c("x",p.x);c("y",p.y);if((p=q.centerOnPoint)||"objectBoundingBox"===G.units&&!1!==p)G.x-=B/2*G.scale.x,G.y-=C/2*G.scale.y;isFinite(G.x)&&(G.x+=d.x);isFinite(G.y)&&(G.y+=d.y);e.pointer.place=f.loadObject(q);f.createObject({device:e.pointer.place,
object:q},function(a){delete e.pointer.place;y&&d.history.store({cmd:"add",name:a.type,data:[a]});m(b,a,x&&!u)})}else l(F+" toolkit not found.")}};"object"===typeof module&&module.exports&&(module.exports=r.module.AddObject)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Assets=function(g,d){function m(a){return"string"===typeof a?l.getItem(a):a}function q(a){return a&&"IMG"===a.nodeName?t.imageToCanvas(a):a}function b(a,c,e,b){function f(k){p.paths.splice(0,0,h[c]={type:a,filename:c,filepath:c,thumbnail:k.toDataURL(),category:"Your Files"});b&&b(c,e)}var p=v[a];if(p){var h=p.tree["Your Files"];if(h&&!l.isDefault(e)){h[c]?b&&b(c,e):(h[c]="loading","clipart"===a?k.preview({type:"clipart",resource:e,width:52,height:52,oncomplete:function(a){f(a.canvas)}}):
u.thumbnailer({src:e,width:52,height:52,center:!0,crop:"edge",onsuccess:function(e){"stamp"===a&&(d.config.stamp.src=c);f(e)}}));return}}b&&b(c,e)}function h(a){var e=a.src,b=a.targetId,k=a.lastModified,d=a.onsuccess,f=a.onerror,v=a.onprogress;e.startsWith("<svg")&&(e='<?xml version="1.0" encoding="UTF-8"?>'+e);e.startsWith("<?xml")&&(e="data:image/svg+xml;base64,"+btoa(s.encodeUTF8(e)));e.startsWith("data:image/svg")?l.createId(e,function(a){var b=l.items[a];p.cacheSVG&&b&&!l.isDefault(b)?d&&d.call(b,
a,b):new w.SVG({src:e,useCache:p.cacheSVG,onprogress:v,onerror:function(a){p.debug&&console.log(a);f&&f(a)},onload:function(e){e.lastModified=k;c(a,"clipart",e);d&&d.call(e,a,e)}})},b):u.request({url:z.getMediaUrl(e),format:"text",onerror:f,onsuccess:function(a,c){l.add({targetId:b,data:c,onprogress:v,onerror:function(a){p.debug&&console.log(a);f&&f(a)},onsuccess:function(a,c){l.URLtoID[e]=a;l.IDtoURL[a]=e;d&&d.call(c,a,c)}})}})}function f(a){var e=a.src,b=a.targetId,k=a.lastModified,d=a.onsuccess,
f=a.onerror,v=a.onprogress;u.loadImage({src:z.getMediaUrl(e),onerror:f,onprogress:v,onsuccess:function(){var f=this;A.ios&&u.exists("MegaPixImage")&&(f=t.imageToCanvas(this));l.createId(f,function(b){f.assetID=f.title=b;f.image={src:e};f.lastModified=k;f.setAttribute("data-src",e);l.URLtoID[e]=b;l.IDtoURL[b]=e;c(b,"image",f);if(a.blob)f.blob=a.blob;else if(p.stream.maxFileSize){that.getBlob(b,function(a){d&&d.call(f,b,f)});return}d&&d.call(f,b,f)},b)}})}function a(a){var c=e.Canvas(1,1);c.className=
"sk-default";var b=c.ctx;b.fillStyle="rgba(127,127,127,0.5)";b.fillRect(0,0,c.width,c.height);l.items[a]=c;l.missing[a]=!0;return c}function c(a,c,e){var b=l.items[a]||"",k=b&&l.isDefault(b);l.items[a]=e;l.items[a].type=c;(!b||k)&&g.sfclient&&l.getBlob(a,function(c){void 0===g.sfclient.files[a]&&g.sfclient.sendFile(c,a)});if(l.missing[a]||k)delete l.missing[a],u.each(g.docs,function(c){var e=!1;c.scene.traverse(function(c){c.src===a&&(e=!0,c.dirtyCache=!0,c.toolkit.loadResource({object:c}))});e&&
(c.render.dirty=!0)})}var l=this,A=g.client,t=g.convert,e=g.dom,p=g.feature,k=g.gen,v=g.lib,z=g.loc,s=g.util.string,u=g.util,w=g.vector;l.reset=function(){l.items={};l.missing={};l.URLtoID={};l.IDtoURL={}};l.remove=function(a){delete l.items[a];delete l.missing[a]};l.equals=function(a,c){if(a===c)return!0;var e=l.getItem(a);return e&&e.src===c?!0:(e=l.getItem(c))&&e.src===a?!0:!1};l.exists=function(a){return!!l.getItem(a)};l.isDefault=function(a){if(a=m(a))return"sk-default"===a.className};l.isLoaded=
function(a){return(a=m(a))?!l.isDefault(a):!1};l.getId=function(a){return l.items[a]?a:l.URLtoID[a]?l.URLtoID[a]:""};l.getItem=function(a){return(a=l.getId(a))?l.items[a]:""};l.getBlob=function(a,c,e,b){var k=l.items[a];k?k.blob?c(k.blob,k,a):k.srcXML?(k.blob=new Blob([k.srcXML],{type:"image/svg+xml"}),k.blob.lastModified=k.lastModified,c(k.blob,k,a)):q(k).toBlob(function(e){k.blob=e;k.blob.lastModified=k.lastModified;c(e,k,a)},e,b):console.warn("invalid assetId")};l.getBlobURL=function(a,c,e,b){var k=
l.items[a];k?k.objectURL?c(k.objectURL):l.getBlob(a,function(a,e,b){e.objectURL=URL.createObjectURL(a);c(e.objectURL)},e,b):console.warn("invalid assetId")};l.getDataURL=function(a,c,e){if(a=q(l.items[a]))return a.toDataURL(c,e);console.warn("invalid assetId")};l.getRaw=function(a){return q(a)};l.getURL=function(a){return l.IDtoURL[a]||""};l.getUnused=function(a){function c(a){a.scene.traverse(function(a){e[a.src]=!0})}var e={},b=[];a?c(a):u.each(g.docs,c);for(var k in l.items)e[k]||b.push(k);return b};
l.addList=function(a,c){if(u.count(a)){var e=0,b=function(){--e||c()},k;for(k in a){e++;var d=a[k];"string"===typeof d&&(d={data:d,targetId:k});l.add(d,b,b)}}else c()};var x=function(){var a=u.arrayToObject(["[object Blob]"]),c=u.arrayToObject(["[object HTMLCanvasElement]","[object HTMLImageElement]"]),e=u.arrayToObject(["[object File]"]);return function(b){var k=typeof b;if("object"===k){k=Object.prototype.toString.call(b);if(c[k])return"node";if(e[k])return"file";if(a[k])return"blob"}else return k}}();
l.add=function(){function b(a){switch(a.type){case "clipart":case "symbol":h(a);break;case "image":f(a);break;case "video":k(a);break;default:console.log(a)}}function k(a){var c=document.createElement("video");c.src=a.src;c.play();eventjs.add(c,"playing",function(){var b=e.Canvas(c.videoWidth,c.videoHeight);b.ctx.drawImage(c,0,0);b.toBlobURL(function(c){console.warn("handle me",c);a.src=c;f(a)})})}return function(e,k,d,f){e=e||{};var v=e.data||e,h=e.type,s=e.targetId||null,z=e.lastModified||Date.now();
k=e.onsuccess||k;d=e.onerror||d;f=e.onprogress||f;var m,w=x(v);if("node"===w)l.createId(v,function(a){c(a,"image",v);k&&k.call(v,a,v)},s);else{if("blob"===w||"file"===w){z=v.lastModified||z;if(l.isLoaded(s)){h=l.items[s];k&&k.call(h,s,h);return}if("image/svg+xml"===v.type){t.blobToText(v,function(a){e.data=a;e.type="clipart";e.lastModified=z;l.add(e,k,d,f)});return}m=v;v=URL.createObjectURL(m);w="string"}if("string"===w)if(v.startsWith("#asset-")){var F=v,h=l.items[F];if(!h){if(g.io.json.folder){h=
"clipart"===e.type?".svg":".png";e.data=g.io.json.folder+F.substr(1)+h;l.add(e,k,d,f);return}h=a(F)}k&&k.call(h,F,h)}else if(l.URLtoID[v])F=l.URLtoID[v],h=l.items[F]||a(F),"clipart"===h.type&&h.clone&&!p.cacheSVG?h.clone(function(a){l.createId(a.toDataURL(),function(e){c(e,"clipart",a);k&&k.call(a,e,a)},s||F)},!0):k&&k.call(h,F,h);else{var q={type:h,src:v,blob:m,lastModified:z,onsuccess:k,onerror:d,onprogress:f,targetId:s};h?b(q):u.FileInfo(m||v,function(a){q.type=a.type;b(q)},d)}else console.error("invalid asset",
e),d&&d()}}}();l.addClipart=function(a,c,e,k,d){l.add({type:"clipart",targetId:d,data:a,onerror:e,onprogress:k,onsuccess:function(a,e){b("clipart",a,e,c)}})};l.addImage=function(a,c,e,k,d){l.add({type:"image",targetId:d,data:a,onerror:e,onprogress:k,onsuccess:function(a,e){b("image",a,e,c)}})};l.addStamp=function(a,c,e,k,d){l.add({type:"image",targetId:d,data:a,onerror:e,onprogress:k,onsuccess:function(a,e){u.removeColorFromCanvas&&(e=l.getRaw(e),u.removeColorFromCanvas(e),l.items[a]=e);b("stamp",
a,e,c)}})};l.addCloneFromSelection=function(){g.save.toBlobURL({background:"none",useSelection:!0,callback:function(a){d.scene.add({centerOnPoint:!0,type:"image",src:a})}})};l.addStampFromSelection=function(a){g.save.canvas({background:"none",useSelection:!0,onsuccess:function(c){d.scene.deselectAll();d.toolkit.renderSceneControls(!0);l.addStamp(c,function(){g.ui.refresh("stamp");d.toolkit.setTool({type:"stamp",onsuccess:function(){d.setFill("none");a&&a()}})})}})};l.addPattern=function(a,c,e,b,k){};
l.addFont=function(a,c,e,b,d){var f=URL.createObjectURL(a),p=a.name.match(/([^:\\/]*?)(?:\.([^ :\\/.]*))?$/)[1];g.vector.text.attach({timeout:3E3,family:p,filepath:f},function(b){if(b)console.error(b),e&&e();else{if(b=v.text){var d=b.tree["Your Files"];if(d){if(b.byName[p]){c&&c(p,a);return}k.preview.text({fonts:[{name:p,filepath:f}],type:"text",resource:f,width:52,height:52,oncomplete:function(a){d.push({type:"text",name:p,filename:p,filepath:f,thumbnail:a.canvas.toDataURL(),category:"Your Files"});
g.lib.text.reindex();c&&c(p,f)}});return}}c&&c()}})};l.addFromBlob=function(a,c,e,b){function k(a){"stamp"===a?l.addStamp(d,c,e,b,f):"clipart"===a||"svg"===a||"symbol"===a?l.addClipart(d,c,e,b,f):l.addImage(d,c,e,b,f)}var d=a.blob,f=a.targetId;(a=a.type)?k(a):u.FileInfo(d,function(a){k(a.type)})};l.addFromObjects=function(a){for(var c=0;c<a.length;c++){var e=a[c],b=e.src;if(b&&"#"===b[0])switch(e.type){case "clipart":l.addClipart(b);break;case "image":l.addImage(b);break;case "stamp":l.addStamp(b)}}};
l.createId=function(){return function(a,c,b){if(b)c(b);else if("string"===typeof a)25E4<a.length?c("#asset-"+u.MD5(a.substr(0,25E4))):c("#asset-"+u.MD5(a));else if(a.assetID)c(a.assetID);else{b=a.width;var k=a.height;if(64>b&&64>k&&a.toDataURL)a.assetID="#asset-"+u.MD5(a.toDataURL());else{var d=l.thumbnail||e.Canvas();d.ctx=d.ctx||d.getContext("2d");var f=Math.min(b,64),p=Math.min(k,64);d.width=f;d.height=p;d.ctx.drawImage(a,0,0,b,k,0,0,f,p);l.thumbnail=d;a.assetID="#asset-"+u.MD5(d.toDataURL())}a=
a.assetID;c(a)}}}();l.reset()};"object"===typeof module&&module.exports&&(module.exports=r.module.Assets)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Control=function(g,d){function m(a,e){t.VOBPath(a,e.data);e&&(e.selected||e.hovered)&&(e.selected?(a.save(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,a.shadowColor="#F00",a.lineWidth=8,a.strokeStyle="#F00",a.stroke(),a.lineWidth=5,a.strokeStyle="#fff"):(a.save(),a.globalAlpha=1,a.lineWidth=5,a.strokeStyle="#Fff"),a.stroke(),a.restore());a.lineWidth=1.5;c.applyStyle(a,e)}var q=g.dom,b=d.canvas2d,h=d.contexts,f=g.feature,a=d.scene,c=d.toolkit,l=g.ui,
A=g.util,t=g.vector,e=t.Shape;a.control={};a.controlSelection=void 0;a.controlActive={};a.controlHover={};a.controlHoverArray=[];c.renderSceneControls=function(e){var b=a.hovered,k=a.selection,d=k.length;if(e||b.changed||k.changed||a.control.changed){b.changed=!1;k.changed=!1;a.control.changed=!1;var f=h.active;e=f.ctx;q.Canvas.clear(f);a.controls=[];for(var f=a.children,l=0,y=f.length;l<y;l++){var g=f[l],m=b.items[l],t=k.items[l];k.idx===l||m&&(t||0===d)?c.renderObjectControls(e,g):(t||m)&&c.renderObjectControls(e,
g,!0)}a.controlSelection?p(!0):1<d&&p(!1)}};var p=function(){var e={select:{selection:{fill:"rgba(0,240,100,0.20)",stroke:"rgba(0,240,100,1)"},object:{fill:"rgba(255,255,255,0.20)",stroke:"#0E81D4"}},deselect:{selection:{fill:"rgba(255,50,100,0.20)",stroke:"rgba(255,50,100,1)"},object:{fill:"rgba(0,0,0,0.20)",stroke:"#0E81D4"}}};return function(k){var p=d.zoom,l=d.pixelRatio,g=d.scrollLeft*l,x=d.scrollTop*l,y=p*l,l=h.active,l=l.ctx;l.save();l.translate(b.x,b.y);l.scale(y,y);if(k){var t=a.controlSelection;
k=t.items;var B=d.selection.length,q=e[t.metaKey&&B?"deselect":"select"],g=g/y,x=x/y;l.lineWidth=1/p;l.fillStyle=q.selection.fill;l.strokeStyle=q.selection.stroke;l.beginPath();l.rect(t.x-g,t.y-x,t.width,t.height);l.fill();l.stroke();l.fillStyle=q.object.fill;l.strokeStyle=q.object.stroke;var p=A.copy(d.selection.items),x=a.children,r;for(r in k)k[r]?(B++,p[r]=!0):(B--,delete p[r]),(g=x[r])&&g.trx2D&&(g.selected=!!p[r],q=g.bbox,y=g.trx2D,t=q.width*q.scale.x,q=q.height*q.scale.y,l.save(),y.apply(l,
!0),l.beginPath(),c.getFeature(g).showGhostPath?m(l,g):(l.rect(0,0,t,q),l.fill(),l.stroke()),l.restore())}else p=d.selection.items,B=d.selection.length;f.debug&&1<B&&(l=h.active,l=l.ctx,r=d.selection.getBBox(p),l.lineWidth=1,l.shadowOffsetX=1,l.shadowOffsetY=1,l.shadowBlur=0,l.shadowColor="#fff",l.strokeStyle="#0E81D4",l.strokeRect((r.x1>>0)-.5,(r.y1>>0)-.5,(r.x2-r.x1>>0)+1,(r.y2-r.y1>>0)+1),l.restore());l.restore()}}();c.renderObjectControls=function(e,p,l){if(!1!==p.visible){var h=p.trx2D;if(!h||
!h.apply)console.warn("transform not calculated");else if("anchor"!==a.controlActive.id){var g=d.selection.id===p.id,x=p.brush;if(x&&x.drawControl)e=x.drawControl(p),g&&(a.controls=e);else{var y=p.bbox,t=d.pixelRatio,B=d.zoom,q=B*t,A=t/q,x=y.scale,r=x.x,E=x.y,D=y.width,H=y.height,x=D*r,P=H*E,K=c.getFeature(p),J=d.theme.getControls(p),N=J.anchor||{},S=!(!a.controlActive.rotating||!J.spinner),Q=!!a.controlActive.scaling;!1===S&&(K.showBBox||K.showGhostPath)&&(e.save(),e.translate(b.x,b.y),e.scale(q,
q),h.apply(e,!0),e.beginPath(),K.showGhostPath?m(e,p):(e.rect(-.5,-.5,x,P),g=g?N.focus||N:N.normal||N,e.lineWidth=(g.lineWidth||1)*t,e.shadowOffsetX=g.shadowOffsetX||1,e.shadowOffsetY=g.shadowOffsetY||1,e.shadowBlur=g.shadowBlur||0,"light"===f.theme?(e.shadowColor=g.shadowColor||"#fff",e.strokeStyle=g.strokeStyle||"#666"):(e.shadowColor=g.strokeStyle||"#666",e.strokeStyle=g.shadowColor||"#fff"),e.stroke()),e.restore());if(!l){a.controls=[];l=h.point2d(0>r?r*D:0,0>E?E*H:0);J.anchor&&(g=J.anchor,t=
g.padding,A*=t,K="",d.selection.items[p.zIndex]&&(K=g["title."+p.type+":selected"]||g["title:selected"]),K||(K=g["title."+p.type]||g.title||""),a.controls.push({id:"anchor",layerId:p.id,layerIdx:p.zIndex,type:"button",cursor:g.cursor,title:K,event:g.command,padding:t,bbox:{units:y.units,x:l.x,y:l.y,left:1.5*-t,top:1.5*-t,width:Math.abs(r*D+A),height:Math.abs(E*H+A),scale:{x:1,y:1},rotate:y.rotate}}));if(!Q&&J.spinner&&!1!==p.useControlSpinner&&(e.save(),e.translate(b.x,b.y),e.scale(q,q),e.lineWidth=
1/B,e.beginPath(),y=x/2,B=(J.height+J.padding)/B*(0<E?-1:1),S?(g=J["spinner-focus"],e.strokeStyle=g.fillStyle,e.moveTo(h.cp.x,h.cp.y),B=h.spinnerDistance):e.moveTo(h.n.x,h.n.y),h=h.point2d(y,B),e.lineTo(h.x,h.y),e.stroke(),e.restore(),k(e,p,J,{id:"spinner",x:y,y:B}),S))return;h=J.nw&&!1!==p.useControlNW;S=J.ne&&!1!==p.useControlNE;B=J.se&&!1!==p.useControlSE;y=J.sw&&!1!==p.useControlSW;q=J.n&&!1!==p.useControlN;r=J.e&&!1!==p.useControlE;E=J.s&&!1!==p.useControlS;D=J.w&&!1!==p.useControlW;Q=H=J.padding;
J.nw_spinner&&(k(e,p,J,{id:"nw_spinner",color:"#00f",x:0,y:0}),k(e,p,J,{id:"ne_spinner",color:"#f0f",x:0,y:0}),k(e,p,J,{id:"se_spinner",color:"#f00",x:0,y:0}),k(e,p,J,{id:"sw_spinner",color:"#ff0",x:0,y:0}));q&&k(e,p,J,{id:"n",color:"#e9e34d",x:x/2,y:0,xPad:H,yPad:Q});r&&k(e,p,J,{id:"e",color:"#e13b3b",x:x,y:P/2,xPad:H,yPad:Q});E&&k(e,p,J,{id:"s",color:"#e9e34d",x:x/2,y:P,xPad:H,yPad:Q});D&&k(e,p,J,{id:"w",color:"#e13b3b",x:0,y:P/2,xPad:H,yPad:Q});h&&k(e,p,J,{id:"nw",color:"#4fe896",x:0,y:0});S&&
k(e,p,J,{id:"ne",color:"#3b8de1",x:x,y:0});B&&k(e,p,J,{id:"se",color:"#4fe896",x:x,y:P});y&&k(e,p,J,{id:"sw",color:"#3b8de1",x:0,y:P});J.nw_spinner_area&&(k(e,p,J,{id:"nw_spinner_area",color:"#f00",x:0,y:0}),k(e,p,J,{id:"ne_spinner_area",color:"#ff0",x:0,y:0}),k(e,p,J,{id:"se_spinner_area",color:"#0f0",x:0,y:0}),k(e,p,J,{id:"sw_spinner_area",color:"#0ff",x:0,y:0}))}}}}};var k=function(){return function(c,e,k,f){var p=e.trx2D,l=e.bbox,h=f.id,g=eventjs.isTouch?"normal":a.controlActive.id===h?"focus":
a.controlHover.id===h?"hover":"normal",m=k[h+"-"+g]||k[h];if(m){var t=d.zoom,q=t*d.pixelRatio;if(m.padding===+m.padding)var r=m.padding,E=r/t,D=r/t;else r=k.padding,E=f.xPad,D=f.yPad,E=(E===+E?E:r)/t,D=(D===+D?D:r)/t;var H=l.scale.x,P=l.scale.y,r=0>H?-1:1,K=0>P?-1:1,J=(r*m.left||0)/t,N=(K*m.top||0)/t,H={inherit:k.width/t*r,percent:l.width*H},S={inherit:k.height/t*K,percent:l.height*P};k=m.width;var Q=m.height;"string"===typeof k&&(k=A.parseMath(k,H)*t);"string"===typeof Q&&(Q=A.parseMath(Q,S)*t);
var P=k/t,L=Q/t,V=m.x;V!==+V&&(V="string"===typeof V?A.parseMath(V,H)-k/2/t:f.x-P/2);H=m.y;H!==+H&&(H="string"===typeof H?A.parseMath(H,S)-Q/2/t:f.y-L/2);0>P&&(V+=P,P=-P);0>L&&(H+=L,L=-L);f=p.point2d(V,H);l={units:l.units,x:f.x,y:f.y,left:-E+J,top:-D+N,width:P+2*E,height:L+2*D,scale:{x:1,y:1},rotate:l.rotate};h={id:h,title:m.title,type:"button",cursor:m.cursor||"default",hovered:"hover"===g,event:m.command,onmousedown:m.onmousedown,onmouseup:m.onmouseup,onhover:m.onhover,bbox:l};a.controls.push(h);
c.save();c.beginPath();c.translate(b.x,b.y);c.scale(q,q);c.translate(l.x,l.y);c.rotate(l.rotate*A.DEG_RAD);q="svg"===m.shape?k/m.viewBox[2]:1;c.translate(J,N);m.render({ctx:c,object:e,control:h,matrix:{a:q*r/t,b:0,c:0,d:q*K/t,x:0,y:0}});c.restore()}}}();c.renderCenterPoint=function(a){var c=a.origin,k=a.trx,f=a.bbox,p=f.rotate,g=f.scale,y=a.useRotate,m=a.useScale,B=a.useMove;l.tooltip&&(m?(a.proportional?(k=Math.abs(f.width*g.x).toFixed(0),g=Math.abs(f.height*g.y).toFixed(0),k="W: "+k+" px",g="H: "+
g+" px"):(k=(100*g.x).toFixed(0),g=(100*g.y).toFixed(0),k="SX: "+k+" %",g="SY: "+g+" %"),l.tooltip&&l.tooltip.update(k+"<br>"+g,a.pt)):B?(g=k.nw,f=k.ne,y=k.se,m=k.sw,k=Math.min(g.x,f.x,y.x,m.x).toFixed(2),g=Math.min(g.y,f.y,y.y,m.y).toFixed(2),l.tooltip&&l.tooltip.update("X: "+k+" px<br>"+("Y: "+g+" px"),a.pt)):y&&(k=Math.round((p+360)%360)+String.fromCharCode(176),l.tooltip&&l.tooltip.update(k,a.pt)));k=d.pixelRatio;g=k*d.zoom;a=c.x*g+b.x;c=c.y*g+b.y;k*=10;g=h.active.ctx;g.save();g.beginPath();g.shadowOffsetX=
1;g.shadowOffsetY=1;g.shadowColor="rgba(255,255,255,0.5)";g.shadowBlur=0;g.beginPath();g.translate(a,c);g.rotate((p+45)*A.DEG_RAD);e.cross(g,0,0,k,k);g.shadowColor="rgba(0,0,0,0.5)";g.strokeStyle="#dd167a";g.stroke();g.restore()}};"object"===typeof module&&module.exports&&(module.exports=r.module.Controls)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.ControlEvent=function(g,d){function m(){var c=a.getFocused()||a.getOneSelected();if(c&&(void 0===d.selection.item&&d.scene.select(c),c.trx2D))return c}var q=d.canvas2d,b=d.contexts,h=g.feature,f=d.render,a=d.scene,c=d.toolkit,l=g.ui,A=g.util,t=g.vector.Point;c.contextEvent=function(){return function(a,e){eventjs.prevent(a);if(e.pointerStart){c.text&&c.text.hide();f.dirtyControls=!0;f.dirty=!0;var b=eventjs.getPageXY(a),k=eventjs.getBBox(a.target);l.contextMenu.show({menu:"selectSingle",
at:{x:b.x-k.pageXOffset+5,y:b.y-k.pageYOffset+5}})}}};c.deleteEvent=function(){return function(e,k){eventjs.prevent(e);if(k.pointerEnd&&(a.controls[1]||{}).hovered){d.selection.remove();c.text&&c.text.hide();var p=0,l=setInterval(function(){var a=b.active,c=a.ctx;c.save();c.globalAlpha=.25;c.globalCompositeOperation="destination-out";c.fillRect(0,0,a.width,a.width);c.restore();10<++p&&(clearInterval(l),f.scene("root.deleteAction"))},25)}}};c.moveEvent=function(){var e=m();if(e){var b=e.trx2D;return function(k,
p){eventjs.prevent(k);var h=d.zoom,v=p.state,s=p.pointerMoved,g=p.pointerStart,m=p.pointerEnd;l.contextMenu&&l.contextMenu.opened&&(v="up",p.pause());g?p.env.cache={}:m?a.controlActive={}:s&&(a.controlActive={id:"anchor",moving:!0});if(1===d.selection.length&&e.brush&&e.brush.move)e.brush.move(p);else{var z=g=0;"move"===v&&(z=d.scrollTop-(p.scrollTop||0),g=(p.x-(p.px||0)+(d.scrollLeft-(p.scrollLeft||0)))/h,z=(p.y-(p.py||0)+z)/h);d.selection.transform({cache:p.env.cache,state:v,pointerId:c.getPointerUid(k,
p),translate:{x:g,y:z}});p.px=p.x;p.py=p.y;p.scrollLeft=d.scrollLeft;p.scrollTop=d.scrollTop;m?(f.dirty=!0,f.dirtyControls=!0,f.dirtyCenterPoint=!1,l.tooltip&&l.tooltip.update("")):(f.dirty=!0,f.dirtyControls=!0,f.dirtyCenterPoint={pt:eventjs.getPageXY(k),trx:b,origin:b.cp,bbox:e.bbox,useMove:s,useScale:!s,proportional:!0});d.on.moveEvent&&d.on.moveEvent(v)}}}};var e=function(e,b,g,F){function B(){if((eventjs.altKey||h.canvas.useGroupBBox)&&na)return a.getBoundingOrigin({useSelection:!0});var c=wa?
E.cp:E[k[oa]]||E.cp;return{x:c.x+d.scrollLeft,y:c.y+d.scrollTop}}function C(a,c,e){var b=t.clone(Wa);c=t.atRadianDistance(b,(c+K.rotate)*A.DEG_RAD,1);c=t.nearestOnLine(a,b,c);a=t.distance(b,c)||A.ZERO;c=t.subtract(b,c);var b=0>c.x,k=0>c.y;void 0===S[e]&&(S[e]={x:b,y:k});if(fa&&da||"xy"===e)return a;c=S[e];return a*(c.x===b&&c.y===k?1:-1)}function r(a){var c=C(a,0,"x"),e=C(a,90,"y");if(ra)return{x:Ca?K.width:c,y:ia?K.height:e};if(Ca&&!T)return{x:A.ZERO,y:e};if(ia&&!T)return{x:c,y:A.ZERO};if(T){if(ha)var b=
0>c?-1:1,k=0>e?-1:1;else k=b=1;na?(c=p[oa],0>J.x!==0>J.y&&(c+=90),a=C(a,c,"xy")):a=Math.max(Math.abs(c),Math.abs(e));return{x:a*b,y:a*k}}return{x:c,y:e}}var I=m();if(I){var E=I.trx2D,D=eventjs.getBBox(e.target),H=d.zoom,P=d.pixelRatio,K=I.bbox,J=K.scale,N=A.copy(K),S={},Q,L,V={},R={},W={},U,X,O;e=eventjs.altKey;var Y=eventjs.shiftKey,T,Z,fa,da,$=c.getFeature(I),ha=$.flippable,na=1<d.selection.length,ja=!1,ra="text"===I.type&&"pre-nowrap"!==I.whiteSpace&&(e||F),wa="objectBoundingBox"===K.units&&!ra,
oa=a.controlHover.id||"",Ka=k[oa],Ga=!!z[oa],ia=!!s[oa],Ca=!!u[oa],sa=ia||Ca,Wa=B();d.__editing&&(ja=!0,c.text&&c.text.disableArea());return function(e,k){eventjs.prevent(e);U=k.state;X=k.pointerStart;O=k.pointerEnd;T=Y===sa||b&&g;Z=Y;fa=!(!1===b||!1===I.rotatable||!0===sa);da=!(!1===g||!1===I.scalable);ja&&O&&c.text&&c.text.enableArea(I);l.contextMenu&&l.contextMenu.opened&&(U="up",k.pause());X?(k.env.cache={},a.controlActive={id:oa,scaling:da,rotating:fa}):O&&(a.controlActive={});da&&na&&(X&&!1===
T?(na=!1,d.selection.reset(),d.selection.select(d.hovered.idx),h.tools.select.useConfigure&&l.configurePane()):T=!0);if(!d.__rendering||O){var p={x:k.x,y:k.y};p.x/=H;p.y/=H;p.x-=q.x/H/P;p.y-=q.y/H/P;if(fa){var s=Wa.y-p.y||A.ZERO,m=-Math.atan2(Wa.x-p.x||A.ZERO,s)*A.RAD_DEG+180,s=0;Z&&(m-=m%5,s=K.rotate%5);Q!==+Q&&(Q=m);L=m-Q-s;Q=m}else K.rotate=N.rotate;if(ra&&Ga){if(k.pointerStart){var z=k.env;z.bbox=A.copy(K);z.dwidth=K.width;z.dheight=K.height;z.ox=0;z.oy=0;z.x=K.x;z.y=K.y}var z=k.pointerMoved,
u=k.pointerStart,m=k.pointerEnd,s=k.env,w=s.bbox,B=w.scale,t=I.toolkit,F=r(p),p=F.x/B.x,F=F.y/B.y;if(u)s.ox=Math.abs(p)-s.dwidth,s.oy=Math.abs(F)-s.dheight,0>p&&(s.ox=-s.ox),0>F&&(s.oy=-s.oy);else{var u=p-s.dwidth-s.ox,wa=F-s.dheight-s.oy;!0!==$.autoWidth&&(s.dwidth+=u,0>p?ha&&(K.scale.x=-Math.abs(B.x),K.width=Math.max(t.minWidth,-s.dwidth)):(K.scale.x=Math.abs(B.x),K.width=Math.max(t.minWidth,s.dwidth)));!0!==$.autoHeight&&(s.dheight+=wa,0>F?ha&&(K.scale.y=-Math.abs(B.y),K.height=Math.max(t.minHeight,
-s.dheight)):(K.scale.y=Math.abs(B.y),K.height=Math.max(t.minHeight,s.dheight)));a.calcTransform2D(I);a.updateConstrain(I,"size");t.updateObjectSize(I);m&&z&&d.history&&(p=A.diff([{id:I.id,bbox:w}],[{id:I.id,bbox:K}],["id"]))&&d.history.store({cmd:"update",name:"Resize Text",data:{from:p.from,to:p.to}});I.dirtyCheck=!0;I.onresize&&I.onresize();f.dirty=!0;f.dirtyControls=!0}}else s=J.x,m=J.y,da?(w=r(p),V.x!==+V.x&&(V.x=w.x),V.y!==+V.y&&(V.y=w.y),B=N.scale,s=w.x/V.x*B.x||(Ca?1:A.ZERO),w=w.y/V.y*B.y||
(ia?1:A.ZERO),W.x=s/(R.x||s),W.y=w/(R.y||w),R.x=s,R.y=w):(R.x=s,R.y=m),d.selection.transform({cache:k.env.cache,state:U,pointerId:c.getPointerUid(e,k),origin:Wa,control:Ka,rotate:L,scale:W}),"spinner"===oa&&(w=0>m?-1:1,s=-Math.abs(C(p,90,"y")),E.spinnerDistance=(s+K.height*m/2*w)*w),eventjs.useCSSTransform?z=eventjs.getPageXY(e):-1!==oa.indexOf("spinner")?(p=k.bbox,z={x:k.x+p.x1-p.scrollLeft,y:k.y+p.y1-p.scrollTop}):E[oa]&&(p=E[oa],z={x:p.x*H+D.x1-D.pageXOffset+q.x/P,y:p.y*H+D.y1-D.pageYOffset+q.y/
P}),b&&h.ui.cursorDynamic&&a.controlHover.id&&l.setCursor(a.controlHover.cursor,I),f.dirty=!0,f.dirtyControls=!0,O?(f.dirty=!0,f.dirtyControls=!0,f.dirtyCenterPoint=!1,l.tooltip&&l.tooltip.update("")):(f.dirty=!0,f.dirtyControls=!0,z&&(f.dirtyCenterPoint={pt:z,origin:E.cp,bbox:K,useRotate:fa,useScale:da,proportional:v[oa]})),fa&&d.on.rotateEvent&&d.on.rotateEvent(U)}}}};c.resizeEvent=function(a){return e(a,!1,!1,!0)};c.scaleEvent=function(a){return e(a,!1,!0,!1)};c.rotateEvent=function(a){return e(a,
!0,!1,!1)};c.rotateScaleEvent=function(a){return e(a,!0,!0,!1)};var p={n:270,e:0,s:90,w:180,ne:315,se:45,sw:135,nw:225},k={n:"s",e:"w",s:"n",w:"e",ne:"sw",se:"nw",sw:"ne",nw:"se"},v={ne:!0,se:!0,sw:!0,nw:!0},z={e:{x:1,y:1},w:{x:-1,y:1},n:{x:1,y:-1},s:{x:1,y:1},ne:{x:1,y:-1},se:{x:1,y:1},sw:{x:-1,y:1},nw:{x:-1,y:-1}},s={e:!0,w:!0},u={n:!0,s:!0}};"object"===typeof module&&module.exports&&(module.exports=r.module.Controls)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.SceneFind=function(g,d){var m=d.canvas2d,q=d.contexts,b=g.feature,h=d.render,f=d.scene,a=d.toolkit,c=g.vector,l=c.Polygon,A=c.Point;f.findInRect=function(c){var e=c.rect||c,b=c.objects||f.children,k=c.deselect||!1;c=c.usePointInBBox||!1;if(2===e.length)var p=t(e[0]),h=t(e[1]),e=[p,A(h.x,p.y),h,A(p.x,h.y)];else p=t(e[0]),h=t(e[2]);var v=q.draw.ctx;v.rect(p.x+.5,p.y+.5,h.x-p.x,h.y-p.y);for(var p=d.selection,h=p.length,k=k&&h,h={},s=b.length;s--;){var g=b[s];
if(!1!==g.selectable&&!1!==g.visible){var m=g.trx2D;if(m&&m.point2d){var z=[m.nw,m.ne,m.se,m.sw],u=g.bbox.scale;0>u.x*u.y&&z.reverse();if(l.SAT(e,z))if(a.getFeature(g).usePointInPath&&!1===c)for(g=g.data,z=g.length,u=0;u<z;u++){var r=g[u],r=m.point2d(r.x,r.y);if(v.isPointInPath(r.x,r.y)){if(k)if(p.items[s])h[s]=!1;else continue;else h[s]=!0;break}}else k?p.items[s]&&(h[s]=!1):h[s]=!0}}}return h};var t=function(a){var c=d.zoom;return{x:a.x-d.scrollLeft/c,y:a.y-d.scrollTop/c}};f.findAtPoint=function(c){var e;
function k(a){return m?(z.push(a),z):a}var l=t(p(c.point)),v=c.objects||f.children,s=c.selection||{},g=c.searchParam||{selectable:!0},m=c.getArray||!1,z=[],u=!b.vector.edit,q=h.cache.padding,A=d.pixelRatio,r=void 0;if(c.useFocusPriority&&(c=d.scene.getFocused())&&f.isPointInControl(l,c))return k(c.zIndex);for(c=v.length;c--;){var J=v[c];if(!1!==J.visible){var N=J.bbox;if(N){e="button"===J.type;if(!e)if(u)continue;else{if(g.excludeType&&J.type===g.excludeType)continue;if(g.selectable&&!1===J.selectable)continue;
if(g.toolkitId&&J.toolkitId!==g.toolkitId)continue;if(g.type&&J.type!==g.type)continue}if(f.isPointInControl(l,J)){var S=a.getFeature(J),Q=N.scale,L=Q.x,Q=Q.y;if(e){if(J.event)return k(c);z.push(c)}else{if(s[c])return k(c);if((S.usePointInPath||S.usePointInImageData)&&J.ctx){e=J.ctx;var V=f.pointInObjectFromScene(l,J),J=J.__offset||f.getOffset(J),R=Math.abs(L),W=Math.abs(Q),U=V.x,X=V.y;0>L&&(U=-U+V.bbox_width);0>Q&&(X=-X+V.bbox_height);U=U*R*A+q;X=X*W*A+q;U+=J.x||0;X+=J.y||0;U=Math.round(U);X=Math.round(X);
if(S.usePointInPath&&e.isPointInPath(U,X)||S.usePointInImageData&&(e=e.getImageData(U,X,1,1))&&8<e.data[3])return k(c)}if(S.usePointNearest)return k(c);S.usePointInBBox&&(N=N.width*L*N.height*Q,void 0===r||r>=N)&&(z.push(c),r=N)}}}}}return m?z:z.pop()};f.pointsIn=function(a,c,e){a=f[a];for(var b=[],k=0,d=c.length;k<d;k++)b.push(a(c[k],e));return b};f.pointInPeerSceneFromCanvas=function(a){a=p(a);var c=d.zoom,e=d.scrollLeft,b=d.scrollTop;a.x+=e-e/c;a.y+=b-b/c;return a};f.pointInCanvasFromPeerScene=
function(a){a=z(a);var c=d.zoom,e=d.scrollLeft,b=d.scrollTop;a.x+=e-e*c;a.y+=b-b*c;return a};f.pointInObjectFromCanvas=function(a,c){return e(p(a),c)};var e=f.pointInObjectFromScene=function(a,c){var e=c.trxInverse||f.calcMatrixInverse(c),b=c.bbox;a=e.point2d(a.x,a.y);a.x-=e.tlx+(b.left||0);a.y-=e.tly+(b.top||0);a.bbox_x=e.tlx;a.bbox_y=e.tly;a.bbox_width=b.width;a.bbox_height=b.height;return a};f.pointInSceneFromEvent=function(a){return p(k(a))};f.pointInSceneFromWindow=function(a){return p(v(a))};
var p=f.pointInSceneFromCanvas=function(a){var c=d.zoom,e=c*d.pixelRatio;return{x:a.x/c-1*m.x/e,y:a.y/c-1*m.y/e}},k=f.pointInCanvasFromEvent=function(a){return eventjs.getPointInNode(a,d.container)},v=f.pointInCanvasFromWindow=function(a){var c=eventjs.getBBox(d.container);return{x:a.x-c.x1,y:a.y-c.y1}},z=f.pointInCanvasFromScene=function(a){var c=d.zoom,e=d.pixelRatio;return{x:a.x*c+1*m.x/e,y:a.y*c+1*m.y/e}};f.pointInWindowFromObject=function(a){a=a.bbox;return s({x:a.x+a.width/2*a.scale.x,y:a.y+
a.height/2*a.scale.y})};var s=f.pointInWindowFromScene=function(a){var c=d.pixelRatio;return u({x:a.x+m.x/c,y:a.y+m.y/c})},u=f.pointInWindowFromCanvas=function(a){var c=eventjs.getBBox(d.container);return{x:a.x+c.x1,y:a.y+c.y1}};f.isPointInControl=function(a,c){var e=c.trx2D;if(e)return A.inRect(a,e.nw,e.ne,e.se);var b=f.pointInObjectFromScene(a,c),e=b.bbox_width,k=b.bbox_height,d=b.bbox_x,p=b.bbox_y,l=b.x+d,b=b.y+p;return l>d&&b>p&&l<d+e&&b<p+k};f.find=function(a,c){c=c||{};var e=f.children,b=c.selection||
f.selection.items,k=[],d;for(d in b)if(b=e[d]){var p=!0,l;for(l in a)b[l]!==a[l]&&(p=!1);p&&k.push(b)}return k};f.findPixel=function(a,c,e){var b=d.pixelRatio;a=d.contexts.layer0.ctx.getImageData(a.x*b,a.y*b,c||1,e||1).data;c={};e=0;for(b=a.length;e<b;e++){var k=e%4;c[k]=void 0===c[k]?a[e]:(c[k]+a[e])/2}return c};"object"===typeof module&&module.exports&&(module.exports=g.module.SceneFind)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.History=function(g,d){function m(a){--a.steps;if(k.vector)v.vector[a.cmd](a.steps,a.cmdSource);else if(k.bitmap)v.bitmap[a.cmd](a.steps,a.cmdSource);if(a.steps)m(a);else a.onsuccess()}function q(a,c,e,b){e=e||{};var k=a.cmd,f=a.data;if(u!==s.current){u=s.current;"remove"===k?c&&(k="add"):"add"===k&&c&&(k="remove");var l=z[k];if(l)l(k,f,c,e,b,a.userId),g.__nodejs||b||A.preload({fromPeer:!0});else{a=c?f.from:f.to;if(Array.isArray(a)){c=0;for(k=a.length;c<
k;c++)if(f=a[c],l=t.getById(f.id))f.labels&&(l.labels=[]),p.copyInto(f,l),t.decompress(l),f.fill&&delete l.fill.__colors,f.stroke&&delete l.stroke.__colors,delete l.__offset,t.setDirtyPixelData(l),f.content?(l.__textMetrics=void 0,l.dirtyCheck=!0):f.color||f.fillStyle||f.bbox&&f.bbox.scale?(l.dirtyCheck=!0,l.dirtyTransform=!0,delete l.inbounds):(l.dirtyCheck=!0,l.dirtyResource=!0);void 0===e&&x(a)}else d.mixinMetaData(a,d);g.__nodejs||b||(A.preload({fromPeer:!0}),g.ui.configurePane())}}}var b=this,
h=g.dom,f=g.feature,a=d.contexts,c=g.lang,l=g.net,A=d.render,t=d.scene,e=d.toolkit,p=g.util,k=f.history,v={bitmap:{},vector:{}},z={};b.register=function(a,c){z[a]=function(a,e,b,k,d,f){c(a,e,b,k,d,f);void 0===k&&x(e)}};b.reset=function(a){k.vector?v.vector.reset(a):k.bitmap&&v.bitmap.reset(a)};b.store=function(a,c,e){e=!1!==e;k.vector?v.vector.store(a,c):k.bitmap&&v.bitmap.store(c);d.emit("historyStore",a);e&&(g.doc.__lastModified=Date.now(),w(1))};b.canUndo=function(){if(k.vector)return-1!==s.current};
b.canRedo=function(){if(k.vector)return s.current!==s.data.length-1};b.undo=function(a){if(f.history.canUndo){a=a||{};var c=a.steps||1,e=a.onsuccess,k=a.onerror,p=a.cmdSource||{};b.canUndo()?m({cmd:"undo",cmdSource:p,steps:c,onsuccess:function(){d.emit("undo",c);e&&e();w(1);!0!==p.fromPeer&&d.on.record&&d.on.record({op:"HISTORY_UNDO",data:{steps:c}},p)}}):k&&k()}};b.redo=function(a){if(f.history.canRedo){a=a||{};var c=a.steps||1,e=a.onsuccess,k=a.onerror,p=a.cmdSource||{};b.canRedo()?m({cmd:"redo",
cmdSource:p,steps:c,onsuccess:function(){d.emit("redo",c);e&&e();w(1);!0!==p.fromPeer&&d.on.record&&d.on.record({op:"HISTORY_REDO",data:{steps:c}},p)}}):k&&k()}};b.findCmd=function(a){if(k.vector){var c=a.cmd,e=s.current,b=e-a.within;a=s.data;for(var d=e<b?1:-1,b=Math.abs(e-b),f=0;f<b;f++){var p=e+=d;if((p=a[p])&&p.cmd===c)return!0}}};b.getLastCmd=function(){if(k.vector){var a=s.data;return a[a.length-1]}};b.bitmap={current:-1,data:[],max:p.clampFinite(k.limit)};v.bitmap.reset=function(a){var c=b.bitmap;
c.current=0;c.data=c.data.splice(0,1);d.setCanvasSize();v.bitmap.store(a)};v.bitmap.store=function(c){c=b.bitmap;var e=c.data.length-1,k=e-c.current;k&&(c.data=c.data.splice(0,e-k+1));c.data.length===c.max?c.data.push(c.data.shift()):c.data.push(h.Canvas());c.current=c.data.length-1;e=a.layer0;c=c.data[c.current].ctx;c.canvas.width=c.canvas.width;c.drawImage(e,0,0)};v.bitmap.undo=function(c,e){var k=a.layer0.ctx,d=b.bitmap;d.current=Math.max(0,--d.current);k.canvas.width=k.canvas.width;k.drawImage(d.data[d.current],
0,0)};v.bitmap.redo=function(c,e){var k=a.layer0.ctx,d=b.bitmap;d.current=Math.min(d.data.length-1,++d.current);k.canvas.width=k.canvas.width;k.drawImage(d.data[d.current],0,0)};var s=b.vector={current:-1,data:[],max:p.clampFinite(k.limit)};v.vector.reset=function(a){s.current=-1;s.data=[]};b.setData=function(a){s.current=a.current;s.data=a.data;s.max=a.max};b.pop=function(){var a=s.data,c=a.length;if(c)return c-1===s.current&&s.current--,d.emit("historyPop"),a.pop()};b.restore=function(a,c){u=void 0;
q(a,!1,c)};v.vector.store=function(a,c){a=a||{};c=c||{};if(a.cmd&&a.data){a.timestamp=d.timestamp();a.userId=c.userId||l.userId;var e=a,b=s.data.length-1,k=b-s.current;k&&(s.data=s.data.splice(0,b-k+1));s.data.length===s.max&&s.data.shift();e="add"===e.cmd||"remove"===e.cmd?t.copyDeepCompress(e):t.copyDeep(e);s.data.push(e);s.current=s.data.length-1;u=s.current;d.on.record&&d.on.record({op:"HISTORY_STORE",type:"major",data:e},c)}else console.warn("storeObject",arguments)};v.vector.undo=function(a,
c){if(b.canUndo()){s.current=Math.max(-1,--s.current);var e=s.data[s.current+1];e&&(d.emit("undo-step",e),q(e,!0,c,a))}};v.vector.redo=function(a,c){if(b.canRedo()){s.current=Math.min(s.data.length-1,++s.current);var e=s.data[s.current];e&&(d.emit("redo-step",e),q(e,!1,c,a))}};var u=0;b.register("add",function(a,c,b,k,d){for(a=0;a<c.length;a++)b=c[a],t.getById(b.id)||(b=t.copyDeep(b),t.decompress(b),!1===g.__nodejs&&e.ensureToolkit(b),t.pushAt(b,b.zIndex),t.updateTransform&&(b.toolkit.updateObjectSize&&
b.toolkit.updateObjectSize(b),t.updateTransform(b),t.setDirtyPixelData(b)));t.reindex()});b.register("remove",function(a,c,e,b,k){a=t.children;for(e=0;e<c.length;e++){k=c[e].id;var f=t.getById(k);if(f)for(b&&f.zIndex===d.selection.idx&&t.deselectAll(),f=0;f<a.length;f++){var p=a[f];if(p.id===k){A.cache&&A.cache.clean(p.hash);t.setDirtyPixelData(p);t.shiftAt(f);break}}}t.reindex()});b.register("replace",function(a,c,e,b){e?(a=c[1],c=c[0]):(a=c[0],c=c[1]);u=void 0;q({cmd:"remove",data:a},!1,b,1);u=
void 0;q({cmd:"add",data:c},!1,b,0)});b.register("zoom",function(a,c,e,b,k){console.log("zoom",a,c,e)});var w=function(){var a=0,e=function(){g.fs.saveProject({onprogress:function(){},onsuccess:function(){g.ui.success(c.translate("changes-saved"),1E3)}})};return function(c){f.fs.autosave&&g.fs.authorized&&(clearTimeout(a),a=setTimeout(function(){d.__interacting?w(0):e()},1E3))}}(),x=function(a){if(k.autoSelect){if("select"===d.tool.type){for(var c=0;c<a.length;c++){var e=a[c];isFinite(e)?t.selectById(e,
!1):t.selectById(e.id,!1)}t.handleSelection()}}else t.deselectAll()}};"object"===typeof module&&module.exports&&(module.exports=r.module.History)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.SceneOrganize=function(g,d){function m(b,d){for(var a=[],c=0;c<d.length;c++){var l=d[c],g=b[l-c];!g||g.useStickToFront||g.useStickToBack||(b.splice(l-c,1),a.push({layer:g,idx:l}))}return a}var q=g.util,b=d.scene;d.queueHistory&&d.queueHistory.add(function(){d.history.register("organize",function(h,f,a,c,l){h=b.children;l=a?f.from:f.to;f=a?f.to:f.from;c=!c.useReplay&&"select"===d.tool.type;b.selection.reset();f=m(h,f);if(a=f.length){for(var g=0;g<a;g++){var t=
f[g];h.splice(l[g],0,t.layer);b.setDirtyPixelData(t.layer);c&&b.selectByIdx(t.idx)}b.reindex()}})});b.sendTo=function(h){h=h||{};var f=h.idx,a=(h.record||!1)&&d.history,c=b.selection.toArray(h.selection),l=h.onsuccess,g=b.children,t;a:{t=0;for(var e=b.children,p=e.length,k=0;k<p;k++)if(e[k].useStickToBack)t++;else break a;t=void 0}a:{e=0;p=b.children;for(k=p.length;k--;)if(p[k].useStickToFront)e++;else break a;e=void 0}t=q.clamp(0+t,g.length-e,f);c=m(g,c);if(e=c.length){for(k=p=0;k<e;k++){var v=c[k];
if(v.idx<t)p++;else break}for(var z=[],s=[],k=0;k<e;k++){var v=c[k],u=v.layer,f=t-p+k;b.setDirtyPixelData(u);g.splice(f,0,u);v.idx!==f&&(z.push(v.idx),s.push(f))}a&&z.length&&d.history.store({cmd:h.cmd||"organize",name:h.name||"object-order",data:{from:z,to:s}});b.reindex();l&&l()}return b};b.sendForwards=function(h){h=h||{};var f=h.distance||1,a=h.toFront||!1,c=h.record||!1;h=b.selection.toArray(h.selection);a?(f=b.children.length,a="object-to-front"):(f=h[h.length-1]+f+1,a="object-forwards");return b.sendTo({idx:f,
cmd:"organize",name:a,record:c,onsuccess:function(){d.on.sendForwards&&d.on.sendForwards()}})};b.sendBackwards=function(h){h=h||{};var f=h.distance||1,a=h.toBack||!1,c=h.record||!1;h=b.selection.toArray(h.selection);a?(f=0,a="object-to-back"):(f=h[0]-f,a="object-backwards");return b.sendTo({idx:f,cmd:"organize",name:a,record:c,onsuccess:function(){d.on.sendBackwards&&d.on.sendBackwards()}})}};"object"===typeof module&&module.exports&&(module.exports=r.module.SceneOrganize)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Orientation=function(g,d,m){var q=this,b=d.canvas2d,h=g.feature.zoom||{},f=g.feature,a=d.render,c=d.scene,l=d.toolkit,A=g.vector;q.mirrorX=1;q.mirrorY=1;q.zoom={clampFormat:"px",fromCenter:!0,value:1,min:20,max:100};q.rotate={clampFormat:"degree",value:0,min:0,max:0};q.offset={x:0,y:0};q.origin={x:0,y:0};q.mouse={x:0,y:0};for(var t in m)q[t]=m[t];q.ctx=q.canvas.getContext("2d");q.trx={};q.trx.scale=new A.Transform;q.trx.rotate=new A.Transform;q.trx.mirror=
new A.Transform;q.render=function(){q.decompose();a.dirtyClip=!0;d.setBounds();d.render.scene("orient.render");l.text&&l.text.updateCSSTransform();return q};q.getTransform=function(){var a=new A.Transform,c=q.offset;a.combine(q.trx.mirror);a.combine(q.trx.scale);a.combine(q.trx.rotate);a.translate(c.x,c.y);return a};q.decompose=function(){var a=d.pixelRatio,c=q.getTransform(),k=new CSSMatrix,c=c.matrix;k.a=c.a;k.b=c.b;k.c=c.c;k.d=c.d;k.e=c.x;k.f=c.y;k=k.decompose().translate;c=q.zoom.value;d.zoom=
c;b.orientX=Math.round(k.x);b.orientY=Math.round(k.y);b.x=Math.round(k.x-d.x*c*a);b.y=Math.round(k.y-d.y*c*a);d.scrollElementCSS()};q.reset=function(a){q.media=d.bounds;a||(q.zoom.value=h.value||1,q.rotate.value=0,q.mirrorX=1,q.mirrorY=1,q.offset.x=0,q.offset.y=0);f.doc.centerOnLoad&&q.setCenter();q.scale=1;q.mouse.x=0;q.mouse.y=0;q.origin.x=0;q.origin.y=0;q.setZoomAtCenter();q.mirrorTo(q.mirrorX,q.mirrorY);q.rotateTo(q.rotate.value);q.zoomTo(q.zoom.value,!0);q.decompose();return q};q.setCenter=function(){var a=
d.pixelRatio,c=parseFloat(q.canvas.style.width)||q.canvas.width,b=parseFloat(q.canvas.style.height)||q.canvas.height;q.offset.x=Math.max(0,c/2-q.media.width/2)*a;q.offset.y=Math.max(0,b/2-q.media.height/2)*a;q.origin.x=0;q.origin.y=0;q.mouse.x=0;q.mouse.y=0;return q};q.setPan=function(a,c){q.offset.x+=isFinite(a)?a:0;q.offset.y+=isFinite(c)?c:0;q.setZoomAtCenter();return q};q.setRotate=function(a){q.rotate.value=360===a?360:(a+360)%360;q.rotateTo(q.rotate.value);q.render();return q};q.setZoom=function(a,
c){var b=q.zoom.value,d=Math.max(q.media.width,q.media.width);if("px"===q.zoom.clampFormat)var f=q.zoom.min/d,d=q.zoom.max/d;else f=q.zoom.min,d=q.zoom.max;f=Math.min(d,Math.max(f,a));q.zoom.value=f;(b=1+(f-b)/b)&&q.zoomTo(b);return q};q.mirrorTo=function(a,c){var b=q.media,d=-1===a?b.width:0,b=-1===c?b.height:0;q.trx.mirror.reset();q.trx.mirror.translate(d,b);q.trx.mirror.scale(a,c);return q};q.rotateTo=function(a){var c=q.trx.rotate,b=q.media,d=b.width/2+q.offset.x,b=b.height/2+q.offset.y;c.reset();
c.translate(d,b);c.rotate(a*Math.PI/180);c.translate(-d,-b);return q};q.zoomTo=function(a,c){if(!q.origin)return console.log("not initialized");var b=q.trx.scale;c&&(b.reset(),q.origin.x=0,q.origin.y=0,q.scale=1);b.translate(q.origin.x,q.origin.y);b.scale(a,a);q.zoom.fromCenter&&(q.origin.x=q.mouse.x/q.scale+q.origin.x-q.mouse.x/(q.scale*a),q.origin.y=q.mouse.y/q.scale+q.origin.y-q.mouse.y/(q.scale*a),b.translate(-q.origin.x,-q.origin.y));q.scale*=a;return q};q.events={};q.enabled=!1;q.enable=function(){if(!q.enabled)return q.enabled=
!0,q.events.mousedown=eventjs.add(m.mouseLayer,"mousedown",q.onMouseDown),q.events.wheel=eventjs.add(m.mouseLayer,"wheel",q.onMouseWheel),q.events.key=eventjs.add(window,"keyup keydown",eventjs.keyTracker),q.events.keydown=eventjs.add(window,"keydown",q.onKeyDown),q};q.disable=function(){if(q.enabled)return q.enabled=!1,eventjs.bulk(q.events,"remove"),q};q.lx=0;q.ly=0;q.onDrag=function(a,b){eventjs.prevent(a);var k=q.zoom.value,f=b.x-b.start.x,l=b.y-b.start.y;"up"===b.state&&(q.zoom.fromCenter?q.setZoomAtCenter():
q.setZoomAtPoint(a),c.setDirtyBounds(c.children));var h=d.pixelRatio;q.offset.x+=(f-q.lx)/k*q.mirrorX*h;q.offset.y+=(l-q.ly)/k*q.mirrorY*h;q.lx=f;q.ly=l;q.render();q.runCallback();return q};q.onMouseDown=function(a){q.lx=0;q.ly=0;q.events.drag=eventjs.proxy.drag({fingers:1,event:a,target:q.canvas,listener:q.onDrag});return q};q.onMouseWheel=function(a,b){eventjs.cancel(a);"end"===b.state&&c.setDirtyBounds(c.children);q.setZoomAtPoint(a);var k=q.zoom.value;q.setZoom(k*(1+b.wheelDelta/120/2),!0);q.render();
q.controllerSetZoom&&k!==q.zoom.value&&q.controllerSetZoom(q.zoom.value);q.runCallback();return q};q.onKeyDown=function(a){var c=q.zoomMin,c=q.zoom.value/(q.zoomMax-c+c),b=a.shiftKey?10:1;switch(a.keyCode){case 37:eventjs.metaKey?(eventjs.cancel(a),q.setRotate(q.rotate.value+1*b)):(q.setPan(-1*b,0),q.render());q.runCallback();break;case 39:eventjs.metaKey?(eventjs.cancel(a),q.setRotate(q.rotate.value-1*b)):(q.setPan(1*b,0),q.render());q.runCallback();break;case 38:eventjs.metaKey?(eventjs.cancel(a),
q.setZoom(c-.01*b)):q.setPan(0,-1*b);q.render();q.runCallback();break;case 40:eventjs.metaKey?(eventjs.cancel(a),q.setZoom(c+.01*b)):q.setPan(0,1*b),q.render(),q.runCallback()}return q};q.toString=function(){return JSON.stringify(q.getValues())};q.setZoomAtPoint=function(a){a=eventjs.getPointInNode(a,q.canvas);var c=d.pixelRatio;q.mouse.x=a.x*c;q.mouse.y=a.y*c;return q};q.setZoomAtCenter=function(){var a=d.pixelRatio,c=d.viewport,b=q.media,f=q.getTransform(),l=f.point2d(0,0),h=f.point2d(b.width,b.height),
b=Math.max(0,l.x),l=Math.max(0,l.y),f=Math.min(c.height,h.y),c=Math.min(c.width,h.x),c=Math.max(0,c-b),f=Math.max(0,f-l);q.mouse.x=(b+c/2)*a;q.mouse.y=(l+f/2)*a;return q};q.getValues=function(){var a=q.zoom.value,c=q.trx.scale.matrix;return{x:c.x+q.offset.x*a,y:c.y+q.offset.y*a,zoom:a,rotate:q.rotate.value,mirror:{x:q.mirrorX,y:q.mirrorY}}};q.setSource=function(a){"string"===typeof a?(q.media=new Image,q.media.onload=function(){q.reset(!0)},q.media.src=a):(q.media=a,q.reset(!0));return q};q.runCallback=
function(a){q.callback&&q.callback({rotate:q.rotate.value,zoom:q.zoom.value,mirrorX:q.mirrorX,mirrorY:q.mirrorY});return q};return q};r.module.Orientation.createController=function(g,d){var m=g.feature.zoom||{},q=g.dom,b=d.contexts,h=d.scene,f=d.orient=new g.module.Orientation(g,d,{src:d.bounds,canvas:b.layer0,mouseLayer:b.active,rotate:{clampFormat:"degree",value:0,min:0,max:0},zoom:{clampFormat:"%",fromCenter:m.fromCenter,value:m.value,min:m.min,max:m.max,increment:m.increment}});f.setSource(f.src);
f.controllerReset=function(){f.reset().render();var a=f.getKnobOffset(m.defaultValue);f.setController(a)};f.controllerSetZoom=function(a){a=f.getKnobOffset(a||1);f.setController(a)};f.getKnobOffset=function(c){var b=f.zoom.max;c=c||d.zoom;var k=a.offsetHeight||150;c=2+Math.log(c)/Math.log(2);b=2+Math.log(b)/Math.log(2);return(1-c/b)*k};f.controllerZoomOut=function(){var a=Math.max(f.zoom.min,d.zoom-f.zoom.increment),a=f.getKnobOffset(a);f.setController(a)};f.controllerZoomIn=function(){var a=Math.max(f.zoom.min,
d.zoom+f.zoom.increment),a=f.getKnobOffset(a);f.setController(a)};f.setControllerCSS=function(c){if(l){var b=l.offsetHeight;l.style.top=Math.min((a.offsetHeight||150)-b,Math.max(0,c-b/2))+"px"}};f.setController=function(c,b){f.setControllerCSS(c);var k=a.offsetHeight||150,d=f.zoom.max,l=2+Math.log(d)/Math.log(2),k=Math.min(d,Math.pow(2,(1-c/k)*l-2));b&&(k*=100,k=(k-k%b)/100);f.setZoom(k);f.render();a.title=Math.round(100*k)+"%"};var a={offsetHeight:150},c=q.$("#sk-orientation"),l=q.$("#sk-orientation .controller");
if(!l&&c){var A=function(a,c){eventjs.cancel(a);g.ui.tooltip&&g.ui.tooltip.update(t());c&&h.setDirtyBounds(h.children)},t=function(){return Math.round(100*f.zoom.value)+"%"},q=function(a,b,k){a=g.dom.create('<div class="'+a+'"></div>');g.ui.tooltip&&g.ui.tooltip.add(a,b);c.appendChild(a);eventjs.add(a,"mousedown",function(a,c){g.doc.orient[k]();A(a)})};eventjs.add(c,"mousedown,dblclick",eventjs.stop);q("icon-plus","zoom-in","controllerZoomIn");b=g.dom.create('<div class="controller"><div><span id="controller" style="top: 0px"></span></div></div>');
g.ui.tooltip&&g.ui.tooltip.add(b,t);c.appendChild(b);eventjs.add(b,"drag",function(a,c){g.doc.orient.setController(c.y,5);A(a,"up"===c.state)});l=b.firstChild.firstChild;l.style.top=f.getKnobOffset()+"px";q("icon-minus","zoom-out","controllerZoomOut");q("icon-frame","reset","controllerReset")}};"object"===typeof module&&module.exports&&(module.exports=r.module.Orientation)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.ScenePlacement=function(g,d){var m=d.canvas2d,q=g.feature,b=d.contexts,h=d.scene,f=d.toolkit,a=g.util,c=g.vector;h.updateTransform=function(a,c){a.data&&!a.dataHash&&(a.dataHash=h.createHash(a.data));if(a.dirtyTransform||a.dirtyCheck||!a.trx2D){a.dirtyTransform=!1;var b=a.useStretchToEdge,e=a.useStretchToFit;if(b||e){var f=d.bounds,e=f.width,f=f.height,k=a.bbox;if(k.width!==e||k.height!==f){if(b)k.width=e,k.height=f,k.x=0,k.y=0;else{var b=(k.owidth||k.width)/
e,v=(k.oheight||k.height)/f;b>v?(k.width=e*b,k.height=f,k.x=-(k.width-e)/2,k.y=0):(k.width=e,k.height=f*v,k.x=0,k.y=-(k.height-f)/2)}a.dirtyCache=!0}}h.calcTransform2D(a,c)}};h.calcTransform2D=function(b,f){var g=b.bbox,e=g.rotate*a.DEG_RAD,p=g.width*g.scale.x,k=g.height*g.scale.y,v=p/2,m=k/2,s=b.trx2D||(b.trx2D=new c.Transform),u=g.x-d.scrollLeft,g=g.y-d.scrollTop;s.reset();s.translate(u,g);e&&(s.translate(v,m),s.rotate(e),s.translate(-v,-m));f||(s.nw=s.point2d(0,0),s.ne=s.point2d(p,0),s.se=s.point2d(p,
k),s.sw=s.point2d(0,k),s.cp=s.point2d(v,m),s.n=s.point2d(v,0),s.e=s.point2d(p,m),s.s=s.point2d(v,k),s.w=s.point2d(0,m),s=b.trxInverse||(b.trxInverse=new c.Transform),e=b.trx2D.nw,s.tlx=e.x,s.tly=e.y,s.reset(),h.calcMatrixInverse(b))};h.calcMatrixInverse=function(b){var d=b.trxInverse||new c.Transform,f=b.bbox;b=isFinite(d.tlx)?d.tlx:f.x;var e=isFinite(d.tly)?d.tly:f.y,p=f.rotate*a.DEG_RAD,k=f.scale.x,f=f.scale.y;d.translate(b,e);p&&d.rotate(-p);d.scale(1/k,1/f);d.translate(-b,-e);d.tlx=b;d.tly=e;
return d};h.updateBBox=function(a){if(a=a||h.selection.item)h.updateConstrain(a),"text"===a.type?f.text&&f.text.updateCSSTransform(a):a.brush&&(a.brush.bbox=a.bbox)};h.getCenterPoint=function(){var a=d.zoom,c=d.scrollLeft,b=d.scrollTop,e=d.viewport,f=d.bounds;return{x:Math.min(f.width,e.width/a)/2+c,y:Math.min(f.height,e.height/a)/2+b}};h.getBoundingBox=function(a){a=a||{};var c=a.useVisibleRegion||!1,d=!!a.selection||a.useSelection||!1,e=!!a.hovered||a.useHovered||!1,f=a.asInteger||!1,k=Infinity,
v=-Infinity,g=Infinity,s=-Infinity,m=a.selection||h.selection.items;a=a.hovered||h.hovered.items;d||e||(d=!0,m=h.children);for(var w=0,x=h.children.length;w<x;w++){var y=h.children[w],q=y.trx2D;if(q){var B=y.zIndex,C=a[B];if(m[B]&&d||C&&e){var y=y.bbox,C=y.width*y.scale.x,r=y.height*y.scale.y,y=q.point2d(0,0),B=q.point2d(C,0),C=q.point2d(C,r),I=q.point2d(0,r),q=Math.min(y.x,B.x,C.x,I.x)-1,r=Math.min(y.y,B.y,C.y,I.y)-1,E=Math.max(y.x,B.x,C.x,I.x)+2,y=Math.max(y.y,B.y,C.y,I.y)+2;q<k&&(k=q);r<g&&(g=
r);E>v&&(v=E);y>s&&(s=y)}}}c?(k=Math.max(0,k),g=Math.max(0,g),c=b.layer0,C=Math.min(c.width-k,v-k),r=Math.min(c.height-g,s-g)):(C=v-k,r=s-g);k=isFinite(k)?k:0;g=isFinite(g)?g:0;C=isFinite(C)?C:0;r=isFinite(r)?r:0;return{x:f?Math.floor(k):k,y:f?Math.floor(g):g,width:f?Math.ceil(C):C,height:f?Math.ceil(r):r,units:"objectBoundingBox",scale:{x:1,y:1}}};h.getBoundingOrigin=function(a){a=a.units?a:h.getBoundingBox(a);return"objectBoundingBox"===a.units?{x:a.x+a.width/2*a.scale.x,y:a.y+a.height/2*a.scale.y}:
{x:a.x,y:a.y}};h.getOffset=function(a){var c=d.pixelRatio,b=a.bbox.scale.x,e="object"===typeof a.padding?a.padding:{top:0,left:0,right:0,bottom:0},f=e.left+e.right,e=e.top+e.bottom,k=a.stroke;k&&k.enabled||(k={lineWidth:0,miterLimit:0});var k=k.lineWidth*k.miterLimit/2,h=a.border&&a.border.lineWidth||0,f=Math.ceil(Math.abs((h+f)*b/2))+k,b=Math.ceil(Math.abs((h+e)*b/2))+k;return a.__offset={x:f*c,y:b*c,pixelRatio:c}};h.isInBounds=function(a){a.dirtyTransform&&h.updateTransform(a);var c=a.trx2D;if(!c||
!c.point2d)return!0;var b=d.zoom,e=d.pixelRatio,f=b*e,k=m.x,v=m.y,g=c.nw,s=c.ne,u=c.se,w=c.sw,c=Math.min(g.x,s.x,u.x,w.x)*f+k,x=Math.min(g.y,s.y,u.y,w.y)*f+v,y=Math.max(g.x,s.x,u.x,w.x)*f+k,g=Math.max(g.y,s.y,u.y,w.y)*f+v,s=m.width,F=m.height,f=e*b,w=d.scrollLeft,u=d.scrollTop,B=d.bounds;if(q.canvas.forceInBounds)return a.inbounds=!0;q.canvas.clip?(s=Math.min(B.width*b,s)*e,b=Math.min(B.height*b,F)*e,k=(d.x-w)*f+k,e=(d.y-u)*f+v):(s*=e,b=F*e,e=k=0);f=Math.max(0,k);v=Math.max(0,e);k=s+Math.max(0,k);
b+=Math.max(0,e);a.inbounds=c<k&&y>f&&x<b&&g>v;return a.inbounds};h.getActionDataAsAbsolute=function(b,d){var f=new c.Transform,e=b.bbox,p=e.scale.x,k=e.scale.y,h=e.rotate*a.DEG_RAD,g=e.width/2*p,s=e.height/2*k,m=-((b.diameter||0)/2)*(p-1);f.translate(e.x,e.y);f.translate(g,s);h&&f.rotate(h);f.translate(-g-m,-s-m);f.scale(p,k);e=[[]];p=0;if(k=b.data)for(h=k.length,g=0;g<h;g++)k=b.data[g],s=f.point2d(k.x,k.y),e[p]||(e[p]=[]),e[p].push({x:s.x,y:s.y}),"z"===k.cmd&&++p;return d?JSON.stringify(e):e};h.updateConstrain=
function(a,c){var b=d.bounds,e=b.width,b=b.height,f=a.bbox,k=f.scale,v=k.x,g=k.y,s=a.useConstrain,m=a.useConstrainX,w=a.useConstrainY,x=a.useAlignX,k=a.useAlignY,y=a.trx2D;if(y&&(s||m||w)){var q=y.nw,B=y.ne,C=y.se,r=y.sw,y=Math.min(q.x,B.x,C.x,r.x),I=Math.min(q.y,B.y,C.y,r.y),E=Math.max(q.x,B.x,C.x,r.x),q=Math.max(q.y,B.y,C.y,r.y),r=Math.max(0,E-y),D=Math.max(0,q-I),q=f.x,B=f.y,C=q-y,E=B-I,r=e-r,D=b-D;"size"===c?(f.width+=Math.min(0,r-y),f.height+=Math.min(0,D-I)):(y=r+C,I=D+E,s?(f.x=Math.max(C,Math.min(y,
q)),f.y=Math.max(E,Math.min(I,B))):m?f.x=Math.max(C,Math.min(y,q)):w&&(f.y=Math.max(E,Math.min(I,B))));a.dirtyTransform=!0}x&&(v*=f.width,f.x="right"===x?e-v:"left"===x?0:(e-v)/2,a.dirtyTransform=!0);k&&(e=f.height*g,f.y="bottom"===k?b-e:"top"===k?0:(b-e)/2,a.dirtyTransform=!0);a.dirtyTransform&&h.updateTransform(a)};h.getConstraint=function(a,c,b){var e=f.getFeature(a),p=a.useMinWidth||e.minWidth,k=a.useMinHeight||e.minHeight,h=a.useMaxWidth||e.maxWidth,g=a.useMaxHeight||e.maxHeight;e.constrainToCanvas&&
(e=d.contexts.layer0,e=Math.min(e.height,e.width)/d.pixelRatio,g=Math.min(e,g),h=Math.min(e,h));e=a.bbox;a=e.width||1E-4;var e=e.height||1E-4,s=a,m=e,w=!1,x=!1;if(b)return b.x*a<p&&(w=!0,b.x=p/a,b.y=b.x),b.y*e<k&&(w=!0,b.y=k/e,b.x=b.y),b.x*a>h&&(x=!0,b.x=h/a,b.y=b.x),b.y*e>g&&(x=!0,b.y=g/e,b.x=b.y),{constrained:w||x,tooSmall:w,tooLarge:x,x:b.x,y:b.y};s<p&&(w=!0,s=p);m<k&&(w=!0,m=k);s>h&&(x=!0,s=h);m>g&&(x=!0,m=g);s!==a&&c&&(m=s/a*e);m!==e&&c&&(s=m/e*a);return{constrained:w||x,tooSmall:w,tooLarge:x,
width:s,height:m}}};"object"===typeof module&&module.exports&&(module.exports=r.module.ScenePlacement)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.SceneRender=function(g,d){function m(){if(!d.__preloading)if(d.__rendering=!0,f.emit("render"),f.dirty=!1,f.perf=f.perf||g.perf(),t.vector.edit||f.chunkBatch){var e=c.layer0,k=e.ctx,p=e.width,l=e.height;if(t.canvas.clip){if(f.dirtyClip){e.width=p;f.dirtyClip=!1;var e=d.clip,v=d.zoom,m=d.pixelRatio,y=m*v,x=d.scrollLeft-d.x*m,w=d.scrollTop-d.y*m;k.beginPath();e.path?(x=a.x-x*v,v=a.y-w*v,k.save(),k.translate(x,v),k.scale(y,y),z.VOBPath(k,e.path),k.restore()):
(f.toExport?(v=x=0,w=k.canvas.width,y=k.canvas.height):(m=d.bounds,x=(e.x||0)*y+a.x-x*v,v=(e.y||0)*y+a.y-w*v,w=Math.min(m.width,e.width||Infinity)*y,y*=Math.min(m.height,e.height||Infinity)),k.rect(x,v,w,y));e.style&&(b(k,e.style),(e=e.style)&&(e.lineWidth||e.strokeStyle)&&(e.globalCompositeOperation&&(k.globalCompositeOperation=e.globalCompositeOperation),k.lineWidth=(e.lineWidth||1)*d.pixelRatio,k.strokeStyle=e.strokeStyle||"#000",k.stroke()));k.clip()}k.clearRect(0,0,p,l);k.beginPath();k.rect(0,
0,p,l);k.clip()}else k.clearRect(0,0,p,l);k.save();h()}else{p=f.from;k=d.scene.children;if(k.length){p=(isFinite(d.selection.idx)&&"text.hide"!==p?c.active:c.layer0).ctx;for(l=0;l<k.length;l++)e=k[l],!e.dirtyCheck&&!e.dirtyTransform||e.error||(d.scene.updateTransform(e),f.object(p,e),f.dirtyControls=!0);s(d.tool.device.composite)}u.run()}}function q(){f.dirtyActiveContext&&(f.dirtyActiveContext=!1,A.Canvas.clear(c.active));f.dirtyControls&&(f.dirtyControls=!1,l.useRenderControls[d.tool.type]?k.renderSceneControls(!0):
f.emit("dirtyControls"));if(f.dirtyCenterPoint){var a=f.dirtyCenterPoint;f.dirtyCenterPoint=!1;k.getFeature(d.scene.hovered.item).showCenterPoint&&l.useRenderControls[d.tool.type]&&k.renderCenterPoint(a)}}function b(a,c){c&&c.fillStyle&&(c.globalCompositeOperation&&(a.globalCompositeOperation=c.globalCompositeOperation),a.fillStyle=c.fillStyle||"#000",a.fill())}function h(){for(var p=c.layer0.ctx,l=d.scene.children,s=l.length,v=w-x,m=f.chunkBatch,z=m?150:500,q=s-v,A=Date.now(),r=0;r<q;r++){var v=
++w-x,K=Date.now()-A>z,J=v>s-1,K=0!==w&&K;if(m&&(K||J)&&g.loader){var N=s&&!J?v/s:1;(100!==100*N>>0||g.loader.threads.thread)&&g.loader.create("thread",e.translate("rendering")+"...",100*N>>0)}if(K){++x;setTimeout(h,0);break}if(J){x=0;w=-1;d.__rendering=!1;f.chunkBatch=!1;p=c.layer0.ctx;y.id&&y.canvas&&(y.render(p),y.id=null);p.restore();!t.canvas.useBGRender||f.highRes||f.toExport||(l=d.zoom,s=l*d.pixelRatio,m=d.bounds,v=m.width,m=m.height,z=d.scrollLeft,q=d.scrollTop,p.save(),p.beginPath(),p.translate(a.orientX,
a.orientY),p.scale(s,s),p.globalAlpha=1,p.globalCompositeOperation="destination-over",p.translate(-z,-q),p.rect(-.5,-.5,v*Math.max(1,l)+1,m*Math.max(1,l)+1),b(p,{fillStyle:d.backgroundRaw}),p.restore());u.run();f.perf&&(f.speed=f.perf());t.debug&&console.log("render",f.speed+"ms",f.from);f.from="";f.perf=null;break}J=l[v];if(!J.error){K=J.type;if(void 0===J.toolkit){t.debug&&console.warn("toolkit was not loaded",K,v);if(!k.getToolkit(K))continue;x=0;w=-1;d.__rendering=!1;setTimeout(f.preload,0);break}d.scene.updateTransform(J);
if(!1!==J.visible){if("group"!==K&&!f.toExport){if(!1===J.inbounds)continue;if(!isFinite(J.inbounds)&&!d.scene.isInBounds(J))continue}f.selection&&void 0===f.selection[v]||d.__editing&&J.id===d.selection.id&&"text"===J.type||f.object(p,J)}}}}var f=this,a=d.canvas2d,c=d.contexts,l=g.detect,A=g.dom,t=g.feature,e=g.lang,p=g.style,k=d.toolkit,v=g.util,z=g.vector.Shape;g.module.Listener(f);f.scene=function(a){a=a||{};"string"===typeof a&&(a={from:a});"function"===typeof a&&(a={onsuccess:a});var c=a.from;
(a=a.onsuccess)&&u.push(a);f.dirty=!0;f.from=c;return f};f.objectToScene=function(a,b){var e=c.layer0.ctx,k=d.scene.children;(k[k.length-2]||{}).useStickToFront?f.scene(b):(d.scene.updateTransform(a),f.object(e,a,function(){b&&b()}))};f.now=function(a){a&&u.push(a);f.toExport=!0;m();f.toExport=!1;return f};f.blend=!1;f.chunkBatch=!0;f.composite="normal";f.dirty=!1;f.dirtyCenterPoint=!1;f.dirtyClip=!1;f.dirtyControls=!1;f.dirtyActiveContext=!1;f.dirtyPointer=!1;f.from="";f.highRes=!1;f.perf=null;f.selection=
!1;f.speed=0;f.toExport=!1;f.pointer={};f.removePointer=function(a){delete f.pointer[a]};f.prepareDeviceGCO=function(a){var c="normal",b;for(b in a){var e=a[b];e.brush&&(e=e.brush);e.object&&(e=e.object);if(!p.isNormalGCO[e.composite]){c=e.composite;break}}b&&s(c)};var s=function(a){f.composite=a||"normal";a=!p.isNormalGCO[f.composite];f.blend!==a&&(a?(c.layer0.style.display="none",c.draw.style.background=c.layer0.style.background):(c.layer0.style.display="block",c.draw.style.background=""));A.Canvas.clear(c.draw);
(f.blend=a)&&c.draw.ctx.drawImage(c.layer0,0,0)};(function(){function a(){b===a.frameId&&requestAnimationFrame(a);g.stats&&g.stats.begin();f.dirty?m():q();if(f.dirtyPointer){f.dirtyPointer=!1;var e=f.pointer,h=0,z=Date.now()-6E4;f.prepareDeviceGCO(e);var u=c.draw,y=u.ctx,x;for(x in e){var w=e[x];if(w.lastModified<z)f.removePointer(x),console.warn("prune pointer",x);else{var t=w.object;if(t)switch(t.toolkitId){case "text":w.isFromBrowser&&(d.scene.updateTransform(t),k.renderObjectControls(y,t));break;
case "media":if(t.dirtyCheck){var r=t.bbox;r.scaleCache={x:1,y:1};t.lastSampleSize=Math.sqrt(r.width*r.height);d.scene.updateTransform(t,!0)}f.object(y,t);break;case "shape":d.scene.updateTransform(t,!0);f.object(y,t);break;case "brush":if(r=t.brush){var t=t.type,N=p.getCompositeNative(r.composite);r.isEraser="destination-out"===N||"eraser"===t;r.useAreaTracker=l.useAreaTracker[t]&&"color"!==r.fill.type;w=w.ctx||(w.ctx=A.Context2d(u.width,u.height));r.renderTo=w;var S="ghost"===x;S&&(r.batchRecord=
v.copy(r.pathRecord||[]));if(r.dirtyRender){if(S||!l.useCacheOnDraw[t])w.canvas.width=u.width,w.canvas.height=u.height;r.preprocess&&r.preprocess();S=d.zoom*d.pixelRatio;w.save();w.scale(S,S);w.translate(-d.scrollLeft,-d.scrollTop);k.brush.renderBrush(w,r.batchRecord,r);w.restore();r.postprocess&&r.postprocess()}y.save();y.globalAlpha=l.useCacheForOpacity[t]?r.opacity/100:1;y.globalCompositeOperation=N;y.drawImage(w.canvas,0,0);y.restore();r.speed&&r.isFromBrowser&&k.brush.addPointClone(r)}}h++}}0===
h&&s()}g.stats&&g.stats.end()}var b;f.start=function(){void 0===b&&(b=v.timestamp(),a.frameId=b,a())};f.stop=function(){b=void 0}})();var u=function(){var a=[];return{push:function(c){"function"===typeof c&&a.push(c)},run:function(){q();for(d.__rendering=!1;a.length;)a.shift()()}}}(),w=-1,x=0,y={id:null,canvas:null,composite:null,opacity:null,render:function(a){a.globalCompositeOperation=y.composite;a.globalAlpha=y.opacity/100;a.drawImage(y.canvas,0,0)}};f.object=function(c,b,e){if(c&&b){var h=f.toExport;
if(!h||!1!==b.exportable){var s=d.pixelRatio,v=d.zoom*s,g=d.hovered,m=d.selection,z=b.zIndex-x,u=m.id===b.id||g.id===b.id;b.hovered=g.items[z]||!1;b.selected=m.items[z]||!1;if(b.groupId){if(y.id!==b.groupId){y.id&&y.canvas&&y.render(c);var w=c.canvas;y.id=b.groupId;y.canvas=y.canvas||A.Canvas(w.width,w.height);y.canvas.width=w.width;y.canvas.height=w.height;y.composite=b.composite;y.opacity=b.opacity}y.id&&(c=y.canvas.ctx)}else y.id&&y.canvas&&(y.render(c),y.id=null);var q=b.type,r=f.cache,g=b.usePixelData&&
b.isRecording,w=b.useHighRes||f.highRes;if(!w||l.useCacheOnRender[q]&&!b.useHighRes||g)if(w=!1,!b.ctx||b.dirtyCheck||b.dirtyCache||h)if(r.add(b),b.ctx)b.dirtyCheck=h;else{e&&e();return}var Q=b.bbox,L=Q.width,g=Q.height,V=Q.scaleCache||{x:1,y:1},R=V.x,W=V.y,U=Q.scale.x,X=Q.scale.y;if(b.__offset){var O=b.__offset,Y=O.x,O=O.y;0>R&&(Y*=-1);0>W&&(O*=-1)}else O=d.scene.getOffset(b),Y=O.x,O=O.y;h=k.getFeature(b).showBBox&&m.items[z]&&!u&&!h;m=!l.useLocalAlpha[q];c.save();c.translate(a.x,a.y);c.scale(v,v);
c.globalCompositeOperation=p.getComposite(b.composite);c.globalAlpha=isFinite(b.opacity)&&m?b.opacity/100:1;m=b.trx2D;v=r.padding;w?(V=Q.padding||0,Y=-v,O=-v,z=L+2*v,s=g+2*v,c.beginPath(),m.apply(c,!0),l.shape[b.type]?(b.render(c,m,!0),c.scale(U,X),c.translate(V,V)):(c.scale(U,X),c.translate(V,V),b.render(c,m,!0)),h&&c.scale(1/U,1/X)):(m.apply(c,!0),w=b.ctx.canvas,z=w.width,m=w.height,z&&m&&(r=0>R,Q=0>W,q=(R-1)*v,u=(W-1)*v,r&&(q-=R*v*2),Q&&(u-=W*v*2),Y=-v/s-q/s-Y*R/s,O=-v/s-u/s-O*W/s,0>U&&(Y+=L*U),
0>X&&(O+=g*X),z=z*Math.abs(R)/s,s=m*Math.abs(W)/s,r||Q?(c.save(),r&&(Y-=L*R*V.px),Q&&(O-=g*W*V.py),c.scale(r?-1:1,Q?-1:1),c.drawImage(w,Y,O,z,s),c.restore()):c.drawImage(w,Y,O,z,s)));h&&(s=L*U,g*=X,c.beginPath(),c.globalAlpha=1,c.globalCompositeOperation="source-over",c.lineWidth=1,c.shadowOffsetX=1,c.shadowOffsetY=1,c.rect(0,0,s,g),"dark"===t.theme?(c.shadowColor="#000",c.strokeStyle="#fff"):(c.shadowColor="#fff",c.strokeStyle="#000"),c.stroke());c.restore();e&&e()}}else t.debug&&console.error("render.object",
arguments)};f.preload=function(a){a=a||{};var c=a.onprogress,b=a.onsuccess,e=a.chunkBatch||!1,p=a.fromPeer||!1;if(d.__preloading)b&&b();else if(a=d.scene.children,0===a.length)p&&(f.dirty=!0,f.dirtyPointer=!0),b&&b();else{var l=function(a,k){a.dirtyResource=!1;if(a.error)t.debug&&console.error("object did not load properly",a);else if(k||!1===a)a.error=!0,k&&(console.error(k,a),h.push(k||"Action missing."));c&&c(1-(v-1)/s);--v||(d.__rendering=!1,d.__preloading=!1,e?(f.chunkBatch=!0,f.scene({from:"render.preload",
onsuccess:b})):f.scene({from:"render.load",onsuccess:b}),p&&(f.dirtyPointer=!0),h.length&&g.ui.log(h[0]))},h=[],s=a.length,v=s;d.__rendering=!0;d.__preloading=!0;d.scene.sort();for(var m=0;m<s;m++){var z=a[m];z.error?l(z):z.render&&!z.dirtyResource?l(z):k.ensureToolkit(z)?z.toolkit.loadResource({object:z,useLoader:!p,onerror:function(a,c){l(a,c||"Resource missing")},onsuccess:function(a){l(a)},onprogress:function(a){console.log(a)}}):l(z,"Missing \u201c"+z.type+"\u201d toolkit")}}};f.cache=new g.module.SceneRenderCache(g,
d,f);f.getGLFX=function(a){return f.glfx||(f.glfx=glfx.applyShader(a||A.Canvas()))}};"object"===typeof module&&module.exports&&(module.exports=r.module.SceneRender)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.SceneRenderCache=function(g,d,m){function q(e,k){if(g.gl&&e.ctx){var f=e.ctx,p=window.glfx&&c.webgl,l=g.gl.ColorMatrix&&"image"===e.type,h=l&&p,y=e.filter;if(y)h&&y[0]&&(l=y[0],h=l.length-1,"colorMatrix"===l[h].id?l[h]=b(e):l.push(b(e)));else if(l){if(0===e.tint&&0===e.temperature&&0===e.brightness&&0===e.contrast&&1===e.exposure&&1===e.saturation&&0===e.hue)return;if(h)y=e.filter=[[{cmd:"input",id:"source0",name:"colorMatrix",enabled:!0},b(e)]];else{g.gl.ColorMatrix.setFilter(e).apply(f);
return}}else return;var h=d.pixelRatio,q=d.zoom,B=m.cache.padding,A=2*B,l=e.ctx.canvas,r=e.bbox,I=r.rotate*t.DEG_RAD,E=r.scale.x,D=r.scale.y,H=r.height,P=Math.abs(r.width*E)*h||1,K=Math.abs(H*D)*h||1,H=P+A*h>>0,A=K+A*h>>0,J=P/2,N=K/2,E=0>E,D=0>D;if(e.useBackgroundOverlay){var S=r.x*h,r=r.y*h;E&&(S-=P);D&&(r-=K);f.save();f.globalCompositeOperation="source-atop";f.fillStyle=d.backgroundRaw;f.fillRect(0,0,H,A);f.translate(B,B);I&&(f.translate(J,N),f.rotate(-I),f.translate(-J,-N));f.translate(-S,-r);
f.scale(1/q,1/q);f.drawImage(a.layer0,0,0);f.restore()}if(p&&Array.isArray(y)){var Q,p=m.getGLFX(l);p.source=l;p.pixelRatio=h;p.viewport(0,0,H,A);p.setFilter(y);p.render(function(){Q?Q():k&&k(e)});(y=p.getComposite())?(f.clearRect(0,0,l.width,l.height),f.drawImage(y,0,0)):Q=function(){e.dirtyCache=!0;m.dirty=!0}}}}function b(a){return{cmd:"shader",id:"colorMatrix",enabled:!0,data:[void 0,a.tint,a.temperature,a.brightness,a.contrast,a.exposure,void 0,void 0,a.saturation,void 0,a.hue]}}var h=this,f=
g.feature,a=d.contexts,c=g.client,l=g.detect,A=g.dom,t=g.util,e=g.vector,p=e.Shape,k=h.data={};h.enabled=f.cache2D;h.padding=f.cache2DPadding;h.dump=function(){for(var a in k)console.image(k[a].canvas)};h.reset=function(){k=h.data={}};h.clean=function(a){var c=k[a];c&&c.canvas&&!--c.copies&&(delete k[a],f.debugCache&&(A.$(f.debugCache)||document.body).removeChild(c.canvas))};h.getContext=function(a){var c=k[a];if(c)return c.copies++,c;var b=A.Canvas(),c=b.ctx;b.className="cache"+a;c.copies=1;return k[a]=
c};h.add=function(a){if(a&&a.render){var b=d.scene.createHash(a);if(!0!==a.dirtyCache&&k[b])a.dirtyCache=!1,a.dirtyCheck=!1,a.hash!==b&&(h.clean(a.hash),a.ctx=h.getContext(b),a.hash=b,d.scene.getOffset(a));else{a.hash=b;a.ctx=h.getContext(b);a.bbox.scaleCache={x:1,y:1};a.dirtyDimension&&(a.toolkit.updateObjectSize(a),a.dirtyDimension=!1);var b=h.padding,s=d.scene.getOffset(a),m=s.x+b,w=s.y+b,x=a.bbox,b=x.width,s=x.height,y=x.scale.x,r=x.scale.y,B=d.pixelRatio,C=Math.abs(b*y>>0)*B,G=Math.abs(s*r>>
0)*B,I=C+2*m,E=G+2*w;f.cache257&&l.useColorModeCycle[a.type]&&(I=Math.max(257,I),E=Math.max(257,E));var D=a.ctx,H=D.canvas;H.width=Math.min(8192,I||1)>>0;H.height=Math.min(8192,E||1)>>0;f.debugCache&&((A.$(f.debugCache)||document.body).appendChild(H),H.title="idx: "+a.zIndex,H.onclick=function(a){return function(){console.image(H);var c=d.selection.fromObjects([a]);g.exec("debug-layer",c)}}(a));f.debugCache&&(D.lineWidth=2*B,D.strokeStyle="#f00",D.strokeRect(m,w,C,G),D.strokeStyle="#00f",D.strokeRect(0,
0,C+2*m,G+2*w),D.fillStyle="rgba(255,255,0,0.05)",D.fillRect(0,0,I,E));C=x.padding||0;m+=C*y*B;w+=C*y*B;D.save();x=new e.Transform;x.scale(y,r);D.translate(m,w);D.scale(B,B);m=a.background;w=a.border;if(m||w)C=a.padding||{top:0,left:0,right:0,bottom:0},B=-C.left+.5,I=-C.right+.5,C=b*y+I+0-1.5,G=s*r+B+0-1.5,w?(D.beginPath(),p.roundRect(D,B,I,C,G,w.radius),D.lineWidth=w.lineWidth||t.ZERO,c.ctx_lineDash&&(w.lineDash&&D.setLineDash(w.lineDash),w.lineDashOffset&&(D.lineDashOffset=w.lineDashOffset)),D.strokeStyle=
w.color,D.stroke()):(D.beginPath(),p.rect(D,B,I,C,G)),m&&!1!==m.enabled&&(m.type?D.fillStyle=g.style.toContext2D(m,C,G):(D.fillStyle=m.color,console.warn("upgrade")),D.fill());a.render(D,x,!1);D.restore();q(a);a.dirtyCache=!1;a.dirtyCheck=!1}}else f.debug&&a&&"group"!==a.type&&console.warn("missing",arguments)}};"object"===typeof module&&module.exports&&(module.exports=r.module.SceneRenderCache)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.SceneReplicate=function(g,d){function m(a){a=a||f.selection.items;for(var c=f.children,b=[],d=c.length;d--;)a[d]&&b.push(c[d]);if(b.length)return f.copies=f.copyDeep(b),h(),!0}function q(b,p){function k(a){var c=g.assets.getItem(a.src);c&&c.clone&&"clipart"===a.type&&!1===g.feature.cacheSVG?c.clone(function(c){g.assets.add(c.toDataURL(),function(c){a.src=c;l(a)})},!0):l(a)}function l(c){w.push(m.length);f.push(c);x.push(c);a.ensureToolkit(c);c.toolkit.loadResource({object:c,
onerror:s.next,onsuccess:s.next,useLoader:!1})}var h=b.length;if(h){var s=c.pending(h,function(){f.select(w);f.reindex();f.handleSelection();var a=g.feature.io.translateX,c=g.feature.io.translateY;a||c?(f.selection.transform(a,c),f.copy()):d.render.scene("replicate");d.history&&d.history.store({cmd:"add",name:"paste-objects",data:x});p&&p()});f.deselectAll();for(var m=f.children,w=[],x=[];h--;){var y=f.copyDeep(b[h]);f.getById(y.id)&&(b[h].id=y.id=f.createId(),b[h].zIndex=y.zIndex=f.children.length);
var q=y.src;"string"===typeof q&&q.startsWith("#")&&!g.assets.exists(q)&&A[q]?g.assets.add({type:y.type,data:A[q],onerror:s.next,onsuccess:function(a,c){y.src=a;k(y)}}):k(y)}}}function b(){var a=f.stringify(f.copies);event.clipboardData?(event.clipboardData.clearData(),event.clipboardData.setData("application/json",a)):window.clipboardData&&(window.clipboardData.clearData(),window.clipboardData.setData("text",a))}function h(){var a=f.copies;A={};c.setItem("copies",JSON.stringify(a));c.setItem("copies-paths",
JSON.stringify({}));g.save.assets({objects:a,toBlobURL:!0,onsuccess:function(a){c.setItem("copies-paths",JSON.stringify(a))}})}var f=d.scene,a=d.toolkit,c=g.util,l=0,A={},t=f.clipboard={loadCopies:function(){c.getItem("copies",function(a){"object"===typeof a&&(f.copies=a)});c.getItem("copies-paths",function(a){"object"===typeof a&&(A=a)})},enable:function(){t.loadCopies()},disable:function(){}};f.cut=function(a){c.setItem("useNativePaste",!1);a=a||f.selection.items;for(var b=f.children,k=[],l=b.length;l--;)if(a[l]){var g=
b[l];k.push(g);f.shiftAt(l);f.setDirtyPixelData(g);d.render.cache.clean(g.hash)}k.length&&(f.reindex(),f.copies=f.copyDeep(k),h(),f.deselectAll(),d.history&&d.history.store({cmd:"remove",name:"cut-objects",data:f.copyDeep(k).reverse()}));d.emit("cut",f.copies);return f};f.copy=function(a){c.setItem("useNativePaste",!1);m(a)&&d.emit("copy",f.copies);return f};f.paste=function(a){q(f.copies,function(){a&&a(f.copies);d.emit("paste",f.copies)});return f};f.onCutNative=function(a){eventjs.cancel(a);g.exec("object-cut");
b()};f.onCopyNative=function(a){eventjs.cancel(a);g.exec("object-copy");b()};f.onPasteNative=function(a){function b(){s!==l&&(c.setItem("useNativePaste",!0),l=s);c.getItem("useNativePaste",function(a){if(!0===a){if(s){f.deselectAll();for(a=0;a<m.length;a++)d.addMedia(m[a],null,function(){d.setTool("select")});d.emit("paste",f.copies)}}else g.exec("object-paste")})}function k(){--u||b()}if(!d.__rendering&&!g.util.isEditingText()){eventjs.cancel(a);var h;a.clipboardData?h=a.clipboardData:window.clipboardData&&
(h=window.clipboardData);h=h.items||h.files;if(void 0===h||0===h.length)g.client.clipboard=!1,f.paste();else{var m=[],s=0;if(a.msConvertURL)c.Queue({items:h,oncomplete:b,next:function(a,c,b){a instanceof File&&(m.push(a),s+=a.size);this.next()}});else{var u=0;for(a=0;a<h.length;a++){++u;var w=h[a];switch(w.type){case "application/json":w.getAsString(function(a){try{a=JSON.parse(a),f.copies=a,g.exec("object-paste")}catch(c){console.warn(c)}});break;case "text/html":w.getAsString(function(a){g.feature.debug&&
console.warn(a);a.startsWith("blob:")?setTimeout(k,1):-1!==a.indexOf("blob:http%3A//")?setTimeout(k,1):g.convert.htmlToCanvas({html:a,onerror:k,onsuccess:function(c){s+=a.length;m.push(c);k()}})});break;default:if(-1===w.type.indexOf("image")){setTimeout(k,1);break}w=w.getAsFile();m.push(w);s+=w.size;setTimeout(k,1)}}}}}};f.duplicate=function(a){a=a||f.selection.items;c.count(a)&&(m(a),q(f.copies),d.emit("duplicate",a));return f}};"object"===typeof module&&module.exports&&(module.exports=r.module.SceneReplicate)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.SceneSelection=function(g,d,m){function q(c){a.id=c.id;a.idx=c.zIndex;a.item=c}function b(){a.id=void 0;a.idx=void 0;a.item=void 0}function h(a){var c=[],b;for(b in a)(a=m.children[b])&&c.push(a);return c}function f(b){if(null!=b)if(Array.isArray(b)){if(0!==b.length&&null!=b[0])return isFinite(b[0].zIndex)?a.fromObjects(b):c.arrayToObject(b)}else return"number"===typeof b?c.arrayToObject([b]):b}var a=this,c=g.util;a.remove=function(c){m.removeByIdx(a.items,
c);m.deselectAll();return a};a.id=void 0;a.idx=void 0;a.item=void 0;a.length=0;a.items={};a.changed=!1;a.reset=function(){b();a.changed=!0;a.items={};a.length=0;return a};a.select=function(c){var d=m.children[c];d&&(void 0===a.items[c]&&(a.changed=!0,a.items[c]=!0,a.length++),1===a.length?q(d):b());return a};a.setData=function(c){a.reset();for(var b in c)a.select(b);return a};a.deselect=function(c){a.items[c]&&(a.changed=!0,delete a.items[c],a.length--);var d=a.length;if(1===d)for(c in a.items)(d=
m.children[c])&&q(d);else 0===d&&b();return a};a.toggle=function(c){a.items[c]?a.deselect(c):a.select(c)};a.toObjects=function(c,b){c=f(c||a.items);var d=h(c);return b?m.copyDeep(d):d};a.toIDArray=function(c){c=h(f(c||a.items));for(var b=[],d=0;d<c.length;d++)b.push(c[d].id);return b};a.parse=function(a){return f(a)};a.fromObjects=function(a){for(var c={},b=0,e=a.length;b<e;b++)c[a[b].zIndex]=!0;return c};a.fromIDArray=function(a){for(var c={},b=0,e=a.length;b<e;b++){var d=m.getById(a[b]);d&&(c[d.zIndex]=
!0)}return c};a.toArray=function(c){if(Array.isArray(c))return c;c=c||a.items;return Object.keys(c).map(function(a){return parseInt(a)})};a.traverse=function(c){for(var b in a.items){var d=m.children[b];d&&c(d)}};a.getBBox=function(c){c=c||a.items;var b=new g.vector.BBox,d;for(d in c)if(c=m.children[d])if(c=c.trx2D)b.extendTo(c.nw),b.extendTo(c.ne),b.extendTo(c.se),b.extendTo(c.sw);return b.asData()};g.module.SceneTransform(g,d,a);return a};"object"===typeof module&&module.exports&&(module.exports=
r.module.SceneSelection)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Theme=function(g,d){function m(a,c){for(var b in c){var e=c[b],k=b.split("-"),d=k.shift(),k=k.shift()||"";a[b]=q(d,k,e,e.width||a.width,e.height||a.height)}}function q(a,c,b,k,f){var p={};if("svg"===b.type){p.command=b.command;for(var l in b)"title"===l.substr(0,5)&&(p[l]=b[l])}else e.copyInto(b,p,{referenceNodes:!0,filter:function(a,c){return void 0!==c}});p.width=k;p.height=f;p.viewBox=[0,0,k,f];p.type=a;p.render=function(e){var l=e.ctx,h=e.matrix,g=d.zoom;
b.render?b.render({ctx:l,type:a,state:c,matrix:h,control:e.control,object:e.object}):b.svg?(l.save(),h=b.svg.vob,l.scale(k/h.width,f/h.height),b.svg.render(e),l.restore()):b.image?(e=b.image,l.save(),l.scale(h.a,h.d),l.drawImage(e,0,0),l.restore()):isFinite(k+f)&&(l.save(),l.beginPath(),"circle"===p.shape?(e=f/2/g,l.arc(k/2/g,e,e,0,2*Math.PI)):l.rect(0,0,1*k/g,1*f/g),p.lineWidth&&(l.lineWidth=p.lineWidth/g),p.shadowColor&&(l.shadowColor=p.shadowColor),p.shadowOffsetX&&(l.shadowOffsetX=p.shadowOffsetX),
p.shadowOffsetY&&(l.shadowOffsetY=p.shadowOffsetY),p.shadowBlur&&(l.shadowBlur=p.shadowBlur),p.fillStyle&&(l.fillStyle=p.fillStyle,l.fill()),p.strokeStyle&&(l.strokeStyle=p.strokeStyle,l.stroke()),l.restore())};return p}function b(){var a={},c;for(c in A.tools){var b=A.tools[c];b&&b.controls&&(a[c]=h(c,b))}return a}function h(c,b){var d=e.copy(b),p={};p.mouse=f(d.controls.mouse);p.touch=f(d.controls.touch);var l=p.controls={},h=e.copy(z),g;for(g in v){var m=d.controls[g]||(d.controls[g]={}),q;for(q in k){var t=
h[q]||(h[q]={}),t=t[g]||(t[g]=e.copy(h[g]));e.copyInto(m,t)}}for(q in k)if(m=d.controls[q],void 0!=m&&!1!==m){!0===m&&(m=d.controls[q]={});m.focus=m.focus||m.hover||m.normal;m.hover=m.hover||m.normal;e.copyInto(h[q],m,{referenceNodes:!0,filter:function(a,c){return void 0!==c}});for(g in v)e.copyInto(m,m[g],{filter:function(a,c){return void 0===c}});a(l,q,"normal",m);a(l,q,"hover",m);a(l,q,"focus",m)}return p}function f(a){a=a||{};a.padding=isFinite(a.padding)?a.padding:10;a.width=isFinite(a.width)?
a.width:16;a.height=isFinite(a.height)?a.height:16;return a}function a(a,c,b,k){var d=k[b]||k.hover||k.normal||{},f;for(f in k)v[f]||void 0===d[f]&&(d[f]=k[f]);if(e.isEmpty(d))return{};k=d.command;"function"!==typeof k&&(d.command="string"===typeof k?t[k+"Event"]:t.rotateScaleEvent);"normal"===b?a[c]=d:a[c+"-"+b]=d}function c(a,c){e.Queue({items:a,oncomplete:c,next:function(c,b,e){c.src?l(a,c,this.next):this.next()}})}function l(a,c,b){var k=c.src;if(p.__cache[k])a=p.__cache[k],"svg"===a.type?c.svg=
a:c.image=a,b();else if(g.vector.SVG.detect(k))new g.vector.SVG({skipRender:!0,src:k,onerror:b,onload:function(a){p.__cache[k]=a;c.svg=a;b()}});else return e.loadImage({src:k,onerror:b,onsuccess:function(){p.__cache[k]=this;c.image=this;b()}})}var A=g.feature,t=d.toolkit,e=g.util,p;this.getControls=function(a){a=p[a.type]||p[a.toolkitId]||p.defaults||{};return eventjs.isTouch?a.touch:a.mouse||{}};var k={anchor:!0,spinner:!0,n:!0,ne:!0,ne_spinner:!0,ne_spinner_area:!0,e:!0,se:!0,se_spinner:!0,se_spinner_area:!0,
s:!0,sw:!0,sw_spinner:!0,sw_spinner_area:!0,w:!0,nw:!0,nw_spinner:!0,nw_spinner_area:!0},v={normal:!0,hover:!0,focus:!0},z={hover:{lineWidth:1,strokeStyle:"rgba(255,255,255,1)",fillStyle:"#0080C2"},focus:{lineWidth:1,strokeStyle:"rgba(255,255,255,1)",fillStyle:"#0080C2"},normal:{lineWidth:1,strokeStyle:"rgba(255,255,255,1)",fillStyle:"rgba(30,30,30,1)"},anchor:{command:"move",cursor:"default",padding:5,normal:{lineWidth:1,shadowColor:"rgba(255,255,255,0.5)",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:0,
strokeStyle:"rgba(0,0,0,0.75)"},hover:{lineWidth:1,shadowColor:"rgba(255,255,255,0.5)",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:0,strokeStyle:"rgba(0,0,0,0.75)"},focus:{lineWidth:1,shadowColor:"rgba(0,0,0,0.5)",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:0,strokeStyle:"#0080C2"}}};this.create=function(){p={__cache:{}};var a=b();e.Queue({items:a,oncomplete:function(){for(var c in a)p[c]={},p[c].mouse=a[c].mouse,p[c].touch=a[c].touch,m(p[c].mouse,a[c].controls),m(p[c].touch,a[c].controls)},next:function(a,
b,e){c(a.controls,this.next)}})};this.create()};"object"===typeof module&&module.exports&&(module.exports=r.module.Theme)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.SceneTransform=function(g,d,m){var q=d.toolkit,b=g.util,h=m instanceof g.module.Scene,f=m instanceof g.module.SceneSelection,a={};m.transform=function(c,l){var m=c.cache||a,t=c.items||c.ids,e=c.origin,p=c.state,k=c.control,v=c.pointerId,z=c.rotate,s;if(s=c.scale)(s=c.scale,isFinite(s)&&(s={x:s,y:s}),isFinite(s.y)||isFinite(s.x))?isFinite(s.y)?isFinite(s.x)||(s.x=s.y):s.y=s.x:(s.x=1,s.y=1);var u=s,w=c.translate,x=c.absolute,y=isFinite(z)&&0!==z,r=void 0!==
u&&(1!==u.x||1!==u.y),B=void 0!==w&&(0!==w.x||0!==w.y),C=y||r||B;s=d.scene;var G=s.children;"start"===p&&(p="down");if("change"===p||"press"===p)p="move";"end"===p&&(p="up");var I=!p||"down"===p,E=!p||"move"===p||C,D=!p||"up"===p;I&&(m.updated=0,m.origin=e||s.getBoundingOrigin({useSelection:!0,useHovered:!0}),m.deg=0,m.sx=1,m.sy=1,m.x=0,m.y=0);if(E)if(C||I||D)y&&(m.deg+=z),r&&(m.sx*=u.x,m.sy*=u.y),B&&(m.x+=w.x,m.y+=w.y);else return this;var H;if(Array.isArray(t))H=s.selection.fromIDArray(t);else if(t)H=
t;else if(h)H=s.selection.fromObjects(s.children);else if(f)H=s.selection.items;else{console.error("selection undefined");return}var t=[],e=m.origin,P=b.count(H),K;for(K in H)if(H=G[K]){var J=H.bbox,N=q.getFeature(H);if(z&&y&&E&&!1!==H.rotatable&&!1!==N.rotatable){if(x)J.rotate=(z+3600)%360;else{var S=J.width/2*J.scale.x,Q=J.height/2*J.scale.y,L=e.x-S,V=e.y-Q,S=J.x-L,R=J.y-V,Q=z*b.DEG_RAD;J.x=Math.cos(Q)*S-Math.sin(Q)*R+L;J.y=Math.sin(Q)*S+Math.cos(Q)*R+V;J.rotate=(J.rotate+z+3600)%360}H.dirtyTransform=
!0;H.inbounds=void 0;m.updated=!0;H.onrotate&&H.onrotate()}!u||!I&&J.scaleCache||(J.scaleCache={x:1,y:1,px:J.scale.x,py:J.scale.y,mx:J.x,my:J.y});if(u){if(E&&r&&!1!==H.scalable&&!1!==N.scalable){if(x)J.scale.x=u.x,J.scale.y=u.y;else if(1<P){L=(e.x-J.x)*u.x;V=(e.y-J.y)*u.y;if(1===u.y||1===u.x)S=J.width/2*J.scale.x,Q=J.height/2*J.scale.y,L-=(e.x-(J.x+S))*(1-u.y),V-=(e.y-(J.y+Q))*(1-u.x);J.x=e.x-L;J.y=e.y-V;J.scale.x*=u.x;J.scale.y*=u.y;J.scaleCache.x*=u.x;J.scaleCache.y*=u.y}else{J.scale.x*=u.x;J.scale.y*=
u.y;J.scaleCache.x*=u.x;J.scaleCache.y*=u.y;var R=J,S=k,W=R.scale,Q=R.width,L=R.height,V=new g.vector.Transform;V.translate(R.x,R.y);V.scale(W.x,W.y);"objectBoundingBox"===R.units?S=V.point2d(Q/2,L/2):(R={},R.cp=V.point2d(Q/2,L/2),R.nw=V.point2d(0,0),R.ne=V.point2d(Q,0),R.se=V.point2d(Q,L),R.sw=V.point2d(0,L),R.n=V.point2d(Q/2,0),R.e=V.point2d(Q,L/2),R.s=V.point2d(Q/2,L),R.w=V.point2d(0,L/2),S=R[S]||R.cp);V=S.x;R=S.y;S=J.width/2*J.scale.x;Q=J.height/2*J.scale.y;S=J.x+S;L=J.y+Q;V-=S;R-=L;Q=b.DEG_RAD*
J.rotate;W=Math.cos(Q);Q=Math.sin(Q);S=V*W-R*Q+S;R=V*Q+R*W+L;J.x-=S-e.x;J.y-=R-e.y}H.dirtyTransform=!0;H.inbounds=void 0;s.updateConstrain(H);m.updated=!0;H.onscale&&H.onscale()}if(D||H.usePixelData)H.dirtyCheck=!0,J.scaleCache=void 0}w&&B&&E&&!1!==H.movable&&!1!==N.movable&&(x?(J.x=w.x,J.y=w.y):(J.x+=w.x,J.y+=w.y),H.dirtyTransform=!0,H.inbounds=void 0,s.updateConstrain(H),m.updated=!0,H.ontranslate&&H.ontranslate());s.setDirtyPixelData(H);m.updated&&D&&u&&(H.dirtyCheck=!0);t.push(H.id)}if(!1===m.updated)return this;
B&&(e.x+=w.x,e.y+=w.y);d.on.record&&!l&&(C||D||I)&&d.on.record({op:"SCENE_TRANSFORM",data:{state:p,origin:e,control:k,pointerId:v,ids:t,rotate:c.rotate,scale:c.scale,translate:c.translate}});if(d.history&&D&&t.length&&!l){p={};k="";z=0!==m.deg;K=1!==m.sx||1!==m.sy;u=0!==m.x||0!==m.y;p.ids=t;p.origin=e;p.pointerId=v;z&&(k="rotate",p.rotate=m.deg);K&&(k=k?"transform":"scale",p.scale={x:m.sx,y:m.sy});u&&(k=k?"transform":"move",p.translate={x:m.x,y:m.y});if(z||K||u)d.history.store({cmd:"transform",name:k,
data:p},l),d.on.transform&&d.on.transform(p,t);d.on.rotate&&z&&d.on.rotate(p,t);d.on.scale&&K&&d.on.scale(p,t);d.on.translate&&u&&d.on.translate(p,t)}s.updateBBox();return this};m.rotate=function(a,d){d=d||{};return m.transform(b.copyInto({rotate:a},d))};m.flipX=function(a){return m.flip(1,0,a)};m.flipY=function(a){return m.flip(0,1,a)};m.flip=function(a,d,f){f=f||{};return m.transform(b.copyInto({scale:{x:a?-1:1,y:d?-1:1}},f))};m.scaleX=function(a,b){return m.scale(a,1,b)};m.scaleY=function(a,b){return m.scale(1,
a,b)};m.scale=function(a,d,f){f=f||{};return m.transform(b.copyInto({scale:{x:a,y:d}},f))};m.translate=function(a,d,f){f=f||{};return m.transform(b.copyInto({translate:{x:a,y:d}},f))};d.queueHistory&&d.queueHistory.add(function(){d.history.register("transform",function(a,f,h){a=f.ids;var g=f.origin,e=f.rotate,p=f.translate;f=f.scale;var k,v;"number"===typeof f?v=k=f:f&&(k=f.x,v=f.y);var m,s;p&&(m=p.x,s=p.y);h&&(e&&(e=360-e),f&&(k=1/k,v=1/v),p&&(m=-m,s=-s));for(h=0;h<a.length;h++){var u=d.scene.getById(a[h]);
if(u){var q=u.bbox;if(e){var x=g.x-q.width/2*q.scale.x,y=g.y-q.height/2*q.scale.y,r=q.x-x,B=q.y-y,C=e*b.DEG_RAD;q.x=Math.cos(C)*r-Math.sin(C)*B+x;q.y=Math.sin(C)*r+Math.cos(C)*B+y;q.rotate=(q.rotate+e+3600)%360;u.dirtyTransform=!0}f&&(x=(g.x-q.x)*k,y=(g.y-q.y)*v,q.x=g.x-x,q.y=g.y-y,q.scale.x*=k,q.scale.y*=v,u.dirtyCheck=!0,u.dirtyTransform=!0);p&&(q.x+=m,q.y+=s,u.dirtyTransform=!0);u.inbounds=void 0}}})})};"object"===typeof module&&module.exports&&(module.exports=r.module.SceneTransform)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.GenerateMedia=function(g,d){function m(a){var c=a.callback,b=a.ctx,e=b.canvas,d=b.createPattern(e,"repeat");h.io&&h.io.blob?e.toBlob(function(b){b=URL.createObjectURL(b);d.css="url("+b+")";d.data=b;d.id=a.id;c&&c(d)}):(b=e.toDataURL(),d.css="url("+b+")",d.data=b,d.id=a.id,c&&c(d));return d}var q=g.dom,b=g.gen,h=g.client,f=g.util,a=q.Canvas(),c=a.ctx;b.paper=function(a,c){var d=(f.toMetrics||(f.toMetrics=f.getScreenMetrics()))["in>px"],d={notebook:{id:"notebook",
lineStartTop:.85*d,lineHeight:30,lineColor:"#8CA6BD",marginLeft:.85*d,marginColor:"#FF7088",fillColor:"#F8F9B3"},looseLeaf:{id:"looseLeaf",lineStartTop:.85*d,lineHeight:30,lineColor:"#CAEAFB",marginLeft:.85*d,marginColor:"#FF7088",fillColor:"#FAFAFA"},lined:{id:"lined",lineStartTop:-.5,gutter:.25*d,lineHeight:30,lineColor:"#8CA6BD",fillColor:"#FAFAFA"}};a=d[a]||a||d.notebook;a.callback=c;var e=a.grid||0,p=a.gutter||0,k=a.lineStartTop||0,h=a.lineStartLeft||0,d=a.lineHeight||1,g=a.lineColor||"#8CA6BD",
s=a.marginLeft||0,u=a.marginColor||"#C37F9B",w=q.Canvas(1024,1024).ctx;w.fillStyle=a.fillColor||"#fff";w.fillRect(0,0,1024,1024);e&&(w.save(),w.translate(p,p),e=b.grid({size:e,strokeColor:g,fillColor:"none"}),w.fillStyle=e,w.fillRect(0,0,1024,1024),w.restore());e=1024/d;w.save();w.translate(h,k);for(k=0;k<e;k++)w.beginPath(),w.moveTo(0,k*d),w.lineTo(1024,k*d),w.lineWidth=1,w.strokeStyle=g,w.stroke();w.restore();s&&(w.save(),w.beginPath(),w.moveTo(s,0),w.lineTo(s,1024),w.lineWidth=1,w.strokeStyle=
u,w.stroke(),w.restore());a.ctx=w;return m(a)};b.grid=function(a,c){var b={grid:{id:"grid",size:20,strokeColor:"#ddd",fillColor:"#fff"},graphPaper:{id:"graphPaper",size:20,strokeColor:"#BEE0BD",fillColor:"#F0FCE1"},blueprint:{id:"blueprint",size:20,strokeColor:"#2893e0",fillColor:"#0078CF"}};a=b[a]||a||b.grid;var b=a.size||12,e=a.strokeColor||"#000",d=a.fillColor||"#1f1f1f",k=q.Canvas(b,b).ctx;a.callback=c||a.callback;a.ctx=k;k.fillStyle=d;k.fillRect(0,0,b,b);k.moveTo(0,0);k.lineTo(0,b);k.moveTo(0,
0);k.lineTo(b,0);k.lineWidth=1;k.strokeStyle=e;k.stroke();return m(a)};b.interlace=function(b,d){b=b||{};var f={transparent:{id:"transparent",size:12,innerColor:"#fff",outerColor:"#d9d9d9"},transparentDark:{id:"transparentDark",size:12,innerColor:"#000",outerColor:"#1f1f1f"}},e=f.transparent,f=f[b]||f[b.id]||b,p=f.size||e.size,k=f.innerColor||e.innerColor,e=f.outerColor||e.outerColor;a.width=2*p;a.height=2*p;c.fillStyle=k;c.fillRect(0,0,p,p);c.fillStyle=e;c.fillRect(p,0,p,p);c.fillStyle=e;c.fillRect(0,
p,p,p);c.fillStyle=k;c.fillRect(p,p,p,p);if(b.toDataURL)return a.toDataURL();f.callback=d||f.callback;f.ctx=c;return m(f)};b.rangeBar=function(b){b=b||{};b.dash=b.dash||{};g.ui.rangeStyle?f.copyInto(g.ui.rangeStyle,b):b.top=8;a||initCanvas();var h=d.pixelRatio,m=(b.top||0)*h,e=(b.left||0)*h,p=(b.barWidth||233)*h,k=(b.barHeight||6)*h,v=b.fillStyle||"#555",z=b.gradient,s=m+k;b=b.dash;b.height=b.height||4;b.heightSmall=b.heightSmall||3;b.strokeStyle=b.strokeStyle||"#666";b.lineWidth=b.lineWidth||1;b.globalAlpha=
b.globalAlpha||1;b.position=b.position||"top";a.width=p+1;a.height=k+b.height+m;a.style.width=a.width/h+"px";a.style.height=a.height/h+"px";c.clearRect(e,m,p,30);var h=0,u=p-9;c.save();c.beginPath();c.lineWidth=b.lineWidth;c.globalAlpha=b.globalAlpha;var q;q="bottom"===b.position?s-5:m-1;for(var x=b.height,y=b.heightSmall,s=0;s<=u+1;s+=u/10){var r=Math.round(s)+e+4.5,B=h%5?y:x;c.moveTo(r,q);"bottom"===b.position?c.lineTo(r,q+B):c.lineTo(r,q-B);c.strokeStyle=b.strokeStyle;c.stroke();c.beginPath();
h++}c.restore();if(z)for(v=c.createLinearGradient(0,0,p,0),s=0,b=z.length;s<b;s++)v.addColorStop(s/(b-1||1),z[s]);c.fillStyle=v;r=e+.5;c.lineWidth=.25;c.strokeStyle="#000";g.vector.Shape?g.vector.Shape.roundRect(c,r,m,r+p,k,k/2):c.rect(r,m,r+p,k);c.fill();c.stroke();return a}};"object"===typeof module&&module.exports&&(module.exports=r.module.GenerateMedia)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.GeneratePreview=function(g){var d=g.dom,m=g.util,q=g.gen||(g.gen={});q.preview=function(b,h){function f(a,c,b,e){m.thumbnailer({src:a,crop:"edge",width:l,height:q,background:p,croparea:!1,onsuccess:function(a){k?a.toBlob(function(a){b.push({filename:c,blob:a});e()}):(b.push({filename:c,canvas:a}),e())}})}b=b||{};var a=b.pixelRatio||1,c=b.type||"stamp",l=(b.width||52)*a,q=(b.height||52)*a,t=b.oncomplete?[]:{},e=b.oncomplete||function(a){},p=b.background||
"none",k=b.download||!1,a=b.debug||!1;b.src?h=[{filepath:b.src}]:b.resource?h=[{resource:b.resource}]:!h&&g.lib&&(h=g.lib[c].paths);var v=b.canvas||d.Canvas(),z=v.getContext("2d");a&&document.body.appendChild(v);m.Queue({items:h,instant:!1,onprogress:function(a){1<h.length&&console.log("load",a)},oncomplete:function(){k?g.io.zip.encode(t,function(a){g.download.blob(a,c+"-preview.zip")},function(a){console.log("zip",a)}):b.src||b.resource?e(t[0]):e(t)},next:function(a){function e(a){v.width=l;v.height=
q;a.render&&a.render({ctx:z,placement:"crop",width:l,height:q});f(v,p,h,k.next)}var k=this;if(a.filepath&&"#"===a.filepath[0])return this.next();var d=a.filepath?a.filepath:g.lib[c].getSrc(a,{absolute:!0}),p="",h=[];if(b.src||b.resource)t=h;else{var m=d.replace(g.loc.host,"").substr(1).split("/");if(1<m.length){for(var r=[t],p=m.pop();m.length;){var G=m.shift();if(G){var I=r[r.length-1];I[G]||(I[G]=[]);r.push(I[G])}}h=I[G]}else t.length||(t=[]),p=m[0],h=t}p=p.replace("svg","png");switch(c){case "clipart":a.resource?
e(a.resource):new g.vector.SVG({ctx:z,src:d,useCache:isFinite(b.useCache)?b.useCache:!0,onerror:function(c){console.log(c,"error loading svg",a);k.next()},onload:e});break;case "stamp":f(d,p,h,k.next)}}})};q.preview.stamp=function(b,d,f){b=b||{};b.type="stamp";q.preview(b,d,f)};q.preview.clipart=function(b,d,f){b=b||{};b.type="clipart";q.preview(b,d,f)};q.preview.font=q.preview.text=function(b){function h(c,b){f.width=236;f.height=60;f.style.width="300px";f.style.height="50px";a.textAlign="center";
a.textBaseline="middle";a.font="60px '"+c.name+"', Arial, Helvetica";var e=a.measureText(c.name).width,k=g.vector.text.measureTextHeight(c.name,a.font),e=Math.min(f.width/(e+40),f.height/(k+20));1>e&&(a.font=60*e+"px '"+c.name+"', Arial, Helvetica");a.fillStyle="#fff";a.fillText(c.name,f.width/2,f.height/2);f.toBlob(function(a){r.push({filename:c.name+".png",canvas:f,blob:a});b()})}var f=q.canvas||(q.canvas=d.Canvas(1,1)),a=f.getContext("2d"),c=b.download||!1,l=b.oncomplete||function(a){},r=[],t=
[],e=g.lib.text;if(b)t=b.fonts;else for(var p in e.byName){var k=m.copy(e.byName[p]);k.filepath=e.getSrc(k,{absolute:!0});t.push(k)}m.Queue({items:t,oncomplete:function(){c?g.io.zip.encode(r,function(a){g.download.blob(a,"font-preview.zip")}):b.src||b.resource?l(r[0]):l(r)},onprogress:function(a){console.log(a)},next:function(a){var c=this;if(g.vector.text.detectFont(a.name))h(a,c.next);else{var b=m.copy(a);b.family=b.family||b.name;b.timeout=1E3;b.callback=function(b){b&&console.log("missing: "+
a.name);h(a,c.next)};g.vector.text.attach(b)}}})};return q};"undefined"!==typeof module&&module.exports&&(module.exports=r.module.GeneratePreview)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.vector||(r.vector={}),d=g.BBox=function(b){sketch=d.__self||sketch;this.unset();return b?this.path(b):this};d.toRect=function(b){return[{x:b.x1,y:b.y1,cmd:"M"},{x:b.x2,y:b.y1,cmd:"L"},{x:b.x2,y:b.y2,cmd:"L"},{x:b.x1,y:b.y2,cmd:"L"}]};r=d.prototype;r.asData=function(){return{x1:this.x.min,x2:this.x.max,y1:this.y.min,y2:this.y.max}};r.asRect=function(){return d.toRect(this.asData())};r.path=function(b){var d=b.asRect||!1,f=b.convexHull||!1,a=b.expand||0,c=b.matrix||void 0;b=b.data||
b;var l,m=!0;c&&(l=new g.Transform(c),m=g.Transform.isIdentity(c));var q,c=this.x,e=this.y,p,k;if(m)for(var m=0,v=b.length;m<v;m++)switch((q=b[m]).cmd){case "M":q.x<c.min&&(c.min=q.x);q.x>c.max&&(c.max=q.x);q.y<e.min&&(e.min=q.y);q.y>e.max&&(e.max=q.y);p=q.x;k=q.y;break;case "L":q.x<c.min&&(c.min=q.x);q.x>c.max&&(c.max=q.x);q.y<e.min&&(e.min=q.y);q.y>e.max&&(e.max=q.y);p=q.x;k=q.y;break;case "C":this.cubic(p,k,q.x1,q.y1,q.x2,q.y2,q.x,q.y,f);p=q.x;k=q.y;break;case "Q":var z=p+2/3*(q.x1-p),s=k+2/3*
(q.y1-k),u=z+(q.x-p)/3,w=s+(q.y-k)/3;this.cubic(p,k,z,s,u,w,q.x,q.y,f);p=q.x;k=q.y}else for(m=0,v=b.length;m<v;m++)switch((q=b[m]).cmd){case "M":var x=l.point2d(q.x,q.y);x.x<c.min&&(c.min=x.x);x.x>c.max&&(c.max=x.x);x.y<e.min&&(e.min=x.y);x.y>e.max&&(e.max=x.y);p=x.x;k=x.y;break;case "L":x=l.point2d(q.x,q.y);x.x<c.min&&(c.min=x.x);x.x>c.max&&(c.max=x.x);x.y<e.min&&(e.min=x.y);x.y>e.max&&(e.max=x.y);p=x.x;k=x.y;break;case "C":x=l.point2d(q.x,q.y);z=l.point2d(q.x1,q.y1);q=l.point2d(q.x2,q.y2);this.cubic(p,
k,z.x,z.y,q.x,q.y,x.x,x.y,f);p=x.x;k=x.y;break;case "Q":x=l.point2d(q.x,q.y),l.point2d(q.x1,q.y1),z=p+2/3*(x.x1-p),s=k+2/3*(x.y1-k),u=z+(x.x-p)/3,w=s+(x.y-k)/3,this.cubic(p,k,z,s,u,w,x.x,x.y,f),p=x.x,k=x.y}a&&(c.expand(a),e.expand(a));return d?this.asRect():this.asData()};r.cubic=function(b,d,f,a,c,l,g,m,e){var p=this.x,k=this.y;g<p.min&&(p.min=g);g>p.max&&(p.max=g);m<k.min&&(k.min=m);m>k.max&&(k.max=m);if(e)p.extendTo(f),p.extendTo(c),k.extendTo(a),k.extendTo(l);else{e=k.min<=a&&a<=k.max&&k.min<=
l&&l<=k.max;if(!(p.min<=f&&f<=p.max&&p.min<=c&&c<=p.max)){var v=3*b-9*f+9*c-3*g,z=6*f-12*c+6*g,s=3*c-3*g;if(Math.abs(v)<=q)Math.abs(z)>=q&&(s=-s/z,s>q&&1>s&&p.extendToCubic(s,1-s,b,g,f,c));else if(s=z*z-4*v*s,s>=q){var u=Math.sqrt(s),s=(-z+u)/(2*v);s>q&&1>s&&p.extendToCubic(s,1-s,b,g,f,c);s=(-z-u)/(2*v);s>q&&1>s&&p.extendToCubic(s,1-s,b,g,f,c)}}e||(v=3*d-9*a+9*l-3*m,z=6*a-12*l+6*m,s=3*l-3*m,Math.abs(v)<=q?Math.abs(z)>=q&&(s=-s/z,s>q&&1>s&&k.extendToCubic(s,1-s,d,m,a,l)):(s=z*z-4*v*s,s>=q&&(u=Math.sqrt(s),
s=(-z+u)/(2*v),s>q&&1>s&&k.extendToCubic(s,1-s,d,m,a,l),s=(-z-u)/(2*v),s>q&&1>s&&k.extendToCubic(s,1-s,d,m,a,l))))}};r.unset=function(){this.x=new m({min:Infinity,max:-Infinity});this.y=new m({min:Infinity,max:-Infinity})};r.extendTo=function(b){this.x.extendTo(b.x);this.y.extendTo(b.y)};var m=function(b){this.min=b.min;this.max=b.max};m.prototype={extendToCubic:function(b,d,f,a,c,l){b=b*b*b*f+3*b*b*d*c+3*b*d*d*l+d*d*d*a;b<this.min&&(this.min=b);b>this.max&&(this.max=b)},extendTo:function(b){b<this.min&&
(this.min=b);b>this.max&&(this.max=b)},contains:function(b){return this.min<=b&&b<=this.max},expand:function(b){this.min-=b;this.max+=b}};var q=1E-10;"object"===typeof module&&module.exports&&(module.exports=d)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.vector||(r.vector={});g.catmullRomSplineUniform=function(d){Array.isArray(d)&&(d={path:d,getResult:!0});var g=d.ctx||void 0,q=d.getResult||!g;d=d.path||[];var b=[];d[0]&&(q&&b.push({cmd:"M",x:d[0].x,y:d[0].y}),g&&g.moveTo(d[0].x,d[0].y));var h=d.length;if(2>=h)return d;for(var f=0;f<h-1;f++){var a=0===f?d[0]:d[f-1],c=d[f],l=d[f+1],r=f+2<h?d[f+2]:l,t=c.x+(1*l.x-1*a.x)/6,a=c.y+(1*l.y-1*a.y)/6,e=l.x+(1*c.x-1*r.x)/6,c=l.y+(1*c.y-1*r.y)/6,r=l.x,l=l.y;q&&b.push({cmd:"C",x1:t,y1:a,x2:e,
y2:c,x:r,y:l});g&&g.bezierCurveTo(t,a,e,c,r,l)}return b};g.catmullRomSpline=function(d){Array.isArray(d)&&(d={path:d,getResult:!0});if(0===d.amount)return g.catmullRomSplineUniform(d);var m=d.amount||1,q=d.ctx||void 0,b=d.getResult||!q;d=d.path||[];var h=[];d[0]&&(b&&h.push({cmd:"M",x:d[0].x,y:d[0].y}),q&&q.moveTo(d[0].x,d[0].y));var f=d.length;if(2>=f)return d;for(var a=0;a<f-1;a++){var c=0===a?d[0]:d[a-1],l=d[a],r=d[a+1],t=a+2<f?d[a+2]:r;if("C"===l.cmd)var e=l.x1,c=l.y1,p=l.x2,t=l.y2,k=l.x,v=l.y;
else{var p=Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)),k=Math.sqrt(Math.pow(l.x-r.x,2)+Math.pow(l.y-r.y,2)),v=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)),e=Math.pow(p,m),p=Math.pow(p,2*m),z=Math.pow(k,m),k=Math.pow(k,2*m),s=Math.pow(v,m),v=Math.pow(v,2*m),u=2*p+3*e*z+k,w=2*v+3*s*z+k,x=3*e*(e+z);0<x&&(x=1/x);z=3*s*(s+z);0<z&&(z=1/z);e=(-k*c.x+u*l.x+p*r.x)*x;c=(-k*c.y+u*l.y+p*r.y)*x;p=(v*l.x+w*r.x-k*t.x)*z;t=(v*l.y+w*r.y-k*t.y)*z;k=r.x;v=r.y;0===e&&0===c&&(e=l.x,c=l.y);0===p&&0===t&&(p=
r.x,t=r.y)}b&&h.push({cmd:"C",x1:e,y1:c,x2:p,y2:t,x:k,y:v});q&&q.bezierCurveTo(e,c,p,t,k,v)}return h}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.util;r=r.vector=r.vector||{};(r.Degree=function(b){}).flip=function(b,a,c){return 0>a&&0>c?180+b:0>a?360-b:0>c?540-b:b};var d=r.Point=function(b,a){return{x:b||0,y:a||0}};d.fromArray=function(b){return d(b[0],b[1])};d.clone=function(b){return d(b.x,b.y)};d.equals=function(b,a){return b.x===a.x&&b.y===a.y};d.exists=function(b){return b&&isFinite(b.x+b.y)};d.add=function(b,a){b.x+=a.x;b.y+=a.y;return b};d.subtract=function(b,a){b.x-=a.x;b.y-=a.y;return b};d.dot=function(b,a){return b.x*
a.x+b.y*a.y};d.distance=function(b,a){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)};d.angle=function(b,a,c){b=Math.atan2(a.y-b.y,a.x-b.x);return c?b*g.RAD_DEG:b};d.rotateAt=function(b,a,c){var d=b.x,h=b.y;b.x=a.x+Math.cos(c)*(d-a.x)-Math.sin(c)*(h-a.y);b.y=a.y+Math.sin(c)*(d-a.x)+Math.cos(c)*(h-a.y);return b};d.atRadianDistance=function(b,a,c){return{x:Math.cos(a)*c+b.x,y:Math.sin(a)*c+b.y}};d.atRadianToTime=function(b,a,c,d,h,g){var e=b-c,p=a-d;h*=Math.sqrt(e*e+p*p);b=Math.atan2(d-a,c-b);g&&
(b+=g);return{x:Math.cos(b)*h,y:Math.sin(b)*h}};d.atTimeToRadius=function(b,a,c,d){var h=a.x-b.x,g=a.y-b.y;a=b.x+h*c;b=b.y+g*c;h=Math.atan2(g,h)-1.57079632;return{x:a+Math.cos(h)*d,y:b+Math.sin(h)*d}};d.atTimeOnLine=function(b,a,c){return{x:b.x+(a.x-b.x)*c,y:b.y+(a.y-b.y)*c}};d.atTimeOnQuadratic=function(b,a,c,d){var h=1-d,g=h*h,h=2*h*d;d*=d;return{x:g*b.x+h*a.x+d*c.x,y:g*b.y+h*a.y+d*c.y}};d.nearestOnLine=function(b,a,c,d){var h=c.x-a.x;c=c.y-a.y;var g=h*h+c*c;b=(b.x-a.x)*h+(b.y-a.y)*c;var e=b/g;
d&&(e=Math.max(0,Math.min(1,b/g)));return{time:e,x:a.x+h*e,y:a.y+c*e}};d.toLineDistance=function(b,a,c){var d=c.x-a.x,h=c.y-a.y,g=d*d+h*h;if(0===g)var e=a.x,p=a.y;else e=(b.x-a.x)*d,p=(b.y-a.y)*h,g=(e+p)/g,0>g?(e=a.x,p=a.y):1<g?(e=c.x,p=c.y):(e=a.x+g*d,p=a.y+g*h);d=b.x-e;h=b.y-p;return Math.sqrt(d*d+h*h)};d.lineToLineIntersectionSweep=function(b,a,c,d){return(d.y-b.y)*(c.x-b.x)>(c.y-b.y)*(d.x-b.x)!==(d.y-a.y)*(c.x-a.x)>(c.y-a.y)*(d.x-a.x)&&(c.y-b.y)*(a.x-b.x)>(a.y-b.y)*(c.x-b.x)!==(d.y-b.y)*(a.x-
b.x)>(a.y-b.y)*(d.x-b.x)};d.lineToLineIntersection=function(b,a,c,d){var h=a.y-b.y;a=a.x-b.x;var g=d.x-c.x,e=d.y-c.y;d=a*e-h*g;if(!d)return!1;var p=b.x-c.x;c=b.y-c.y;g=(g*c-e*p)/d;if(0>g||1<g)return!1;c=(a*c-h*p)/d;return 0>c||1<c?!1:{x:b.x+g*a,y:b.y+g*h}};d.inBBox=function(b,a){return b.x>a.x1&&b.y>a.y1&&b.x<a.x2&&b.y<a.y2};d.inRect=function(b,a,c,d){var h=c.x-a.x,g=c.y-a.y,e=d.x-c.x;d=d.y-c.y;a=h*(b.x-a.x)+g*(b.y-a.y);b=e*(b.x-c.x)+d*(b.y-c.y);return 0<a&&a<h*h+g*g&&0<b&&b<e*e+d*d};d.inPolygon=
function(b,a,c){for(var d=!1,h=b.length,g=0,e=h-1;g<h;e=g++){var p=b[g],e=b[e];(p.y<=c&&c<e.y||e.y<=c&&c<p.y)&&a<(e.x-p.x)*(c-p.y)/(e.y-p.y)+p.x&&(d=!d)}return d};d.inPolygonChain=function(b,a,c){for(var l=0,h=0,g=b.length;h<g;h++)d.inPolygon(b[h],a,c)&&l++;return 1===(l&1)};var m=r.Polygon=function(b){};m.clone=function(b){for(var a=[],c=0,d=b.length;c<d;c++){var h=b[c];a.push({cmd:h.cmd||(0===c?"M":"L"),x:h.x,y:h.y})}return a};m.isClockwise=function(b){for(var a=0,c=0;c<b.length;c++)var d=b[c],
h=b[(c+1)%b.length],a=a+(h.x-d.x)*(h.y+d.y);return 0>=a};m.collision=function(b,a){for(var c=b.length,h=0;h<c;h++){var g=b[h];if(d.inPolygon(a,g.x,g.y))return!0}c=a.length;for(h=0;h<c;h++)if(g=a[h],d.inPolygon(b,g.x,g.y))return!0;return m.intersects(b,a)};m.intersects=function(b,a){for(var c=b.length,h=a.length,g=0;g<c;g++)for(var m=b[g],e=b[(g+1)%c],p=0;p<h;p++)if(d.lineToLineIntersection(m,e,a[p],a[(p+1)%h]))return!0;return!1};m.SAT=function(){var b=function(a,c,b){for(var d=0,f=a.length;d<f;d++){var e=
a[d],p=a[(d+1)%f],k=e.x-p.x,e=e.y-p.y;b?k=-k:e=-e;a:{for(var h=0,g=c.length;h<g;h++){var m=c[h];if(0>e*(m.x-p.x)+k*(m.y-p.y)){p=!1;break a}}p=!0}if(p)return!1}return!0};return function(a,c){return b(a,c)&&b(c,a)?!0:!1}}();m.arcSpline=function(b,a,c){for(var h=a.length-1,m=0;m<h;m++){var t=a[(m+0)%h],e=a[(m+1)%h],p=a[(m+2)%h],k=d.atTimeOnLine(t,e,.5),v=d.atTimeOnLine(e,p,.5),z=d.atRadianDistance(k,d.angle(t,e)+90*g.DEG_RAD,1E4),s=d.atRadianDistance(v,d.angle(e,p)+90*g.DEG_RAD,1E4),t=d.distance(t,e)/
2,t=d.distance(k,v)/2;if(z=d.lineToLineIntersection(k,z,v,s))b.fillStyle="#f00",b.fillRect(z.x-10,z.y-10,20,20);0===m&&b.moveTo(k.x,k.y);q(b,e,"#f0f");q(b,k,"#fff");q(b,v,"#ff0");b.arcTo(e.x,e.y,p.x,p.y,c>t?t:c)}b.closePath()};var q=function(b,a,c){b.fillStyle=c;b.fillRect(a.x-5,a.y-5,10,10)};r.Arc=function(b,a,c,h,g){b=d(b,a);b.cp1=d(c,h);b.radius=g;return b};var b=r.Quadratic=function(b,a,c,h){b=d(b,a);b.cp1=d(c,h);return b};b.fromArray=function(b){return{x1:b[0],y1:b[1],x:b[2],y:b[3]}};b.distance=
function(b,a,c,d,h,g){h=b-2*c+h;g=a-2*d+g;b=2*c-2*b;d=2*d-2*a;a=4*(h*h+g*g);h=4*(h*b+g*d);d=b*b+d*d;g=2*Math.sqrt(a+h+d);b=Math.sqrt(a);c=2*a*b;var e=2*Math.sqrt(d),p=h/b;return(c*g+b*h*(g-e)+(4*d*a-h*h)*Math.log((2*b+p+g)/(p+e)))/(4*c)};var h=r.Cubic=function(b,a,c,h,g,m){b=d(b,a);b.cp1=d(c,h);b.cp2=d(g,m);return b};h.fromArray=function(b){return{cmd:"C",x1:b[0],y1:b[1],x2:b[2],y2:b[3],x:b[4],y:b[5]}};h.fromLineSegment=function(b,a,c){var h=d.atTimeOnLine(b,a,1/3);b=d.atTimeOnLine(b,a,2/3);c=c||
d.clone(a);c.cmd="C";c.x1=h.x;c.y1=h.y;c.x2=b.x;c.y2=b.y;return c};h.pointAtTime=function(b,a,c,d,h,g,e,p,k){var m=1-k,z=m*m*m,s=3*k*m*m,m=3*k*k*m;k*=k*k;return{x:z*b+s*c+m*h+k*e,y:z*a+s*d+m*g+k*p}};h.split=function(b,a,c,d,h,g,e,p,k){var m=b+(c-b)*k,z=a+(d-a)*k,s=c+(h-c)*k,q=d+(g-d)*k;h+=(e-h)*k;g+=(p-g)*k;d=m+(s-m)*k;c=z+(q-z)*k;var s=s+(h-s)*k,q=q+(g-q)*k,w=d+(s-d)*k;k=c+(q-c)*k;return[[b,a,m,z,d,c,w,k],[w,k,s,q,h,g,e,p]]};h.splitSegment=function(){return function(b,a,c){c=0+(c-a)/(1-a)*1;a=h.split(b[0].x,
b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,a);b=a[0];a=a[1];c=h.split(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],c);a=c[0];return[b,a,c[1]]}}();h.isFlat=function(b,a){return h.flatness1(b)<=(a||1)};h.flatness1=function(b){var a=d.toLineDistance(b[1],b[0],b[3]);b=d.toLineDistance(b[2],b[0],b[3]);return a>b?a:b};h.nearestTimeOnCurve=function(){var b=function(a,c,l,g,m){if(1E-5>m)return l;var e=l-m,p=l+m,k=h.pointAtTime(c[0].x,c[0].y,c[1].x,c[1].y,c[2].x,c[2].y,c[3].x,c[3].y,e),v=h.pointAtTime(c[0].x,
c[0].y,c[1].x,c[1].y,c[2].x,c[2].y,c[3].x,c[3].y,p),k=d.distance(a,k),v=d.distance(a,v);return 0<=e&&k<g?b(a,c,e,k,m):1>=p&&v<g?b(a,c,p,v,m):b(a,c,l,g,m/2)};return function(a,c){for(var l=0,m=g.INFINITY,q=0;10>q;q++){var e=h.pointAtTime(c[0].x,c[0].y,c[1].x,c[1].y,c[2].x,c[2].y,c[3].x,c[3].y,q/10),e=d.distance(a,e);e<m&&(m=e,l=q/10)}return b(a,c,l,m,1/10.1)}}();h.nearestPointOnCurve=function(b,a){var c=h.nearestTimeOnCurve(b,a),l=h.pointAtTime(a[0].x,a[0].y,a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y,
c),g=d.distance(b,l);return{point:l,distance:g,time:c}};h.toPolyline=function(){var b,a=function(c,l,g){h.isFlat(c,l||.33)||10<++g?b.push(d.clone(c[3])):(c=h.split(c[0].x,c[0].y,c[1].x,c[1].y,c[2].x,c[2].y,c[3].x,c[3].y,.5),a(h.fromArray2(c[0]),l,g),a(h.fromArray2(c[1]),l,g))};return function(c,h){b=[];b.push(d.clone(c[0]));a(c,h,0);return b}}();h.fromArray2=function(b){return[{x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},{x:b[6],y:b[7]}]};(function(){var b=[-.06405689286260563,.06405689286260563,
-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],a=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,
.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872];h.distance=function(c){var d,h,g=0,e=b.length,p=[];for(h=0;3>h;h++)p.push({x:3*(c[h+1].x-c[h].x),y:3*(c[h+1].y-c[h].y)});for(c=0;c<e;c++){d=.5*
b[c]+.5;var k=1-d;h=p;var m=k*k,k=k*d*2,z=d*d;d=m*h[0].x+k*h[1].x+z*h[2].x;h=m*h[0].y+k*h[1].y+z*h[2].y;g+=a[c]*Math.sqrt(d*d+h*h)}return.5*g}})()})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=(r.vector=r.vector||{}).Cubic;r.vector.Path=function(d){this.ctx=d;this.data=[];this.start={x:0,y:0};this.current={x:0,y:0};this.dashIdx=0;this.dashArray=[4,4];this.dashCurve=!1;this.dashRemainder=this.dashOffset=0;this.dashStyle=["#f00","#00f"];this.dashStyleIdx=0;this.dashAdaptive=!1;this.reset=function(){this.dashRemainder=this.dashIdx=0};this.resetPath=function(){this.distance=0;this.data=[];this.reset()};this.moveTo=function(d,g){var b=this.ctx,h=this.getData;b&&b.moveTo(d,
g);h&&this.data.push({cmd:"M",x:d,y:g});this.start.x=d;this.start.y=g;this.current.x=d;this.current.y=g};this.lineTo=function(d,g){for(var b=this.ctx,h=this.getData||!1,f=this.current||{x:0,y:0},a=this.dashArray,c=a.length,l=this.dashIdx,r=f.x,t=f.y,e=d-f.x,p=g-f.y,k=Math.sqrt(e*e+p*p),v=Math.abs(e)>Math.abs(p),z=v?p/e:e/p,s;.1<k;){this.dashRemainder?(s=this.dashRemainder||.01,this.dashRemainder=0):s=a[++l%c]||.01;if(0>(k-=s)){b&&(0===l%2?b.lineTo(d,g):b.moveTo(d,g));break}s=Math.sqrt(s*s/(1+z*z));
v?(0>e&&(s=-s),f.x+=s,f.y+=z*s):(0>p&&(s=-s),f.x+=z*s,f.y+=s);b&&l%2&&b&&(b.moveTo(r,t),b.lineTo(f.x,f.y));h&&(0===this.data.length&&this.data.push({cmd:"M",x:r,y:t}),this.data.push({cmd:"L",x:f.x,y:f.y}));r=f.x;t=f.y}this.dashIdx=l;this.dashRemainder=Math.abs(k);this.current.x=d;this.current.y=g;if(h)return this.data};this.quadraticCurveTo=function(d,g,b,h){var f=this.current;d=f.x+2/3*(d-f.x);g=f.y+2/3*(g-f.y);this.bezierCurveTo(d,g,d+(b-f.x)/3,g+(h-f.y)/3,b,h)};this.bezierCurveTo=function(d,q,
b,h,f,a){var c=this.ctx,l=this.getData||!1,r=this.current||{x:0,y:0},t=this.dashCurve||!1,e=this.dashArray,p=e.length,k=this.dashIdx,v=!0;d=[r.x,r.y,d,q,b,h,f,a];q=r.x;b=r.y;h=r.x;var z,s,r=r.y,u,w=0,x,y,F,B,C,G=0;if(v=this.dashAdaptive){B=g.fromArray2(d);v=g.toPolyline(B,v);B=g.distance(B);s=v[v.length-1];for(u=0;u<v.length;u++)v[u].cmd="L",this.data.push(v[u]);this.distance+=B;this.current.x=s.x;this.current.y=s.y;if(l)return this.data}for(;1>w;){this.dashRemainder?(v=!1,C=this.dashRemainder||.01,
this.dashRemainder=0):(v=!0,C=e[++k%p]||.01);B=w=0;z=h;for(u=r;1>w;w+=.001){s=q-z;u=b-u;B+=Math.sqrt(s*s+u*u);if(B>=C)break;u=1-w;s=u*u*u;x=3*w*u*u;y=3*w*w*u;F=w*w*w;z=q;u=b;q=s*d[0]+x*d[2]+y*d[4]+F*f;b=s*d[1]+x*d[3]+y*d[5]+F*a}G+=B;u=g.split(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],w);d=u[1];u=u[0];v&&(c&&c.moveTo(h,r),l&&0===this.data.length&&this.data.push({cmd:"M",distance:0,x:h,y:r}));c&&k%2&&(c.moveTo(h,r),t?c.bezierCurveTo(u[2],u[3],u[4],u[5],u[6],u[7]):c.lineTo(u[6],u[7]));l&&(t?this.data.push({cmd:"C",
distance:G,x1:u[2],y1:u[3],x2:u[4],y2:u[5],x:u[6],y:u[7]}):this.data.push({cmd:"L",distance:G,x:u[6],y:u[7]}));h=q;r=b}this.dashIdx=k;this.dashRemainder=C-B;this.distance+=G;this.current.x=q;this.current.y=b;if(l)return this.data};this.closePath=function(){var d=this.getData||!1;this.lineTo(this.start.x,this.start.y);d&&this.data.push({cmd:"Z"});this.reset()}};"object"===typeof module&&module.exports&&(module.exports=r.vector.Path)})(sketch);
(function(r){var g=(r.vector=r.vector||{}).Point,d=r.vector.mcMasterSmooth=function(d,b){b=b||3;0===b%2&&b++;var h=b/2>>0,f=d.length;if(f<b)return d;for(var a=0,c=0,l=0;l<b;l++)a+=d[l].x,c+=d[l].y;for(var g=d.slice(0,h),l=h,m=f-h;l<m;l++){var e=d[l];"C"===e.cmd?g.push(e):(l>h&&(a-=d[l-h-1].x,c-=d[l-h-1].y,a+=d[l+h].x,c+=d[l+h].y),g.push({cmd:"L",x:(e.x+a/b)/2,y:(e.y+c/b)/2}))}return g.concat(d.slice(m,f))},m=r.vector.langSimplify=function(d,b,h){b=b||4;h=h||1;var f=d.length-1;if(0>=f)return d;var a=
0,c=0,l=Math.min(b,f),c=c+l,f=f-l,m=[];for(m.push(d[a]);l;){for(var t=d[a],e=d[c],p=0,k=a+1;k!=c;){var v=g.toLineDistance(d[k],t,e),p=Math.max(p,v);if(p>h)break;else k++}p<h?(a=c,m.push(d[a]),l=Math.min(b,f),c+=l,f-=l):(c--,f++)}return m};r.vector.roundPath=function(d,b){var h=Math.pow(10,b||0);d.forEach(function(b){for(var a in b){var c=b[a];isFinite(c)&&(b[a]=Math.round(c*h)/h)}});return d};r.vector.simplify=function(g,b,h){return m(d(g,3),6,1)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r=r.vector||{};var g=function(){return{a:1,b:0,x:0,c:0,d:1,y:0}},d=function(b){return b.a===m.a&&b.b===m.b&&b.c===m.c&&b.d===m.d&&b.x===m.x&&b.y===m.y},m=g(),q=r.Transform=function(b,d){void 0===b?this.matrix=g():isFinite(b.a+b.b+b.c+b.d+b.x+b.y)?this.matrix=d?this.cloneMatrix(b):b:isFinite(b[0]+b[1]+b[2]+b[3]+b[4]+b[5])?this.fromArray(b):this.matrix=g();return this};q.identity=m;q.isIdentity=d;q.getIdentity=g;q.prototype={identity:m,isIdentity:d,getIdentity:g,matrices:[],save:function(){this.matrices.push(this.cloneMatrix(this.matrix))},
restore:function(){this.matrix=this.matrices.pop()||g()},point2d:function(b,d){var f=this.matrix;return{x:f.a*b+f.c*d+f.x,y:f.b*b+f.d*d+f.y}},point2dx:function(b,d,f){var a=this.matrix,c=b[d],l=b[f];b[d]=a.a*c+a.c*l+a.x;b[f]=a.b*c+a.d*l+a.y;return b},flatten:function(b,h,f){if(b){h&&(b=JSON.parse(JSON.stringify(b)));if(b.length){if(!d(this.matrix)){h=0;for(var a=b.length,c;h<a;h++)if(c=b[h])switch(c.cmd){case "M":this.point2dx(c,"x","y");break;case "L":this.point2dx(c,"x","y");break;case "C":this.point2dx(c,
"x","y");this.point2dx(c,"x1","y1");this.point2dx(c,"x2","y2");break;case "Q":this.point2dx(c,"x","y");this.point2dx(c,"x1","y1");break;case "Z":case "z":isFinite(c.x+c.y)&&this.point2dx(c,"x","y")}}f&&(this.matrix=this.getIdentity())}else this.point2dx(b,"x","y");return b}},invert:function(b){b=b||this.matrix;void 0===b.a&&(M=this.cloneMatrix(M));var d=b.a*b.d-b.b*b.c;delete this.matrix;this.combine({a:b.d/d,b:-b.b/d,x:(b.b*b.y-b.d*b.x)/d,c:-b.c/d,d:b.a/d,y:(b.c*b.x-b.a*b.y)/d});return this},transform:function(b,
d,f,a,c,l){var g=this.matrix;this.matrix={a:g.a*b+g.c*d,b:g.b*b+g.d*d,c:g.a*f+g.c*a,d:g.b*f+g.d*a,x:g.a*c+g.c*l+g.x,y:g.b*c+g.d*l+g.y};return this},setTransform:function(b,d,f,a,c,l){this.matrix={a:b,b:d,c:f,d:a,x:c,y:l};return this},rotate:function(b){var d=this.matrix,f=Math.cos(b);b=Math.sin(b);this.matrix={a:d.a*f+d.b*-b,b:d.a*b+d.b*f,c:d.c*f+d.d*-b,d:d.c*b+d.d*f,x:d.x,y:d.y};return this},scale:function(b,d){void 0===d&&(d=b);var f=this.matrix;this.matrix={a:f.a*b,b:f.b*d,c:f.c*b,d:f.d*d,x:f.x,
y:f.y};return this},skew:function(b,d){var f=this.matrix,a=f.a,c=f.b,l=f.c,g=f.d,m=Math.tan(b),e=Math.tan(d);f.a=a+l*e;f.b=c+g*e;f.c=a*m+l;f.d=c*m+g;return this},translate:function(b,d){void 0===d&&(d=0);var f=this.matrix;f.x=f.a*b+f.c*d+f.x;f.y=f.b*b+f.d*d+f.y;return this},combine:function(b){var d=[];if(void 0!==b.matrix)for(var f=0;f<arguments.length;f++)d[f]=arguments[f].matrix;else if("number"===typeof b.a)for(f=0;f<arguments.length;f++)d[f]=arguments[f];else d=b;for(var f=this.matrix,a=[],c=
0;c<d.length;c++)void 0===f?f=d[c]:(a=d[c],f={a:f.a*a.a+f.b*a.c,b:f.a*a.b+f.b*a.d,c:f.c*a.a+f.d*a.c,d:f.c*a.b+f.d*a.d,x:f.a*a.x+f.c*a.y+f.x,y:f.b*a.x+f.d*a.y+f.y});this.matrix=f;return this},clone:function(){return new q(this.cloneMatrix())},cloneMatrix:function(b){b=b||this.matrix;return{a:b.a,b:b.b,c:b.c,d:b.d,x:b.x,y:b.y}},reset:function(){this.matrix=g();return this},fromArray:function(b){this.matrix={a:b[0],b:b[1],c:b[2],d:b[3],x:b[4],y:b[5]};return this},fromString:function(b){this.matrix=b.split(",").map(function(b){return parseFloat(b)});
return this},toString:function(b){b=b||this.matrix;return""+b.a+","+b.b+","+b.c+","+b.d+","+b.x+","+b.y},toArray:function(b){b=b||this.matrix;return[b.a,b.b,b.c,b.d,b.x,b.y]},apply:function(b,d){var f=this.matrix;d?b.transform(f.a,f.b,f.c,f.d,f.x,f.y):b.setTransform(f.a,f.b,f.c,f.d,f.x,f.y);return this}};q.__default=new q;q.cloneMatrix=function(b){return{a:b.a,b:b.b,c:b.c,d:b.d,x:b.x,y:b.y}};"object"===typeof module&&module.exports&&(module.exports=q)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Detect=function(){var g=this;g.addClone=function(d,m){for(var q in g)"object"===typeof g[q]&&g[q][d]&&(g[q][m]=!0)};g.add=function(d,m){var q=g[d]||(g[d]={});if("string"===typeof m)q[m]=!0;else for(;m.length;)q[m.pop()]=!0};g.add("brush",[]);g.add("shape",[]);g.add("media",[]);g.add("utility",["crop","select","zoom"]);g.add("useCacheOnRender",["symbol","clipart","image","paintbrush"]);g.add("useRenderControls","floodfill symbol clipart image select text".split(" "));g.add("useDefaultDim",
["media","shape","text"]);g.add("useNonUniform",["ellipse","rectangle","speechbubble"]);g.add("useNoConfigure","move scissor screenshot select vectorfill zoom".split(" "));g.add("useCacheForOpacity","arrow calligraphy paintbrush pen pencil streamer".split(" "));g.add("useLocalAlpha","chrome crayon fur hair oil pastel shader sketchy spirograph spraypaint stamp web".split(" "));g.add("useColorModeAll",["stamp"]);g.add("useColorModeCycle","calligraphy chrome crayon fur hair pen shader sketchy spirograph spraypaint streamer web".split(" "));
g.add("useCacheOnDraw","calligraphy chrome crayon fur hair oil pastel pen shader sketchy spirograph spraypaint stamp streamer web".split(" "));g.add("useAreaTracker",["paintbrush"]);g.add("useSafeGCO","crayon pen spirograph spraypaint stamp streamer".split(" "));g.add("useStampResource",["crayon","spraypaint","stamp"]);g.add("useSrc",["symbol","clipart","image","spraypaint","stamp"])};"object"===typeof module&&module.exports?module.exports=new r.module.Detect:r.detect=new r.module.Detect})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.addToolkit=function(g,d){if("object"===typeof g&&g.length)for(;g.length;)r.addToolkit(g.shift(),d);else{var m=r.module;m.toolkit=m.toolkit||{};m.toolkit[g]=d}};r.module=r.module||{};r.module.Toolkit=function(g,d){var m=this,q=d.contexts,b=g.detect,h=g.feature,f=g.lang,a=g.net,c=g.util.string,l=g.style,r=g.util,t=g.vector;m.init=function(a){a.toolkitId=a.id;a.gestures=0;a.interval=0;a.rendering=!1;a.device=a.device||{};a.loadObject=function(b){b=a.mergeObjectDefaults(b);a.loadResource({object:b});
return b};a.mergeObjectDefaults=function(b){var c=d.scene.copyProperties(a,d.config[b.type]);return d.scene.copyProperties(a,b,c)};g.module.Listener(a);return a};m.clone=function(a,c){d.config.addClone(c,a);b.addClone(c,a);var k;b.brush[c]&&(k="brush.");b.shape[c]&&(k="shape.");k&&g.addToolkit(k+a,g.module.toolkit[k+c])};m.setTool=function(a){void 0===a&&(a=d.tool.type);"string"===typeof a&&(a={type:a});var b=a.type,c=a.tid,f=a.onsuccess;a=a.onerror;var z=m.getConfig(b);if(z){var s=m.getToolkit(z.toolkitId);
s?(d.tool.disable&&d.tool.disable(),h.style.toGlobals&&l.setGlobalFromObject(z),z=d.tool.type,s.type=b,s.typePrevious=z||b,d[c||"tool"]=s,m.updateDevice(b,function(){h.interactable&&s.enable();h.ui.cursorDefs&&g.ui.setCursor();d.emit("setTool",b);f&&f()},a)):a&&a()}else a&&a()};m.updateDevice=function(a,b,c){if(a=m.getConfig(a)){var f=m[a.toolkitId];f.loadResource?f.loadResource({object:d.scene.copyProperties(f,a,f.device={}),onerror:c,onsuccess:b}):b&&b()}};m.getPointerId=function(b,c){return b?
a.userId+":"+c.pointerId:String(c.pointerId)};m.getPointerUid=function(b,c){return b?a.userId+":"+c.identifier:String(c.identifier)};m.setDefaultConfigure=function(a){var b=m.getConfig(d.tool.type),c;for(c in a){var f=a[c],h=b[c];void 0!==h&&("number"===typeof f?void 0!==h.max?(h.min=f,h.max=f):h.value=f:(h.min=f.min,h.max=f.max))}};(function(){function a(b,c){switch(b){case "int":return Math.round(c);default:return c}}m.setConfig=function(a,b){d.toolkit.setConfigure(b,d.config[a]);d.toolkit.updateDevice(a)};
m.setConfigure=function(a,b){for(var c in a)m.setConfigureProperty(b,c,a[c])};m.setConfigureProperty=function(b,c,d){var f=b.type;if(-1===f.indexOf("gl_")){var s=m.getToolkit(f);if(!s){h.debug&&console.warn("Toolkit unavailable",f);return}if(!s.attributes)return;if(!s.attributes[c]){h.debug&&console.warn("setConfigure:",arguments);return}}f=b[c];if(void 0===f){if(!0===b.__config){h.debug&&console.warn("setConfigure:",arguments);return}return b[c]=g.attrs.create(c,d)}if(f.setValue)f.setValue(d);else if(isFinite(f))isFinite(d)?
b[c]=d:isFinite(d.value)&&(b[c]=d.value);else if("string"===typeof f)"string"===typeof d&&(b[c]=d);else if(l&&f instanceof l.Fill){if(d instanceof l.Fill||l.validate(d))b[c]=new l.Fill(d)}else if(l&&f instanceof l.Stroke){if(d instanceof l.Stroke||l.validate(d))b[c]=new l.Stroke(d)}else if(isFinite(f.min+f.max))if(Array.isArray(d)){var s=isFinite(d[0])?d[0]:0,u=isFinite(d[1])?d[1]:0;1===d.length?f.min=f.max=a(f.format,s):2===d.length&&(f.min=a(f.format,s),f.max=a(f.format,u))}else f.min=a(f.format,
d.min),f.max=a(f.format,d.max);else isFinite(f.value)?Array.isArray(d)?(d=isFinite(d[0])?d[0]:0,f.value=a(f.format,d)):isFinite(d.value)?f.value=a(f.format,d.value):isFinite(d)&&(f.value=a(f.format,d)):b[c]=g.attrs.update(c,d,f);return f}})();(function(){function a(b){var c=b.type||"";if(c=0===c.indexOf("gl_")&&c.substr(3)){m.getConfig(b.filter);for(var e in b.params){var k=b.params[e],f=d.render.glfx;if(f&&f.activeFilter){var p=glfx.filters[c],h=p.paramIndex[e];switch(p.param[h].format.replace(")",
"").split("(")[0]){case "int":k=Math.round(k)}f.activeFilter.data[h]!==k&&(f.activeFilter.data[h]=k,glfx.animationId||glfx.render());g.histogram&&g.histogram.enabled&&g.histogram.createAnalyze();d.render.glfx.activeItem&&(d.render.glfx.activeItem.dirtyCache=!0,d.render.scene("setGLData"))}}return!0}}function c(a,b){var e={};e[a]=b;return e}function k(a,b,e){switch(typeof a){case "string":return a={},a.filter=d.tool.type,a.params=c(a,b),a.selection=e,a;case "object":return"string"===typeof a.param?
(a.params=c(a.param,a.value),a):"object"!==typeof a.params?{params:a}:a;default:console.warn("invalid params",a)}}d.setParam=d.setParams=function(c){if((c=k(c))&&!a(c)){var f=c.cache||{},p=c.param,l=c.params,g=d.selection.toObjects(c.selection||d.scene.selection.items),q=c.filter||"",y=!f.state||"start"===f.state,t=!f.state||"end"===f.state;c=[];for(var B=[],C=g.length,G=0,I=0,E,D=0;D<g.length;D++){var H=g[D],P=H.type;if(!q||P===q){E=void 0===E?P:E;E!==P&&(E=!1);var P={id:H.id},K={id:H.id},J;t&&(J=
!1);for(var N in l){var S=l[N],Q="data"+H.id+N;y&&(f[Q]=r.copy(H[N]));m.setConfigureProperty(H,N,S);H.toolkit&&(H.dirtyCheck=!0,H.toolkit.updateObjectSize(H),I++);f[Q]!==H[N]&&(P[N]=f[Q],K[N]=H[N],t&&(d.scene.setDirtyPixelData(H),J=!0))}c.push(P);B.push(K);t&&J&&G++}}g=E||q||d.tool.type;if(!1!==E||0===C){if(E=m.getConfig(g))for(N in l)m.setConfigureProperty(E,N,l[N]);t&&d.tool.type&&m.updateDevice(d.tool.type)}G&&d.history&&(p=p?m.getParamProperName(p):"Object",d.history.store({cmd:"update",name:"Update "+
p,data:{from:c,to:B}}));d.on.record&&d.on.record({op:"SCENE_UPDATE",data:B});if(I)if(h.ui.bruteForce)d.render.dirtyControls=!0,d.render.dirty=!0;else{var L=!!b.useLocalAlpha[g];1<I&&(L=!0);clearTimeout(f.interval);f.interval=setTimeout(function(){if(!L||L&&t)d.render.dirtyControls=!0,d.render.dirty=!0},75)}}}})();(function(){var a={visible:"visibility"};m.getParamProperName=function(b){return c.ucwords(a[b]||b)}})();m.setType=function(a,c){c=c||d.selection.items;var k=r.count(c);if(0===k)return d.setTool({type:a.replace(" ",
"_")});var h=[],l=[],g=m.getToolkit(a),q=m.getConfig(a),q=d.scene.copyAttributes(g.attributes,q),w=function(b,c){b.dirtyCheck=!0;g.updateObjectSize(b);--k||(d.history&&d.history.store({cmd:"update",name:f.translate("convert-format",f.translate(a)),data:{from:h,to:l}}),d.render.dirtyControls=!0,d.render.dirty=!0)},x;for(x in c){var y=d.scene.children[x];if(y){if(b.shape[y.type]){if(!b.shape[a]){k--;continue}}else if(b.brush[y.type]){if(!b.brush[a]){k--;continue}}else{k--;continue}(g=y.toolkit)?("arrow"===
a&&(q.curved=y.data&&2===y.data.length?!1:!0),h.push(d.scene.copyAttributes(g.sattributes,y,{id:y.id,type:y.type})),l.push(d.scene.copyAttributes(g._attributes,q,{id:y.id,type:y.type=a})),void 0===q.spacing&&delete y.spacing,q.fill?q.fill=y.fill:delete y.fill,q.stroke?q.stroke=y.stroke:delete y.stroke,d.scene.copyAttributes(g.attributes,q,y),g.loadResource({object:y,onerror:w,onsuccess:w})):k--}else k--}};m.setup=function(){var a=g.module,c={},k;for(k in d.config){var f=d.config[k].toolkitId,l=!r.exists("sketch.module.toolkit."+
f);a.toolkit[f+"."+k]?b.add(f,k):t.Shape[k]?b.add(f,k):-1===k.indexOf(".")&&"media"===f&&m.media&&(0===k.indexOf("gl_")?window.glfx&&b.add(f,k):b.add(f,k));if(!l&&!c[f]){c[f]=!0;b.add(f,k);l=new a.toolkit[f](g,d);l.type=f;l.draw=q.draw.ctx;l.cache=q.cache.ctx;l.active=q.active.ctx;l.ctx=q.layer0.ctx;l.updateObjectSize=l.updateObjectSize||function(a,b){b&&b(a)};if(b.useDefaultDim[f]){var s=h.tools[f];l.units=s.units||l.units;l.minWidth=s.minWidth||l.minWidth;l.minHeight=s.minHeight||l.minHeight;l.maxWidth=
s.maxWidth||l.maxWidth;l.maxHeight=s.maxHeight||l.maxHeight;l.defaultWidth=s.defaultWidth||l.defaultWidth;l.defaultHeight=s.defaultHeight||l.defaultHeight}m[f]=l}}};m.getConfig=function(a){var b=d.config[a];if(b)return b;h.debug&&console.warn("missing configure",a)};m.getConfigFallback=function(a){a=a||d.tool.type;return d.selection.item||d.config[a]||window.glfx&&window.glfx.config[a]||{}};m.getToolkit=function(a){if(a=m.getToolkitId(a))return m[a]};m.getToolkitId=function(a){if(m[a])return a;if(b.shape[a])return"shape";
if(b.brush[a])return"brush";if(b.media[a])return"media"};m.getFeature=function(a){a=a||{};var b=h.tools;return b[a.type]||b[a.toolkitId]||{}};m.ensureToolkit=function(a){if(a.toolkit)return a.toolkit;var b=m.getToolkit(a.type);if(b)return a.toolkit=b};m.getToolkitDevice=function(a){return(a=m.getToolkit(a))&&a.device};m.exists=function(a){return(a=d.config[a])&&m[a.toolkitId]};m.applyStyle=function(a,b){var c=m.getBBox(b);if(c){var f=b.fill,h=b.stroke,l=b.shadow;h&&h.enabled&&h.lineWidth&&(a.strokeStyle=
d.getW3CStyle("stroke",a,c.x1,c.y1,c.x2,c.y2,b),a.stroke());f&&f.enabled&&(a.fillStyle=d.getW3CStyle("fill",a,c.x1,c.y1,c.x2,c.y2,b),a.fill());l&&l.enabled&&(a.shadowColor=l.color,a.shadowBlur=l.blur,a.shadowOffsetX=l.x,a.shadowOffsetY=l.y)}else console.error(b)};m.applyStyleToArea=function(a,b,c){if(b.useAreaTracker&&!d.render.highRes){var f=c.x1,h=c.x2,l=c.y1;c=c.y2;a.globalAlpha=1;a.globalCompositeOperation="source-atop";a.fillStyle=d.getW3CStyle("fill",a,f,l,h,c,b);a.fillRect(f,l,h-f,c-l)}};m.getBBox=
function(a){var b=((a.diameter||0)+(a.lineWidth||0)+(a.blur||0))/2;if(a.bbox){var c=a.bbox,d=-c.padding,f=-c.padding;return{x1:d,y1:f,x2:d+c.width,y2:f+c.height}}if(a.lineRecord){if(d=a.path,c=d[0],a=d[1],c&&a){var d=c.x,f=c.y,h=a.x,l=a.y;return{x1:Math.min(d,h)-b,y1:Math.min(f,l)-b,x2:Math.max(d,h)+b,y2:Math.max(f,l)+b}}}else{if(a.calcBBox)return a.calcBBox();if(a.isRecording)return d=a.path,f=d.length,c=a.isGhost?{x1:Infinity,y1:Infinity,x2:-Infinity,y2:-Infinity}:a._bbox||new t.BBox({data:d,expand:b}),
l=d[f-1],d=l.x-b,h=l.x+b,f=l.y-b,l=l.y+b,d<c.x1&&(c.x1=d),f<c.y1&&(c.y1=f),h>c.x2&&(c.x2=h),l>c.y2&&(c.y2=l),a._bbox=c}};m.prepareBrush=function(){var a=this.type;this.isEraser="destination-out"===l.getCompositeNative(this.composite)||"eraser"===a;this.useAreaTracker=b.useAreaTracker[a]&&"color"!==this.fill.type;return this.renderTo=this.ctx};m.getToolGroup=function(a){if(a){a=a.replace("_"," ");var b=g.ui.icons,c;for(c in b){var d=b[c];if(d.children&&(d.children.length&&(d.children=r.arrayToObject(d.children)),
d.children[a]))return c}}};m.getToolIcon=function(a){a=m.getToolGroup(a)||a;var b=g.ui.icons,c;for(c in b)if(a===c)return a=b[c],a.src||a}}})(sketch);
(function(r){r.addToolkit("group",function(g,d){var m=this,q=d.toolkit,b=g.util;this.id="group";this._attributes={opened:!1};var h=b.copy(this._attributes);this.attributes=b.copyInto(g.attrs.__basicObject,h);this.enable=function(){};this.disable=function(){};this.loadResource=function(b){var a=b.object;(b=b.onsuccess)&&b(a)};this.createObject=function(b,a){var c=b.object,h=d.scene.addObject({type:m.type,composite:c.composite,opacity:c.opacity,groupId:c.groupId,bbox:c.bbox});if(c.children){var g=function(){var b=
q[e++];b?("group"!==b.type&&(b.groupId=c.groupId,c.x&&(b.x=(b.x||0)+c.x),c.y&&(b.y=(b.y||0)+c.y)),d.scene.add(b,g,g)):a&&a(h)},q=c.children,e=0;g()}else a&&a(h)};return q.init(this)})})(sketch);
(function(r){r.addToolkit("select",function(g,d){function m(a,c){if(c)return a.proxy(function(a,e){c(a,e);d.__interacting=!e.pointerEnd;if(e.pointerEnd)b.onDrag(a,e,!0)});console.error("setProxy",arguments)}function q(b){var c=eventjs.metaKey,e=eventjs.shiftKey;c&&a.selection.items[b]?a.deselectByIdx(b):a.selectByIdx(b,!c&&!e);a.handleSelection();f.dirtyControls=!0;f.dirty=!0}var b=this,h=g.feature,f=d.render,a=d.scene,c=d.toolkit,l=g.ui,r=g.util,t=g.vector.Point;g.module.Listener(b);b.id="select";
b.type="select";b.usePreventSelection=!1;b.events={};b.enabled=!1;b.enable=function(a){if(!1===b.enabled){a=a||{};b.usePreventSelection=a.cancelSelection||!1;b.searchParam=a.searchParam||{selectable:!0};b.enabled=void 0===a.events;a=a.events||b.events;var c=b.active.canvas;a.mouseout=eventjs.add({target:c,type:"mouseout",listener:function(){l.tooltip&&l.tooltip.update("")}});a.context=eventjs.add({target:c,type:"contextmenu",listener:b.onContext});a.mousemove=eventjs.add({target:c,type:"mousemove",
listener:b.onCursor,strict:!0});g.keyboard&&g.keyboard.listen(d,a);a.ambiguous=eventjs.proxy.ambiguous({target:c,ongesture:{listener:b.onGesture,maxFingers:2},ondrag:{listener:b.onDrag,maxFingers:1}})}};b.disable=function(){!0===b.enabled&&(b.enabled=!1,eventjs.bulk(b.events,"remove"),l.tooltip&&l.tooltip.update(""))};b.onCursor=function(e){if(!d.__interacting&&"eyeDropper"!==l.colorPicker.state){var k=a.pointInCanvasFromEvent(e);if(!b.on.pointer||!b.on.pointer(k)){var h,g=0;b.usePreventSelection?
h=r.copy(a.controls):(h=a.children.concat(a.controls),g=a.children.length);for(var m=a.findAtPoint({point:k,objects:h,searchParam:b.searchParam,getArray:!0}),q="",w=a.controlHoverArray=[],x=0,y=m.length;x<y;x++){var t=m[x];e=h[t];"button"===e.type&&(w.push(e.id),q+=e.id)}e=m[m.length-1];t=Math.max(0,e-g);g=a.controls[t]||{};h=(e=a.children[e]||a.getById(g.layerId))?e.zIndex:void 0;a.control.id!==q&&(f.dirtyControls=!0,a.control.changed=!0,a.control.id=q);a.controlHover=g;d.tool.coord=k;k=d.hovered;
t=d.selection.idx;void 0===t&&k.item&&c.getFeature(k.item).useHoverFocus&&(t=k.idx);e&&void 0!==h||void 0!==t?e?void 0===k.items[h]&&(k.reset(),k.select(h),c.renderSceneControls(),d.emit("hover",h)):void 0===k.items[t]&&(k.reset(),k.select(t),c.renderSceneControls(),d.emit("hover",t)):k.length&&(k.reset(),c.renderSceneControls(),d.emit("hover"));k=g.title||"";q=g.cursor||"";l.tooltip&&l.tooltip.update(k);l.setCursor(q,e)}}};b.onDrag=function(p,k,g){eventjs.prevent(p);if(2!==k.fingers&&"eyeDropper"!==
l.colorPicker.state){var z=k.pointerStart,s=k.pointerEnd,u=k.pointerMoved,w=eventjs.metaKey,x=eventjs.shiftKey;d.__interacting=k.pointerDown;if(s)var y=b.__idx,r=b.__control;else z&&(y=a.pointInCanvasFromEvent(p),r=a.findAtPoint({point:y,objects:a.controls,searchParam:b.searchParam}),y=b.usePreventSelection?void 0:a.findAtPoint({point:y,objects:a.children,selection:d.selection.items,searchParam:b.searchParam,useFocusPriority:!0}),r=a.controlHover=a.controls[r]||{},b.__idx=y,b.__control=r);if(!b.on.pointer||
!b.on.pointer(k)){if(r.id)if("anchor"===r.id&&d.selection.length){if(s){y=a.pointInCanvasFromEvent(p);y.searchParam=b.searchParam;var y=a.findAtPoint({point:y}),B=a.children[y];if(B){if(d.selection.idx===y){p=Date.now();var C=1E3>p-b.__clickTime,A="text"===B.type;if(h.beta&&"path"===B.type&&(C||h.tools.brush.editByClick)){e(B);return}if(A&&(C||h.tools.text.editByClick)){c.text.show(B);return}if(C){if(!1===u&&h.tools.select.clickToDeselect){a.deselectAll();l.configurePane();f.dirtyControls=!0;f.dirty=
!0;return}}else{b.__clickTime=p;return}}if(!u){q(y);return}}}}else{if(s)return;(B=d.hovered.item)&&B!==d.selection.item&&(a.selectByIdx(B.zIndex,!1),a.handleSelection());if("function"===typeof r.event){m(k,r.event(p));return}}else if(s&&(B=a.children[y])){var I=c.getFeature(B);if(I.usePointInPath){f.dirty=!0;return}}if(g)u?void 0===r.id&&(d.hovered.reset(),d.hovered.select(y),d.emit("hover",y)):q(y);else if(!s||"anchor"!==r.id||u||x||w){g=void 0!==y;var s=d.selection.length,u=c.text&&c.text.dragging,
E=!1;!z||g||!s||x||w||u||(d.__editing&&"text"===d.tool.id&&(E=!0),a.deselectAll(),f.dirtyControls=!0,f.dirty=!0);if(z&&d.selection.items[y]&&!w)return a.handleSelection(),m(k,c.moveEvent());if(!g||x||w){if("select"===d.tool.id&&z)return k.proxy(function(e,k){a:{eventjs.prevent(e);var p=k.pointerStart,h=k.pointerDrag,g=k.pointerEnd,m=k.hasMoved(1),s=eventjs.metaKey;p&&(k.env.scrollLeft=d.scrollLeft,k.env.scrollTop=d.scrollTop,l.tooltip&&l.tooltip.update(""),d.selection.item&&c.text&&c.text.hide());
var v=k.x+(d.scrollLeft-k.env.scrollLeft),q=k.y+(d.scrollTop-k.env.scrollTop),u=k.start,y=Math.min(u.x,v)-.01,z=Math.min(u.y,q)-.01,v=Math.max(u.x,v)+.01,q=Math.max(u.y,q)+.01,y=a.pointsIn("pointInSceneFromCanvas",[t(y,z),t(v,q)]);if(m)m=a.findInRect({rect:y,deselect:s});else if(g){var x=a.findAtPoint({point:a.pointInCanvasFromEvent(e),searchParam:b.searchParam}),m={};m[x]=!s||!d.selection.items[x]}else break a;if(p||h)x=y[0],p=y[1],a.controlSelection={x:x.x+.5,y:x.y+.5,width:p.x-x.x,height:p.y-x.y,
items:m,metaKey:s};else if(g){a.controlSelection=void 0;s=[];p=[];for(x in m)m[x]?s.push(x):p.push(x);d.hovered.reset();d.hovered.select(x);d.emit("hover",x);s.length&&a.selectByIdx(s,!1);p.length&&a.deselectByIdx(p);a.handleSelection();f.dirty=!0}f.dirtyControls=!0}d.__interacting=!k.pointerEnd});if(d.tool.onRecord)return a.deselectAll(),I=c.getFeature(d.tool),k.proxy(function(a,b){if(I.addByDrag){if(E){if(b.pointerStart){E={event:a,self:b};return}if(b.pointerDrag){b.state="down";b.pointerStart=
!0;d.tool.onRecord(E.event,E.self);E=void 0;return}}d.tool.onRecord(a,b);d.__interacting=!b.pointerEnd}else eventjs.prevent(a)})}if(isFinite(y))return q(y),b.__clickTime=Date.now(),m(k,c.moveEvent())}else q(y)}}};b.onGesture=function(a,b){var e=b.state,l=b.env,g=b.scale,m=b.rotation,q=b.x,x=b.y;b.pointerStart&&(l.cache={},l.rotate=0,l.scale=1,l.origin=t(q,x),l.x=q,l.y=x);var y=q-l.x,r=x-l.y,B=g-l.scale,C=m-l.rotate;h.doc.gestureTransform&&d.selection.length?(d.selection.transform({cache:l.cache,state:e,
pointerId:c.getPointerUid(a,b),origin:l.origin,rotate:C,scale:B+1,translate:{x:y,y:r}}),f.dirty=!0,f.dirtyControls=!0,l.rotate=m,l.scale=g):(h.doc.gestureZoom&&d.setZoom(B+1),h.doc.gestureScroll&&d.scrollTo({left:-Math.round(y),top:-Math.round(r),relative:!0,duration:0}));l.x=q;l.y=x};b.onContext=function(a,c){if(!c||"end"!==c.state){eventjs.prevent(a);var e=l.contextMenu.getSelectMenu();e&&(b.events.ambiguous&&b.events.ambiguous.pause(),l.contextMenu.show({at:eventjs.getPageXY(a),menu:e}))}};var e=
function(a){c.setTool({type:"path",onsuccess:function(){c.brush.loadResource({object:a,onsuccess:function(){for(var b=0;b<a.data.length;b++)delete a.data[b].bbox;var b=r.copy(a.data),c=r.copy(a.data),e=d.tool,f=e.device.brush;f.batchRecord=b;f.pathRecord=c;f.ctx=e.ctx;f.active=e.active;f.isEditing=!0;f.isRecording=!0;f.render(a)}})}})};c.init(this)})})(sketch);
(function(r){r.addToolkit("zoom",function(g,d){var m=this,q=g.dom,b=d.orient,h=d.toolkit;m.id="zoom";(function(){var b={};m.enabled=!1;m.enable=function(){if(!1===m.enabled){m.enabled=!0;g.keyboard&&g.keyboard.listen(d,b);var a=q.$("#sk-orientation");a&&a.classList.add("sk-opened");b.gesture=eventjs.add({fingers:2,target:window,type:"gesture",listener:m.onGesture});d.orient.enable()}};m.disable=function(){if(!0===m.enabled){m.enabled=!1;var a=q.$("#sk-orientation");a&&a.classList.remove("sk-opened");
eventjs.bulk(b,"remove");d.orient.disable()}}})();m.onGesture=function(f,a){var c=d.orient.events,h="end"===a.state;"start"===a.state?(c.drag&&c.drag.enabled&&c.drag.remove(),a.startScale=d.zoom,a.__x=a.x,a.__y=a.y):h&&c.drag&&c.drag.add();a.startScale&&a.scale&&(c=eventjs.getBBox(b.canvas),h=d.pixelRatio,b.mouse.x=a.x*h-c.x1,b.mouse.y=a.y*h-c.y1,b.offset.x+=(a.x-a.__x)/d.zoom,b.offset.y+=(a.y-a.__y)/d.zoom,d.orient.setZoom(a.startScale*a.scale),d.orient.render());a.__x=a.x;a.__y=a.y};return h.init(m)})})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.vector=r.vector||{};r=g.Shape=g.Shape||{};var d=Math.PI,m=2*d;r.record=function(){var a;this.data=[];this.save=function(){};this.restore=function(){};this.translate=function(){};this.rotate=function(){};this.scale=function(){};this.beginPath=function(){this.data=[]};this.moveTo=function(b,c){this.data.push(a={cmd:"M",x:b,y:c})};this.lineTo=function(a,b){this.data.push({cmd:"L",x:a,y:b})};this.bezierCurveTo=function(a,b,c,e,d,f){this.data.push({cmd:"C",x1:a,y1:b,x2:c,y2:e,x:d,
y:f})};this.quadraticCurveTo=function(a,b,c,e){this.data.push({cmd:"Q",x1:a,y1:b,x:c,y:e})};this.arcTo=function(a,b,c,e,d){this.data.push({cmd:"A",x1:a,y1:b,x2:c,y2:e,radius:d})};this.closePath=function(){this.data.push({cmd:"Z",x:a.x,y:a.y})};this.stringify=function(){return g.SVGPath.fromVOBPath(this.data)}};r.VOBNode=function(c,d){switch(d.type){case "image":c.drawImage(d.image,d.x,d.y,d.width,d.height);break;case "line":c.moveTo(d.x1,d.y1);c.lineTo(d.x2,d.y2);break;case "polyline":case "polygon":case "path":q(c,
d.data);break;case "ellipse":b(c,d.cx,d.cy,d.rx,d.ry);break;case "circle":b(c,d.cx,d.cy,d.r,d.r);break;case "rect":isFinite(d.rx)?a(c,d.x,d.y,d.width,d.height,d.rx,d.ry):h(c,d.x,d.y,d.width,d.height)}};var q=r.VOBPath=function(a,b){for(var c=b&&b.length,d=0,f;d<c;d++)if(f=b[d])switch(f.cmd){case "M":a.moveTo(f.x,f.y);break;case "L":a.lineTo(f.x,f.y);break;case "Q":a.quadraticCurveTo(f.x1,f.y1,f.x,f.y);break;case "C":a.bezierCurveTo(f.x1,f.y1,f.x2,f.y2,f.x,f.y);break;case "A":a.arcTo(f.x1,f.y1,f.x2,
f.y2,f.radius);break;case "Z":case "z":a.closePath()}};r.VOBPathOffset=function(a,b,c,d){for(var f=b&&b.length,h=0,l;h<f;h++)if(l=b[h]){var g=l.x+c,m=l.y+d;switch(l.cmd){case "M":a.moveTo(g,m);(!(l=b[h+1])||"L"!==l.cmd&&"C"!==l.cmd)&&a.lineTo(g+.01,m+.01);break;case "L":a.lineTo(g,m);break;case "C":a.bezierCurveTo(l.x1+c,l.y1+d,l.x2+c,l.y2+d,g,m)}}};r.VOBPathDebug=function(a,b){for(var c="",d=b.length,f=0,h;f<d;f++)if(h=b[i])switch(h.cmd){case "M":c+="ctx.moveTo("+h.x+","+h.y+");";break;case "L":c+=
"ctx.lineTo("+h.x+","+h.y+");";break;case "Q":c+="ctx.quadraticCurveTo("+h.x1+","+h.y1+","+h.x+","+h.y+");";break;case "C":c+="ctx.bezierCurveTo("+h.x1+","+h.y1+","+h.x2+","+h.y2+","+h.x+","+h.y+");";break;case "A":c+="ctx.arcTo("+h.x1+","+h.y1+","+h.x2+","+h.y2+","+h.radius+");";break;case "Z":case "z":c+="ctx.closePath();"}console.log(c);return c};r.line=function(a,b,c,d,f){a.moveTo(b,c);a.lineTo(d,f)};r.circle=function(a,c,k,d,f){return b(a,c,k,d,d,f)};var b=r.ellipse=function(a,b,c,d,f,h){var l=
.5522847498307936*d,g=.5522847498307936*f,m=b-d,q=c-f;d=b+d;f=c+f;a.moveTo(b,q);h?(a.bezierCurveTo(b-l,q,m,c-g,m,c),a.bezierCurveTo(m,c+g,b-l,f,b,f),a.bezierCurveTo(b+l,f,d,c+g,d,c),a.bezierCurveTo(d,c-g,b+l,q,b,q)):(a.bezierCurveTo(b+l,q,d,c-g,d,c),a.bezierCurveTo(d,c+g,b+l,f,b,f),a.bezierCurveTo(b-l,f,m,c+g,m,c),a.bezierCurveTo(m,c-g,b-l,q,b,q));a.closePath()};r.SVGPath=function(a,b){return q(a,g.SVG.toVOBPath(b))};r.cross=function(a,b,c,d,f){a.moveTo(b,c-f/2);a.lineTo(b,c+f/2);a.moveTo(b-d/2,c);
a.lineTo(b+d/2,c)};r.exmark=function(a,b,c,d){a.moveTo(b+d,c-d);a.lineTo(b-d,c+d);a.moveTo(b+d,c+d);a.lineTo(b-d,c-d)};r.square=function(a,b,c,d,h){f(a,b-d,c-d,b+d,c+d,h)};var h=r.rect=function(a,b,c,d,h,l){f(a,b,c,b+d,c+h,l)},f=r.rectangle=function(a,b,c,d,f,h){a.moveTo(b,c);h?(a.lineTo(b,f),a.lineTo(d,f),a.lineTo(d,c)):(a.lineTo(d,c),a.lineTo(d,f),a.lineTo(b,f));a.closePath()};r.roundRectangle=function(b,c,d,f,h,l,g,m){a(b,c,d,f-c,h-d,l,g,m)};var a=r.roundRect=function(a,b,c,f,h,l,g,m){0>f&&(b-=
f=Math.abs(f));0>h&&(c-=h=Math.abs(h));var q,y,t,B,r,A;"number"===typeof l?(isFinite(g)||(g=l),q=f/2,y=h/2,l>q&&(l=q),g>y&&(g=y),q=y=t=B=l,g=r=A=l=g):(Array.isArray(l)?4===l.length&&(l=[l[0],l[0],l[1],l[1],l[2],l[2],l[3],l[3]]):l=[10,10,10,10,10,10,10,10],q=l[0],y=l[2],t=l[4],B=l[6],g=l[1],r=l[3],A=l[5],l=l[7]);var I=d/4,E=I/2,D=Math.cos(E),H=-d/2,P=H+1*I,K=H+2*I,J=H+3*I,N=H+4*I,S=H+5*I,Q=H+6*I,L=H+7*I;a.moveTo(b+q,c);m?(I*=-1,E*=-1,a.quadraticCurveTo(b+q+Math.cos(H+E)*q/D,c+g+Math.sin(H+E)*g/D,b+
q+Math.cos(H+I)*q,c+g+Math.sin(H+I)*g),a.quadraticCurveTo(b+q+Math.cos(L+E)*q/D,c+g+Math.sin(L+E)*g/D,b+q+Math.cos(L+I)*q,c+g+Math.sin(L+I)*g),a.lineTo(b,c+h-g),a.quadraticCurveTo(b+B+Math.cos(Q+E)*B/D,c+h-l+Math.sin(Q+E)*l/D,b+B+Math.cos(Q+I)*B,c+h-l+Math.sin(Q+I)*l),a.quadraticCurveTo(b+B+Math.cos(S+E)*B/D,c+h-l+Math.sin(S+E)*l/D,b+B+Math.cos(S+I)*B,c+h-l+Math.sin(S+I)*l),a.lineTo(b+f-B,c+h),a.quadraticCurveTo(b+f-t+Math.cos(N+E)*t/D,c+h-A+Math.sin(N+E)*A/D,b+f-t+Math.cos(N+I)*t,c+h-A+Math.sin(N+
I)*A),a.quadraticCurveTo(b+f-t+Math.cos(J+E)*t/D,c+h-A+Math.sin(J+E)*A/D,b+f-t+Math.cos(J+I)*t,c+h-A+Math.sin(J+I)*A),a.lineTo(b+f,c+A),a.quadraticCurveTo(b+f-y+Math.cos(K+E)*y/D,c+r+Math.sin(K+E)*r/D,b+f-y+Math.cos(K+I)*y,c+r+Math.sin(K+I)*r),a.quadraticCurveTo(b+f-y+Math.cos(P+E)*y/D,c+r+Math.sin(P+E)*r/D,b+f-y+Math.cos(P+I)*y,c+r+Math.sin(P+I)*r),a.lineTo(b+y,c)):(a.lineTo(b+f-y,c),a.quadraticCurveTo(b+f-y+Math.cos(H+E)*y/D,c+r+Math.sin(H+E)*r/D,b+f-y+Math.cos(H+I)*y,c+r+Math.sin(H+I)*r),a.quadraticCurveTo(b+
f-y+Math.cos(P+E)*y/D,c+r+Math.sin(P+E)*r/D,b+f-y+Math.cos(P+I)*y,c+r+Math.sin(P+I)*r),a.lineTo(b+f,c+h-A),a.quadraticCurveTo(b+f-t+Math.cos(K+E)*t/D,c+h-A+Math.sin(K+E)*A/D,b+f-t+Math.cos(K+I)*t,c+h-A+Math.sin(K+I)*A),a.quadraticCurveTo(b+f-t+Math.cos(J+E)*t/D,c+h-A+Math.sin(J+E)*A/D,b+f-t+Math.cos(J+I)*t,c+h-A+Math.sin(J+I)*A),a.lineTo(b+B,c+h),a.quadraticCurveTo(b+B+Math.cos(N+E)*B/D,c+h-l+Math.sin(N+E)*l/D,b+B+Math.cos(N+I)*B,c+h-l+Math.sin(N+I)*l),a.quadraticCurveTo(b+B+Math.cos(S+E)*B/D,c+h-
l+Math.sin(S+E)*l/D,b+B+Math.cos(S+I)*B,c+h-l+Math.sin(S+I)*l),a.lineTo(b,c+g),a.quadraticCurveTo(b+q+Math.cos(Q+E)*q/D,c+g+Math.sin(Q+E)*g/D,b+q+Math.cos(Q+I)*q,c+g+Math.sin(Q+I)*g),a.quadraticCurveTo(b+q+Math.cos(L+E)*q/D,c+g+Math.sin(L+E)*g/D,b+q+Math.cos(L+I)*q,c+g+Math.sin(L+I)*g));a.closePath()};r.roundRect2=function(a,b,c,d,f,h,l){d<2*h&&(h=d/2);f<2*h&&(h=f/2);l?(a.moveTo(b+d-h,c),a.arcTo(b,c,b,c+h,h),a.arcTo(b,c+f,b+h,c+f,h),a.arcTo(b+d,c+f,b+d,c+f-h,h),a.arcTo(b+d,c,b+d-h,c,h)):(a.moveTo(b+
h,c),a.arcTo(b+d,c,b+d,c+f,h),a.arcTo(b+d,c+f,b,c+f,h),a.arcTo(b,c+f,b,c,h),a.arcTo(b,c,b+d,c,h));a.closePath()};r.ring=function(a,b,k,f,h,g,m,q){var x=-d/2;g+=x;m+=x;a.arc?(a.arc(b,k,h,g,m,q),x=m,c(g,x)&&(h=b+f*Math.cos(x),x=k+f*Math.sin(x),a.moveTo(h,x)),a.arc(b,k,f,m,g,!q)):(l(a,h,h,h,g,m,q),x=m,c(g,x)&&(b+=f*Math.cos(x),k+=f*Math.sin(x),a.moveTo(b,k)),l(a,h,h,f,m,g,!q));a.closePath()};r.pie=function(a,b,k,f,h,g,m){var q=-d/2;h+=q;g+=q;!1===c(h,g)&&a.moveTo(b,k);a.arc?a.arc(b,k,f,h,g,m):l(a,b,
k,f,h,g,m);a.closePath()};var c=function(a,b){var c=Math.abs((a+m)%m),d=Math.abs((b+m)%m);return c===d},l=function(a,b,c,f,h,l,m){if(m)var w=Math.max(h,l),x=Math.min(h,l)-1E-10;else w=Math.min(h,l)-1E-10,x=Math.max(h,l);var y=(w-x)/d/2;1<Math.abs(y)&&(b-=2*f);h=b+f*Math.cos(w);w=c+f*Math.sin(w);l=b+f*Math.cos(x);x=c+f*Math.sin(x);y=.5<=Math.abs(y)?1:0;m=m?0:1;a.moveTo(b,c);a.lineTo(h,w);q(a,g.SVGPath.arcToBezier(h,w,f,f,0,y,m,l,x));a.closePath()};r.triangle=function(a,b,c,d,f){A(a,b,c,d,3,f)};var A=
r.regularPolygon=function(a,b,c,d,f,h){for(var l=m/f,g=0;g<f;g++){var q=l*(h?f-g:g)+0,y=Math.sin(q)*d+b,q=-Math.cos(q)*d+c;0===g?a.moveTo(y,q):a.lineTo(y,q)}a.closePath()};r.gear=function(a,b,c,f,h,l,g){1>l&&(f*=l);var q=m/h,x=q/4*(g?-1:1);l=f/l;var y=(q-d)/2+q/8;g&&(y+=x);for(var t=0;t<h;t++){var B=q*(g?h-t:t)+y,r=B-3*x,A=B-2*x,I=B-1*x,E=Math.cos(r)*l+b,r=Math.sin(r)*l+c;0===t?a.moveTo(E,r):a.lineTo(E,r);a.lineTo(Math.cos(A)*l+b,Math.sin(A)*l+c);a.lineTo(Math.cos(I)*f+b,Math.sin(I)*f+c);a.lineTo(Math.cos(B)*
f+b,Math.sin(B)*f+c)}a.closePath()};r.star=function(a,b,c,f,h,l,g){1>l&&(f*=l);var q=m/h,x=q/2*(g?-1:1);l=f/l;for(var y=(q-d)/2,t=0;t<h;t++){var B=q*(g?h-t:t)+y,r=Math.cos(B-x)*l+b,A=Math.sin(B-x)*l+c;0===t?a.moveTo(r,A):a.lineTo(r,A);a.lineTo(Math.cos(B)*f+b,Math.sin(B)*f+c)}a.closePath()};r.burst=function(a,b,c,f,h,l,g){var q=g?-1:1,x=m/h,y=x/2*q,t=x/4*q,B=3*t,r=Math.cos(x/4);1>l&&(f*=l);var A=f/l,r=A/r,I=(x-d)/2;1<l&&(I+=d);l=-x*q+I;a.moveTo(Math.cos(l)*f+b,Math.sin(l)*f+c);for(q=0;q<h;q++)l=x*
(g?h-q:q)+I,a.quadraticCurveTo(Math.cos(l-B)*r+b,Math.sin(l-B)*r+c,Math.cos(l-y)*A+b,Math.sin(l-y)*A+c),a.quadraticCurveTo(Math.cos(l-t)*r+b,Math.sin(l-t)*r+c,Math.cos(l)*f+b,Math.sin(l)*f+c);a.closePath()};r.radialBurst=function(a,b,c,f,h,l,g,q){var x=m/l,y=4*g,t=x/4*y,y=x/8*y;g=-d/2+x*g/2;for(var B=0;B<l;B++){var r=x*B+g,A=r-t,I=r-y,E=Math.cos(I)*f+b,I=Math.sin(I)*f+c,D=Math.cos(A)*h+b,A=Math.sin(A)*h+c,H=Math.cos(r)*h+b,r=Math.sin(r)*h+c;a.moveTo(E,I);q?(a.lineTo(E,I),a.lineTo(H,r),a.lineTo(D,
A)):(a.lineTo(D,A),a.lineTo(H,r),a.lineTo(E,I))}a.closePath()};var t=r.spiral=function(a,b,c,f,h,l,g,q){var x=-d/2;l=l/h*m;for(var y=0;y<=h;y++){var t=g?h-y:y,B=Math.pow(f,t/h),r=t*l+x,t=Math.cos(r)*B+b,B=Math.sin(r)*B+c;0!==y||q?a.lineTo(t,B):a.moveTo(t,B)}};r.spirals=function(a,b,c,d,f,h,l,g){for(var q=f;q--;){a.save();a.translate(b,c);a.rotate(q*m/f);a.translate(-b,-c);var y=100*h;t(a,b,c,d*l,y,h,!!g);t(a,b,c,d,y,h,!g,!0);a.closePath();a.restore()}};r.supershape=function(a,b,c,d,f,h,l,g,q,y){h=
h||.001;l=l||-.001;g=g||.001;q=q||.001;for(var t=0;t<=f;t++){var B=(y?f-t:t)*m/f,r=Math.pow(Math.abs(Math.cos(h*B/4)/1),g),A=Math.pow(Math.abs(Math.sin(h*B/4)/1),q),A=Math.pow(r+A,1/l);0===A?B=r=0:(r=1/A*Math.cos(B)*d,B=1/A*Math.sin(B)*d);0===t?a.moveTo(r+b,B+c):a.lineTo(r+b,B+c)}a.closePath()};r.clearPath=function(a,b,c,d,f,h,l,g,m){var q=a.globalCompositeOperation;a.beginPath();a.globalCompositeOperation="destination-out";shape[b](a,b,c,d,f,h,l,g,m);a.fill();a.globalCompositeOperation=q;a.beginPath()};
r.clipPath=function(a,b,c,d,f,h,l,g,m){a.beginPath();shape[b](a,b,c,d,f,h,l,g,m);a.clip()};"object"===typeof module&&module.exports&&(module.exports=r)})(sketch);
(function(r){function g(d,b,h){h.cutout?(d.apply(d,b.concat(!1)),b[3]*=h.cutout,d.apply(d,b.concat(!0))):d.apply(d,b)}var d=r.util;r.addToolkit("shape",function(g,b){function h(a,c,d,e,k,f){a.width=c;a.height=d;f&&(a.scale.x=1,a.scale.y=t.useNonUniform[f]?.5:1);var h=e.x;e=e.y;if(k||f)h-=c/2*a.scale.x,e-=d/2*a.scale.y;c=b.zoom;d=b.pixelRatio;a.x=h-l.x/c/d;a.y=e-l.y/c/d}function f(b,c,d){c=this.bbox;var k=c.width,f=c.height,h=c.scale;c=h.x;var h=h.y,l=0>c,p=0>h,g=k/2*(l?-1:1),m=f/2*(p?-1:1),s=Math.max(k,
f)/2,q=e.toolkit["shape."+this.type];"function"!==typeof q?console.error("shape.renderFast",this):(d&&(l&&(g+=k),p&&(m+=f)),1===c&&1===h?(b.beginPath(),q(b,g,m,s,this)):(b.save(),b.beginPath(),b.scale(c,h),q(b,g,m,s,this),b.restore()),(k=this.fill)&&k.enabled&&k.opacity&&a(b,"fill",c,h,d,this),(k=this.stroke)&&k.enabled&&k.lineWidth&&k.opacity&&(b.lineWidth=k.lineWidth,b.lineJoin=k.lineJoin,b.lineCap=k.lineCap,b.miterLimit=k.miterLimit,a(b,"stroke",c,h,d,this)))}function a(a,c,d,e,k,f){d=f[c];var h=
d.type,l=c+"Style";if("destination-out"===f.composite)a[l]="#000",a[c]();else if("color"===h)a[l]=d.color,a[c]();else{var p=f.bbox;e=p.scale;d=e.x;e=e.y;var g=p.width,p=p.height,m=g,s=p,q=0,v=0;"gradient"!==h||k||(0>d&&(m-=g,q-=g),0>e&&(s-=p,v-=p));"pattern"===h&&"fill"===c?(a.save(),a.scale(d,e),a[l]=b.getW3CStyle(c,a,m,s,q,v,f),a[c](),a.restore()):(a[l]=b.getW3CStyle(c,a,m*d,s*e,q*d,v*e,f),a[c]())}}var c=this,l=b.canvas2d,m=b.contexts,t=g.detect,e=g.module,p=g.net,k=b.render,v=b.scene,z=b.toolkit,
s=g.vector.Point,u=g.feature.tools.shape;c.id="shape";c.units=u.units;c.device={};c._attributes={angle:"number",anticlockwise:"number",coils:"number",cutout:"number",imperfection:"number",m:"number",n1:"number",n2:"number",n3:"number",points:"number",roundness:"number",sides:"number",slope:"number",spread:"number"};var w=d.copy(c._attributes);c.attributes=d.copyInto(g.attrs.__styledObject,w);(function(){var a={};c.enabled=!1;c.enable=function(){!1===c.enabled&&(c.enabled=!0,a.ambiguous=eventjs.proxy.ambiguous({target:m.active,
ongesture:{listener:z.select.onGesture},ondrag:{listener:c.onRecord,maxFingers:c.usePointerMax||d.INFINITY}}),g.keyboard&&g.keyboard.listen(b,a))};c.disable=function(){!0===c.enabled&&(c.enabled=!1,eventjs.bulk(a,"remove"))}})();c.loadResource=function(a){var c=a.object,e=a.onerror,k=a.onsuccess;a=c.type;b.config[a]?b.loadStyle(c,function(){c.dirtyCheck=!0;c.render=f;c.seed=c.seed||d.Random.seed();k&&k(c)}):e&&e(c,a+" unavailable")};c.createObject=function(a,b){var d=a.object,e=d.bbox;e.width!==e.height&&
(e.width>e.height?(e.scale.y=e.height/e.width,e.height=e.width):(e.scale.x=e.width/e.height,e.width=e.height));d=v.addObject(c.mergeObjectDefaults(d));b&&b(d)};c.onRecord=function(a,e){if("eyeDropper"!==g.ui.colorPicker.state){var f=e.state,l=e.pointerDown,m=e.pointerStart,w=e.pointerEnd,r=z.getPointerUid(a,e),A=isFinite(e.shiftKey)?e.shiftKey:eventjs.shiftKey,D=isFinite(e.metaKey)?e.metaKey:eventjs.metaKey,H=!!a,P=H&&b.on.record;b.__interacting=l;H&&(m||w?eventjs.prevent(a):eventjs.cancel(a));l=
k.pointer[r];if(!l||!l.object)if(H&&m)l=k.pointer[r]={},l.isFromBrowser=!0,l.object=v.copyProperties(c,c.device),l.object.id=v.createId({id:r}),c.loadResource({object:l.object});else{console.warn("shape.onRecord - no pointer");return}l.lastModified=Date.now();var K=l.object,J=K.type;m&&(K.pointerId=r,l.env={},l.env.start={x:e.x,y:e.y},l.env.useHighRes=K.useHighRes);if(P){var N;m&&(N=v.copyDeepCompress(v.copyProperties(c,K)));b.on.record({op:"TOOL",data:{config:N,state:f,pointerId:r,point:v.pointInPeerSceneFromCanvas(e),
metaKey:D,shiftKey:A}})}var f=e.start||l.env.start,S=b.zoom,m=(S-1)/S;N=b.scrollLeft*m;var Q=b.scrollTop*m,f={x:f.x/S+N,y:f.y/S+Q},P=!t.useNonUniform[J],m="objectBoundingBox"===c.units||P;N=e.x/S+N-f.x;var L=e.y/S+Q-f.y,S=Math.abs(N),Q=Math.abs(L),V;V=P?Math.sqrt(N*N+L*L):Math.max(S,Q);D=!!D;A=!!A;P?(D=!A,A=!0):D&&(A=!0);D=D?-Math.atan2(N,L)*d.RAD_DEG:0;P=0>N?-1:1;N=0>L?-1:1;!1===A&&(S>Q?N*=Q/S||0:P*=S/Q||0);m&&(P=Math.abs(P),N=Math.abs(N),V*=2);K.isRecording=!0;K.useHighRes=!0;A=K.bbox={width:V,
height:V,rotate:D,units:c.units,scale:{x:P,y:N}};D=v.getConstraint(K,!0);h(A,D.width,D.height,f,m);K.dirtyTransform=!0;K.dirtyCache=K.usePixelData;if(w){k.removePointer(r);K.isRecording=!1;K.useHighRes=l.env.useHighRes;if(u.addByClick)D.tooSmall&&h(A,u.defaultWidth,u.defaultHeight,f,m,J);else if(s.equals(e,e.start))return;c.createObject({object:K},function(a){k.objectToScene(a);H&&b.history&&b.history.store({cmd:"add",name:J,data:[a]},{userId:p.userId})})}k.dirtyPointer=!0}};z.init(this)});var m=
r.vector.Shape;r.addToolkit("shape.ring",function(g,b,h,f,a){var c=d.DEG_RAD,l=a.angle;m.ring(g,b,h,f*(a.cutout||0),f,l.min*c,l.max*c,a.anticlockwise)});r.addToolkit("shape.pie",function(g,b,h,f,a){var c=d.DEG_RAD,l=a.angle;m.pie(g,b,h,f,l.min*c,l.max*c,a.anticlockwise)});r.addToolkit(["shape.circle","shape.ellipse"],function(d,b,h,f,a){var c=a.imperfection;c?(c/=2,m.imperfectCircle(d,b,h,f-c,f+c,42,a.seed)):g(m.circle,[d,b,h,f],a)});r.addToolkit(["shape.square","shape.rectangle"],function(d,b,h,
f,a){var c=a.roundness,l=a.imperfection;if(c){var l=c*Math.max(f,f),c=c*Math.max(f,f),r=a.bbox.scale,t=Math.abs(r.x),r=Math.abs(r.y);t>r?c*=t/r:l*=r/t;a.cutout?(m.roundRect(d,b-f,h-f,2*f,2*f,l,c),m.roundRect(d,b-f*a.cutout,h-f*a.cutout,2*f*a.cutout,2*f*a.cutout,l,c,!0)):m.roundRect(d,b-f,h-f,2*f,2*f,l,c)}else l?m.imperfectRect(d,b-f,h-f,2*f,2*f,l,a.seed):g(m.square,[d,b,h,f],a)});r.addToolkit("shape.triangle",function(d,b,h,f,a){g(m.triangle,[d,b,h,f],a)});r.addToolkit("shape.regularPolygon",function(d,
b,h,f,a){g(m.regularPolygon,[d,b,h,f,Math.round(a.sides)],a)});r.addToolkit("shape.gear",function(d,b,h,f,a){g(m.gear,[d,b,h,f,Math.round(a.sides),a.slope],a)});r.addToolkit("shape.star",function(d,b,h,f,a){g(m.star,[d,b,h,f,Math.round(a.sides),a.slope],a)});r.addToolkit("shape.burst",function(d,b,h,f,a){g(m.burst,[d,b,h,f,Math.round(a.sides),a.slope],a)});r.addToolkit("shape.radialBurst",function(d,b,h,f,a){m.radialBurst(d,b,h,0,f,Math.round(a.sides),a.spread)});r.addToolkit("shape.spiral",function(d,
b,h,f,a){m.spirals(d,b,h,f,Math.round(a.sides),a.coils,1-a.spread/100)});r.addToolkit("shape.supershape",function(d,b,h,f,a){g(m.supershape,[d,b,h,f,a.points,Math.round(a.m),a.n1,a.n2,a.n3],a)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(){var b;b="undefined"===typeof document?new q:document.createElement("canvas");b.ctx=b.getContext("2d");return b}var d=r.util=r.util||{};d.thumbnailer=function(h,f,a){"string"===typeof h&&(h={src:h});var c=h.src,l=h.canvas||g(),r=l.ctx||l.getContext("2d");a=h.onerror||a;f=h.onsuccess||f;var t=h.background;"none"===t&&(t="");var e=h.shadow||!1,p=h.resample||"bicubic",k=h.center||!1;if(c){var v=function(){var a=z.width,c=z.height;if(a||c){var g=d.fitSize(a,c,h),m=g.width,s=g.height,
q=g.ratio,v=g.crop,u=g.croparea;l.width=m;l.height=s;t&&(r.save(),r.rect(0,0,m,s),r.fillStyle=t,r.fill(),r.restore());e&&(r.shadowBlur=e.blur||0,r.shadowOffsetX=e.offsetX||0,r.shadowOffsetY=e.offsetY||0,r.shadowColor=e.color||"transparent");var g=u.x1,E=u.y1,D=u.x2,u=u.y2,a=Math.min(a,D-g),c=Math.min(c,u-E);if("stretch"===v)r.drawImage(z,g,E,a,c,0,0,m,s);else{var v=Math.round(a*q)||1,H=Math.round(c*q)||1,m=Math.round(k?(m-v)/2:0),s=Math.round(k?(s-H)/2:0);if("lanczos"===p&&"undefined"!==typeof b){var P=
z.width/v,K=z.height/H,q=Math.max(P,K)>>0;z=b(z,v,H,q);Math.round(D/P);Math.round(u/K)}r.drawImage(z,g,E,a,c,m,s,v,H)}f&&f(l,z)}else f&&f(l,z),console.error("missing image")},z,s=String(c),u="function"===typeof FlashCanvas;m[s]||u&&"[object]"===s?(z=c,v()):(l.setAttribute("data-src",c),z="undefined"===typeof document?new q.Image:new Image,u?(z.src=c,r.loadImage(z,v,a)):d.loadImage({src:c,image:z,onsuccess:v,onerror:a}));return l}a&&a();console.warn("Thumbnailer",h)};d.fitSize=function(b,d,a){a=a||
{};var c=a.crop||"none",l=a.croparea,g=isFinite(a.width)?a.width:"auto",m=isFinite(a.height)?a.height:"auto",e=a.maxWidth||Infinity,p=a.maxHeight||Infinity,k=a.minWidth||0;a=a.minHeight||0;if(!g&&!e||!m&&!p)return console.error("invalid dimensions");l=Array.isArray(l)?{x1:l[0],y1:l[1],x2:l[2]||b,y2:l[3]||d}:l||{x1:0,y1:0,x2:b,y2:d};b="fit"===c;d=l.x2-l.x1||0;var q=l.y2-l.y1||0,z=d/q;if(0===d||0===q)console.warn("invalid dimensions");else{var s=g,u=m;"auto"===g&&"auto"===m?(s=d,u=q):"auto"===g?s=z*
u:"auto"===m&&(u=1/z*s);s>e&&(s=e,"auto"===m&&(u=1/z*s));u>p&&(u=p,"auto"===g&&(s=z*u));s<k&&(s=k,"auto"===m&&(u=1/z*s));u<a&&(u=a,"auto"===g&&(s=z*u));"none"===c?z=1:(g=s/u<z,z=b&&g||!b&&!g?u/q:s/d);return{crop:c,croparea:l,width:s,height:u,ratio:z}}};var m={"[object HTMLImageElement]":!0,"[object HTMLCanvasElement]":!0,"[object Canvas]":!0};if("object"===typeof module&&module.exports){var q=require("canvas"),b=require("../raster/ResampleLanczos.js");module.exports=d.thumbnailer}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.UI=function(g){function d(d){var k=g.doc,h=q();if(h){f.empty(h);if(a.pane.header)if("select"===k.tool.type)e.addHeader(h,{title:c.translate("select"),right:{icon:"icon-gear",onclick:function(a,b){e.contextMenu.show({at:{element:b.target,align:"top left to bottom left"},menu:e.contextMenu.getSelectMenu()})}}});else{var l=d.replace("gl_","");e.addHeader(h,{title:c.translate(l)})}f.append(h,'<div class="sk-pane-content"></div>');if(h=b())e.ranges={},k.selection.item?
m(d,v(k.selection.item)):window.glfx&&window.glfx.config[d]?m(d,glfx.config[d]):m(d,k.config[d]),g.detect.useNoConfigure[d]&&("select"===d?(f.append(h,'\t\t\t\t\t\t\t<div class="sk-content-info">\t\t\t\t\t\t\t\t<span class="sk-selection-count"></span>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t'),k.scene&&k.scene.updateSelectionInfo()):f.append(h,'\t\t\t\t\t\t\t<div class="sk-content-info">\t\t\t\t\t\t\t\t'+c.translate(d+"-tool-message")+"\t\t\t\t\t\t\t</div>\t\t\t\t\t\t"))}}function m(c,d){var k=b(),f;for(f in d){var p=
d[f];if(p&&p.type&&!p.hidden)switch(p.constructor.type||p.type){case "input":case "number":e.appendTag("Input",k,p);break;case "button":e.appendLineBreak(k);e.appendButton(k,p);break;case "checkbox":e.appendTag("Checkbox",k,p);break;case "clamp":p.onchange=h(d,p);e.appendRange(k,p);break;case "html":e.appendHTML(k,d,p);break;case "palette":if(1===a.palette.version)g.palette.append(k,d);else for(var m in l.methods)d[m]&&!d[m].hidden&&g.palette.createTrigger({container:k,configure:d,paint:d[m],label:m,
title:m});break;case "select":if("blend"===p.label&&(p.selected=l.getCompositeReadable(p.selected),!1===r.gco.__blend||!1===a.style.blend))break;e.appendSelect(k,p);break;case "textarea":e.appendTag("Input",k,p);break;case "filePicker":e.appendFilePicker(k,p);break;case "resource":e.appendResource(k,p);break;case "subtool":e.createSubtool(k,p,d.type);break;case "filter":e.appendFilterStack(k,p)}}}function q(){return f.$("#sk-configure")}function b(){return f.$("#sk-configure .sk-pane-content")}function h(a,
b){return function(c,d){var e=g.doc,k="end"===c.state;if("update"!==c.state){var f=e.selection.items,h=p.isEmpty(f)&&!k;if(!h||void 0===f)if(f=b.param,h=e.toolkit.setConfigureProperty(a,f,c.values))h.getValue&&(h=h.getValue()),e.setParam({cache:c,type:a.type,param:f,value:h}),k&&e.saveSettings()}}}var f=g.dom,a=g.feature,c=g.lang,l=g.style,r=g.client,t=g.util.string,e=g.ui,p=g.util,k=g.ui.vars;(function(){e.media={};e.media.clear="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=";
e.media.get=function(a){var b=e.media[a];return b?b:e.media[a]=g.gen.interlace({id:a})}})();e.refresh=function(a){e.setToolMenu(a,!1);d(a)};e.configurePane=function(){return function(b,c){var k=g.doc;c=!!c;var h=k.toolkit.getConfigFallback(b);if(b=b||h.type){var l;l=c;var p=q();l=null===p?!1:0!==p.offsetWidth||l?!0:!1;if(l)if((l=c)||(l=q(),p=g.doc,h=void 0!==h.id?p.scene.createHash(h,{seed:!0,bbox:!0}):h.type,h===l.getAttribute("sk-hash")?l=!1:(l.setAttribute("sk-hash",h),l=!0)),l){"image"!==b||a.canvas.glfx||
(b="clipart");d(b);if(!k.scene||!k.scene.children){var m=f.$("#sk-configure .sk-configure-header");m&&(k=t.ucwords(b.replace("gl_","").replace(/([A-Z])/g," $1")),m.innerHTML="<span>"+k+"</span>")}g.windows.restore&&setTimeout(g.windows.restore,1)}else a:if(k=b,h=g.doc,(l=h.scene)&&l.children){var s=u.getSubId(),s=(p=h.selection.item)?p[s]:{},v,z;for(m in e.ranges){v=e.ranges[m];if(!v){a.debug&&console.debug("disabled",m);break a}z=void 0;p&&("configure:"===u.pageId?z=p[m]:s&&(z=s[m]));void 0===z&&
(z=l.copyDeepCompress(h.config[k][m]));if(void 0!==z){z=void 0!==z.max?[z.min,z.max]:void 0!==z.value?z.value:z;var r=v.thumbs;2===r.length?(r[0].value!==z[0]&&(r[0].value=z[0],v.update(0,"update")),r[1].value!==z[1]&&(r[1].value=z[1],v.update(1,"update"))):1===r.length&&(z=z[0]||z,r[0].value!==z&&(r[0].value=z,v.update(0,"update")))}}}}}}();var v=function(){var a=p.arrayToObject("reset filePicker subtool resource palette toolkit".split(" "));return function(b){var c=g.doc,d=b.type,e=c.config[d];
if((c=c.toolkit.getToolkit(d))&&c.attributes){var c=c.attributes,d={},f;for(f in e){var h=e[f];if(a[f]||h&&"html"===h.type)d[f]=h;else switch(c[f]){case "string":h instanceof k.Select?(d[f]=h,d[f].setValue(b[f])):d[f]=b[f];break;case "style":h&&(d[f]=new l.create(b[f],f));break;case "clamp":case "number":case "object":h&&h.clone&&(d[f]=h.clone(b[f]))}}b.filter&&(d.filter=new k.FilterStack({filter:b.filter}),delete d.palette);return d}console.warn("undefined toolkit",b);return e}}();e.appendFilePicker=
function(a,b){var d=f.create("div");d.className="sk-file-picker";d.textContent=c.translate("load-your-own-image");a.appendChild(d);g.uploader.addFileInput({target:d,onchange:function(a,c){if(b.onchange)b.onchange(a,c);else g.uploader.onChangeDefault(a,c)}})};e.appendButton=function(a,b){var d=e.createElement("div",b);d.innerHTML=c.translate(b.title);d.classList.add("button");e.addClick(d,b.onclick);a.appendChild(d)};e.createSubtool=function(b,d,k){function h(a){"utility"===m?l.setTool(a):(l.toolkit.setType(a),
e.refresh(a))}var l=g.doc,p=f.create('<div class="sk-subtools"></div>');b.appendChild(p);var m=l.toolkit.getToolGroup(k),s=e.icons[m];if(s)if("list"===a.ui.listTool){b=0;for(var q in s.children)d=f.create('<div class="sk-subtool"></div>'),f.setClass(d,s.children[q]),q===k&&f.setClass(d,"selected"),p.appendChild(d),0===++b%6&&(d.style.borderRight="none"),function(a,b){e.tooltip&&e.tooltip.add(a,b);e.addClick(a,function(){h(b)})}(d,q)}else{p={};for(q in s.children)p[q]='<span class="'+s.children[q]+
' sk-icon"></span> '+c.translate(q);k=new e.SelectMenu({id:"subtool",className:"selectmenu-holder",container:b,selected:k,options:p,onchange:function(a){h(a)}});e.appendLabel(b,k.container,d.title)}};e.appendTag=function(a,b,c){var d=c.label;c=e[a](c);"Checkbox"===a?e.appendLabel(b,c.element,d):e.appendLabel(b,c,d)};e.appendHTML=function(a,b,c){var d=b.type,k=e.createElement("div",c);c.innerHTML&&(k.innerHTML=c.innerHTML);c.construct&&c.construct(k,b,d);a.appendChild(k)};e.appendLabel=function(a,
b,d){var e=f.create("label"),k=f.create("span");k.className="sk-title";k.innerHTML=c.translate(d);e.appendChild(k);e.appendChild(b);e.className="sk-label";a.appendChild(e);return e};e.ensureInstanceOf=function(a,b){return a instanceof b?a:new b(a)};e.appendSelect=function(a,b){var c=g.doc;b=e.ensureInstanceOf(b,k.Select);var d=new e.SelectMenu({id:b.param,className:"selectmenu-holder",container:a,labelIcon:b.labelIcon,options:b.getOptions(),selected:b.selected,tooltip:b.title,onopen:b.onopen,onclose:b.onclose,
onchange:function(a){b.onchange(b.param,a);c.saveSettings()}});e.appendLabel(a,d.container,b.label);return d};e.appendResource=function(a,b){var c=b.format;e.appendLineBreak(a);s(a,b,c)};e.appendLineBreak=function(a){f.append(a,'<div class="sk-break"></div>')};e.ranges={};e.appendRange=function(a,b){function d(a){return 10<g.max?Math.round(a):Math.round(10*a)/10}b=e.ensureInstanceOf(b,k.Range);var h=b.onchange,l=b.asArray(),p=b.param,g=b.clamp;"spacing"===p&&(l=[l[0]]);e.appendLineBreak(a);var m=
f.create("div");m.className="sk-slider";a.appendChild(m);var s=f.create("span");s.className="sk-title";s.innerHTML=c.translate(p);s.setAttribute("data-cmd",p);m.appendChild(s);eventjs.add([m,s,a],"touchdown",eventjs.cancel,{strict:!0});s=f.create("span");s.className="values";m.appendChild(s);for(var q=0;q<l.length;q++)e.Input({type:"text",format:"number",className:"value"+q,container:s,min:g.min,max:g.max,value:d(l[q]),onchange:function(a){var b=parseInt(this.className.substr(5)),c=v.thumbs[b];c.value!==
a&&(c.value=a,v.update(b))}}),l[q+1]&&f.append(s,"<small>/</small>");var v=new e.Range({parent:m,className:"sk-range",value:l.toString(),min:g.min,max:g.max,format:b.format,gradient:b.gradient,canCross:b.canCross,canPush:b.canPush,onchange:function(a,b){f.$(".value"+b.index,a.element.parentNode).value=d(b.value);h&&h(a,b)}});return e.ranges[p]=v};e.setToolMenu=function(){return function(a,b){var d=g.doc;a=a||d.tool.type;var k=d.toolkit.getToolGroup(a);if((d=f.$("[data-tool="+a+"]")||f.$("[data-toolkit="+
k+"]"))&&d.parentNode){if((k=e.icons[k])&&k.children&&(k=k.children[a.replace("_"," ")],!0!==k))if(d.setAttribute("data-tool",a),d.setAttribute("data-title",c.translate(a)),k.startsWith("icon-")){var h=f.$("img",d);h&&(h.src=e.media.get("clear"));if(h=f.$(".sk-icon",d)||d){for(var h=h.classList,l=0;l<h.length;l++){var p=h[l];p.startsWith("icon-")&&h.remove(p)}h.add(k)}}else h=f.$("img",d),h.src=k;!1!==b&&e.domSelectTool(d)}}}();e.addClick=function(a,b){eventjs.add(a,"mousedown",function(a){var b=
document.activeElement;b&&b.blur&&b.blur();eventjs.cancel(a)});eventjs.add(a,"click",b)};e.on_dblclick_setup_tool=function(a,b){g.sidebar.open&&(g.sidebar.opened?e.setPane("configure",{force:!0}):g.sidebar.open())};e.on_click_setup_tool=function(a,b){var c=g.doc;eventjs.prevent(a);var d=b.target,k=e.domParseSkTool(d),f=k.type;k.type&&k.shortcut&&(c.toolkit.getConfig(k.type)||c.toolkit.clone(k.type,k.shortcut));if(c.toolkit.exists(k.type)){if(k.type&&(k.fill||k.stroke)){var h=c.toolkit.getConfig(k.type);
g.style.copyStyles(k,h)}e.setFilterStack(k);g.exec(f,function(){if(k.composite)for(var a=k.composite.split(","),b=0;b<a.length;b++){var f=a[b];if(r.gco[f]){c.setComposite(f);break}}e.domSelectTool(d);g.ui.setPane("configure")},function(){console.warn(f,"error or cancel")})}else g.exec(f,function(){})};e.domSelectTool=function(a){f.setClass({className:"selected",list:f.$$(".sk-toolset .selected"),target:a,on:!0})};e.domParseSkTool=function(a){var b=g.doc,c=a.getAttribute("data-toolFormula");return c?
(a=g.loc.parseQuery(c),b.scene.decompress(a)):{type:a.getAttribute("data-tool")}};e.TSEvents={};e.TSEvents.add=function(a){z("add",a)};e.TSEvents.remove=function(a){z("remove",a)};var z=function(a,b){var d=g.doc;b=b||".sk-toolset";p.each(f.$$(b+" img"),function(b){eventjs[a](b,"mousedown",function(){return!1})});p.each(f.$$(b+" .sk-tool"),function(b){var k=e.domParseSkTool(b).type;if(k){p.each(f.$$(".sk-arrow",b),function(d){var f,h;g.detect.brush[k]?(f="brush",h=c.translate("choose-brush")):g.detect.shape[k]?
(f="shape",h=c.translate("choose-shape")):g.detect.utility[k]?(f="utility",h=c.translate("choose-utility")):g.detect.media[k]&&(f="media",h=c.translate("choose-media"));eventjs[a](d,"mousedown",function(a){eventjs.cancel(a);e.on_click_setup_tool(a,{target:b});e.contextMenu.show({at:{element:b,align:"top left to bottom left"},menu:f})});e.tooltip&&e.tooltip[a](d,h)});if(d.toolkit.getToolkitId(k))eventjs[a](b,"dblclick",e.on_dblclick_setup_tool);eventjs[a](b,"click",e.on_click_setup_tool);e.tooltip&&
e.tooltip[a](b,function(){return b.title||b.getAttribute("data-title")})}})};(function(){function a(){return"undefined"===typeof alertify?console.warn("alertify undefined"):!0}function b(d,e){if(!0===e.skip)return e.callback(!0);"string"===typeof e&&(e={message:e});if(a()){var k="";e.message&&(k=c.translate(e.message),k='<h3 class="alertify-caption">'+k+"</h3>");var f=e.labels||{ok:"ok",cancel:"cancel"};f.ok=c.translate(f.ok||"ok");f.cancel=c.translate(f.cancel||"cancel");f.disregard&&(f.disregard=
c.translate(f.disregard));alertify.dialog(d,{message:k,labels:f,fields:e.fields,verify:e.verify,callback:e.callback})}}e.alert=function(a){b("alert",a)};e.confirm=function(a){b("confirm",a)};e.prompt=function(a){b("prompt",a)};e.success=function(b,c){if(a())return alertify.success(b,c)};e.error=function(b,c){if(a())return alertify.error(b,c)};e.log=function(b,c){if(a())return alertify.log(b,c)}})();e.appendFilterStack=function(a,b){var c=g.doc,d=b.value[0][0],e="gl_"+d.id,k=window.glfx.config[e];
if(k){var f=c.selection.item,h=f&&f.filter&&f.filter[0][0];h&&(d=h);c=c.render.getGLFX();c.activeFilter=d;c.activeItem=f;m(e,k)}};e.setFilterStackFromQuery=function(a){a=g.doc.scene.decompress(g.loc.parseQuery(a));e.setFilterStack(a);g.exec(a.type)};e.setFilterStack=function(a){var b=g.doc,c=b.config[a.type];if(c)if(a.filter){var d=b.toolkit.getToolkit(c.toolkitId);b.scene.copyProperties(d,a,c);c.filter=a.filter;a.fill&&(l.copyStyles(c,l),l.fill.type="color",g.palette.setPaint(l.fill))}else c.filter&&
(delete c.filter,delete c.usePixelData,delete c.useBackgroundOverlay)};var s=function(){function b(a){var c=g.doc.toolkit.getConfigFallback(a),d=g.lib[a];return"text"===a?d.byName[c.fontFamily]:d.byPath[(c.src||"").replace(a+"/","")]}function c(a){var d=g.lib[a],e;for(e in d.tree)break;return(a=b(a))&&a.folder||d.defaultCategory||e}var d={text:"fonts",stamp:"stamps",clipart:"clipart"};return function(k,h,l){var p=g.doc;k=f.append(k,'<div class="sk-resources"></div>');k.classList.add("sk-"+l);var m=
g.lib[l];if(m){var s;s=e.InfiniteScroll?"text"===l&&"dropmenu"===a.ui.listText?!1:!0:void 0;if(s){if(a.ui.scrollerCategories){s={};for(var q in m.tree)"Your Files"!==q&&(s[q]=q);new e.SelectMenu({id:l+"_categories",className:"categories",tooltip:h.title||d[l],container:k,selected:c(l),options:s,onchange:function(a){e.scrollers[l].scrollTo(a)}})}new e.InfiniteScroll(g,p,{type:l,target:k,folder:"*"})}else{s={};for(var v in m.byName)p=m.byName[v],s[v]='<img src="'+m.getThumbnail(p)+'" height="22" />';
p=b(l);v=new e.SelectMenu({container:k,tooltip:"Set Font Family",selected:p&&p.name,options:s,onchange:function(a){g.doc.setFont(a)}});e.appendLabel(k,v.container,h.label)}}else console.error("missing media type:",l)}}();e.pageBeforeUnload=void 0;e.pageBuildTimeout=void 0;e.pageBuildFn=function(a,b){var c=u.pageId;"configure:"===c&&1!==a||e.setPane(c,{force:!0})};var u=e.pages=e.pages||{};u.pageId="configure";u.getPageId=function(){return u.pageId.split(":").shift()};u.getSubId=function(){return u.pageId.split(":").pop()};
u.restore=function(){p.getItem("pages.pageId",function(a){e.setPane(a||"configure",{force:!0})})};u.register=function(a,b){u[a]=b};u.register("configure",function(a){e.configurePane(null,a.force)});u.register("layers",function(b){var c=g.doc;b=b||{};b=b.delay;"layers"===u.getPageId()&&(clearTimeout(e.pageBuildTimeout),e.pageBuildTimeout=setTimeout(function(){var b=g.perf();e.treeLayers.setData(c.scene.children);e.treeLayers.render();a.debug&&console.debug("rebuildLayers",b())},b||100))});u.register("history",
function(b){var c=g.doc;b=b||{};b=b.delay;"history"===u.getPageId()&&(clearTimeout(e.pageBuildTimeout),e.pageBuildTimeout=setTimeout(function(){var b=g.perf();e.treeHistory.setData(c.history.vector.data);e.treeHistory.render();a.debug&&console.debug("rebuildHistory",b())},b||100))});e.setPane=function(a,b){b=b||{};var d=!!b.force;if(u.pageId!==a||d){e.pageBeforeUnload&&(e.pageBeforeUnload(),e.pageBeforeUnload=void 0);var k=a.split(":"),d=k[0]||"",k=k[1]||"";a=d+":"+k;var h=".icon-"+d.split("-").shift();
(h=f.$(".sk-sidebar "+h))&&f.setClass({target:h,list:f.$$(".sk-sidebar > .tabs span"),className:"selected",on:!0});if(h=f.$("#sk-"+d))f.setClass({target:h,list:".sk-pane",className:"selected"}),u.pageId=a,u[d]&&(b.delay=!0,b.subpage=k,u[d](b)),p.setItem("pages.pageId",u.pageId),p.each(f.$$(".sk-translate"),function(a){a.innerHTML=c.translate(a.innerHTML)})}};e.UISidebarTabs=function(){function b(a,c){var h=f.append(k,'<span class="sk-'+a+" icon-"+a+'"></span>');e.tooltip&&e.tooltip.add(h,c||a);e.addClick(h,
function(){"configure"===a&&d.setAttribute("sk-hash","");e.setPane(a)})}var c=g.doc,d=q(),k=f.$(".sk-sidebar > .tabs");a.pane.configure&&b("configure","settings");a.pane.layers&&(b("layers"),c.on("deselect",function(a){"layers"===u.getPageId()&&e.treeLayers.deselect(a)}),c.on("select",function(a){"layers"===u.getPageId()&&e.treeLayers.select(a)}));a.pane.history&&b("history");a.pane.open&&b("document","file");a.pane.save&&b("export","export");if(g.module.TreeMenu){var h=g.module.TreeMenu;e.treeLayers=
new h(g,c,"#sk-layers .sk-pane-content",c.scene.children);e.treeHistory=new h(g,c,"#sk-history .sk-pane-content",c.history.vector.data)}c.on("historyPop",u.history);c.on("transform",u.history);c.on("reset",u.history);g.on("open",e.pageBuildFn);c.on("undo",e.pageBuildFn);c.on("redo",e.pageBuildFn);c.on("cut",e.pageBuildFn);c.on("paste",e.pageBuildFn);c.on("sendForwards",e.pageBuildFn);c.on("sendBackwards",e.pageBuildFn);c.on("objectRemove",e.pageBuildFn);c.on("objectAdd",e.pageBuildFn)};e.scrollable=
function(b,c){a.preventScroll&&r.mobile&&eventjs.add(b,"drag",function(a,d){c||eventjs.stop(a);var e=b.scrollTop,k=d.ly-d.y;d.lx=d.x;d.ly=d.y;"touchmove"===a.type&&(0>=k&&0>=e?eventjs.prevent(a):0<=k&&e+b.offsetHeight>=b.scrollHeight&&eventjs.prevent(a))},{strict:!0})};e.addHeader=function(a,b){function d(a,b){a&&e.Button({container:g,tooltip:a.tooltip,className:"sk-href sk-"+b+" "+a.icon,onclick:a.onclick})}var k=b.left,h=b.right,l=b.title,p=b.icon,g=f.append(a,'<div class="sk-row-head"></div>');
f.appendText(g,c.translate(l));d(k,"left");d(h,"right");b.icon&&f.append(g,'<span class="'+p+' icon"></span>')};e.addFooter=function(a,b){var c=f.append(a,'<div class="sk-footer"></div>');b.className&&c.classList.add(b.className);b.cancel&&e.addButton(c,b.cancel);b.ok&&e.addButton(c,b.ok)};e.addButton=function(a,b){e.appendButton(a,new k.Button(b))};e.createElement=function(a,b){var c=f.create(a);b.className&&p.each(b.className.split(" "),function(a){c.classList.add(a)});b.tooltip&&e.tooltip&&e.tooltip.add(c,
function(){return"function"===typeof b.tooltip?b.tooltip.call(b):b.tooltip});b.style&&(c.style.cssText=b.style);b.onblur&&eventjs.add(c,"blur",b.onblur);b.onfocus&&eventjs.add(c,"focus",b.onfocus);b.container&&f.append(b.container,c);c.$attr=b;c.$setParam=function(a,d){void 0!==b[a]&&(b[a]=d);void 0!==c[a]&&(c[a]=d)};return c};e.fastclick=function(a){if(g.client.ios)if("string"===typeof a){var b=f.$$(a);p.each(b,function(a){e.fastclick(a)})}else eventjs.add(a,"mousedown",eventjs.stop),eventjs.add(a,
"click",function(b){eventjs.cancel(b);switch(a.nodeName){case "A":case "BUTTON":a.click();break;case "TEXTAREA":a.focus();break;case "INPUT":switch(a.type){case "submit":a.click();break;case "text":a.focus();break;case "checkbox":a.checked=!a.checked;break;default:console.log(a.type)}break;default:console.log(a.nodeName)}})}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(d,b){b.container&&(d.container=b.container);b.className&&(d.className=b.className);b.style&&(d.style=b.style);b.param&&(d.param=b.param);b.title&&(d.title=b.title);b.label&&(d.label=b.label);b.tooltip&&(d.tooltip=b.tooltip);b.hidden&&(d.hidden=b.hidden);b.onfocus&&(d.onfocus=b.onfocus);b.onblur&&(d.onblur=b.onblur);b.useGhostLayer&&(d.useGhostLayer=!0)}r.ui||(r.ui={});var d=r.util,m=r.ui.vars={};m.Button=function(d){g(this,d=d||{});this.type="button";this.onclick=d.onclick};
m.Checkbox=function(q){g(this,q=q||{});this.type="checkbox";this.checked=q.checked;this.onchange=q.onchange;this.setValue=function(b){"boolean"===typeof b&&this.checked!==b&&(this.checked=b,this.onchange&&this.onchange.call(this,b))};this.getValue=function(){return this.checked};this.clone=function(b){var h=d.copy(q);b&&(h.checked=b);return new m.Checkbox(h)}};m.HTML=function(d){g(this,d=d||{});this.type="html";this.innerHTML=d.innerHTML;this.construct=d.construct};m.Input=function(q){g(this,q=q||
{});this.type=q.type||"input";this.value=q.value;this.onchange=q.onchange;if("number"===q.type||"number"===q.format)this.max=q.max||d.INFINITY,this.min=q.min||-d.INFINITY,this.step=q.step||"any",this.format=q.format||"number";this.setValue=function(b){if("number"===this.format)if(b=parseFloat(b),b===+b){if(this.max<b||this.min>b)return!1}else return!1;this.value!==b&&(this.value=b,this.onchange&&this.onchange.call(this,b))};this.getValue=function(){return this.value};this.clone=function(b){var h=
d.copy(q);b&&(h.value=b);return new m.Input(h)}};m.Range=function(q){g(this,q=q||{});var b=q.value;"object"===typeof b?(this.setValue=function(b){Array.isArray(b)&&(b.min=b[0],b.max=b[1]);b.min===+b.min&&(this.min=b.min);b.max===+b.max&&(this.max=b.max)},this.getValue=function(){return{min:this.min,max:this.max}},this.asArray=function(){return[this.min,this.max]},this.setValue(b)):(this.value=b,this.setValue=function(b){Array.isArray(b)&&(b=b[0]);b===+b&&(this.value=b)},this.getValue=function(){return this.value},
this.asArray=function(){return[this.value]});this.type="clamp";this.format=q.format||"float";this.canCross=q.canCross;this.canPush=q.canPush;this.gradient=q.gradient;this.clamp={};this.clamp.min=q.min;this.clamp.max=q.max;this.onchange=q.onchange;this.clone=function(b){var f=d.copy(q);b&&(f.value=b);return new m.Range(f)}};m.Select=function(q){g(this,q=q||{});this.type="select";this.labelIcon=q.labelIcon||"";this.options=q.options;this.selected=q.selected;this.onchange=q.onchange;this.onclose=q.onclose;
this.onopen=q.onopen;this.setValue=function(b){"string"===typeof b&&(this.selected=b)};this.getValue=function(){return this.selected};this.getOptions=function(){var b=this.options;if("function"===typeof b)return b();if(Array.isArray(b)){for(var d={},f=0;f<b.length;f++){var a=b[f];d[a]=a}return d}return b};this.clone=function(b){var h=d.copy(q);b&&(h.selected=b);return new m.Select(h)}};m.Textarea=function(q){g(this,q=q||{});this.type="textarea";this.value=q.value;this.setValue=function(b){"string"===
typeof b&&(this.value=b)};this.getValue=function(){return this.value};this.clone=function(b){var h=d.copy(q);b&&(h.value=b);return new m.Textarea(h)}};m.ColorPicker=function(q){g(this,q=q||{});this.type="color";this.color=q.color;this.setValue=function(b){"string"===typeof b&&(this.color=b)};this.getValue=function(){return this.color};this.clone=function(b){var h=d.copy(q);b&&(h.color=b);return new m.ColorPicker(h)}};m.Palette=function(d){g(this,d||{});this.type="palette"};m.FilePicker=function(d){g(this,
d=d||{});this.type="filePicker";this.formats=d.formats;this.onchange=d.onchange};m.Resource=function(q){g(this,q=q||{});this.type="resource";this.format=q.format;this.clone=function(b){b=d.copy(q);return new m.Resource(b)}};m.SubTool=function(d){g(this,d||{});this.type="subtool"};m.FilterStack=function(d){g(this,d=d||{});this.type="filter";this.value=d.filter;this.setValue=function(b){this.value=b};this.getValue=function(){return this.value}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.ui=r.ui||{};r.ui.Button=function(g){var d=r.dom,m=r.lang,q=r.ui,b={};b.element;b.add=function(h){h=h||{};var f=h.container,a=h.src,c=h.symbol,l=h.title,g=d.create("span");g.className="sk-tool";if(l){var r=d.create("span");r.className="sk-tool-title";r.innerHTML=m.translate(l||"");g.appendChild(r)}c&&(l=d.create("span"),l.className="sk-icon "+c,g.appendChild(l));a&&(c=new Image,c.src=a,c.width=26,g.appendChild(c));g.events={};for(var e in h)switch(e){case "src":case "symbol":case "container":break;
case "tooltip":q.tooltip&&q.tooltip.add(g,h[e]);break;case "title":g.setAttribute("data-title",h[e]);break;case "id":case "className":g[e]=h[e];break;default:e.startsWith("on")?g.events[e]=eventjs.add(g,e.substr(2),h[e]):g.setAttribute(e,h[e])}f.appendChild(g);b.element=g};b.remove=function(){var h=b.element;h&&(d.remove(h),b.element=void 0)};b.disable=function(){var d=b.element;d&&(d.classList.add("disabled"),eventjs.bulk(d.events,"remove"))};b.enable=function(){var d=b.element;d&&(d.classList.remove("disabled"),
eventjs.bulk(d.events,"add"))};g&&b.add(g);return b}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.ui=r.ui||{};r.ui.Checkbox=function(g){function d(a,b){var c=!!g.checked;c&&a<=-b?m(c=!1):!c&&a>=b&&m(c=!0);return c}function m(a){a?e.add("sk-checked"):e.remove("sk-checked")}function q(a){g.setValue(a);m(g.checked)}var b=r.dom,h=r.ui;g instanceof h.vars.Checkbox||(g=new h.vars.Checkbox(g));var f=g.checked,a=g.onchange,c=g.param,l=h.createElement("div",g),A=b.append(l,"div"),t=b.append(A,"div"),e=l.classList;e.add("sk-checkbox");eventjs.add(l,"drag",function(f,k){var l=r.doc;eventjs.cancel(f);
var m=k.env;if(k.pointerStart){e.add("sk-moving");var s=b.measure(t),q=b.measure(A),s=m.width=q.width-s.width,m=m.offset=g.checked?m.width:0}else s=m.width,m=m.offset;var q=Math.min(s,k.x),w=d(q,5);k.pointerEnd?(t.style.left="",e.remove("sk-moving"),w=d(q,k.pointerMoved?5:0),w!==g.checked&&(g.checked=w,a?a.call(g,w):l.setParam({param:c,value:w}),l.saveSettings(),h.tooltip&&h.tooltip.refresh())):t.style.left=Math.max(0,Math.min(s,q+m))+"px"},{position:"difference"});m(f);return{attr:g,element:l,toggle:function(){q(!g.checked)},
setValue:q}}})(sketch);
(function(r){function g(a){return"string"===typeof a?h[a]:a}var d=r.dom,m=r.ui,q,b=m.contextMenu||(m.contextMenu={}),h=b.items||(b.items={}),f=void 0;b.opened=!1;b.add=function(a,c,l){q=q||d.append(document.body,'<div class="contextmenus" style="position: absolute; top: -1px; left: -1px; width: 0; height: 0; overflow: hidden;"></div>');h[a]=new m.SelectMenu({useHeader:!1,useBackdrop:!1!==l,useSelectable:!1,useKeyboard:!1,id:"sk-menu-"+a,className:[a,"sk-contextmenu"],container:q,options:c,onopen:function(){b.opened=
!0},onclose:function(){b.opened=!1;f=void 0}})};b.listen=function(a,c){eventjs.add(a,"contextmenu",function(d){eventjs.cancel(d);b.show({menu:c,at:{element:a,align:"top left to top right"}})})};b.getId=function(){if(f)return f.id.replace("sk-menu-","")};b.getSelectMenu=function(){var a=r.doc;return 1===a.selection.length?h.selectSingle:a.selection.length?h.selectMultiple:h.selectDefault};b.show=function(a){a=a||{};var c=g(a.menu);c?f&&f.id===c.id?console.warn("meh",arguments):(b.hide(),f=c,requestAnimationFrame(function(){c.show(a)})):
console.warn("contextMenu.show",arguments)};b.hide=function(){f&&f.hide();f=void 0}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.ui=r.ui||{};r.ui.Input=function(g){function d(d,a){if(!1===g.setValue(d)||a)b.value=g.value}var m=r.dom,q=r.ui;g=q.ensureInstanceOf(g,r.ui.vars.Input);var b=q.createElement("input",g);b.type=g.type;b.value=g.value;if(g.useGhostLayer){var h=m.create("div");h.className="sk-ghost-backdrop open";eventjs.add(b,"focus",function(){m.append(document.body,h)});eventjs.add(b,"blur",function(){m.remove(h)})}eventjs.add(b,"mousedown",eventjs.stop);"number"===g.format?(b.step=g.step,b.min=g.min,
b.max=g.max,eventjs.add(b,"keydown,change",function(f){eventjs.stop(f);var a=g.min,c=g.max,h="any"===g.step?1:g.step,m="number"===b.type;f=f.keyCode;38===f||40===f?m||(m=parseFloat(b.value.replace(/[^.0-9]/g,"")),38===f&&(m+=h),40===f&&(m-=h),h=Math.max(a,Math.min(c,m)),d(h,!0)):requestAnimationFrame(function(){var f=parseFloat(b.value.replace(/[^.0-9]/g,"")),f=Math.max(a,Math.min(c,f));d(f)})})):eventjs.add(b,"change",function(){d(this.value)});g.container&&g.container.appendChild(b);return b}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){function g(d){var g=[];if(!d)return[];for("number"===typeof d?d=[d]:"string"===typeof d&&(d=-1!==d.indexOf(",")?d.split(","):d.split(" "));d.length;){var b=parseFloat(d.shift());g.push(b)}return g}function d(d,g){return"number"===typeof d?d:"NaN"===String(parseFloat(d))?g:parseFloat(d)}r.ui=r.ui||{};r.ui.Range=function(m){var q=this,b=m.css,h=m.onchange;q.target=m.target;q.setValue=function(a,b){1===q.thumbs.length&&void 0===b&&(b=a,a=0);q.thumbs[a].value=b;q.update(a,"set")};q.target&&
(q.target.onchange&&(h=q.target.onchange),q.target.setValue=q.setValue,m.value=q.target.value,m.min=q.target.getAttribute("min"),m.max=q.target.getAttribute("max"),m.step=q.target.getAttribute("step"));q.values=g(m.value,0);q.min=d(m.min,0);q.max=d(m.max,100);q.step=d(m.step,1);q.thumbs=[];q.format=m.format;!0===m.canCross?(q.canCross=!0,q.canPush=!1):!1===m.canPush?(q.canCross=!1,q.canPush=!1):(q.canCross=!1,q.canPush=!0);var f=document.createElement("div"),a=document.createElement("span");a.className=
"sk-track";f.appendChild(a);for(var c=0,l=q.values.length,a=0;a<l;a++){var A=document.createElement("div");f.appendChild(A);q.thumbs.push({index:a,element:A,left:0,value:q.values[a]})}if(2===l){var t=document.createElement("div");t.className="sk-range-span";f.appendChild(t);var e=document.createElement("div");e.className="sk-range-span";e.style.display="none";f.appendChild(e)}q.element=f;q.setup=function(){m.parent&&m.parent.appendChild(f);if(!b&&(m.css=b={},m.className?(b.slider="",b.thumb=""):(b.slider=
"background: #000 -webkit-radial-gradient(45px 45px, cover, rgb(0, 0, 0) 0%, rgb(255, 255, 255) 100%); border: 1px solid #000; border-radius: 25px; width: 500px; height: 40px; top: 0; position: relative; z-index: 100",b.thumb="background: #fff -webkit-radial-gradient(45px 45px, cover, rgb(0, 100, 255) 0%, rgb(255, 255, 255) 100%); border: 2px solid rgba(0,100,255,1); top: -2px; border-radius: 25px; width: 40px; height: 40px; position: absolute;"),r.gen&&r.gen.rangeBar&&!r.feature.ui.customRangeBar)){var a=
r.gen.rangeBar({gradient:m.gradient,barWidth:f.offsetWidth});b.slider+="\t\t\t\t\tbackground-image: url("+a.toDataURL()+");\t\t\t\t\tbackground-size:"+a.style.width+" "+a.style.height+";"}f.className=m.className;f.style.cssText=b.slider;for(a=0;a<l;a++)q.thumbs[a].element.style.cssText=b.thumb};q.setAnimate=function(a,c){var d=q.thumbs[a].element,e=d.style.left;d.style.cssText=b.thumb;d.style.left=e};q.update=function(a,c){var d=a||0,g=q.thumbs[d],m=q.values,u=g.element,r=f.offsetWidth||236,x=u.offsetWidth||
10,y=x/2,A="construct"!==c;q.state=c||"change";x=r-x;x*=Math.max(0,Math.min(1,(g.value-q.min)/(q.max-q.min)));if(q.canPush){var B=x+y;if(B<g.left)for(var C=g.index-1;-1<C;C--){var G=q.thumbs[C];G.left>B&&(G.element.style.cssText=b.thumb,G.element.style.left=x+"px",G.left=B,G.value=g.value,m[C]=g.value,A&&h(q,G))}else for(C=g.index+1;C<l;C++)G=q.thumbs[C],G.left<B&&(G.element.style.cssText=b.thumb,G.element.style.left=x+"px",G.left=B,G.value=g.value,m[C]=g.value,A&&h(q,G));g.left=B}else if(q.canCross)g.left=
x+y;else{B=x+y;if(B<g.left)for(C=g.index-1;-1<C;C--){if(G=q.thumbs[C],G.left>B){x=G.left-y;B=G.left;G.value=g.value;m[C]=g.value;A&&h(q,G);break}}else for(C=g.index+1;C<l;C++)if(G=q.thumbs[C],G.left<B){x=G.left-y;B=G.left;G.value=g.value;m[C]=g.value;A&&h(q,G);break}g.left=B}m[d]=g.value;u.style.left=Math.round(x)+"px";A&&h(q,g);2===l&&(d=q.thumbs[0].left,g=q.thumbs[1].left,d<=g?(t.style.left=Math.min(d,g)+"px",t.style.width=Math.abs(d-g)+"px",e.style.display="none"):(t.style.left="0px",t.style.width=
g+"px",e.style.left=d+"px",e.style.width=r-d+"px",e.style.display="block"))};q.wheel=function(a,b){var c=q.thumbs[0],d=(c.value-q.min)/(q.max-q.min),d=Math.min(1,Math.max(0,d-b.wheelDelta/5E3));c.value=d*(q.max-q.min)+q.min;q.update(0,b.state)};q.mousedown=function(a,b){for(var d=eventjs.getPointInNode(a,f),e=Infinity,h,d=d.x,g=0;g<l;g++){var m=q.thumbs[g],r=m.left-d,y=Math.abs(r);if(0>r&&y<=e||-1<r&&y<e)e=y,h=m}if(h){var t=h.element,B=h.index;t.style.zIndex=++c;eventjs.proxy.drag({event:a,target:f,
position:"relative",listener:function(a,c){var d=f.offsetWidth;q.setAnimate(B,"move"!==c.state);var e=t.offsetWidth,d=Math.max(0,Math.min(d-e,c.x-e/2))/(d-e);"down"===c.state?(f.classList.add("active"),t.classList.add("active"),eventjs.blur(),eventjs.cancel(a),e="start"):"up"===c.state?(f.classList.remove("active"),t.classList.remove("active"),eventjs.cancel(a),e="end"):(eventjs.cancel(a),e="change");h.value=d*(q.max-q.min)+q.min;q.update(B,e);b&&b(c)}})}};eventjs.add(f,"mousedown",q.mousedown);q.target&&
q.target.parentNode&&(q.target.parentNode.insertBefore(f,q.target),q.target.style.display="none");q.setup();for(a=l-1;-1<a;a--)q.update(a,"construct"),q.state="load"}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.UICursor=function(g,d){var m=g.client,q=g.feature,b=g.ui,h=g.util,f=g.vector,a=g.dom.Canvas(),c=a.ctx,l,r=function(b){return(a.style.cursor=b)===a.style.cursor.split('"').join("")},t=b.media.get("transparent").css,e=r(t+", auto"),p=!m.safari;p&&(p=r("-webkit-image-set("+t+" 2x), auto"));var k={n:360,ne:45,e:90,se:135,s:180,sw:225,w:270,nw:315},v={ns:360,nesw:45,ew:90,nwse:135},z=Object.keys(k),s=Object.keys(v),u={};f.SVGPath&&(u.resize=f.SVGPath.toVOBPath("M14.3,8.5 9.7,2.2 5.1,8.5 8.3,8.5 8.3,17.3 11.1,17.3 11.1,8.5z"),
u.rotate=f.SVGPath.toVOBPath("M16.6,8.5l-1.4-1.4c-2.9-2.9-7.6-2.9-10.5,0L3.3,8.4L1.5,6.6l-0.9,6.3l6.4-1l-1.8-1.8l1.3-1.3c1.9-1.9,5-1.9,6.9,0l1.4,1.4L13,12.1l6.4,1l-1-6.4C18.4,6.7,16.6,8.5,16.6,8.5z"));b.setCursor=function(b,g){if(!m.mobile){b=b||"";var r,t;if(b.indexOf&&-1!==b.indexOf("-")){var B=b.split(", ")[0].split("-");t=B[0];r=B[1]}var B=d.contexts.active,C,A;k[t]?(C=k[t],A=z):v[t]&&(C=v[t],A=s);if(C&&(g=g||d.scene.getFocused())){var I=g.bbox,E=I.scale;C=I.rotate+f.Degree.flip(C,E.x,E.y);I=
Math.round((C+3600)%360/45);b=b.replace(t,A[I%A.length]);t=b+(C-C%10>>0);l!==t&&(l=t,e&&u[r]&&q.ui.cursorDynamic&&(t=p&&m.pixelRatio||1,A=(a.width=a.height=20*t)/2,c.translate(A,A),c.rotate(C*h.DEG_RAD),c.translate(-A,-A),c.scale(t,t),f.Shape.VOBPath(c,u[r]),c.shadowBlur=3,c.shadowOffsetX=0,c.shadowOffsetY=1,c.shadowColor="#000",c.lineWidth=2,c.strokeStyle="#fff",c.stroke(),c.shadowBlur=null,c.fillStyle="#000",c.fill(),r=a.toDataURL(),b=p&&2===t?"-webkit-image-set(url("+r+") 2x) 10 10, "+b:"url("+
r+") 10 10, "+b),B.style.cursor=b)}else b||(r=d.tool,t=q.ui.cursorDefs,b=t[r.type]?t[r.type]:""),l!==b&&(l=b,B.style.cursor=b)}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Keyboard=function(g){function d(b){function d(a,b){!1!==b&&eventjs.cancel(a);p.scene.setDirtyControl()}var p=g.doc,k=p.keyboard.emit,m=r.isEditingText();eventjs.keyTracker(b);var z=b.keyCode,s=eventjs.keys[z],u=eventjs.altKey,w=eventjs.metaKey,x=eventjs.shiftKey;switch(z){case 75:if(w&&x&&h.nodewebkit){var y=require("nw.gui").Window.get();y.isKioskMode?require("nw.gui").App.quit():y.enterKioskMode()}break;case 219:if(w){u?g.exec("object-to-back"):g.exec("object-backwards");
d(b);return}break;case 221:if(w){u?g.exec("object-to-front"):g.exec("object-forwards");d(b);return}break;case 80:if(w){g.print();d(b);return}break;case 83:if(w){u?g.download.image():x&&p.toolkit.screenshot?g.exec("screenshot"):g.save.fromQuery();d(b);return}break;case 27:if(k("escapeKey",b,"escape"))return;g.windows.hasFocus&&g.windows.hasFocus()?g.windows.hideFocused():(p.scene.deselectAll(),p.render.dirty=!0,p.render.dirtyControls=!0);d(b);return}if(!m&&"eyeDropper"!==l.colorPicker.state&&(y=c.lcfirst(eventjs.getKeyID(b)),
!k(y+"Key",b,y))){switch(z){case 48:if(x&&a.zoom){if(m&&!w)break;g.exec("zoom-reset");d(b);return}break;case 173:case 189:if(x&&a.zoom){if(m&&!w)break;g.exec("zoom-out");d(b);return}break;case 61:case 187:if(x&&a.zoom){if(m&&!w)break;g.exec("zoom-in");d(b);return}break;case 188:if(q("configure")){d(b);return}break;case 68:if(q("download")){d(b);return}break;case 78:if(q("document-new")){d(b);return}break;case 79:if(w&&h.chooseEntry){g.open.chooseEntry({onsuccess:function(a){p.addMedia({openAsNew:!0,
data:a})}});d(b);return}if(q("document-open")){d(b);return}break;case 80:if(q("print")){d(b);return}break;case 83:if(q("share")){d(b);return}break;case 32:p.orient?(b.preventDefault(),"zoom"!==p.tool.type&&(g.ptool=p.tool.type,g.exec("zoom"))):r.toggleVideo&&r.toggleVideo();return;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(a.hotkeys)switch(b=a.hotkeys[z-49],b){case "brush":case "shape":if((k=f.$(".sketch-select-"+b))&&k.id)return g.exec(k.id.replace("tool-",""));default:return g.exec(b)}return;
case 191:if(x)return g.exec("help");return;case 46:case 8:eventjs.cancel(b);g.exec("object-delete");return;case 13:document.activeElement===document.body&&eventjs.cancel(b);f.$("#alertify-ok")&&f.$("#alertify-ok").click();return;case 18:if(a.ui.quickSelect&&p.toolkit.select){if(w)break;if(!a.vector.edit)return;p.tool!==p.toolkit.select&&(g.ptool=p.tool.type,g.exec("select"))}return;case 65:w&&(eventjs.cancel(b),x?g.exec("select-inverse"):g.exec("select-all"));return;case 67:x?g.exec("color-picker"):
w&&(eventjs.cancel(b),g.exec("object-copy"));return;case 73:g.exec("debug-action");return;case 86:!w||h.clipboard||p.__rendering||(eventjs.cancel(b),g.exec("object-paste","select"!==p.tool.type));return;case 88:w&&(eventjs.cancel(b),g.exec("object-cut"));return;case 90:if(w&&(eventjs.cancel(b),!p.__rendering))if(x)if(k("redo",b,"redo"))break;else g.exec("redo");else if(k("undo",b,"undo"))break;else g.exec("undo");return;case 37:if(p.selection.length){eventjs.altKey?g.exec("object-clone-left",1,s):
g.exec("object-move-left",1,s);eventjs.cancel(b);break}else x&&g.sidebar&&g.sidebar.close&&g.sidebar.close();break;case 39:if(p.selection.length){eventjs.altKey?g.exec("object-clone-right",1,s):g.exec("object-move-right",1,s);eventjs.cancel(b);break}else x&&g.sidebar&&g.sidebar.open&&g.sidebar.open();break;case 38:u&&p.pages&&p.pages.length?(p.setPage(-1,"useRelative"),eventjs.cancel(b)):p.selection.length&&(eventjs.altKey?g.exec("object-clone-up",1,s):g.exec("object-move-up",1,s),eventjs.cancel(b));
break;case 40:u&&p.pages&&p.pages.length?(p.setPage(1,"useRelative"),eventjs.cancel(b)):p.selection.length&&(eventjs.altKey?g.exec("object-clone-down",1,s):g.exec("object-move-down",1,s),eventjs.cancel(b));break;default:return}d(b,!1)}}function m(b){var d=g.doc,f=d.keyboard.emit;eventjs.keyTracker(b);if(!g.util.isEditingText()){eventjs.metaKey&&g.ptool&&(d.scene.deselectAll(),g.exec(g.ptool),delete g.ptool);var k=c.lcfirst(eventjs.getKeyID(b));if(!f(k+"Key",b,k))switch(b.keyCode){case 18:a.ui.quickSelect&&
d.toolkit.select&&g.ptool&&a.vector.edit&&(g.exec(g.ptool),delete g.ptool);break;case 32:d.orient&&g.exec(g.ptool);break;case 37:case 38:case 39:case 40:eventjs.altKey?g.exec("object-clone-end",0,"end"):g.exec("object-move-end",0,"end")}}}function q(a){if(eventjs.shiftKey&&g.fs.supported&&l.setPane)return g.sidebar&&g.sidebar.open&&g.sidebar.open(),l.setPane(a),!0}var b=this,h=g.client,f=g.dom,a=g.feature,c=g.util.string,l=g.ui,r=g.util;b.listen=function(b,c){a.interactable&&(c.keydown=eventjs.add(b.targetListenable,
"keydown",d),c.keyup=eventjs.add(b.targetListenable,"keyup",m))};(function(){var c={};b.enable=function(b){g.module.Listener(b.keyboard={});if(h.clipboard=!1===a.interactable?!1:!1===h.clipboard?!1:h.safari?!1:eventjs.detectEvent("paste",b.targetListenable)?!!(b.scene&&b.scene.paste&&b.addMedia):!1)b.targetEditable!==b.targetListenable&&(c.onPasteEditable=eventjs.add(b.targetEditable,"paste",b.scene.onPasteNative)),c.onPaste=eventjs.add(b.targetListenable,"paste",b.scene.onPasteNative)};b.disable=
function(){eventjs.bulk(c,"remove")}})()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g={};r.ui=r.ui||{};r.ui.SelectMenu=function(d){function m(){if(e.selectedElement){var a=eventjs.getBBox(e.selectedElement),b=eventjs.getBBox(R),c=b.height-a.height,a=a.y1-b.y1;0>a?R.scrollTop+=a-12:a>c&&(R.scrollTop+=a-c+12)}}function q(){var a=R.querySelector(".sk-hovered");a&&a.classList.remove("sk-hovered")}function b(a){eventjs.cancel(a);a=z.timestamp();150<a-e.lastTimeOpen&&(e.lastTimeOpen=a,e.toggle())}function h(a){e.lastTimeOpen=0;e.hide(null,!0)}function f(a){var b=a.keyCode;
if(27===b||13===b)eventjs.stop(a),e.hide();else if(a=0,40===b&&a++,38===b&&a--,a){var b=a,d=e.selected;a=O.length-1;d=O.indexOf(d);d=z.clamp(0,a,d+b);d=O[d];e.setValue(d)}else c(b)}function a(){0>=R.scrollTop?U.classList.remove("active"):U.classList.add("active");R.scrollTop+R.offsetHeight>=R.scrollHeight?W.classList.remove("active"):W.classList.add("active")}function c(a){function b(a,c){for(var d=0;d<a.length&&c[d]===a[d];d++);return d}if(8===a)Q.value="";else{var c,d=0;requestAnimationFrame(function(){var a=
Q.value.toLowerCase();if(void 0!==a[0]){clearTimeout(Q.timeout);Q.timeout=setTimeout(function(){Q.value=""},1E3);for(var k in Y){var f=Y[k],h=f.translation,h=f.nohtml||(f.nohtml=p.strip_html(h));(h=b(h.toLowerCase(),a))&&h>d&&(c=f.id,d=h)}c&&e.setValue(c)}})}}function l(){p.empty(R);Y={};O=[];var a=e.options,b;if(Array.isArray(a))b=!0;else{var c=b=!0,d;for(d in a){var f=a[d];void 0===f.label&&(b=!1);"string"!==typeof f&&(c=!1)}b=b||c}if(b)A(a);else for(var h in a)b=a[h],c=p.create("span"),c.innerHTML=
k.translate(h),c.className="optgroup",R.appendChild(c),A(b);t()}function A(a){function b(a){if(a.element)return{label:a.element,translation:a.element.textContent,eventOverride:a.eventOverride};console.warn("element returned by label handler is missing",arguments);return{}}function c(a,d){switch(typeof a){case "function":return a=a(d),a instanceof HTMLElement?{label:a,translation:a.textContent}:b(a);case "object":return b(a);default:return{label:k.translate(a),translation:a.textContent}}}function d(a){function b(a,
c){eventjs.cancel(a);250<z.timestamp()-e.lastTimeOpen&&(e.setValue(k),e.hide(),h&&h())}var k=a.id,f=a.label,h=a.onclick,l=a.enabled,g=p.create("li");if("<br>"===f)g.className="sk-selectmenu-break";else{var m=p.create("span");m.className="sk-selectmenu-item";var s=p.create("span");s.className="sk-selectmenu-option";a=c(f,s);var f=a.label,q=a.translation;a=a.eventOverride;O.push(k);Y[k]={id:k,label:f,onclick:h,enabled:l,translation:q,target:m};S?eventjs.add(m,"mousedown",eventjs.stop):eventjs.add(m,
"mousedown",eventjs.cancel);a||(S?eventjs.add(m,"click",b):(eventjs.add(m,"mouseup",b),eventjs.add(m,"mouseover",function(a){p.setClass({target:this,list:R.querySelectorAll(".sk-selectmenu-item"),className:"sk-hovered"})})));f instanceof HTMLElement?s.appendChild(f):s.innerHTML=f;N&&k===e.selected&&m.classList.add("sk-selected");m.appendChild(s);g.appendChild(m)}R.appendChild(g)}Array.isArray(a)?a.forEach(function(a,b){a.label?d({id:a.label,label:a.label,onclick:a.onclick,enabled:a.enabled}):d({id:a,
label:a})}):z.each(a,function(a,b){d({id:b,label:a.label||a,onclick:a.onclick,enabled:a.enabled})})}function t(){if(K&&void 0===B){var a=Y[e.selected];a&&(V.innerHTML=k.translate(a.label))}}if(d){var e=this,p=r.dom,k=r.lang,v=r.client,z=r.util,s=r.ui,u=d.id,w=d.className,x=d.selected,y=d.options,F=p.$(d.container),B=d.icon,C=d.title,G=d.tooltip,I=d.style,E=d.onchange,D=d.onopen,H=d.onclose,P=!1!==d.useBackdrop,K=!1!==d.useHeader,J=!1!==d.useKeyboard,N=!1!==d.useSelectable,S=!!v.mobile,v=p.create("div");
v.className="sk-selectmenu-container";u&&(v.id=u);w&&p.addClass(v,w);C&&(v.title=k.translate(C));I&&(v.style.cssText=I);F.appendChild(v);var Q=p.create(S?"a":"input");Q.href="#";Q.className="sk-focus-element";v.appendChild(Q);if(K){var L=p.create("div");L.className="sk-selectmenu-header";var V=p.create("span");V.className="data-header";L.appendChild(V);B?0===B.indexOf("http")||0===B.indexOf(".")?(F=p.create("img"),F.src=B):(F=p.create("span"),F.className=B):(F=p.create("span"),F.className=d.labelIcon||
"icon-caret-down");L.appendChild(F);v.appendChild(L);G&&s.tooltip&&s.tooltip.add(L,function(){return k.translate(e.tooltip)})}var R=p.create("ul");R.className="sk-selectmenu";var W=p.create("div");W.className="icon-caret-down arrow-down arrow";var U=p.create("div");U.className="icon-caret-up arrow-up arrow";var X=p.create("div");X.className="sk-selectmenu-backdrop";X.appendChild(R);X.appendChild(W);X.appendChild(U);eventjs.add(R,"contextmenu",eventjs.prevent);eventjs.add(X,"contextmenu",eventjs.prevent);
w&&p.addClass(R,w);w&&p.addClass(X,w);eventjs.add(R,"mouseout",function(a){eventjs.elementsFromPoint(a.x,a.y,R).pop()!==R&&q()});e.toggle=function(){e.isVisible()?e.hide():e.show()};e.show=function(){function b(a,c){var d=window.innerWidth,e=a.width,k=Math.max(e,c.width),f=c.x1,d=d-c.x2,h=Math.max(f,d);R.style.minWidth=e+"px";d>=k?R.style.left=a.x1+a.margin.left+"px":f>=k?R.style.left=a.x2-k-a.margin.left+"px":(R.style.width=h+"px",R.style.left=f>d?0:a.x1+"px");k=window.innerHeight;e=c.height;f=a.y1;
d=k-a.y2;h=Math.max(f,d);d>=e?R.style.top=a.y2+"px":f>=e?R.style.top=a.y1-e+"px":(R.style.height=h+"px",R.style.top=f>d?0:a.y2+"px")}function c(a,b,d,e){R.offsetHeight<R.scrollHeight?(a.style.display="block",a.style.height="12px",a.style.width=b.width+"px",a.style.top=d+"px",a.style.left=b.x1+"px",R.style[e]="12px"):(a.style.display="none",R.style[e]="")}return function(d){d=d||{};d.element=d.element||R;if(!e.isVisible()){clearTimeout(e.hide.timeout);R.style.display="block";P?(document.body.appendChild(X),
X.style.zIndex=999999):(document.body.appendChild(R),R.style.zIndex=999999);requestAnimationFrame(function(){P?X.classList.add("open"):R.classList.add("open")});R.style.height="";R.style.width="";R.style.minWidth="";var k=p.measure(R);(d=p.getCoordinateAt(d))?(R.style.left=0>window.innerWidth-d.x-k.width?d.x-k.width+"px":d.x+"px",R.style.top=0>window.innerHeight-d.y-k.height?d.y-k.height+"px":d.y+"px"):(d=p.measure(L),R.style.top=d.y1+d.height+"px",R.style.left=d.x1+d.margin.bottom+"px",b(d,k));!1===
S&&(k=p.measure(R),c(U,k,k.y1+k.margin.top,"paddingTop"),c(W,k,k.y2-12,"paddingBottom"));Q.focus();m();a();D&&D()}}}();e.isVisible=function(){return R.classList.contains("open")};e.hide=function(a){if(a=g[a||e.id])a.input.blur(),e.hide.timeout=setTimeout(function(){P?X.classList.remove("open"):R.classList.remove("open");e.hide.timeout=setTimeout(function(){R.style.position="";R.style.left="";R.style.top="";R.style.display="none";q();P?p.remove(X):p.remove(R)},250)},0),H&&H()};e.setValue=function(a){a=
a.toString();if(e.selected!==a){var b=Y[a];b&&(b=b.target,e.selectedElement=b,e.selected=a,N&&p.setClass({target:b,list:R.querySelectorAll(".sk-selectmenu-item"),className:"sk-selected"}),m(),t(),E&&E(a))}};s.scrollable(R);eventjs.add(Q,"blur",h);eventjs.add(X,"mousedown",eventjs.cancel);eventjs.add(X,"click",h);S?K&&eventjs.add(L,"click",b):(J&&eventjs.add(Q,"keydown,keypress",f),eventjs.add(U,"hover",function(a,b){R.scrollTop+=-25}),eventjs.add(W,"hover",function(a,b){R.scrollTop+=25}),eventjs.add(R,
"scroll",a),K&&eventjs.add(L,"drag",function(a,c){"down"===c.state?b(a):"up"===c.state&&15<c.distanceMoved()&&e.hide()}));var O,Y;g[u]=e;e.container=v;e.input=Q;e.ul=R;e.id=u;e.options=y;e.selected=x;e.tooltip=G;e.buildMenu=l;e.lastTimeOpen=0;l()}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(){var d=arguments;return function(){console.log("success",arguments,d)}}function d(){var d=arguments;return function(){console.error("error",arguments,d)}}r.module=r.module||{};r.module.Convert=function(m){var q=this,b=m.dom;m.util||(m.util={});m.io||(m.io={});q.fileToImage=function(b,f,a){if(b){var c=b.src||b;f=f||b.onsuccess||g(arguments);a=a||b.onerror||d("fileToImage",arguments);var l=m.util.loadImage({src:c,onerror:a,onsuccess:function(){f(l)}})}else console.error("fileToImage",
arguments)};q.fileToCanvas=function(b,f,a){if(b){var c=b.src||b,l=b.canvas;f=f||b.onsuccess||g(arguments);a=a||b.onerror||d("fileToCanvas",arguments);q.fileToImage(c,function(a){f(q.imageToCanvas(a,l))},a)}else console.error("fileToCanvas",arguments)};q.fileToPattern=function(b,f,a){if(b){var c=b.src||b;f=f||b.onsuccess||g(arguments);a=a||b.onerror||d("fileToPattern",arguments);q.fileToCanvas(c,function(a){var b=q.imageToPattern(a);b.canvas=a;f(b)},a)}else console.error("fileToPattern",arguments)};
q.htmlToCanvas=function(h,f,a){if(h)if("undefined"===typeof html2canvas)console.warn("html2canvas undefined");else{var c=h.html||h;f=f||h.onsuccess||g(arguments);a=a||h.onerror||d("htmlToCanvas",arguments);var l=b.$("#sk-htmlToCanvas")||b.append(document.body,'<div id="sk-htmlToCanvas" style="position:fixed;top:0;left:0;display:none"></div>');l.style.display="block";l.innerHTML=c;html2canvas(l,{onerror:a,onrendered:function(a){f(a);l.style.display="none"}})}else console.error("htmlToCanvas",arguments)};
q.imageToCanvas=function(d,f){if(d)return f?(f.ctx=f.ctx||f.getContext("2d"),f.width=d.width,f.height=d.height):f=b.Canvas(d.width,d.height),m.client.ios&&window.MegaPixImage?(new MegaPixImage(d)).render(f,{maxWidth:1E3,maxHeight:1E3}):f.ctx.drawImage(d,0,0),f;console.error("imageToCanvas",arguments)};q.imageToPattern=function(b,d){if(b)return d=q.imageToCanvas(b,d),d.ctx.createPattern(b,"repeat");console.error("imageToPattern",arguments)};q.blobToText=function(b,f,a){if(b){var c=b.blob||b;f=f||b.onsuccess||
g(arguments);a=a||b.onerror||d("blobToText",arguments);var l=new FileReader;l.onerror=a;l.onload=function(a){f(a.target.result)};l.readAsText(c)}else console.error("blobToText",arguments)};q.blobToJSON=function(b,f,a){if(b){var c=b.blob||b;f=f||b.onsuccess||g(arguments);a=a||b.onerror||d("blobToJSON",arguments);q.blobToText({blob:c,onerror:a,onsuccess:function(b){try{f(JSON.parse(b))}catch(c){a(c)}}})}else console.error("blobToJSON",arguments)};q.blobToArrayBuffer=function(b,d){var a=new FileReader;
a.onload=function(b){d(a.result)};a.readAsArrayBuffer(b)};q.blobToArrayBufferReader=function(b,d){q.blobToArrayBuffer(b,function(a){d(new function(a,b){var d=0;this.buffer=a;this.dataView=b=b||new DataView(a);this.readInt8=function(){if(!(d+1>a.byteLength))return b.getUint8(d++-1,!1)};this.readInt16=function(){if(!(d+2>a.byteLength))return b.getUint16((d+=2)-2,!1)};this.readInt32=function(){if(!(d+4>a.byteLength))return b.getUint32((d+=4)-4,!1)};this.readString32=function(a){a=this.readInt32();for(var c=
0,f="";c<a;c++)f+=String.fromCharCode(b.getUint16(d,!1)),d+=2;return f};this.seekString=function(f){for(var e="",h=a.byteLength,k=0;e!==f&&d<h;){++k;var g=String.fromCharCode(b.getUint8(d,!1));d++;if(f[e.length]===g){if(e+=g,e===f)return k}else e=""}}}(a))})};q.objectToBlob=function(b){return new Blob([JSON.stringify(b)],{type:"text/json"})}};"object"===typeof module&&module.exports&&(module.exports=r.module.Convert)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Download=function(g){function d(a,b){var d=g.doc,f=b.split("/").pop(),d=a||d.title||"sketch";return-1===d.indexOf(f)?d+"."+f:d}var m=this,q=g.dom,b=g.util,h=g.lang;m.blob=function(b,d){var f=g.doc;b=b||new Blob(["hello world"]);d=d||f.title+".txt";f=g.client.io.blob;g.client.chooseEntry?chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:d},function(a){a.createWriter(function(a){a.write(b)},function(a){console.log(a)})}):f?(f=URL.createObjectURL(b),
saveAs(b,d)):(f=URL.createObjectURL(b),a.download(f,d))};m.object=function(a,d,f){a=b.json.stringify(a);m.text(a,d,f)};m.text=function(b,d,f){var h=g.doc;d=d||h.title+".txt";f=f||"text/plain";g.client.io.blob?m.blob(new Blob([b],{type:f}),d):(b="data:"+f+";base64,"+btoa(b),a.download(b,d))};m.canvas=function(c,f,h,r){a.isReady()&&(c=c||q.Canvas(),h=h||"image/png",r=r||1,f=d(f,h),b.exists("canvas2ImagePlugin.saveImageDataToLibrary")?canvas2ImagePlugin.saveImageDataToLibrary(function(a){alertify.alert("Image successfully saved to your Photo Gallery.")},
function(a){alertify.alert("There was an error saving your image.")},c):g.client.io.blob?c.toBlob(function(a){m.blob(a,f)},h,r):(c=c.toDataURL(h,r),a.download(c,f)))};m.sketch=m.zip=function(b){if(a.isReady()){var d=g.doc;g.save.zip({onsuccess:function(a){var f=b||d.title;b=-1===f.indexOf(".sketchpad")?f+".sketchpad":f;m.blob(a,b)}})}};m.svg=function(b,d){var f=g.doc;a.isReady()&&(d=d||{},"object"===typeof b&&(d=b,b=d.filename||f.title),d.onsuccess=function(a){var d=b||f.title;b=-1===d.indexOf(".svg")?
d+".svg":d;m.text(a,b,"image/svg+xml")},g.save.svg(d))};m.json=function(c,d){var f=g.doc;a.isReady()&&(d=d||{},"object"===typeof c&&(d=c,c=d.filename||f.title),d.onsuccess=function(a){var d=c||f.title;a=b.json.stringify(a);c=-1===d.indexOf(".json")?d+".json":d;m.text(a,c,"application/json")},g.save.json(d))};m.image=function(b,d,h,q,e,p,k,v){a.onReady(function(a){var s=f(b,d,h,q,e,p,k,v);g.save.canvas(s,function(a){72===s.dpi?m.canvas(a,s.filename,s.mime,s.quality):m.canvasDPI(a,s.filename,s.mime,
s.quality)})})};(function(){m.canvasDPI=function(b,f,k,h,l){k=k||"image/png";h=h||1;f=d(f,k);b.toBlob(function(b){g.convert.blobToArrayBufferReader(b,function(d){d=a[k](b,d,l);m.blob(d,f)})},k,h)};var a={"image/jpeg":function(a,b,c){b=b.dataView;b.setUint8(13,1);b.setUint16(14,c);b.setUint16(16,c);return new Blob([b],{type:"image/jpeg"})},"image/png":function(a,c,d){d=b(d/72*2834.6472);d=[112,72,89,115].concat(d).concat(d).concat(1);d=b(d.length-4).concat(d).concat(h(d));var f=c.seekString("IDATx")-
5-4;c=a.slice(0,f);a=a.slice(f,a.size);return new Blob([c,new Uint8Array(d),a],{type:"image/png"})}},b=function(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]},f=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,
1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,
1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,
3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,
829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,
4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],h=function(a,c){c=(c|0)^4294967295;for(var d=0,h=a.length;d<h;d++)c=c>>>8^f[(c^a[d])&255];return b(c^4294967295)}})();m.pdf=
function(c,d,q,r,e,p,k,v){var z=g.doc;g.loader&&g.loader.create("thread",h.translate("reading-files")+"...");a.onReady(function(a){var h=f(c,d,q,r,e,p,k,v);g.io.pdf.save(b.copyInto({onprogress:function(a){g.loader&&g.loader.create("thread",null,a)},onsuccess:function(a){m.blob(a,(h.filename||z.title)+".pdf")},onerror:function(){console.warn("error saving pdf")}},h))})};var f=function(a,b,d,f,e,h,k,m){var q=g.doc,s=typeof a,u="object"===s?a:{},r=function(a,b,c){typeof u[a]!==b&&(u[a]=c)},x=function(a,
b,c){if("function"===typeof c)if(u.callback){var d=u.callback;u.callback=function(){d();c()}}else u.callback=c;if(typeof c===b)return u[a]=c,!0};"number"===s||"undefined"===s?(x("x","number",a),x("y","number",b),x("width","number",d),x("height","number",f),x("mime","string",e),x("quality","number",h),x("dpi","number",k),x("callback","function",m)):"string"===s?(x("mime","string",a),x("quality","number",b),x("callback","function",d)):"function"===s&&x("callback","function",a);a=q.getBounds();a.width&&
r("width","number",a.width);a.height&&r("height","number",a.height);e=u.mime=(u.mime||u.format||"image/jpeg").toLowerCase();0!==e.indexOf("image/")&&(e=u.mime="image/"+e);"image/jpeg"===e&&(u.background=u.background||"#fff");r("mime","string","image/png");r("quality","number",1);r("dpi","number",q.dpi);return u},a=new function(){var c="undefined"===typeof document?!1:"download"in document.createElement("a");this.lapse=1E3;this.getElement=function(){var a=this.element||q.$("#sk-download-element");
if(a)return a;this.element=document.createElement("a");this.element.id="download";this.element.target="_blank";this.element.style.display="none";this.element.timestamp=b.timestamp()-this.lapse;document.body.appendChild(this.element);return this.element};this.isReady=function(a){var c=this.getElement(),d=b.timestamp();if(d-c.timestamp>=this.lapse)return a?!0:c.timestamp=d};this.onReady=function(a){var b=this.getElement();if(this.isReady(!0))return a(b),b};this.download=function(b,d){if(c){var f=a.getElement();
f.download=d;f.href=b;f.click()}else window.open().document.write("<title>"+d+'</title><img src="'+b+'"/>')}}};"object"===typeof module&&module.exports&&(module.exports=r.module.Download)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Open=function(g){var d=this,m=g.dom,q=g.convert,b=g.io,h=g.lang,f=g.util.string,a=g.util;d.folder=function(b){var l=b.entries,m=b.onerror,r=b.onsuccess,e=b.onprogress;g.loader&&g.loader.create("thread",h.translate("reading-files")+"...");var p,k=a.Queue({items:l,instant:!1,oncomplete:function(){p?d.json(p,r,e):(g.loader&&g.loader.create("thread",null,100),m&&m())},next:function(a,b,c){b=(c+1)/l.length*100>>0;g.loader&&g.loader.create("thread",null,Math.max(0,
b-1));if(b=a.name)switch(b){case "README.txt":k.next();break;case "sketch.json":q.blobToText(a,function(a){p=a;k.next()});break;default:"asset-"===b.substr(0,6)?g.assets.add({data:a,onerror:k.next,onsuccess:k.next,targetId:"#"+f.filenameSansExtension(b)}):k.next()}else return k.next()}})};d.chooseEntry=function(b){b=b||{};var d=b.onsuccess;b=b.onerror;if(a.exists("navigator.camera.getPicture"))navigator.camera.getPicture(function(a){q.fileToCanvas(a,function(b){b.toBlob(function(b){b.path=a;b.name=
f.filename(a);d(b);navigator.camera.cleanup()})})},b,{destinationType:Camera.DestinationType.NATIVE_URI,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,targetWidth:640,targetHeight:480,saveToPhotoAlbum:!1});else return a.exists("chrome.fileSystem.chooseEntry")?(chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{extensions:g.uploader.formats}]},function(a){a&&a.file(function(a){d(a)})}),!0):!1};d.clipart=d.image=function(a){function b(e){if(a.openAsNew){g.exec("reset");if(e.vob){var l=
e.vob.width;e=e.vob.height}else l=e.width,e=e.height;d.setSize(l,e);d.scene.add({centerOnPoint:!0,type:q,src:k,width:l,height:e,x:l/2,y:e/2},function(){d.setTool("select");d.scene.deselectAll();d.orient.reset();d.orient.render();f&&f()},h)}else d.addMedia(a)}var d=g.doc;"string"===typeof a&&(a={src:a});var f=a.onsuccess,e=a.onprogress,h=a.onerror,k=a.src||"",q=a.type||"image";if(a.blob)g.assets.add(a.blob,function(a,c){b(c)},h,e);else if(-1!==k.indexOf("filesystem:")){var r=new Image;r.src=k;r.onprogress=
e;r.onerror=h;r.onload=function(){var a=m.Canvas(this.width,this.height);a.ctx.drawImage(this,0,0);b(a)}}else g.assets.add(k,function(a,c){b(c)},h,e)};d.fromQuery=function(a,f,h){var m=g.doc,e=g.feature;a=a||g.loc.search;"string"===typeof a&&(a=g.loc.getQuery(a,"sk"));a.file&&g.lib.template.byId[a.file]?g.lib.openTemplate(a.file,f,h):a.file&&"new"===a.file?(m.orient.reset(),f()):a.folder?(b.json.folder=a.folder,d.json({data:a.folder+"sketch.json",onsuccess:f,onerror:h})):a.image?d.image({src:a.image,
openAsNew:!0,onsuccess:f,onerror:h}):a.json?d.json({data:a.json,onsuccess:f,onerror:h}):e.stream.sketch?g.net.joinRoom(f,h):g.fs.supported?g.fs.openDefaultProject(f,h):g.open.fromServer?g.open.fromServer({onsuccess:f,onerror:h}):f&&f()};g.server&&(d.fromServer=g.server.open);b.zip&&(d.sketch=b.zip.open);b.svg&&(d.svg=b.svg.open);b.pdf&&(d.pdf=b.pdf.open);b.json&&(d.json=b.json.open)};"object"===typeof module&&module.exports&&(module.exports=r.module.Open)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Print=function(g){var d=g.dom;return function(m){m=m||{};var q=function(b){var h=72/(m.dpi||72),f=h*b.width+"px",h=h*b.height+"px";b.style.width=f;b.style.height=h;var a;(a=d.$("#sk-printable"))||(a=d.append(document.body,'<div id="sk-printable"></div>'));a.style.width=f;a.style.height=h;a.innerHTML="";a.appendChild(b);window.print()};"CANVAS"===m.nodeName?q(m):g.save.canvas(m,q)}};"object"===typeof module&&module.exports&&(module.exports=r.module.Print)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Save=function(g){var d=this,m=g.dom,q=g.feature,b=g.io,h=g.util;d.console=function(a){d.canvas(a,console.image)};d.toDataURL=function(){var a=r(arguments),b=a.opts,c=a.onsuccess,k=l(b),f=b.quality||1;d.canvas(b,function(a){c(a.toDataURL(k,f))})};d.toBlob=function(){var a=r(arguments),b=a.opts,c=a.onsuccess,k=l(b),f=b.quality||1;d.canvas(b,function(a){a.toBlob(function(a){c(a)},k,f)})};d.toBlobURL=function(){var a=r(arguments),b=a.onsuccess;d.toBlob(a.opts,
function(a){b(URL.createObjectURL(a))})};d.canvas=function(){var a=g.doc,b=a.canvas2d,c=a.render,k=r(arguments),l=k.opts,m=k.onsuccess;d.perf=g.perf();var s=a.pixelRatio,k=72*s,u=a.getBounds(),w=u.width,x=u.height,y=0,F=0;if(l.crop)var B=function(a){h.thumbnailer({src:a,width:l.width||u.width,height:l.height||u.height,background:l.background,center:l.center,croparea:l.croparea,crop:l.crop,onsuccess:m})};else w=isFinite(l.width)?l.width:w,x=isFinite(l.height)?l.height:x,y=isFinite(l.x)?l.x:0,F=isFinite(l.y)?
l.y:0,B=function(a){m&&m(a)};var C=isFinite(l.dpi)?l.dpi:k,G=C/72,I=l.scale||1;1!==I&&(C*=I,G=C/72);var k=isFinite(l.highRes)?l.highRes:c.highRes||C!==k,C=l.useVisibleRegion||!1,E=(I=l.useSelection||!1)||l.useBBox||!isFinite(y+F+w+x),D=l.usePixelBBox,H=l.background||void 0;"transparent"!==a.background&&"none"!==H&&("default"===H?H=a.backgroundRaw:q.canvas.useBGSave&&(H=a.backgroundRaw));D&&g.raster.getPixelBBox?(E=g.raster.getPixelBBox(a.contexts.layer0.ctx),y=E.x/s>>0,F=E.y/s>>0,w=E.width/s>>0,x=
E.height/s>>0):E&&a.scene?(E=a.scene.getBoundingBox(l),y=E.x*G>>0,F=E.y*G>>0,w=E.width*G>>0,x=E.height*G>>0):(y-=a.scrollLeft,F-=a.scrollTop,w*=G,x*=G);w=Math.ceil(w);x=Math.ceil(x);C&&(w=Math.min(w,b.width),x=Math.min(x,b.height),y=Math.max(y,0),F=Math.max(F,0));if(g.getSnapshot)return g.getSnapshot(B,w,x);if(a.scene){var P=b.width,K=b.height,J=b.x,N=b.y,S=a.zoom,Q=c.highRes,L=a.contexts.layer0,V=L.width,R=L.height;w!==L.width&&(L.width=w);x!==L.height&&(L.height=x);a.pixelRatio=G;a.zoom=1;b.width=
w;b.height=x;b.x=(-y-a.x)*G;b.y=(-F-a.y)*G;c.dirtyClip=!0;c.highRes=k;c.selection=I&&a.selection.items;a.scene.deselectAll();c.now(function(){c.dirtyClip=!0;c.selection=!1;c.highRes=Q;b.width=P;b.height=K;b.x=J;b.y=N;a.zoom=S;a.pixelRatio=s;var d=f(y,F,w,x,G,H);V!==L.width&&(L.width=V);R!==L.height&&(L.height=R);a.render.scene("save.canvas");B(d)})}else B(f(y,F,w,x,G,H))};var f=function(b,c,d,k,f,h){var l=g.doc,q=m.Canvas(d,k),r=q.ctx;h&&"none"!==h&&"transparent"!==h&&(r.save(),r.scale(f,f),r.fillStyle=
h,r.translate(-Math.abs(b%d),-Math.abs(c%k)),r.fillRect(0,0,2*d,2*k),r.restore());b=l.contexts;for(var x in b)a[x]||r.drawImage(b[x],0,0,d,k);return q},a={cache:!0,active:!0,draw:!0};b&&b.json?(d.json=b.json.save,d.assets=b.json.assets):d.json=d.assets=function(){console.warn("IO.JSON support not included.")};d.toServer=g.server&&g.server.save?g.server.save:function(){console.warn("IO.Server support not included.")};d.toFS=g.fs.saveProject?g.fs.saveProject:function(){console.warn("IO.FileSystem support not included.")};
d.svg=b&&b.svg?b.svg.save:function(){console.warn("IO.SVG support not included.")};d.pdf=b&&b.pdf?b.pdf.save:function(){console.warn("IO.PDF support not included.")};d.zip=function(a){"function"===typeof a&&(a={onsuccess:a});"object"!==typeof a&&(a={});a=a||{};var c=a.onsuccess||h.errorHandler("onsuccess");d.folder({embedHistory:a.embedHistory,onsuccess:function(a){b.zip.encode(a,function(a){c(a)},onprogress)}})};d.folder=function(a){"function"===typeof a&&(a={onsuccess:a});"object"!==typeof a&&(a=
{});a=a||{};var b=a.onsuccess||h.errorHandler("onsuccess"),f=a.embedHistory;d.assets(function(a){d.json({embedHistory:f,onsuccess:function(d){var f=[],h;for(h in a){var l=c[a[h].type];f.push({filename:h.substr(1)+"."+l,blob:a[h]})}f.push({filename:"sketch.json",blob:new Blob([d],{type:"application/json"})});b(f)}})})};d.sync=function(a){"object"!==typeof a&&(a={});a=a||{};var b=a.onprogress,c=a.onsuccess||h.errorHandler("onsuccess");a=a.sync||{};if(!h.count(a))return c();var k=0,f;for(f in a)a[f]&&
(!0===a[f]&&(a[f]={}),k++);var l=k,m=function(a){b&&b((l-(k-1))/l*100);--k||c&&c(r)},q,r={};for(f in a)if(q=a[f])switch(f){case "metadata":(function(a){for(var b in a)r[b]=a[b]})(q);m("metadata");break;case "folder":d.folder(h.copyInto(q,{onsuccess:function(a){r.folder=a;m("folder")}}));break;case "zip":d.zip(h.copyInto(q,{onsuccess:function(a){r.sketch=a;m("zip")}}));break;case "svg":d.svg(h.copyInto(q,{onsuccess:function(a,b){r.svg=b;m("svg")}}));break;case "json":d.json(h.copyInto(q,{onsuccess:function(a){r.json=
a;m("json")}}));break;case "thumb":q.background=g.doc.backgroundRaw,q.suffix=q.suffix||"thumb";case "image":var x=q.format||"png";q.idx=q.suffix?q.suffix+"."+x:x;(function(a){a.toBlob?d.toBlob(a,function(b){r[a.idx]=b;m("image")}):d.toDataURL(a,function(b){r[a.idx]=b;m("image")})})(q);break;default:m()}};d.confirm=function(a){a=a||{};var b=a.onrequestsave,c=a.oncontinue,d=a.oncancel;a=function(){g.ui.confirm({message:"change-doc-confirm",callback:function(a){!0===a?b&&b():-1===a?c&&c():d&&d()},labels:{ok:"save",
cancel:"cancel",disregard:"dontSave"}})};g.doc.needsSync()?a():c&&c()};d.chooseEntry=function(a,b,c){return g.client.nodewebkit?(b=g.dom.create('<input id="export_file" type="file" nwsaveas />'),b.addEventListener("change",function(b){console.log(this.value);require("fs").writeFile(this.value,a,function(a){a&&alert("error"+a)})},!1),b.click(),!0):h.exists("chrome.fileSystem.chooseEntry")?(chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:"blah.image"},function(a){a.createWriter(function(a){a.onwriteend=
function(b){a.onwriteend=null;a.truncate(content.size)};a.onerror=function(a){console.log("Write failed: "+a.toString())};a.write(blob)},errorHandler)}),!0):!1};d.fromQuery=function(a,b,c){!q.sync.enabled||g.client.nodewebkit||g.client.incognito?g.download.image():g.on.requestsave?g.on.requestsave({onsuccess:a,onerror:b,onprogress:c}):g.fs.supported?g.fs.saveProject({onsuccess:a,onerror:b,onprogress:c}):g.save.toServer({onsave:a,onerror:b,onprogress:c})};var c={"image/png":"png","image/gif":"gif",
"image/jpeg":"jpeg","image/svg+xml":"svg"},l=function(a){return a.mime?a.mime:a.format?"image/"+a.format:"image/png"},r=function(a){var b=a[0]||{};return"function"===typeof b?{opts:{},onsuccess:b,onerror:a[1]}:{opts:b,onsuccess:a[1]||b.onsuccess||b.callback||h.errorHandler("onsuccess"),onerror:a[2]||b.onerror||h.errorHandler("onerror")}}};"object"===typeof module&&module.exports&&(module.exports=r.module.Save)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(){console.log("success",arguments)}function d(){console.warn("error",arguments)}r.module=r.module||{};r.module.JSON=function(m){function q(a,b,c){b=b||a.onsuccess||g;c=c||a.onerror||d;var h=a.data||a;if(t[String(h)])f.blobToText(h,function(a){q(a,b,c)});else{var r;if("string"===typeof h){if(h.startsWith("<")){m.loader&&m.loader.stop("thread");return}if(l.isValidXhrUrl(h)){A.request({url:h,format:"text",onsuccess:function(d,f){"object"!==typeof a&&(a={});a.data=f;q(a,b,c)}});
return}try{r=JSON.parse(h)}catch(s){c(s,h);return}}else r=h;r?b(r):c()}}function b(a,b,c){if(c||b)a=JSON.stringify(a);c&&(a=new Blob([a],{type:"application/json"}));return a}var h=this,f=m.convert,a=m.feature,c=m.lang,l=m.loc,A=m.util,t=A.arrayToObject(["[object Blob]","[object File]"]);this.loadMetadata=function(a,b,c){var d=m.doc;d.mixinMetaData(a,d);d.setMetrics(a);(a=a.background)?d.setBackground(a,b,c):b()};this.open=function(b,d,k,f){function l(b){function c(){f&&f(100);d&&d(b);m.emit("open")}
function e(a){f&&f(99*a>>0)}function q(){if(g.history&&a.history.vector){var d=b.history&&b.history.vector;d&&A.isNotEmpty(d.data)?g.history.setData(d):g.history.store({cmd:"open",name:"open",data:[]},null,!1)}b.actions?g.scene.load({objects:b.actions,onsuccess:c,onprogress:e}):c()}x?h.merge(b,d,k):(f&&f(0),b=h.upgrade(b),r&&u?h.loadMetadata(b.metadata,q,q):r?h.loadMetadata(b.metadata,c,c):c())}var g=m.doc,u=!1!==b.loadDocument,r=!1!==b.loadMetadata,x=b.mergeIntoScene||!1;d=b.onsuccess||d;k=b.onerror||
k;f=b.onprogress||f||function(a){m.loader&&(0===a?m.loader.create("thread",c.translate("opening-format",".JSON")+"...",0):100===a?m.loader.stop("thread"):m.loader.create("thread",null,a))};q(b,function(a){a.assets?m.assets.addList(a.assets,function(){l(a)}):l(a)},k)};this.merge=function(a,b,c){if(a){c=m.doc;a=a.actions?a.actions:a;for(var d=0;d<a.length;d++){var f=a[d];void 0===c.scene.getById(f.id)&&c.scene.push(f)}c.scene.load({onsuccess:b})}else c&&c()};this.save=function(a){"function"===typeof a&&
(a={onsuccess:a});"object"!==typeof a&&(a={});a=a||{};var c=m.doc,d=a.toBlob||!1,f=!1!==a.toString,l=a.embedAssets||!1,s=a.embedHistory||!1,q=a.quality||1,r=a.onsuccess||g,x=c.scene.children,y={};y.metadata=c.mixinMetaData(c,{});y.version=m.__version;c.history&&s&&(y.history={},y.history.vector=c.history.vector);l?h.assets({quality:q,toDataURL:!0,onsuccess:function(a){y.assets=a;y.actions=c.scene.roundData(c.scene.copyDeepCompress(x));var e=b(y,f,d);r(e,a)}}):(y.actions=c.scene.roundData(c.scene.copyDeepCompress(x)),
a=b(y,f,d),r(a))};this.assets=function(b){function c(){!--B&&C>=t-1&&h(y)}function d(b){++B;var k=m.assets.getId(b.src);if(k&&!y[k]){b.src=k;var e=m.assets.getItem(k);b=b.type;if("clipart"===b){if("function"!==typeof e.stringify){a.debug&&console.warn("cannot stringify svg",e);c();return}if(q){y[k]=e.srcXML&&!e.__colormap?e.srcXML:e.stringify();c();return}}else if(m.detect.useStampResource[b]&&"image/jpeg"===r&&(b=e.getContext("2d"),b.save(),b.globalCompositeOperation="destination-atop",b.fillStyle=
"#fff",b.fillRect(0,0,e.width,e.height),b.restore()),q){y[k]=m.assets.getDataURL(k,r,x);c();return}l?m.assets.getBlobURL(k,function(a){y[k]=a;c()},r,x):m.assets.getBlob(k,function(a){y[k]=a;c()},r,x)}else c()}"function"===typeof b&&(b={onsuccess:b});"object"!==typeof b&&(b={});b=b||{};var f=m.doc,f=b.objects||f.scene.children,h=b.onsuccess||g,l=b.toBlobURL||!1,q=b.toDataURL||!1,r=b.mime||"image/png",x=b.quality||1;1!==x&&(r="image/jpeg");var y={},t=f.length;if(0===t||m.__nodejs)h(y);else for(var B=
0,C=0;C<t;C++)b=f[C],b.src?d(b):c(++B)};this.upgrade=function(b){b.version=b.version||"2.0a";b.version=b.version.replace("dev","");for(var c=new A.version(b.version||"2.0"),d={"2.0a":c.isLessThan("2.0a"),"3.3":c.isLessThan("3.3"),"3.4":c.isLessThan("3.4"),"3.4.6":c.isLessThan("3.4.6"),"3.4.6.1":c.isLessThan("3.4.6.1"),"3.5.9.2":c.isLessThan("3.5.9.2"),"3.6.8":c.isLessThan("3.6.8"),"3.7.1":c.isLessThan("3.7.1")},f=b.actions||[],h=0,l=f.length;h<l;h++){var g=f[h];g.bbox=g.bbox||{};g.bbox.scale=g.bbox.scale||
{x:1,y:1};if(d["3.7.1"]){if(d["3.6.8"]){if(d["3.5.9.2"]){if(d["3.4.6"]){if(d["3.3"]){if(d["2.0a"]){var q=g;q.color_mode&&(q.fill.mode=q.color_mode);q.color_noise&&(q.fill.noise=q.color_noise);q.flow&&(q.spacing=q.flow)}q=g;"string"===typeof q.src&&(q.src=q.src.replace("/brush/","/stamp/"),q.src=q.src.replace("/animal/","/animals/"));"polygon"===q.type&&(q.type="regularPolygon");"radialBurst"===q.type&&(q.spread=q.slope,delete q.slope);"0,00000000"===q.fill.gradient&&(q.fill.gradient="none")}q=g;q.content&&
(q.content=q.content.split("\uf7c2\uf7a0").join(" "));r.detect.brush[q.type]&&q.bbox.padding&&(q.bbox.x-=2*q.bbox.padding,q.bbox.y-=2*q.bbox.padding);"paint"===q.composite&&(q.composite="source-over");"light"===q.composite&&(q.composite="lighter");isFinite(q.saturation)&&(q.type="image");"image"===q.type&&(delete q.hue,delete q.saturation,delete q.temperature,delete q.tint,delete q.exposure,delete q.brightness,delete q.contrast,delete q.filters)}q=g;"floodfill"===q.type&&(q.usePixelData=!0);q.roundness&&
(q.roundness/=200);q.filters&&(q.filter=q.filters,delete q.filters)}q=g;"string"!==typeof q.toolkitId&&(q.toolkitId=r.doc.toolkit.getToolkitId(q.type));q.fill&&(q.fill=new r.style.Fill(q.fill),q.fill.enabled=!0,q.fill.angle=225);q.stroke&&(q.stroke=new r.style.Fill(q.stroke),q.stroke.angle=225)}g.pointerId=g.finger||"0:1";delete g.finger}}f=b.metadata=b.metadata||{};d["3.6.8"]&&(d["3.4.6.1"]&&(d["3.4.6"]&&(d["3.4"]&&(d=b.metadata,b.title&&(d.title=b.title),b.description&&(d.description=b.description),
isFinite(b.width)&&(d.width=b.width),isFinite(b.height)&&(d.height=b.height)),d=b.metadata,"string"!==typeof d.units&&(d.units=!1===d.autoResize||!1===d.infiniteCanvas?"px":"%")),d=b.metadata,isFinite(d.x+d.y)&&(d.x=-d.x,d.y=-d.y)),d=b.metadata,b.history&&b.history.vector&&(b.history.vector={max:4294967295,current:0,data:[]}),"bluePrint"===d.background&&(d.background="blueprint"),"%"===d.units&&(d.width*=100,d.height*=100));f.uuid=f.uuid||A.uuid();f.background=f.background||"transparent";f.units=
f.units||"%";isFinite(f.width+f.height)||(f.units="%",f.width=100,f.height=100);isFinite(f.x+f.y)||(f.x=0,f.y=0);f.pages&&f.pages.length||(f.pages={length:1,data:[{width:f.width,height:f.height}]});a.debug&&c.isLessThan(m.__version.replace("dev",""))&&console.warn("upgraded from:",c);return b}};"object"===typeof module&&module.exports&&(module.exports=r.module.JSON)})(sketch);
(function(r){r.addToolkit("brush",function(g,d){function m(a){if("eyeDropper"!==g.ui.colorPicker.state){var c=eventjs.getPointInNode(a,d.container),f=b("ghost",!0);if(void 0!==f){var h=f.object.brush;h.pointerId="ghost";h.isGhost=!0;h.isRecording=!0;h.event=a;h.composite=k.composite;h.interval=f.interval;h.pointerId=h.pointerId||"A:0";h.dirtyRender=!0;f.fill&&f.fill.__colors&&(h.fill=f.fill);f.stroke&&f.stroke.__colors&&(h.stroke=f.stroke);g.assets.isDefault(h.resource)&&g.assets.exists(h.src)&&(h.resource=
g.assets.getItem(h.src));var l=d.zoom;a=d.scrollLeft;var f=d.scrollTop,p=c.x/l,c=c.y/l;if(isFinite(h.ghostDistance+h.ghostX+h.ghostY)){var m=h.ghostX-p,q=h.ghostY-c,s=Math.sqrt(m*m+q*q),l=h.ghostDistance;s>l&&(m=Math.atan2(q,m),h.ghostX=p+Math.cos(m)*l,h.ghostY=c+Math.sin(m)*l,h.x=p,h.y=c)}else h.ghostX=p,h.ghostY=c,h.px=p,h.py=c,h.x=p,h.y=c;x.ghostX=h.ghostX-a;x.ghostY=h.ghostY-f;h.pathRecord=[{cmd:"M",x:h.ghostX,y:h.ghostY},{cmd:"L",x:p+.1,y:c+.1}];e.dirtyPointer=!0}}}function q(a){f.device.brush&&
(e.dirtyPointer=!0,e.removePointer("ghost"),delete x.ghostX,delete x.ghostY)}function b(a,b,c){var d=f.device.brush||{};d.usePointerThread&&(x.pointerId?a=x.pointerId:x.pointerId=a);var k=e.pointer[a];if(!k||!k.object)if(b)d.disable&&d.disable(),k=e.pointer[a]={},k.isFromBrowser=!0,k.object=c||p.copyProperties(f,f.device),k.object.seed=f.device.brush.seed,k.object.id=p.createId({id:a}),f.loadResource({object:k.object}),f.device=k.object,f.device.brush&&f.device.brush.enable&&f.device.brush.enable();
else{void 0!==d&&!0===d.useMonitor||console.warn("brush.onRecord - no pointer");return}if(k.object.brush)return k.pointerId=a,k;console.warn("brush.onRecord - no brush",k)}function h(a,b,c){var d=this.brush;if(d){this.dirtyCheck&&p.copyAttributes(f.attributes,this,d);var k=d.interval||this.interval;d.ctx=a;d.active=f.draw;d.cache=f.cache;d.isGhost=!1;d.isRecording=!1;d.interval=k;d.bbox=this.bbox;d.state=d.state||"up";if(!c){c=this.bbox;var e=c.scale;b.matrix.x=0>e.x?-c.width*e.x:0;b.matrix.y=0>e.y?
-c.height*e.y:0;b.matrix.y+=c.padding*(e.y-(e.x-1)-1);b.apply(a,!0)}this.fill&&this.fill.__colors&&(d.fill=this.fill);this.stroke&&this.stroke.__colors&&(d.stroke=this.stroke);d.preprocess&&d.preprocess();f.renderBrush(d.prepare(),this.data,d);d.interval=k;d.postprocess&&d.postprocess()}else console.warn("brush undefined",d,this)}var f=this,a=d.canvas2d,c=d.contexts,l=g.detect,r=g.feature,t=g.net,e=d.render,p=d.scene,k=g.style,v=d.toolkit,z=g.util,s=g.vector,u=s.Cubic,w=s.Point,x={};f.id="brush";
f.units=r.tools.brush.units;f.device={};f._attributes={pathSimplify:"number",pathSmoothing:"number",content:"string",finger:"string",blur:"number",mode:"number",curved:"boolean",diameter:"number",distance:"number",increment:"number",innerRadius:"number",lineWidth:"number",outerRadius:"number",radius:"number",speed:"number",interval:"number",spacing:"clamp",spread:"number",src:"string",tolerance:"number",contiguous:"boolean",rotate:"clamp",scale:"clamp",translate:"clamp",data:"object"};var y=z.copy(f._attributes);
f.attributes=z.copyInto(g.attrs.__styledObject,y);(function(){var a={};f.enabled=!1;f.enable=function(){var b=f.device.brush||{};b.enable&&b.enable();!1===f.enabled&&(f.enabled=!0,F.enable(),g.keyboard&&g.keyboard.listen(d,a),a.ambiguous=eventjs.proxy.ambiguous({target:c.active,ongesture:{listener:v.select.onGesture},ondrag:{listener:f.onRecord,maxFingers:b.usePointerMax||z.INFINITY,monitor:b.useMonitor||!1}}))};f.disable=function(){var b=f.device.brush||{};b.disable&&b.disable();!0===f.enabled&&
(f.enabled=!1,F.disable(),eventjs.bulk(a,"remove"))}})();f.addPointClone=function(a){var b=a.pointerId,c=a.batchRecord,k=a.pathRecord;if(c&&0===c.length){var f={cmd:"L",x:a.x,y:a.y};c.push(f);k.push(f);a.state="move";a.dirtyRender=!0;d.on.record&&d.on.record({op:"TOOL",data:{state:a.state,pointerId:b,point:p.pointInPeerSceneFromCanvas(f),metaKey:eventjs.metaKey,shiftKey:eventjs.shiftKey}});e.dirtyPointer=!0}};f.loadResource=function(a){var b=a.object,c=a.onerror,k=a.onsuccess;a=b.type;var e=g.module.toolkit["brush."+
a];e?new e(g,d,b,function(a,e){e?c&&c(b,"&ldquo;"+b.src+"&rdquo; "+b.type+" unavailable."):(p.copyProperties(f,b,a),a.toolkit=f,a.layer=b,a.prepare=a.prepare||v.prepareBrush,a.seed=b.seed||a.seed||z.Random.seed(),a.ctx=f.ctx,a.active=f.draw,a.cache=f.cache,d.loadStyle(a,function(){b.fill&&(b.fill.__colors=a.fill.__colors);b.stroke&&(b.stroke.__colors=a.stroke.__colors);b.dirtyCheck=!0;b.render=h;b.brush=a;k&&k(b)}))}):c&&c(b,a+" unavailable.")};f.createObject=function(a,b){var c=a.device,d=a.object,
k=p.copyProperties(f,c);k.data=z.copy(d.path);k.bbox=z.copyInto(d.bbox,f.updateObjectSize(k,!0));k.interval=c.__interval;d=p.addObject(k);b&&b(d);return d};var F=function(){var a={},b=!1;return{enable:function(){!1!==f.device.brush.useGhost&&eventjs.isMouse&&!1===b&&(b=!0,a.onGhostOut=eventjs.add(c.active,"mouseout",q),a.onGhostMove=eventjs.add(c.active,"mousemove",m))},disable:function(){!0===b&&(b=!1,eventjs.bulk(a,"remove"),e.dirtyPointer=!0,e.removePointer("ghost"))}}}();f.onRecord=function(a,
c){if("eyeDropper"!==g.ui.colorPicker.state){var k=c.state,h=c.pointerDown,l=c.pointerStart,m=c.pointerDrag,q=c.pointerMove,r=c.pointerEnd,u=v.getPointerUid(a,c),y=isFinite(c.shiftKey)?c.shiftKey:eventjs.shiftKey,t=isFinite(c.metaKey)?c.metaKey:eventjs.metaKey,A=!!a,Q=A&&d.on.record,L=A&&l,V=A&&(l||q);d.__interacting=h;A&&(r&&(f.device.brush.event=a),l?(F.disable(),eventjs.prevent(a)):r?eventjs.prevent(a):eventjs.cancel(a));if(h=b(u,L)){h.lastModified=Date.now();var u=h.pointerId,R=h.object,h=R.type,
L=R.brush;L.state=k;L.pointerId=u;L.isGhost=!1;L.isRecording=!0;L.isFromBrowser=A;var W=L.batchRecord||(L.batchRecord=[]),U=L.pathRecord||(L.pathRecord=[]),X=U.length,O=d.scrollTop,Y=d.scrollLeft,T=d.zoom;if(V){var V=c.env,Z=Y+"x"+O;V.scroll!==Z&&(V.scroll=Z,c.resetBoundingBox(),L.dirtyRender=!0)}var V=O-O/T,Z=Y-Y/T,fa=c.x/T+Z,da=c.y/T+V,$={x:fa,y:da},ha={x:c.start.x/T+Z,y:c.start.y/T+V};if(Q){var na;l&&(na=p.copyDeepCompress(p.copyAttributes(f.attributes,L)));d.on.record({op:"TOOL",data:{config:na,
state:k,pointerId:u,point:p.pointInPeerSceneFromCanvas(c),metaKey:t,shiftKey:y}})}if(l)L.__snap=void 0,L.__snapShift=y;else if(L.__snapShift)if(L.__snap)k=L.__snap,$=w.nearestOnLine($,k.origin,k.end);else if(k=w.distance(ha,$),4<k/T)y=.25*Math.PI,k=w.angle(ha,$),k=Math.round(k/y)*y,L.__snap={angle:k,origin:$,end:w.atRadianDistance($,k,1)};else return;if(!(l&&L.onPointerStart&&L.onPointerStart(c,$)||q&&L.onPointerMove&&L.onPointerMove(c,$)||m&&L.onPointerDrag&&L.onPointerDrag(c,$)))if(r&&L.onPointerEnd&&
L.onPointerEnd(c,$))e.removePointer(u);else{if(r&&X&&L.onDoubleTap){q=Date.now();k=L.__dblTapObject;y=U[X-1];if(2<X&&k&&(k=w.distance(k,y),500>q-L.__dblTapTimestamp&&15>=k&&L.onDoubleTap(c,$)))return;L.__dblTapObject=w.clone(y);L.__dblTapTimestamp=q}L.onPointer&&L.onPointer(c,W,$)||(l?(L.__interval=L.interval,L.ghostDistance&&A&&isFinite(x.ghostX+x.ghostY)&&($.x=x.ghostX+Y/T+Z,$.y=x.ghostY+O/T+V,delete x.ghostX,delete x.ghostY),$.cmd="M",!0===L.click?W.splice(0,1,$):(W.push($),U.push($)),L.ghostDistance&&
($={cmd:"L"},$.x=fa,$.y=da,W.push($),U.push($))):($.cmd=m?"L":"Z",L.lineRecord?(ha.cmd="M",W.splice(0,1,ha),U.splice(0,1,ha),$.cmd="L",W.splice(1,1,$),U.splice(1,1,$),r&&(l=w.clone($),l.cmd="Z",W.splice(2,1,l),U.splice(2,1,l),L.lineRecordRotate&&(l=W[0],m=W[1],k=w.angle(l,m),l=w.atTimeOnLine(l,m,.5),m=new s.Transform,m.translate(l.x,l.y),m.rotate(-k/2),m.translate(-l.x,-l.y),m.flatten(W),m.flatten(U),W.__rotate=k*z.RAD_DEG))):L.click?"Z"!==$.cmd&&W.splice(0,1,$):(W.push($),U.push($))),r&&(e.removePointer(u),
A&&(f.gestures--,f.device.interval=L.interval||1,1===c.fingers&&F.enable()),U.length&&(R=f.createObject({device:L,object:{toolkitId:"brush",type:h,path:U,bbox:{rotate:W.__rotate||0}}}),f.renderToScene(R,function(){A&&f.addToHistory(R)})),A&&(f.device.brush.seed=z.Random.seed())),L.dirtyRender=!0,e.dirtyPointer=!0)}}}};f.closePointerThread=function(){delete x.pointerId};f.renderToScene=function(a,b){if(r.vector.edit)e.objectToScene(a,b);else{var d=c.layer0.ctx;d.globalAlpha=1;d.globalCompositeOperation=
"source-over";d.drawImage(c.draw,0,0);a.dirtyCheck=!1;b&&b()}};f.renderBrush=function(a,b,c){var d=b.length;if(0!==d){var e=c.type,h="disco"===c.composite,g=c.isEraser,p=c.isRecording,m=c.isGhost,q=isFinite(c.pathSmoothing),v=isFinite(c.pathSimplify);c.dirtyRender=!1;c.interval=c.interval||1;c.path=c.pathRecord||b;if(a=c.renderTo||c.ctx){a.save();l.useLocalAlpha[e]&&(a.globalAlpha=c.opacity/100);a.globalCompositeOperation=g?"source-over":k.getComposite(c.composite,!!l.useSafeGCO[e]||!p);if(c.render){if(q||
v)v&&(c.path=s.simplify(c.path,c.pathSimplify,!0)),q&&(c.path=s.catmullRomSpline({amount:c.pathSmoothing,path:c.path}));b=b[d-1];c.cmd=b&&b.cmd;c.render(c)}else for(var e=u.pointAtTime,r,z=0;z<d;z++){r=p||m?b.shift():b[z];var y=c.x=r.x,x=c.y=r.y,t=c.cmd=r.cmd;if("M"===t)b.increment=0,c.px=c.__px=g=y,c.py=c.__py=v=x,p&&f.gestures++,c.drawStart&&c.drawStart();else if("Z"===t){c.drawEnd&&c.drawEnd();break}else c.px=g=c.__px,c.py=v=c.__py;if(c.draw){var w=c.spacing,A=w.min,F=w.max,O=y-g,Y=x-v,w=Math.sqrt(O*
O+Y*Y)+1;if(!(w<A&&"M"!==t)){t=O/w||0;A=Y/w||0;Y=F||1;F=F<w-1?F:w-1;if(q=q&&!p){var T=b[z-2]||{x:g,y:v},Z={x:g,y:v},fa=r,da=b[z+1]||r;if(!(T&&Z&&fa&&da))continue}r=g;for(O=v;F<w;F+=Y)q?(x=e(g,v,Z.x+(fa.x-T.x)/6,Z.y+(fa.y-T.y)/6,fa.x+(Z.x-da.x)/6,fa.y+(Z.y-da.y)/6,fa.x,fa.y,F/w),y=x.x,x=x.y):(y=g+t*F,x=v+A*F),h&&(a.globalCompositeOperation=0===c.interval%2?"lighter":"source-over"),c.x=y,c.y=x,c.px=r,c.py=O,c.draw(b.increment),c.interval++,r=y,O=x;c.__px=y;c.__py=x;b.increment++}}}a.restore()}else console.warn("undefined rendering context")}};
f.onMultiRecord=function(a,c,d){a=[{type:"arrow",composite:"hard-light",opacity:100,diameter:60,curved:!0},{type:"pen",composite:"normal",opacity:100,diameter:{min:2,max:30}}];c.x-=-5*a.length/2;c.y-=-5*a.length/2;c.interval=1;for(var k=0;k<a.length;k++){if(c.pointerStart){var e=a[k],h=v.brush,l=p.copyAttributes(h.attributes,h.device.brush,{});p.copyAttributes(h.attributes,e,l);b(k,!0,l)}c.x+=-5;c.y+=-5;c.interval+=-5;c.identifier=k;c.isFromBrowser=!0;f.onRecord(null,c,d)}};f.updateObjectSize=function(b,
k){var e=b.bbox,h=e&&e.scale.x||1,l,g=d.config[b.type],p=0;g.diameter&&b.diameter&&(isFinite(b.diameter)?p=b.diameter||0:isFinite(b.diameter.value)?p=b.diameter.value:isFinite(b.diameter.min)&&(p=b.diameter.max));"spirograph"===b.type&&(l=b.distance||0,p+=2*(Math.abs((b.outerRadius||0)-(b.innerRadius||0))+l));l=g.scale&&b.scale&&b.scale.max||1;var m=g.translate&&b.translate&&b.translate.max||0,m=2*Math.sqrt(m*m+m*m);l=Math.ceil(((2*(g.blur&&b.blur||0)+p+(g.lineWidth&&b.lineWidth||0))*l+m)/2);"floodfill"===
b.type?(g=c.layer0,l=0,m={x1:0,y1:0,x2:g.width,y2:g.height}):m=isFinite(b.pathSmoothing)?new s.BBox(s.catmullRomSpline({amount:b.pathSmoothing,path:b.data})):new s.BBox(b.data);if(e)var q=e.units||"objectBoundingBox",v=(e.padding||0)-l,g=e.x+v*h,p=e.y+v*h,v=0;else q=f.units,v=l,g=m.x1,p=m.y1;var r=m.x2-m.x1+2*l,u=m.y2-m.y1+2*l,q={x:g-v*h,y:p-v*h,width:r,height:u,padding:l,units:q,viewBox:[0,0,r,u]};if(k&&!e){g=m.x1+l*h-l;p=m.y1+l*h-l;e=b.data;for(h=0;h<e.length;h++)l=e[h],l.x-=g,l.y-=p,isFinite(l.x1+
l.y1)&&(l.x1-=g,l.y1-=p),isFinite(l.x2+l.y2)&&(l.x2-=g,l.y2-=p);e=d.zoom*d.pixelRatio;q.x-=1*a.x/e;q.y-=1*a.y/e;return q}q.scale=e.scale;q.rotate=e.rotate;return b.bbox=q};f.addToHistory=function(a){d.history&&a&&d.history.store({cmd:"add",name:a.type,data:[a]},{userId:t.userId})};return v.init(f)})})(sketch);
(function(r){r.addToolkit("brush.arrow",function(g,d,m,q){var b=this,h=d.toolkit;g=g.vector;var f=g.Shape,a=g.Point;b.construct=function(a,c){b.curved=!!a.curved;b.diameter=isFinite(a.diameter)?a.diameter:30;b.ghostDistance=isFinite(a.ghostDistance)?a.ghostDistance:10;b.mode=a.mode;b.pathSimplify=.5;b.pathSmoothing=.5;!1===b.curved&&(b.lineRecord=!0,b.lineRecordRotate=!0);c(b)};b.render=function(){var l=b.renderTo,g=b.path,m=g.length-1,e=b.mode||1,p=b.diameter,k=p/2;l.save();l.beginPath();l.lineWidth=
p/4;if(b.curved){l.lineCap="round";l.lineJoin="round";f.VOBPathOffset(l,g,0,0);e=h.getBBox(b);l.strokeStyle=d.getW3CStyle("fill",l,e.x1,e.y1,e.x2,e.y2,b);l.stroke();var p=g[m],q=g[m];if(p&&q){for(;m--;)if(7<a.distance(q,g[m])){p=g[m];break}var m=1,g=k/a.distance(p,q),r=a.atTimeToRadius(p,q,m-g,k),s=a.atTimeToRadius(p,q,1+g,0),u=a.atTimeToRadius(p,q,m-g,-k);l.beginPath();c(l,r,s,u);l.fillStyle=l.strokeStyle;l.fill()}}else if(l.lineCap="miter",l.miterLimit=20,p=g[0],q=g[m],p&&q){var m=1,w=.5*k,g=k/
a.distance(p,q),x=Math.min(1.5,k/4*.25);if(1===e)var r=a.atTimeToRadius(p,q,m,w),s=a.atTimeToRadius(p,q,m,-w),u=a.atTimeToRadius(p,q,-g,-x),y=a.atTimeToRadius(p,q,-g,x);else 2===e?(y=a.atTimeToRadius(p,q,0,w),u=a.atTimeToRadius(p,q,0,-w),s=a.atTimeToRadius(p,q,m+g,-x),r=a.atTimeToRadius(p,q,m+g,x)):(r=a.atTimeToRadius(p,q,m,w),s=a.atTimeToRadius(p,q,m,-w),u=a.atTimeToRadius(p,q,0,-w),y=a.atTimeToRadius(p,q,0,w));l.moveTo(r.x,r.y);l.lineTo(s.x,s.y);l.lineTo(u.x,u.y);l.lineTo(y.x,y.y);l.closePath();
if(1===e||3===e)r=a.atTimeToRadius(p,q,m-g,k),y=a.atTimeToRadius(p,q,1+g,0),m=a.atTimeToRadius(p,q,m-g,-k),c(l,r,y,m);if(2===e||3===e)r=a.atTimeToRadius(p,q,g,k),y=a.atTimeToRadius(p,q,-g,0),m=a.atTimeToRadius(p,q,g,-k),c(l,m,y,r);h.applyStyle(l,b)}l.restore()};var c=function(b,c,d,e){b.moveTo(c.x,c.y);b.lineTo(d.x,d.y);b.lineTo(e.x,e.y);d=a.distance(c,e);c=a.atTimeToRadius(c,e,.5,.25*d);b.lineTo(c.x,c.y);b.closePath()};b.construct(m,q)})})(sketch);
(function(r){r.addToolkit("brush.calligraphy",function(g,d,m,q){var b=this;b.construct=function(d,f){b.diameter=isFinite(d.diameter)?d.diameter:30;b.spacing=d.spacing||[0,0];b.angle=d.angle||0;b.pathSmoothing=0;f(b)};b.draw=function(){var d=b.diameter,f=b.renderTo;f.save();f.beginPath();f.globalCompositeOperation="source-over";f.lineJoin="round";f.lineCap="round";f.translate(-d/2,0);f.moveTo(b.px,b.py);f.lineTo(b.px+d,b.py-d/2);f.lineTo(b.x+d,b.y-d/2);f.lineTo(b.x,b.y);f.closePath();var d=b.fill.__colors||
[],a=d.length,d=d[Math.abs((2*b.interval+1)%(2*a)-a)];f.fillStyle=d;f.fill();f.strokeStyle=d;f.stroke();f.restore()};b.construct(m,q)})})(sketch);
(function(r){r.addToolkit(["brush.eraser","brush.paintbrush"],function(g,d,m,q){var b=d.toolkit,h=d.render,f=g.vector.Shape;this.bitmap={};this.construct=function(a,b){this.diameter=isFinite(a.diameter)?a.diameter:30;this.blur=isFinite(a.blur)?a.blur:10;this.spacing=a.spacing||[0,0];this.pathSmoothing=this.pathSimplify=.5;b(this)};this.render=function(a){var c=this.isRecording,l=this.isEraser,g=this.useAreaTracker,m=this.renderTo,e=d.pixelRatio,p=b.getBBox(this),k=this.diameter,q=this.blur*e;if(q)if(a&&
a.bbox){var r=a.bbox.scale.x;a=Math.ceil(a.bbox.width)*e;var s=h.cache.padding/Math.abs(r);a=a-q+s;s=0}else{r=d.zoom;a=d.viewport;var u=a.height,w=a.width,x=k+q;u>w?(a=w/r+k/2,s=0,0>this.x*r-w/2?(a-=Math.min(0,p.x1+x),a=-1*a*e):(a-=Math.min(0,a-(p.x2+x)),a*=e)):(a=0,s=u/r+k/2,0>this.y*r-u/2?(s-=Math.min(0,p.y1+x),s=-1*s*e):(s-=Math.min(0,s-(p.y2+x)),s*=e))}else s=a=0;m.save();m.beginPath();f.VOBPathOffset(m,this.path,-a/e,-s/e);l?(l=d.backgroundRaw,c&&m.translate(d.canvas2d.x,d.canvas2d.y)):(c=this.fill.__colors||
[0,"#000"],l=c[1%c.length]);q?(m.strokeStyle="#000",m.shadowOffsetX=a*r,m.shadowOffsetY=s*r,m.shadowBlur=Math.abs(q*r),m.shadowColor=l&&l.indexOf?l:"#000"):m.strokeStyle=l;m.lineCap="round";m.lineJoin="round";m.lineWidth=k;m.stroke();m.shadowBlur=null;g&&b.applyStyleToArea(m,this,p);m.restore()};this.construct(m,q)})})(sketch);
(function(r){r.addToolkit("brush.pencil",function(g,d,m,q){var b=this,h=d.toolkit,f=g.vector.Shape;b.construct=function(a,c){b.diameter=isFinite(a.diameter)?a.diameter:30;b.spacing=a.spacing||[0,0];b.pathSimplify=.5;b.pathSmoothing=.5;c(b)};b.render=function(a){var c=b.path;a=b.renderTo;a.save();a.beginPath();a.lineCap="round";a.lineJoin="round";a.lineWidth=b.diameter;f.VOBPathOffset(a,c,0,0);c=h.getBBox(b);a.strokeStyle=d.getW3CStyle("fill",a,c.x1,c.y1,c.x2,c.y2,b);a.stroke();a.restore()};b.construct(m,
q)})})(sketch);
(function(r){r.addToolkit(["brush.streamer","brush.pen"],function(g,d,m,q){var b=this,h=Math.PI/2,f={},a=function(a,b,d,f,e){e=b.cos;var h=b.sin;a.arc(d,f,1*b.thickness,0,2*Math.PI,!0);a.moveTo(b.x+e,b.y+h);a.lineTo(d+1*e,f+1*h);a.lineTo(d-1*e,f-1*h);a.lineTo(b.x-e,b.y-h);a.lineTo(b.x+e,b.y+h);b.useFillAtEnd||(a.fillStyle=b.color,a.fill(),a.beginPath())};b.construct=function(a,d){b.spacing=a.spacing||[0,0];b.diameter=a.diameter||10;d(b)};b.drawStart=function(){var a=b.renderTo;a.lineCap="round";a.lineJoin=
"round";a.beginPath();a=b.fill;a.mode="cycle";var d=f[b.pointerId]={};d.useFillAtEnd=!b.isRecording&&"gradient"!==a.type;d.x=b.x;d.y=b.y;d.px=b.x;d.py=b.y;d.vectorx=0;d.vectory=0;d.cos=0;d.sin=0;d.thickness=0;d.angle=h;d.color="#000"};b.draw=function(){var c=f[b.pointerId];if(void 0===c)console.warn("streamer not setup",c);else{var d=b.renderTo,g=b.x-c.px,m=b.y-c.py;if(!(1>=Math.abs(g)&&1>=Math.abs(m))){var e;e=b.fill.__colors||[];var p=e.length;e=e[Math.abs((2*b.interval+1)%(2*p)-p)];c.color=e;0>
g*c.vectorx+m*c.vectory&&(a(d,c,b.px,b.py,b),c.x=c.px=b.px,c.y=c.py=b.py,c.angle+=Math.PI,c.thickness*=1);c.x+=.5*(b.x-c.x);c.y+=.5*(b.y-c.y);var p=c.x-c.px,k=c.y-c.py,q=Math.sqrt(p*p+k*k),r=b.diameter,s=Math.max(r.min,Math.min(r.max,q)),p=0!==q?h+Math.atan2(k,p):0,r="pen"===b.type?(.5+Math.max(0,r.max-s)+r.min)/2:(.5+s)/2,k=c.thickness,s=c.angle,r=k+.42*(r-k),u=Math.sin(s),w=Math.cos(s),s=k*u,k=k*w,x=r*Math.sin(p),y=r*Math.cos(p),F=Math.sin(p-h),B=Math.cos(p-h),C=c.px-.25*B,G=c.py-.25*F,B=c.x+.25*
B,F=c.y+.25*F,u=.33*q*u,I=-.33*q*w,q=C+k+u,w=G+s+I,u=C-k+u,I=G-s+I;d.moveTo(C+k,G+s);d.quadraticCurveTo(q,w,B+y,F+x);d.lineTo(B-y,F-x);d.quadraticCurveTo(u,I,C-k,G-s);d.lineTo(C+k,G+s);c.useFillAtEnd||(d.fillStyle=e,d.fill(),d.beginPath());c.px=c.x;c.py=c.y;c.angle=p;c.thickness=r;c.vectorx=g;c.vectory=m;c.cos=y;c.sin=x}}};b.drawEnd=function(){var c=b.pointerId,d=f[c];if(void 0!==d){a(b.renderTo,d,b.x,b.y,b);if(d.useFillAtEnd){var h=b.renderTo;h.fillStyle=d.color;h.fill()}delete f[c]}};b.construct(m,
q)})})(sketch);
(function(r){r.addToolkit(["brush.crayon","brush.stamp"],function(g,d,m,q){var b=this,h=g.dom,f=g.assets,a=g.util,c=g.vector;b.bitmap={};b.getStampResource=function(a,b,c){f.exists(a)?b(f.getItem(a)):f.add({type:"image",data:a,onerror:c,onsuccess:function(a,c){b(c)}})};b.construct=function(c,d){b.rand=new a.Random(b.seed||1);b.diameter=c.diameter||20;b.speed=c.speed||void 0;b.rotate=c.rotate||{min:0,max:0};b.scale=c.scale||{min:1,max:1};b.translate=c.translate||{min:0,max:0};b.spacing=c.spacing||
l(b.diameter);b.pollock=c.pollock||!1;b.src=c.src||void 0;b.resource=new Image;b.src?b.getStampResource(b.src,function(a){b.resource=a;b.resource.loaded=!0;b.resource.error=!1;d(b)},function(){b.resource.loaded=!0;b.resource.error=!0;d(b,"404")}):d(b)};b.drawStart=function(){b.scaleX=b.bbox&&b.bbox.scale.x||1;"crayon"===b.type&&(b.fill.mode="cycle",b.spacing=l(b.diameter),b.src=void 0,b.scale={min:1,max:1},b.rotate={min:1,max:360});var c=b.pointerId,d=b.rand=new a.Random(b.seed||1);b.rr=d.toDouble();
b.sr=d.toDouble();b.bitmap[c]=b.create()};b.draw=function(){var d=b.renderTo,f=b.ratio,e=b.pointerId;if(b.bitmap[e]){var e=b.bitmap[e],h=e.canvas.width,k=e.canvas.height,l=h/2,g=k/2;if(l&&g){var m=b.translate.min||1E-5,q=b.translate.max||1E-5;if(0===m&&0===q)var r=0,m=0;else r=(q-m)*b.rand.toDouble()+m,m=(q-m)*b.rand.toDouble()+m;var q=b.scale.min,x=b.scale.max,f=1===q&&1===x?f||1E-5:((x-q)*b.rand.toDouble()+q)*f||1E-5,q=0,y=b.rotate.min,x=b.rotate.max;0!==y&&0!==x&&(y<=x?q=(x-y)*b.rand.toDouble()+
y:(q=y-x,y=(360-q)*b.rand.toDouble(),q=y>x?y+q:y));b.pollock||d.save();"cycle"===b.fill.mode&&(x=b.fill.__colors||[],y=x.length,x=x[Math.abs((2*b.interval+1)%(2*y)-y)],x!==e.fillStyle&&(e.fillStyle=x,e.fillRect(0,0,h,k)));d.translate(b.x-l*f,b.y-g*f);1!==f&&d.scale(f,f);0!==q&&(d.translate(l,g),d.rotate(q*a.DEG_RAD),d.translate(-l,-g));d.translate(1*r/f,1*m/f);d.drawImage(e.canvas,0,0);b.decorate&&(d.beginPath(),d.fillStyle=e.fillStyle,c.Shape.star(d,0,0,10,5,2),d.fill());b.pollock||d.restore()}}};
b.drawEnd=function(){delete b.bitmap[b.pointerId]};b.create=function(){var a=b.pointerId,f=b.diameter*d.pixelRatio,e=Math.round(b.scale.max*f);if(!a||!e)return console.warn("stamp error",a,e);if(b.bitmap[a])var l=b.bitmap[a],k=l.canvas;else k=h.Canvas(),l=k.ctx;if(b.src){f=b.resource;if(f.error)return l;if("clipart"===f.type)var g=f.viewBox,m=g[2],q=m-g[0],g=g[3]-g[1];else q=f.width,g=f.height;q>e&&(g*=e/q,q=e);g>e&&(q*=e/g,g=e);var r=Math.sqrt(q*q+g*g);r>e&&(e/=r,q*=e,g*=e);k.width=q;k.height=g;
"clipart"===f.type?(e=q/m,k=(new c.Transform).scale(e),f.render({ctx:l,matrix:k.matrix})):l.drawImage(f,0,0,q,g)}else{q=k.width=e;g=k.height=e;k=l.getImageData(0,0,q,g);m=k.data;e=25*f;f/=2;for(r=0;r<e;r++){var w=b.rand.toDouble()*f,x=2*b.rand.toDouble()*Math.PI,y=Math.sin(x)*w+f+.5>>0,x=Math.cos(x)*w+f+.5>>0;y>=q||0>=y||x>=g||0>=x||(m[4*(x*q+y)+3]=255*(1.5-w/f))}l.putImageData(k,0,0)}l.globalCompositeOperation="none"===b.fill[b.fill.type]?"source-atop":"source-in";l.fillStyle=d.getW3CStyle("fill",
l,0,0,q,g,b);l.fillRect(0,0,q,g);r=Math.sqrt(q*q+g*g);b.ratio=1/(r/b.diameter);return b.bitmap[a]=l};var l=function(a){a=Math.sqrt(a);return{min:a,max:a}};b.construct(m,q)})})(sketch);
(function(r){var g=function(d){return function(g,q,b,h){function f(a){if("down"===a.state){if(1<X())return fa(),!0;T()}}function a(){var a=p.self;if(a)p.toolkit.onRecord(a.event,a)}function c(a){"down"===a.state&&p.savePath()}function l(a){Y();O();p.__dblTapObject=void 0}function r(a){if(1<X())return console.log("redo"),!0}function t(a){if(1<X())return fa(),!0;T()}function e(){var a=U(),b=a.length,c=a[b-1],a=a[b-2];if(c&&a)return F.distance(c,a)}var p=this,k=q.keyboard,v=q.render,z=g.style,s=q.toolkit,
u=g.ui,w=g.util,x=g.vector,y=x.Cubic,F=x.Point,B=x.Shape,C={};p.useCubic=!0;p.useClosePath=!1;p.isEditing=!1;p.isRecording=!1;var G,I,E,D=function(){if(eventjs.isMouse&&p.useMonitor)return G=5,E=I=7,!1;I=G=10;E=14;return!0};p.construct=function(a,b){p.composite=a.composite||"source-over";p.diameter=a.diameter||0;p.lineWidth=a.lineWidth||1;p.opacity=a.opacity||100;p.spacing=a.spacing||[0,0];p.useGhost=!1;p.usePointerMax=1;p.usePointerThread=!0;p.useSnap=!1;p.useMonitor=!0;p.useCubic="path"===d;p.useClosePath=
"polygon"===d;var c=s.getFeature({type:d,toolkitId:"brush"});p.useAddPointAtDistanceOnDrag=c.useAddPointAtDistanceOnDrag;p.useBendable=c.useBendable;b(p)};(function(){var b={};p.enabled=!1;p.enable=function(){!1===p.enabled&&(p.enabled=!0,b.resize=g.on("resize",a),b.scroll=g.on("scroll",a),b.escapeKey=k.on("escapeKey",c),b.enterKey=k.on("enterKey",c),b.backspaceKey=k.on("backspaceKey",f),b.deleteKey=k.on("deleteKey",f),b.altKey=k.on("altKey",l),b.metaKey=k.on("metaKey",l),b.shiftKey=k.on("shiftKey",
l),b.undo=k.on("undo",t),b.redo=k.on("redo",r))};p.disable=function(){!0===p.enabled&&(p.enabled=!1,p.savePath(),eventjs.bulk(b,"remove"))}})();p.render=function(a){var b=p.isRecording;a=p.renderTo;var c=p.stroke&&p.stroke.lineWidth,d=U();a.beginPath();a.lineCap="round";a.lineJoin="round";if(b)a.globalAlpha=p.opacity/100,a.globalCompositeOperation=z.getComposite(p.composite),a.lineWidth=c,p.isEditing?x.VOBPath(a,d):x.VOBPath(a,d.slice(0,-1));else{var k=p.bbox.scale,k=Math.max(Math.abs(k.x),Math.abs(k.y));
a.globalAlpha=1;a.lineWidth=c/k;x.VOBPath(a,d)}s.applyStyle(a,p);if(b){a.globalAlpha=1;a.globalCompositeOperation="source-over";var e=d&&d.length;if(e){var f=p.closingPath,c=p.editingPath,h=p.bendingSegment,b=p.selected||{},k=b.idx;"cp1"===b.type&&k--;for(var b=e-1,l=(k||0)+(f?0:1),g=0;g<e;g++)if(k=d[g]){var m=k.cmd;if("C"===m&&(g<=l&&g>=l-(h?2:1)||f&&1===g)){var q=d[g-1],m=F(k.x1,k.y1),r=F(k.x2,k.y2);F.equals(m,q)||(da(a,m,"#4f80ff",3),ha.L(a,m,q,"#4f80ff"));F.equals(r,k)||(da(a,r,"#4f80ff",3),ha.L(a,
r,k,"#4f80ff"))}}k=C.pointAtop;g=C.pointAtopStart;e=C.pointOnPath;if(!(D()||e||k&&(!g||eventjs.metaKey||eventjs.altKey)||!1!==c&&!p.useClosePath)&&(k=d[b],m=k.cmd,ha[m]))if(q=d[b-1],g)ha[m](a,q,k,"#46f224");else ha[m](a,q,k,"#4f80ff"),$(a,k,"#fff",2.5);if(e)if(eventjs.metaKey)c=e.point,a.save(),a.beginPath(),B.exmark(a,c.x,c.y,3),a.lineWidth=2.5,a.strokeStyle="#000",a.stroke(),a.lineWidth=1.5,a.strokeStyle="#46f224",a.stroke(),a.restore();else if(!1===c&&(m=e.cmd,ha[m]))ha[m](a,e.point0,e.point1,
"#4f80ff");c="Z"===d[b].cmd;for(g=0;g<b;g++)!(k=d[g])||c&&g+1===b||(e=a,0!==g||c?k.hovered?eventjs.metaKey?da(e,k,"#ff3535",5):eventjs.altKey?da(e,k,"#bc19fc",5):da(e,k,"#4f80ff",5):da(e,k,"rgba(0,0,0,0.75)",3):k.hovered?eventjs.metaKey?$(e,k,"#ff3535",4.5):eventjs.altKey?$(e,k,"#bc19fc",4.5):$(e,k,"#46f224",4.5):$(e,k,"#fff",4.5))}}};p.calcBBox=function(){if(p.path)return new x.BBox(U())};p.onDoubleTap=function(a,b){p.savePath()};p.onPointerMove=function(a,b){if(!a.pointerDrag){p.self=a;p.point=
b;for(var c=!1,d=!1,k=p.editingPath,f,h=U(),g=h.length,l=0;l<g;l++){var m=h[l],q=m.cmd,s=l<g-1,r=m.bbox;void 0!==r||!s&&!1!==k||(r=m.bbox=new x.BBox({data:[f||m,m],expand:E,convexHull:!0}));m.hovered=!1;r&&(r.hovered=!1,F.inBBox(b,r)&&(r.hovered=!0,!s||!1!==c&&"point"===c.type||(r=F.distance(m,b),r<E&&(m.hovered=!0,c=F.clone(m),c.idx=l,c.type="point",c.distance=r)),!1===c&&("C"===q?(q=F(m.x1,m.y1),r=F.distance(q,b),r<E&&(c=q,c.idx=l,c.type="cp1",c.distance=r),s&&(s=F(m.x2,m.y2),r=F.distance(s,b),
r<E&&(c=s,c.idx=l,c.type="cp2",c.distance=r),s=y.nearestPointOnCurve(b,[f,q,s,m]),s.distance<G&&(!1===d||s.distance<d.distance)&&(d={cmd:"C",idx:l,time:s.time,distance:s.distance,point:s.point,point0:f,point1:m}))):"L"===q&&s&&(r=F.toLineDistance(b,f,m),r<G&&(!1===d||r<d.distance)&&(s=F.nearestOnLine(b,f,m,!0),d={cmd:"L",idx:l,time:s.time,distance:r,point:s,point0:f,point1:m})))));f=m}k?Z(""):c?(d=!1,"point"===c.type?eventjs.altKey?Z("Alter Tension"):eventjs.metaKey?Z("Remove Point"):eventjs.shiftKey?
Z("Move Point w/o Handles"):0===c.idx?Z("Close Path"):Z("Move Point"):eventjs.altKey?Z("Move Handle"):eventjs.metaKey?Z("Remove Handle"):Z("Move Handle Mirrored")):d?eventjs.metaKey?Z("Add Point"):eventjs.altKey?"C"===d.cmd?Z("Move Curve"):Z("Move Line"):"C"===d.cmd?Z("Bend Curve"):p.useBendable?Z("Bend Line"):Z("Move Line"):(r=e())?Z("D: "+r.toFixed(2)+"px"):Z("");C.pointAtop=c;C.pointAtopStart=c&&0===c.idx;C.pointOnPath=d}};p.onPointer=function(a,b,c){p.batchRecord=b;p.self=a;var d=a.pointerStart,
k=a.pointerEnd,f=a.pointerDrag,h=a.pointerMove,g=eventjs.altKey,l=eventjs.metaKey,m=eventjs.shiftKey;d&&D()&&(p.point=c,Y(),V(c));var q=C.pointAtop,s=C.pointAtopStart;b=C.pointOnPath;a=p.pathRecord;var r=a.length;p.ghostIdx=void 0;if(d)if(Z(""),p.selected=void 0,p.adding=!1,p.bendingSegment=!1,p.closingPath=!1,p.convertingPoint=!1,p.deletingPoint=!1,p.editingPath=!0,p.movingPoint=!1,p.movingPointLocked=!1,p.movingSegment=!1,p.splittingSegment=!1,0===r)S(c,"M"),N(c),O();else if(q){p.selected=q;if(l)if(p.deletingPoint=
!0,c=q.idx,a=q.type,"point"===a){b=U();a=b[c];if(b=b[c+1])"M"===a.cmd?L(b,"M"):"C"===b.cmd&&(b.x1=a.x1,b.y1=a.y1),b.bbox=void 0;W(c,1)}else d=U(),b=d[c-1],q=d[c],c=d[c+1],"cp1"===a?(q.x1=b.x,q.y1=b.y,b.angleLock=q.x1===b.x2&&q.y1===b.y2):(q.x2=q.x,q.y2=q.y,q.angleLock=q.x2===c.x1&&q.y2===c.y1),Q(q,b),q.bbox=void 0;else m?p.movingPoint=!0:s?(S(q,"Z"),p.closingPath=!0,p.selected={type:"point",idx:X()}):(c="point"===q.type,!g&&c||g&&!c?p.movingPointLocked=!0:H(a,q));O()}else if(b){p.selected=b;if(l)a:switch(p.splittingSegment=
!0,c=b.idx,d=b.time,q=a[c-1],a=a[c],b.cmd){case "C":d=y.split(q.x,q.y,a.x1,a.y1,a.x2,a.y2,a.x,a.y,d);b=y.fromArray(d[0].slice(2));d=y.fromArray(d[1].slice(2));b.angleLock=q.angleLock;d.angleLock=a.angleLock;W(c,1,b,d);break a;case "L":a.bbox=void 0,b=F.atTimeOnLine(q,a,d),b.cmd="L",W(c,0,b)}else g?p.movingSegment=b:p.useCubic||p.useBendable?p.bendingSegment=b:p.movingSegment=b;O();p.__dblTapObject=void 0}else p.isEditing||(N(c),O());else k?(p.editingPath=!1,p.closingPath?p.savePath():(b=a[r-2],F.distance(a[0],
b)<=I&&3<a.length?p.savePath(!0):(b&&(b.bbox=void 0),V(c),Y(),O()))):f?(p.adding&&p.useAddPointAtDistanceOnDrag?e()>p.useAddPointAtDistanceOnDrag?N(c):V(c):p.deletingPoint||p.splittingSegment||(p.movingPoint||p.movingPointLocked?(b=p.selected,q=b.type,b=b.idx,d=a[b],k=a[b+1],a=a[b-1],"point"===q?(a=d.x-c.x,c=d.y-c.y,p.movingPoint?(b=U()[b],b.x-=a,b.y-=c,b.angleLock=!1,b.bbox=void 0):K(b,a,c)):"cp1"===q?J(d,k,a,c,"x1","y1"):"cp2"===q&&J(d,k,a,c,"x2","y2")):p.movingSegment?(a=p.movingSegment,b=a.idx,
d=a.point,q=d.x-c.x,d=d.y-c.y,K(b,q,d),K(b-1,q,d),a.point=c):p.bendingSegment?(b=p.bendingSegment,q=b.point,g=q.x-c.x,h=q.y-c.y,k=Math.min(.98,Math.max(.02,b.time)),f=1-k,q=3*k*f*f,l=3*k*k*f,m=.5>=k?Math.pow(2*k,3)/2:1-Math.pow(2*f,3)/2,d=(1-m)/q,q=d*g,d*=h,l=m/l,g*=l,h*=l,k<1/3?(g=q*k,h=d*k):k>2/3&&(q=g*f,d=h*f),l=p.selected.idx,k=a[l],f=a[l-1],a=a[l+1],"L"===k.cmd&&(y.fromLineSegment(f,k,k),k.angleLock=!1),k.x1-=q,k.y1-=d,k.x2-=g,k.y2-=h,k.bbox=void 0,f&&f.angleLock&&isFinite(f.x2+f.y2)&&(q=P(F(k.x1,
k.y1),f),f.x2=q.x,f.y2=q.y,f.bbox=void 0),a&&k.angleLock&&isFinite(a.x1+a.y1)&&(q=P(F(k.x2,k.y2),k),a.x1=q.x,a.y1=q.y,a.bbox=void 0),b.point=c):p.convertingPoint||p.useCubic?H(a,c):V(c)),O()):h&&(V(c),O());return!0};var H=function(a,b){p.convertingPoint=!0;var c=p.selected,d=c.idx,k=c.type;"cp1"===k&&d--;var e=a[d],f=F.distance(e,b),h=f;"cp2"===k&&(f=h=-f);if("Z"===e.cmd){var g=a.length,k=a[(g+d+1)%g],g=a[(g+d+2)%g],l=isFinite(g.x1+g.y1)?F(g.x1,g.y1):e;void 0===c.point&&(g=F.angle(k,l),c.point=F.atRadianDistance(e,
g,.001));h<=I&&(b=c.point);h=F.distance(k,l)}var g=F.angle(e,b),c=F.atRadianDistance(e,g,-f),e=F.atRadianDistance(e,g,+h),k=d,d=U(),g=d.length,l=k-1,m=k,h=k+1,f=d[k],f=f.cmd;"M"===f?"Z"===d[g-1].cmd&&(k=g-1,m=(g+k-1)%g,l=(g+k-2)%g,h=(g+k+2)%g):"Z"===f&&(m=(g+k-1)%g,l=(g+k-2)%g,h=(g+k+2)%g);f=d[m];k=d[l];d=d[h];f&&("M"===f.cmd?p.adding&&(d.x2=c.x,d.y2=c.y):(f.cmd="C",f.x2=c.x,f.y2=c.y,f.bbox=void 0,void 0!==k.angleLock&&p.adding||(k.angleLock=!0),isFinite(f.x1+f.y1)||(f.x1=k.x,f.y1=k.y)));d&&(d.cmd=
"C",d.x1=e.x,d.y1=e.y,d.bbox=void 0,void 0!==f.angleLock&&p.adding||(f.angleLock=!0),isFinite(d.x2+d.y2)||(d.x2=d.x,d.y2=d.y));k&&(Q(d,f),Q(f,k))},P=function(a,b){var c=F.distance(a,b),d=F.angle(a,b);return F.atRadianDistance(b,d,c)},K=function(a,b,c){var d=U(),k=d[a];a=d[a+1];k.x-=b;k.y-=c;k.bbox=void 0;a&&isFinite(a.x1+a.y1)&&(a.x1-=b,a.y1-=c,a.bbox=void 0);isFinite(k.x2+k.y2)&&(k.x2-=b,k.y2-=c)},J=function(a,b,c,d,k,e){b=F(a[k],a[e]);var f=b.y-d.y;a[k]-=b.x-d.x;a[e]-=f;a.bbox=void 0;"x1"===k?c.angleLock=
!1:a.angleLock=!1},N=function(a){S(a,"L");p.adding=!0;p.selected={type:"point",idx:X()-1}},S=function(a,b){a=F.clone(a);a.cmd=b;p.batchRecord.push(a);p.pathRecord.push(a);p.point=a},Q=function(a,b){a.x1===b.x&&a.y1===b.y&&a.x2===a.x&&a.y2===a.y&&L(a,"L")},L=function(a,b){a.cmd=b;delete a.x1;delete a.y1;delete a.x2;delete a.y2},V=function(a){if(!1===p.isEditing){var b=C.pointAtopStart,c=U(),d=c.length-1,k=c[d];k&&(b&&(b=c[0],a.x=b.x,a.y=b.y),k.x=a.x,k.y=a.y,"C"===k.cmd&&(k.x2=a.x,k.y2=a.y),p.ghostIdx=
d)}};p.closePath=function(){var a;a=U();a=(a=a[a.length-1])?"Z"===a.cmd:void 0;if(!0!==a){a=U();var b=a[0];b&&2<a.length&&(V(b),S(b,"Z"),p.ghostIdx=void 0)}};p.savePath=function(a){R();var b=U();1<b.length?((p.useClosePath||a)&&p.closePath(),a=w.copy(b),W(-b.length),p.toolkit.createObject({device:p,object:{path:a}},function(a){p.toolkit.closePointerThread();p.toolkit.addToHistory(a);p.toolkit.renderToScene(a);O()})):T()};var R=function(){if(!0!==p.useClosePath){var a=p.ghostIdx;isFinite(a)&&(W(a,
1),p.ghostIdx=void 0)}};(function(){var a={bbox:!0,hovered:!0},b=function(b,c){return a[b]?void 0:c};return function(a){console.log(JSON.stringify(a,b,"\t"))}})();var W=function(a,b){var c=Array.prototype.slice.call(arguments);Array.prototype.splice.apply(p.batchRecord,c);Array.prototype.splice.apply(p.pathRecord,c);C.pointAtop=void 0},U=function(){return p.path||p.pathRecord||[]},X=function(){return(p.path||p.pathRecord||[]).length-1},O=function(){p.dirtyRender=!0;v.dirtyPointer=!0},Y=function(){p.self&&
p.onPointerMove(p.self,p.point)},T=function(){C={};O();v.removePointer(p.pointerId);v.scene("resetPath")},Z=function(a){u.tooltip&&u.tooltip.update(a)},fa=function(){W(-1,1);V(p.point);Y();O();p.__dblTapObject=void 0},da=function(a,b,c,d){a.beginPath();a.arc(b.x,b.y,d,0,2*Math.PI);a.fillStyle=c;a.fill();a.lineWidth=.75;a.strokeStyle="#fff";a.stroke()},$=function(a,b,c,d){a.beginPath();a.rect(b.x-d,b.y-d,2*d,2*d);a.fillStyle=c;a.fill();a.lineWidth=1;a.strokeStyle="#000";a.stroke()},ha={L:function(a,
b,c,d){a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.lineWidth=1;a.strokeStyle=d;a.stroke()},C:function(a,b,c,d){a.beginPath();a.moveTo(b.x,b.y);a.bezierCurveTo(c.x1,c.y1,c.x2,c.y2,c.x,c.y);a.lineWidth=1;a.strokeStyle=d;a.stroke()}};p.construct(b,h)}};r.addToolkit("brush.path",g("path"));r.addToolkit("brush.polygon",g("polygon"));r.addToolkit("brush.polyline",g("polyline"))})(sketch);
(function(r){var g=String.fromCharCode(65279);r.addToolkit("text",function(d,m){function q(a,b,d){if(!m.__editing||this.id!==m.selection.id){b=t.copyAttributes(c._attributes,this,{ctx:a,pixelRatio:m.pixelRatio,bbox:p.copy(this.bbox),composite:this.composite,opacity:this.opacity,textMetrics:this.__textMetrics});this.fill&&this.fill.enabled&&(b.fill=this.fill);this.stroke&&this.stroke.enabled&&(b.stroke=this.stroke);var k=b.bbox,e=k.width,f=k.height,h=k.scale;k.rotate=0;k.x=0;k.y=0;d?k.scale={x:1,y:1}:
!1===v.useHTML&&(d=h.x,h=h.y,e=0>d?-e*d:0,f=0>h?-f*h:0,(e||f)&&a.translate(e,f));this.__textMetrics=c.measureText(b)}}function b(b){if(v.useHTML){setTimeout(function(){c.updateObjectSize();a()},0);var d=[];eventjs.metaKey&&d.push("Meta");eventjs.ctrlKey&&d.push("Ctrl");eventjs.shiftKey&&d.push("Shift");eventjs.altKey&&d.push("Alt");d.push(eventjs.fromKeyCode[b.keyCode]);if(d=u[d.join(" ")])document.execCommand(d[0],d[1],d[2]),eventjs.cancel(b)}else eventjs.metaKey&&(b=b.keyCode,86===b||88===b||90===
b?setTimeout(function(){c.updateObjectSize();a()},25):(d=m.selection.item)&&(85===b?c.toggleTextStyle(d,"textDecoration","underline","none"):73===b?c.toggleTextStyle(d,"fontStyle","italic","normal"):66===b&&c.toggleTextStyle(d,"fontWeight","bold","normal")))}function h(b){if(v.useHTML)setTimeout(function(){c.updateObjectSize();a()},0);else{var d=m.selection.item;if(void 0!==d&&0!==b.which&&8!==b.keyCode&&!eventjs.metaKey){eventjs.prevent(b);var e=c.getContent();b=c.cleanText(String.fromCharCode(b.charCode||
b.keyCode));if("pre-nowrap"!==d.whiteSpace||10!==b.charCodeAt()){var d=c.textarea,f=k.text.getRange(d);if(f){var h=e.substr(0,f.startOffset),e=e.substr(f.endOffset);c.setContent(h+b+e);(e=c.cleanText(h+b).length)&&k.text.setRange(d,e,e);c.updateObjectSize();a()}}}}}function f(b){if(v.useHTML)c.updateObjectSize(),a();else if(27===b.keyCode)t.deselectAll(),a();else if(eventjs.metaKey&&(88===b.keyCode||86===b.keyCode))c.updateObjectSize(),a();else if(8===b.keyCode){var d=c.getContent(),e=k.text.getRange();
e&&(b=d.substr(0,e.startOffset),d=d.substr(e.endOffset),c.setContent(b+d),(b=b.length)&&k.text.setRange(c.textarea,b,b),c.updateObjectSize(),a())}(b=m.selection.item)&&m.on.record&&m.on.record({op:"SCENE_UPDATE",data:[{id:b.id,content:c.getContent()}]})}function a(){var a=m.selection.item;a&&(t.updateTransform(a),r.dirtyControls=!0)}var c=this,l=m.canvas2d,r=m.render,t=m.scene,e=m.toolkit,p=d.util,k=d.vector,v=d.feature.tools.text;c.id="text";c.units="objectBoundingBox";c.container=document.createElement("div");
c.container.className="sk-textarea-wrap";var z={x:200,y:18,width:400,height:470,rotate:0,scale:{x:1,y:1}};c._attributes={content:"string",fontFamily:"string",fontSize:"number",fontStyle:"string",fontVariant:"string",fontWeight:"string",letterSpacing:"number",lineHeight:"number",textAlign:"string",textDecoration:"string",textShadow:"string",textTransform:"string",whiteSpace:"string",useFitText:"boolean"};var s=p.copy(c._attributes);c.attributes=p.copyInto(d.attrs.__styledObject,s);(function(){var a=
{};c.enabled=!1;c.enable=function(){!1===c.enabled&&(c.enabled=!0,e.select&&e.select.enable({events:a,searchParam:{toolkitId:v.useSearch}}))};c.disable=function(){!0===c.enabled&&(c.enabled=!1,m.__editing&&c.hide(),eventjs.bulk(a,"remove"))}})();(function(){c.show=function(b){if(b=b||t.getOneSelected())"text"===b.type?(b.__textContent={id:b.id,content:b.content},c.setContent(b.content),!1===m.__editing&&(m.__editing=!0,c.updateObjectSize(b),c.container.style.opacity=1,c.container.style.display="block",
c.focus(),c.selectAll(),c.emit("show",b)),r.dirtyControls=!0,r.dirty=!0):a()};c.hide=function(){a();var b=m.selection.item;if(b){var d=b.__textContent;if(void 0!==d){b.__textContent=void 0;var k=c.getContent();k.trim()&&k!==g?(b.dirtyCheck=!0,b.dirtyDimension=!0,b.content=k,F(d,t.getById(d.id))):(d=(d=m.history.getLastCmd())&&"add"===d.cmd&&"text"===d.name?d:void 0,d?(m.history.pop(),t.removeByIdx(b.zIndex,!1)):t.removeByIdx(b.zIndex,!0))}}};var a=function(){!0===m.__editing&&(m.__editing=!1,c.container.style.opacity=
0,c.container.style.display="none",c.blur(),c.emit("hide"))}})();c.disableArea=function(){c.container.style.pointerEvents="none";c.blur()};c.enableArea=function(a){c.container.style.pointerEvents="auto";c.focus()};c.focus=function(){c.textarea.focus()};c.blur=function(){c.textarea.blur()};c.selectAll=function(){v.useHTML?k.text.selectAll(c.textarea):k.text.selectAll(c.textarea.firstChild)};c.hasSelection=function(){return k.text.hasSelection(c.textarea)};c.setCursorPos=function(a){k.text.setCursorPos(c.textarea,
a)};c.loadResource=function(a){var b=a.object,d=a.onerror,k=a.onsuccess;m.loadStyle(b,function(){c.loadFont({fontFamily:b.fontFamily||"Arial",onerror:function(a){d&&d(b,a)},onsuccess:function(){b.dirtyCheck=!0;b.render=q;b.bbox||(b.bbox=p.copy(z));k&&k(b)}})})};c.loadFont=function(a,b,c){"string"===typeof a&&(a={fontFamily:a});b=b||a.onsuccess;c=c||a.onerror;var e=a.fontFamily;a=function(a){a?c&&c("&ldquo;"+e+"&rdquo; font-family unavailable."):b&&b()};if(k.text.detectFont(e))b&&b();else if(d.lib.text.byName[e]){var f=
p.copy(d.lib.text.byName[e]);f.family=f.family||f.name;f.filepath=d.lib.text.getSrc(f);f.useLoader=!0;k.text.attach(f,a)}else k.text.attachFromGoogleAPI(e,a)};var u={"Shift Backspace":["forwardDelete"],"Ctrl Shift [":["justifyLeft"],"Ctrl Shift ]":["justifyRight"],"Ctrl Shift \\":["justifyCenter"],"Ctrl Shift Alt \\":["justifyFull"],"Meta Shift S":["strikeThrough"],"Meta B":["bold"],"Meta I":["italic"],"Meta U":["underline"]};c.createObject=function(a,b){var d=a.object,d=t.addObject(c.mergeObjectDefaults(d));
d.dirtyDimension=!0;b&&b(d)};c.onRecord=function(a,b){b.pointerStart&&eventjs.stop(a);d.client.mobile&&eventjs.prevent(a);if("eyeDropper"!==d.ui.colorPicker.state){var k=b.state,f=b.pointerStart,h=b.pointerDown,g=b.pointerEnd,p=e.getPointerUid(a,b),q=isFinite(b.shiftKey)?b.shiftKey:eventjs.shiftKey,s=isFinite(b.metaKey)?b.metaKey:eventjs.metaKey,u=!!a,y=u&&m.on.record;m.__interacting=h;if(u)if(f){if(eventjs.prevent(a),t.controlHover.id)return}else g?eventjs.prevent(a):eventjs.cancel(a);h=r.pointer[p];
if(!h||!h.object)if(u&&f)h=r.pointer[p]={},h.isFromBrowser=!0,h.object=t.copyProperties(c,c.device),h.object.id=t.createId({id:p}),c.loadResource({object:h.object});else{console.warn("text.onRecord - no pointer");return}h.lastModified=Date.now();h=h.object;if("function"!==typeof h.render)b.pause&&b.pause(),c.loadResource({object:h,onsuccess:function(d){b.resume&&b.resume();c.onRecord(a,b)},onerror:function(a,b){console.error(a,b)}}),r.removePointer(p);else{if(y){var z;f&&(z=t.copyDeepCompress(t.copyProperties(c,
h)));m.on.record({op:"TOOL",data:{config:z,state:k,pointerId:p,point:t.pointInPeerSceneFromCanvas(b),metaKey:s,shiftKey:q}})}var k=m.zoom,y=k*m.pixelRatio,q=(k-1)/k,s=m.scrollLeft*q,x=m.scrollTop*q;z=b.start.x/k+s;q=b.start.y/k+x;b.x=b.x/k+s;b.y=b.y/k+x;s=h.bbox;x=Math.min(z,b.x)-1*l.x/y;y=Math.min(q,b.y)-1*l.y/y;z=Math.abs(z-b.x)||1;q=Math.abs(q-b.y)||1;f&&c.blur();s.x=x;s.y=y;s.width=z;s.height=q;s.units=c.units;h.dirtyCheck=!0;h.dirtyTransform=!0;f=t.getConstraint(h,!1);s.x-=b.x<b.start.x?f.width-
s.width:0;s.y-=b.y<b.start.y?f.height-s.height:0;s.width=f.width;s.height=f.height;if(g){r.removePointer(p);if(z<c.minWidth||q<c.minHeight)if(v.addByClick)z=m.viewport.width/3/k,q=2*h.fontSize/k,h.fontSize/=k,z=s.width=Math.max(c.defaultWidth,z),q=s.height=Math.max(c.defaultHeight,q);else{r.dirtyControls=!0;r.scene("toolkit.text.record");return}h=t.addObject(h,{useHistory:!0});u&&(t.selectByIdx(h.zIndex),c.show(h),c.focus(),c.updateCSS())}r.dirtyPointer=!0}}};c.updateBBox=function(){var a=m.selection.item;
a&&(c.setContent(a.content||""),c.updateCSSTransform(a),r.dirtyControls=!0,r.scene("toolkit.text.updateBBox"))};var w=String.fromCharCode(32),x=String.fromCharCode(160);c.cleanText=function(a){return(a||"").split(g).join("").split(x).join(w).split("&nbsp;").join(w).split("\r").join("\n")||g};c.getContent=function(){return v.useHTML?c.textarea.innerHTML:c.cleanText(c.textarea.textContent)};c.setContent=function(a){v.useHTML?c.textarea.innerHTML=a:c.textarea.textContent=c.cleanText(a)};c.setForeColor=
function(a,b,d,e){if(v.useHTML){"down"===d&&(a.__cache=a.content);var f=c.textarea,h=c.dummy||(c.dummy=document.createElement("span")),g=h.parentNode,l,p;if(m.__editing)if(c.hasSelection())"move"!==d&&"up"!==d||document.execCommand("undo",!1,null),document.execCommand("foreColor",!1,b);else{if(a=window.getSelection().focusNode){!1===k.text.nodeIsParentOfChild(f,a)&&(a=f,k.text.setRange(a,0,0));if(f=k.text.getRange(a))l=f.startOffset,p=f.endOffset;k.text.selectAll(a.parentNode);y(b);f&&k.text.setRange(a,
l,p)}}else l=a.content,e&&-1!==l.indexOf(e)?(f.innerHTML=l,a.content=l.split(e).join(b),a.dirtyCheck=!0):(h.contentEditable=!0,h.innerHTML=l,g.style.display="block",k.text.selectAll(h),y(b),a.content=f.innerHTML=h.innerHTML,a.dirtyCheck=!0,g.style.display="none"),"up"===d&&F({id:a.id,content:a.__cache},{id:a.id,content:a.content})}};var y=function(a){a?document.execCommand("foreColor",!1,a):document.execCommand("removeFormat",!1,"foreColor")},F=function(a,b){m.history&&a&&b&&a.content!==b.content&&
m.history.store({cmd:"update",name:"update-text",data:{from:[{id:b.id,content:a.content}],to:[{id:b.id,content:b.content}]}})};c.measureText=function(a){if(v.useHTML){var b=a.bbox,d=b.scale,e=d.x,d=d.y,f=eventjs.getDocumentScroll(),h=f.pageXOffset,g=f.pageYOffset,f=c.dummy||(c.dummy=k.text.createMeasureElement()),l=f.parentNode,m=0>e?b.width*-e:0,p=0>d?b.height*-d:0;f.className="sk-dummy-text";f.style.left=m+h+"px";f.style.top=p+g+"px";k.text.setFontStyle(a,f);f.style.msTransform=f.style.mozTransform=
f.style.webkitTransform=f.style.transform="matrix("+e+", 0, 0, "+d+", -"+h+", -"+g+")";f.style.msTransformOrigin=f.style.mozTransformOrigin=f.style.webkitTransformOrigin=f.style.transformOrigin="0 0 0";f.style.color=a.fill&&a.fill.color?a.fill.color:"black";f.innerHTML=a.content;l.style.display="block";f.style.display="block";f.style.height="auto";f.style.width="pre-nowrap"===a.whiteSpace?"auto":b.width+"px";e={width:f.offsetWidth,height:f.offsetHeight};f.style.height=b.height+"px";a.ctx?html2canvas(f,
{canvas:a.ctx.canvas,onrendered:function(a){l.style.display="none"}}):l.style.display="none";return e}return k.text.drawLineBreaks(a)};c.updateObjectSize=function(a){var b=void 0===a?c.getContent()||" ":a.content||" ";if(a=a||m.selection.item){var d=a.bbox,e=t.copyAttributes(c._attributes,a,{pixelRatio:m.pixelRatio,bbox:p.copy(d)});e.content=v.useHTML?b:k.text.format(b,a);if(a.useFitText){a.content=b;var f=a,h;h=a;h=k.text.fitText({target:k.text.getLineBreaksElement({font:k.text.getFontStyle(h),content:h.content,
textTransform:h.textTransform,lineHeight:h.lineHeight,letterSpacing:h.letterSpacing}),targetWidth:h.bbox.width-10,targetHeight:h.bbox.height-10,minFontSize:1,maxFontSize:500});f.fontSize=h}"pre-nowrap"===a.whiteSpace?(f=d.width,e.bbox.width=0,e=c.measureText(e),h=k.text.getFontStyle(a),h=k.text.measureTextWidth("M",h),h=e.width+h,h!==f&&(d.width=h,d.x+=(f-h)/2*d.scale.x,a.dirtyCheck=!0)):e=c.measureText(e);!0!==v.useHTML&&(a.__textMetrics=e);a.content!==b&&(a.dirtyCheck=!0);d.height!==e.height&&v.autoHeight&&
(a.dirtyCheck=!0,a.dirtyTransform=!0,d.height=e.height,m.__editing&&(c.container.style.height=d.height+"px"));c.updateCSS(a)}};c.createTextarea=function(){if(c.textarea){var a=c.textarea.style.cssText,e=c.getContent();c.textarea.parentNode.removeChild(c.textarea);c.styleNode.parentNode.removeChild(c.styleNode)}else d.ui.tooltip&&d.ui.tooltip.add(c.container,""),e=a="";var g=c.styleNode=document.createElement("style");g.type="text/css";c.container.appendChild(g);g=c.textarea=document.createElement("div");
g.className="textarea";g.setAttribute("contentEditable","true");g.style.cssText=a+";"+k.text.CSSWhiteSpace.preWrap;c.setContent(e);c.container.appendChild(g);eventjs.add(g,"drag",eventjs.stop);eventjs.add(g,"mouseup",eventjs.stop);eventjs.add(g,"keydown",b);eventjs.add(g,"keypress",h);eventjs.add(g,"keyup",f);return g};c.updateCSS=function(a){c.updateCSSStyle(a);c.updateCSSTransform(a)};c.updateCSSTransform=function(a){if((a=a||m.selection.item)&&a.bbox&&m.__editing){var b=m.pixelRatio,d=m.zoom,e=
m.scrollLeft*(d-1),f=m.scrollTop*(d-1),h=a.bbox,g=isFinite(a.opacity)?a.opacity:100,p=r.cache.padding/2,q=h.rotate,s=h.scale.x+1E-7,u=h.scale.y+1E-7,y=function(a){return{left:(a.x-(z-z*a.scale.x)/2)*d+l.x/b-e,top:(a.y-(x-x*a.scale.y)/2)*d+l.y/b-f}},z=h.width,x=h.height,w=y(h),F=Math.max(0,z-0)*d,p=Math.max(0,x-p-0)*d;if(v.clip)var w=t.getBoundingBox(),W=m.viewport,z=Math.min(F,(W.width-w.x)/s),x=Math.min(p,(W.height-w.y)/u),w=y(h);else z=F,x=p;h=c.container.style;h.padding="0px";h.opacity=g/100;h.left=
w.left+"px";h.top=w.top+"px";h.width=z+"px";h.height=x+"px";k.text.setFontStyle(a,c.container,m.zoom);c.textarea.style.display="block"===c.textarea.style.display?"inline-block":"block";c.textarea.style.width=F+"px";c.textarea.style.height=p+"px";h.transform=h.msTransform=h.OTransform=h.MozTransform=h.WebkitTransform="rotate("+q+"deg) scale("+s+","+u+")";h.transformOrigin=h.msTransformOrigin=h.OTransformOrigin=h.MozTransformOrigin=h.WebkitTransformOrigin="50% 50%"}};c.updateCSSStyle=function(a){if((a=
a||m.selection.item)&&a.fill){var b=a.fill,k=a.background||{},e=c.textarea,f="webkitFilter"in e.style;if("webkitBackgroundClip"in e.style&&f&&!v.useHTML&&"color"!==b.type){switch(b.type){case "color":var h="background: "+b.color;break;case "gradient":h=d.style.toCSSGradientBG({type:"linear",dna:b.gradient,angle:-b.angle-90});break;case "pattern":h="background: url("+d.loc.getMediaUrl(b.pattern)+")"}c.styleNode.innerHTML="\t\t\t\t\tdiv.sk-textarea-wrap div.textarea { "+h+" }\t\t\t\t";e.setAttribute("data-content",
e.innerHTML);e.style.webkitBackgroundClip=e.style.backgroundClip="text";e.style.webkitTextFillColor=e.style.textFillColor="transparent";b=d.style.getComposite();e.style.webkitBackgroundBlendMode=e.style.backgroundBlendMode=b}else{switch(b.type){case "color":h=b.color;break;case "gradient":case "pattern":h="#000"}e.style.color=h}a.textDecoration&&(a=a.textDecoration.split(","),c.textarea.style.textDecoration=a[0],c.container.style.textDecoration=a[1]);k.enabled&&(c.container.style.background=d.style.toCSS(k))}};
c.toggleTextStyle=function(a,b,c,d){a[b]=a[b]===d?c:d};c.createTextarea();c.container.appendChild(c.textarea);m.container.appendChild(c.container);e.init(c)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(){if(document.createRange){h.elBreaks=h.createMeasureElement();var a=document.createElement("span");document.body.appendChild(a);h.spaceOffset=1;var b=h;var c=r.client;c?(document.body.removeChild(a),a=c.safari||c.chrome?0:1):(c=document.createRange(),a.textContent="d\u2014d",a.className="wrap",a.style.cssText="display: block; width: 1.6em; "+h.CSSWhiteSpace.preWrap+" font: bold 22px arial;",c.setStart(a.firstChild,0),c.setEnd(a.firstChild,a.textContent.length),c=c.getClientRects(),
document.body.removeChild(a),a=2<c.length?1:0);b.useWrapSpace=a;h.mOffset=h.useWrapSpace?0:1;return h.getLineBreaks=z}return document.body.createTextRange?(h.elBreaks=h.createMeasureElement(),h.getLineBreaks=s):h.getLineBreaks=u}var d=r.dom,m=r.util,q=r.lang,b=r.vector=r.vector||{},h=b.text=b.text||{};h.entities=function(a){return(a||"").split(String.fromCharCode(160)).join(String.fromCharCode(32)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};h.format=function(a,
b){if(b.textTransform)switch(b.textTransform){case "uppercase":a=a.toUpperCase();break;case "lowercase":a=a.toLowerCase();break;case "capitalize":a=a.replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()})}if(b.whiteSpace)switch(b.whiteSpace){case "pre-nowrap":a=a.split("\n").join(" ");break;case "pre-line":case "nowrap":case "normal":a=a.replace(/\s{2,}/g," ")}return a};h.textTransform=function(a,b){switch(b){case "uppercase":return a.toUpperCase();case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/^(.)|\s(.)/g,
function(a){return a.toUpperCase()});default:return a}};h.getMetrics=function(a,b){var d="ltr";window.getComputedStyle&&(d=window.getComputedStyle(document.body,"").direction);var k=h.measureTextHeight(a,b),e=h.measureTextWidth(a,b);return c({marginReset:!0,text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";var c=h.image,f=c.offsetTop+1,g=f-k;a.style.cssText="font: "+b+"; white-space: nowrap; line-height: 0; display: block;";var l=c.offsetTop+1;a.style.verticalAlign=
"sub";var m=f-(c.offsetTop-k);a.style.verticalAlign="super";return{font:b,direction:d,ascent:f,descent:-g,height:k,width:e,textBaseline:{alphabetic:0,top:f,hanging:8*f/10,middle:l,ideographic:g,bottom:g,subScript:m,superScript:f-(c.offsetTop-k)},textAlign:{left:0,start:-("ltr"===d)?0:e,end:-("ltr"===d)?e:0,right:-e,center:-e/2}}}})};h.measureText=function(a,b){return{width:h.measureTextWidth(a,b),height:h.measureTextHeight(a,b)}};h.measureTextWidth=function(a,b){return c({text:a+a+a,callback:function(a){a.style.cssText=
"font: "+b+"; white-space: nowrap; display: inline;";return a.offsetWidth/3}})};h.measureTextHeight=function(a,b){return c({text:"1<br>2<br>3<br>4<br>5<br>6<br>7",callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: inline;";return a.offsetHeight/7+.5>>0}})};h.textAlign=function(a,b){var d=window.getComputedStyle(document.body,"").direction,k=h.measureTextWidth(a,b);return c({text:a,callback:function(a){return{left:0,start:-("ltr"===d)?0:k,end:-("ltr"===d)?k:0,right:-k,
center:-k/2}}})};h.textBaseline=function(a,b){var d=h.measureTextHeight(a,b);return c({marginReset:!0,text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";var c=h.image.offsetTop+1,k=c-d;a.style.cssText="font: "+b+"; white-space: nowrap; line-height: 0; display: block;";return{alphabetic:0,top:c,hanging:8*c/10,middle:h.image.offsetTop+1,ideographic:k,bottom:k}}})};h.textBaselineTop=function(a,b){return c({text:a,callback:function(a){a.style.cssText="font: "+
b+"; white-space: nowrap; display: block;";return 1.315*h.image.offsetTop}})};var f,a,c=function(b){var c=document.body;h.expand||(h.parent=document.createElement("span"),h.text=document.createElement("span"),h.parent.appendChild(h.text),h.image=document.createElement("img"),h.image.style.cssText="vertical-align: baseline; background: #000; width: 10px; height: 1px; display: inline;",h.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=",
h.parent.appendChild(h.image),h.expand=document.createElement("div"),h.expand.className="sk-expand",h.expand.appendChild(h.parent),h.container=document.createElement("div"),h.container.id="sk-text-metrics",h.container.appendChild(h.expand),c.insertBefore(h.container,c.firstChild));if(b)if(h.text.innerHTML=b.text,h.expand.style.cssText="display: block;",b.marginReset){b.setup&&1!==b.setup||(f=c.style.padding,a=c.style.margin,c.style.padding=0,c.style.margin=0);if(!b.setup)var d=b.callback(h.parent);
b.setup&&2!==b.setup||(c.style.padding=f,c.style.margin=a,h.expand.style.display="none");if(!b.setup)return d}else return d=b.callback(h.parent),h.expand.style.display="none",d;return h.container},l=h.getFontStyle=function(a){var b="";a.fontStyle&&(b+=a.fontStyle+" ");a.fontVariant&&(b+=a.fontVariant+" ");a.fontWeight&&(b+=a.fontWeight+" ");a.fontSize&&(b+=a.fontSize+"px ");a.fontFamily&&(b+='"'+a.fontFamily+'"');return b};h.setFontStyle=function(a,b,c){c=c||1;var d=(a.fontSize||30)*c,k=a.textMetrics||
a.__textMetrics;c=k&&k.lineHeight?Math.round(k.lineHeight*c)+"px":"normal";b=b.style;b.fontStyle=a.fontStyle||"normal";b.fontVariant=a.fontVariant||"normal";b.fontWeight=a.fontWeight||"normal";b.fontSize=d+"px";b.fontFamily=a.fontFamily||"Arial";b.letterSpacing=(a.letterSpacing||0)+"px";b.lineHeight=c;b.textAlign=a.textAlign||"center";b.textDecoration=a.textDecoration||"none";b.textTransform=a.textTransform||"none";b.textShadow=a.textShadow||"none"};h.fitText=function(a){var b=a.target,c=(a.targetWidth||
b.offsetWidth)>>0,d=(a.targetHeight||b.offsetHeight)>>0,k=a.minFontSize||1,e=a.maxFontSize||500;a=a.widthOnly||!1;b.style.width=c+"px";for(var f,k=k+1,e=e+1;k<=e;)f=parseInt((k+e)/2,10),b.style.fontSize=f+"px",b.offsetWidth<=c&&(a||b.offsetHeight<=d)?k=f+1:e=f-1;b.parentNode.style.display="none";return f};var A=1/(180/Math.PI);h.drawLineBreaks=function(a){function b(){var a=m.canvas.width;m.save();m.translate(-a/q/T,0);z.forEach(function(b){m.shadowColor=b.color;m.shadowOffsetX=b.x*q+a;m.shadowOffsetY=
b.y*q;m.shadowBlur=b.blur*q;c()});m.restore()}function c(){for(var a=0,b=na.length;a<b;a++){var k=a*Y.lineHeight+wa+$.top,e=na[a];da&&-1===e.indexOf("\n")||(e=e.replace("\n",""));if(ja){var f=ja[a];d("underline",f,k);d("overline",f,k)}if(ja&&0!==L)for(var h=ra,g=p.width-f.width,l=0,q=e.length;l<q;l++){var s=e[l],h=h+g/2,r=k;X&&m.fillText(s,h,r);U&&m.strokeText(s,h,r);h=f.data[l].width}else m.textAlign=v,g=ra+Z,l=k,X&&m.fillText(e,g,l),U&&m.strokeText(e,g,l);ja&&d("line-through",f,k)}}function d(a,
b,c){c+=ha;if(a=w[a])for(var e=0,f=a.length;e<f;e++){var h=a[e].line;if("none"!==h){var g=b.width,l=Z-g*fa;switch(h){case "underline":k(l,c,g,ha);break;case "overline":k(l,c+$.alphabetic-$.top,g,ha);break;case "line-through":k(l,c+.6*$.top-$.top,g,ha)}}}}function k(a,b,c,d){X&&m.fillRect(a>>0,b>>0,c,d);U&&m.strokeRect(a>>0,b>>0,c,d)}var f=a.content;if(f){var g=l(a),m=a.ctx,p=a.bbox,q=a.pixelRatio||1,s=a.textMetrics,u=a.fontSize||0,v=a.textAlign||"left",z=a.textShadow||"",w=a.textDecoration||"none",
Q=a.textTransform||"none",L=a.letterSpacing||0,V=a.lineHeight||0,R=a.whiteSpace||"normal",W=a.useFitText||!1,U=!!a.stroke&&!!a.stroke.lineWidth&&!1!==a.stroke.enabled,X=!!a.fill&&!1!==a.fill.enabled,O=!!a.clip,f=h.format(f,a),f=h.entities(f);s&&s.data||(s={font:g,content:f,textTransform:Q,lineHeight:V,letterSpacing:L,width:p.width},W&&(a.fontSize=h.fitText({target:h.getLineBreaksElement(s),targetWidth:p.width-10,targetHeight:p.height-10,minFontSize:W.minFontSize,maxFontSize:W.maxFontSize,widthOnly:W.widthOnly}),
g=s.font=l(a)),s=h.getLineBreaks(s),s.baseline=h.textBaseline("test",g),s.lineHeight=s.height/s.lines);var Y={data:s.data,lines:s.lines,lineMetrics:s.lineMetrics,baseline:s.baseline,lineHeight:s.lineHeight,height:s.height,width:s.width,x:p.x,y:p.y};if(m){m.save();m.font=g;var g=p.scale||{x:1,y:1},T=g.x,g=g.y,W=p.rotate*A;m.translate(p.x,p.y);W&&m.rotate(W);m.translate(-p.x*T,-p.y*g);1===T&&1===g||m.scale(T,g);U&&(m.lineWidth=a.stroke.lineWidth,m.strokeStyle=r.doc.getW3CStyle("stroke",m,0,0,p.width,
p.height,a));X&&(m.fillStyle=r.doc.getW3CStyle("fill",m,0,0,p.width,p.height,a));O&&(m.rect(p.x,p.y,p.width,p.height),m.clip());"string"===typeof z&&(z=e(z));"string"===typeof w&&(w=t(w));var Z=0,fa=0;switch(v){case "right":Z=p.width;fa=1;break;case "center":Z=p.width/2,fa=.5}var da="pre-wrap"===R,$=s.baseline,ha=Math.max(.5,u/12),na=s.data,ja=s.lineMetrics,ra=p.x,wa=p.y;z&&b();c();m.restore()}return Y}};var t=function(){var a=/\s+/;return function(b){var c=[];b=b.split(",");for(var d=0;d<b.length;d++){var k=
b[d].trim().split(a),e=k[0]||"none",f=k[1]||"solid",k=k[2]||"inherit";"none"!==e&&(c[e]=[],c[e].push({line:e,style:f,color:k}))}return c}}(),e=function(){var a=/((#[0-F]+|(rgba|rgb)\([^\)]+\))(\s-?\d+px){0,})/gi,b=/(#[0-F]+)|((rgb|rgba)\(.+\))|(-?\d+px)/gi;return function(c){var d=[];if(c&&"none"!==c&&(c=c.match(a)))for(var k=0;k<c.length;k++){var e=c[k].match(b);d.push({color:e[0],x:parseFloat(e[1])||0,y:parseFloat(e[2])||0,blur:parseFloat(e[3])||0})}return d.reverse()}}(),p=/[\u2014\u2013-]/,k=
/[ \u2014\u2013-]/,v=/^\s+|\s+$/g;h.CSSWhiteSpace={};h.CSSWhiteSpace.preWrap="white-space: pre-wrap;white-space: -moz-pre-wrap !important;white-space: -pre-wrap;white-space: -o-pre-wrap;word-wrap: break-word;";h.getLineBreaks=function(a){return g()(a)};h.createMeasureElement=function(){var a=document.createElement("span");a.style.cssText=h.CSSWhiteSpace.preWrap;a.className="lineBreakData";var b=document.createElement("div");b.appendChild(a);b.className="sk-expand";h.container=h.container||c();h.container.appendChild(b);
return a};h.getLineBreaksElement=function(a){var b=h.elBreaks||(h.elBreaks=h.createMeasureElement());b.parentNode.style.display="block";b.style.display="inline-block";b.style.width=a.width?a.width+"px":"auto";b.style.font=a.font;b.style.letterSpacing=(a.letterSpacing||0)+"px";b.style.textAlign=a.textAlign||"left";b.style.textTransform=a.textTransform||"none";b.innerHTML=a.content;return b};var z=function(a){a=h.getLineBreaksElement(a);var b=a.firstChild||a,c=document.createRange();c.setStart(b,0);
c.setEnd(b,0);var d=1,k=b.textContent,e=k.length,f=[],g=0,l=c.getClientRects();if(0===l.length)return{data:f,lines:f.length,height:1,width:1};for(var m=l[l.length-1].top,p=h.spaceOffset,q=h.mOffset,s=a.offsetHeight,r=a.offsetWidth,u=[],v=[],z=function(a){f.push(a);v.push({data:u,width:U.width});u=[]};k;){if(d>e){z(k);break}c.setStart(b,g);c.setEnd(b,d);d++;var l=c.getClientRects(),w=l.length,t=l[w-1],A=m!==t.top,U=A?l[Math.max(0,w-3)]||l[Math.max(0,w-2)]:t,l=d-1-g-p+q,l=k.substr(0,l).substr(-1),w=
l.charCodeAt();l&&65279!==w&&u.push({character:l,width:U.width,height:U.height,left:U.left,top:U.top});A&&(d--,l=d-g-p+q,z(k.substr(0,l)),k=k.substr(l),g=d-p+q,m=t.top)}a.parentNode.style.display="none";return{data:f,lineMetrics:v,lines:f.length,height:s,width:r}},s=function(a){a=h.getLineBreaksElement(a);for(var b=document.body.createTextRange(),c=1,d=target.innerText,k=d.length,e=[],f=0,g=a.offsetHeight,l=a.offsetWidth;d;){if(c>k){e.push(d);break}b.moveToElementText(target);b.collapse(!0);b.moveEnd("character",
c);b.moveStart("character",f);b.select();c++;1<b.getClientRects().length&&(c--,e.push(d.substr(0,c-f-1)),d=d.substr(c-f-1),f=c-1)}a.parentNode.style.display="none";return{data:e,lines:e.length,height:g,width:l}},u=function(a){function b(c){e.push(c);c=h.measureText(c,a.font);m+=c.height;l=Math.max(c.width,l)}function c(){if(!(h.measureTextWidth(f,a.font)<=a.width)){for(var d=f.length,k=0,e=0,g=0;g<d;g++){var l=f.substr(k,++e).replace(v,"");h.measureTextWidth(l,a.font)>a.width&&(l=l.substr(0,l.length-
1).replace(v,""),l.match(p)?(k=l.split(p),l=l[k[0].length],g-=k[1].length,b(k[0]+l)):l.match(" ")?(k=l.split(" "),g-=k.pop().length,b(k.join(" "))):b(l),k=g,e=1)}return f.substr(k,e+1)}}for(var d=a.content.split("\n"),e=[],f="",g,l=0,m=0,q=0;q<=d.length;q++){if(f){b(f);if(q===d.length)break;f=""}for(var s=d[q],r=s.split(k),u=0,z=0;z<r.length+2;z++){var w=0>u-1?"":s.substr(u-1,1),t=r[z]||"";if(h.measureTextWidth(f+w+t,a.font)<=a.width)f+=w+t;else if(g=c())f=g+w+t;else{g=w.match(p)?w:"";if(f||w)h.measureTextWidth(f+
g,a.font)>a.width?"\u2013"===g?t=f+g+t:(b(f),t=g+t):b(f+g);f=t}u+=t.length+1}}return{data:e,lines:e.length,height:m,width:l}};h.selectAll=function(a){if(a)if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else if(window.getSelection){var c=window.getSelection(),b=document.createRange();b.selectNodeContents(a);c.removeAllRanges();c.addRange(b)}};h.nodeIsParentOfChild=function(a,b){for(var c=b;;){if(c===a)return!0;if(c&&c.parentNode)c=c.parentNode;
else return!1}};h.nodeHasFocusedAsChild=function(a){var b=window.getSelection().focusNode;return h.nodeIsParentOfChild(a,b)};h.hasSelection=function(a){return h.nodeHasFocusedAsChild(a)&&(a=h.getRange(a))?a.endOffset!==a.startOffset:!1};h.getRange=function(a){var b=window.getSelection();if(null===b)return a=h.getCursorPos(a),{startOffset:a,endOffset:a};if(h.nodeHasFocusedAsChild(a)&&(a=b.focusNode))return 3===a.nodeType?b.getRangeAt(0):a.firstChild?(a=a.firstChild,{startOffset:0,endOffset:a.data&&
a.data.length||0}):{startOffset:0,endOffset:0}};h.setRange=function(a,b,c){if(a){for(var d=document.createRange(),k=window.getSelection();a.firstChild;)a=a.firstChild;d.setStart(a,b);d.setEnd(a,c);k.removeAllRanges();k.addRange(d)}};h.getCursorPos=function(a){var b=0;if(window.getSelection){var c=window.getSelection();c.rangeCount&&(c=c.getRangeAt(0),c.commonAncestorContainer.parentNode===a&&(b=c.endOffset))}else document.selection&&document.selection.createRange&&(c=document.selection.createRange(),
c.parentElement()===editableDiv&&(a=document.createElement("span"),editableDiv.insertBefore(a,editableDiv.firstChild),b=c.duplicate(),b.moveToElementText(a),b.setEndPoint("EndToEnd",c),b=b.text.length));return b};h.setCursorPos=function(a,b){h.setRange(a,b,b)};h.attach=function(a,b){a.callback=b||a.callback;var c=new w(a);if(!c.detectFont(a)){var d=a.family,k=a.filepath,e=document.createElement("style");e.type="text/css";document.getElementsByTagName("head")[0].appendChild(e);d=k.startsWith("blob:")?
'@font-face {\t\t\t\tfont-family: "'+d+'";\t\t\t\tsrc: url("'+k+'");\t\t\t\tsrc: url("'+k+'?#iefix") format("embedded-opentype"),\t\t\t\t\turl("'+k+'") format("woff"),\t\t\t\t\turl("'+k+'") format("truetype"),\t\t\t\t\turl("'+k+"#"+d+'") format("svg");\t\t\t\tfont-weight: normal;\t\t\t\tfont-style: normal;\t\t\t}':'@font-face {\t\t\t\tfont-family: "'+d+'";\t\t\t\tsrc: url("'+k+'.eot");\t\t\t\tsrc: url("'+k+'.eot?#iefix") format("embedded-opentype"),\t\t\t\t\turl("'+k+'.woff") format("woff"),\t\t\t\t\turl("'+
k+'.ttf") format("truetype"),\t\t\t\t\turl("'+k+".svg#"+d+'") format("svg");\t\t\t\tfont-weight: normal;\t\t\t\tfont-style: normal;\t\t\t}';e.styleSheet?e.styleSheet.cssText=d:e.innerHTML=d;a.callback&&c.waitForFont(a)}};h.attachFromCSS=function(a,b){a.callback=b||a.callback;var c=new w(a);if(!c.detectFont(a)){var d=a.href.replace(/[^a-zA-Z 0-9]+/g,""),k=document.getElementById(d);if(k)return c=k.getAttribute("data-error"),a.callback?a.callback(c):c;a.link=k=document.createElement("link");k.href=
a.href;k.id=d;k.setAttribute("rel","stylesheet");k.setAttribute("type","text/css");k.onerror=function(){a.callback&&a.callback("404");k.setAttribute("data-error","404")};document.body.appendChild(k);c.waitForFont(a)}};h.attachFromGoogleAPI=function(a,b){h.attachFromCSS({family:a,href:window.location.protocol+"//fonts.googleapis.com/css?family="+a+":regular",callback:function(c){c&&(c="&ldquo;"+a+"&rdquo; font-family unavailable.");b&&b(c)}})};var w=function(a){a=a||{};var b=this;this.metrics=void 0;
this.test=a.test||"Thequickbrownfox";this.font=this.missing=this.arial=this.ctx=this.canvas=void 0;this.createHash=function(a){b.canvas.width=b.canvas.width;b.ctx.font=b.font;b.ctx.fillText(a,0,b.metrics.textBaseline.top);return b.ctx.canvas.toDataURL()};this.getHash=function(a){b.metrics||(b.metrics=h.getMetrics(b.test,"16px Arial, Helvetica"),b.canvas=d.Canvas(b.metrics.width,b.metrics.height),b.font="16px Arial, Helvetica",b.ctx=b.canvas.ctx,b.ctx.font="16px Arial, Helvetica",b.arial=b.createHash(b.test),
b.missing=b.createHash(""));b.font='16px "'+a+'", Arial, Helvetica';return b.createHash(b.test)};this.detectFont=function(a){"string"===typeof a&&(a={family:a});if(!a)return console.log("missing opts");if(!a.family)return console.log("missing family",a);var c=a.family,d=a.callback,k=h.supports[c];if("boolean"===typeof k)return d&&d(),k;if("arial"===c.toLowerCase())return h.supports[a.family]=!0,d&&d(),!0;c=b.getHash(c);return c!==b.missing&&c!==b.arial?(h.supports[a.family]=!0,d&&d(),!0):!1};this.waitForFont=
function(a){if(!b.detectFont(a)){var c=m.timestamp(),d=a.timeout||2E4,k=function(b){h.supports[a.family]=!1;a.link&&a.link.setAttribute("data-error","timeout");clearInterval(g);a.callback("timeout");e()},e=function(){r&&r.loader&&r.loader.stop(a.family)},f=null,g=setInterval(function(){var l=b.getHash(a.family),p=m.timestamp()-c;l!==b.missing&&l!==b.arial?(h.supports[a.family]=!0,clearInterval(g),a.callback(),e()):p>d?k():a.filepath&&2E3<p&&!f&&(f=m.request({url:a.filepath,onerror:k}))},10);r&&r.loader&&
a.useLoader&&r.loader.create(a.family,q.translate("loading")+" &ldquo;"+a.family+"&rdquo;")}}},b=new w;h.supports={};h.detectFont=b.detectFont;h.waitForFont=b.waitForFont;"object"===typeof module&&module.exports&&(module.exports=r.vector.text)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.Server=function(g,d){var m=this,q=g.feature,b=g.lang,h=g.util,f;m.auth=function(a){q.requireAuth?h.request({url:g.loc.host+"check-login.html",format:"text",onsuccess:function(b,d){a("true"===d)}}):a(!0)};m.getResource=function(){if(g.loc.GET)return g.loc.getSketchID()||g.util.getRandomID();console.warn("GET not setup");return"new"};m.open=function(a){function f(){t&&t()}a=a||{};var r=a.url,t=a.onsuccess,e=a.onerror,p=a.onprogress||function(a){var c=b.translate("downloading")+
"...";1>a?(a=Math.max(0,100*a-1)>>0,g.loader&&g.loader.create("thread",c,a)):g.loader&&g.loader.stop("thread")};if(void 0===r){a=m.getResource();if("new"===a){d.reset();d.render.dirty=!0;d.render.dirtyControls=!0;return}a=a+"&format="+d.format+"&timestamp="+h.timestamp();r=g.loc.GET+a}h.request({url:r,format:"text",onerror:function(a){p&&p(1);q.debug?console.warn("server connection error",a):(g.loc.setHash(q.sync.hashFlag,"new"),e&&e())},onsuccess:function(a,b){if(b.startsWith("<?xml")||b.startsWith("<svg"))p&&
p(.99),g.open.svg(b,f,f);else if(b.startsWith("<"))p&&p(1),q.debug&&console.log("invalid data from server",b),g.loc.setHash(q.sync.hashFlag,"new");else if(b.startsWith("{"))p&&p(.99),g.open.json(b,f,f);else if(g.open.sketch){for(var c=new Uint8Array(b.length),d=0;d<b.length;d++)c[d]=b.charCodeAt(d)&255;c=new Blob([c.buffer],{type:"application/zip"});p&&p(.99);g.open.sketch({blob:c})}else p&&p(1),f()},onprogress:function(a,b){p&&p(b)}})};m.save=function(b){b=b||{};var l=b.url,r=b.sync||q.sync,t=b.metadata||
r.metadata||{},e=b.onabort||r.onabort,p=b.onerror||r.onerror,k=b.onprogress||r.onprogress,v=b.onsave||r.onsave;250>h.timestamp()-f||(f=h.timestamp(),m.auth(function(b){b?g.save.sync({sync:r,onprogress:function(a){k&&k(0,"prepare")},onsuccess:function(b){d.__lastSynchronized=d.__lastModified;for(var c in b)"folder"===c?b.folder.forEach(function(a){t[a.filename]=a.blob}):t[c]=b[c];a({url:l,metadata:t,onsave:v,onabort:e,onerror:p,onprogress:function(a,b){k&&k(a,b)}})}}):g.exec("login")}))};m.saveData=
function(b){b=b||{};(function(){m.auth(function(d){d?a(b):g.exec("login")})})()};var a=function(a){var b=a.url||g.loc.POST,f=a.metadata,m=a.onabort,e=a.onerror,p=a.onprogress,k=a.onsave;if(!a||!h.count(f))return console.warn("server sync is not setup");a={action:b,confirm:"text",files:[]};var r=a.files,z;for(z in f)r.push({name:z,data:f[z]});"string"!==typeof f.fileName&&r.push({name:"fileName",data:d.title});a.onprogress=function(a,b){p&&p(a.transferPercent,"sync")};a.onabort=function(a,b){m&&m(b)};
a.onerror=function(a,b){e&&e(b)};a.onupload=function(a,b){q.debug&&console.log(a.transferTotal,b,a);"false"===b||"<"===b[0]?(console.warn("invalid server response",b),e&&e(b)):((q.sync.json||q.sync.zip||q.sync.svg)&&q.sync.hashId&&g.loc.setHash(q.sync.hashFlag,b),g.emit("save",b,r),k&&k(b,r))};new g.uploader.upload(a)}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(a,b){var c=new h.Transform(b),d=c.point2d(a[0],a[1]),e=c.point2d(a[0],a[3]),f=c.point2d(a[2],a[3]),c=c.point2d(a[2],a[1]);return{x1:Math.min(d.x,e.x,f.x,c.x),y1:Math.min(d.y,e.y,f.y,c.y),x2:Math.max(d.x,e.x,f.x,c.x),y2:Math.max(d.y,e.y,f.y,c.y)}}function d(a){if(a.__style)return a.__style;if(!a.getAttribute)return a.__style={};var b=a.getAttribute("style");if(!b)return a.__style={};for(var b=b.split(";"),c={},d=0,e=b.length;d<e;d++){var f=b[d].split(":");f[0]&&f[1]&&(c[f[0].trim()]=
f[1].trim())}return a.__style=c}function m(a){var b=[];if(a)for("string"===typeof a&&(a=-1!==a.indexOf(",")?a.split(","):a.split(" "));a.length;)b.push(parseFloat(a.shift()));return b}function q(a,b){return"undefined"!==typeof XPathResult?a.evaluate('//*[@xml:id="'+b+'"]',a,function(){return"http://www.w3.org/XML/1998/namespace"},XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:a.getElementById?a.getElementById(b):null}var b=r.util.string,h=r.vector||(r.vector={}),f=r.util,a={},c={},l=1/
(180/Math.PI),A=["g","switch","a"],t=h.SVG=function(a){if(!(this instanceof t))return new t(a);r=t.__self||r;f=r.util;a=a||{};this.convertMetrics=f.getScreenMetrics?this.convertMetrics||f.toMetrics||(f.toMetrics=f.getScreenMetrics()):{normal_px:16,"xx-small_px":9,"x-small_px":10,small_px:13,medium_px:16,large_px:18,"x-large_px":24,"xx-large_px":32,"%>px":.16,"px>pt":.7500187504687618,"pt>pc":.08333333333333333,"px>in":.010416666666666666,"in>ft":.08333333333333333,"ft>yd":.3333333333333333,"px>mm":.2645833333333333,
"mm>cm":.1,"cm>m":.01,"px>ex":.11951429390955158,"ex>em":.52295,"px>px":1,"px>pc":.06250156253906347,"pt>px":1.3333,"pc>px":15.9996,"pc>pt":12,"px>cm":.02645833333333333,"mm>m":.001,"mm>px":3.779527559055119,"m>mm":1E3,"cm>mm":10,"px>m":2.645833333333333E-4,"cm>px":37.795275590551185,"m>px":3779.527559055118,"m>cm":100,"px>ft":8.680555555555555E-4,"in>yd":.027777777777777776,"in>px":96,"yd>in":36,"ft>in":12,"px>yd":2.8935185185185184E-4,"ft>px":1152,"yd>px":3456,"yd>ft":3,"px>em":.0625,"ex>px":8.3672,
"em>px":16,"em>ex":1.9122287025528253};this.type="svg";this.cors=a.cors||!1;this.debug=a.debug||!1;this.debugSVG=a.debugSVG||!1;this.debugBBox=a.debugBBox||!1;this.debugHitArea=a.debugHitArea||!1;this.placement=a.placement||"bbox";this.defaultStroke=this.defaultFill="#000000";this.state={fillStyle:"#000000"};this.defs={};this.vob={type:"svg"};this.batch=0;this.skipRender=a.skipRender||!1;this.useCache=a.useCache||!1;this.uid=0;a.src&&(this.src=a.src);a.srcs&&(this.srcs=a.srcs);a.data&&(this.data=
a.data);a.ctxCache&&(this.ctxCache=a.ctxCache);a.ctx&&(this.ctx=a.ctx);a.onerror&&(this.onerror=a.onerror);a.onload&&(this.onload=a.onload);a.document&&(this.document=a.document);return a.src||a.document?this.load():this},e=t.prototype;e.load=function(){if(this.src||this.data||this.document){var b=this,d=r.util,e=b.onerror;if(this.src||this.data){var f=this.src||this.data;if("string"===typeof f){this.__id=r.util.hash(f);if(t.detect(f))return this.fromString(f),this;!1!==this.useCache&&"undefined"!==
typeof document&&(this.document=document.getElementById(this.__id))}else return e&&e("not string"),this}else if(this.document)return this.__id="#",this.onParseReady(),this;if(c[f])e&&e("404");else if(this.document)if((d=a[this.__id])&&d.loaded||this.srcs&&this.srcs[f])this.onParseReady();else b.onParseReady();else this.srcs&&this.srcs[f]?this.fromString(this.srcs[f]):d.request({url:f,format:"text",onerror:function(){c[f]=!0;e&&e("404")},onsuccess:function(a,c){b.fromString(c)}})}return this};t.decodeDataURL=
function(a){a=a.split(/;(.+)/);a.shift();a=a.shift().split(/,(.+)/);var c=a.shift();a=a.shift();return"utf8"===c?a:atob(b.decodeUTF8(a))};e.fromString=function(a,b){var c=new DOMParser;0===a.indexOf("data:image/svg")&&(a=t.decodeDataURL(a));this.srcXML=a;a=a.replace(/\<(\?xml|(\!DOCTYPE[^\>\[]+(\[[^\]]+)?))+[^>]+\>/g,"");a=a.replace(/(xmlns(:.*|)='&.*;')/g,"");this.document=c=c.parseFromString("<object>"+a+"</object>","text/xml").documentElement;this.svg=c.querySelector?c.querySelector("svg"):c;this.document.id=
this.__id;"object"===typeof document&&this.debugSVG&&document.body.appendChild(this.document);this.onParseReady(b);!this.debugSVG&&this.document.style&&(this.document.style.visibility="hidden",this.document.style.opacity=0,this.document.style.zIndex=-1,this.document.style.width="1px",this.document.style.height="1px");return this};e.onParseReady=function(b){var c=this,d=a[c.__id];if(d)c.onload&&c.onload(d);else{var e=f.perf();c.loaded=!0;c.element=c.document.contentDocument||c.document;c.parse({document:c.element,
skipRender:c.skipRender,node:{childNodes:[]},onload:function(d){if(d&&(c.vob=d[0],c.viewBox=c.getBoundingBox(null),c.viewBoxStroke=c.getBoundingBox(null,!0),c.debug&&e("SVG.parse"),c.useCache&&(a[c.__id]=c),b&&b(c),c.onload&&c.onload(c),!c.debug))try{document.body.removeChild(c.document)}catch(f){}}})}};e.rxSplitByUppercase=/([A-Z]?[^A-Z]*)/g;e.rxNumeric=/[+-]?\d*\.?(e[+-]?\d+)*/g;e.rxTransform=/(\w+\(([+-]?\d*\.?(e[+-]?\d+)*[, ]?)+\))+/gi;e.parse=function(a){function b(){if(0===++f.batch%250)setTimeout(b,
0);else if(++H===D)a.onload&&a.onload(m);else{var c=C[H],e=c.type,p="";t&&t.save();if("none"===d(c).display)return b();switch(e){case "svg":f.currentNode=p=f.getAttributes(c,"id,x,y,width,height,viewBox,version,source,author,license,keywords,metadata,brush");p.matrix=h.Transform.getIdentity();p.type="svg";if(void 0!==h.SVGFont){e=f.element.getElementsByTagName("font");e.length&&(f.vob.type||(f.vob=p),t&&(f.debug&&(t.canvas.style.border="1px solid rgba(0,0,0,0.1)",f.document.style.left=p.width+"px"),
t.canvas.width=p.width||1,t.canvas.height=p.height||1),f.typeface=new h.SVGFont(t),f.document.width=p.width||1,f.document.height=p.height||1,q=p);for(var s=0;s<e.length;s++)f.typeface.load(e[s].cloneNode(!0),function(a){})}if(p.viewBox){var s=p.viewBox,z=s[2]-s[0],G=s[3]-s[1],e=p.width||z,E=p.height||G;t&&(t.canvas.width=e,t.canvas.height=E);z=Math.min(e/z,E/G);G=new h.Transform;G.translate(-s[0],-s[1]);G.translate(e/2,E/2);G.scale(z,z);G.translate(-e/2*1/z,-E/2*1/z);t&&G.apply(t);p.matrix=G.matrix;
p.transform=G.matrix;p.transform.type="transform"}else t&&(t.canvas.width=p.width,t.canvas.height=p.height);m.push(p);p.childNodes=[];f.parse({skipRender:a.skipRender,document:c,node:p,svg:q,onload:function(a){p.childNodes=a;t&&t.restore();b()}});return;case "title":if(!q)break;q.title=c.textContent;break;case "desc":if(!q)break;q.desc=c.textContent;break;case "a":case "g":case "switch":if(f.currentNode=p=f.getAttributes(c,"id,labels"),p.parentNode=a.node,p.type="g",t&&t.beginPath(),f.parseTransform(c,
"transform"),f.parseClipPath(c,!0),p.style=f.parseStyle(t,c,!r),c.hasChildNodes){m.push(p);p.childNodes=[];f.parse({skipRender:a.skipRender,document:c,node:p,svg:q,onload:function(a){p.childNodes=a;t&&t.restore();b()}});return}case "use":if(e=f.parseHref(c))if(f.currentNode=p=f.getAttributes(c,"id,xlink:href,labels"),p.parentNode=a.node,p.type="use",e=e.substr(1),!f.defs[e]){t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);e=f.getElementById(e);-1!==A.indexOf(e.nodeName)&&(f.parseTransform(e,
"transform",!1),f.parseClipPath(e,!0));p.childNodes=[];f.parse({skipRender:a.skipRender,document:e,node:p,svg:q,onload:function(a){t&&t.restore();m.push(p);b()}});return}break;case "fegaussianblur":f.currentNode=p=f.getAttributes(c,"id,stdDeviation");p.parentNode=a.node;p.type="GaussianBlur";m.push(p);break;case "image":if(e=f.parseHref(c)){if(!q.cors&&"http"===e.substr(0,4))break;f.currentNode=p=f.getAttributes(c,"id,x,y,width,height,preserveAspectRatio,labels",!0);p.parentNode=a.node;p.type="image";
p.x=p.x||0;p.y=p.y||0;t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);f.svg.data?(c=f.svg.data.split("/"),c.pop(),(c=c.join("/"))&&(c+="/")):c="";p.image=new Image;p.image.node=p;p.image.onload=function(){var a=this.node,c=this.width,d=this.height,e=a.matrix;t&&t.setTransform(e.a,e.b,e.c,e.d,e.x,e.y);if(a.preserveAspectRatio&&"none"!==a.preserveAspectRatio){var f=a.preserveAspectRatio.split(" ")[0],e=f.substr(1,3),f=f.substr(5,3);c>a.width&&(d*=a.width/c,c=a.width);d>a.height&&
(c*=a.height/d,d=a.height);switch(e){case "Min":e=0;break;case "Mid":e=(a.width-c)/2;break;case "Max":e=a.width-c}switch(f){case "Min":f=0;break;case "Mid":f=(a.height-d)/2;break;case "Max":f=a.height-d}t&&t.drawImage(this,e,f,c,d);p.x=e;p.y=f;p.width=c;p.height=d}else t&&t.drawImage(this,a.x,a.y,a.width,a.height);p.bbox=g([p.x,p.y,p.x+p.width,p.y+p.height],p.matrix);t&&t.restore();a.push(p);b()};p.image.onerror=function(){t&&t.restore();b()};-1!==e.indexOf("base64")||"http"===e.substr(0,4)?(p.href=
e,p.image.src=e):(p.href=c+e,p.image.src=c+e);return}case "text":if(!h.text){console.log("missing text module");break}f.currentNode=p=f.getAttributes(c,"id,x,y,dx,dy,labels",!0);p.parentNode=a.node;p.type="text";p.childNodes=[];t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);p.style=f.parseStyle(t,c,!r);for(var z=E=Infinity,I=G=-Infinity,R=p.dx||0+(p.x||0),W=p.dy||0+(p.y||0),c=c.childNodes,s=e=0,U=c.length;s<U;s++){var X=c[s];if("[object Text]"===String(X)){var O={},Y=document.createElement("tspan");
Y.textContent=X.textContent;X=Y}else O=f.getAttributes(X,"id,x,y,dx,dy",!0);void 0!==O.x&&(R=0);void 0!==O.y&&(W=0);R=0!==(O.dy||0)?O.dx||0:R+(O.dx||0);W+=O.dy||0;O.x=R+(O.x||0);O.y=W+(O.y||0);O.parentNode=p;O.type="tspan";O.content=X.textContent.trim();f.currentNode=O;O.style=f.parseStyle(t,X,!r);p.childNodes.push(O);Y=f.fontStyleToString(t,O.style);X=h.text.measureText(X.textContent,Y);E>O.x&&(E=O.x);z>O.y&&(z=O.y-O.style.fontSize);I<O.y+X.height&&(I=O.y+X.height-O.style.fontSize);G<O.x+X.width&&
(G=O.x+X.width);R+=X.width;e+=X.width}switch(p.style.textAnchor){case "middle":E-=e/2;G-=e/2;break;case "end":E-=e,G-=e}p.bbox=g([E,z,G,I],p.matrix);m.push(p);break;case "rect":f.currentNode=p=f.getAttributes(c,"id,x,y,rx,ry,width,height,labels");p.parentNode=a.node;p.type="rect";p.x||(p.x=0);p.y||(p.y=0);if(!p.width||!p.height)break;t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);p.bbox=g([p.x,p.y,p.x+p.width,p.y+p.height],p.matrix);void 0===p.rx&&void 0!==p.ry&&(p.rx=p.ry);
void 0===p.ry&&void 0!==p.rx&&(p.ry=p.rx);t&&l&&(void 0===p.rx?l.rect(t,p.x,p.y,p.width,p.height):l.roundRect(t,p.x,p.y,p.width,p.height,p.rx,p.ry));p.style=f.parseStyle(t,c,!r);m.push(p);break;case "circle":f.currentNode=p=f.getAttributes(c,"id,cx,cy,r,labels");p.parentNode=a.node;p.type="circle";t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);p.bbox=g([p.cx-p.r,p.cy-p.r,p.cx+p.r,p.cy+p.r],p.matrix);p.cx=p.cx||0;p.cy=p.cy||0;t&&l.ellipse(t,p.cx,p.cy,p.r,p.r);p.style=f.parseStyle(t,
c,!r);m.push(p);break;case "ellipse":f.currentNode=p=f.getAttributes(c,"id,cx,cy,rx,ry,labels");p.parentNode=a.node;p.type="ellipse";t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);p.cx=p.cx||0;p.cy=p.cy||0;p.bbox=g([p.cx-p.rx,p.cy-p.ry,p.cx+p.rx,p.cy+p.ry],p.matrix);t&&l&&l.ellipse(t,p.cx,p.cy,p.rx,p.ry);p.style=f.parseStyle(t,c,!r);m.push(p);break;case "line":f.currentNode=p=f.getAttributes(c,"id,x1,y1,x2,y2,labels");p.parentNode=a.node;p.type="line";p.x1=p.x1||0;p.y1=p.y1||
0;p.x2=p.x2||0;p.y2=p.y2||0;t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);p.bbox=g([p.x1,p.y1,p.x2,p.y2],p.matrix);t&&l&&(t.moveTo(p.x1,p.y1),t.lineTo(p.x2,p.y2));p.style=f.parseStyle(t,c,!r);m.push(p);break;case "pencil":case "polyline":case "polygon":s=f.parsePoints(c,e);E=s.points;f.currentNode=p=f.getAttributes(c,"id,labels");p.parentNode=a.node;p.type=e.toLowerCase();p.points=E;t&&t.beginPath();f.parseTransform(c,"transform");f.parseClipPath(c,!0);p.data=s.data;p.bbox=
new h.BBox(p);t&&l&&l.VOBPath(t,p.data);p.style=f.parseStyle(t,c,!r);m.push(p);break;case "path":f.currentNode=p=f.getAttributes(c,"id,d,labels"),p.parentNode=a.node,p.type="path",t&&t.beginPath(),f.parseTransform(c,"transform"),f.parseClipPath(c,!0),p.data=h.SVGPath.toVOBPath(p.d),p.bbox=new h.BBox(p),p.element=c,t&&l&&l.VOBPath(t,p.data),p.style=f.parseStyle(t,c,!r),m.push(p)}t&&t.restore();b()}}if(a.node){if(a.document&&a.document.childNodes&&a.document.childNodes.length)var c=a.document.childNodes;
else if(a.document){var e=a.document.nodeName.toLowerCase();if(p[e])c=[a.document];else return a.onload&&a.onload([]),this}else return a.onload&&a.onload([]),this;a.defs&&(this.defs=a.defs);for(var f=this,l=h.Shape,m=a.node.childNodes,q=a.svg||f.svg,r=a.skipRender||!1,t=a.ctx||this.ctx,C=[],G=0,I=c.length;G<I;G++){var E=c[G],e=E.nodeName.toLowerCase();"#"!==e[0]&&(0===e.indexOf("svg:")&&(e=e.substr(4)),0===e.indexOf("scalable_vector_graphics:")&&(e=e.substr(25)),0===e.indexOf("sketchjs:")&&(e=e.substr(9)),
E.type=e,C.push(E))}var D=C.length,H=-1;b();return m}};e.parseAttribute=function(a,b,c){void 0===a&&(a=c);"inherit"===a&&(a=this.currentNode,a=a.parentNode&&a.parentNode.style&&a.parentNode.style[b]?a.parentNode.style[b]:c);return a};e.parseStyleAttribute=function(a,b,c){a=b[c]||a.getAttribute(c);b="color"===c?"color":c+"Style";if(a){if(r.color.webcolors[a])a="#"+r.color.webcolors[a];else if("none"===a)a="transparent";else if("currentColor"===a)a=this.state.color;else if("url"===a.substr(0,3)){a=
a.substr(5,a.indexOf(")")-5);var d=this.ctx,e=this.parseDefs(d,a,c);e?d&&this.setStyle(d,e,b):a=""}"inherit"===a&&(d=this.currentNode,d.parentNode&&d.parentNode.style&&d.parentNode.style[b]?a=d.parentNode.style[b]:"stroke"!==c&&(a="#000000"));return a}};e.parseStyle=function(a,b,c){var e=r.util,f=this.currentNode,g=this.state=e.copy(f.parentNode.style||this.state),l=d(b);f.uid=this.uid++;a&&a.save();var p=this.getAttributes(b,"opacity,fill-rule,fill-opacity,stroke-width,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-dasharray,stroke-dashoffset,stroke-opacity,font-size,font-family,font-weight,font-style,line-height,text-anchor",
!0);void 0!==p.opacity?(g.opacity=p.opacity,a&&(a.globalAlpha=g.opacity)):f.parentNode.style?(g.opacity=f.parentNode.style.opacity,a&&(a.globalAlpha=g.opacity)):(g.opacity=1,a&&(a.globalAlpha=1));var m=b.attributes;if(m){var q=m.length;q&&void 0===f.attributes&&(f.attributes={});for(var t=0;t<q;t++){var A=m[t];if("data-"===A.name.substr(0,5)){var I=A.name.substr(5).split("-");I[1]&&(I[1]=I[1][0].toUpperCase()+I[1].substr(1));I=I.join("");f.attributes[I]=A.value}}(m=l.filter||b.getAttribute("filter"))?
(q=m.substr(5,m.length-6),!this.defs[q]&&(m=this.getElementById(q))&&(this.defs[q]=this.getAttributes(m,"id,x,y,width,height"),this.defs[q].type="filter",this.defs[q].filter=this.parse({document:m,node:{childNodes:[]}})),g.filter=q):delete g.filter;p.fontSize&&(g.fontSize=p.fontSize);if(p.fontFamily)for(g.fontFamily=p.fontFamily,m=p.fontFamily.split(",");q=m.shift();){if(this.typeface&&this.typeface.packages[q]){g.fontRenderer="SVG";break}if(h.text&&h.text.detectFont(q)){g.fontRenderer="native";break}}p.fontWeight&&
(g.fontWeight=p.fontWeight);p.fontStyle&&(g.fontStyle=p.fontStyle);p.lineHeight&&(g.lineHeight=p.lineHeight);p.textAnchor&&(g.textAnchor=p.textAnchor);a&&(a.font=this.fontStyleToString(a,g));if(m=this.parseStyleAttribute(b,l,"color"))g.color=m;if(m=this.parseStyleAttribute(b,l,"fill"))p.fillStyle=m;else if(m=f.parentNode,m.style){m=e.copy(m.style);for(I in p)m[I]=p[I];p=m}else p.fillStyle="default";g.fillStyle=this.parseAttribute(p.fillStyle,"fillStyle","#000000");g.fillRule=this.parseAttribute(p.fillRule,
"fillRule","nonzero");g.fillOpacity=Math.max(0,this.parseAttribute(p.fillOpacity,"fillOpacity",1));c&&g&&a&&("default"===g.fillStyle?a.fillStyle=this.defaultFill:g.fillStyle&&(a.fillStyle=g.fillStyle),a.save(),a.globalAlpha*=g.fillOpacity,f.content?"SVG"===g.fontRenderer?(this.typeface.setFont(a.font),this.typeface.fillText(f.content,f.x,f.y)):a.fillText(f.content,f.x,f.y):a.fill(),a.restore());if(m=this.parseStyleAttribute(b,l,"stroke"))p.strokeStyle=m;else if(m=f.parentNode,m.style){m=e.copy(m.style);
for(I in p)m[I]=p[I];p=m}g.strokeWidth=this.parseAttribute(p.strokeWidth,"strokeWidth",1);g.strokeStyle=this.parseAttribute(p.strokeStyle,"strokeStyle","none");g.strokeLinecap=this.parseAttribute(p.strokeLinecap,"strokeLinecap","butt");g.strokeLinejoin=this.parseAttribute(p.strokeLinejoin,"strokeLinejoin","miter");g.strokeMiterlimit=Math.max(1,this.parseAttribute(p.strokeMiterlimit,"strokeMiterlimit",4));g.strokeDasharray=this.parseAttribute(p.strokeDasharray,"strokeDasharray","none");g.strokeDashoffset=
this.parseAttribute(p.strokeDashoffset,"strokeDashoffset",0);g.strokeOpacity=Math.max(0,this.parseAttribute(p.strokeOpacity,"strokeOpacity",1));c&&g&&a&&(a.lineWidth=0===g.strokeWidth?e.ZERO:g.strokeWidth||1,a.lineCap=g.strokeLinecap||"butt",a.lineJoin=g.strokeLinejoin||"miter",a.miterLimit=g.strokeMiterlimit||a.lineWidth,g.strokeStyle&&"none"!==g.strokeStyle&&(a.strokeStyle=g.strokeStyle,a.save(),a.globalAlpha*=g.strokeOpacity,f.content?"SVG"===g.fontRenderer?(this.typeface.setFont(a.font),this.typeface.strokeText(f.content,
f.x,f.y)):a.strokeText(f.content,f.x,f.y):a.stroke(),a.restore()));a&&a.restore();return g}};e.parseDefs=function(a,b,c){if(this.defs[b])return this.defs[b];var d=this.getElementById(b);if(!d)return{};c=d.nodeName.toLowerCase();switch(c){case "pattern":return this.defs[b]=this.PatternExtract(a,d);case "lineargradient":case "radialgradient":return this.defs[b]=this.GradientExtract(a,d,c)}};e.addDef=function(a){return this.defs[a.id]=a};e.Gradient=function(a){a=a||{};var b={id:a.id||"MyGradient",type:a.type||
"linearGradient",gradientTransform:a.gradientTransform,gradientUnits:a.gradientUnits||"objectBoundingBox",spreadMethod:a.spreadMethod||"pad",stops:a.stops||[{color:"#fff",offset:0},{color:"#000",offset:1}]};"radialGradient"===b.type?(b.cx=isFinite(a.cx)?a.cx:0,b.cy=isFinite(a.cy)?a.cy:1,b.fx=isFinite(a.fx)?a.fx:0,b.fy=isFinite(a.fy)?a.fy:0,b.r=isFinite(a.r)?a.r:1):(b.x1=isFinite(a.x1)?a.x1:0,b.x2=isFinite(a.x2)?a.x2:1,b.y1=isFinite(a.y1)?a.h1:0,b.y2=isFinite(a.y2)?a.y2:0);return b};e.GradientEncode=
function(a){var b;b="<"+a.type;b=this.encodeAttributes(b,a);b+=">\n";for(var c=a.stops,d=0;d<c.length;d++){var f=c[d],e=f.color;if("rgba"===e.substr(0,4)){var e=r.color.space(e,"W3>RGBA"),h=e.A/255,e=r.color.space(e,"RGB>W3");b+='\t<stop offset="'+f.offset+'" style="stop-color:'+e+";stop-opacity:"+h+';"/>\n'}else b+='\t<stop offset="'+f.offset+'" style="stop-color:'+f.color+';"/>\n'}return b+="</"+a.type+">\n"};e.GradientExtract=function(a,b,c){if("lineargradient"===c){var e=this.getAttributes(b,
"id,x1,y1,x2,y2,spreadMethod,gradientUnits,gradientTransform");e.type="linearGradient"}else e=this.getAttributes(b,"id,cx,cy,r,fx,fy,spreadMethod,gradientUnits,gradientTransform"),e.type="radialGradient",void 0===e.fx&&(e.fx=e.cx,e.fy=e.cy);void 0===e.gradientUnits&&(e.gradientUnits="objectBoundingBox");var f=[],h=b.childNodes,g=this.parseHref(b);if(g)return f=this.parseDefs(a,g.substr(1),c),e.stops=f.stops,e;var l=d(b);b=l.color||b.getAttribute("color")||this.state.color;a=0;for(var p in h)if(g=
h[p],g.nodeName&&(c=g.nodeName.toLowerCase(),"stop"===c&&(l=d(g),c=l["stop-color"]||g.getAttribute("stop-color"))))r.color.webcolors[c]?c="#"+r.color.webcolors[c]:"none"===c?c="transparent":"currentColor"===c?c=b||"#000000":"inherit"===c&&(c=b||"#000000"),(l=l["stop-opacity"]||g.getAttribute("stop-opacity"))&&"1"!==l&&("inherit"===l&&(l=1),"#"===c.substr(0,1)?(c=r.color.space(c.substr(1),"W3>HEX24>RGB"),c.A=255*parseFloat(l)):"rgba"===c.substr(0,4)?(c=r.color.space(c,"W3>RGBA"),c.A*=parseFloat(l)):
"rgb"===c.substr(0,3)&&(c=r.color.space(c,"W3>RGB"),c.A=255*parseFloat(l)),c=r.color.space.RGBA_W3(c)),g=g.getAttribute("offset")||"0",l=-1!==g.indexOf("%")?100:1,g=parseFloat(g)/l,g<a&&(g=a),f.push({offset:g,color:c}),a=g;e.stops=f;return e};e.Pattern=function(a){return{id:a.id||"MyPattern",type:a.type||"pattern",pattern:a.pattern||CanvasPattern,patternContentUnits:a.patternContentUnits,patternTransform:a.patternTransform,patternUnits:a.patternUnits||"userSpaceOnUse",width:a.width||100,height:a.height||
100}};e.PatternEncode=function(a){var b;b=this.encodeAttributes("<pattern",a);b+=">\n";a=a.childNodes;a.length&&(b+=this.encodeChildNodes(a,"","\t"));return b+="</pattern>\n"};e.PatternExtract=function(a,b){var c=this,d=this.getAttributes(b,"patternUnits,patternContentUnits,patternTransform,x,y,width,height,preserveAspectRatio,href"),e=this.parseHref(b);e&&(d.href=e);d.type="pattern";d.id=b.id;var f=new t;f.element=b;f.parse({skipRender:!0,document:b,node:{childNodes:[]},onload:function(b){d.childNodes=
b;if(b.length){b=c.createContext();var e=c.getBoundingBox(d.childNodes,!1,.5);b.canvas.width=e[2]-e[0];b.canvas.height=e[3]-e[1];f.render({ctx:b,childNodes:d.childNodes,viewBox:e,placement:"crop"});a&&b.canvas.width&&b.canvas.height&&(d.pattern=a.createPattern(b.canvas,"repeat"))}d.href&&c.parseDefs(a,d.href.substr(1),"pattern")}});return d};e.parseHref=function(a){return a.getAttribute("xlink:href")||a.getAttribute("href")};e.parseTransform=function(a,b,c){var d=this.ctx,e=this.currentNode;if(a){a=
a.getAttribute(b);c=!1!==c;var f=(b="transform"===b)?e.matrix?e.matrix:e.parentNode.matrix?e.matrix=h.Transform.cloneMatrix(e.parentNode.matrix):e.matrix=h.Transform.getIdentity():h.Transform.getIdentity();if(a){var f=new h.Transform(f),g=new h.Transform;if(a=a.match(this.rxTransform))for(var p=0,q=a.length;p<q;p++){var r=a[p].replace(/^\s+|\s+$/,"").split("("),t=r[0].replace(/^\s+|\s+$/,""),r=m(r[1]);switch(t){case "matrix":b&&(d&&d.transform(r[0],r[1],r[2],r[3],r[4],r[5]),g.transform(r[0],r[1],
r[2],r[3],r[4],r[5]));f.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case "translate":2===r.length?(b&&(d&&d.translate(r[0],r[1]),g.translate(r[0],r[1])),f.translate(r[0],r[1])):(b&&(d&&d.translate(r[0],0),g.translate(r[0],0)),f.translate(r[0]));break;case "scale":2===r.length?(b&&(d&&d.scale(r[0],r[1]),g.scale(r[0],r[1])),f.scale(r[0],r[1])):(b&&(d&&d.scale(r[0],r),g.scale(r[0],r[0])),f.scale(r[0],r[0]));break;case "rotate":t=r[0]*l;3===r.length?(b&&(d&&(d.translate(r[1],r[2]),d.rotate(t),d.translate(-r[1],
-r[2])),g.translate(r[1],r[2]),g.rotate(t),g.translate(-r[1],-r[2])),f.translate(r[1],r[2]),f.rotate(t),f.translate(-r[1],-r[2])):(b&&(d&&d.rotate(t),g.rotate(t)),f.rotate(t));break;case "skewX":t=r[0]*l;b&&(d&&d.transform(1,0,Math.tan(t),1,0,0),g.skew(t,0));f.skew(t,0);break;case "skewY":t=r[0]*l,b&&(d&&d.transform(1,Math.tan(t),0,1,0,0),g.skew(0,t)),f.skew(0,t)}}c&&(e.transform=g.matrix,e.transform.type="transform",e.matrix=f.matrix);return{matrix:f.matrix,transform:g.matrix}}}};e.parseClipPath=
function(a,b){var c=this.ctx,d=this.currentNode;if(a){var e=a.getAttribute("clip-path");if(e){e=e.substr(5,e.length-6);if(this.defs[e])return b&&(d.clipPath=this.defs[e].d),c&&(this.renderChildNodes(c,{},d.clipPath,!0),c.clip(),c.beginPath()),this.defs[e];var f=this.getElementById(e);if(f)return this.defs[e]=this.getAttributes(f,"id,x,y,width,height,clipPathUnits"),this.defs[e].type="clipPath",f=this.parse({document:f,matrix:this.vob.matrix,node:{childNodes:[]},skipRender:!0}),c&&(c.clip(),c.beginPath()),
f.id=e,this.defs[e].d=f,b&&(d.clipPath=f),this.defs[e]}}};e.parsePoints=function(a,b){var c=a.getAttribute("points");if(c){var d=c.replace(/[\s,]+/g," ").trim().split(/[, ]/);if(!(2>d.length)){for(var e=[],c=[],f=0,h=d.length;f<h;f+=2){var g=d[f],l=d[f+1];e.push({cmd:c.length?"L":"M",x:parseFloat(g),y:parseFloat(l)});c.push([g,l])}d=c.length-1;f=c[d];isFinite(f[1])||(e[d].y=f[1]=c[0][1]);"polygon"===b.toLowerCase()?(c=""+c.join(" ")+"",e.push({cmd:"Z",x:e[0].x,y:e[0].y})):c=""+c.join(" ");return{points:c,
data:e}}}};e.getAttributes=function(a,b,c){var e={};if(!a||!a.getAttribute)return{};var f=d(a),h=0;b=b.split(",");for(var g=b.length;h<g;h++){var l=b[h],p=this.__attributes[l],q=!1;if(!p)if(p=this.__attributesNS[l])l=this.__namepace+":"+l,q=!0;else if(l=l.match(this.rxSplitByUppercase).slice(0,-1).join("-").toLowerCase(),p=this.__attributes[l],!p){console.log(l);continue}p=p.format;if(c){var r=f[l]||a.getAttribute(l);-1!==l.indexOf("-")&&(l=l.split("-"),l[1]&&(l[1]=l[1][0].toUpperCase()+l[1].substr(1)),
l=l.join(""))}else r=a.getAttribute(l)||f[l],"id"!==l||r||(r=a.getAttribute("xml:id"));if(r)if("inherit"===r)q=this.currentNode,q.parentNode&&q.parentNode.style&&q.parentNode.style[l]&&(e[l]=q.parentNode.style[l]);else if("none"===r)e[l]=r;else switch(q&&(l=l.replace(this.__namepace+":","")),p){case "numarray":e[l]=m(r);break;case "coordinate":e[l]=parseFloat(r);(p=r.replace(this.rxNumeric,""))&&"%"!==p&&"px"!==p&&(e[l]*=this.convertMetrics[p+">px"]);Infinity===e[l]&&(e[l]=4294967295);-Infinity===
e[l]&&(e[l]=-4294967295);break;case "float":e[l]=parseFloat(r);Infinity===e[l]&&(e[l]=4294967295);-Infinity===e[l]&&(e[l]=-4294967295);break;case "gradientTransform":case "patternTransform":case "transform":q=this.parseTransform(a,p,!1);e[l]=q.matrix;break;case "string":e[l]=r}}return e};e.getBoundingBox=function(a,b,c){var d=function(a){for(var c,f=a.length,k=0;k<f;k++)if(c=a[k]){if(c.bbox){if(b&&c.style&&c.style.strokeStyle)var h=c.style.strokeWidth||0,g=c.bbox.x1-h,l=c.bbox.x2+h,p=c.bbox.y1-h,
h=c.bbox.y2+h;else g=c.bbox.x1,l=c.bbox.x2,p=c.bbox.y1,h=c.bbox.y2;g<e.x1&&(e.x1=g);p<e.y1&&(e.y1=p);l>e.x2&&(e.x2=l);h>e.y2&&(e.y2=h)}c.childNodes&&d(c.childNodes)}},e={x1:Infinity,y1:Infinity,x2:-Infinity,y2:-Infinity};d(a||[this.vob]);c&&(e.x1-=c,e.y1-=c,e.x2+=c,e.y2+=c);return[e.x1,e.y1,e.x2,e.y2]};e.getElementById=function(a){if(this.element.ownerDocument){var b=this.element.ownerDocument.getElementById(a);b||(b=q(this.element.ownerDocument,a))}else(b=this.element.getElementById(a))||(b=q(this.element,
a));return b};e.getLayerById=function(a){var b=function(c){for(var d=0;d<c.length;d++){var e=c[d];if(e.id===a||e.childNodes&&(e=b(e.childNodes)))return e}};return b(this.vob.childNodes)};e.getLayerBy=function(a,b){var c=function(d){for(var e=0;e<d.length;e++){var f=d[e];if(f[a]===b||f.childNodes&&(f=c(f.childNodes)))return f}};return c(this.vob.childNodes)};e.fontStyleToString=function(a,b){if(a&&b){var c=b.textAnchor||"left";"middle"===c&&(c="center");a.textAlign=c;return(b.fontStyle||"normal")+
" "+(b.fontWeight||"normal")+" "+(b.fontSize||"normal")+"px "+(b.fontFamily||"sans-serif")}};e.createContext=function(){var a="undefined"===typeof document?new Canvas:document.createElement("canvas");a.ctx=a.getContext("2d");return a.ctx};e.walk=function(a,b,c){var d=void 0!==c,e=function(f){for(var h=0;h<f.length;h++){var g=f[h];if(b){if(d&&g[b]===c)return a(g);g[b]&&a(g)}else a(g);if(g.childNodes&&(g=e(g.childNodes)))return g}};if(this.vob)return e(this.vob.childNodes)};var p={text:!0,rect:!0,circle:!0,
ellipse:!0,line:!0,polyline:!0,polygon:!0,path:!0};h.SVG.Gradient=e.Gradient;h.SVG.GradientEncode=e.GradientEncode;h.SVG.Pattern=e.Pattern;h.SVG.PatternEncode=e.PatternEncode;h.SVG.cache=a;h.SVG.resetCache=function(){h.SVG.cache=a={}};h.SVG.detect=function(a){return a.startsWith("data:image/svg")||a.startsWith("<?xml")||a.startsWith("<svg")}})(sketch);if("object"===typeof module&&module.exports){var Canvas=require("canvas"),Image=Canvas.Image,DOMParser=require("xmldom").DOMParser;module.exports=sketch.vector.SVG}
"undefined"===typeof sketch&&(sketch={});sketch.vector=sketch.vector||{};
(function(){var r=function(g){g.prototype.nodeType=1;g.prototype.__dtd="https://sketch.io/dtd/";g.prototype.__namepace="sketchjs";g.prototype.__version="3.0";g.prototype.__attributesNS={labels:{param:"labels",format:"string",value:""},keywords:{param:"labels",format:"string",value:""},license:{param:"license",format:"string",value:""},author:{param:"author",format:"string",value:""},source:{param:"source",format:"string",value:""},version:{param:"version",format:"string",value:""},metadata:{param:"metadata",
format:"string",value:""},brush:{param:"brush",format:"string",value:""},uid:{param:"uid",format:"int",value:""}};g.prototype.__attributes={id:{param:"id",format:"string",value:""},src:{param:"src",format:"string",value:""},href:{param:"href",format:"string",value:""},"xlink:href":{param:"xlink:href",format:"string",value:""},display:{param:"display",format:"string",valid:"inline | block | list-item | run-in | compact | marker | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | none | inherit",
value:"inline"},visibility:{param:"visibility",format:"string",valid:"visible | hidden | collapse | inherit",value:"visible"},viewBox:{param:"viewBox",format:"numarray",value:0},preserveAspectRatio:{param:"preserveAspectRatio",format:"string",valid:"[defer] <align> [<meetOrSlice>]",value:"xMidYMid meet"},x:{param:"x",format:"coordinate",value:""},y:{param:"y",format:"coordinate",value:""},width:{param:"width",format:"coordinate",value:""},height:{param:"height",format:"coordinate",value:""},transform:{param:"transform",
format:"transform",value:"matrix(1,0,0,1,0,0)"},dx:{param:"dx",format:"coordinate",value:""},dy:{param:"dy",format:"coordinate",value:""},cx:{param:"cx",format:"coordinate",value:""},cy:{param:"cy",format:"coordinate",value:""},rx:{param:"rx",format:"float",value:""},ry:{param:"ry",format:"float",value:""},r:{param:"r",format:"coordinate",value:""},x1:{param:"x1",format:"float",value:""},y1:{param:"y1",format:"float",value:""},x2:{param:"x2",format:"float",value:""},y2:{param:"y2",format:"float",
value:""},d:{param:"d",format:"string",value:""},points:{param:"points",format:"string",value:""},"font-size":{param:"font-size",format:"float",valid:"<absolute-size> | <relative-size> | <length> | <percentage> | inherit",value:"medium"},"font-style":{param:"font-style",format:"string",valid:"normal | italic | oblique | inherit",value:"normal"},"font-family":{param:"font-family",format:"string",valid:"[[ <family-name> | <generic-family> ],]* [<family-name> | <generic-family>] | inherit",value:"sans-serif"},
"font-weight":{param:"font-weight",format:"string",valid:"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit",value:"normal"},"line-height":{param:"line-height",format:"float",valid:"normal | <number> | <length> | <percentage> | inherit",value:"normal"},"text-decoration":{param:"text-decoration",format:"string",valid:"none | [ underline || overline || line-through || blink ] | inherit",value:"none"},"text-anchor":{param:"text-anchor",format:"string",valid:"start | middle | end | inherit",
value:"start"},kerning:{param:"kerning",format:"float",valid:"auto | <length> | inherit",value:"auto"},"letter-spacing":{param:"letter-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"word-spacing":{param:"word-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"clip-path":{param:"clip-path",format:"string",value:""},clipPathUnits:{param:"clipPathUnits",format:"string",value:"userSpaceOnUse"},opacity:{param:"opacity",format:"float",value:1},fill:{param:"fill",
format:"string",value:"black"},"fill-rule":{param:"fill-rule",format:"string",valid:"nonzero | evenodd | inherit",value:"nonzero"},"fill-opacity":{param:"fill-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},stroke:{param:"stroke",format:"string",value:"black"},"stroke-width":{param:"stroke-width",format:"coordinate",valid:"<percentage> | <length> | inherit",value:1},"stroke-linecap":{param:"stroke-linecap",format:"string",valid:"butt | round | square | inherit",value:"butt"},"stroke-linejoin":{param:"stroke-linejoin",
format:"string",valid:"miter | round | bevel | inherit",value:"miter"},"stroke-miterlimit":{param:"stroke-miterlimit",format:"float",valid:"<miterlimit> | inherit",value:4},"stroke-dasharray":{param:"stroke-dasharray",format:"numarray",valid:"none | <dasharray> | inherit",value:"none"},"stroke-dashoffset":{param:"stroke-dashoffset",format:"coordinate",valid:"<percentage> | <length> | inherit",value:0},"stroke-opacity":{param:"stroke-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},
stops:{param:"stops",format:"string",value:""},gradientUnits:{param:"gradientUnits",format:"string",valid:"userSpace | userSpaceOnUse | objectBoundingBox",value:"userSpace"},gradientTransform:{param:"gradientTransform",format:"gradientTransform",value:"matrix(1,0,0,1,0,0)"},spreadMethod:{param:"spreadMethod",format:"string",valid:"pad | reflect | repeat",value:"pad"},fx:{param:"fx",format:"coordinate",value:""},fy:{param:"fy",format:"coordinate",value:""},patternUnits:{param:"patternUnits",format:"string",
value:""},patternContentUnits:{param:"patternContentUnits",format:"string",value:""},patternTransform:{param:"patternTransform",format:"patternTransform",value:"matrix(1,0,0,1,0,0)"},stdDeviation:{param:"stdDeviation",format:"float",value:0},filter:{param:"filter",format:"string",value:""},color:{param:"color",format:"string",value:""},"color-interpolation-filters":{param:"color-interpolation-filters",format:"string",valid:"auto | sRGB | linearRGB | inherit",value:"sRGB"}}};"object"===typeof module&&
module.exports?module.exports=r:r(sketch.vector.SVG)})();"undefined"===typeof sketch&&(sketch={});sketch.vector=sketch.vector||{};
(function(){var r=function(g){var d=g.prototype;d.clone=function(b,d){(new g).fromString(this.toDataURL(),function(a){d&&(a.vob.id="clone"+Math.round(16777215*Math.random()));b&&b(a)})};d.toCanvas=function(b){this.ctx||(this.ctx=this.createContext(),this.render({ctx:this.ctx,placement:"crop"}));b&&b(this.ctx.canvas)};d.toBlob=function(b){var d=new Blob([this.stringify()],{type:"image/svg+xml"});if(b)b(d);else return d};d.toDataURL=function(){return"data:image/svg+xml;base64,"+this.btoa()};d.btoa=
function(){return btoa(this.stringify())};d.toString=d.stringify=function(){var b="",d;for(d in this.defs){var a=this.defs[d];switch(a.type){case "linearGradient":case "radialGradient":b+=this.GradientEncode(a);break;case "pattern":b+=this.PatternEncode(a);break;case "filter":for(var b=b+"<filter",b=this.encodeAttributes(b,a),b=b+">\n",a=a.filter,c=0;c<a.length;c++)var g=a[c],b=b+("\t<fe"+g.type),b=this.encodeAttributes(b,g),b=b+"/>\n";b+="</filter>\n";break;case "clipPath":b+="<clipPath";b=this.encodeAttributes(b,
a);b+=">\n";a=a.d;for(c=0;c<a.length;c++)g=a[c],b+="\t<"+g.type,b=this.encodeAttributes(b,g),b+="/>\n";b+="</clipPath>\n"}}return this.encodeChildNodes([this.vob],b,"")};d.encodeChildNodes=function(b,d,a){var c="";if(!b||!b.length)return c;for(var g=0,m=b.length;g<m;g++){var q=b[g];if(q){var e=q.type;switch(e){case "circle":case "ellipse":case "image":case "line":case "path":case "polyline":case "polygon":case "rect":c+=a+"<"+e;c=this.encodeAttributes(c,q);c+="></"+e+">\n";break;case "stamp":case "eraser":case "pencil":e=
this.__namepace+":"+e;c+=a+"<"+e;c=this.encodeAttributes(c,q);c+="></"+e+">\n";break;case "text":c+=a+"<text";c=this.encodeAttributes(c,q);c+=">";if(q.content)c+=q.content;else if(q=q.childNodes)for(var e=0,p=q.length;e<p;e++)c+="<tspan",c=this.encodeAttributes(c,q[e]),c+=">"+q[e].content+"</tspan>";c+="</text>\n";break;case "a":case "g":case "switch":c+=a+"<"+e;c=this.encodeAttributes(c,q);c+=">\n";c+=this.encodeChildNodes(q.childNodes,d,a+"\t");c+=a+"</"+e+">\n";break;case "svg":c+='<?xml version="1.0" encoding="utf-8"?>\n';
c+="\x3c!-- Generator: sketch.js "+this.__version+" <https://api.sketch.io/> --\x3e\n";c+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"';c+=' xmlns:xlink="http://www.w3.org/1999/xlink"';c+=" xmlns:"+this.__namepace+'="'+this.__dtd+'"';q.version=q.version||this.__version;c=this.encodeAttributes(c,q);c+=">\n";d&&(c+="<defs>"+d+"</defs>");c+=this.encodeChildNodes(q.childNodes,d,a+"\t");c+="</svg>";break;case "use":c+=a+"<use";c=this.encodeAttributes(c,q);c+=">\n";c+=a+"</use>\n";break;default:c+=
this.encodeChildNodes(q.childNodes,d,a+"\t")}}}return c};d.encodeAttributes=function(d,f){for(var a in f){var c=f[a];if(void 0!==c)switch(a){case "href":(c=q("xlink:href",c,this))&&(d+=c);break;case "clipPath":(c=q("clip-path","url(#"+c.id+")",this))&&(d+=c);break;case "viewBox":(c=q(a,c.join(" "),this))&&(d+=c);break;case "transform":case "gradientTransform":case "patternTransform":c&&(c=q(a,"matrix("+c.a+","+c.b+","+c.c+","+c.d+","+c.x+","+c.y+")",this))&&(d+=c);break;case "fill":case "fillStyle":(c=
b("fill",c,this))&&(d+=c);break;case "stroke":case "strokeStyle":(c=b("stroke",c,this))&&(d+=c);break;case "style":d+=this.encodeAttributes("",f.style);break;case "attributes":case "element":break;default:(c=q(a,c,this))&&(d+=c)}}return d};var m={type:!0,childNodes:!0,parentNode:!0,matrix:!0,data:!0,bbox:!0},q=function(b,d,a){if(!m[b]){var c=a.__attributes[b];if(!c)if(c=a.__attributesNS[b])b=a.__namepace+":"+b;else if(b=b.match(a.rxSplitByUppercase).slice(0,-1).join("-").toLowerCase(),c=a.__attributes[b],
!c){sketch.feature.debug&&console.log(b,d);return}if(c.value!==d)switch(c.format){case "string":case "gradientTransform":case "patternTransform":case "transform":if("string"===typeof d)return" "+b+'="'+d+'"';break;case "coordinate":case "float":case "int":if(isFinite(d))return" "+b+'="'+d+'"';break;case "numarray":return" "+b+'="'+d+'"';default:console.log("unhandled",c)}}},b=function(b,d,a){var c=a.__attributes[b];if(c&&c.value!==d){"default"===d&&(d="fill"===b?a.defaultFill:a.defaultStroke);if(a.defs[d])return" "+
b+'="url(#'+d+')"';if(d)return" "+b+'="'+d+'"'}}};"object"===typeof module&&module.exports?module.exports=r:r(sketch.vector.SVG)})();
(function(r){r.module.add(function(g,d){function m(d,f,a,c,g){if(d){d.current_style=d.current_style||{};g?(d.style[f]=d.current_style[f]||d.style[f],delete d.current_style[f]):d.current_style[f]=d.current_style[f]||d.style[f];var q=[],r={};r.uid=d.uid;r[f]=d.style[f];q.push(r);d.orig_style=d.orig_style||{};d.orig_style[f]=d.orig_style[f]||r[f];d.style[f]=a;var e=c&&d.childNodes;if(e)for(var p=0;p<e.length;p++){d=e[p];var k=d.style;b[k[f]]||(d.childNodes?q=q.concat(m(d,f,a,c,g)):(r={},r.uid=d.uid,
r[f]=k[f],q.push(r),d.orig_style=d.orig_style||{},d.orig_style[f]=d.orig_style[f]||r[f],k[f]=a))}return q}}var q=g.vector=g.vector||{};q.setStyleAt=function(){function b(d,a){var c=d.bbox,h=d.svg,m=c.width/h.viewBox[2],q=d.trx2D.clone();q.rotate(-c.rotate*g.util.DEG_RAD);q.scale(m,m);q.matrix.x=0;q.matrix.y=0;a.matrix=q.matrix;return h.hitTest(a)}return function(d){var a=g.doc,c=a.scene,l=q.Polygon;d=d||{};var m=d.object,r=d.fillMode,e=d.paint||{},p=d.point;d=d.rect;"string"===typeof e&&(e=g.style.create(e));
if(m)if(m.svg){if(d?(c=c.pointsIn("pointInObjectFromCanvas",[{x:d.x1,y:d.y1},{x:d.x2,y:d.y1},{x:d.x2,y:d.y2},{x:d.x1,y:d.y2}],m),p=m.bbox.scale,0>p.x*p.y&&c.reverse(),l=b(m,{rect:l.clone(c)})):l=b(m,{point:c.pointInObjectFromCanvas(p,m)}),l.length){if("group"===r){for(r=l.pop();r&&"g"!==r.type;)r=r.parentNode;l=r.childNodes}else"single"===r&&(r=l.pop(),l=[r]);r=g.style.toSVG(e);"string"===typeof r?e=r:(e=r.id,m.svg.addDef(r));q.setObjectStyle(a,{object:m,nodes:l,dna:e,recursive:!0,useRecord:!0,useRender:!0})}}else a.setStyle({fill:{dna:e[e.type],
paintType:e.type},selection:c.selection.fromObjects([m]),useColorPicker:!0,useRecord:!0,useRender:!0})}}();q.setNodeListStyle=function(b){b=b||{};var d=b.dna||"#000",a=b.nodes||[],c=b.recursive||!1;b=b.useRecord||!1;for(var g=[],q=a.length;q--;){var r=a[q];"stroke"!==r.parentNode.id&&(g=g.concat(m(r,"fillStyle",d,c,b)))}return g};q.setObjectStyle=function(b,d){d=d||{};var a=d.dna||"#000",c=d.object||b.scene.getOneSelected(),g=d.useRecord||!1,a={id:c.id,fillStyle:a,uida:q.setNodeListStyle(d)},m=a.uida.length;
m&&(c.dirtyCache=!0,c.dirtyCheck=!0,c.hasVectorFill=!0,c.svg.__colormap=void 0);g&&(b.history&&m&&b.history.store({cmd:"VOBNodeList",name:"update-clipart-color",data:[a]}),b.render.dirtyControls=!0,b.render.scene())};q.revertSVG=function(){for(var b=g.doc,d=b.scene.children,a=[],c=0;c<d.length;c++){var l=d[c];l.hasVectorFill&&(l.dirtyCache=!0,l.dirtyRender=!0,l.hasVectorFill=!1,l.svg.walk(function(b){var c=b.orig_style.fillStyle;a.push({id:l.id,fillStyle:c,uida:m(b,"fillStyle",c,!0,!0)})},"orig_style"))}b.history&&
a.length&&b.history.store({cmd:"VOBNodeList",name:"reset-clipart-color",data:a})};var b={"rgba(0,0,0,0)":!0,none:!0};d&&d.history&&d.history.register("VOBNodeList",function(b,f,a){for(b=0;b<f.length;b++){var c=f[b],l=d.scene.getById(c.id);if(l){var m=g.assets.getItem(l.src);if(m){m.__colormap=void 0;var q={},e;for(e in c)"id"!==e&&"uida"!==e&&(q[e]=c[e]);for(var c=c.uida,p=0;p<c.length;p++){var k=c[p],r=m.getLayerBy("uid",k.uid);if(r)if(a)for(e in k)"uid"!==e&&(r.style[e]=k[e]);else for(e in q)r.style[e]=
q[e]}l.dirtyCache=!0;l.dirtyRender=!0}}}})})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.vector=r.vector||{};r.vector.SVGFont=function(b){r=r.vector.BBox.__self||r;var h=r.util,f=r.vector;f.fonts=f.fonts||{};var a={direction:"ltr",font:"",fontFamily:"sans-serif",fontSize:"40px",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"alphabetic",textDecoration:"none",textTransform:"none",lineHeight:"1em",letterSpacing:0,whiteSpace:"normal",ctx:b,scaleFactor:1,pkg:{},pkgs:{},load:function(a,b){var d=function(a){var d,k;if(q)k=require("domino").createWindow(a).document;
else{var l=document.createElement("div");"string"===typeof a?l.innerHTML=a:l.appendChild(a);k=l}var m=null,r=k.getElementsByTagName("font")[0],u=k.getElementsByTagName("font-face")[0];a=u.getAttribute("font-family")||a.id;var l=(m=u.getElementsByTagName("font-face-name")[0])?m.getAttribute("name"):a,t=u.getAttribute("font-style")||"all",x=u.getAttribute("font-variant")||"normal",y=u.getAttribute("font-weight")||"all",F=u.getAttribute("font-stretch")||"normal",B=u.getAttribute("unicode-range")||"U+0-10FFFF",
C=u.getAttribute("panose-1")||"0 0 0 0 0 0 0 0 0 0",G=u.getAttribute("cap-height")||0,I=u.getAttribute("x-height")||0,E=parseFloat(u.getAttribute("units-per-em")||1E3,10),m=k.getElementsByTagName("missing-glyph")[0],D={x:parseFloat(r.getAttribute("horiz-adv-x"),10),y:parseFloat(r.getAttribute("vert-adv-y")||0,10)||E};parseFloat(m?m.getAttribute("horiz-adv-x"):D.x,10);var r={horiz:{x:parseFloat(r.getAttribute("horiz-origin-x")||0,10),y:parseFloat(r.getAttribute("horiz-origin-y")||0,10)},vert:{x:parseFloat(r.getAttribute("vert-origin-x")||
0,10),y:parseFloat(r.getAttribute("vert-origin-y")||0,10)}},H=parseFloat(u.getAttribute("ascent")||E-r.vert.y,10),P=parseFloat(u.getAttribute("descent")||r.vert.y,10),K={},m=h.arrayToObject(["alphabetic","ideographic","mathematical","hanging"]);for(d in m)if(m=u.getAttribute(d))K[d]=parseFloat(m,10);u={};k=k.getElementsByTagName("glyph");var J;for(d in k)if((m=k[d]).getAttribute){var N=m.getAttribute("unicode");if(N){if(N.match(g)){J=N;if(J.match(g)){for(var S={amp:"&",apos:"'",quot:'"',lt:"<",gt:">"},
Q=void 0,L="";null!==(Q=g.exec(J));)L="x"===Q[1].charAt(1)?L+String.fromCharCode(Q[1].slice(2),16):isNaN(parseInt(Q[1].slice(1),10))?L+S(Q[1]):L+String.fromCharCode(Q[1].slice(1));J=L}J=J.charCodeAt()}else J=N.charCodeAt();var S=parseFloat(m.getAttribute("horiz-adv-x")||D.x,10),Q=m.getAttribute("d"),L=f.SVGPath.toVOBPath(Q)||[],V=new f.BBox(L);u[J]={unicode:N,name:m.getAttribute("glyph-name"),xadv:S,width:V.x2-V.x1,height:V.y2-V.y1,path:Q,data:L}}}d={family:a,name:l,style:t,variant:x,weight:y,stretch:F,
range:B,panose:C.split(" ").map(parseFloat),capHeight:G,unitsPerEm:E,origin:r,advance:D,ascent:H,descent:P,xheight:I,baseline:K,glyphs:u};d=c(d);b&&b(d)};"string"===typeof a&&-1===a.indexOf("<font")&&-1===a.indexOf("<?xml")?h.request({url:a,format:"text",onprogress:function(a,b){},onsuccess:function(a,b){d(b)},onerror:function(a){}}):d(a)}},c=function(b){if("string"===typeof b){var c=b;b=f.fonts[c]}else c=b.family||"unknown",f.fonts[c]=b;a.pkg.family!==c&&(b?a.pkg=a.pkgs[c]=b:c in a.pkgs&&(a.pkg=
a.pkgs[c]));return b};a.measureText=function(b){if(b){b=""+b;for(var c=a.pkg.glyphs,d=b.length,e=0,f=a.pkg.advance.y,k=0,g=0;g<d;g++){var h=c[b.charCodeAt(g)];h&&(e+=h.xadv,k+=h.width)}return{width:e*a.scaleFactor,height:f*a.scaleFactor,actualWidth:k*a.scaleFactor,actualHeight:0*a.scaleFactor}}};a.strokeText=function(b,c,d,e){if(b&&isFinite(c+d))return b=this.drawText(b,c,d,e),c=a.ctx,c.stroke(),c.beginPath(),b};a.fillText=function(b,c,d,e){if(b&&isFinite(c+d))return b=this.drawText(b,c,d,e),c=a.ctx,
c.fill(),c.beginPath(),b};a.getTextBaseline=function(b){switch(b||this.textBaseline){case "alphabetic":return 0;case "top":return a.pkg.ascent*a.scaleFactor;case "hanging":return 8*a.pkg.ascent/10*a.scaleFactor;case "middle":case "absmiddle":return((a.pkg.ascent-a.pkg.descent)/2+a.pkg.descent)*a.scaleFactor;case "ideographic":return a.pkg.descent*a.scaleFactor;case "bottom":return a.pkg.descent*a.scaleFactor;default:return 0}};a.getTextAlign=function(b,c){switch(b){case "left":return 0;case "start":return"ltr"===
a.direction?0:a.measureText(c).width;case "end":return"ltr"===a.direction?a.measureText(c).width:0;case "right":return a.measureText(c).width;case "center":return a.measureText(c).width/2}};a.getScaleFactor=function(){var b=a.fontSize;if("number"===typeof b)var c="px";else c=b.toLowerCase(),b=parseFloat(c),c=c.replace(b,"");isFinite(b)||(b=1);if(h.getScreenMetrics){var d=h.toMetrics||(h.toMetrics=h.getScreenMetrics());2<c.length?b=d[c+"_px"]:"px"!==c&&(b*=d[c+"_px"])}a.scaleFactor=b/a.pkg.unitsPerEm;
return a.scaleFactor};a.drawText=function(b,c,g,e){if(b.length){for(var h=0;h<d.length;h++)b=b.split(d[h]).join(" ");a.getScaleFactor();var k,h=g||0;k=(c||0)-this.getTextAlign(this.textAlign,b);var h=h+this.getTextBaseline(this.textBaseline),m,q,r,u,w;"object"===typeof e&&(m=e,q=m.minWidth,e=m.maxWidth,r=m.maxHeight,w=m.targetWidth,u=m.targetHeight,m=m.getData);c=a.ctx;c.save();c.beginPath();g=this.measureText(b);var x=g.width,y=g.height;g=m?new f.Transform:c;isFinite(w)?(g.scale(w/x,1),k=k*x/w):
(isFinite(e)&&x>e&&(g.scale(e/x,1),k=k*x/e),isFinite(q)&&x<q&&(g.scale(q/x,1),k=k*x/q));isFinite(u)?(g.scale(1,u/y),h=h*y/u):isFinite(r)&&y>r&&(g.scale(1,r/y),h=h*y/r);(k||h)&&g.translate(k||0,h||0);g.scale(a.scaleFactor,-a.scaleFactor);e=a.pkg.glyphs;r=[];"number"===typeof b&&(b=String(b));u=0;for(w=b.length;u<w;u++)q=e[h=b.charCodeAt(u)],10!==h&&13!==h&&(q||(q=e["?".charCodeAt()]),q&&(q.data||(q.data=f.SVGPath.toVOBPath(q.path)||[]),q.data&&(h=q.data,m&&q.path?r.push({d:q.path,data:g.flatten(q.data,
!0,!1)}):(c.beginPath(),f.Shape.VOBPath(c,h),c.fill()),g.translate(q.xadv,0))));c.restore();if(m)return{childNodes:r}}};a.toSVG=function(b,c){new f.SVG({ctx:a.ctx,src:b,onload:function(a){a=a.typeface.pkg.glyphs;var b={},d;for(d in a){var k=a[d];if(k.path){var g=f.SVGPath.toVOBPath(k.path),h=new f.BBox(g),g=(new f.Transform).translate(0,h.y2).scale(1,-1).flatten(g,!0),g=f.SVGPath.fromVOBPath(g),l=h.x2-h.x1,m=h.y2-h.y1,h=h.x1;b[k.unicode.charCodeAt()+".svg"]='<?xml version="1.0" encoding="UTF-8"?><svg version="1.1" width="'+
l+'" height="'+m+'" viewBox="'+h+" 0 "+l+" "+m+'" xmlns="http://www.w3.org/2000/svg"><path d="'+g+'"/></svg>'}}c(b)}})};a.setFont=function(b){if(a.font!==b){for(var d=b.trim().split(" "),f=d.length,e=0,g=0,k=Math.min(3,f);e<k;){var h=d[e];if(0===(g&1)&&-1!==" normal italic oblique ".indexOf(" "+h+" "))a.fontStyle=d[e++],g|=1;else if(0===(g&2)&&-1!==" normal small-caps ".indexOf(" "+h+" "))a.fontVariant=d[e++],g|=2;else if(0===(g&4)&&(-1!==" normal bold bolder lighter ".indexOf(" "+h+" ")||3===h.length&&
"1"<=h.charAt(0)&&"9">=h.charAt(0)&&"0"===h.charAt(1)&&"0"===h.charAt(2)))a.fontWeight=m[d[e++]],g|=4;else break}e<f&&(g=d[e],k=g.indexOf("/"),-1===k?e++:(g=g.substring(0,k),d[e]=d[e].substring(k)),a.fontSize=g);e<f&&"/"===d[e].substr(0,1)&&("/"!==d[e]?a.lineHeight=d[e++].substring(1):++e<f&&(a.lineHeight=d[e++]));if(e<f){for(g=d[e++];e<f;)g+=" "+d[e++];a.fontFamily=g;c(g)}a.font=b}};f.font&&(c(f.font),a.fontFamily=f.font.name);return a};var g=/&(quot|apos|lt|gt|amp|#x[^;]+|#\d+);/g,d=["\t","\n",
"\x0B","\f","\r"],m={normal:400,bold:700,lighter:300,bolder:500},q="object"===typeof module&&module.exports;q&&(module.exports=r.vector.SVGFont)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.vector=r.vector||{},d=g.SVGPath=g.SVGPath||{},m={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0};d.fromVOBPath=function(d,b){isFinite(b)&&g.roundPath&&(d=g.roundPath(d,b));for(var h="",f=0,a,c;f<d.length;f++)if(a=d[f]){switch(a.cmd){case "M":"M"!==c&&(h+="M");h+=a.x+" "+a.y+" ";break;case "L":"L"!==c&&(h+="L");h+=a.x+" "+a.y+" ";break;case "C":"C"!==c&&(h+="C");h+=a.x1+" "+a.y1+" "+a.x2+" "+a.y2+" "+a.x+" "+a.y+" ";break;case "Q":"Q"!==c&&(h+="Q");h+=a.x1+" "+a.y1+" "+a.x+" "+a.y+" ";
break;case "Z":case "z":h+="z"}c=a.cmd}"z"!==c&&(h+="z ");return h.slice(0,-1)};d.fromARRPath=function(d){for(var b="",g={},f=0,a=d.length;f<a;f++)if(g=d[f])switch(g[0]){case "M":b+="M"+g[1]+" "+g[2]+" ";break;case "L":b+="L"+g[1]+" "+g[2]+" ";break;case "C":b+="C"+g[1]+" "+g[2]+", "+g[3]+" "+g[4]+", "+g[5]+" "+g[6]+" ";break;case "Q":b+="Q"+g[1]+" "+g[2]+", "+g[3]+" "+g[4]+" ";break;case "Z":case "z":b+="z"}"z"!==pcmd&&(b+="z ");return b.slice(0,-1)};d.fromVOBPolygon=function(d){for(var b="",g={},
f=0,a=d.length;f<a;f++)switch((g=d[f]).cmd){case "Z":case "z":break;default:b+=g.x+","+g.y+" "}return b.slice(0,-1)};d.toVOBPolygon=function(d){if(d){d=d.match(/[0-9]*/gi);for(var b=[],g=0,f=d.length;g<f;g++)d[g]&&b.push(parseFloat(d[g]));d=[];g=0;for(f=b.length;g<f;g+=2)d.push({cmd:0===g?"M":"L",x:b[g],y:b[g+1]});d.push({cmd:"Z"});return d}};d.toVOBPath=function(g){if(g){g=g.replace(/([^e])([+-])/gi,"$1 $2");g=g.match(/([mlhvcsqtaz])|(([\-0-9]*\.?[0-9]*)|(\.[0-9]+))(e[+-]?[0-9]+)?/gi);for(var b=
[],h=0,f=g.length;h<f;h++)g[h]&&b.push(g[h]);g=b;for(var b="",a=h=0,c=0,l=0,r=0,t,e,p="",k=0,v=[];b=g[h];){var z=m[b.toLowerCase()]+1;if(z){for(var s=1,f=z,u=[];s<f;s++)u.push(parseFloat(g[h+s]));k=z;h+=z}else{s=0;f=k-1;for(u=[];s<f;s++)u.push(parseFloat(g[h+s]));b="m"===p?"l":"M"===p?"L":p;h+=k-1}if(b){switch(b){case "M":a=u[0];c=u[1];l=a;r=c;t=e=null;v.push({cmd:"M",x:a,y:c});break;case "m":a+=u[0];c+=u[1];l=a;r=c;t=e=null;v.push({cmd:"M",x:a,y:c});break;case "L":a=u[0];c=u[1];t=e=null;v.push({cmd:"L",
x:a,y:c});break;case "l":a+=u[0];c+=u[1];t=e=null;v.push({cmd:"L",x:a,y:c});break;case "H":a=u[0];t=e=null;v.push({cmd:"L",x:a,y:c});break;case "h":a+=u[0];t=e=null;v.push({cmd:"L",x:a,y:c});break;case "V":c=u[0];t=e=null;v.push({cmd:"L",x:a,y:c});break;case "v":c+=u[0];t=e=null;v.push({cmd:"L",x:a,y:c});break;case "C":a=u[4];c=u[5];t=u[2];e=u[3];v.push({cmd:"C",x1:u[0],y1:u[1],x2:u[2],y2:u[3],x:u[4],y:u[5]});break;case "c":0===u[4]&&0===u[5]&&(u[4]+=1E-4,u[5]+=1E-4);v.push({cmd:"C",x1:u[0]+a,y1:u[1]+
c,x2:u[2]+a,y2:u[3]+c,x:u[4]+a,y:u[5]+c});t=a+u[2];e=c+u[3];a+=u[4];c+=u[5];break;case "S":null!==t&&p.match(/[sc]/i)||(t=a,e=c);v.push({cmd:"C",x1:a-(t-a),y1:c-(e-c),x2:u[0],y2:u[1],x:u[2],y:u[3]});t=u[0];e=u[1];a=u[2];c=u[3];break;case "s":0===u[2]&&0===u[3]&&(u[2]+=1E-4,u[3]+=1E-4);null!==t&&p.match(/[sc]/i)||(t=a,e=c);v.push({cmd:"C",x1:a-(t-a),y1:c-(e-c),x2:a+u[0],y2:c+u[1],x:a+u[2],y:c+u[3]});t=a+u[0];e=c+u[1];a+=u[2];c+=u[3];break;case "Q":t=u[0];e=u[1];a=u[2];c=u[3];v.push({cmd:"Q",x1:u[0],
y1:u[1],x:u[2],y:u[3]});break;case "q":0===u[2]&&0===u[3]&&(u[2]+=1E-4,u[3]+=1E-4);v.push({cmd:"Q",x1:u[0]+a,y1:u[1]+c,x:u[2]+a,y:u[3]+c});t=a+u[0];e=c+u[1];a+=u[2];c+=u[3];break;case "T":null!==t&&p.match(/[qt]/i)?(t=a-(t-a),e=c-(e-c)):(t=a,e=c);v.push({cmd:"Q",x1:t,y1:e,x:u[0],y:u[1]});a=u[0];c=u[1];break;case "t":0===u[0]&&0===u[1]&&(u[0]+=1E-4,u[1]+=1E-4);null!==t&&p.match(/[qt]/i)?(t=a-(t-a),e=c-(e-c)):(t=a,e=c);v.push({cmd:"Q",x1:t,y1:e,x:a+u[0],y:c+u[1]});a+=u[0];c+=u[1];break;case "A":f=d.arcToBezier(a,
c,u[0],u[1],u[2],u[3],u[4],u[5],u[6]);for(a=0;a<f.length;a++)v.push(f[a]);a=u[5];c=u[6];break;case "a":u[5]+=a;u[6]+=c;f=d.arcToBezier(a,c,u[0],u[1],u[2],u[3],u[4],u[5],u[6]);for(a=0;a<f.length;a++)v.push(f[a]);a=u[5];c=u[6];break;case "Z":v.push({cmd:"Z",x:l,y:r});r=l=0;break;case "z":v.push({cmd:"Z",x:l,y:r}),a=l,c=r}p=b}}return v}};d.arcToBezier=function(d,b,g,f,a,c,l,m,r){var e=a*Math.PI/180;a=Math.sin(e);var e=Math.cos(e),p=[];g=Math.abs(g);f=Math.abs(f);var k=e*(d-m)*.5+a*(b-r)*.5,v=e*(b-r)*
.5-a*(d-m)*.5,k=k*k/(g*g)+v*v/(f*f);1<k&&(k=Math.sqrt(k),g*=k,f*=k);var k=e/g,v=a/g,z=-a/f,s=e/f,u=k*d+v*b;b=z*d+s*b;d=k*m+v*r;m=z*m+s*r;k=1/((d-u)*(d-u)+(m-b)*(m-b))-.25;0>k&&(k=0);k=Math.sqrt(k);l===c&&(k=-k);c=.5*(u+d)-k*(m-b);r=.5*(b+m)+k*(d-u);u=Math.atan2(b-r,u-c);b=Math.atan2(m-r,d-c)-u;0>b&&1===l?b+=2*Math.PI:0<b&&0===l&&(b-=2*Math.PI);l=Math.ceil(Math.abs(b/(.5*Math.PI+.001)));for(var w=0;w<l;w++){m=u+w*b/l;var x=u+(w+1)*b/l,k=e*g,v=-a*f,z=a*g,s=e*f;d=.5*(x-m);var y=8/3*Math.sin(.5*d)*Math.sin(.5*
d)/Math.sin(d);d=c+Math.cos(m)-y*Math.sin(m);m=r+Math.sin(m)+y*Math.cos(m);var F=c+Math.cos(x),B=r+Math.sin(x),C=F+y*Math.sin(x),x=B-y*Math.cos(x);p[w]={cmd:"C",x1:k*d+v*m,y1:z*d+s*m,x2:k*C+v*x,y2:z*C+s*x,x:k*F+v*B,y:z*F+s*B}}return p};"object"===typeof module&&module.exports&&(module.exports=d)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=r.vector=r.vector||{},d=function(d){function q(a){var b=new g.Path;b.getData=!0;b.dashAdaptive=1;g.Shape.VOBNode(b,a);a=(new g.Transform(a.matrix)).flatten(b.data);for(var b=[],d,f=0;f<a.length;f++){var h=a[f];"M"===h.cmd?b.push(d=[h]):d.push(h)}return b}function b(a){var b=a.calcStroke,d=a.ctx,f=a.trx||new g.Transform(a.matrix),h=a.viewBox,e=a.viewBoxStroke,b=b?e:h;switch(a.placement){case "crop":f.translate(-b[0],-b[1]);var h=f.matrix,e=b[2]-b[0],p=b[3]-b[1],k=a.width,m=a.height;
isFinite(k+m)&&(k=Math.min(k/e,m/p),h.a*=k,h.d*=k,h.x+=b[0]*(1-k),h.y+=b[1]*(1-k),b=(p-e)*k/2,0<b?h.x+=b:h.y-=b,e=a.width,p=a.height);d.canvas&&(d.canvas.width=e>>0,d.canvas.height=p>>0);f.apply(d,!0);this.vob&&(this.vob._matrix=h);break;case "bbox":h=f.matrix;a=b[2]*h.a;k=a-b[0]*h.a;f.scale(a/k);f.translate(-b[0],-b[1]);f.apply(d,!0);this.vob&&(this.vob._matrix=f.matrix);break;case "none":d.canvas.width=this.ctx.canvas.width,d.canvas.height=this.ctx.canvas.height}}var h=r.util,f=d.prototype;f.render=
function(a){r=d.__self||r;a=a||{};var c=a.ctx||(a.ctx=this.ctx),f=a.childNodes||(a.childNodes=[this.vob]);a.placement||(a.placement=this.placement);a.viewBox||(a.viewBox=this.viewBox);a.viewBoxStroke||(a.viewBoxStroke=this.viewBoxStroke);a.defaultFill&&(this.defaultFill=a.defaultFill);c&&(c.save(),b.call(this,a),this.renderChildNodes(c,a,f),c.restore())};f.hitTest=function(a){var c=a.ctx||(a.ctx=new g.Transform),d=a.childNodes||(a.childNodes=[this.vob]);a.placement||(a.placement=this.placement);a.viewBox||
(a.viewBox=this.viewBox);a.viewBoxStroke||(a.viewBoxStroke=this.viewBoxStroke);this._hitAreas=[];this._transform=new g.Transform;this._transforms=[];c.save();b.call(this,a);this.hitTestChildNodes(c,a,d);c.restore();return this._hitAreas};f.hitTestChildNodes=function(a,b,d){if(d&&d.length)for(var f=g.Point,h=g.Polygon,e=d.length,p=0;p<e;p++){var k=d[p];this.currentNode=k;a.save();if(k.matrix){var m=k.matrix;a.transform(m.a,m.b,m.c,m.d,m.x,m.y)}if(k.bbox){var r=(new g.Transform(a.matrix)).invert(),
m=g.BBox.toRect(k.bbox);if(b.point)r=r.flatten(b.point,!0),f.inPolygon(m,r.x,r.y)&&(m=k._vertices||(k._vertices=q(k)),f.inPolygonChain(m,r.x,r.y)&&this._hitAreas.push(k));else if(b.rect&&(r=r.flatten(b.rect,!0),h.SAT(r,m))){m=k._vertices||(k._vertices=q(k));a:{for(var s=g.Polygon,u=0,w=m.length;u<w;u++)if(s.collision(r,m[u])){m=!0;break a}m=void 0}m&&this._hitAreas.push(k)}}a.restore();k.childNodes&&k.childNodes.length&&this.hitTestChildNodes(a,b,k.childNodes)}};f.renderChildNodes=function(a,b,d,
f){if(d&&d.length&&d[0]){var m=g.Shape;this.typeface&&(this.typeface.ctx=a);for(var e=d.length,p=0;p<e;p++){var k=d[p],q=k.bbox;this.currentNode=k;a.save();a.beginPath();if(k.matrix){var r=k.matrix;a.transform(r.a,r.b,r.c,r.d,r.x,r.y)}k.clipPath&&k.clipPath.length&&(this.renderChildNodes(a,b,k.clipPath,!0),a.clip(),a.beginPath());m.VOBNode(a,k);(r=k.style)&&!f&&(a.save(),void 0!==r.opacity&&(a.globalAlpha=r.opacity),r.fillStyle&&(a.save(),this.setStyle(a,this.defs[r.fillStyle]||this.defs[this.defaultFill]||
r,"fillStyle",this.defaultFill),a.globalAlpha*=r.fillOpacity,k.content?(a.font=this.fontStyleToString(a,r),"SVG"===r.fontRenderer?(this.typeface.setFont(a.font),this.typeface.fillText(k.content,k.x,k.y)):a.fillText(k.content,k.x,k.y)):a.fill(),a.restore()),r.strokeStyle&&"none"!==r.strokeStyle&&(a.lineWidth=0===r.strokeWidth?h.ZERO:r.strokeWidth||1,a.lineCap=r.strokeLinecap||"butt",a.lineJoin=r.strokeLinejoin||"miter",a.miterLimit=r.strokeMiterlimit||a.lineWidth,a.setLineDash&&"none"!==r.strokeDasharray&&
a.setLineDash(r.strokeDasharray.split(",")),0<r.strokeDashoffset&&(a.lineDashOffset=r.strokeDashoffset),a.save(),this.setStyle(a,this.defs[r.strokeStyle]||this.defs[this.defaultStroke]||r,"strokeStyle",this.defaultStroke),a.globalAlpha*=r.strokeOpacity,k.content?(a.font=this.fontStyleToString(a,r),"SVG"===r.fontRenderer?(this.typeface.setFont(a.font),this.typeface.strokeText(k.content,k.x,k.y)):a.strokeText(k.content,k.x,k.y)):a.stroke(),a.restore()),a.restore());!f&&q&&this.debugBBox&&(r=this.vob._matrix,
a.save(),a.setTransform(r.a,r.b,r.c,r.d,r.x,r.y),a.strokeStyle="red",a.lineWidth=.25,a.strokeRect(q.x1,q.y1,q.x2-q.x1,q.y2-q.y1),a.restore());a.restore();k.childNodes&&k.childNodes.length&&this.renderChildNodes(a,b,k.childNodes,f)}}};f.setStyle=function(a,b,f,q){r=d.__self||r;void 0!==b.strokeWidth&&(a.lineWidth=b.strokeWidth||h.ZERO);void 0!==b.strokeLinecap&&(a.lineCap=b.strokeLinecap);void 0!==b.strokeLinejoin&&(a.lineJoin=b.strokeLinejoin);void 0!==b.strokeMiterlimit&&(a.miterLimit=b.strokeMiterlimit);
var t;if(b.gradientTransform){var e=b.gradientTransform;this.currentNode&&this.currentNode.matrix&&(t=new g.Transform,t.transform(e.a,e.b,e.c,e.d,e.x,e.y),t=t.matrix)}switch(b.type){case "linearGradient":void 0===b.x1&&(b.x1=0);void 0===b.y1&&(b.y1=0);void 0===b.x2&&(b.x2=0);void 0===b.y2&&(b.y2=0);if(a){t&&a.transform(t.a,t.b,t.c,t.d,t.x,t.y);if("objectBoundingBox"===b.gradientUnits){0===b.x1+b.y1+b.x2+b.y2&&(b.x2=1);var p=this.currentNode;if(!p.bbox)break;q=p.bbox;var k=q.x1+(q.x2-q.x1)*b.x1,v=
q.y1+(q.y2-q.y1)*b.y1,z=q.x1+(q.x2-q.x1)*b.x2,s=q.y1+(q.y2-q.y1)*b.y2;t=a.createLinearGradient(k,v,z,s);t=(new g.Transform(p.matrix)).invert();k=t.point2d(k,v);t=t.point2d(z,s);t=a.createLinearGradient(k.x,k.y,t.x,t.y)}else t=a.createLinearGradient(b.x1,b.y1,b.x2,b.y2);q=0;for(e=b.stops.length;q<e;q++){var u=b.stops[q];t.addColorStop(u.offset,u.color)}a[f]=t}break;case "radialGradient":void 0===b.cx&&(b.cx=.5);void 0===b.cy&&(b.cy=.5);void 0===b.fx&&(b.fx=.5);void 0===b.fy&&(b.fy=.5);void 0===b.r&&
(b.r=.5);if(a){t&&a.transform(t.a,t.b,t.c,t.d,t.x,t.y);if("objectBoundingBox"===b.gradientUnits){p=this.currentNode;q=p.bbox;if(!p.bbox)break;var e=q.x2-q.x1,u=q.y2-q.y1,k=q.x1+e*b.cx,v=q.y1+u*b.cy,z=q.x1+e*b.fx,s=q.y1+u*b.cy,w=Math.max(e,u)*b.r*1.6;t=(new g.Transform(p.matrix)).invert();k=t.point2d(k,v);t=t.point2d(z,s);t=a.createRadialGradient(k.x,k.y,0,t.x,t.y,w);u<e&&(e=u/e,a.translate(0,q.y2),a.scale(1,e))}else t=a.createRadialGradient(b.cx,b.cy,0,b.fx,b.fy,b.r);q=0;for(e=b.stops.length;q<e;q++)u=
b.stops[q],t.addColorStop(u.offset,u.color);a[f]=t}break;case "pattern":a.translate(b.x||0,b.y||0);a[f]=b.pattern||"transparent";break;default:a[f]="default"===b[f]?q||this.defaultFill:b[f]}}};"object"===typeof module&&module.exports?(require("xmldom"),module.exports=d):d(g.SVG)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(d,g){console.log("callback",d,g)}r.module=r.module||{};r.module.SVG=function(d){function m(a){a=h.toSVG(a);if("string"===typeof a)return a;svg.addDef(a);return a.id}var q=this,b=d.lang,h=d.style,f=d.vector;q.save=function(a){var b=d.doc,h=b.canvas2d,q=b.scene,r=b.toolkit;a=a||{};for(var e=!!a.flattenMatrix,p=a.objects||q.children,k=a.onsuccess||g,v=[],z=new f.SVG,p=q.copyDeep(p),s=0;s<p.length;s++){var u=p[s],w=u.bbox;u.style=u.style||{};var x={a:w.scale.x,b:0,c:0,d:w.scale.y,
x:w.x+h.x,y:w.y+h.y};"pencil"===u.type&&(u.type="polyline",u.stroke=u.fill,u.stroke.lineWidth=u.diameter);var y={id:u.id,type:u.type,parentNode:z.vob},F=y.type,B=d.detect.brush[F],C=d.detect.shape[F];if(B||C){var G=u.data;e&&(x=new f.Transform(x),G=x.flatten(G,!0,!0),x=x.matrix);B&&(F="brush",y.type!==u.type&&(y.brush=y.type));C&&(y.shape=y.type,F="shape");switch(F){case "shape":F=new f.Shape.record;B=Math.max(w.width,w.height)/2;(0,d.module.toolkit["shape."+y.type])(F,w.x,w.y,B,u);y.d=F.stringify();
y.type="path";break;case "stamp":case "path":y.d=f.SVGPath.fromVOBPath(G);break;case "brush":case "polygon":case "polyline":y.points=f.SVGPath.fromVOBPolygon(G);break;default:console.warn(F)}u.src&&(y.src=u.src)}else if("text"===F)y.content=u.content,q.copyAttributes(r.text._attributes,u,y),x.y+=w.height;else if("clipart"===F)if(F=d.assets.getItem(u.src))C=u.svg.viewBox,B=C[2]-C[0],C=C[3]-C[1],y.type="image",y["xlink:href"]=F.toDataURL(),x.a*=w.width/B,x.d*=w.height/C,y.width=w.width,y.height=w.height;
else continue;else"image"===F?(y["xlink:href"]=u.src,y.width=w.width,y.height=w.height):console.warn(F,u);y.bbox={x1:w.x,y1:w.y,x2:w.x+w.width,y2:w.y+w.height};y.matrix=x;y.transform=x;w=y;F=u;x={};x.opacity=F.opacity/100;B=x;if(C=F.stroke)B.strokeLinecap=C.lineCap,B.strokeLinejoin=C.lineJoin,B.strokeMiterlimit=C.miterLimit,B.strokeDasharray=C.dashArray,B.strokeDashoffset=C.dashOffset,B.strokeOpacity=C.opacity,B.strokeStyle=m(C),B.strokeWidth=C.lineWidth;B=x;if(F=F.fill)B.fillOpacity=F.opacity,B.fillRule=
F.fillRule,B.fillStyle=m(F);w.style=x;u.author&&(y.author=u.author);u.labels&&(y.labels=u.labels.join(","));u.license&&(y.license=u.license);v.push(y)}h=b.getBounds();z.vob.viewBox=[0,0,h.width,h.height];z.vob.childNodes=v;z.vob.metadata=btoa(JSON.stringify(b.mixinMetaData(b,{})));a.toDataURL?k(z,z.toDataURL()):k(z,z.stringify())};q.toActions=function(a,b){var g=d.doc,m=g.toolkit,q=a.svg;if(q&&q.vob){q=q.vob.childNodes;if(a.mergeIntoScene)var e=[];else e=[],g.scene.setData(e);var p=function(a){for(var b=
0;b<a.length;b++){var c=a[b];c.childNodes&&p(c.childNodes);if(c.data){for(var d=c.matrix,q=(new CSSMatrix("matrix("+[d.a,d.b,d.c,d.d,d.x,d.y].join()+")")).decompose(),d=q.rotate,r=q.scale,q=q.translate,t=new f.bbox(c.data),y=t.x,F=t.y,B=g.scene.copyDeep(c.data),C=0;C<B.length;C++)isFinite(B[C].x)&&(B[C].x-=y,B[C].y-=F),isFinite(B[C].x1)&&(B[C].x1-=y,B[C].y1-=F),isFinite(B[C].x2)&&(B[C].x2-=y,B[C].y2-=F);d={id:g.scene.createId({id:c.id,increment:!0}),toolkitId:m&&m.getToolkitId(c.type),type:c.type,
zIndex:b,data:B,opacity:100*c.style.fillOpacity,stroke:new h.Stroke({lineWidth:c.style.strokeWidth,color:c.style.strokeStyle}),dirtyDimension:!0,bbox:{x:y*r.x+q.x,y:F*r.y+q.y,width:t.width/r.x,height:t.height/r.y,units:"objectBoundingBox",scale:{x:r.x,y:r.y},rotate:d.z}};c.labels&&(d.labels=c.labels.split(","));c.license&&(d.license=c.license);c.author&&(d.author=c.author);e.push(d)}}};p(q);b(e)}else console.error("toActions",a)};q.open=function(a,c,h){var m=d.doc;if(void 0===a)console.error("svg.open",
arguments);else{c=c||a.onsuccess||g;h=h||a.onerror||g;var r;a.data?r=a.data:"string"===typeof a?r=a:a.src&&(r=a.src);0===r.indexOf("<polygon")&&(r='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketchjs="https://sketch.io/dtd/" sketchjs:version="3.0">'+r+"</svg>");0===r.indexOf("<svg")&&(r='<?xml version="1.0" encoding="UTF-8"?>'+r);0===r.indexOf("<?xml")&&(r="data:image/svg+xml;base64,"+btoa(r));d.loader&&d.loader.create("thread",b.translate("reading-format",".SVG..."),0);var e=a.mergeIntoScene;
return new f.SVG({skipRender:!0,placement:"none",src:r,onerror:h,onload:function(a){if(a.vob.metadata){var f=JSON.parse(atob(a.vob.metadata));m.labels=f.labels;m.license=f.license;m.author=f.author}q.toActions({svg:a,mergeIntoScene:e},function(f){d.loader&&d.loader.create("thread",b.translate("rendering")+"...",50);setTimeout(function(){if(e)d.io.json.merge(f),d.loader&&d.loader.create("thread",null,100);else{var b=a.vob.viewBox||a.viewBox||[0,0,window.innerWidth,window.innerHeight];m.setMetrics({width:b[2],
height:b[3],units:"px"});m.history.reset();m.scene.setData(f);m.render.preload({chunkBatch:!0,onsuccess:function(){d.loader&&d.loader.stop("thread");c&&c(f);d.emit("open")}})}},0)})}})}}};"object"===typeof module&&module.exports&&(module.exports=r.module.SVG)})(sketch);
(function(r){r.addToolkit("media",function(g,d){function m(a,b,d){return function(){a.dirtyCheck=!0;b&&(a.bbox.scaleCache={x:1,y:1},a=l.addObject(a,{useHistory:!0}),d&&l.selectByIdx(a.zIndex),c.dirty=!0,c.dirtyControls=!0);c.dirtyPointer=!0}}function q(a){var b=a.asset,c=a.scaleBBox,d=a.object;a=a.onsuccess;var e=d.bbox,e="default"===b.className?[0,0,e.width,e.height]:[0,0,b.width,b.height];g.assets.isDefault(b)||c(e[2]-e[0],e[3]-e[1]);d.dirtyTransform=!0;d.render=function(a,c,d){c=this.bbox;var e=
c.width,f=c.height,k=c.scale;c=k.x;var k=k.y,g=Math.abs(e*c),h=Math.abs(f*k),e=0>c?e*c:0,f=0>k?f*k:0,l=e?-1:1,m=f?-1:1;a.save();d?(a.scale(1/c,1/k),a.scale(l,m)):(a.scale(l,m),a.translate(e,f));a.drawImage(b,0,0,g,h);a.restore()};a&&a(d)}function b(a){if(e.exists("sketch.vector.SVG")){var b=a.asset,c=a.scaleBBox,d=a.object;a=a.onsuccess;var f=d.bbox,k=f.width,h=f.height,l=b.viewBox;c(l[2]-l[0],l[3]-l[1]);if("objectBoundingBox"===f.units){var c=f.scale,m=f.height;f.x+=(1-f.width/k)*k/2*c.x;f.y+=(1-
m/h)*h/2*c.y}d.svg=b;d.dirtyCheck=!0;f=b.viewBox||l;k=b.viewBoxStroke||l;d.padding={left:f[0]-k[0],right:k[2]-f[2],top:f[1]-k[1],bottom:k[3]-f[3]};d.render=function(a,c,d){if(b.render){var e={ctx:a};if("symbol"===this.type){var f=this.fill;f?(f=g.style.toSVG(f),"string"===typeof f?e.defaultFill=f:(f.id="defaultFill",this.svg.addDef(f),e.defaultFill="defaultFill")):e.defaultFill="#000000"}e.trx=d?new p.Transform:c;var k=this.bbox,f=k.width,h=k.height,m=k.scale,k=m.x,m=m.y,q=f/l[2];d?(a.save(),a.scale(q,
q),b.render(e),a.restore()):(c.translate(0>k?-f:0,0>m?-h:0),c.scale(q,q),b.render(e))}else console.warn("error",b)};a&&a(d)}else console.error("SVG module is required")}var h=this,f=d.canvas2d,a=g.detect,c=d.render,l=d.scene,r=d.toolkit,t=g.ui,e=g.util,p=g.vector,k=g.feature.tools.media;h.id="media";h.units=k.units;var v={x:0,y:0,width:100,height:100,rotate:0,scale:{x:1,y:1}};h._attributes={brightness:"number",contrast:"number",exposure:"number",hue:"number",saturation:"number",temperature:"number",
tint:"number",src:"string"};var z=e.copy(h._attributes);h.attributes=e.copyInto(g.attrs.__styledObject,z);(function(){var a={};h.enabled=!1;h.enable=function(){!1===h.enabled&&(h.enabled=!0,r.select&&r.select.enable({events:a,searchParam:{toolkitId:k.useSearch}}))};h.disable=function(){!0===h.enabled&&(h.enabled=!1,eventjs.bulk(a,"remove"))}})();h.loadResource=function(a){var c=a.object,f=a.onerror,k=a.onsuccess,h=a.onprogress,l=c.src;a=c.type;if(d.config[a]&&l){var m=c.bbox||(c.bbox=e.copy(v)),p=
m.owidth||m.width,r=m.oheight||m.height;g.assets.add({data:l,type:a,onprogress:function(a){h&&h(a.loaded/a.total)},onerror:function(){if(f){var a=l.split("/").pop();f(c,"&ldquo;"+a+"&rdquo; unavailable.")}},onsuccess:function(a){("clipart"===this.type?b:q)({asset:this,hash:a,object:c,onsuccess:k,src:l,scaleBBox:function(a,b){p/a>r/b&&(r=p/a*b);p/a<r/b&&(p=r/b*a);m.width=p;m.height=r;m.owidth=m.owidth||p;m.oheight=m.oheight||r}})}})}else f&&f([c,a+" unavailable"])};h.createObject=function(a,b){var c=
h.mergeObjectDefaults(a.object),c=l.addObject(c);b&&b(c)};h.onEnterKey=function(){l.deselectAll();l.render()};h.onRecord=function(b,p){if("eyeDropper"!==t.colorPicker.state){var q=p.state,v=p.pointerStart,z=p.pointerDown,F=p.pointerEnd,B=r.getPointerUid(b,p),C=isFinite(p.shiftKey)?p.shiftKey:eventjs.shiftKey,G=isFinite(p.metaKey)?p.metaKey:eventjs.metaKey,I=!!b,E=I&&d.on.record;d.__interacting=z;if(I)if(v){if(eventjs.prevent(b),l.controlHover.id)return}else eventjs.cancel(b);z=c.pointer[B];if(!z||
!z.object)if(I&&v)z=c.pointer[B]={},z.isFromBrowser=!0,z.object=l.copyProperties(h,h.device),z.object.id=l.createId({id:B}),h.loadResource({object:z.object});else{console.warn("media.onRecord - no pointer");return}z.lastModified=Date.now();var z=z.object,D=z.type;if("function"!==typeof z.render)p.pause&&p.pause(),z.src?h.loadResource({object:z,onsuccess:function(a){p.pointerDown&&(p.resume&&p.resume(),p.pointerStart=!0,p.state="down",h.onRecord(b,p))},onerror:function(a,b){console.error(a,b)}}):console.error("media.onRecord - undefined src",
z),c.removePointer(B);else{if(E){var H;v&&(H=l.copyDeepCompress(l.copyProperties(h,z)));d.on.record({op:"TOOL",data:{config:H,state:q,pointerId:B,point:l.pointInPeerSceneFromCanvas(p),metaKey:G,shiftKey:C}})}var E=d.zoom,q=(E-1)/E,P=E*d.pixelRatio;H=d.scrollLeft*q;var K=d.scrollTop*q,J=p.start,q=0>p.x-J.x?-1:1,G=0>p.y-J.y?-1:1,N=J.x/E+H,S=J.y/E+K,J=p.x/E+H-N,Q=p.y/E+K-S,E=z.bbox;H=2*Math.abs(J||1);K=2*Math.abs(Q||1);H/E.width>K/E.height?K=H/E.width*E.height:H=K/E.height*E.width;if(v&&(z.dirtyCheck=
!0,z.lastSampleSize=Math.sqrt(H*K),v=g.lib[D].byPath[z.src])){if(!1===l.ensureMaxCopies(z)){c.removePointer(B);return}l.copyRules(v,z)}z.dirtyTransform=!0;E.x=N-1*f.x/P;E.y=S-1*f.y/P;E.width=H;E.height=K;E.units=h.units;v=l.getConstraint(z,!0);E.width=E.owidth=v.width;E.height=E.oheight=v.height;D=!a.useNonUniform[D];D="objectBoundingBox"===h.units||D;C||!1===D?E.rotate=0:(P=-Math.atan2(J,Q)*e.RAD_DEG,E.rotate=(P+3600)%360);P=E.scale;if(C||!1===D)if(P.x!==q||P.y!==G)v.constrained=!0,P.x=q,P.y=G;D?
(E.x-=P.x*E.width/2,E.y-=P.y*E.height/2):(E.owidth=E.width/=2,E.oheight=E.height/=2);C=Math.sqrt(E.width*E.height)/z.lastSampleSize;E.scaleCache={x:C,y:C};if(F&&(c.removePointer(B),H*K<h.minWidth*h.minHeight))if(k.addByClick)5>=H&&5>=K?(B=h.defaultWidth,D=h.defaultHeight):(B=h.minWidth,D=h.minHeight),B/H>D/K&&(D=B/H*K),B/H<D/K&&(B=D/K*H),E.width=E.owidth=B,E.height=E.oheight=D,E.x-=(B-H)/2,E.y-=(D-K)/2;else return;l.updateConstrain(z);clearTimeout(z.timeout);B=.5>C||3<C||1!==C&&v.constrained;F||B&&
C?m(z,F,I)():1<C&&(z.timeout=setTimeout(m(z),250));c.dirtyPointer=!0}}};r.init(h)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],d=function(m,q){if(!(this instanceof d))return new d(m,q);this.filters={};this.id="ColorMatrix";if(m)if("object"===typeof m){var b=!0,h;for(h in m)b=!1;b&&(this.matrix=g.slice(0));for(var f in m)break;if("number"===typeof m[f])if(isNaN(f))this.update(m);else{b={};for(h in m)b[h]=o[h];this.matrix=b}else"object"===typeof m[f]&&this.combine(m)}else this.update(m,q);else this.matrix=g.slice(0);return this};d.prototype={brightness:function(d){return[1,
0,0,0,d,0,1,0,0,d,0,0,1,0,d,0,0,0,1,0]},contrast:function(d,g){g=g||.5;return[++d,0,0,0,g*(1-d),0,d,0,0,g*(1-d),0,0,d,0,g*(1-d),0,0,0,1,0]},sepia:function(){return[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]},exposure:function(d){return[d,0,0,0,0,0,d,0,0,0,0,0,d,0,0,0,0,0,1,0]},colorize:function(d){var q=(d>>>16&255)/255,b=(d>>>8&255)/255,h=(d&255)/255;d=(d>>>24)/255;q=[.212656*q,.715158*q,.072186*q,0,0,.212656*b,.715158*b,.072186*b,0,0,.212656*h,.715158*h,.072186*h,0,0,0,
0,0,1,0];if(1>d)for(b=0;20>b;b++)q[b]=(1-d)*g[b]+d*q[b];return q},monotone:function(d){var q=(d>>>16&255)/255,b=(d>>>8&255)/255,h=(d&255)/255;d=(d>>>24)/255;q=[q,b,h,0,0,q,b,h,0,0,q,b,h,0,0,0,0,0,1,0];if(1>d)for(b=0;20>b;b++)q[b]=(1-d)*g[b]+d*q[b];return q},hue:function(d){d*=sketch.util.DEG_RAD;var g=Math.cos(d);d=Math.sin(d);return[.212656+.787344*g+-.212656*d,.715158+-.715158*g+-.715158*d,.072186+-.072186*g+.927814*d,0,0,.212656+-.212656*g+.143*d,.715158+g*(1-.715158)+.14*d,.072186+-.072186*g+
-.283*d,0,0,.212656+-.212656*g+-.787344*d,.715158+-.715158*g+.715158*d,.072186+.927814*g+.072186*d,0,0,0,0,0,1,0]},invert:function(d,g){g=g||1;d*=-1;return[d,0,0,0,g,0,d,0,0,g,0,0,d,0,g,0,0,0,1,0]},temperature:function(d){return[1+d/256,0,0,0,0,0,1,0,0,0,0,0,1+-d/256,0,0,0,0,0,1,0]},tint:function(d){return[1+d/256,0,0,0,0,0,1+-d/256,0,0,0,0,0,1+d/256,0,0,0,0,0,1,0]},saturation:function(d){var g=.212656*(1-d),b=.715158*(1-d),h=.072186*(1-d);return[g+d,b,h,0,0,g,b+d,h,0,0,g,b,h+d,0,0,0,0,0,1,0]},blend:function(d,
g){for(var b=this.matrix,h=[],f=0;20>f;f++)h[f]=(1-g)*b[f]+g*d[f];this.matrix=h;return this},light:function(d,g,b,h){b=h.highlights;g=-clamp(b.value*(b.max-b.min)+b.min,b.min,b.max);b=h.shadows;h=-clamp(b.value*(b.max-b.min)+b.min,b.min,b.max);var f=Math.PI;b=Math.cos(f);for(var f=Math.sin(f),a=d.data,c=a.length,l=0;l<c;l+=4){var r=a[l],t=a[l+1],e=a[l+2],p=r,k=t,v=e,r=r^255,t=t^255,e=e^255,z=(.299+.701*b+.168*f)*r+(.587-.587*b+.33*f)*t+(.114-.114*b-.497*f)*e,s=(.299-.299*b-.328*f)*r+(.587+.413*b+
.035*f)*t+(.114-.114*b+.292*f)*e,u=(.299-.3*b+1.25*f)*r+(.587-.588*b-1.05*f)*t+(.114+.886*b-.203*f)*e,r=p<z?p:z,t=k<s?k:s,e=v<u?v:u,p=(1-g)*p+g*r,k=(1-g)*k+g*t,v=(1-g)*v+g*e,r=p>z?p:z,t=k>s?k:s,e=v>u?v:u,p=(1-h)*p+h*r,k=(1-h)*k+h*t,v=(1-h)*v+h*e;a[l]=(0>p?0:256>p?p:255)>>0;a[l+1]=(0>k?0:256>k?k:255)>>0;a[l+2]=(0>v?0:256>v?v:255)>>0}return d},duotone:function(d,g,b,h){g=Color.HSV_RGB({H:360*h.hue.value,S:100*h.saturation.value,V:100*h.saturation.value});b=1.5*h.luminance.value;h=h.amount.value;for(var f=
d.data,a=f.length,c=0;c<a;c+=4){var l=f[c],r=f[c+1],t=f[c+2],e=.212656*l+.715158*r+.072186*t,p=(1-e/255)*g.R+e/255*e,k=(1-e/255)*g.G+e/255*e,v=(1-e/255)*g.B+e/255*e,e=e-(p+k+v)/3,p=p+e,k=k+e,v=v+e,e=(p+k+v)/3,z=Math.min(p,k,v);0>z&&(p=e+(p-e)*e/(e-z),k=e+(k-e)*e/(e-z),v=e+(v-e)*e/(e-z));z=Math.max(p,k,v);255<z&&(p=e+(p-e)*(255-e)/(z-e),k=e+(k-e)*(255-e)/(z-e),v=e+(v-e)*(255-e)/(z-e));p=((1-h)*l+h*p)*b;k=((1-h)*r+h*k)*b;v=((1-h)*t+h*v)*b;f[c]=p;f[c+1]=k;f[c+2]=v}return d},combine:function(d){var g=
[];if("number"===typeof d[0])for(var b=0,h=arguments.length;b<h;b++)g[b]=arguments[b];else g=d;var h=this.matrix,f=[];for(b in g)if(h){for(var a=0;5>a;a++)for(var c=0;20>c;c+=5)f[c+a]=h[c]*g[b][a]+h[c+1]*g[b][a+5]+h[c+2]*g[b][a+10]+h[c+3]*g[b][a+15]+(4===a?h[c+4]:0);h=f}else h=g[b];this.matrix=h;return this},update:function(d,g){if("string"===typeof d){if(!this[d])return;"number"===typeof g?this.filters[d]=this[d](g):delete this.filters[d]}else for(var b in d)this[b]&&("number"===typeof d[b]?this.filters[b]=
this[b](d[b]):delete this.filters[b]);delete this.matrix;this.combine(this.filters);return this},getMatrix4x4:function(){var d=this.matrix;return[d[0],d[1],d[2],d[3],d[5],d[6],d[7],d[8],d[10],d[11],d[12],d[13],d[15],d[16],d[17],d[18]]},toString:function(){return this.matrix.join(",")},apply:function(d,g,b,h){var f=d.canvas;h||(h=[0,0]);b||(b=d);g||(g=[0,0,f.width,f.height]);d=d.getImageData(g[0],g[1],g[2],g[3]);g=d.data;for(var a=this.matrix,f=a[0],c=a[1],l=a[2],r=a[3],t=a[4],e=a[5],p=a[6],k=a[7],
v=a[8],z=a[9],s=a[10],u=a[11],w=a[12],x=a[13],y=a[14],F=a[15],B=a[16],C=a[17],G=a[18],a=a[19],I,E,D,H,P,K,J,N=0,S=g.length;N<S;N+=4)I=g[N],E=g[N+1],D=g[N+2],H=g[N+3],P=I*f+E*c+D*l+H*r+t,K=I*e+E*p+D*k+H*v+z,J=I*s+E*u+D*w+H*x+y,I=I*F+E*B+D*C+H*G+a,d.data[N]=(0>P?0:255>P?P:255)>>0,d.data[N+1]=(0>K?0:255>K?K:255)>>0,d.data[N+2]=(0>J?0:255>J?J:255)>>0,d.data[N+3]=(0>I?0:255>I?I:255)>>0;b.putImageData(d,h[0],h[1])},reset:function(){this.matrix=g.slice(0)}};d.setFilter=function(g){var q=new d;isFinite(g.saturation)&&
q.update("saturation",g.saturation);!0===g.invert&&q.update("invert",g.invert);isFinite(g.hue)&&q.update("hue",g.hue);!0===g.sepia&&q.update("sepia",g.sepia);isFinite(g.tint)&&q.update("tint",g.tint);isFinite(g.temperature)&&q.update("temperature",g.temperature);isFinite(g.exposure)&&q.update("exposure",g.exposure);isFinite(g.brightness)&&q.update("brightness",g.brightness);isFinite(g.contrast)&&q.update("contrast",g.contrast,1);isFinite(g.colorize)&&q.update("colorize",4294901760);isFinite(g.monotone)&&
q.update("monotone",4283782485);return q};"undefined"!==typeof module&&module.exports&&(module.exports=d);r.gl=r.gl||{};r.gl.ColorMatrix=d})(sketch);"undefined"===typeof PDFJS&&(("undefined"!==typeof window?window:this).PDFJS={});PDFJS.version="1.0.266";PDFJS.build="5b16323";
(function(){function r(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+a)}function g(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+a)}function d(a){if(1<arguments.length){var b=["Error:"];b.push.apply(b,arguments);console.log.apply(console,b);a=[].join.call(arguments," ")}else console.log("Error: "+a);console.log(m());B.notify(F.unknown);throw Error(a);}function m(){try{throw Error();}catch(a){return a.stack?a.stack.split("\n").slice(2).join("\n"):
""}}function q(a,b){if(!b)return a;if(/^[a-z][a-z0-9+\-.]*:/i.test(b))return b;var c;if("/"==b.charAt(0))return c=a.indexOf("://"),"/"===b.charAt(1)?++c:c=a.indexOf("/",c+3),a.substring(0,c)+b;var d=a.length;c=a.lastIndexOf("#");d=0<=c?c:d;c=a.lastIndexOf("?",d);c=a.lastIndexOf("/",0<=c?c:d);return a.substring(0,c+1)+b}function b(a,b){if(!a)return!1;var c=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(a);if(!c)return b;c=c[0].toLowerCase();switch(c){case "http":case "https":case "ftp":case "mailto":return!0;default:return!1}}
function h(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1});return c}function f(a){for(var b=a.length,c=new Uint8Array(b),d=0;d<b;++d)c[d]=a.charCodeAt(d)&255;return c}function a(a){var b,c=a.length,d=[];if("\u00fe"===a[0]&&"\u00ff"===a[1])for(b=2;b<c;b+=2)d.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;b<c;++b){var e=H[a.charCodeAt(b)];d.push(e?String.fromCharCode(e):a.charAt(b))}return d.join("")}function c(a){return a instanceof
Name}function l(a,b){if(!(a instanceof Dict))return!1;if(!b)return!0;var d=a.get("Type");return c(d)&&d.name==b}function A(a){return a instanceof Array}function t(){var a={};a.promise=new Promise(function(b,c){a.resolve=b;a.reject=c});return a}function e(a,b){this.name=a;this.comObj=b;this.callbackIndex=1;this.postMessageTransfers=!0;var c=this.callbacksCapabilities={},e=this.actionHandler={};e.console_log=[function(a){console.log.apply(console,a)}];e.console_error=[function(a){console.error.apply(console,
a)}];e._unsupported_feature=[function(a){B.notify(a)}];b.onmessage=function(a){var f=a.data;if(f.isReply)if(a=f.callbackId,f.callbackId in c){var k=c[a];delete c[a];"error"in f?k.reject(f.error):k.resolve(f.data)}else d("Cannot resolve callback "+a);else if(f.action in e){var g=e[f.action];f.callbackId?Promise.resolve().then(function(){return g[0].call(g[1],f.data)}).then(function(a){b.postMessage({isReply:!0,callbackId:f.callbackId,data:a})},function(a){b.postMessage({isReply:!0,callbackId:f.callbackId,
error:a})}):g[0].call(g[1],f.data)}else d("Unknown action from worker: "+f.action)}}function p(a,b,c){var d=new Image;d.onload=function(){c.resolve(a,d)};d.src=b}function k(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;return c}function v(a){a.mozCurrentTransform||(a._scaleX=a._scaleX||1,a._scaleY=a._scaleY||1,a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,
a._originalSetTransform=a.setTransform,a._transformMatrix=[a._scaleX,0,0,a._scaleY,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],a=a[5],k=b*e-c*d,g=c*d-b*e;return[e/k,c/g,d/g,b/k,(e*f-d*a)/g,(c*f-b*a)/k]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=
a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4];c[5]=c[1]*a+c[3]*b+c[5];this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]*=a;c[1]*=a;c[2]*=b;c[3]*=b;this._originalScale(a,b)},a.transform=function(b,c,d,e,f,k){var g=this._transformMatrix;this._transformMatrix=[g[0]*b+g[2]*c,g[1]*b+g[3]*c,g[0]*
d+g[2]*e,g[1]*d+g[3]*e,g[0]*f+g[2]*k+g[4],g[1]*f+g[3]*k+g[5]];a._originalTransform(b,c,d,e,f,k)},a.setTransform=function(b,c,d,e,f,k){this._transformMatrix=[b,c,d,e,f,k];a._originalSetTransform(b,c,d,e,f,k)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,d[0]*-c+d[2]*b,d[1]*-c+d[3]*b,d[4],d[5]];this._originalRotate(a)})}function z(a){var b=a.width,c=a.height,d,e,f=b+1,k=new Uint8Array(f*(c+1)),g=new Uint8Array([0,2,4,
0,1,0,5,4,8,10,0,8,0,2,1,0]),h=b+7&-8,l=a.data,p=new Uint8Array(h*c),m=0;a=0;for(d=l.length;a<d;a++){e=128;for(var q=l[a];0<e;)p[m++]=q&e?0:255,e>>=1}m=l=0;0!==p[m]&&(k[0]=1,++l);for(d=1;d<b;d++)p[m]!==p[m+1]&&(k[d]=p[m]?2:1,++l),m++;0!==p[m]&&(k[d]=2,++l);for(a=1;a<c;a++){m=a*h;e=a*f;p[m-h]!==p[m]&&(k[e]=p[m]?1:8,++l);q=(p[m]?4:0)+(p[m-h]?8:0);for(d=1;d<b;d++)q=(q>>2)+(p[m+1]?4:0)+(p[m-h+1]?8:0),g[q]&&(k[e+d]=g[q],++l),m++;p[m-h]!==p[m]&&(k[e+d]=p[m]?2:4,++l);if(1E3<l)return null}m=h*(c-1);e=a*f;
0!==p[m]&&(k[e]=8,++l);for(d=1;d<b;d++)p[m]!==p[m+1]&&(k[e+d]=p[m]?4:8,++l),m++;0!==p[m]&&(k[e+d]=4,++l);if(1E3<l)return null;var g=new Int32Array([0,f,-1,0,-f,0,0,0,1]),r=[];for(a=0;l&&a<=c;a++){h=a*f;for(p=h+b;h<p&&!k[h];)h++;if(h!==p){p=[h%f,a];m=k[h];d=h;do{e=g[m];do h+=e;while(!k[h]);e=k[h];5!==e&&10!==e?(m=e,k[h]=0):(m=e&51*m>>4,k[h]&=m>>2|m<<2);p.push(h%f);p.push(h/f|0);--l}while(d!==h);r.push(p);--a}}return function(a){a.save();a.scale(1/b,-1/c);a.translate(0,-c);a.beginPath();for(var d=0,
e=r.length;d<e;d++){var f=r[d];a.moveTo(f[0],f[1]);for(var k=2,g=f.length;k<g;k+=2)a.lineTo(f[k],f[k+1])}a.fill();a.beginPath();a.restore()}}function s(a){var b=$[a[0]];b||d("Unknown IR type: "+a[0]);return b.fromIR(a)}var u="undefined"===typeof window?this:window,w="undefined"==typeof window,x=[.001,0,0,.001,0,0];u.PDFJS||(u.PDFJS={});u.PDFJS.pdfBug=!1;PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var y=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,
setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,
showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,
endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},F=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",
forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},B=PDFJS.UnsupportedManager=function(){var a=[];return{listen:function(b){a.push(b)},notify:function(b){g('Unsupported feature "'+b+'"');for(var c=0,d=a.length;c<d;c++)a[c](b)}}}();PDFJS.isValidUrl=b;var C=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};(function(){function a(b,c){this.name="PasswordException";this.message=b;this.code=c}a.prototype=Error();return a.constructor=a})();(function(){function a(b,
c){this.name="UnknownErrorException";this.message=b;this.details=c}a.prototype=Error();return a.constructor=a})();(function(){function a(b){this.name="InvalidPDFException";this.message=b}a.prototype=Error();return a.constructor=a})();(function(){function a(b){this.name="MissingPDFException";this.message=b}a.prototype=Error();return a.constructor=a})();var G=function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="NotImplementedException";return a.constructor=a}();(function(){function a(b,
c){this.begin=b;this.end=c;this.message="Missing data ["+b+", "+c+")"}a.prototype=Error();a.prototype.name="MissingDataException";return a.constructor=a})();(function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="XRefParseException";return a.constructor=a})();Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function(){var a=PDFJS,b=new Uint8Array(2);b[0]=1;b=new Uint16Array(b.buffer);return h(a,"isLittleEndian",1===b[0])}});Object.defineProperty(PDFJS,"hasCanvasTypedArrays",
{configurable:!0,get:function(){var a=PDFJS,b=document.createElement("canvas");b.width=b.height=1;b=b.getContext("2d").createImageData(1,1);return h(a,"hasCanvasTypedArrays","undefined"!==typeof b.data.buffer)}});var I=function(){function a(d,e){this.buffer=d;this.byteLength=d.length;for(var f=this.length=void 0===e?this.byteLength>>2:e;c<f;)Object.defineProperty(a.prototype,c,b(c)),c++}function b(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},
set:function(b){var c=this.buffer,d=a<<2;c[d]=b&255;c[d+1]=b>>8&255;c[d+2]=b>>16&255;c[d+3]=b>>>24&255}}}a.prototype=Object.create(null);var c=0;return a}(),E=[1,0,0,1,0,0],D=PDFJS.Util=function(){function a(){}a.makeCssRgb=function(a){return"rgb("+a[0]+","+a[1]+","+a[2]+")"};a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]};a.applyTransform=function(a,b){return[a[0]*b[0]+a[1]*b[2]+b[4],
a[0]*b[1]+a[1]*b[3]+b[5]]};a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2];return[(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c]};a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),k=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],k[0]),Math.min(d[1],e[1],f[1],k[1]),Math.max(d[0],e[0],f[0],k[0]),Math.max(d[1],e[1],f[1],k[1])]};a.inverseTransform=
function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]};a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]};a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[2]*b[1]+a[3]*b[3],e=(c+d)/2;a=Math.sqrt((c+d)*(c+d)-4*(c*d-(a[2]*b[0]+a[3]*b[2])*(a[0]*b[1]+a[1]*b[3])))/2;b=e-a||1;return[Math.sqrt(e+a||1),Math.sqrt(b)]};
a.normalizeRect=function(a){var b=a.slice(0);a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]);a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]);return b};a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),k=[];b=a.normalizeRect(b);c=a.normalizeRect(c);if(e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0])k[0]=e[1],k[2]=e[2];else return!1;if(f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1])k[1]=f[1],k[3]=f[2];else return!1;return k};a.sign=function(a){return 0>
a?-1:1};a.concatenateToArray=function(a,b){Array.prototype.push.apply(a,b)};a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)};a.extendObj=function(a,b){for(var c in b)a[c]=b[c]};a.getInheritableProperty=function(a,b){for(;a&&!a.has(b);)a=a.get("Parent");return a?a.get(b):null};a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]};a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",
a);b&&(c.onload=function(){d||b();d=!0});document.getElementsByTagName("head")[0].appendChild(c)};return a}();PDFJS.PageViewport=function(){function a(b,c,d,e,f,k){this.viewBox=b;this.scale=c;this.rotation=d;this.offsetX=e;this.offsetY=f;var g=(b[2]+b[0])/2,h=(b[3]+b[1])/2,l,p,m;d%=360;switch(0>d?d+360:d){case 180:d=-1;p=l=0;m=1;break;case 90:d=0;p=l=1;m=0;break;case 270:d=0;p=l=-1;m=0;break;default:d=1,p=l=0,m=-1}k&&(p=-p,m=-m);0===d?(e=Math.abs(h-b[1])*c+e,f=Math.abs(g-b[0])*c+f,k=Math.abs(b[3]-
b[1])*c,b=Math.abs(b[2]-b[0])*c):(e=Math.abs(g-b[0])*c+e,f=Math.abs(h-b[1])*c+f,k=Math.abs(b[2]-b[0])*c,b=Math.abs(b[3]-b[1])*c);this.transform=[d*c,l*c,p*c,m*c,e-d*c*g-p*c*h,f-l*c*g-m*c*h];this.width=k;this.height=b;this.fontScale=c}a.prototype={clone:function(b){b=b||{};var c="scale"in b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return D.applyTransform([a,b],this.transform)},
convertToViewportRectangle:function(a){var b=D.applyTransform([a[0],a[1]],this.transform);a=D.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],a[0],a[1]]},convertToPdfPoint:function(a,b){return D.applyInverseTransform([a,b],this.transform)}};return a}();var H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];PDFJS.createPromiseCapability=t;(function(){function a(c){this._status=b;this._handlers=[];try{c.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(d){this._reject(d)}}if(u.Promise)"function"!==typeof u.Promise.all&&(u.Promise.all=function(a){var b=0,c=[],d,e,f=new u.Promise(function(a,b){d=
a;e=b});a.forEach(function(a,f){b++;a.then(function(a){c[f]=a;b--;0===b&&d(c)},e)});0===b&&d(c);return f}),"function"!==typeof u.Promise.resolve&&(u.Promise.resolve=function(a){return new u.Promise(function(b){b(a)})}),"function"!==typeof u.Promise.reject&&(u.Promise.reject=function(a){return new u.Promise(function(b,c){c(a)})}),"function"!==typeof u.Promise.prototype["catch"]&&(u.Promise.prototype["catch"]=function(a){return u.Promise.prototype.then(void 0,a)});else{var b=0,c={handlers:[],running:!1,
unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(a){a._status!=b&&(this.handlers=this.handlers.concat(a._handlers),a._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var a=Date.now()+1;0<this.handlers.length;){var b=this.handlers.shift(),c=b.thisPromise._status,d=b.thisPromise._value;try{1===c?"function"==typeof b.onResolve&&(d=b.onResolve(d)):"function"===typeof b.onReject&&(d=b.onReject(d),c=1,b.thisPromise._unhandledRejection&&
this.removeUnhandeledRejection(b.thisPromise))}catch(e){c=2,d=e}b.nextPromise._updateStatus(c,d);if(Date.now()>=a)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=!1;for(var b=0;b<this.unhandledRejections.length;b++)this.unhandledRejections[b].promise===a&&(this.unhandledRejections.splice(b),
b--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var a=Date.now(),b=0;b<this.unhandledRejections.length;b++)if(500<a-this.unhandledRejections[b].time){var c=this.unhandledRejections[b].promise._value,d="Unhandled rejection: "+c;c.stack&&(d+="\n"+c.stack);g(d);this.unhandledRejections.splice(b);b--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};a.all=function(b){function c(a){2!==
f._status&&(g=[],e(a))}var d,e,f=new a(function(a,b){d=a;e=b}),k=b.length,g=[];if(0===k)return d(g),f;for(var h=0,l=b.length;h<l;++h){var p=b[h],m=function(a){return function(b){2!==f._status&&(g[a]=b,k--,0===k&&d(g))}}(h);a.isPromise(p)?p.then(m,c):m(p)}return f};a.isPromise=function(a){return a&&"function"===typeof a.then};a.resolve=function(b){return new a(function(a){a(b)})};a.reject=function(b){return new a(function(a,c){c(b)})};a.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,
_updateStatus:function(b,d){1!==this._status&&2!==this._status&&(1==b&&a.isPromise(d)?d.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=b,this._value=d,2===b&&0===this._handlers.length&&(this._unhandledRejection=!0,c.addUnhandledRejection(this)),c.scheduleHandlers(this)))},_resolve:function(a){this._updateStatus(1,a)},_reject:function(a){this._updateStatus(2,a)},then:function(b,d){var e=new a(function(a,b){this.reject=this.resolve=b});this._handlers.push({thisPromise:this,
onResolve:b,onReject:d,nextPromise:e});c.scheduleHandlers(this);return e},"catch":function(a){return this.then(void 0,a)}};u.Promise=a}})();var P=function(){function a(){this.started={};this.times=[];this.enabled=!0}a.prototype={time:function(a){this.enabled&&(a in this.started&&g("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||g("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),
delete this.started[a])},toString:function(){var a,b,c=this.times,d="",e=0;a=0;for(b=c.length;a<b;++a){var f=c[a].name;f.length>e&&(e=f.length)}a=0;for(b=c.length;a<b;++a){for(var k=c[a],f=k.end-k.start,k=k.name;k.length<e;)k+=" ";d+=k+" "+f+"ms\n"}return d}};return a}();PDFJS.createBlob=function(a,b){if("undefined"!==typeof Blob)return new Blob([a],{type:b});var c=new MozBlobBuilder;c.append(a);return c.getBlob(b)};PDFJS.createObjectURL=function(){return function(a,b){if(!PDFJS.disableCreateObjectURL&&
"undefined"!==typeof URL&&URL.createObjectURL){var c=PDFJS.createBlob(a,b);return URL.createObjectURL(c)}for(var c="data:"+b+";base64,",d=0,e=a.length;d<e;d+=3)var f=a[d]&255,k=a[d+1]&255,g=a[d+2]&255,c=c+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(f&3)<<4|k>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+1<e?(k&15)<<2|g>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+
2<e?g&63:64]);return c}}();e.prototype={on:function(a,b,c){var e=this.actionHandler;e[a]&&d('There is already an actionName called "'+a+'"');e[a]=[b,c]},send:function(a,b,c){this.postMessage({action:a,data:b},c)},sendWithPromise:function(a,b,c){var d=this.callbackIndex++;a={action:a,data:b,callbackId:d};b=t();this.callbacksCapabilities[d]=b;try{this.postMessage(a,c)}catch(e){b.reject(e)}return b.promise},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)}};
var K=["Link","Text","Widget"],J=function(){function a(b,c,d){var e=D.getAxialAlignedBoundingBox(c,d);c=e[0];d=e[1];var f=e[2],e=e[3];if(c===f||d===e)return[1,0,0,1,b[0],b[1]];f=(b[2]-b[0])/(f-c);e=(b[3]-b[1])/(e-d);return[f,0,0,e,b[0]-c*f,b[1]-d*e]}function b(a){if(a.data)this.data=a.data;else{var c=a.dict,d=this.data={};d.subtype=c.get("Subtype").name;var e=c.get("Rect")||[0,0,0,0];d.rect=D.normalizeRect(e);d.annotationFlags=c.get("F");e=c.get("C");A(e)&&3===e.length?d.color=e:d.color=[0,0,0];if(c.has("BS"))e=
c.get("BS"),d.borderWidth=e.has("W")?e.get("W"):1;else if(e=c.get("Border")||[0,0,1],d.borderWidth=e[2]||0,e=e[3],0<d.borderWidth&&e)if(A(e)){var f=e.length;if(0<f){for(var k=!1,g=0,h=0;h<f;h++)if(0<=+e[h])0<e[h]&&g++;else{k=!0;break}if(k||0===g)d.borderWidth=0}}else d.borderWidth=0;var p,e=c.get("AP");l(e)?(e=e.get("N"),l(e)?(c=c.get("AS"))&&e.has(c.name)&&(p=e.get(c.name)):p=e):p=void 0;this.appearance=p;d.hasAppearance=!!this.appearance;d.id=a.ref.num}}b.prototype={getData:function(){return this.data},
hasHtml:function(){return!1},getHtmlElement:function(a){throw new G("getHtmlElement() should be implemented in subclass");},getEmptyContainer:function(a,b,c){w&&d("getEmptyContainer() should be called from main thread");c=c||0;b=b||this.data.rect;a=document.createElement(a);a.style.borderWidth=c+"px";var e=b[3]-b[1]-2*c;a.style.width=b[2]-b[0]-2*c+"px";a.style.height=e+"px";return a},isInvisible:function(){var a=this.data;return a&&-1!==K.indexOf(a.subtype)?!1:!!(a&&a.annotationFlags&&a.annotationFlags&
1)},isViewable:function(){var a=this.data;return!(this.isInvisible()||!a||a.annotationFlags&&a.annotationFlags&34||!a.rect)},isPrintable:function(){var a=this.data;return!!(!this.isInvisible()&&a&&a.annotationFlags&&a.annotationFlags&4&&a.rect)},loadResources:function(a){return new Promise(function(b,c){this.appearance.dict.getAsync("Resources").then(function(d){d?(new ObjectLoader(d.map,a,d.xref)).load().then(function(){b(d)},c):b()},c)}.bind(this))},getOperatorList:function(b){if(!this.appearance)return Promise.resolve(new OperatorList);
var c=this.data,d=this.appearance.dict,e=this.loadResources("ExtGState ColorSpace Pattern Shading XObject Font".split(" ")),f=d.get("BBox")||[0,0,1,1],k=d.get("Matrix")||[1,0,0,1,0,0],g=a(c.rect,f,k),h=this;return e.then(function(a){var d=new OperatorList;d.addOp(y.beginAnnotation,[c.rect,g,k]);return b.getOperatorList(h.appearance,a,d).then(function(){d.addOp(y.endAnnotation,[]);h.appearance.reset();return d})})}};b.getConstructor=function(a,c){if(a){if("Link"===a)return V;if("Text"===a)return L;
if("Widget"===a){if(c)return"Tx"===c?S:N}else return b}};b.fromData=function(a){var c=b.getConstructor(a.subtype,a.fieldType);if(c)return new c({data:a})};b.fromRef=function(a,d){var e=a.fetchIfRef(d);if(l(e)){var f=e.get("Subtype");if(f=c(f)?f.name:""){var k=D.getInheritableProperty(e,"FT"),k=c(k)?k.name:"";if(k=b.getConstructor(f,k)){e=new k({dict:e,ref:d});if(e.isViewable()||e.isPrintable())return e;g("unimplemented annotation type: "+f)}}}};b.appendToOperatorList=function(a,b,c,d,e){var f=t();
c=[];for(var k=0,g=a.length;k<g;++k)("display"===e&&a[k].isViewable()||"print"===e&&a[k].isPrintable())&&c.push(a[k].getOperatorList(d));Promise.all(c).then(function(a){b.addOp(y.beginAnnotations,[]);for(var c=0,d=a.length;c<d;++c)b.addOpList(a[c]);b.addOp(y.endAnnotations,[]);f.resolve()},function(a){f.reject(a)});return f.promise};return b}();PDFJS.Annotation=J;var N=function(){function b(d){J.call(this,d);if(!d.data){var e=d.dict,f=this.data;f.fieldValue=a(D.getInheritableProperty(e,"V")||"");
f.alternativeText=a(e.get("TU")||"");f.defaultAppearance=D.getInheritableProperty(e,"DA")||"";var k=D.getInheritableProperty(e,"FT");f.fieldType=c(k)?k.name:"";f.fieldFlags=D.getInheritableProperty(e,"Ff")||0;this.fieldResources=D.getInheritableProperty(e,"DR")||Dict.empty;var k=[],g=e;for(d=d.ref;g;){var e=g.get("Parent"),h=g.getRaw("Parent");if(g=g.get("T"))k.unshift(a(g));else{var g=e.get("Kids"),l,p;l=0;for(p=g.length;l<p;l++){var m=g[l];if(m.num==d.num&&m.gen==d.gen)break}k.unshift("`"+l)}g=
e;d=h}f.fullName=k.join(".")}}var d=J.prototype;D.inherit(b,J,{isViewable:function(){return"Sig"===this.data.fieldType?(g("unimplemented annotation type: Widget signature"),!1):d.isViewable.call(this)}});return b}(),S=function(){function a(b){N.call(this,b);b.data||(this.data.textAlignment=D.getInheritableProperty(b.dict,"Q"))}D.inherit(a,N,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(a){w&&d("getHtmlElement() shall be called from main thread");
var b=this.data,c=this.getEmptyContainer("div");c.style.display="table";var e=document.createElement("div");e.textContent=b.fieldValue;e.style.textAlign=["left","center","right"][b.textAlignment];e.style.verticalAlign="middle";e.style.display="table-cell";a=b.fontRefName?a.getData(b.fontRefName):null;var f=e.style;f.fontSize=b.fontSize+"px";f.direction=0>b.fontDirection?"rtl":"ltr";a&&(f.fontWeight=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal",f.fontStyle=a.italic?"italic":"normal",b=a.loadedName,
f.fontFamily=(b?'"'+b+'", ':"")+(a.fallbackName||"Helvetica, sans-serif"));c.appendChild(e);return c},getOperatorList:function(a){if(this.appearance)return J.prototype.getOperatorList.call(this,a);var b=new OperatorList,c=this.data;if(!c.defaultAppearance)return Promise.resolve(b);c=new Stream(f(c.defaultAppearance));return a.getOperatorList(c,this.fieldResources,b).then(function(){return b})}});return a}(),Q=function(){function a(b){J.call(this,b)}D.inherit(a,J,{hasHtml:function(){return!0},highlight:function(){this.highlightElement&&
this.highlightElement.hasAttribute("hidden")&&this.highlightElement.removeAttribute("hidden")},unhighlight:function(){this.highlightElement&&!this.highlightElement.hasAttribute("hidden")&&this.highlightElement.setAttribute("hidden",!0)},initContainer:function(){for(var a=this.data,b=this.getEmptyContainer("section",a.rect,a.borderWidth),c=b.style.backgroundColor=a.color,d=[],e=0;3>e;++e)d[e]=Math.round(255*c[e]);a.colorCssRgb=D.makeCssRgb(d);a=document.createElement("div");a.className="annotationHighlight";
a.style.left=a.style.top="-4px";a.style.right=a.style.bottom="-4px";a.setAttribute("hidden",!0);this.highlightElement=a;b.appendChild(this.highlightElement);return b}});return a}(),L=function(){function b(c){Q.call(this,c);if(!c.data){c=c.dict;var d=this.data,e=c.get("Contents"),f=c.get("T");d.content=a(e||"");d.title=a(f||"");d.hasAppearance?d.name="NoIcon":(d.rect[1]=d.rect[3]-22,d.rect[2]=d.rect[0]+22,d.name=c.has("Name")?c.get("Name").name:"Note");c.has("C")&&(d.hasBgColor=!0)}}D.inherit(b,Q,
{getHtmlElement:function(a){w&&d("getHtmlElement() shall be called from main thread");var b=this.data,c=b.rect;10>c[3]-c[1]&&(c[3]=c[1]+10);10>c[2]-c[0]&&(c[2]=c[0]+(c[3]-c[1]));var e=this.initContainer();e.className="annotText";a=document.createElement("img");a.style.height=e.style.height;a.style.width=e.style.width;var f=b.name;a.src=PDFJS.imageResourcesPath+"annotation-"+f.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:f});
f=document.createElement("div");f.className="annotTextContentWrapper";f.style.left=Math.floor(c[2]-c[0]+5)+"px";f.style.top="-10px";var k=document.createElement("div");k.className="annotTextContent";k.setAttribute("hidden",!0);if(b.hasBgColor){for(var g=b.color,h=[],c=0;3>c;++c){var l=Math.round(255*g[c]);h[c]=Math.round(.7*(255-l))+l}k.style.backgroundColor=D.makeCssRgb(h)}g=document.createElement("h1");h=document.createElement("p");g.textContent=b.title;if(b.content||b.title){for(var l=document.createElement("span"),
p=b.content.split(/(?:\r\n?|\n)/),c=0,b=p.length;c<b;++c)l.appendChild(document.createTextNode(p[c])),c<b-1&&l.appendChild(document.createElement("br"));h.appendChild(l);var m=!1,q=function(a){a&&(m=!0);k.hasAttribute("hidden")&&(e.style.zIndex+=1,k.removeAttribute("hidden"))},r=function(a){a&&(m=!1);k.hasAttribute("hidden")||m||(e.style.zIndex-=1,k.setAttribute("hidden",!0))};a.addEventListener("click",function(){m?r(!0):q(!0)},!1);a.addEventListener("mouseover",function(){q()},!1);a.addEventListener("mouseout",
function(){r()},!1);k.addEventListener("click",function(){r(!0)},!1)}else k.setAttribute("hidden",!0);k.appendChild(g);k.appendChild(h);f.appendChild(k);e.appendChild(a);e.appendChild(f);return e}});return b}(),V=function(){function a(d){Q.call(this,d);if(!d.data){var e=d.dict;d=this.data;var f=e.get("A");if(f)if(e=f.get("S").name,"URI"===e){var k=f.get("URI");c(k)?k="/"+k.name:k&&(k=k&&0===k.indexOf("www.")?"http://"+k:k);b(k,!1)||(k="");d.url=k}else"GoTo"===e?d.dest=f.get("D"):"GoToR"===e?(e=f.get("F"),
l(e)&&(k=e.get("F")||""),b(k,!1)||(k=""),d.url=k,d.dest=f.get("D")):"Named"===e?d.action=f.get("N").name:g("unrecognized link type: "+e);else e.has("Dest")&&(k=e.get("Dest"),d.dest=c(k)?k.name:k)}}D.inherit(a,Q,{hasOperatorList:function(){return!1},getHtmlElement:function(a){a=this.initContainer();a.className="annotLink";a.style.borderColor=this.data.colorCssRgb;a.style.borderStyle="solid";var b=document.createElement("a");b.href=b.title=this.data.url||"";a.appendChild(b);return a}});return a}();
PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize;PDFJS.cMapUrl=void 0===PDFJS.cMapUrl?null:PDFJS.cMapUrl;PDFJS.cMapPacked=void 0===PDFJS.cMapPacked?!1:PDFJS.cMapPacked;PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace;PDFJS.imageResourcesPath=void 0===PDFJS.imageResourcesPath?"":PDFJS.imageResourcesPath;PDFJS.disableWorker=void 0===PDFJS.disableWorker?!1:PDFJS.disableWorker;PDFJS.workerSrc=void 0===PDFJS.workerSrc?null:PDFJS.workerSrc;PDFJS.disableRange=
void 0===PDFJS.disableRange?!1:PDFJS.disableRange;PDFJS.disableAutoFetch=void 0===PDFJS.disableAutoFetch?!1:PDFJS.disableAutoFetch;PDFJS.pdfBug=void 0===PDFJS.pdfBug?!1:PDFJS.pdfBug;PDFJS.postMessageTransfers=void 0===PDFJS.postMessageTransfers?!0:PDFJS.postMessageTransfers;PDFJS.disableCreateObjectURL=void 0===PDFJS.disableCreateObjectURL?!1:PDFJS.disableCreateObjectURL;PDFJS.disableWebGL=void 0===PDFJS.disableWebGL?!0:PDFJS.disableWebGL;PDFJS.verbosity=void 0===PDFJS.verbosity?PDFJS.VERBOSITY_LEVELS.warnings:
PDFJS.verbosity;PDFJS.getDocument=function(a,b,c,e){var f,k;"string"===typeof a?a={url:a}:"object"==typeof a&&null!==a&&void 0!==a&&"byteLength"in a?a={data:a}:"object"!==typeof a&&d("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");a.url||a.data||d("Invalid parameter array, need either .data or .url");var g={};for(f in a)g[f]="url"===f&&"undefined"!==typeof window?q(window.location.href,a[f]):a[f];a=t();f=t();k=new U(a,f,b,e);a.promise.then(function(){k.passwordCallback=
c;k.fetchDocument(g)});return f.promise};var R=function(){function a(b,c){this.pdfInfo=b;this.transport=c}a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},
getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}};return a}(),W=function(){function a(b,c,d){this.pageIndex=b;this.pageInfo=c;this.transport=d;this.stats=new P;this.stats.enabled=!!u.PDFJS.enableStats;this.commonObjs=
d.commonObjs;this.objs=new X;this.pendingDestroy=this.cleanupAfterRender=!1;this.intentStates={}}a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(a,b){2>arguments.length&&(b=this.rotate);return new PDFJS.PageViewport(this.view,a,b,0,0)},getAnnotations:function(){return this.annotationsPromise?this.annotationsPromise:this.annotationsPromise=this.transport.getAnnotations(this.pageIndex)},
render:function(a){function b(a){var d=e.renderTasks.indexOf(f);0<=d&&e.renderTasks.splice(d,1);k.cleanupAfterRender&&(k.pendingDestroy=!0);k._tryDestroy();a?f.capability.reject(a):f.capability.resolve();c.timeEnd("Rendering");c.timeEnd("Overall")}var c=this.stats;c.time("Overall");this.pendingDestroy=!1;var d="intent"in a?"print"==a.intent?"print":"display":"display";this.intentStates[d]||(this.intentStates[d]={});var e=this.intentStates[d];e.displayReadyCapability||(e.receivingOperatorList=!0,e.displayReadyCapability=
t(),e.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d}));var f=new Y(b,a,this.objs,this.commonObjs,e.operatorList,this.pageNumber);e.renderTasks||(e.renderTasks=[]);e.renderTasks.push(f);a=new O(f);var k=this;e.displayReadyCapability.promise.then(function(a){k.pendingDestroy?b():(c.time("Rendering"),f.initalizeGraphics(a),f.operatorListChanged())},function(a){b(a)});return a},
getTextContent:function(){return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1})},destroy:function(){this.pendingDestroy=!0;this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return 0!==a.renderTasks.length||a.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,
this.pendingDestroy=!1)},_startRenderPage:function(a,b){this.intentStates[b].displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var c=this.intentStates[b],d,e;d=0;for(e=a.length;d<e;d++)c.operatorList.fnArray.push(a.fnArray[d]),c.operatorList.argsArray.push(a.argsArray[d]);c.operatorList.lastChunk=a.lastChunk;for(d=0;d<c.renderTasks.length;d++)c.renderTasks[d].operatorListChanged();a.lastChunk&&(c.receivingOperatorList=!1,this._tryDestroy())}};return a}(),U=function(){function a(b,
c,f,k){this.pdfDataRangeTransport=f;this.workerReadyCapability=c;this.progressCallback=k;this.commonObjs=new X;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=t();this.passwordCallback=null;if(!u.PDFJS.disableWorker&&"undefined"!==typeof Worker){(c=PDFJS.workerSrc)||d("No PDFJS.workerSrc specified");try{var g=new Worker(c),h=new e("main",g);this.messageHandler=h;h.on("test",function(a){a&&a.supportTypedArray?(this.worker=g,a.supportTransfers||(PDFJS.postMessageTransfers=!1),this.setupMessageHandler(h),
b.resolve()):(u.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker();b.resolve()}.bind(this)))}.bind(this));var l=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{h.send("test",l,[l.buffer])}catch(p){r("Cannot use postMessage transfers"),l[0]=0,h.send("test",l)}return}catch(m){r("The worker has been disabled.")}}u.PDFJS.disableWorker=!0;this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker();b.resolve()}.bind(this))}a.prototype={destroy:function(){this.pageCache=
[];this.pagePromises=[];var a=this;this.messageHandler.sendWithPromise("Terminate",null).then(function(){ja.clear();a.worker&&a.worker.terminate()})},loadFakeWorkerFiles:function(){PDFJS.fakeWorkerFilesLoadedCapability||(PDFJS.fakeWorkerFilesLoadedCapability=t(),D.loadScript(PDFJS.workerSrc));return PDFJS.fakeWorkerFilesLoadedCapability.promise},setupFakeWorker:function(){g("Setting up fake worker.");var a={postMessage:function(b){a.onmessage({data:b})},terminate:function(){}},b=new e("main",a);this.setupMessageHandler(b);
PDFJS.WorkerMessageHandler.setup(b)},setupMessageHandler:function(a){function b(c){a.send("UpdatePassword",c)}this.messageHandler=a;var c=this.pdfDataRangeTransport;c&&(c.addRangeListener(function(b,c){a.send("OnDataRange",{begin:b,chunk:c})}),c.addProgressListener(function(b){a.send("OnDataProgress",{loaded:b})}),a.on("RequestDataRange",function(a){c.requestDataRange(a.begin,a.end)},this));a.on("GetDoc",function(a){var b=a.pdfInfo;this.numPages=a.pdfInfo.numPages;this.pdfDocument=a=new R(b,this);
this.workerReadyCapability.resolve(a)},this);a.on("NeedPassword",function(a){if(this.passwordCallback)return this.passwordCallback(b,C.NEED_PASSWORD);this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("IncorrectPassword",function(a){if(this.passwordCallback)return this.passwordCallback(b,C.INCORRECT_PASSWORD);this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("InvalidPDF",function(a){this.workerReadyCapability.reject(a.exception.name,a.exception)},
this);a.on("MissingPDF",function(a){this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("UnknownError",function(a){this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){var b=this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request");b._startRenderPage(a.transparency,a.intent)},this);a.on("RenderPageChunk",function(a){this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,
a.intent)},this);a.on("commonobj",function(a){var b=a[0],c=a[1];if(!this.commonObjs.hasData(b))switch(c){case "Font":a=a[2];var d;if("error"in a){var e=a.error;g("Error during font loading: "+e);this.commonObjs.resolve(b,e);break}else d=new ra(a);ja.bind([d],function(a){this.commonObjs.resolve(b,d)}.bind(this));break;case "FontPath":this.commonObjs.resolve(b,a[2]);break;default:e("Got unknown common object type "+c)}},this);a.on("obj",function(a){var b=a[0],c=a[2],e=this.pageCache[a[1]];if(!e.objs.hasData(b))switch(c){case "JpegStream":a=
a[3];p(b,a,e.objs);break;case "Image":a=a[3];e.objs.resolve(b,a);a&&"data"in a&&8E6<a.data.length&&(e.cleanupAfterRender=!0);break;default:d("Got unknown object type "+c)}},this);a.on("DocProgress",function(a){this.progressCallback&&this.progressCallback({loaded:a.loaded,total:a.total})},this);a.on("DocError",function(a){this.workerReadyCapability.reject(a)},this);a.on("PageError",function(a){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];b.displayReadyCapability.promise?b.displayReadyCapability.reject(a.error):
d(a.error)},this);a.on("JpegDecode",function(a){var b=a[0],c=a[1];return 3!=c&&1!=c?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){var e=new Image;e.onload=function(){var b=e.width,d=e.height,f=b*d,g=4*f,f=new Uint8Array(f*c),h=k(b,d).getContext("2d");h.drawImage(e,0,0);var h=h.getImageData(0,0,b,d).data,l,p;if(3==c)for(p=l=0;l<g;l+=4,p+=3)f[p]=h[l],f[p+1]=h[l+1],f[p+2]=h[l+2];else if(1==c)for(p=l=0;l<g;l+=4,p++)f[p]=h[l];a({data:f,width:b,height:d})};
e.onerror=function(){d(Error("JpegDecode failed to load image"))};e.src=b})})},fetchDocument:function(a){a.disableAutoFetch=PDFJS.disableAutoFetch;a.chunkedViewerLoading=!!this.pdfDataRangeTransport;this.messageHandler.send("GetDocRequest",{source:a,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,cMapUrl:PDFJS.cMapUrl,cMapPacked:PDFJS.cMapPacked,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(){return this.messageHandler.sendWithPromise("GetData",
null)},getPage:function(a,b){if(0>=a||a>this.numPages||(a|0)!==a)return Promise.reject(Error("Invalid page request"));var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];var d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){a=new W(c,a,this);return this.pageCache[c]=a}.bind(this));return this.pagePromises[c]=d},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})},getAnnotations:function(a){return this.messageHandler.sendWithPromise("GetAnnotations",
{pageIndex:a})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?
new PDFJS.Metadata(a[1]):null}})},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,b=this.pageCache.length;a<b;a++){var c=this.pageCache[a];c&&c.destroy()}this.commonObjs.clear();ja.clear()}.bind(this))}};return a}(),X=function(){function a(){this.objs={}}a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:t(),data:null,resolved:!1};return this.objs[a]=b},get:function(a,b){if(b)return this.ensureObj(a).capability.promise.then(b),
null;var c=this.objs[a];c&&c.resolved||d("Requesting object that isn't resolved yet "+a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=!0;c.data=b;c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:!1},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs={}}};return a}(),O=function(){function a(b){this.internalRenderTask=b;this.promise=
this.internalRenderTask.capability.promise}a.prototype={cancel:function(){this.internalRenderTask.cancel()},then:function(a,b){return this.promise.then(a,b)}};return a}(),Y=function(){function a(b,c,d,e,f,k){this.callback=b;this.params=c;this.objs=d;this.commonObjs=e;this.operatorListIdx=null;this.operatorList=f;this.pageNumber=k;this.running=!1;this.graphicsReadyCallback=null;this.cancelled=this.graphicsReady=!1;this.capability=t();this._continueBound=this._continue.bind(this);this._scheduleNextBound=
this._scheduleNext.bind(this);this._nextBound=this._next.bind(this)}a.prototype={initalizeGraphics:function(a){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in u&&u.StepperManager.enabled&&(this.stepper=u.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var b=this.params;this.gfx=new fa(b.canvasContext,this.commonObjs,this.objs,b.imageLayer);this.gfx.beginDrawing(b.viewport,a);this.operatorListIdx=0;this.graphicsReady=
!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1;this.cancelled=!0;this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0;this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._scheduleNextBound):
this._scheduleNext())},_scheduleNext:function(){window.requestAnimationFrame(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}};return a}();PDFJS.Metadata=function(){function a(b){return b.replace(/>\\376\\377([^<]+)/g,function(a,
b){for(var c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}),d="",e=0;e<c.length;e+=2)var f=256*c.charCodeAt(e)+c.charCodeAt(e+1),d=d+("&#x"+(65536+f).toString(16).substring(1)+";");return">"+d})}function b(c){"string"===typeof c?(c=a(c),c=(new DOMParser).parseFromString(c,"application/xml")):c instanceof Document||d("Metadata: Invalid metadata object");this.metaDocument=c;this.metadata={};this.parse()}b.prototype={parse:function(){var a=this.metaDocument.documentElement;
if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes()){var a=a.childNodes,c,d,e,f,k,g;e=0;for(k=a.length;e<k;e++)if(b=a[e],"rdf:description"===b.nodeName.toLowerCase())for(f=0,g=b.childNodes.length;f<g;f++)"#text"!==b.childNodes[f].nodeName.toLowerCase()&&(c=b.childNodes[f],d=c.nodeName.toLowerCase(),this.metadata[d]=c.textContent.trim())}},get:function(a){return this.metadata[a]||
null},has:function(a){return"undefined"!==typeof this.metadata[a]}};return b}();var T=function(){var a={};return{getCanvas:function(b,c,d,e){b in a?(b=a[b],b.canvas.width=c,b.canvas.height=d,b.context.setTransform(1,0,0,1,0,0)):(c=k(c,d),d=c.getContext("2d"),e&&v(d),a[b]=b={canvas:c,context:d});return b},clear:function(){a={}}}}(),Z=function(){function a(b){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=E;this.fontMatrix=x;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=
this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=this.textRenderingMode=0;this.strokeColor=this.fillColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.activeSMask=null;this.old=b}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),fa=function(){function a(b,c,d,e){this.ctx=b;this.current=new Z;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=c;this.objs=
d;this.imageLayer=e;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;b&&v(b)}function b(a,c){if("undefined"!==typeof ImageData&&c instanceof ImageData)a.putImageData(c,0,0);else{var e=c.height,f=c.width,k=e/16,g=Math.floor(k),k=Math.ceil(k),e=e-16*g,h=a.createImageData(f,16),l=0,p,m=c.data,q=h.data,r,s,v;if(1===c.kind){var u=m.byteLength,q=PDFJS.hasCanvasTypedArrays?new Uint32Array(q.buffer):
new I(q),z=q.length,t=f+7>>3,y=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255;for(r=0;r<k;r++){v=r<g?16:e;for(s=p=0;s<v;s++){for(var w=u-l,x=0,w=w>t?f:8*w-7,B=w&-8,F=0,C=0;x<B;x+=8)C=m[l++],q[p++]=C&128?4294967295:y,q[p++]=C&64?4294967295:y,q[p++]=C&32?4294967295:y,q[p++]=C&16?4294967295:y,q[p++]=C&8?4294967295:y,q[p++]=C&4?4294967295:y,q[p++]=C&2?4294967295:y,q[p++]=C&1?4294967295:y;for(;x<w;x++)0===F&&(C=m[l++],F=128),q[p++]=C&F?4294967295:y,F>>=1}for(;p<z;)q[p++]=0;a.putImageData(h,
0,16*r)}}else if(3===c.kind){s=0;v=64*f;for(r=0;r<g;r++)q.set(m.subarray(l,l+v)),l+=v,a.putImageData(h,0,s),s+=16;r<k&&(q.set(m.subarray(l,l+f*e*4)),a.putImageData(h,0,s))}else if(2===c.kind)for(v=16*f,r=0;r<k;r++){r>=g&&(v=e,v*=f);p=0;for(s=v;s--;)q[p++]=m[l++],q[p++]=m[l++],q[p++]=m[l++],q[p++]=255;a.putImageData(h,0,16*r)}else d("bad image kind: "+c.kind)}}function c(a,b){for(var d=b.height,e=b.width,f=d/16,k=Math.floor(f),f=Math.ceil(f),d=d-16*k,g=a.createImageData(e,16),h=0,l=b.data,p=g.data,
m=0;m<f;m++){for(var q=m<k?16:d,r=3,s=0;s<q;s++)for(var v=0,u=0;u<e;u++){if(!v)var z=l[h++],v=128;p[r]=z&v?0:255;r+=4;v>>=1}a.putImageData(g,0,16*m)}}function e(a,b){for(var c="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,f=c.length;d<f;d++){var k=c[d];k in a&&(b[k]=a[k])}"setLineDash"in a?(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset):"mozDash"in a&&(b.mozDash=a.mozDash,b.mozDashOffset=a.mozDashOffset)}
function f(a,b,c,d,e,k){k=k?function(a,b,c,d){for(var e=d.length,f=3;f<e;f+=4){var k=d[f]/255;if(0===k)d[f-3]=a,d[f-2]=b,d[f-1]=c;else if(1>k){var g=1-k;d[f-3]=d[f-3]*k+a*g|0;d[f-2]=d[f-2]*k+b*g|0;d[f-1]=d[f-1]*k+c*g|0}}}.bind(null,k[0],k[1],k[2]):function(){};e="Luminosity"===e?function(a,b){for(var c=a.length,d=3;d<c;d+=4)b[d]=b[d]*(77*a[d-3]+152*a[d-2]+28*a[d-1]|0)>>16}:function(a,b){for(var c=a.length,d=3;d<c;d+=4)b[d]=b[d]*a[d]/255|0};for(var g=Math.min(d,Math.ceil(65536/c)),h=0;h<d;h+=g){var l=
Math.min(g,d-h),p=a.getImageData(0,h,c,l),l=b.getImageData(0,h,c,l);k(p.data);e(p.data,l.data);a.putImageData(l,0,h)}}var k=["butt","round","square"],l=["miter","round","bevel"],p={},m={};a.prototype={beginDrawing:function(a,b){var c=this.ctx.canvas.width,d=this.ctx.canvas.height;b?this.ctx.clearRect(0,0,c,d):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,c,d),this.ctx.restore());c=a.transform;this.ctx.save();this.ctx.transform.apply(this.ctx,
c);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var e=a.argsArray;a=a.fnArray;b=b||0;var f=e.length;if(f==b)return b;for(var k=Date.now()+15,g=this.commonObjs,h=this.objs,l;;){if(d&&b===d.nextBreakPoint)return d.breakIt(b,c),b;l=a[b];if(l!==y.dependency)this[l].apply(this,e[b]);else{l=e[b];for(var p=0,m=l.length;p<m;p++){var q=l[p],r="g_"==q.substring(0,2);if(!r&&!h.isResolved(q))return h.get(q,c),b;if(r&&
!g.isResolved(q))return g.get(q,c),b}}b++;if(b==f)return b;if(c&&Date.now()>k)return c(),b}},endDrawing:function(){this.ctx.restore();T.clear();da.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=k[a]},setLineJoin:function(a){this.ctx.lineJoin=l[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;"setLineDash"in c?(c.setLineDash(a),c.lineDashOffset=
b):(c.mozDash=a,c.mozDashOffset=b)},setRenderingIntent:function(a){},setFlatness:function(a){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);break;case "Font":this.setFont(e[0],e[1]);break;case "CA":this.current.strokeAlpha=
d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":e&&e.name&&"Normal"!==e.name?(d=e.name.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).substring(1),this.ctx.globalCompositeOperation=d,this.ctx.globalCompositeOperation!==d&&g('globalCompositeOperation "'+d+'" is not supported')):this.ctx.globalCompositeOperation="source-over";break;case "SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=e?this.tempSMask:null,this.current.activeSMask&&
this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=T.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),c=this.ctx,d=c.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,d);e(c,b);this.ctx=b;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;
var b=this.ctx=this.groupStack.pop(),c=this.current.activeSMask,d=c.canvas,e=c.context;b.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var k=c.backdrop||null;da.isEnabled?(a=da.composeSMask(a.canvas,d,{subtype:c.subtype,backdrop:k}),b.setTransform(1,0,0,1,0,0),b.drawImage(a,c.offsetX,c.offsetY)):(f(e,a,d.width,d.height,c.subtype,k),b.drawImage(d,0,0));this.ctx.restore()},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.activeSMask&&
(this.current.activeSMask=null)},restore:function(){var a=this.stateStack.pop();a&&(this.current.activeSMask&&this.endSMaskGroup(),this.current=a,this.ctx.restore())},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f)},constructPath:function(a,b){for(var c=this.ctx,d=this.current,e=d.x,f=d.y,k=0,g=0,h=a.length;k<h;k++)switch(a[k]|0){case y.moveTo:e=b[g++];f=b[g++];c.moveTo(e,f);break;case y.lineTo:e=b[g++];f=b[g++];c.lineTo(e,f);break;case y.curveTo:e=b[g+4];f=b[g+5];c.bezierCurveTo(b[g],
b[g+1],b[g+2],b[g+3],e,f);g+=6;break;case y.curveTo2:c.bezierCurveTo(e,f,b[g],b[g+1],b[g+2],b[g+3]);e=b[g+2];f=b[g+3];g+=4;break;case y.curveTo3:e=b[g+2];f=b[g+3];c.bezierCurveTo(b[g],b[g+1],e,f,e,f);g+=4;break;case y.closePath:c.closePath()}d.setCurrentPoint(e,f)},closePath:function(){this.ctx.closePath()},rectangle:function(a,b,c,d){0===c&&(c=this.getSinglePixelWidth());0===d&&(d=this.getSinglePixelWidth());this.ctx.rect(a,b,c,d)},stroke:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,
c=this.current.strokeColor;0===this.current.lineWidth&&(b.lineWidth=this.getSinglePixelWidth());b.globalAlpha=this.current.strokeAlpha;c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,c=this.current.fillColor,d=!1;c&&c.hasOwnProperty("type")&&"Pattern"===
c.type&&(b.save(),b.fillStyle=c.getPattern(b,this),d=!0);if(this.pendingEOFill){if(void 0!==b.mozFillRule)b.mozFillRule="evenodd",b.fill(),b.mozFillRule="nonzero";else try{b.fill("evenodd")}catch(e){b.fill()}this.pendingEOFill=!1}else b.fill();d&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();
this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=p},eoClip:function(){this.pendingClip=m},beginText:function(){this.current.textMatrix=E;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)b.beginPath();else{b.save();b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,
d.transform);b.translate(d.x,d.y);d.addToPath(b,d.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),e=this.current;c||d("Can't find font for "+a);e.fontMatrix=c.fontMatrix?c.fontMatrix:x;0!==e.fontMatrix[0]&&0!==e.fontMatrix[3]||
g("Invalid font matrix for font "+a);0>b?(b=-b,e.fontDirection=-1):e.fontDirection=1;this.current.font=c;this.current.fontSize=b;if(!c.isType3Font){var e=c.black?c.bold?"bolder":"bold":c.bold?"bold":"normal",f=c.italic?"italic":"normal",c='"'+(c.loadedName||"sans-serif")+'", '+c.fallbackName,k=16<=b?b:16;this.current.fontSizeScale=16!=k?1:b/16;this.ctx.font=f+" "+e+" "+k+"px "+c}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,
b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var a=this.ctx,b=this.current;a.transform.apply(a,b.textMatrix);a.translate(b.x,b.y+b.textRise);0<b.fontDirection?
a.scale(b.textHScale,-1):a.scale(-b.textHScale,1)},paintChar:function(a,b,c){var d=this.ctx,e=this.current,f=e.font,k=e.fontSize/e.fontSizeScale,g=e.textRenderingMode,e=g&3,g=!!(g&4),h;if(f.disableFontFace||g)h=f.getPathGenerator(this.commonObjs,a);f.disableFontFace?(d.save(),d.translate(b,c),d.beginPath(),h(d,k),0!==e&&2!==e||d.fill(),1!==e&&2!==e||d.stroke(),d.restore()):(0!==e&&2!==e||d.fillText(a,b,c),1!==e&&2!==e||d.strokeText(a,b,c));g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,
x:b,y:c,fontSize:k,addToPath:h})},get isFontSubpixelAAEnabled(){var a=document.createElement("canvas").getContext("2d");a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,b=!1,c=3;c<a.length;c+=4)if(0<a[c]&&255>a[c]){b=!0;break}return h(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.ctx,c=this.current,d=c.font,e=c.fontSize,f=c.fontSizeScale,k=c.charSpacing,g=c.wordSpacing,h=c.textHScale*c.fontDirection,l=c.fontMatrix||x,p=a.length,m=d.vertical,q=d.defaultVMetrics,
r,s,v;if(0!==e)if(d.isType3Font){b.save();b.transform.apply(b,c.textMatrix);b.translate(c.x,c.y);b.scale(h,1);for(r=0;r<p;++r)s=a[r],null===s?(this.ctx.translate(g,0),c.x+=g*h):(this.processingType3=s,this.save(),b.scale(e,e),b.transform.apply(b,l),this.executeOperatorList(d.charProcOperatorList[s.operatorListId]),this.restore(),v=(D.applyTransform([s.width,0],l)[0]*e+k)*c.fontDirection,b.translate(v,0),c.x+=v*h);b.restore();this.processingType3=null}else{b.save();this.applyTextTransforms();r=c.lineWidth;
var l=c.textMatrix[0],u=c.textMatrix[1],l=Math.sqrt(l*l+u*u);r=0===l||0===r?this.getSinglePixelWidth():r/l;1!=f&&(b.scale(f,f),r/=f);b.lineWidth=r;for(r=l=0;r<p;++r)if(s=a[r],null===s)l+=c.fontDirection*g;else{var u=!1,z=s.fontChar,t=s.vmetric||q;if(m)var y=s.vmetric?t[1]:.5*s.width,y=-y*e*c.fontMatrix[0],w=t[2]*e*c.fontMatrix[0];v=t?-t[0]:s.width;t=v*e*c.fontMatrix[0]+k*c.fontDirection;s=s.accent;var B,F,C;m?(B=y/f,F=(l+w)/f):(B=l/f,F=0);d.remeasure&&0<v&&this.isFontSubpixelAAEnabled&&(u=1E3*b.measureText(z).width/
c.fontSize*c.fontSizeScale,v/=u,u=!0,b.save(),b.scale(v,1),B/=v,s&&(C/=v));this.paintChar(z,B,F);s&&(C=B+s.offset.x/f,z=F-s.offset.y/f,this.paintChar(s.fontChar,C,z));l+=t;u&&b.restore()}m?c.y-=l*h:c.x+=l*h;b.restore()}},showSpacedText:function(a){for(var b=this.current,c=b.fontSize,d=.001*b.textHScale*b.fontDirection,e=a.length,f=b.font.vertical,k=0;k<e;++k){var g=a[k];"number"==typeof g?(g=-g*c*d,f?b.y+=g:b.x+=g):this.showText(g)}},nextLineShowText:function(a){this.nextLine();this.showText(a)},
nextLineSetSpacingShowText:function(a,b,c){this.setWordSpacing(a);this.setCharSpacing(b);this.nextLineShowText(c)},setCharWidth:function(a,b){},setCharWidthAndBounds:function(a,b,c,d,e,f){this.rectangle(c,d,e-c,f-d);this.clip();this.endPath()},getColorN_Pattern:function(a){return"TilingPattern"==a[0]?new na(a,a[1],this.ctx,this.objs,this.commonObjs,this.baseTransform):s(a)},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=
this.getColorN_Pattern(arguments)},setStrokeRGBColor:function(a,b,c){var d=D.makeCssRgb(arguments);this.ctx.strokeStyle=d;this.current.strokeColor=d},setFillRGBColor:function(a,b,c){var d=D.makeCssRgb(arguments);this.ctx.fillStyle=d;this.current.fillColor=d},shadingFill:function(a){var b=this.ctx;this.save();a=s(a);b.fillStyle=a.getPattern(b,this,!0);var c=b.mozCurrentTransformInverse;if(c){var b=b.canvas,d=b.width,e=b.height,b=D.applyTransform([0,0],c);a=D.applyTransform([0,e],c);var f=D.applyTransform([d,
0],c),k=D.applyTransform([d,e],c),c=Math.min(b[0],a[0],f[0],k[0]),d=Math.min(b[1],a[1],f[1],k[1]),e=Math.max(b[0],a[0],f[0],k[0]),b=Math.max(b[1],a[1],f[1],k[1]);this.ctx.fillRect(c,d,e-c,b-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){d("Should not call beginInlineImage")},beginImageData:function(){d("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){this.save();this.baseTransformStack.push(this.baseTransform);a&&A(a)&&6==a.length&&
this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;b&&A(b)&&4==b.length&&(this.rectangle(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||r("TODO: Support non-isolated groups.");a.knockout&&g("Knockout groups not supported.");var c=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);a.bbox||d("Bounding box is required.");
var f=D.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),f=D.intersect(f,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0],k=Math.floor(f[0]),h=Math.floor(f[1]),l=Math.max(Math.ceil(f[2])-k,1),p=Math.max(Math.ceil(f[3])-h,1),m=f=1;4096<l&&(f=l/4096,l=4096);4096<p&&(m=p/4096,p=4096);var q="groupAt"+this.groupLevel;a.smask&&(q+="_smask_"+this.smaskCounter++%2);l=T.getCanvas(q,l,p,!0);p=l.context;p.scale(1/f,1/m);p.translate(-k,-h);p.transform.apply(p,c);a.smask?this.smaskStack.push({canvas:l.canvas,
context:p,offsetX:k,offsetY:h,scaleX:f,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop}):(b.setTransform(1,0,0,1,0,0),b.translate(k,h),b.scale(f,m));e(b,p);this.ctx=p;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():
this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.current=new Z},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){this.save();a&&A(a)&&4==a.length&&(this.rectangle(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(d){this.save();var e=this.ctx;e.scale(1/b,-1/c);e.drawImage(d,
0,0,d.width,d.height,0,-c,b,c);this.imageLayer&&(d=e.mozCurrentTransformInverse,e=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:e[0],top:e[1],width:b/d[0],height:c/d[3]}));this.restore()}else g("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,d=a.width,e=a.height,f=this.processingType3;!f||"compiled"in f||(f.compiled=1E3>=d&&1E3>=e?z({data:a.data,width:d,height:e}):null);f&&f.compiled?f.compiled(b):(b=T.getCanvas("maskCanvas",d,e),f=b.context,
f.save(),c(f,a),f.globalCompositeOperation="source-in",a=this.current.fillColor,f.fillStyle=a&&a.hasOwnProperty("type")&&"Pattern"===a.type?a.getPattern(f,this):a,f.fillRect(0,0,d,e),f.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,d,e){var f=a.width,k=a.height,g=this.ctx,h=T.getCanvas("maskCanvas",f,k),l=h.context;l.save();c(l,a);l.globalCompositeOperation="source-in";a=this.current.fillColor;l.fillStyle=a&&a.hasOwnProperty("type")&&"Pattern"===a.type?
a.getPattern(l,this):a;l.fillRect(0,0,f,k);l.restore();l=0;for(a=e.length;l<a;l+=2)g.save(),g.transform(b,0,0,d,e[l],e[l+1]),g.scale(1,-1),g.drawImage(h.canvas,0,0,f,k,0,-1,1,1),g.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,d=0,e=a.length;d<e;d++){var f=a[d],k=f.width,g=f.height,h=T.getCanvas("maskCanvas",k,g),l=h.context;l.save();c(l,f);l.globalCompositeOperation="source-in";var p=this.current.fillColor;l.fillStyle=p&&p.hasOwnProperty("type")&&"Pattern"===p.type?p.getPattern(l,
this):p;l.fillRect(0,0,k,g);l.restore();b.save();b.transform.apply(b,f.transform);b.scale(1,-1);b.drawImage(h.canvas,0,0,k,g,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):g("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){if(a=this.objs.get(a)){for(var e=a.width,f=a.height,k=[],h=0,l=d.length;h<l;h+=2)k.push({transform:[b,0,0,c,d[h],d[h+1]],x:0,y:0,w:e,h:f});this.paintInlineImageXObjectGroup(a,k)}else g("Dependent image isn't ready yet")},
paintInlineImageXObject:function(a){var c=a.width,d=a.height,e=this.ctx;this.save();e.scale(1/c,-1/d);var f=e.mozCurrentTransformInverse,k=f[0],g=f[1],k=Math.max(Math.sqrt(k*k+g*g),1),g=f[2],h=f[3],g=Math.max(Math.sqrt(g*g+h*h),1),l;if(a instanceof HTMLElement||!a.data)h=a;else{l=T.getCanvas("inlineImage",c,d);var p=l.context;b(p,a);h=l.canvas}for(var m=c,q=d,r="prescale1";2<k&&1<m||2<g&&1<q;){var s=m,v=q;2<k&&1<m&&(s=Math.ceil(m/2),k/=m/s);2<g&&1<q&&(v=Math.ceil(q/2),g/=q/v);l=T.getCanvas(r,s,v);
p=l.context;p.clearRect(0,0,s,v);p.drawImage(h,0,0,m,q,0,0,s,v);h=l.canvas;m=s;q=v;r="prescale1"===r?"prescale2":"prescale1"}e.drawImage(h,0,0,m,q,0,-d,c,d);this.imageLayer&&(e=this.getCanvasPosition(0,-d),this.imageLayer.appendImage({imgData:a,left:e[0],top:e[1],width:c/f[0],height:d/f[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,c){var d=this.ctx,e=a.width,f=a.height,k=T.getCanvas("inlineImage",e,f);b(k.context,a);for(var g=0,h=c.length;g<h;g++){var l=c[g];d.save();d.transform.apply(d,
l.transform);d.scale(1,-1);d.drawImage(k.canvas,l.x,l.y,l.w,l.h,0,-1,1,1);this.imageLayer&&(l=this.getCanvasPosition(l.x,l.y),this.imageLayer.appendImage({imgData:a,left:l[0],top:l[1],width:e,height:f}));d.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=
this.ctx;if(this.pendingClip){if(this.pendingClip==m)if(void 0!==a.mozFillRule)a.mozFillRule="evenodd",a.clip(),a.mozFillRule="nonzero";else try{a.clip("evenodd")}catch(b){a.clip()}else a.clip();this.pendingClip=null}a.beginPath()},getSinglePixelWidth:function(a){a=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var q in y)a.prototype[y[q]]=
a.prototype[q];return a}(),da=function(){function a(b,c,d){d=b.createShader(d);b.shaderSource(d,c);b.compileShader(d);if(!b.getShaderParameter(d,b.COMPILE_STATUS))throw b=b.getShaderInfoLog(d),Error("Error during shader compilation: "+b);return d}function b(a,c){for(var d=a.createProgram(),e=0,f=c.length;e<f;++e)a.attachShader(d,c[e]);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))throw d=a.getProgramInfoLog(d),Error("Error during program linking: "+d);return d}function c(a,b,d){a.activeTexture(d);
d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return d}function d(){e||(f=document.createElement("canvas"),e=f.getContext("webgl",{premultipliedalpha:!1}))}var e,f,k=null,g=null;return{get isEnabled(){if(PDFJS.disableWebGL)return!1;
var a=!1;try{d(),a=!!e}catch(b){}return h(this,"isEnabled",a)},composeSMask:function(g,h,l){var p=g.width,m=g.height;if(!k){var q,r;d();q=f;f=null;r=e;e=null;var s=a(r,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
r.VERTEX_SHADER),v=a(r,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
r.FRAGMENT_SHADER),u=b(r,[s,v]);r.useProgram(u);s={};s.gl=r;s.canvas=q;s.resolutionLocation=r.getUniformLocation(u,"u_resolution");s.positionLocation=r.getAttribLocation(u,"a_position");s.backdropLocation=r.getUniformLocation(u,"u_backdrop");s.subtypeLocation=r.getUniformLocation(u,"u_subtype");q=r.getAttribLocation(u,"a_texCoord");var v=r.getUniformLocation(u,"u_image"),u=r.getUniformLocation(u,"u_mask"),z=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,z);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW);r.enableVertexAttribArray(q);r.vertexAttribPointer(q,2,r.FLOAT,!1,0,0);r.uniform1i(v,0);r.uniform1i(u,1);k=s}r=k;s=r.canvas;q=r.gl;s.width=p;s.height=m;q.viewport(0,0,q.drawingBufferWidth,q.drawingBufferHeight);q.uniform2f(r.resolutionLocation,p,m);l.backdrop?q.uniform4f(r.resolutionLocation,l.backdrop[0],l.backdrop[1],l.backdrop[2],1):q.uniform4f(r.resolutionLocation,0,0,0,0);q.uniform1i(r.subtypeLocation,"Luminosity"===l.subtype?1:0);g=c(q,g,q.TEXTURE0);h=
c(q,h,q.TEXTURE1);l=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,l);q.bufferData(q.ARRAY_BUFFER,new Float32Array([0,0,p,0,0,m,0,m,p,0,p,m]),q.STATIC_DRAW);q.enableVertexAttribArray(r.positionLocation);q.vertexAttribPointer(r.positionLocation,2,q.FLOAT,!1,0,0);q.clearColor(0,0,0,0);q.enable(q.BLEND);q.blendFunc(q.ONE,q.ONE_MINUS_SRC_ALPHA);q.clear(q.COLOR_BUFFER_BIT);q.drawArrays(q.TRIANGLES,0,6);q.flush();q.deleteTexture(g);q.deleteTexture(h);q.deleteBuffer(l);return s},drawFigures:function(c,k,h,
l,p){if(!g){var m,q;d();m=f;f=null;q=e;e=null;var r=a(q,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
q.VERTEX_SHADER),s=a(q,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",q.FRAGMENT_SHADER),r=b(q,[r,
s]);q.useProgram(r);s={};s.gl=q;s.canvas=m;s.resolutionLocation=q.getUniformLocation(r,"u_resolution");s.scaleLocation=q.getUniformLocation(r,"u_scale");s.offsetLocation=q.getUniformLocation(r,"u_offset");s.positionLocation=q.getAttribLocation(r,"a_position");s.colorLocation=q.getAttribLocation(r,"a_color");g=s}m=g;q=m.canvas;r=m.gl;q.width=c;q.height=k;r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight);r.uniform2f(m.resolutionLocation,c,k);c=0;var v,u,z;v=0;for(u=l.length;v<u;v++)switch(l[v].type){case "lattice":z=
l[v].coords.length/l[v].verticesPerRow|0;c+=(z-1)*(l[v].verticesPerRow-1)*6;break;case "triangles":c+=l[v].coords.length}s=new Float32Array(2*c);k=new Uint8Array(3*c);var t=p.coords,y=p.colors,w=0,x=0;v=0;for(u=l.length;v<u;v++){z=l[v];var B=z.coords,F=z.colors;switch(z.type){case "lattice":var C=z.verticesPerRow;z=B.length/C|0;for(var A=1;A<z;A++)for(var H=A*C+1,D=1;D<C;D++,H++)s[w]=t[B[H-C-1]],s[w+1]=t[B[H-C-1]+1],s[w+2]=t[B[H-C]],s[w+3]=t[B[H-C]+1],s[w+4]=t[B[H-1]],s[w+5]=t[B[H-1]+1],k[x]=y[F[H-
C-1]],k[x+1]=y[F[H-C-1]+1],k[x+2]=y[F[H-C-1]+2],k[x+3]=y[F[H-C]],k[x+4]=y[F[H-C]+1],k[x+5]=y[F[H-C]+2],k[x+6]=y[F[H-1]],k[x+7]=y[F[H-1]+1],k[x+8]=y[F[H-1]+2],s[w+6]=s[w+2],s[w+7]=s[w+3],s[w+8]=s[w+4],s[w+9]=s[w+5],s[w+10]=t[B[H]],s[w+11]=t[B[H]+1],k[x+9]=k[x+3],k[x+10]=k[x+4],k[x+11]=k[x+5],k[x+12]=k[x+6],k[x+13]=k[x+7],k[x+14]=k[x+8],k[x+15]=y[F[H]],k[x+16]=y[F[H]+1],k[x+17]=y[F[H]+2],w+=12,x+=18;break;case "triangles":for(z=0,C=B.length;z<C;z++)s[w]=t[B[z]],s[w+1]=t[B[z]+1],k[x]=y[F[v]],k[x+1]=
y[F[z]+1],k[x+2]=y[F[z]+2],w+=2,x+=3}}h?r.clearColor(h[0]/255,h[1]/255,h[2]/255,1):r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT);h=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,h);r.bufferData(r.ARRAY_BUFFER,s,r.STATIC_DRAW);r.enableVertexAttribArray(m.positionLocation);r.vertexAttribPointer(m.positionLocation,2,r.FLOAT,!1,0,0);l=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,l);r.bufferData(r.ARRAY_BUFFER,k,r.STATIC_DRAW);r.enableVertexAttribArray(m.colorLocation);r.vertexAttribPointer(m.colorLocation,
3,r.UNSIGNED_BYTE,!1,0,0);r.uniform2f(m.scaleLocation,p.scaleX,p.scaleY);r.uniform2f(m.offsetLocation,p.offsetX,p.offsetY);r.drawArrays(r.TRIANGLES,0,c);r.flush();r.deleteBuffer(h);r.deleteBuffer(l);return q},clear:function(){g=k=null}}}(),$={RadialAxial:{fromIR:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],f=a[5],k=a[6];return{type:"Pattern",getPattern:function(a){var g;"axial"===b?g=a.createLinearGradient(d[0],d[1],e[0],e[1]):"radial"===b&&(g=a.createRadialGradient(d[0],d[1],f,e[0],e[1],k));a=0;for(var h=
c.length;a<h;++a){var l=c[a];g.addColorStop(l[0],l[1])}return g}}}}},ha=function(){function a(b,c,d,e,f,k,g,h){var l=c.coords,p=c.colors,m=b.data;b=4*b.width;var q;l[d+1]>l[e+1]&&(q=d,d=e,e=q,q=k,k=g,g=q);l[e+1]>l[f+1]&&(q=e,e=f,f=q,q=g,g=h,h=q);l[d+1]>l[e+1]&&(q=d,d=e,e=q,q=k,k=g,g=q);q=(l[d]+c.offsetX)*c.scaleX;d=(l[d+1]+c.offsetY)*c.scaleY;var r=(l[e]+c.offsetX)*c.scaleX;e=(l[e+1]+c.offsetY)*c.scaleY;var s=(l[f]+c.offsetX)*c.scaleX;c=(l[f+1]+c.offsetY)*c.scaleY;if(!(d>=c)){f=p[k];l=p[k+1];k=p[k+
2];var v=p[g],u=p[g+1];g=p[g+2];var z=p[h],t=p[h+1];h=p[h+2];for(var y=Math.round(d),p=Math.round(c),w,x,B,F,C,A,H,D,K=y;K<=p;K++){K<e?(D=K<d?0:d===e?1:(d-K)/(d-e),y=q-(q-r)*D,w=f-(f-v)*D,x=l-(l-u)*D,B=k-(k-g)*D):(D=K>c?1:e===c?0:(e-K)/(e-c),y=r-(r-s)*D,w=v-(v-z)*D,x=u-(u-t)*D,B=g-(g-h)*D);D=K<d?0:K>c?1:(d-K)/(d-c);F=q-(q-s)*D;C=f-(f-z)*D;A=l-(l-t)*D;H=k-(k-h)*D;D=Math.round(Math.min(y,F));for(var E=Math.round(Math.max(y,F)),G=b*K+4*D,I=D;I<=E;I++)D=(y-I)/(y-F),D=0>D?0:1<D?1:D,m[G++]=w-(w-C)*D|0,
m[G++]=x-(x-A)*D|0,m[G++]=B-(B-H)*D|0,m[G++]=255}}}return function(b,c,e,f,k,g){var h=Math.floor(b[0]),l=Math.floor(b[1]),p=Math.ceil(b[2])-h;b=Math.ceil(b[3])-l;var m=Math.min(Math.ceil(Math.abs(p*c[0]*1.1)),3E3),q=Math.min(Math.ceil(Math.abs(b*c[1]*1.1)),3E3),p=p/m;b/=q;f={coords:e,colors:f,offsetX:-h,offsetY:-l,scaleX:1/p,scaleY:1/b};var r;if(da.isEnabled)k=da.drawFigures(m,q,g,k,f),e=T.getCanvas("mesh",m,q,!1),e.context.drawImage(k,0,0);else{e=T.getCanvas("mesh",m,q,!1);c=e.context;q=c.createImageData(m,
q);if(g){var s=q.data,m=0;for(r=s.length;m<r;m+=4)s[m]=g[0],s[m+1]=g[1],s[m+2]=g[2],s[m+3]=255}for(m=0;m<k.length;m++){g=q;var v=k[m];r=f;var s=v.coords,u=v.colors,z=void 0,t=void 0;switch(v.type){case "lattice":for(var v=v.verticesPerRow,t=Math.floor(s.length/v)-1,y=v-1,z=0;z<t;z++)for(var w=z*v,x=0;x<y;x++,w++)a(g,r,s[w],s[w+1],s[w+v],u[w],u[w+1],u[w+v]),a(g,r,s[w+v+1],s[w+1],s[w+v],u[w+v+1],u[w+1],u[w+v]);break;case "triangles":z=0;for(t=s.length;z<t;z+=3)a(g,r,s[z],s[z+1],s[z+2],u[z],u[z+1],u[z+
2]);break;default:d("illigal figure")}}c.putImageData(q,0,0)}k=e.canvas;return{canvas:k,offsetX:h,offsetY:l,scaleX:p,scaleY:b}}}();$.Mesh={fromIR:function(a){var b=a[2],c=a[3],d=a[4],e=a[5],f=a[6],k=a[8];return{type:"Pattern",getPattern:function(a,g,h){var l;if(h)l=D.singularValueDecompose2dScale(a.mozCurrentTransform);else{l=D.singularValueDecompose2dScale(f);var p=D.singularValueDecompose2dScale(g.baseTransform);l=[l[0]*p[0],l[1]*p[1]]}l=ha(e,l,b,c,d,h?null:k);h||(a.setTransform.apply(a,g.baseTransform),
f&&a.transform.apply(a,f));a.translate(l.offsetX,l.offsetY);a.scale(l.scaleX,l.scaleY);return a.createPattern(l.canvas,"no-repeat")}}}};$.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var na=function(){function a(b,c,d,e,f,k){this.operatorList=b[2];this.matrix=b[3]||[1,0,0,1,0,0];this.bbox=b[4];this.xstep=b[5];this.ystep=b[6];this.paintType=b[7];this.tilingType=b[8];this.color=c;this.objs=e;this.commonObjs=f;this.baseTransform=k;this.type="Pattern";this.ctx=
d}a.prototype={createPatternCanvas:function(a){var b=this.operatorList,c=this.bbox,d=this.xstep,e=this.ystep,f=this.paintType,k=this.color,g=this.objs,h=this.commonObjs;r("TilingType: "+this.tilingType);var l=c[0],p=c[1],m=c[2],q=c[3],s=[l,p],v=[l+d,p+e],u=v[0]-s[0],v=v[1]-s[1],z=D.singularValueDecompose2dScale(this.matrix),t=D.singularValueDecompose2dScale(this.baseTransform),z=[z[0]*t[0],z[1]*t[1]],u=Math.min(Math.ceil(Math.abs(u*z[0])),3E3),v=Math.min(Math.ceil(Math.abs(v*z[1])),3E3),z=T.getCanvas("pattern",
u,v,!0),t=z.context,g=new fa(t,h,g);g.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(t,f,k);this.setScale(u,v,d,e);this.transformToScale(g);g.transform.apply(g,[1,0,0,1,-s[0],-s[1]]);this.clipBbox(g,c,l,p,m,q);g.executeOperatorList(b);return z.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,d,
e,f){b&&A(b)&&4==b.length&&(a.rectangle(c,d,e-c,f-d),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,c){switch(b){case 1:b=this.ctx;a.fillStyle=b.fillStyle;a.strokeStyle=b.strokeStyle;break;case 2:b=D.makeCssRgb(c);a.fillStyle=b;a.strokeStyle=b;break;default:d("Unsupported paint type: "+b)}},getPattern:function(a,b){var c=this.createPatternCanvas(b);a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(c,
"repeat")}};return a}();PDFJS.disableFontFace=!1;var ja={insertRule:function(a){var b=document.getElementById("PDFJS_FONT_STYLE_TAG");b||(b=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(b));b=b.sheet;b.insertRule(a,b.cssRules.length)},clear:function(){var a=document.getElementById("PDFJS_FONT_STYLE_TAG");a&&a.parentNode.removeChild(a)},get loadTestFont(){return h(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(w)return!1;var a=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(window.navigator.userAgent);return a&&14<=a[1]?!0:!1}(),bind:function(a,b){w&&d("bind() shall be called from main thread");for(var c=[],e=[],f=0,k=a.length;f<k;f++){var g=a[f];if(!g.attached&&!1!==g.loading){g.attached=!0;var h=g.bindDOM();h&&(c.push(h),e.push(g))}}f=ja.queueLoadingCallback(b);0<c.length&&!this.isSyncFontLoadingSupported?ja.prepareFontLoadEvent(c,
e,f):f.complete()},queueLoadingCallback:function(a){var b=ja.loadingContext,c={id:"pdfjs-font-loading-"+b.nextRequestId++,complete:function(){c.end&&d("completeRequest() cannot be called twice");for(c.end=Date.now();0<b.requests.length&&b.requests[0].end;){var a=b.requests.shift();setTimeout(a.callback,0)}},callback:a,started:Date.now()};b.requests.push(c);return c},prepareFontLoadEvent:function(a,b,c){function d(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+
3)&255}function e(a,b,c,d){var f=a.substr(0,b);a=a.substr(b+c);return f+d+a}function f(a,b){p++;30<p?(g("Load test font never loaded."),b()):(l.font="30px "+a,l.fillText(".",0,20),0<l.getImageData(0,0,1,1).data[3]?b():setTimeout(f.bind(null,a,b)))}var k,h;a=document.createElement("canvas");a.width=1;a.height=1;var l=a.getContext("2d"),p=0;a="lt"+Date.now()+this.loadTestFontId++;var m=this.loadTestFont,m=e(m,976,a.length,a),q=d(m,16);k=0;for(h=a.length-3;k<h;k+=4)q=q-1482184792+d(a,k)|0;k<a.length&&
(q=q-1482184792+d(a+"XXX",k)|0);m=e(m,16,4,String.fromCharCode(q>>24&255,q>>16&255,q>>8&255,q&255));k="url(data:font/opentype;base64,"+btoa(m)+");";ja.insertRule('@font-face { font-family:"'+a+'";src:'+k+"}");m=[];k=0;for(h=b.length;k<h;k++)m.push(b[k].loadedName);m.push(a);var r=document.createElement("div");r.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");k=0;for(h=m.length;k<h;++k)b=document.createElement("span"),b.textContent="Hi",
b.style.fontFamily=m[k],r.appendChild(b);document.body.appendChild(r);f(a,function(){document.body.removeChild(r);c.complete()})}},ra=function(){function a(b,c,d){this.compiledGlyphs={};if(1===arguments.length){var e=arguments[0],f;for(f in e)this[f]=e[f]}}a.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var a,b=new Uint8Array(this.data);a=b.length;if(8192>a)a=String.fromCharCode.apply(null,b);else{for(var c=[],d=0;d<a;d+=8192){var e=
Math.min(d+8192,a),e=b.subarray(d,e);c.push(String.fromCharCode.apply(null,e))}a=c.join("")}b=this.loadedName;a="url(data:"+this.mimetype+";base64,"+window.btoa(a)+");";b='@font-face { font-family:"'+b+'";src:'+a+"}";ja.insertRule(b);PDFJS.pdfBug&&"FontInspector"in u&&u.FontInspector.enabled&&u.FontInspector.fontAdded(this,a);return b},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var c=a.get(this.loadedName+"_path_"+b);this.compiledGlyphs[b]=new Function("c","size",c)}return this.compiledGlyphs[b]}};
return a}()}).call("undefined"===typeof window?this:window);PDFJS.workerSrc||"undefined"===typeof document||(PDFJS.workerSrc=function(){var r=(document.body||document.getElementsByTagName("head")[0]).lastChild.src;return r&&r.replace(/\.js$/i,".worker.js")}());
!function(r,g){g["true"]=r;var d=function(b){function a(a){var c={};this.subscribe=function(a,b,d){if("function"!=typeof b)return!1;c.hasOwnProperty(a)||(c[a]={});var f=Math.random().toString(35);return c[a][f]=[b,!!d],f};this.unsubscribe=function(a){for(var b in c)if(c[b][a])return delete c[b][a],!0;return!1};this.publish=function(d){if(c.hasOwnProperty(d)){var k=Array.prototype.slice.call(arguments,1),g=[],h;for(h in c[d]){var l=c[d][h];try{l[0].apply(a,k)}catch(m){b.console&&console.error("jsPDF PubSub Error",
m.message,m)}l[1]&&g.push(h)}g.length&&g.forEach(this.unsubscribe)}}}function c(h,e,p,k){var r={};"object"==typeof h&&(r=h,h=r.orientation,e=r.unit||e,p=r.format||p,k=r.compress||r.compressPdf||k);e=e||"mm";p=p||"a4";h=(""+(h||"P")).toLowerCase();var z,s,u,w,x,y=(""+p).toLowerCase(),F=!!k&&"function"==typeof Uint8Array,B=r.textColor||"0 g",C=r.drawColor||"0 G",G=r.fontSize||16,I=r.lineHeight||1.15,E=r.lineWidth||.200025,D=2,H=!1,P=[],K={},J={},N=0,S=[],Q=[],L=0,V=0,R=0,W={title:"",subject:"",author:"",
keywords:"",creator:""},U={},X=new a(U),O=function(a){return a.toFixed(2)},Y=function(a){return("0"+parseInt(a)).slice(-2)},T=function(a){H?S[N].push(a):(R+=a.length+1,Q.push(a))},Z=function(){return D++,P[D]=R,T(D+" 0 obj"),D},fa=function(a){T("stream");T(a);T("endstream")},da=function(a,b){var c;c=a;var d=b,e,f,k,g,h,l,p;if(d=d||{},e=d.sourceEncoding||"Unicode",k=d.outputEncoding,(d.autoencode||k)&&K[z].metadata&&K[z].metadata[e]&&K[z].metadata[e].encoding&&(f=K[z].metadata[e].encoding,!k&&K[z].encoding&&
(k=K[z].encoding),!k&&f.codePages&&(k=f.codePages[0]),"string"==typeof k&&(k=f[k]),k)){h=!1;g=[];e=0;for(f=c.length;f>e;e++)(l=k[c.charCodeAt(e)])?g.push(String.fromCharCode(l)):g.push(c[e]),g[e].charCodeAt(0)>>8&&(h=!0);c=g.join("")}for(e=c.length;void 0===h&&0!==e;)c.charCodeAt(e-1)>>8&&(h=!0),e--;if(h){g=d.noBOM?[]:[254,255];e=0;for(f=c.length;f>e;e++){if(l=c.charCodeAt(e),p=l>>8,p>>8)throw Error("Character at position "+e+" of string '"+c+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");g.push(p);
g.push(l-(p<<8))}c=String.fromCharCode.apply(void 0,g)}return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$=function(){N++;H=!0;S[N]=[];T(O(E*s)+" w");T(C);0!==L&&T(L+" J");0!==V&&T(V+" j");X.publish("addPage",{pageNumber:N})},ha=function(a,b){var c;a=void 0!==a?a:K[z].fontName;b=void 0!==b?b:K[z].fontStyle;try{c=J[a][b]}catch(d){}if(!c)throw Error("Unable to look up font label for font '"+a+"', '"+b+"'. Refer to getFontList() for available fonts.");return c},na=function(){H=
!1;D=2;Q=[];P=[];T("%PDF-"+d);var a,e,k,g,h,p=w*s,m=x*s;h=b.adler32cs||c.adler32cs;F&&"undefined"==typeof h&&(F=!1);for(a=1;N>=a;a++){if(Z(),T("<</Type /Page"),T("/Parent 1 0 R"),T("/Resources 2 0 R"),T("/Contents "+(D+1)+" 0 R>>"),T("endobj"),e=S[a].join("\n"),Z(),F){k=[];for(g=e.length;g--;)k[g]=e.charCodeAt(g);g=h.from(e);e=new q(6);e.append(new Uint8Array(k));e=e.flush();k=new Uint8Array(e.length+6);k.set(new Uint8Array([120,156]));k.set(e,2);k.set(new Uint8Array([255&g,g>>8&255,g>>16&255,g>>
24&255]),e.length+2);e=String.fromCharCode.apply(null,k);T("<</Length "+e.length+" /Filter [/FlateDecode]>>")}else T("<</Length "+e.length+">>");fa(e);T("endobj")}P[1]=R;T("1 0 obj");T("<</Type /Pages");a="/Kids [";for(g=0;N>g;g++)a+=3+2*g+" 0 R ";T(a+"]");T("/Count "+N);T("/MediaBox [0 0 "+O(p)+" "+O(m)+"]");T(">>");T("endobj");for(var r in K)K.hasOwnProperty(r)&&(p=K[r],p.objectNumber=Z(),T("<</BaseFont/"+p.PostScriptName+"/Type/Font"),"string"==typeof p.encoding&&T("/Encoding/"+p.encoding),T("/Subtype/Type1>>"),
T("endobj"));X.publish("putResources");P[2]=R;T("2 0 obj");T("<<");T("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");T("/Font <<");for(var v in K)K.hasOwnProperty(v)&&T("/"+v+" "+K[v].objectNumber+" 0 R");T(">>");T("/XObject <<");X.publish("putXobjectDict");T(">>");T(">>");T("endobj");X.publish("postPutResources");Z();T("<<");T("/Producer (jsPDF "+c.version+")");for(var u in W)W.hasOwnProperty(u)&&W[u]&&T("/"+u.substr(0,1).toUpperCase()+u.substr(1)+" ("+da(W[u])+")");r=new Date;T(["/CreationDate (D:",
r.getFullYear(),Y(r.getMonth()+1),Y(r.getDate()),Y(r.getHours()),Y(r.getMinutes()),Y(r.getSeconds()),")"].join(""));T(">>");T("endobj");Z();T("<<");T("/Type /Catalog");T("/Pages 1 0 R");T("/OpenAction [3 0 R /FitH null]");T("/PageLayout /OneColumn");X.publish("putCatalog");T(">>");T("endobj");v=R;T("xref");T("0 "+(D+1));T("0000000000 65535 f ");for(r=1;D>=r;r++)T(("0000000000"+P[r]).slice(-10)+" 00000 n ");T("trailer");T("<<");T("/Size "+(D+1));T("/Root "+D+" 0 R");T("/Info "+(D-1)+" 0 R");return T(">>"),
T("startxref"),T(v),T("%%EOF"),H=!0,Q.join("\n")},ja=function(a){var b="S";return"F"===a?b="f":"FD"===a||"DF"===a?b="B":("f"===a||"f*"===a||"B"===a||"B*"===a)&&(b=a),b},ra=function(){for(var a=na(),b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c);b--;)d[b]=a.charCodeAt(b);return c},wa=function(){return new Blob([ra()],{type:"application/pdf"})},oa=function(a){return a.foo=function(){try{return a.apply(this,arguments)}catch(c){var d=c.stack||"";~d.indexOf(" at ")&&(d=d.split(" at ")[1]);d="Error in function "+
d.split("\n")[0].split("<")[0]+": "+c.message;if(!b.console)throw Error(d);b.console.error(d,c);b.alert&&alert(d)}},a.foo.bar=a,a.foo}(function(a,c){var d="dataur"===(""+a).substr(0,6)?"data:application/pdf;base64,"+btoa(na()):0;switch(a){case void 0:return na();case "save":if(navigator.getUserMedia&&(void 0===b.URL||void 0===b.URL.createObjectURL))return U.output("dataurlnewwindow");m(wa(),c);"function"==typeof m.unload&&b.setTimeout&&setTimeout(m.unload,911);break;case "arraybuffer":return ra();
case "blob":return wa();case "bloburi":case "bloburl":return b.URL&&b.URL.createObjectURL(wa())||void 0;case "datauristring":case "dataurlstring":return d;case "dataurlnewwindow":var e=b.open(d);if(e||"undefined"==typeof safari)return e;case "datauri":case "dataurl":return b.document.location.href=d;default:throw Error('Output type "'+a+'" is not supported.');}});switch(e){case "pt":s=1;break;case "mm":s=72/25.4;break;case "cm":s=72/2.54;break;case "in":s=72;break;case "px":s=96/72;break;case "pc":s=
12;break;case "em":s=12;break;case "ex":s=6;break;default:throw"Invalid unit: "+e;}if(g.hasOwnProperty(y))x=g[y][1]/s,w=g[y][0]/s;else try{x=p[1],w=p[0]}catch(Ka){throw Error("Invalid format: "+p);}if("p"===h||"portrait"===h)h="p",w>x&&(u=w,w=x,x=u);else{if("l"!==h&&"landscape"!==h)throw"Invalid orientation: "+h;h="l";x>w&&(u=w,w=x,x=u)}U.internal={pdfEscape:da,getStyle:ja,getFont:function(){return K[ha.apply(U,arguments)]},getFontSize:function(){return G},getLineHeight:function(){return G*I},write:function(a){T(1===
arguments.length?a:Array.prototype.join.call(arguments," "))},getCoordinateString:function(a){return O(a*s)},getVerticalCoordinateString:function(a){return O((x-a)*s)},collections:{},newObject:Z,putStream:fa,events:X,scaleFactor:s,pageSize:{width:w,height:x},output:function(a,b){return oa(a,b)},getNumberOfPages:function(){return S.length-1},pages:S};U.addPage=function(){return $(),this};U.text=function(a,b,c,d,e){function f(a){return a=a.split("\t").join(Array(r.TabLen||9).join(" ")),da(a,d)}"number"==
typeof a&&(u=c,c=b,b=a,a=u);"string"==typeof a&&a.match(/[\n\r]/)&&(a=a.split(/\r\n|\r|\n/g));"number"==typeof d&&(e=d,d=null);var k="",g="Td";e&&(e*=Math.PI/180,k=Math.cos(e),g=Math.sin(e),k=[O(k),O(g),O(-1*g),O(k),""].join(" "),g="Tm");if(d=d||{},"noBOM"in d||(d.noBOM=!0),"autoencode"in d||(d.autoencode=!0),"string"==typeof a)a=f(a);else{if(!(a instanceof Array))throw Error('Type of text must be string or Array. "'+a+'" is not recognized.');a=a.concat();e=[];for(var h=a.length;h--;)e.push(f(a.shift()));
a=e.join(") Tj\nT* (")}return T("BT\n/"+z+" "+G+" Tf\n"+G*I+" TL\n"+B+"\n"+k+O(b*s)+" "+O((x-c)*s)+" "+g+"\n("+a+") Tj\nET"),this};U.line=function(a,b,c,d){return this.lines([[c-a,d-b]],a,b)};U.lines=function(a,b,c,d,e,f){var k,g,h,l,p,m,q,r;"number"==typeof a&&(u=c,c=b,b=a,a=u);d=d||[1,1];T((b*s).toFixed(3)+" "+((x-c)*s).toFixed(3)+" m ");k=d[0];d=d[1];g=a.length;r=c;for(c=0;g>c;c++)h=a[c],2===h.length?(b=h[0]*k+b,r=h[1]*d+r,T((b*s).toFixed(3)+" "+((x-r)*s).toFixed(3)+" l")):(l=h[0]*k+b,p=h[1]*d+
r,m=h[2]*k+b,q=h[3]*d+r,b=h[4]*k+b,r=h[5]*d+r,T((l*s).toFixed(3)+" "+((x-p)*s).toFixed(3)+" "+(m*s).toFixed(3)+" "+((x-q)*s).toFixed(3)+" "+(b*s).toFixed(3)+" "+((x-r)*s).toFixed(3)+" c"));return f&&T(" h"),null!==e&&T(ja(e)),this};U.rect=function(a,b,c,d,e){ja(e);return T([O(a*s),O((x-b)*s),O(c*s),O(-d*s),"re"].join(" ")),null!==e&&T(ja(e)),this};U.triangle=function(a,b,c,d,e,f,k){return this.lines([[c-a,d-b],[e-c,f-d],[a-e,b-f]],a,b,[1,1],k,!0),this};U.roundedRect=function(a,b,c,d,e,f,k){var g=
4/3*(Math.SQRT2-1);return this.lines([[c-2*e,0],[e*g,0,e,f-f*g,e,f],[0,d-2*f],[0,f*g,-(e*g),f,-e,f],[-c+2*e,0],[-(e*g),0,-e,-(f*g),-e,-f],[0,-d+2*f],[0,-(f*g),e*g,-f,e,-f]],a+e,b,[1,1],k),this};U.ellipse=function(a,b,c,d,e){var f=4/3*(Math.SQRT2-1)*c,k=4/3*(Math.SQRT2-1)*d;return T([O((a+c)*s),O((x-b)*s),"m",O((a+c)*s),O((x-(b-k))*s),O((a+f)*s),O((x-(b-d))*s),O(a*s),O((x-(b-d))*s),"c"].join(" ")),T([O((a-f)*s),O((x-(b-d))*s),O((a-c)*s),O((x-(b-k))*s),O((a-c)*s),O((x-b)*s),"c"].join(" ")),T([O((a-
c)*s),O((x-(b+k))*s),O((a-f)*s),O((x-(b+d))*s),O(a*s),O((x-(b+d))*s),"c"].join(" ")),T([O((a+f)*s),O((x-(b+d))*s),O((a+c)*s),O((x-(b+k))*s),O((a+c)*s),O((x-b)*s),"c"].join(" ")),null!==e&&T(ja(e)),this};U.circle=function(a,b,c,d){return this.ellipse(a,b,c,c,d)};U.setProperties=function(a){for(var b in W)W.hasOwnProperty(b)&&a[b]&&(W[b]=a[b]);return this};U.setFontSize=function(a){return G=a,this};U.setFont=function(a,b){return z=ha(a,b),this};U.setFontStyle=U.setFontType=function(a){return z=ha(void 0,
a),this};U.getFontList=function(){var a,b,c,d={};for(a in J)if(J.hasOwnProperty(a))for(b in d[a]=c=[],J[a])J[a].hasOwnProperty(b)&&c.push(b);return d};U.setLineWidth=function(a){return T((a*s).toFixed(2)+" w"),this};U.setDrawColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" G":O(a/255)+" G":void 0===d?"string"==typeof a?[a,b,c,"RG"].join(" "):[O(a/255),O(b/255),O(c/255),"RG"].join(" "):"string"==typeof a?[a,b,c,d,"K"].join(" "):[O(a),O(b),O(c),O(d),"K"].join(" "),
T(e),this};U.setFillColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" g":O(a/255)+" g":void 0===d?"string"==typeof a?[a,b,c,"rg"].join(" "):[O(a/255),O(b/255),O(c/255),"rg"].join(" "):"string"==typeof a?[a,b,c,d,"k"].join(" "):[O(a),O(b),O(c),O(d),"k"].join(" "),T(e),this};U.setTextColor=function(a,b,c){"string"==typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)&&(c=parseInt(a.substr(1),16),a=c>>16&255,b=c>>8&255,c&=255);return B=0===a&&0===b&&0===c||"undefined"==
typeof b?(a/255).toFixed(3)+" g":[(a/255).toFixed(3),(b/255).toFixed(3),(c/255).toFixed(3),"rg"].join(" "),this};U.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};U.setLineCap=function(a){var b=this.CapJoinStyles[a];if(void 0===b)throw Error("Line cap style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return L=b,T(b+" J"),this};U.setLineJoin=function(a){var b=this.CapJoinStyles[a];if(void 0===
b)throw Error("Line join style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return V=b,T(b+" j"),this};U.output=oa;U.save=function(a){U.output("save",a)};for(var Ga in c.API)c.API.hasOwnProperty(Ga)&&("events"===Ga&&c.API.events.length?!function(a,b){var c,d,e;for(e=b.length-1;-1!==e;e--)c=b[e][0],d=b[e][1],a.subscribe.apply(a,[c].concat("function"==typeof d?[d]:d))}(X,c.API.events):U[Ga]=c.API[Ga]);return function(){for(var a=[["Helvetica","helvetica","normal"],
["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"]],b=0,c=a.length;c>b;b++){var d,e=a[b][0],f=a[b][1];d=a[b][2];var k="F"+(Object.keys(K).length+
1).toString(10),e=K[k]={id:k,PostScriptName:e,fontName:f,fontStyle:d,encoding:"StandardEncoding",metadata:{}},g=k;J.hasOwnProperty(f)||(J[f]={});J[f][d]=g;d=(X.publish("addFont",e),k);k=a[b][0].split("-");e=k[0];k=k[1]||"";J.hasOwnProperty(e)||(J[e]={});J[e][k]=d}X.publish("addFonts",{fonts:K,dictionary:J})}(),z="F1",$(),X.publish("initialized"),U}var d="1.3",g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],
a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],
dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return c.API={events:[]},c.version="1.0.209-git 2014-07-28T16:27:diegocr","function"==typeof define&&define.amd?define("jsPDF",function(){return c}):b.jsPDF=c,c}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);!function(b){b.addHTML=function(a,b,d,f,g){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");
"number"!=typeof b&&(f=b,g=d);"function"==typeof f&&(g=f,f=null);var e=this.internal,h=e.scaleFactor,k=e.pageSize.width,m=e.pageSize.height;return(f=f||{},f.onrendered=function(a){b=parseInt(b)||0;d=parseInt(d)||0;var e=f.dim||{},q=e.h||0,r=e.w||Math.min(k,a.width/h)-b,x="JPEG";if(f.format&&(x=f.format),a.height>m&&f.pagesplit)q=function(){for(var e=0;;){var f=document.createElement("canvas");f.width=Math.min(k*h,a.width);f.height=Math.min(m*h,a.height-e);f.getContext("2d").drawImage(a,0,e,a.width,
f.height,0,0,f.width,f.height);var q=[f,b,e?0:d,f.width/h,f.height/h,x,null,"SLOW"];if(this.addImage.apply(this,q),e+=f.height,e>=a.height)break;this.addPage()}g(r,e,null,q)}.bind(this),"CANVAS"===a.nodeName?(e=new Image,e.onload=q,e.src=a.toDataURL("image/png"),a=e):q();else{var e=Math.random().toString(35),y=[a,b,d,r,q,x,e,"SLOW"];this.addImage.apply(this,y);g(r,q,e,y)}}.bind(this),"undefined"==typeof html2canvas||f.rstz)?"undefined"!=typeof rasterizeHTML?(e="drawDocument","string"==typeof a&&(e=
/^http/.test(a)?"drawURL":"drawHTML"),f.width=f.width||k*h,rasterizeHTML[e](a,void 0,f).then(function(a){f.onrendered(a.image)},function(a){g(null,a)})):null:html2canvas(a,f)}}(d.API);(function(b){var a=["jpeg","jpg","png"],c=function(a){var b=this.internal.newObject(),d=this.internal.write,e=this.internal.putStream;if(a.n=b,d("<</Type /XObject"),d("/Subtype /Image"),d("/Width "+a.w),d("/Height "+a.h),a.cs===this.color_spaces.INDEXED?d("/ColorSpace [/Indexed /DeviceRGB "+(a.pal.length/3-1)+" "+("smask"in
a?b+2:b+1)+" 0 R]"):(d("/ColorSpace /"+a.cs),a.cs===this.color_spaces.DEVICE_CMYK&&d("/Decode [1 0 1 0 1 0 1 0]")),d("/BitsPerComponent "+a.bpc),"f"in a&&d("/Filter /"+a.f),"dp"in a&&d("/DecodeParms <<"+a.dp+">>"),"trns"in a&&a.trns.constructor==Array){for(var f="",k=0,g=a.trns.length;g>k;k++)f+=a.trns[k]+" "+a.trns[k]+" ";d("/Mask ["+f+"]")}if("smask"in a&&d("/SMask "+(b+1)+" 0 R"),d("/Length "+a.data.length+">>"),e(a.data),d("endobj"),"smask"in a)b={w:a.w,h:a.h,cs:"DeviceGray",bpc:a.bpc,dp:"/Predictor 15 /Colors 1 /BitsPerComponent "+
a.bpc+" /Columns "+a.w,data:a.smask},"f"in a&&(b.f=a.f),c.call(this,b);a.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),d("<< /Length "+a.pal.length+">>"),e(this.arrayBufferToBinaryString(new Uint8Array(a.pal))),d("endobj"))},d=function(){var a=this.internal.collections.addImage_images,b;for(b in a)c.call(this,a[b])},g=function(){var a,b=this.internal.collections.addImage_images,c=this.internal.write,d;for(d in b)a=b[d],c("/I"+a.i,a.n,"0","R")},h=function(a){return a&&"string"==typeof a&&
(a=a.toUpperCase()),a in b.image_compression?a:b.image_compression.NONE},e=function(a){var b=0;if(a){if(Object.keys)a=Object.keys(a).length;else{var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;a=b}b=a}return b},p=function(a){return"string"==typeof a&&Array.prototype.reduce&&a.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)},k=function(a,b){var c;if(b)for(var d in b)if(a===b[d].alias){c=b[d];break}return c};b.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",
CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPERATION:"Seperation",DEVICE_N:"DeviceN"};b.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};b.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};b.isString=
function(a){return"string"==typeof a};b.extractInfoFromBase64DataURI=function(a){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(a)};b.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};b.isArrayBuffer=function(a){return this.supportsArrayBuffer()?a instanceof ArrayBuffer:!1};b.isArrayBufferView=function(a){return this.supportsArrayBuffer()?"undefined"==typeof Uint32Array?!1:a instanceof Int8Array||a instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&
a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array:!1};b.binaryStringToUint8Array=function(a){for(var b=a.length,c=new Uint8Array(b),d=0;b>d;d++)c[d]=a.charCodeAt(d);return c};b.arrayBufferToBinaryString=function(a){this.isArrayBuffer(a)&&(a=new Uint8Array(a));for(var b="",c=a.byteLength,d=0;c>d;d++)b+=String.fromCharCode(a[d]);return b};b.arrayBufferToBase64=function(a){var b,
c,d,e,f,k="";a=new Uint8Array(a);e=a.byteLength;for(var g=e%3,h=e-g,l=0;h>l;l+=3)f=a[l]<<16|a[l+1]<<8|a[l+2],b=(16515072&f)>>18,c=(258048&f)>>12,d=(4032&f)>>6,e=63&f,k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];return 1==g?(f=a[h],b=(252&f)>>2,c=(3&f)<<4,k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"=="):2==g&&(f=a[h]<<8|a[h+1],b=(64512&f)>>10,c=(1008&f)>>4,d=(15&f)<<2,k+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]+"="),k};b.createImageInfo=function(a,b,c,d,e,f,k,g,h,l,p,m){a={alias:g,w:b,h:c,cs:d,bpc:e,i:k,data:a};return f&&(a.f=f),h&&(a.dp=h),l&&(a.trns=l),
p&&(a.pal=p),m&&(a.smask=m),a};b.addImage=function(c,m,q,r,w,x,y,F){if("number"==typeof m){var B=x;x=w;w=r;r=q;q=m;m=B}var C;C=this.internal.collections.addImage_images;B=(C||(this.internal.collections.addImage_images=C={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",g)),C);if(!(C=k(c,B))){var G;if("object"==typeof c&&1===c.nodeType){a:{C=c;c=m;if("IMG"===C.nodeName&&C.hasAttribute("src")){var I=""+C.getAttribute("src");if(0===I.indexOf("data:image/")){C=
I;break a}!c&&/\.png(?:[?#].*)?$/i.test(I)&&(c="png")}if("CANVAS"===C.nodeName)I=C;else{I=document.createElement("canvas");I.width=C.clientWidth||C.width;I.height=C.clientHeight||C.height;var E=I.getContext("2d");if(!E)throw"addImage requires canvas to be supported by browser.";E.drawImage(C,0,0,I.width,I.height)}C=I.toDataURL("png"==(""+c).toLowerCase()?"image/png":"image/jpeg")}c=C}if(("undefined"==typeof y||null===y)&&(y=p(c)),!(C=k(y,B))){this.isString(c)&&((I=this.extractInfoFromBase64DataURI(c))?
(m=I[2],c=atob(I[3])):137===c.charCodeAt(0)&&80===c.charCodeAt(1)&&78===c.charCodeAt(2)&&71===c.charCodeAt(3)&&(m="png"));if(m=(m||"JPEG").toLowerCase(),-1===a.indexOf(m))throw Error("addImage currently only supports formats "+a+", not '"+m+"'");if("function"!=typeof b["process"+m.toUpperCase()])throw Error("please ensure that the plugin for '"+m+"' support is added");if(this.supportsArrayBuffer()&&(G=c,c=this.binaryStringToUint8Array(c)),C=this["process"+m.toUpperCase()](c,e(B),y,h(F),G),!C)throw Error("An unkwown error occurred whilst processing the image");
}}m=q;q=C;y=C.i;F=x;x=(w||F||(w=-96,F=-96),0>w&&(w=-72*q.w/w/this.internal.scaleFactor),0>F&&(F=-72*q.h/F/this.internal.scaleFactor),0===w&&(w=F*q.w/q.h),0===F&&(F=w*q.h/q.w),[w,F]);F=this.internal.getCoordinateString;G=this.internal.getVerticalCoordinateString;w=x[0];x=x[1];B[y]=q;this.internal.write("q",F(w),"0 0",F(x),F(m),G(r+x),"cm /I"+q.i,"Do Q");return this};b.processJPEG=function(a,b,c,d,e){var f;d=this.color_spaces.DEVICE_RGB;var k=this.decode.DCT_DECODE;if(this.isString(a)){a:{e=a;var g,
h,l;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||74===!e.charCodeAt(6)||70===!e.charCodeAt(7)||73===!e.charCodeAt(8)||70===!e.charCodeAt(9)||0===!e.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");for(var p=256*e.charCodeAt(4)+e.charCodeAt(5),m=4,q=e.length;q>m;){if(m+=p,255!==e.charCodeAt(m))throw Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(m+1)||193===e.charCodeAt(m+1)||194===e.charCodeAt(m+
1)||195===e.charCodeAt(m+1)||196===e.charCodeAt(m+1)||197===e.charCodeAt(m+1)||198===e.charCodeAt(m+1)||199===e.charCodeAt(m+1)){e=(h=256*e.charCodeAt(m+5)+e.charCodeAt(m+6),g=256*e.charCodeAt(m+7)+e.charCodeAt(m+8),l=e.charCodeAt(m+9),[g,h,l]);break a}m+=2;p=256*e.charCodeAt(m)+e.charCodeAt(m+1)}e=void 0}a=(f=e,this.createImageInfo(a,f[0],f[1],1==f[3]?this.color_spaces.DEVICE_GRAY:d,8,k,b,c))}else{this.isArrayBuffer(a)&&(a=new Uint8Array(a));if(this.isArrayBufferView(a)){a:{g=a;if(65496!==(g[0]<<
8|g[1]))throw Error("Supplied data is not a JPEG");var r;h=g.length;l=(g[4]<<8)+g[5];for(var t=4;h>t;){if(t+=l,p=g.subarray(t,t+5),l=(p[2]<<8)+p[3],(192===p[1]||194===p[1])&&255===p[0]&&7<l){h=t+5;g=(p=g.subarray(h,h+5),m=(p[2]<<8)+p[3],q=(p[0]<<8)+p[1],r=p[4],{width:m,height:q,numcomponents:r});break a}t+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");}b=(f=g,a=e||this.arrayBufferToBinaryString(a),this.createImageInfo(a,f.width,f.height,1==f.numcomponents?this.color_spaces.DEVICE_GRAY:
d,8,k,b,c))}else b=null;a=b}return a};b.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(d.API);(function(b){b.autoPrint=function(){var a;return this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject();this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+a+" 0 R")}),this}})(d.API);(function(b){var a,c,d,g,h={x:void 0,y:void 0,w:void 0,h:void 0,
ln:void 0},e=1,p={left:0,top:0,bottom:0};b.setHeaderFunction=function(a){g=a};b.getTextDimensions=function(b){a=this.internal.getFont().fontName;c=this.table_font_size||this.internal.getFontSize();d=this.internal.getFont().fontStyle;var e,f,g=19.049976/25.4;return f=document.createElement("font"),f.id="jsPDFCell",f.style.fontStyle=d,f.style.fontName=a,f.style.fontSize=c+"pt",f.innerText=b,document.body.appendChild(f),e={w:(f.offsetWidth+1)*g,h:(f.offsetHeight+1)*g},document.body.removeChild(f),e};
b.cellAddPage=function(){var a=this.margins||p;this.addPage();h={x:a.left,y:a.top,w:void 0,h:void 0,ln:void 0};e+=1};b.cellInitialize=function(){h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};e=1};b.cell=function(a,b,c,d,e,f,g){var l=h;void 0!==l.ln&&(l.ln===f?(a=l.x+l.w,b=l.y):(l.y+l.h+d+13>=this.internal.pageSize.height-(this.margins||p).bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(f,!0)),b=h.y+h.h));if(void 0!==e[0])if(this.printingHeaderRow?this.rect(a,
b,c,d,"FD"):this.rect(a,b,c,d),"right"===g){if(e instanceof Array)for(g=0;g<e.length;g++){var l=e[g],m=this.getStringUnitWidth(l)*this.internal.getFontSize();this.text(l,a+c-m-3,b+this.internal.getLineHeight()*(g+1))}}else this.text(e,a+3,b+this.internal.getLineHeight());h={x:a,y:b,w:c,h:d,ln:f};return this};b.arrayMax=function(a,b){var c,d,e,f=a[0];c=0;for(d=a.length;d>c;c+=1)e=a[c],b?-1===b(f,e)&&(f=e):e>f&&(f=e);return f};b.table=function(a,c,d,g,l){if(!d)throw"No data for PDF table";var m,q,r,
F,B,C,A,I,E=[];C=[];var D={},H={},P=[];A=[];r=!1;var K=!0;q=12;F=p;if(F.width=this.internal.pageSize.width,l&&(!0===l.autoSize&&(r=!0),!1===l.printHeaders&&(K=!1),l.fontSize&&(q=l.fontSize),l.margins&&(F=l.margins)),this.lnMod=0,h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},e=1,this.printHeaders=K,this.margins=F,this.setFontSize(q),this.table_font_size=q,void 0===g||null===g)E=Object.keys(d[0]);else if(g[0]&&"string"!=typeof g[0])for(F=19.049976/25.4,l=0,q=g.length;q>l;l+=1)m=g[l],E.push(m.name),
C.push(m.prompt),H[m.name]=m.width*F;else E=g;if(r)for(I=function(a){return a[m]},l=0,q=E.length;q>l;l+=1){m=E[l];D[m]=d.map(I);P.push(this.getTextDimensions(C[l]||m).w);B=D[m];g=0;for(r=B.length;r>g;g+=1)F=B[g],P.push(this.getTextDimensions(F).w);H[m]=b.arrayMax(P)}if(K){D=this.calculateLineHeight(E,H,C.length?C:E);l=0;for(q=E.length;q>l;l+=1)m=E[l],A.push([a,c,H[m],D,String(C.length?C[l]:m)]);this.setTableHeaderRow(A);this.printHeaderRow(1,!1)}l=0;for(q=d.length;q>l;l+=1)for(C=d[l],D=this.calculateLineHeight(E,
H,C),g=0,A=E.length;A>g;g+=1)m=E[g],this.cell(a,c,H[m],D,C[m],l+2,m.align);return this.lastCellPos=h,this.table_x=a,this.table_y=c,this};b.calculateLineHeight=function(a,b,c){for(var d,e=0,f=0;f<a.length;f++)d=a[f],c[d]=this.splitTextToSize(String(c[d]),b[d]-3),d=this.internal.getLineHeight()*c[d].length+3,d>e&&(e=d);return e};b.setTableHeaderRow=function(a){this.tableHeaderRow=a};b.printHeaderRow=function(a,b){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var c,d,f;if(this.printingHeaderRow=
!0,void 0!==g)d=g(this,e),h={x:d[0],y:d[1],w:d[2],h:d[3],ln:-1};this.setFontStyle("bold");var l=[];d=0;for(f=this.tableHeaderRow.length;f>d;d+=1)this.setFillColor(200,200,200),c=this.tableHeaderRow[d],b&&(c[1]=this.margins&&this.margins.top||0,l.push(c)),c=[].concat(c),this.cell.apply(this,c.concat(a));0<l.length&&this.setTableHeaderRow(l);this.setFontStyle("normal");this.printingHeaderRow=!1}})(d.API);(function(b){var a,c,d,g,h,e,p,k,m,q,r,u,w,x,y,F,B,C,G;a=function(){function a(){}return function(b){return a.prototype=
b,new a}}();m=function(a){var b,c,d,e,f;c=0;d=a.length;for(f=e=!1;!e&&c!==d;)(b=a[c]=a[c].trimLeft())&&(e=!0),c++;for(c=d-1;d&&!f&&-1!==c;)(b=a[c]=a[c].trimRight())&&(f=!0),c--;e=/\s+$/g;f=!0;for(c=0;c!==d;)b=a[c].replace(/\s+/g," "),f&&(b=b.trimLeft()),b&&(f=e.test(b)),a[c]=b,c++;return a};q=function(a,b,c,d){return this.pdf=a,this.x=b,this.y=c,this.settings=d,this.watchFunctions=[],this.init(),this};r=function(a){var b,c;b=void 0;c=a.split(",");for(a=c.shift();!b&&a;)b=d[a.trim().toLowerCase()],
a=c.shift();return b};u=function(a){a="auto"===a?"0px":a;-1<a.indexOf("em")&&!isNaN(Number(a.replace("em","")))&&(a=18.719*Number(a.replace("em",""))+"px");-1<a.indexOf("pt")&&!isNaN(Number(a.replace("pt","")))&&(a=1.333*Number(a.replace("pt",""))+"px");var b;return(b=w[a])?b:(b={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:a}],void 0!==b?w[a]=b/16:(b=parseFloat(a))?w[a]=b/16:(b=a.match(/([\d\.]+)(px)/),w[a]=3===b.length?parseFloat(b[1])/
16:1))};k=function(a){var b,c,d;return d=function(a){var b;return b=function(a){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle?a.currentStyle:a.style}(a),function(a){return a=a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()}),b[a]}}(a),b={},c=void 0,b["font-family"]=r(d("font-family"))||"times",b["font-style"]=g[d("font-style")]||"normal",b["text-align"]=TextAlignMap[d("text-align")]||"left",c=h[d("font-weight")]||
"normal","bold"===c&&(b["font-style"]="normal"===b["font-style"]?c:c+b["font-style"]),b["font-size"]=u(d("font-size"))||1,b["line-height"]=u(d("line-height"))||1,b.display="inline"===d("display")?"inline":"block","block"===b.display&&(b["margin-top"]=u(d("margin-top"))||0,b["margin-bottom"]=u(d("margin-bottom"))||0,b["padding-top"]=u(d("padding-top"))||0,b["padding-bottom"]=u(d("padding-bottom"))||0,b["margin-left"]=u(d("margin-left"))||0,b["margin-right"]=u(d("margin-right"))||0,b["padding-left"]=
u(d("padding-left"))||0,b["padding-right"]=u(d("padding-right"))||0),b["float"]=e[d("cssFloat")]||"none",b.clear=p[d("clear")]||"none",b};x=function(a,b,c){var d,e,f,k;if(f=!1,d=c["#"+a.id])if("function"==typeof d)f=d(a,b);else for(e=0,k=d.length;!f&&e!==k;)f=d[e](a,b),e++;if(d=c[a.nodeName],!f&&d)if("function"==typeof d)f=d(a,b);else for(e=0,k=d.length;!f&&e!==k;)f=d[e](a,b),e++;return f};G=function(a,b){var c,d,e,f,k,g;c=[];d=[];e=0;g=a.rows[0].cells.length;for(f=a.clientWidth;g>e;)k=a.rows[0].cells[e],
d[e]={name:k.textContent.toLowerCase().replace(/\s+/g,""),prompt:k.textContent.replace(/\r?\n/g,""),width:k.clientWidth/f*b.pdf.internal.pageSize.width},e++;for(e=1;e<a.rows.length;){g=a.rows[e];k={};for(f=0;f<g.cells.length;)k[d[f].name]=g.cells[f].textContent.replace(/\r?\n/g,""),f++;c.push(k);e++}return{rows:c,headers:d}};var I={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},E=1;c=function(a,b,d){var e,f,g,h,l,p,m;f=a.childNodes;e=void 0;a=k(a);(h="block"===a.display)&&(b.setBlockBoundary(),
b.setBlockStyle(a));g=0;for(l=f.length;l>g;){if(e=f[g],"object"==typeof e){if(b.executeWatchFunctions(e),1===e.nodeType&&"HEADER"===e.nodeName){var q=e,r=b.pdf.margins_doc.top;b.pdf.internal.events.subscribe("addPage",function(){b.y=r;c(q,b,d);b.pdf.margins_doc.top=b.y+10;b.y+=10},!1)}if(8===e.nodeType&&"#comment"===e.nodeName)~e.textContent.indexOf("ADD_PAGE")&&(b.pdf.addPage(),b.y=b.pdf.margins_doc.top);else if(1!==e.nodeType||I[e.nodeName])if(3===e.nodeType){if((p=e.nodeValue)&&"LI"===e.parentNode.nodeName)if("OL"===
e.parentNode.parentNode.nodeName)p=E++ +". "+p;else{var s=2;20<16*a["font-size"]&&(s=3);m=function(a,b){this.pdf.circle(a,b,s,"FD")}}b.addText(p,a)}else"string"==typeof e&&b.addText(e,a);else if("IMG"===e.nodeName&&y[e.getAttribute("src")]){b.pdf.internal.pageSize.height-b.pdf.margins_doc.bottom<b.y+e.height&&b.y>b.pdf.margins_doc.top&&(b.pdf.addPage(),b.y=b.pdf.margins_doc.top,b.executeWatchFunctions(e));p=k(e);var u=b.x,v=12/b.pdf.internal.scaleFactor,t=(p["margin-left"]+p["padding-left"])*v,z=
(p["margin-right"]+p["padding-right"])*v,w=(p["margin-top"]+p["padding-top"])*v,v=(p["margin-bottom"]+p["padding-bottom"])*v,u=u+(void 0!==p["float"]&&"right"===p["float"]?b.settings.width-e.width-z:t);b.pdf.addImage(y[e.getAttribute("src")],u,b.y+w,e.width,e.height);void 0!==p["float"]?("right"===p["float"]||"left"===p["float"])&&(b.watchFunctions.push(function(a,c,d,e){return b.y>=c?(b.x+=a,b.settings.width+=d,!0):e&&1===e.nodeType&&!I[e.nodeName]&&b.x+e.width>b.pdf.margins_doc.left+b.pdf.margins_doc.width?
(b.x+=a,b.y=c,b.settings.width+=d,!0):!1}.bind(this,"left"===p["float"]?-e.width-t-z:0,b.y+e.height+w+v,e.width)),b.watchFunctions.push(function(a,c,d){return b.y<a&&c===b.pdf.internal.getNumberOfPages()?1===d.nodeType&&"both"===k(d).clear?(b.y=a,!0):!1:!0}.bind(this,b.y+e.height,b.pdf.internal.getNumberOfPages())),b.settings.width-=e.width+t+z,"left"===p["float"]&&(b.x+=e.width+t+z)):b.y+=e.height+v}else"TABLE"===e.nodeName?(p=G(e,b),b.y+=10,b.pdf.table(b.x,b.y,p.rows,p.headers,{autoSize:!1,printHeaders:!0,
margins:b.pdf.margins_doc}),b.y=b.pdf.lastCellPos.y+b.pdf.lastCellPos.h+20):"OL"===e.nodeName||"UL"===e.nodeName?(E=1,x(e,b,d)||c(e,b,d),b.y+=10):"LI"===e.nodeName?(p=b.x,b.x+="UL"===e.parentNode.nodeName?22:10,b.y+=3,x(e,b,d)||c(e,b,d),b.x=p):x(e,b,d)||c(e,b,d)}g++}return h?b.setBlockBoundary(m):void 0};y={};F=function(a,b,c,d){function e(){b.pdf.internal.events.publish("imagesLoaded");d()}function f(a,b,c){if(a){var d=new Image;++k;d.crossOrigin="";d.onerror=d.onload=function(){d.complete&&(0===
d.src.indexOf("data:image/")&&(d.width=b||d.width||0,d.height=c||d.height||0),d.width+d.height&&(y[a]=y[a]||d));--k||e()};d.src=a}}a=a.getElementsByTagName("img");c=a.length;for(var k=0;c--;)f(a[c].getAttribute("src"),a[c].width,a[c].height);return k||e()};B=function(a,b,d,e){var f=a.getElementsByTagName("footer");if(0<f.length){f=f[0];a=b.pdf.internal.write;var k=b.y;b.pdf.internal.write=function(){};c(f,b,d);var g=Math.ceil(b.y-k)+5;b.y=k;b.pdf.internal.write=a;b.pdf.margins_doc.bottom+=g;a=function(a){a=
void 0!==a?a.pageNumber:1;var e=b.y;b.y=b.pdf.internal.pageSize.height-b.pdf.margins_doc.bottom;b.pdf.margins_doc.bottom-=g;for(var k=f.getElementsByTagName("span"),h=0;h<k.length;++h)-1<(" "+k[h].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(k[h].innerHTML=a),-1<(" "+k[h].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(k[h].innerHTML="###jsPDFVarTotalPages###");c(f,b,d);b.pdf.margins_doc.bottom+=g;b.y=e};for(var k=f.getElementsByTagName("span"),h=0;h<k.length;++h)-1<
(" "+k[h].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&b.pdf.internal.events.subscribe("htmlRenderingFinished",b.pdf.putTotalPages.bind(b.pdf,"###jsPDFVarTotalPages###"),!0);b.pdf.internal.events.subscribe("addPage",a,!1);a();I.FOOTER=1}e()};C=function(a,b,d,e,f,k){if(!b)return!1;"string"==typeof b||b.parentNode||(b=""+b.innerHTML);"string"==typeof b&&(b=function(a){var b,c,d;return d="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0),c=document.createElement("div"),
c.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",c.innerHTML='<iframe style="height:1px;width:1px" name="'+d+'" />',document.body.appendChild(c),b=window.frames[d],b.document.body.innerHTML=a,b.document.body}(b.replace(/<\/?script[^>]*?>/gi,"")));var g=new q(a,d,e,f);return k=k||function(){},F.call(this,
b,g,f.elementHandlers,function(){B.call(this,b,g,f.elementHandlers,function(){c(b,g,f.elementHandlers);g.pdf.internal.events.publish("htmlRenderingFinished");k(g.dispose())})}),g.dispose()};q.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")};q.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y}};q.prototype.executeWatchFunctions=function(a){var b=!1,c=[];if(0<this.watchFunctions.length){for(var d=0;d<this.watchFunctions.length;++d)!0===
this.watchFunctions[d](a)?b=!0:c.push(this.watchFunctions[d]);this.watchFunctions=c}return b};q.prototype.splitFragmentsIntoLines=function(b,c){var d,e,f,k,g,h,l,p,m,q,r,s,u;m=this.pdf.internal.scaleFactor;k={};h=l=u=g=f=p=e=void 0;q=[];r=[q];d=0;for(s=this.settings.width;b.length;)if(g=b.shift(),u=c.shift(),g)if(e=u["font-family"],p=u["font-style"],f=k[e+p],f||(f=this.pdf.internal.getFont(e,p).metadata.Unicode,k[e+p]=f),l={widths:f.widths,kerning:f.kerning,fontSize:12*u["font-size"],textIndent:d},
h=this.pdf.getStringUnitWidth(g,l)*l.fontSize/m,d+h>s){d=this.pdf.splitTextToSize(g,s,l);for(q.push([d.shift(),u]);d.length;)q=[[d.shift(),u]],r.push(q);d=this.pdf.getStringUnitWidth(q[0][0],l)*l.fontSize/m}else q.push([g,u]),d+=h;if(void 0!==u["text-align"]&&("center"===u["text-align"]||"right"===u["text-align"]||"justify"===u["text-align"]))for(e=0;e<r.length;++e)f=this.pdf.getStringUnitWidth(r[e][0][0],l)*l.fontSize/m,0<e&&(r[e][0][1]=a(r[e][0][1])),f=s-f,"right"===u["text-align"]?r[e][0][1]["margin-left"]=
f:"center"===u["text-align"]?r[e][0][1]["margin-left"]=f/2:"justify"===u["text-align"]&&(k=r[e][0][0].split(" ").length-1,r[e][0][1]["word-spacing"]=f/k,e===r.length-1&&(r[e][0][1]["word-spacing"]=0));return r};q.prototype.RenderTextFragment=function(a,b){var c;c=0;this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.pdf.internal.getCoordinateString(this.x),
this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),c=Math.max(c,b["line-height"],b["font-size"]),this.pdf.internal.write(0,(-12*c).toFixed(2),"Td"));c=this.pdf.internal.getFont(b["font-family"],b["font-style"]);void 0!==b["word-spacing"]&&0<b["word-spacing"]&&this.pdf.internal.write(b["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+c.id,(12*b["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(a)+") Tj");void 0!==b["word-spacing"]&&this.pdf.internal.write(0,"Tw")};
q.prototype.renderParagraph=function(a){var b,c,d,e,f,k,g,h,l;if(c=m(this.paragraph.text),k=this.paragraph.style,b=this.paragraph.blockstyle,h=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:b},c.join("").trim()){k=this.splitFragmentsIntoLines(c,k);g=f=void 0;c=12/this.pdf.internal.scaleFactor;f=(Math.max((b["margin-top"]||0)-(h["margin-bottom"]||0),0)+(b["padding-top"]||0))*c;h=((b["margin-bottom"]||0)+(b["padding-bottom"]||0))*c;b=this.pdf.internal.write;
e=d=void 0;this.y+=f;b("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var p=0;k.length;){f=k.shift();d=g=0;for(e=f.length;d!==e;)f[d][0].trim()&&(g=Math.max(g,f[d][1]["line-height"],f[d][1]["font-size"]),l=7*f[d][1]["font-size"]),d++;d=0;void 0!==f[0][1]["margin-left"]&&0<f[0][1]["margin-left"]&&(wantedIndent=this.pdf.internal.getCoordinateString(f[0][1]["margin-left"]),d=wantedIndent-p,p=wantedIndent);b(d,(-12*g).toFixed(2),
"Td");d=0;for(e=f.length;d!==e;)f[d][0]&&this.RenderTextFragment(f[d][0],f[d][1]),d++;if(this.y+=g*c,this.executeWatchFunctions(f[0][1])&&0<k.length){var q=[],r=[];k.forEach(function(a){for(var b=0,c=a.length;b!==c;)a[b][0]&&(q.push(a[b][0]+" "),r.push(a[b][1])),++b});k=this.splitFragmentsIntoLines(m(q),r);b("ET","Q");b("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return a&&"function"==typeof a&&a.call(this,this.x-9,this.y-l/2),
b("ET","Q"),this.y+=h}};q.prototype.setBlockBoundary=function(a){return this.renderParagraph(a)};q.prototype.setBlockStyle=function(a){return this.paragraph.blockstyle=a};q.prototype.addText=function(a,b){return this.paragraph.text.push(a),this.paragraph.style.push(b)};d={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};h={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",
800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};g={normal:"normal",italic:"italic",oblique:"italic"};TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"};e={none:"none",right:"right",left:"left"};p={none:"none",both:"both"};w={normal:1};b.fromHTML=function(a,b,c,d,e,f){return this.margins_doc=f||{top:0,bottom:0},d||(d={}),d.elementHandlers||(d.elementHandlers={}),C(this,a,isNaN(b)?4:b,isNaN(c)?4:c,d,e)}})(d.API);(function(b){var a,c,d;b.addJS=
function(b){return d=b,this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject();this.internal.write("<< /Names [(EmbeddedJS) "+(a+1)+" 0 R] >>","endobj");c=this.internal.newObject();this.internal.write("<< /S /JavaScript /JS (",d,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==a&&void 0!==c&&this.internal.write("/Names <</JavaScript "+a+" 0 R>>")}),this}})(d.API);(function(b){var a=function(a,k,h,r){var s=5,u=g;switch(r){case b.image_compression.FAST:s=
3;u=d;break;case b.image_compression.MEDIUM:s=6;u=m;break;case b.image_compression.SLOW:s=9,u=e}for(var w,x,y=a.length/k,F=new Uint8Array(a.length+y),B=[c,d,g,m,e],C=0;y>C;C++){if(x=C*k,r=a.subarray(x,x+k),u)F.set(u(r,h,w),x+C);else{for(var G=0,I=B.length,E=[];I>G;G++)E[G]=B[G](r,h,w);w=E.concat();for(var D=void 0,I=G=void 0,H=0,P=w.length;P>H;){for(var D=w[H].slice(1),K=0,J=D.length,N=0;J>K;)N+=Math.abs(D[K++]);D=N;(G>D||!G)&&(G=D,I=H);H++}F.set(E[I],x+C)}w=r}a=F;k=Uint8Array;x=Math.LOG2E*Math.log(32768)-
8<<4|8;h=x<<8;u=Math.min(3,0);x=(h|=u<<6,h|=0,h+=31-h%31,[x,h&255]);k=new k(x);x=1;u=0;r=a.length;for(y=0;0<r;){h=void 0<r?void 0:r;r-=h;do x+=a[y++],u+=x;while(--h);x%=65521;u%=65521}h=(u<<16|x)>>>0;x=new q(s);s=x.append(a);x=x.flush();a=k.length+s.length+x.length;u=new Uint8Array(a+4);return u.set(k),u.set(s,k.length),u.set(x,k.length+s.length),u[a++]=h>>>24&255,u[a++]=h>>>16&255,u[a++]=h>>>8&255,u[a++]=255&h,b.arrayBufferToBinaryString(u)},c=function(a){a=Array.apply([],a);return a.unshift(0),
a},d=function(a,b){var c,d=[],e=0,f=a.length;for(d[0]=1;f>e;e++)c=a[e-b]||0,d[e+1]=a[e]-c+256&255;return d},g=function(a,b,c){var d=[],e=0,f=a.length;for(d[0]=2;f>e;e++)b=c&&c[e]||0,d[e+1]=a[e]-b+256&255;return d},m=function(a,b,c){var d,e,f=[],g=0,h=a.length;for(f[0]=3;h>g;g++)d=a[g-b]||0,e=c&&c[g]||0,f[g+1]=a[g]+256-(d+e>>>1)&255;return f},e=function(a,b,c){var d,e,f,g=[],h=0,l=a.length;for(g[0]=4;l>h;h++){d=a[h-b]||0;e=c&&c[h]||0;f=c&&c[h-b]||0;var m=d+e-f,q=Math.abs(m-d),r=Math.abs(m-e),m=Math.abs(m-
f);d=r>=q&&m>=q?d:m>=r?e:f;g[h+1]=a[h]-d+256&255}return g};b.processPNG=function(c,d,e,g){var l,m,r,t,y,F,B=this.color_spaces.DEVICE_RGB,C=this.decode.FLATE_DECODE,A=8;if(this.isArrayBuffer(c)&&(c=new Uint8Array(c)),this.isArrayBufferView(c)){if("function"!=typeof PNG||"function"!=typeof h)throw Error("PNG support requires png.js and zlib.js");if(l=new PNG(c),c=l.imgData,A=l.bits,B=l.colorSpace,t=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits)for(var I,E,D=new window["Uint"+l.pixelBitlength+
"Array"](l.decodePixels().buffer),H=D.length,P=new Uint8Array(H*l.colors),K=new Uint8Array(H),J=l.pixelBitlength-l.bits,N=0,S=0;H>N;N++){I=D[N];for(E=0;J>E;)P[S++]=I>>>E&255,E+=l.bits;K[N]=I>>>E&255}if(16===l.bits){D=new Uint32Array(l.decodePixels().buffer);H=D.length;P=new Uint8Array(32/l.pixelBitlength*H*l.colors);K=new Uint8Array(32/l.pixelBitlength*H);A=1<l.colors;for(E=S=N=0;H>N;)I=D[N++],P[S++]=I>>>0&255,A&&(P[S++]=I>>>16&255,I=D[N++],P[S++]=I>>>0&255),K[E++]=I>>>16&255;A=8}if(H=g!==b.image_compression.NONE)if(H=
"function"==typeof q,!H)throw Error("requires deflate.js for compression");H?(c=a(P,l.width*l.colors,l.colors,g),F=a(K,l.width,1,g)):(c=P,F=K,C=null)}if(3===l.colorType&&(B=this.color_spaces.INDEXED,y=l.palette,l.transparency.indexed)){g=l.transparency.indexed;N=K=0;for(H=g.length;H>N;++N)K+=g[N];if(K/=255,K===H-1&&-1!==g.indexOf(0))r=[g.indexOf(0)];else if(K!==H){D=l.decodePixels();K=new Uint8Array(D.length);N=0;for(H=D.length;H>N;N++)K[N]=g[D[N]];F=a(K,l.width,1)}}return m=C===this.decode.FLATE_DECODE?
"/Predictor 15 /Colors "+t+" /BitsPerComponent "+A+" /Columns "+l.width:"/Colors "+t+" /BitsPerComponent "+A+" /Columns "+l.width,(this.isArrayBuffer(c)||this.isArrayBufferView(c))&&(c=this.arrayBufferToBinaryString(c)),(F&&this.isArrayBuffer(F)||this.isArrayBufferView(F))&&(F=this.arrayBufferToBinaryString(F)),this.createImageInfo(c,l.width,l.height,B,A,C,d,e,m,r,y,F)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(d.API);(function(b){b.addSVG=function(a,b,d,f,g){function e(a){for(var b=
parseFloat(a[1]),c=parseFloat(a[2]),d=[],e=3,f=a.length;f>e;)"c"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2]),parseFloat(a[e+3]),parseFloat(a[e+4]),parseFloat(a[e+5]),parseFloat(a[e+6])]),e+=7):"l"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2])]),e+=3):e+=1;return[b,c,d]}if(void 0===b||void 0===d)throw Error("addSVG needs values for 'x' and 'y'");var h=function(a){var b=a.createElement("iframe"),c=a.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":
c.appendChild(a.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));a.getElementsByTagName("head")[0].appendChild(c);return b.name="childframe",b.setAttribute("width",0),b.setAttribute("height",0),b.setAttribute("frameborder","0"),b.setAttribute("scrolling","no"),b.setAttribute("seamless","seamless"),b.setAttribute("class","jsPDF_sillysvg_iframe"),a.body.appendChild(b),b}(document),h=function(a,b){var c=(b.contentWindow||b.contentDocument).document;return c.write(a),c.close(),
c.getElementsByTagName("svg")[0]}(a,h);a=[1,1];var k=parseFloat(h.getAttribute("width")),m=parseFloat(h.getAttribute("height"));k&&m&&(f&&g?a=[f/k,g/m]:f?a=[f/k,f/k]:g&&(a=[g/m,g/m]));var q,k=h.childNodes;f=0;for(g=k.length;g>f;f++)h=k[f],h.tagName&&"PATH"===h.tagName.toUpperCase()&&(q=e(h.getAttribute("d").split(" ")),q[0]=q[0]*a[0]+b,q[1]=q[1]*a[1]+d,this.lines.call(this,q[2],q[0],q[1],a));return this}})(d.API);(function(b){var a=b.getCharWidthsArray=function(a,b){b||(b={});var c,d,f,g=b.widths?
b.widths:this.internal.getFont().metadata.Unicode.widths,h=g.fof?g.fof:1,l=b.kerning?b.kerning:this.internal.getFont().metadata.Unicode.kerning,m=l.fof?l.fof:1,q=0,r=g[0]||h,t=[];c=0;for(d=a.length;d>c;c++)f=a.charCodeAt(c),t.push((g[f]||r)/h+(l[f]&&l[f][q]||0)/m),q=f;return t},c=function(a){for(var b=a.length,c=0;b;)b--,c+=a[b];return c},d=b.getStringUnitWidth=function(b,d){return c(a.call(this,b,d))},g=function(a,b,c,d){for(var f=[],g=0,h=a.length,l=0;g!==h&&l+b[g]<c;)l+=b[g],g++;f.push(a.slice(0,
g));c=g;for(l=0;g!==h;)l+b[g]>d&&(f.push(a.slice(c,g)),l=0,c=g),l+=b[g],g++;return c!==g&&f.push(a.slice(c,g)),f},h=function(b,f,k){k||(k={});var h,m,q,r,t,x=[],y=[x];r=k.textIndent||0;var F=0,B=0,C=b.split(" "),G=a(" ",k)[0];if(t=-1===k.lineIndent?C[0].length+2:k.lineIndent||0){var I=Array(t).join(" "),E=[];C.map(function(a){a=a.split(/\s*\n/);1<a.length?E=E.concat(a.map(function(a,b){return(b&&a.length?"\n":"")+a})):E.push(a[0])});C=E;t=d(I,k)}b=0;for(q=C.length;q>b;b++){var D=0;if(h=C[b],t&&"\n"==
h[0]&&(h=h.substr(1),D=1),m=a(h,k),B=c(m),r+F+B>f||D){if(B>f){r=g(h,m,f-(r+F),f);x.push(r.shift());for(x=[r.pop()];r.length;)y.push([r.shift()]);B=c(m.slice(h.length-x[0].length))}else x=[h];y.push(x);r=B+t}else x.push(h),r+=F+B;F=G}return y.map(t?function(a,b){return(b?I:"")+a.join(" ")}:function(a){return a.join(" ")})};b.splitTextToSize=function(a,b,c){c||(c={});var d=c.fontSize||this.internal.getFontSize(),f;f={0:1};var g={};if(c.widths&&c.kerning)f={widths:c.widths,kerning:c.kerning};else{var l=
this.internal.getFont(c.fontName,c.fontStyle);f=l.metadata.Unicode?{widths:l.metadata.Unicode.widths||f,kerning:l.metadata.Unicode.kerning||g}:{widths:f,kerning:g}}a=Array.isArray(a)?a:a.split(/\r?\n/);b=1*this.internal.scaleFactor*b/d;f.textIndent=c.textIndent?1*c.textIndent*this.internal.scaleFactor/d:0;f.lineIndent=c.lineIndent;g=[];c=0;for(d=a.length;d>c;c++)g=g.concat(h(a[c],b,f));return g}})(d.API);(function(b){var a=function(a){for(var b={},c=0;16>c;c++)b["klmnopqrstuvwxyz"[c]]="0123456789abcdef"[c];
for(var d,f,g,h,l={},m=1,q=l,r=[],F="",B="",C=a.length-1,c=1;c!=C;)h=a[c],c+=1,"'"==h?d?(g=d.join(""),d=void 0):d=[]:d?d.push(h):"{"==h?(r.push([q,g]),q={},g=void 0):"}"==h?(f=r.pop(),f[0][f[1]]=q,g=void 0,q=f[0]):"-"==h?m=-1:void 0===g?b.hasOwnProperty(h)?(F+=b[h],g=parseInt(F,16)*m,m=1,F=""):F+=h:b.hasOwnProperty(h)?(B+=b[h],q[g]=parseInt(B,16)*m,m=1,g=void 0,B=""):B+=h;return l},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},
d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
b.events.push(["addFonts",function(a){var b,c,f,h,m;for(c in a.fonts)a.fonts.hasOwnProperty(c)&&(b=a.fonts[c],f=g.Unicode[b.PostScriptName],f&&(h=b.metadata.Unicode?b.metadata.Unicode:b.metadata.Unicode={},h.widths=f.widths,h.kerning=f.kerning),m=d.Unicode[b.PostScriptName],m&&(h=b.metadata.Unicode?b.metadata.Unicode:b.metadata.Unicode={},h.encoding=m,m.codePages&&m.codePages.length&&(b.encoding=m.codePages[0])))}])})(d.API);(function(b){b.putTotalPages=function(a){a=new RegExp(a,"g");for(var b=1;b<=
this.internal.getNumberOfPages();b++)for(var d=0;d<this.internal.pages[b].length;d++)this.internal.pages[b][d]=this.internal.pages[b][d].replace(a,this.internal.getNumberOfPages());return this}})(d.API);(function(b){if(b.URL=b.URL||b.webkitURL,b.Blob&&b.URL)try{return new Blob,void 0}catch(a){}var c=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=
a;this.size=a.length;this.type=b;this.encoding=c},f=c.prototype,k=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},m="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),q=m.length,r=a.URL||a.webkitURL||a,x=r.createObjectURL,y=r.revokeObjectURL,F=r,B=a.btoa,C=a.atob,G=a.ArrayBuffer,I=a.Uint8Array,E=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=k.fake=!0;q--;)h.prototype[m[q]]=q+1;return r.createObjectURL||
(F=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(E),c.origin=b&&b[1])),c}),F.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):B?b+";base64,"+B(a.data):b+","+encodeURIComponent(a.data)):x?x.call(r,a):void 0},
F.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&y&&y.call(r,a)},f.append=function(a){var c=this.data;if(I&&(a instanceof G||a instanceof I)){var f="";a=new I(a);for(var k=0,l=a.length;l>k;k++)f+=String.fromCharCode(a[k]);c.push(f)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");f=new g;c.push(f.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&C?c.push(C(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):
("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},f.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},f.toString=function(){return"[object BlobBuilder]"},k.slice=function(a,b,c){var f=arguments.length;return 3>f&&(c=null),new d(this.data.slice(a,1<f?b:this.data.length),c,this.encoding)},k.toString=function(){return"[object Blob]"},k.close=function(){this.size=0;delete this.data},c}(b);b.Blob=function(a,b){var d=b?b.type||"":"",e=new c;if(a)for(var f=
0,k=a.length;k>f;f++)e.append(a[f]);return e.getBlob(d)}})("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var m=m||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(b){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var a=b.document,c=a.createElementNS("http://www.w3.org/1999/xhtml","a"),d=!b.externalHost&&"download"in c,g=function(c){var d=a.createEvent("MouseEvents");
d.initMouseEvent("click",!0,!1,b,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(d)},h=b.webkitRequestFileSystem,e=b.requestFileSystem||h||b.mozRequestFileSystem,m=function(a){(b.setImmediate||b.setTimeout)(function(){throw a;},0)},k=0,q=function(a){var c=function(){"string"==typeof a?(b.URL||b.webkitURL||b).revokeObjectURL(a):a.remove()};b.chrome?c():setTimeout(c,10)},r=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){m(f)}}},
s=function(a,m){var p,s,u,C=this,G=a.type,I=!1,E=function(){r(C,["writestart","progress","write","writeend"])},D=function(){((I||!p)&&(p=(b.URL||b.webkitURL||b).createObjectURL(a)),s)?s.location.href=p:void 0==b.open(p,"_blank")&&"undefined"!=typeof safari&&(b.location.href=p);C.readyState=C.DONE;E();q(p)},H=function(a){return function(){return C.readyState!==C.DONE?a.apply(this,arguments):void 0}},P={create:!0,exclusive:!1};return C.readyState=C.INIT,m||(m="download"),d?(p=(b.URL||b.webkitURL||b).createObjectURL(a),
c.href=p,c.download=m,g(c),C.readyState=C.DONE,E(),q(p),void 0):(b.chrome&&G&&"application/octet-stream"!==G&&(u=a.slice||a.webkitSlice,a=u.call(a,0,a.size,"application/octet-stream"),I=!0),h&&"download"!==m&&(m+=".download"),("application/octet-stream"===G||h)&&(s=b),e?(k+=a.size,e(b.TEMPORARY,k,H(function(b){b.root.getDirectory("saved",P,H(function(b){var c=function(){b.getFile(m,P,H(function(b){b.createWriter(H(function(c){c.onwriteend=function(a){s.location.href=b.toURL();C.readyState=C.DONE;
r(C,"writeend",a);q(b)};c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&D()};["writestart","progress","write","abort"].forEach(function(a){c["on"+a]=C["on"+a]});c.write(a);C.abort=function(){c.abort();C.readyState=C.DONE};C.readyState=C.WRITING}),D)}),D)};b.getFile(m,{create:!1},H(function(a){a.remove();c()}),H(function(a){a.code===a.NOT_FOUND_ERR?c():D()}))}),D)}),D),void 0):(D(),void 0))},u=s.prototype;return u.abort=function(){this.readyState=this.DONE;r(this,"abort")},u.readyState=u.INIT=
0,u.WRITING=1,u.DONE=2,u.error=u.onwritestart=u.onprogress=u.onwrite=u.onabort=u.onerror=u.onwriteend=null,function(a,b){return new s(a,b)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module&&(module.exports=m);void function(b,a){"object"==typeof module?module.exports=a():b.adler32cs=a()}(d,function(){var b="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,a=null,c=function(){if(!b)return function(){return!1};try{var c=
require("buffer");"function"==typeof c.Buffer&&(a=c.Buffer)}catch(d){}return function(b){return b instanceof ArrayBuffer||null!==a&&b instanceof a}}(),d=function(){return null!==a?function(b){return(new a(b,"utf8")).toString("binary")}:function(a){return unescape(encodeURIComponent(a))}}(),g=function(a,b){for(var c=65535&a,d=a>>>16,e=0,f=b.length;f>e;e++)c=(c+(255&b.charCodeAt(e)))%65521,d=(d+c)%65521;return(d<<16|c)>>>0},h=function(a,b){for(var c=65535&a,d=a>>>16,e=0,f=b.length;f>e;e++)c=(c+b[e])%
65521,d=(d+c)%65521;return(d<<16|c)>>>0},e={},m=e.Adler32=function(){var a=function(b){if(!(this instanceof a))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(b=null==b?1:+b))throw Error("First arguments needs to be a finite number.");this.checksum=b>>>0},e=a.prototype={};return e.constructor=a,a.from=function(a){return a.prototype=e,a}(function(b){if(!(this instanceof a))throw new TypeError("Constructor cannot called be as a function.");if(null==b)throw Error("First argument needs to be a string.");
this.checksum=g(1,b.toString())}),a.fromUtf8=function(a){return a.prototype=e,a}(function(b){if(!(this instanceof a))throw new TypeError("Constructor cannot called be as a function.");if(null==b)throw Error("First argument needs to be a string.");b=d(b.toString());this.checksum=g(1,b)}),b&&(a.fromBuffer=function(a){return a.prototype=e,a}(function(b){if(!(this instanceof a))throw new TypeError("Constructor cannot called be as a function.");if(!c(b))throw Error("First argument needs to be ArrayBuffer.");
b=new Uint8Array(b);return this.checksum=h(1,b)})),e.update=function(a){if(null==a)throw Error("First argument needs to be a string.");return a=a.toString(),this.checksum=g(this.checksum,a)},e.updateUtf8=function(a){if(null==a)throw Error("First argument needs to be a string.");a=d(a.toString());return this.checksum=g(this.checksum,a)},b&&(e.updateBuffer=function(a){if(!c(a))throw Error("First argument needs to be ArrayBuffer.");a=new Uint8Array(a);return this.checksum=h(this.checksum,a)}),e.clone=
function(){return new m(this.checksum)},a}();return e.from=function(a){if(null==a)throw Error("First argument needs to be a string.");return g(1,a.toString())},e.fromUtf8=function(a){if(null==a)throw Error("First argument needs to be a string.");a=d(a.toString());return g(1,a)},b&&(e.fromBuffer=function(a){if(!c(a))throw Error("First argument need to be ArrayBuffer.");a=new Uint8Array(a);return h(1,a)}),e});var q=function(){function b(){var a=this;a.build_tree=function(b){var c,d,f,k=a.dyn_tree;d=
a.stat_desc.static_tree;var g=a.stat_desc.elems,h=-1;b.heap_len=0;b.heap_max=s;for(c=0;g>c;c++)0!==k[2*c]?(b.heap[++b.heap_len]=h=c,b.depth[c]=0):k[2*c+1]=0;for(;2>b.heap_len;)f=b.heap[++b.heap_len]=2>h?++h:0,k[2*f]=1,b.depth[f]=0,b.opt_len--,d&&(b.static_len-=d[2*f+1]);a.max_code=h;for(c=Math.floor(b.heap_len/2);1<=c;c--)b.pqdownheap(k,c);f=g;do c=b.heap[1],b.heap[1]=b.heap[b.heap_len--],b.pqdownheap(k,1),d=b.heap[1],b.heap[--b.heap_max]=c,b.heap[--b.heap_max]=d,k[2*f]=k[2*c]+k[2*d],b.depth[f]=Math.max(b.depth[c],
b.depth[d])+1,k[2*c+1]=k[2*d+1]=f,b.heap[1]=f++,b.pqdownheap(k,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];var l,m,g=a.dyn_tree,h=a.stat_desc.static_tree,p=a.stat_desc.extra_bits,q=a.stat_desc.extra_base,r=a.stat_desc.max_length,u=0;for(d=0;e>=d;d++)b.bl_count[d]=0;g[2*b.heap[b.heap_max]+1]=0;for(c=b.heap_max+1;s>c;c++)f=b.heap[c],d=g[2*g[2*f+1]+1]+1,d>r&&(d=r,u++),g[2*f+1]=d,f>a.max_code||(b.bl_count[d]++,l=0,f>=q&&(l=p[f-q]),m=g[2*f],b.opt_len+=m*(d+l),h&&(b.static_len+=m*(h[2*f+1]+l)));
if(0!==u){do{for(d=r-1;0===b.bl_count[d];)d--;b.bl_count[d]--;b.bl_count[d+1]+=2;b.bl_count[r]--;u-=2}while(0<u);for(d=r;0!==d;d--)for(f=b.bl_count[d];0!==f;)l=b.heap[--c],l>a.max_code||(g[2*l+1]!=d&&(b.opt_len+=(d-g[2*l+1])*g[2*l],g[2*l+1]=d),f--)}l=a.max_code;m=b.bl_count;b=[];f=0;for(c=1;e>=c;c++)b[c]=f=f+m[c-1]<<1;for(m=0;l>=m;m++)if(g=k[2*m+1],0!==g){c=k;f=2*m;d=b[g]++;h=0;do h|=1&d,d>>>=1,h<<=1;while(0<--g);c[f]=h>>>1}}}function a(a,b,c,d,e){this.static_tree=a;this.extra_bits=b;this.extra_base=
c;this.elems=d;this.max_length=e}function c(a,b,c,d,e){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=d;this.func=e}function d(a,b,c,e){var f=a[2*b];a=a[2*c];return a>f||f==a&&e[b]<=e[c]}function g(){function c(){var a;for(a=0;r>a;a++)Da[2*a]=0;for(a=0;m>a;a++)Ia[2*a]=0;for(a=0;k>a;a++)ta[2*a]=0;Da[2*u]=1;za=ab=ca.opt_len=ca.static_len=0}function e(a,b){var c,d,f=-1,k=a[1],g=0,h=7,l=4;0===k&&(h=138,l=3);a[2*(b+1)+1]=65535;for(c=0;b>=c;c++)d=k,k=a[2*(c+1)+1],++g<h&&d==k||(l>g?
ta[2*d]+=g:0!==d?(d!=f&&ta[2*d]++,ta[2*w]++):10>=g?ta[2*x]++:ta[2*y]++,g=0,f=d,0===k?(h=138,l=3):d==k?(h=6,l=3):(h=7,l=4))}function h(a){ca.pending_buf[ca.pending++]=a}function s(a){h(255&a);h(a>>>8&255)}function t(a,b){pa>F-b?(va|=a<<pa&65535,s(va),va=a>>>F-pa,pa+=b-F):(va|=a<<pa&65535,pa+=b)}function A(a,b){var c=2*a;t(65535&b[c],65535&b[c+1])}function V(a,b){var c,d,e=-1,f=a[1],k=0,g=7,h=4;0===f&&(g=138,h=3);for(c=0;b>=c;c++)if(d=f,f=a[2*(c+1)+1],!(++k<g&&d==f)){if(h>k){do A(d,ta);while(0!==--k)
}else 0!==d?(d!=e&&(A(d,ta),k--),A(w,ta),t(k-3,2)):10>=k?(A(x,ta),t(k-3,3)):(A(y,ta),t(k-11,7));k=0;e=d;0===f?(g=138,h=3):d==f?(g=6,h=3):(g=7,h=4)}}function hb(){16==pa?(s(va),va=0,pa=0):8<=pa&&(h(255&va),va>>>=8,pa-=8)}function Qa(a,c){var d,e,k;if(ca.pending_buf[Ra+2*za]=a>>>8&255,ca.pending_buf[Ra+2*za+1]=255&a,ca.pending_buf[bb+za]=255&c,za++,0===a?Da[2*c]++:(ab++,a--,Da[2*(b._length_code[c]+q+1)]++,Ia[2*b.d_code(a)]++),0===(8191&za)&&2<ua){d=8*za;e=aa-Aa;for(k=0;m>k;k++)d+=Ia[2*k]*(5+b.extra_dbits[k]);
if(d>>>=3,ab<Math.floor(za/2)&&d<Math.floor(e/2))return!0}return za==Ma-1}function ib(a,c){var d,e,k,g,h=0;if(0!==za){do d=ca.pending_buf[Ra+2*h]<<8&65280|255&ca.pending_buf[Ra+2*h+1],e=255&ca.pending_buf[bb+h],h++,0===d?A(e,a):(k=b._length_code[e],A(k+q+1,a),g=b.extra_lbits[k],0!==g&&(e-=b.base_length[k],t(e,g)),d--,k=b.d_code(d),A(k,c),g=b.extra_dbits[k],0!==g&&(d-=b.base_dist[k],t(d,g)));while(za>h)}A(u,a);Sa=a[2*u+1]}function jb(){8<pa?s(va):0<pa&&h(255&va);pa=va=0}function kb(a,b,c){jb();Sa=
8;c&&(s(b),s(~b));ca.pending_buf.set(ba.subarray(a,a+b),ca.pending);ca.pending+=b}function Ha(d){var g=0<=Aa?Aa:-1,h=aa-Aa,l,m,p=0;if(0<ua){Ta.build_tree(ca);Ua.build_tree(ca);e(Da,Ta.max_code);e(Ia,Ua.max_code);cb.build_tree(ca);for(p=k-1;3<=p&&0===ta[2*b.bl_order[p]+1];p--);p=(ca.opt_len+=3*(p+1)+14,p);l=ca.opt_len+3+7>>>3;m=ca.static_len+3+7>>>3;l>=m&&(l=m)}else l=m=h+5;if(l>=h+4&&-1!=g)t((oa<<1)+(d?1:0),3),kb(g,h,!0);else if(m==l)t((Ka<<1)+(d?1:0),3),ib(a.static_ltree,a.static_dtree);else{t((Ga<<
1)+(d?1:0),3);g=Ta.max_code+1;h=Ua.max_code+1;p+=1;t(g-257,5);t(h-1,5);t(p-4,4);for(l=0;p>l;l++)t(ta[2*b.bl_order[l]+1],3);V(Da,g-1);V(Ia,h-1);ib(Da,Ia)}c();d&&jb();Aa=aa;la.flush_pending()}function Ya(){var a,b,c,d;do{if(d=mb-ea-aa,0===d&&0===aa&&0===ea)d=ka;else if(-1==d)d--;else if(aa>=ka+ka-sa){ba.set(ba.subarray(ka,ka+ka),0);Na-=ka;aa-=ka;Aa-=ka;c=a=Oa;do b=65535&ma[--c],ma[c]=b>=ka?b-ka:0;while(0!==--a);c=a=ka;do b=65535&Ba[--c],Ba[c]=b>=ka?b-ka:0;while(0!==--a);d+=ka}if(0===la.avail_in)break;
a=la.read_buf(ba,aa+ea,d);ea+=a;ea>=ia&&(ga=255&ba[aa],ga=(ga<<Ea^255&ba[aa+1])&Fa)}while(sa>ea&&0!==la.avail_in)}function lb(a){var b,c,d=db,e=aa,f=ya,k=aa>ka-sa?aa-(ka-sa):0,g=eb,h=Ja,l=aa+Ca,m=ba[e+f-1],p=ba[e+f];ya>=fb&&(d>>=2);g>ea&&(g=ea);do if(b=a,ba[b+f]==p&&ba[b+f-1]==m&&ba[b]==ba[e]&&ba[++b]==ba[e+1]){e+=2;for(b++;ba[++e]==ba[++b]&&ba[++e]==ba[++b]&&ba[++e]==ba[++b]&&ba[++e]==ba[++b]&&ba[++e]==ba[++b]&&ba[++e]==ba[++b]&&ba[++e]==ba[++b]&&ba[++e]==ba[++b]&&l>e;);if(c=Ca-(l-e),e=l-Ca,c>f){if(Na=
a,f=c,c>=g)break;m=ba[e+f-1];p=ba[e+f]}}while((a=65535&Ba[a&h])>k&&0!==--d);return ea>=f?f:ea}function ob(a){for(var b,c,d=0;;){if(sa>ea){if(Ya(),sa>ea&&a==E)return Z;if(0===ea)break}if(ea>=ia&&(ga=(ga<<Ea^255&ba[aa+(ia-1)])&Fa,d=65535&ma[ga],Ba[aa&Ja]=ma[ga],ma[ga]=aa),ya=qa,nb=Na,qa=ia-1,0!==d&&Xa>ya&&ka-sa>=(aa-d&65535)&&(Va!=G&&(qa=lb(d)),5>=qa&&(Va==C||qa==ia&&4096<aa-Na)&&(qa=ia-1)),ya>=ia&&ya>=qa){c=aa+ea-ia;b=Qa(aa-1-nb,ya-ia);ea-=ya-1;ya-=2;do++aa<=c&&(ga=(ga<<Ea^255&ba[aa+(ia-1)])&Fa,d=
65535&ma[ga],Ba[aa&Ja]=ma[ga],ma[ga]=aa);while(0!==--ya);if(Pa=0,qa=ia-1,aa++,b&&(Ha(!1),0===la.avail_out))return Z}else if(0!==Pa){if(b=Qa(0,255&ba[aa-1]),b&&Ha(!1),aa++,ea--,0===la.avail_out)return Z}else Pa=1,aa++,ea--}return 0!==Pa&&(Qa(0,255&ba[aa-1]),Pa=0),Ha(a==P),0===la.avail_out?a==P?da:Z:a==P?$:fa}var la,xa,Za,La,ka,$a,Ja,ba,mb,Ba,ma,ga,Oa,gb,Fa,Ea,Aa,qa,nb,Pa,aa,Na,ea,ya,db,Xa,ua,Va,fb,eb,Da,Ia,ta,ca=this,Ta=new b,Ua=new b,cb=new b;ca.depth=[];var bb,Ma,za,Ra,ab,Sa,va,pa;ca.bl_count=[];
ca.heap=[];Da=[];Ia=[];ta=[];ca.pqdownheap=function(a,b){for(var c=ca.heap,e=c[b],f=b<<1;f<=ca.heap_len&&(f<ca.heap_len&&d(a,c[f+1],c[f],ca.depth)&&f++,!d(a,e,c[f],ca.depth));)c[b]=c[f],b=f,f<<=1;c[b]=e};ca.deflateInit=function(b,d,e,f,k,g){f||(f=wa);k||(k=W);g||(g=I);b.msg=null;d==B&&(d=6);if(1>k||k>R||f!=wa||9>e||15<e||0>d||9<d||0>g||g>G)b=S;else{b.dstate=ca;$a=e;ka=1<<$a;Ja=ka-1;gb=k+7;Oa=1<<gb;Fa=Oa-1;Ea=Math.floor((gb+ia-1)/ia);ba=new Uint8Array(2*ka);Ba=[];ma=[];Ma=1<<k+6;ca.pending_buf=new Uint8Array(4*
Ma);Za=4*Ma;Ra=Math.floor(Ma/2);bb=3*Ma;ua=d;Va=g;b.total_in=b.total_out=0;b.msg=null;ca.pending=0;ca.pending_out=0;xa=ja;La=E;Ta.dyn_tree=Da;Ta.stat_desc=a.static_l_desc;Ua.dyn_tree=Ia;Ua.stat_desc=a.static_d_desc;cb.dyn_tree=ta;cb.stat_desc=a.static_bl_desc;pa=va=0;Sa=8;c();mb=2*ka;for(b=ma[Oa-1]=0;Oa-1>b;b++)ma[b]=0;Xa=Y[ua].max_lazy;fb=Y[ua].good_length;eb=Y[ua].nice_length;db=Y[ua].max_chain;ea=Aa=aa=0;qa=ya=ia-1;ga=Pa=0;b=K}return b};ca.deflateEnd=function(){return xa!=na&&xa!=ja&&xa!=ra?S:
(ca.pending_buf=null,ma=null,Ba=null,ba=null,ca.dstate=null,xa==ja?Q:K)};ca.deflateParams=function(a,b,c){var d=K;return b==B&&(b=6),0>b||9<b||0>c||c>G?S:(Y[ua].func!=Y[b].func&&0!==a.total_in&&(d=a.deflate(D)),ua!=b&&(ua=b,Xa=Y[ua].max_lazy,fb=Y[ua].good_length,eb=Y[ua].nice_length,db=Y[ua].max_chain),Va=c,d)};ca.deflateSetDictionary=function(a,b,c){a=c;var d=0;if(!b||xa!=na)return S;if(ia>a)return K;a>ka-sa&&(a=ka-sa,d=c-a);ba.set(b.subarray(d,d+a),0);Aa=aa=a;ga=255&ba[0];ga=(ga<<Ea^255&ba[1])&
Fa;for(b=0;a-ia>=b;b++)ga=(ga<<Ea^255&ba[b+(ia-1)])&Fa,Ba[b&Ja]=ma[ga],ma[ga]=b;return K};ca.deflate=function(b,c){var d,e,f,k;if(c>P||0>c)return S;if(!b.next_out||!b.next_in&&0!==b.avail_in||xa==ra&&c!=P)return b.msg=T[N-S],S;if(0===b.avail_out)return b.msg=T[N-L],L;la=b;k=La;La=c;xa==na&&(e=wa+($a-8<<4)<<8,f=(ua-1&255)>>1,3<f&&(f=3),e|=f<<6,0!==aa&&(e|=ha),xa=ja,e+=31-e%31,h(e>>8&255),h(e&255));if(0!==ca.pending){if(la.flush_pending(),0===la.avail_out)return La=-1,K}else if(0===la.avail_in&&k>=
c&&c!=P)return la.msg=T[N-L],L;if(xa==ra&&0!==la.avail_in)return b.msg=T[N-L],L;if(0!==la.avail_in||0!==ea||c!=E&&xa!=ra){switch(k=-1,Y[ua].func){case U:a:{k=65535;for(k>Za-5&&(k=Za-5);;){if(1>=ea){if(Ya(),0===ea&&c==E){k=Z;break a}if(0===ea)break}if((aa+=ea,ea=0,d=Aa+k,(0===aa||aa>=d)&&(ea=aa-d,aa=d,Ha(!1),0===la.avail_out))||aa-Aa>=ka-sa&&(Ha(!1),0===la.avail_out)){k=Z;break a}}k=(Ha(c==P),0===la.avail_out?c==P?da:Z:c==P?$:fa)}break;case X:a:{for(k=0;;){if(sa>ea){if(Ya(),sa>ea&&c==E){k=Z;break a}if(0===
ea)break}if(ea>=ia&&(ga=(ga<<Ea^255&ba[aa+(ia-1)])&Fa,k=65535&ma[ga],Ba[aa&Ja]=ma[ga],ma[ga]=aa),0!==k&&ka-sa>=(aa-k&65535)&&Va!=G&&(qa=lb(k)),qa>=ia)if(d=Qa(aa-Na,qa-ia),ea-=qa,Xa>=qa&&ea>=ia){qa--;do aa++,ga=(ga<<Ea^255&ba[aa+(ia-1)])&Fa,k=65535&ma[ga],Ba[aa&Ja]=ma[ga],ma[ga]=aa;while(0!==--qa);aa++}else aa+=qa,qa=0,ga=255&ba[aa],ga=(ga<<Ea^255&ba[aa+1])&Fa;else d=Qa(0,255&ba[aa]),ea--,aa++;if(d&&(Ha(!1),0===la.avail_out)){k=Z;break a}}k=(Ha(c==P),0===la.avail_out?c==P?da:Z:c==P?$:fa)}break;case O:k=
ob(c)}if((k==da||k==$)&&(xa=ra),k==Z||k==da)return 0===la.avail_out&&(La=-1),K;if(k==fa){if(c==D)t(Ka<<1,3),A(u,a.static_ltree),hb(),9>1+Sa+10-pa&&(t(Ka<<1,3),A(u,a.static_ltree),hb()),Sa=7;else if(t((oa<<1)+0,3),kb(0,0,!0),c==H)for(d=0;Oa>d;d++)ma[d]=0;if(la.flush_pending(),0===la.avail_out)return La=-1,K}}return c!=P?K:J}}function h(){this.total_out=this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var e=15,m=30,k=19,q=256,r=q+1+29,s=2*r+1,u=256,w=16,x=17,y=18,
F=16,B=-1,C=1,G=2,I=0,E=0,D=1,H=3,P=4,K=0,J=1,N=2,S=-2,Q=-3,L=-5,V=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,
26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,
29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];b._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,
24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];b.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];b.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,
768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];b.d_code=function(a){return 256>a?V[a]:V[256+(a>>>7)]};b.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];b.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];b.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];b.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,
66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,
57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,
9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,
8,99,8,227,8];a.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];a.static_l_desc=new a(a.static_ltree,b.extra_lbits,q+1,r,e);a.static_d_desc=new a(a.static_dtree,b.extra_dbits,0,m,e);a.static_bl_desc=new a(null,b.extra_blbits,0,k,7);var R=9,W=8,U=0,X=1,O=2,Y=[new c(0,0,0,0,U),new c(4,4,8,4,X),new c(4,5,16,8,X),new c(4,6,32,32,X),new c(4,4,16,16,O),new c(8,16,32,32,O),new c(8,16,128,128,O),new c(8,
32,128,256,O),new c(32,128,258,1024,O),new c(32,258,258,4096,O)],T="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";"),Z=0,fa=1,da=2,$=3,ha=32,na=42,ja=113,ra=666,wa=8,oa=0,Ka=1,Ga=2,ia=3,Ca=258,sa=Ca+ia+1;return h.prototype={deflateInit:function(a,b){return this.dstate=new g,b||(b=e),this.dstate.deflateInit(this,a,b)},deflate:function(a){return this.dstate?this.dstate.deflate(this,a):S},deflateEnd:function(){if(!this.dstate)return S;var a=this.dstate.deflateEnd();return this.dstate=
null,a},deflateParams:function(a,b){return this.dstate?this.dstate.deflateParams(this,a,b):S},deflateSetDictionary:function(a,b){return this.dstate?this.dstate.deflateSetDictionary(this,a,b):S},read_buf:function(a,b,c){var d=this.avail_in;return d>c&&(d=c),0===d?0:(this.avail_in-=d,a.set(this.next_in.subarray(this.next_in_index,this.next_in_index+d),b),this.next_in_index+=d,this.total_in+=d,d)},flush_pending:function(){var a=this.dstate.pending;a>this.avail_out&&(a=this.avail_out);0!==a&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,
this.dstate.pending_out+a),this.next_out_index),this.next_out_index+=a,this.dstate.pending_out+=a,this.total_out+=a,this.avail_out-=a,this.dstate.pending-=a,0===this.dstate.pending&&(this.dstate.pending_out=0))}},function(a){var b=new h,c=E,d=new Uint8Array(512);"undefined"==typeof a&&(a=B);b.deflateInit(a);b.next_out=d;this.append=function(a,e){var f,k,g=[],h=0,l=0,m=0;if(a.length){b.next_in_index=0;b.next_in=a;b.avail_in=a.length;do{if(b.next_out_index=0,b.avail_out=512,f=b.deflate(c),f!=K)throw"deflating: "+
b.msg;b.next_out_index&&(512==b.next_out_index?g.push(new Uint8Array(d)):g.push(new Uint8Array(d.subarray(0,b.next_out_index))));m+=b.next_out_index;e&&0<b.next_in_index&&b.next_in_index!=h&&(e(b.next_in_index),h=b.next_in_index)}while(0<b.avail_in||0===b.avail_out);return k=new Uint8Array(m),g.forEach(function(a){k.set(a,l);l+=a.length}),k}};this.flush=function(){var a,c,e=[],f=0,k=0;do{if(b.next_out_index=0,b.avail_out=512,a=b.deflate(P),a!=J&&a!=K)throw"deflating: "+b.msg;0<512-b.avail_out&&e.push(new Uint8Array(d.subarray(0,
b.next_out_index)));k+=b.next_out_index}while(0<b.avail_in||0===b.avail_out);return b.deflateEnd(),c=new Uint8Array(k),e.forEach(function(a){c.set(a,f);f+=a.length}),c}}}(this);!function(b){var a;a=function(){function a(b){var c,d,e,f,g,h;this.data=b;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(f=null;;){c=this.readUInt32();h=b=void 0;h=[];for(b=0;4>b;++b)h.push(String.fromCharCode(this.data[this.pos++]));switch(b=h.join("")){case "IHDR":this.width=
this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case "PLTE":this.palette=this.read(c);break;case "fcTL":f&&this.animation.frames.push(f);this.pos+=4;f={width:this.readUInt32(),height:this.readUInt32(),
xOffset:this.readUInt32(),yOffset:this.readUInt32()};b=this.readUInt16();c=this.readUInt16()||100;f.delay=1E3*b/c;f.disposeOp=this.data[this.pos++];f.blendOp=this.data[this.pos++];f.data=[];break;case "IDAT":case "fdAT":"fdAT"===b&&(this.pos+=4,c-=4);b=(null!=f?f.data:void 0)||this.imgData;for(h=0;0<=c?c>h:h>c;0<=c?++h:--h)b.push(this.data[this.pos++]);break;case "tRNS":switch(this.transparency={},this.colorType){case 3:if(e=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>
e)throw Error("More transparent colors than palette size");if(g=e-this.transparency.indexed.length,0<g)for(c=0;0<=g?g>c:c>g;0<=g?++c:--c)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case "tEXt":h=this.read(c);c=h.indexOf(0);b=String.fromCharCode.apply(String,h.slice(0,c));this.text[b]=String.fromCharCode.apply(String,h.slice(c+1));break;case "IEND":f&&this.animation.frames.push(f);a:{switch(this.colorType){case 0:case 3:case 4:e=
1;break a;case 2:case 6:e=3;break a}e=void 0}this.colors=e;this.hasAlphaChannel=4===(d=this.colorType)||6===d;d=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*d;a:{switch(this.colors){case 1:d="DeviceGray";break a;case 3:d="DeviceRGB";break a}d=void 0}return this.colorSpace=d,this.imgData=new Uint8Array(this.imgData),void 0;default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}var d,g,m;a.load=function(b,d,e){var f;return"function"==
typeof d&&(e=d),f=new XMLHttpRequest,f.open("GET",b,!0),f.responseType="arraybuffer",f.onload=function(){var b,g;return b=new Uint8Array(f.response||f.mozResponseArrayBuffer),g=new a(b),"function"==typeof(null!=d?d.getContext:void 0)&&g.render(d),"function"==typeof e?e(g):void 0},f.send(null)};a.prototype.read=function(a){var b,c;c=[];for(b=0;0<=a?a>b:b>a;0<=a?++b:--b)c.push(this.data[this.pos++]);return c};a.prototype.readUInt32=function(){var a,b,c,d;return a=this.data[this.pos++]<<24,b=this.data[this.pos++]<<
16,c=this.data[this.pos++]<<8,d=this.data[this.pos++],a|b|c|d};a.prototype.readUInt16=function(){var a,b;return a=this.data[this.pos++]<<8,b=this.data[this.pos++],a|b};a.prototype.decodePixels=function(a){var b,c,d,e,f,g,l,m,q,r,t,A,I,E,D;if(null==a&&(a=this.imgData),0===a.length)return new Uint8Array(0);a=new h(a);a=a.getBytes();m=this.pixelBitlength/8;A=m*this.width;q=new Uint8Array(A*this.height);g=a.length;for(c=r=t=0;g>r;){switch(a[r++]){case 0:for(b=0;A>b;b+=1)q[c++]=a[r++];break;case 1:for(e=
D=0;A>D;e=D+=1)b=a[r++],f=m>e?0:q[c-m],q[c++]=(b+f)%256;break;case 2:for(e=f=0;A>f;e=f+=1)b=a[r++],d=(e-e%m)/m,I=t&&q[(t-1)*A+d*m+e%m],q[c++]=(I+b)%256;break;case 3:for(e=D=0;A>D;e=D+=1)b=a[r++],d=(e-e%m)/m,f=m>e?0:q[c-m],I=t&&q[(t-1)*A+d*m+e%m],q[c++]=(b+Math.floor((f+I)/2))%256;break;case 4:for(e=D=0;A>D;e=D+=1)b=a[r++],d=(e-e%m)/m,f=m>e?0:q[c-m],0===t?I=E=0:(I=q[(t-1)*A+d*m+e%m],E=d&&q[(t-1)*A+(d-1)*m+e%m]),l=f+I-E,e=Math.abs(l-f),d=Math.abs(l-I),l=Math.abs(l-E),f=d>=e&&l>=e?f:l>=d?I:E,q[c++]=
(b+f)%256;break;default:throw Error("Invalid filter algorithm: "+a[r-1]);}t++}return q};a.prototype.decodePalette=function(){var a,b,c,d,e,f,g,h,l;c=this.palette;f=this.transparency.indexed||[];e=new Uint8Array((f.length||0)+c.length);b=g=a=d=0;for(h=c.length;h>g;b=g+=3)e[d++]=c[b],e[d++]=c[b+1],e[d++]=c[b+2],e[d++]=null!=(l=f[a++])?l:255;return e};a.prototype.copyToImageData=function(a,b){var c,d,e,f,g,h,l,m,q;if(d=this.colors,m=null,c=this.hasAlphaChannel,this.palette.length&&(m=null!=(q=this._decodedPalette)?
q:this._decodedPalette=this.decodePalette(),d=4,c=!0),e=a.data||a,l=e.length,g=m||b,f=h=0,1===d)for(;l>f;)d=m?4*b[f/4]:h,h=g[d++],e[f++]=h,e[f++]=h,e[f++]=h,e[f++]=c?g[d++]:255,h=d;else for(;l>f;)d=m?4*b[f/4]:h,e[f++]=g[d++],e[f++]=g[d++],e[f++]=g[d++],e[f++]=c?g[d++]:255,h=d};a.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};try{g=b.document.createElement("canvas"),m=g.getContext("2d")}catch(e){return-1}return d=function(a){var b;
return m.width=a.width,m.height=a.height,m.clearRect(0,0,a.width,a.height),m.putImageData(a,0,0),b=new Image,b.src=g.toDataURL(),b},a.prototype.decodeFrames=function(a){var b,c,e,f,g,h,m;if(this.animation){h=this.animation.frames;m=[];b=f=0;for(g=h.length;g>f;b=++f)b=h[b],c=a.createImageData(b.width,b.height),e=this.decodePixels(new Uint8Array(b.data)),this.copyToImageData(c,e),b.imageData=c,m.push(b.image=d(c));return m}},a.prototype.renderFrame=function(a,b){var c,d,e;return d=this.animation.frames,
c=d[b],e=d[b-1],0===b&&a.clearRect(0,0,this.width,this.height),1===(null!=e?e.disposeOp:void 0)?a.clearRect(e.xOffset,e.yOffset,e.width,e.height):2===(null!=e?e.disposeOp:void 0)&&a.putImageData(e.imageData,e.xOffset,e.yOffset),0===c.blendOp&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},a.prototype.animate=function(a){var b,c,d,e,f,g,h=this;return c=0,g=this.animation,e=g.numFrames,d=g.frames,f=g.numPlays,(b=function(){var g,l;return g=c++%e,l=d[g],h.renderFrame(a,
g),1<e&&f>c/e?h.animation._timeout=setTimeout(b,l.delay):void 0})()},a.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)},a.prototype.render=function(a){var b,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,b=a.getContext("2d"),this.animation?(this.decodeFrames(b),this.animate(b)):(c=b.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),b.putImageData(c,0,0))},a}();b.PNG=
a}("undefined"!=typeof window&&window||this);var b=function(){function b(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}return b.prototype={ensureBuffer:function(a){var b=this.buffer,d=b?b.byteLength:0;if(d>a)return b;for(var f=512;a>f;)f<<=1;a=new Uint8Array(f);for(f=0;d>f;++f)a[f]=b[f];return this.buffer=a},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var b=this.pos;if(a){this.ensureBuffer(b+
a);for(a=b+a;!this.eof&&this.bufferLength<a;)this.readBlock();var d=this.bufferLength;a>d&&(a=d)}else{for(;!this.eof;)this.readBlock();a=this.bufferLength}return this.pos=a,this.buffer.subarray(b,a)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},
makeSubStream:function(a,b,d){for(var f=a+b;this.bufferLength<=f&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,b,d)},skip:function(a){a||(a=1);this.pos+=a},reset:function(){this.pos=0}},b}(),h=function(){function d(a){throw Error(a);}function a(a){var c=0,e=a[c++],g=a[c++];-1!=e&&-1!=g||d("Invalid header in flate stream");8!=(15&e)&&d("Unknown compression method in flate stream");0!=((e<<8)+g)%31&&d("Bad FCHECK in flate stream");32&g&&d("FDICT bit set in flate stream");this.bytes=a;
this.bytesPos=c;this.codeBuf=this.codeSize=0;b.call(this)}if("undefined"!=typeof Uint32Array){var c=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),h=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,
657409,658433,724993,727041,794625,798721,868353,876545]),m=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,
524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,
524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,
524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,
524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,
524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,
524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,
524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],e=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return a.prototype=Object.create(b.prototype),a.prototype.getBits=function(a){for(var b,c=this.codeSize,e=this.codeBuf,g=this.bytes,
h=this.bytesPos;a>c;)"undefined"==typeof(b=g[h++])&&d("Bad encoding in flate stream"),e|=b<<c,c+=8;return b=e&(1<<a)-1,this.codeBuf=e>>a,this.codeSize=c-a,this.bytesPos=h,b},a.prototype.getCode=function(a){var b=a[0],c=a[1];a=this.codeSize;for(var e=this.codeBuf,g=this.bytes,h=this.bytesPos;c>a;){var l;"undefined"==typeof(l=g[h++])&&d("Bad encoding in flate stream");e|=l<<a;a+=8}c=b[e&(1<<c)-1];b=c>>16;c&=65535;return(0==a||b>a||0==b)&&d("Bad encoding in flate stream"),this.codeBuf=e>>b,this.codeSize=
a-b,this.bytesPos=h,c},a.prototype.generateHuffmanTable=function(a){for(var b=a.length,c=0,d=0;b>d;++d)a[d]>c&&(c=a[d]);for(var e=1<<c,f=new Uint32Array(e),g=1,h=0,l=2;c>=g;++g,h<<=1,l<<=1)for(var m=0;b>m;++m)if(a[m]==g){for(var q=0,r=h,d=0;g>d;++d)q=q<<1|1&r,r>>=1;for(d=q;e>d;d+=l)f[d]=g<<16|m;++h}return[f,c]},a.prototype.readBlock=function(){function a(b,c,d,e,f){for(b=b.getBits(d)+e;0<b--;)c[x++]=f}var b=this.getBits(3);if(1&b&&(this.eof=!0),b>>=1,0==b){var q,r=this.bytes,s=this.bytesPos;"undefined"==
typeof(q=r[s++])&&d("Bad block header in flate stream");var u=q;"undefined"==typeof(q=r[s++])&&d("Bad block header in flate stream");u|=q<<8;"undefined"==typeof(q=r[s++])&&d("Bad block header in flate stream");b=q;"undefined"==typeof(q=r[s++])&&d("Bad block header in flate stream");(b|q<<8)!=(65535&~u)&&d("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;q=this.bufferLength;b=this.ensureBuffer(q+u);this.bufferLength=u=q+u;for(var w=q;u>w;++w){if("undefined"==typeof(q=r[s++])){this.eof=
!0;break}b[w]=q}return this.bytesPos=s,void 0}if(1==b)s=m,q=e;else if(2==b){b=this.getBits(5)+257;q=this.getBits(5)+1;for(var r=this.getBits(4)+4,s=Array(c.length),x=0;r>x;)s[c[x++]]=this.getBits(3);s=this.generateHuffmanTable(s);x=r=0;q=b+q;for(u=Array(q);q>x;)w=this.getCode(s),16==w?a(this,u,2,3,r):17==w?a(this,u,3,3,r=0):18==w?a(this,u,7,11,r=0):u[x++]=r=w;s=this.generateHuffmanTable(u.slice(0,b));q=this.generateHuffmanTable(u.slice(b,q))}else d("Unknown block type in flate stream");u=(b=this.buffer)?
b.length:0;for(w=this.bufferLength;;){var y=this.getCode(s);if(256>y)w+1>=u&&(b=this.ensureBuffer(w+1),u=b.length),b[w++]=y;else{if(256==y)return this.bufferLength=w,void 0;var y=y-257,y=g[y],F=y>>16;0<F&&(F=this.getBits(F));r=(65535&y)+F;y=this.getCode(q);y=h[y];F=y>>16;0<F&&(F=this.getBits(F));y=(65535&y)+F;w+r>=u&&(b=this.ensureBuffer(w+r),u=b.length);for(F=0;r>F;++F,++w)b[w]=b[w-y]}}},a}}();!function(b){"undefined"==typeof b.btoa&&(b.btoa=function(a){var b,d,f,g,e=0,h=0,k="",k=[];if(!a)return a;
do b=a.charCodeAt(e++),d=a.charCodeAt(e++),f=a.charCodeAt(e++),g=b<<16|d<<8|f,b=g>>18&63,d=g>>12&63,f=g>>6&63,g&=63,k[h++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g);while(e<a.length);k=k.join("");a=a.length%3;return(a?k.slice(0,a-3):
k)+"===".slice(a||3)});"undefined"==typeof b.atob&&(b.atob=function(a){var b,d,f,g,e,h=0,k=0,m=[];if(!a)return a;a+="";do b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),f=b<<18|
d<<12|g<<6|e,b=f>>16&255,d=f>>8&255,f&=255,m[k++]=64==g?String.fromCharCode(b):64==e?String.fromCharCode(b,d):String.fromCharCode(b,d,f);while(h<a.length);return m.join("")});Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var b=Object(this),d=b.length>>>0,f=Array(d),g=1<arguments.length?arguments[1]:void 0,e=0;d>e;e++)e in b&&(f[e]=a.call(g,b[e],e,b));return f});Array.isArray||(Array.isArray=function(a){return"[object Array]"===
Object.prototype.toString.call(a)});Array.prototype.forEach||(Array.prototype.forEach=function(a,b){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var d=Object(this),f=d.length>>>0,g=0;f>g;g++)g in d&&a.call(b,d[g],g,d)});Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),d="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=d.length;return function(g){if("object"!=
typeof g&&("function"!=typeof g||null===g))throw new TypeError;var e,h=[];for(e in g)a.call(g,e)&&h.push(e);if(b)for(e=0;f>e;e++)a.call(g,d[e])&&h.push(d[e]);return h}}());String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||
"undefined"!=typeof window&&window||this)}({},function(){return this}());"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.PDF=function(g){var d=g.dom,m=g.util;this.save=function(d){d=d||{};var b=d.dpi,h=d.quality,f=d.onsuccess||m.errorHandler("onsuccess");d.onerror||m.errorHandler("onerror");var a=d.onprogress,c=g.doc,l=c.pages.data,r=m.count(l)||1,t=0,e=0;0===l.length?(t=c.bounds.width,e=c.bounds.height):m.each(l,function(a){t=Math.max(t,a.width);e=Math.max(e,a.height)});var p=m.toMetrics["px>mm"],k=new jsPDF(t>e?"landscape":"portrait","mm",[t*p,e*p]),v=k.internal.pageSize.width,
z=k.internal.pageSize.height,s=0,u=m.Queue({instant:!1,range:{from:0,to:r-1},oncomplete:function(){a&&a(100);f(k.output("blob"))},next:function(e,f,m){0!==m&&k.addPage();var p=l[m]||c.bounds;Array.isArray(l)?(d.x=0,d.y=s):(g.doc=p,d.x=0,d.y=0);d.width=p.width;d.height=p.height;g.save.canvas(d,function(c){var d=c.ctx;d.globalCompositeOperation="destination-atop";d.fillStyle="#fff";d.fillRect(0,0,c.width,c.height);var d=c.toDataURL("image/jpeg",h),e=72/b;c=Math.max(c.width*e/v,c.height*e/z);k.addImage(d,
"JPEG",0,0,p.width/c,p.height/c);s+=p.height;a&&a(m/r*100);g.client.ios?u.next():setTimeout(u.next,1)})}})};this.open=function(q){var b=g.doc,h=g.feature,f=b.scene,a=q.point,c=q.openAsNew,l=q.onprogress,r=q.onsuccess;PDFJS.getDocument(q.file).then(function(q){var e=[],p=0,k=0,v=m.Queue({instant:!1,range:{from:1,to:q.numPages},oncomplete:function(){l&&l(100);if(c){g.exec("new");b.setSize(k,p);b.pages={};b.pages.data=[];b.pages.length=e.length;var d=0,q=m.Queue({items:e,instant:!1,oncomplete:function(){b.setTool("select");
g.exec("zoom-reset");f.selectByIdx(y,!1);r&&r()},next:function(a,c,g){a=e[g];b.pages.data[g]={src:a.src,width:a.width,height:a.height};g=0;c=d;"objectBoundingBox"===h.tools.media.units&&(g+=a.width/2,c+=a.height/2);f.add({type:"image",src:a.src,width:a.width,height:a.height,x:g,y:c},this.next);d+=a.height}})}else{var u=h.io.translateX,t=h.io.translateY,v=e.length-1;a=a||f.getCenterPoint();a.x-=v/2*u;a.y-=v/2*t;var y={},q=m.Queue({items:e,instant:!1,oncomplete:function(){b.setTool("select");f.selectByIdx(y,
!1);b.render.scene("scene.addPDF");r&&r()},next:function(b,c,d){f.add({type:"image",src:b.src,x:a.x+d*u,y:a.y+d*t},function(a){y[a.zIndex]=!0;q.next()})}})}},next:function(a){q.getPage(a).then(function(b){var c=b.getViewport(1.5),f=d.Canvas(c.width,c.height);b.render({canvasContext:f.ctx,viewport:c}).then(function(){k=Math.max(f.width,k);p+=f.height;f.toBlobURL(function(b){l&&l(Math.round(a/q.numPages*100));e.push({src:b,width:f.width,height:f.height});v.next()})})})}})})}};"object"===typeof module&&
module.exports&&(module.exports=r.module.PDF)})(sketch);
(function(r){var g=r.document,d=function(){function d(a,b){var c=s.transition.type;s.bind(a,c,function C(a){a.stopPropagation();s.unbind(this,c,C);b&&b.call(this)})}var q=!1,b=[],h,f,a,c,l,A,t,e,p,k,v,z=function(a){return g.querySelector(a)||void 0},s={labels:{ok:"OK",cancel:"Cancel"},delay:4E3,buttonReverse:!1,buttonFocus:"ok",transition:void 0,addListeners:function(b){function d(a){function c(){z();if(v&&v.length)for(var a=0;a<v.length;a++){var d=v[a];d.id?w[d.id]=d.value:w.push(d.value)}"function"===
typeof b&&(v&&v.length?b(!0,w):b(!0))}h.verify?h.verify(v,function(a){a&&c()}):c()}function e(a){eventjs.prevent(a);z(a);"function"===typeof b&&b(-1)}function k(a){eventjs.prevent(a);z(a);"function"===typeof b&&b(!1)}function m(a){var b=a.keyCode;27===b&&r&&k(a);13===b&&c===g.activeElement&&d(a)}function p(a){t?v[0].focus():!r||s.buttonReverse?c.focus():f.focus()}var q="undefined"!==typeof c,r="undefined"!==typeof f,u="undefined"!==typeof a,t=v&&v.length,w=[],z=function(){s.hide();s.unbind(g.body,
"keyup",m);s.unbind(l,"focus",p);q&&s.unbind(c,"click",d);r&&s.unbind(f,"click",k);u&&s.unbind(a,"click",e)};s.bind(l,"focus",p);q&&s.bind(c,"click",d);r&&s.bind(f,"click",k);u&&s.bind(a,"click",e);s.bind(g.body,"keyup",m);s.transition.supported||s.setFocus()},bind:function(a,b,c){"object"===typeof eventjs?eventjs.add(a,b,c):"function"===typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},handleErrors:function(){return"undefined"!==typeof r.onerror?(r.onerror=
function(a,b,c){s.error("["+a+" on line "+c+" of "+b+"]",0)},!0):!1},appendButtons:function(a,b){return s.buttonReverse?b+a:a+b},build:function(a,b){var c=b.type,d=b.message||"",f=b.className||"",k=g.createElement("div");k.className="alertify-dialog";var h=g.createElement("article");h.className="alertify-inner";var l=g.createElement("p");l.className="alertify-message";"object"===typeof d?l.appendChild(d):l.innerHTML=d;h.appendChild(l);if("prompt"===c){var d=b.fields,m=g.createElement("div");m.className=
"alertify-text-wrapper";d.forEach(function(a){var b=a.value||"";if("textarea"===a.type){var c=g.createElement("textarea");c.innerHTML=b}else c=g.createElement("input"),c.value=b,c.type=a.type;c.setAttribute("data-value",b);c.id=a.id;c.title=a.title;c.className="alertify-text";b=g.createElement("span");b.textContent=a.title;m.appendChild(b);m.appendChild(c)});l.appendChild(m)}var q=g.createElement("nav");q.className="alertify-buttons";h.appendChild(q);k.appendChild(h);h=g.createElement("button");h.id=
"alertify-resetFocus";h.className="alertify-resetFocus";h.innerHTML="Reset Focus";k.appendChild(h);switch(c){case "confirm":case "prompt":u(q,"cancel");u(q,"disregard");u(q,"ok");break;case "alert":u(q,"ok")}p.classList.remove("alertify-hidden");e.classList.remove("alertify-hidden");a.innerHTML="";a.appendChild(k);requestAnimationFrame(function(){p.className="alertify alertify-"+c+" "+f;e.className="alertify-cover";if(w.constrain){a.style.maxHeight="";var b=Math.min(q.offsetHeight+l.offsetHeight,
.75*window.innerHeight);a.style.maxHeight=b+"px"}eventjs.add(a,"mousedown",eventjs.stop)})}},u=function(a,b){if(s.labels[b]){var c=g.createElement("button");c.className="alertify-button alertify-button-"+b;c.id="alertify-"+b;c.innerHTML=s.labels[b];a.appendChild(c)}};s.close=function(a,b){function c(){k.hasChildNodes()||(s.transition.supported?(d(k,function(){k.classList.add("alertify-hidden")}),k.classList.add("alertify-logs-hide")):k.classList.add("alertify-hidden"))}function e(a){"undefined"!==
typeof a&&a.parentNode===k&&(s.transition.supported?(d(a,function(){k.removeChild(a);c()}),a.classList.add("alertify-log-hide")):(k.removeChild(a),c()))}a=a||s.lastItem;var f=isFinite(b)?b:s.delay;s.bind(a,"click",function(){e(a)});0!==b&&setTimeout(function(){e(a)},f)};s.dialog=function(){function a(b){var c=[];"string"===typeof b&&(b=[b]);if(Array.isArray(b))for(var d={string:"text",number:"number","boolean":"checkbox"},e=0;e<b.length;e++){var f=b[e],g=typeof f;"object"===g?c.push(f):(g=d[g])&&
c.push({type:g,placeholder:f})}0===c.length&&c.push({type:"text",placeholder:""});return c}return function(c,d,e,f,k){var h;if("[object Object]"===String(d)){var l=d;d=l.message;e=l.callback;f=l.fields;k=l.className;h=l.verify;l.labels&&(s.labels=l.labels)}t=g.activeElement;if("string"!==typeof c)throw Error("type must be a string");if("undefined"!==typeof e&&"function"!==typeof e)throw Error("callback must be a function");"function"===typeof s.init&&s.init();b.push({type:c,message:d,callback:e,verify:h,
fields:a(f),className:k});return q?this:s.setup()}}();s.extend=function(a){if("string"!==typeof a)throw Error("extend method must have exactly one paramter");return function(b,c){s.log(b,a,c);return this}};s.hide=function(){t&&(b.splice(0,1),0<b.length?s.setup(!0):(q=!1,s.transition.supported?(d(p,function(){p.classList.add("alertify-hidden");e.classList.add("alertify-hidden")}),p.className="alertify alertify-hide",e.className="alertify-cover alertify-cover-hide"):(p.className="alertify alertify-hide alertify-hidden",
e.className="alertify-cover alertify-cover-hide alertify-hidden"),t.focus()))};s.init=function(){g.createElement("nav");g.createElement("article");g.createElement("section");e=g.createElement("div");e.id="alertify-cover";e.className="alertify-cover alertify-cover-hide alertify-hidden";g.body.appendChild(e);p=g.createElement("section");p.id="alertify";p.className="alertify alertify-hide alertify-hidden";g.body.appendChild(p);k=g.createElement("section");k.id="alertify-logs";k.className="alertify-logs alertify-hidden";
g.body.appendChild(k);g.body.setAttribute("tabindex","0");var a=s,b,c=!1,d=g.createElement("fakeelement"),f={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},h;for(h in f)if(void 0!==d.style[h]){b=f[h];c=!0;break}a.transition={type:b,supported:c};delete s.init};s.log=function(a,b,c){"function"===typeof s.init&&s.init();k.className="alertify-logs";s.notify(a,b,c);return{lastItem:s.lastItem,close:s.close,hide:s.hide}};s.notify=
function(a,b,c){var d=g.createElement("article");d.className="alertify-log alertify-log-hide"+("string"===typeof b&&b?" alertify-log-"+b:"");d.innerHTML=a;k.appendChild(d);s.close(d,c);s.lastItem=d;setTimeout(function(){d.classList.remove("alertify-log-hide")},40)};s.set=function(a){if("object"!==typeof a&&a instanceof Array)throw Error("args must be an object");for(var b in a)a.hasOwnProperty(b)&&(s[b]=a[b])};s.setFocus=function(){v&&v.length?(v[0].focus(),v[0].select()):A.focus()};s.setup=function(k){var r=
b[0];q=!0;s.transition.supported&&!k&&d(p,function(){s.setFocus()});s.build(p,r);eventjs.add(e,"click",s.hide);eventjs.add(p.firstChild,"click",eventjs.stop);l=z("#alertify-resetFocus");c=z("#alertify-ok");f=z("#alertify-cancel");a=z("#alertify-disregard");A="cancel"===s.buttonFocus?f:"none"===s.buttonFocus?g.body:c;v=g.querySelectorAll(".alertify-text-wrapper .alertify-text")||void 0;h=r;v&&v.length&&r.fields.forEach(function(a,b){v[b].placeholder=a.placeholder||""});s.setFocus();s.addListeners(r.callback);
return this};s.unbind=function(a,b,c){"object"===typeof eventjs?eventjs.remove(a,b,c):"function"===typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)};var w={constrain:!0};return{close:function(a,b){s.close(a,b||1)},log_visible:function(){return!(!z(".alertify-logs")||z(".alertify-logs.alertify-hidden"))},hide:function(a,b){s.hide()},alert:function(a,b,c){return s.dialog("alert",a,b,"",c)},confirm:function(a,b,c){return s.dialog("confirm",a,b,"",c)},
extend:s.extend,init:s.init,log:function(a,b){return s.log(a,"",b)},prompt:function(a,b,c,d){return s.dialog("prompt",a,b,c,d)},success:function(a,b){return s.log(a,"success",b)},error:function(a,b){return s.log(a,"error",b)},warn:function(a,b){return s.log(a,"warn",b)},dialog:s.dialog,set:s.set,labels:s.labels,debug:s.handleErrors,opts:w}};"function"===typeof define&&define.amd?define([],function(){return new d}):"undefined"===typeof r.alertify&&(r.alertify=new d)})(this);
"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.UISidebar=function(g,d){var m=this,q=g.dom,b=g.util;g.module.Listener(m);m.opened=!1;m.disabled=!0;var h="sk-sidebar-"+d,f=q.$("."+h),a=document.documentElement;if(f&&f.parentNode){for(var c,l=f.offsetWidth,r=["transform","webkitTransform","MozTransform","OTransform","msTransform"],q=0;q<r.length;q++)if("string"===typeof f.style[r[q]]){c=!0;r=r[q];break}m.setAnimate=function(a,b){f.style.cssText="transition: "+(a?"all":"none")+" "+(b||.35)+"s;"};m.setPosition=
function(a){var b="right"===d?-1:1;c?(f.style[r]="translate3d("+a*b+"px, 0, 0)",f.style[d]=0):f.style[d]=a+"px"};m.open=function(){b.setItem("show-sidebar-"+d,"true");!1===m.disabled&&!1===m.opened&&(m.opened=!0,clearTimeout(m.timeoutClose),m.timeoutOpen=setTimeout(function(){m.setPosition(0);a.classList.add("sk-sidebar-active-"+d);g.ui.configurePane();m.on.open&&m.on.open()},1))};m.close=function(){b.setItem("show-sidebar-"+d,"false");!1===m.disabled&&!0===m.opened&&(m.opened=!1,m.setPosition(-l),
a.classList.remove("sk-sidebar-active-"+d),clearTimeout(m.timeoutOpen),m.on.close&&m.on.close())};m.toggle=function(){m.setAnimate(!0,.35);!0===m.opened?m.close():m.open()};m.disable=function(){m.disabled||(m.disabled=!0,eventjs.remove(f,"drag",t))};m.enable=function(){m.disabled&&(m.disabled=!1,eventjs.add(f,"drag",t))};var t=function(a,c){eventjs.stop(a);var f=c.pointerEnd,g=c.pointerMove;c.pointerStart&&(c.moved=!1,c.timestamp=b.timestamp(),document.activeElement&&document.activeElement.blur());
var h=c.start;if("right"===d)var q=h.x-c.x,r=h.y-c.y;else q=c.x-h.x,r=c.y-h.y;h=Math.abs(q);r=Math.abs(r);g&&h>r&&eventjs.prevent(a);if(!1===m.disabled){m.opened?(g=Math.min(0,q),-20<=g&&!c.moved?g=0:c.moved=!0):(g=Math.min(0,Math.max(0,q)-l),g<=-l+20&&!c.moved?g=-l:c.moved=!0);if(f)if(eventjs.prevent(a),f=b.timestamp()-c.timestamp,f=Math.min(350,f)/1E3,q=!c.moved&&c.isArrow,m.opened){if(-50>=g||q){m.setAnimate(!0,f);m.close();return}g=0}else{if(g>=-l+50||q){m.setAnimate(!0,f);m.open();return}g=-l}m.setAnimate(!1);
m.setPosition(g)}};g.ui.scrollable(f,!0);a.classList.add("sk-sidebar-ready");m.enable();return this}console.warn(h+" does not exist")}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.UITooltip=function(g){function d(b){var d,e;eventjs.isTouch?(d=22,e=-15):(d=10,e=-10);d=Math.max(0,b.x+c+d);b=Math.max(0,b.y+a+e);e=Math.max(0,t-(window.innerWidth+window.pageXOffset-d));var f=Math.max(0,r-(window.innerHeight+window.pageYOffset-b));e?(e=t+2*c,l.classList.remove("right")):l.classList.add("right");l.style.left=d-e+"px";l.style.top=b-f+"px"}function m(a){v&&d(eventjs.getPageXY(a))}function q(a,c,d,e){eventjs[c](a,"mouseover",function(b){eventjs.stop(b);
h.update(d,null,e,a)});eventjs[c](a,"mouseout",b)}function b(a){eventjs.stop(a);h.hide()}var h=this,f=g.lang,a=0,c=15,l,r,t,e,p=!1,k={},v=!1,z=void 0;h.add=function(a,b,c){"string"===typeof a&&(a=document.querySelector(a));q(a,"add",b,c)};h.remove=function(a){q(a,"remove")};h.update=function(a,b,c,d){(a!==z||e)&&h.show(a,b,c,d)};h.create=function(){l=document.createElement("div");l.setAttribute("id","sk-tooltip");l.style.opacity=0;l.style.filter="alpha(opacity=0)";k.move=eventjs.add(document,"mousemove",
m);k.down=eventjs.add(l,"mousedown",eventjs.cancel);document.body.appendChild(l);window.event&&(v=!0,t=l.offsetWidth,r=l.offsetHeight,m(window.event));return l};h.destroy=function(){l&&(eventjs.bulk(k,"remove"),l.parentNode.removeChild(l),l=null)};h.show=function(a,b,c,g){z=a;(a="function"===typeof a?f.translate(a.call(g)):f.translate(a))?(l=l||h.create(),l.innerHTML=a,l.style.width="auto",l.style.display="block",clearTimeout(e),e=void 0,p||(p=!0),l.style.opacity=1,v=!0,t=l.offsetWidth,r=l.offsetHeight,
b&&(v=!1,d(b))):h.hide()};h.hide=function(){p&&(l=l||h.create(),l.style.opacity=0,clearTimeout(e),e=setTimeout(function(){z=void 0;p=v=!1;l.style.display="none"},250))};h.refresh=function(){h.show(z)}}})(sketch);
(function(r){r.module=r.module||{};r.module.TreeMenu=function(g,d,m,q){var b=this,h=g.dom,f=g.lang,a=g.feature,c=g.detect,l=d.history,r=g.util,t=g.ui,e="#sk-layers .sk-pane-content"===m,p="#sk-history .sk-pane-content"===m,k=q,v=null;b.setData=function(a){k=a};b.length=-1;b.render=function(){v=h.$(m);if(b.length===k.length&&p)z();else{h.empty(v);b.shifted=null;b.selected=null;var a=v,c=void 0,d={},g=0,l=k.length;if(g||l)for(b.length=l,u(v,0,"before");g<l;g++){var q=k[g],r=String(q.groupId);"undefined"===
r?(c=void 0,a=w(v,q,g)):d[r]?(c=r,w(d[c],q,g)):r!==c&&(c=r,-1===c.indexOf(".")&&(a=v),a=d[c]=w(a,q,g,!0))}else e&&h.append(v,'<span style="padding: 15px; display: inline-block;">'+f.translate("no-layers")+"</span>");p&&z()}};var z=function(){var a=b.length,c=l.vector.current,d=h.$(".file.enabled",v),e=a;d&&(d.classList.remove("enabled"),e=parseInt(d.getAttribute("data-layer")));for(d=Math.min(e,c);d<a;d++)if(e=h.$(".file"+d,v))d===c?(e.classList.add("enabled"),s(e)):d>c?s(e):e.classList.remove("selected")};
b.select=function(a){a.forEach(function(a){a&&s(h.$(".file"+a.zIndex),!0)})};b.deselect=function(a){a.forEach(function(a){a&&s(h.$(".file"+a.zIndex),!1)})};var s=function(a,c,d){a&&(d=d&&h.$$("li",v),h.setClass(a,"selected",c,d),b.selected=a)},u=function(a,b,c){var d=h.create('<span class="divider '+c+'"></span>');d.setAttribute("data-layer",b);d.setAttribute("data-command",c);a.insertBefore(d,a.firstChild)},w=function(a,b,c,f){var g=h.create('<li data-layer="'+c+'"></li>');if(f){f=h.create("ul");
var k=String(b.groupId).split(".").pop();y(b,g,k,c+1);g.appendChild(f);a.insertBefore(g,a.firstChild);u(f,c-1,"before");u(a,c+1,"after");return f}f=b.name||b.type||"";k=h.create('<span class="content"></span>');g.appendChild(k);g.className="file file"+c;if(e){if(!1===b.selectable)return;d.selection.items[c]&&s(g);var l=new Image;l.width=18;l.height=29;D(l,b);k.appendChild(l)}else l=h.create("b"),l.className="icon-"+(x[b.name]||"infinity"),k.appendChild(l),-1!==c&&(l=h.create("i"),l.style.cssText=
"float: right; padding-right: 10px;",l.textContent="#"+(c+1),k.appendChild(l));F(b,g,k,f);a.insertBefore(g,a.firstChild);t.tooltip.add(g,function(){if(this&&this.classList&&p)return this.classList.contains("enabled")?"Now":this.classList.contains("selected")?"The future":"The past"});eventjs.add(g,"mousedown",C(b,g));u(a,c+1,"after");return a},x=function(){var a={},b;for(b in d.config)a[b]=b;return r.copyInto(a,{"reset-clipart-color":"remove","update-clipart-color":"palette","remove-objects":"infinity",
background:"screen","change-media":"image","Resize Text":"infinity",VOBNodeList:"infinity","cut-objects":"clipboard","paste-objects":"clipboard","merge-objects":"merge","merge-paths":"merge","split-path":"scissors","update-style":"palette","crop-draw":"crop",crop:"crop","update-text":"text","resize-canvas":"crop","set-background":"crop"})}(),y=function(a,b,c,d){var e=h.create("input");e.className="checkbox";e.type="checkbox";e.checked=!0;b.appendChild(e);d=h.create("label");var f=h.create('<span class="carret"></span>');
d.appendChild(f);b.appendChild(d);F(a,b,d,c,!0);eventjs.add(f,"mousedown",function(a,b){e.checked=!e.checked});eventjs.add({target:d,mousedown:eventjs.prevent,dblclick:function(a,b){e.checked=!e.checked}})},F=function(a,b,c,g,k){k=h.create("font");k.innerHTML=f.translate(g);c.appendChild(k);if(e){eventjs.add(c,"contextmenu",B);eventjs.add(c,"drag",E(b),{position:"difference"});g=h.create('<span class="icon-gear"></span>');eventjs.add(g,"mousedown",C(a,b));eventjs.add(g,"mousedown",B);var l=function(a){return!1===
a?"icon-eye-close":"icon-eye-open"},m=h.create("span");m.className=l(a.visible);eventjs.add(m,"mousedown",function(b){eventjs.cancel(b);b=!(a.visible=!1!==a.visible);m.className=l(b);d.setParam({selection:[a],param:"visible",value:b})});b=h.create("div");b.className="right";b.appendChild(g);b.appendChild(m);c.appendChild(b)}},B=function(a){eventjs.cancel(a);t.contextMenu.show({at:{element:this,align:"top left to bottom left"},menu:"layers"})},C=function(a,b){return e?I(a,b):G(a,b)},G=function(a,c){return function(a){eventjs.cancel(a);
a=l.vector.current;var d=H(c);(a-=d)&&(0>a?l.redo({steps:Math.abs(a)}):l.undo({steps:a}));b.selected=c}},I=function(a,c){return function(e){eventjs.cancel(e);if(eventjs.shiftKey){var f=b.selected;e=H(c);var g=H(f||c),f=Math.min(e,g);for(e=Math.max(e,g);f<=e;f++)(g=d.scene.children[f])&&(eventjs.metaKey?g.selected?d.scene.deselect(f):d.scene.selectByIdx(f,!1):d.scene.selectByIdx(f,!1))}else eventjs.metaKey?a.selected?d.scene.deselect(a.zIndex):d.scene.selectByIdx(a.zIndex,!1):!1===c.classList.contains("selected")&&
d.scene.selectByIdx(a.zIndex,!0);b.selected=c;d.render.dirtyControls=!0;d.render.scene("mouseDownLayer")}},E=function(a){var c=null,e=null,f=H(a),g=function(){if(e){var a=H(e),g=e.getAttribute("data-command");console.log("send",f,a,g);d.scene.sendTo({idx:a,record:!0});d.render.dirtyControls=!0;d.render.scene("moveElement");b.render();h.setClass({target:e,className:"hover",on:!1,list:h.$$("span.divider",v)})}v.classList.remove("dragging");c&&(c=null)};return function(b,k){if(!eventjs.metaKey&&!eventjs.shiftKey){var l=
"up"===k.state;"down"===k.state&&(v.classList.add("dragging"),k.selected=a.classList.contains("selected"),k.offsetTop=a.offsetTop);if(5>=k.distanceMoved()){if(l)return k.selected&&d.scene.selectByIdx(f,!0),g()}else{eventjs.cancel(b);null===c&&(c=a.cloneNode(!0),c.classList.add("moving"),v.appendChild(c));var m=c.style;m.display="none";var p=eventjs.getPageXY(b),q=eventjs.getBBox(v),p=document.elementFromPoint(p.x-q.pageXOffset,p.y-q.pageYOffset);m.top=k.y+k.offsetTop-v.scrollTop+"px";for(m.display=
"";p;){if(p===v||p===document)return l&&g();if(p.classList.contains("divider")){e=p;break}else p=p.parentNode}p&&h.setClass({target:p,className:"hover",on:!0,list:h.$$("span.divider",p.parentNode)});l&&g()}}}},D=function(b,d){if(d.ctx){var e=d.ctx.canvas,f;a.cache257&&c.useColorModeCycle[d.type]&&(f=[0,0,d.bbox.width,d.bbox.height]);var g=e.thumb=e.thumb||r.thumbnailer({crop:"edge",croparea:f,center:!0,background:"#fff",src:e,width:18,height:28});g.blobURL?b.src=g.blobURL:g.toBlobURL(function(a){g.blobURL=
a;b.src=a})}else b.src=t.media.get("clear"),b.style.background="#04a";t.tooltip&&t.tooltip.add(b,function(){return e?'<img src="'+r.thumbnailer({crop:"edge",croparea:f,center:!0,background:"#fff",src:e,width:100,height:100}).toDataURL()+'">':"out of bounds"},50)},H=function(a){return parseFloat(a.getAttribute("data-layer"))};b.render()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(d){return function(){console.warn(d,arguments)}}r.util=r.util||{};r.util.Uploader=function(d){function m(a){var b={};b.name=a.name||a.fileName;b.src=a.src;b.size=a.size||a.fileSize;b.type=a.type;a=JSON.stringify(b);for(var b=5381,c=0,d=a.length;c<d;c++)var e=a.substr(c,1).charCodeAt(),b=(b<<5)+b+e;return b}function q(a,b){var c=Object.prototype.toString.call(a);"[object Object]"===c&&a.src&&(c="");switch(c){case "[object Array]":for(var c=0,d=a.length;c<d;c++)b(a[c]);break;
case "[object Object]":for(d in a)b(a[d],d);break;default:b(a)}}function b(a){if("[object Blob]"===String(a.files))var b=a.files;else b=new FormData,q(a.files,function(a,c){if("undefined"!==typeof a.data)b.append(c||a.name||a.fileName,a.data);else if(a.src&&"data:"===a.src.substr(0,5)){var d=JSON.stringify(a);b.append(c||a.name||a.fileName,d)}else b.append(c||a.hash,a)});var d=new XMLHttpRequest;d.upload.onprogress=function(b){if(b.lengthComputable){var d=b.loaded;a.lengthComputable=!0;a.transferPercent=
Math.round(100*d/b.total);a.transferTotal=A.bytesToSize(d);var e=2*(d-a.bytes);0!==e&&(a.bytes=d,a.transferSpeed=A.bytesToSize(e),a.timeRemaining=A.getTimeFormat((b.total-a.bytes)/e*1E3,!0),a.timeLapse=A.getTimeFormat(Date.now()-b.timeStamp,!0));if(a.onProgress)a.onProgress(a,b);else if(c.onProgress)c.onProgress(a,b)}else a.lengthComputable=!1,a.transferSpeed=0,a.transferTotal=0,a.transferPercent=0,a.timeRemaining=0};d.onload=function(b){"[object Blob]"!==String(a.files)&&q(a.files,function(a,b){"undefined"===
typeof a.date&&(a.isUploaded=!0)});var d=b.target.responseText;if("json"===a.confirm)try{d=JSON.parse(d)}catch(e){console.log(b.target.responseText)}if(c.UPLOAD_ERR[d]){if(c.onError)c.onError(c,d);if(a.onError)a.onError(c,d)}else{if(c.onLoad)c.onLoad(a,d);if(a.onUpload)a.onUpload(a,d)}};d.onerror=function(b){if(c.onError)c.onError(c,"UPLOAD_ERR_XHTTP",b);if(a.onError)a.onError(c,"UPLOAD_ERR_XHTTP",b)};d.onabort=function(b){if(c.onAbort)c.onAbort(c,"UPLOAD_ERR_XHTTP",b);if(a.onAbort)a.onAbort(c,"UPLOAD_ERR_XHTTP",
b)};d.open("POST",a.action,!0);d.send(b)}function h(a){var b=document.createElement("form");document.body.appendChild(b);var d=document.createElement("iframe");d.setAttribute("id","upload_iframe");d.setAttribute("name","upload_iframe");d.setAttribute("width","0");d.setAttribute("height","0");d.setAttribute("border","0");d.setAttribute("style","width: 0; height: 0; border: none;");var e=function(){try{var e=d.contentDocument.body}catch(f){try{e=d.contentWindow.document.body}catch(g){e=d.document.body}}if(e.innerHTML){q(a.files,
function(a){"undefined"===typeof a.date&&(a.isUploaded=!0)});e=e.innerHTML;if("json"===a.confirm)try{e=JSON.parse(e)}catch(h){console.log&&console.log(e)}if(c.UPLOAD_ERR[e]){if(c.onError)c.onError(c,e);if(a.onError)a.onError(c,e)}else{if(c.onLoad)c.onLoad(c,e);if(a.onUpload)a.onUpload(c,e)}}setTimeout(function(){b.parentNode&&b.parentNode.removeChild(b);c.fileInput.parent&&c.fileInput.parent.appendChild(c.fileInput)},250)};d.addEventListener?d.addEventListener("load",e,!0):d.attachEvent&&d.attachEvent("onload",
e);b.appendChild(d);window.frames.upload_iframe.name="upload_iframe";q(a.files,function(a,d){if("undefined"!==typeof a.data){var e=document.createElement("input");e.type="hidden";e.value=a.data;e.name=d||a.name||a.fileName}else a.src&&"data:image/"===a.src.substr(0,11)?(e=document.createElement("input"),e.type="hidden",e.value=JSON.stringify(a),e.name=d||a.name||a.fileName):"string"===typeof a?(e=document.createElement("input"),e.type="hidden",e.value=a,e.name=d):(e=c.fileInput,e.parent=e.parentNode,
e.name=d||a.hash);b.appendChild(e)});b.setAttribute("target","upload_iframe");b.setAttribute("action",a.action);b.setAttribute("method","post");b.setAttribute("enctype","multipart/form-data");b.setAttribute("encoding","multipart/form-data");b.submit()}function f(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}function a(a,b,c){c=isFinite(c)?c:Infinity;var d=this;this.files=[];this.pending=0;this.recurse=function(a,b,c){this.pending++;if(!a)return d.runCallback();a.isFile?a.file(function(a){a.path=
b+a.name;d.files.push(a);d.runCallback()}):a.isDirectory&&a.createReader().readEntries(function(e){for(var f=0;f<e.length;f++)d.recurse(e[f],b+a.name+"/",c+1);d.runCallback()})};this.runCallback=function(){--this.pending||b(this.files)};for(c=0;c<a.length;c++)if(a[c].webkitGetAsEntry){var e=a[c].webkitGetAsEntry();this.recurse(e,"",0)}}var c=this,l=r.dom,A=r.util;d=d||{};c.debug=!1;c.mode=d.mode||"read";c.action=d.action||"./filesystem.php?upload=true";c.confirm=d.confirm||"text";c.onUpload=d.onupload;
c.onProgress=d.onprogress;c.onLoad=d.onload;c.onError=d.onerror;c.onAbort=d.onabort;c.onChange=d.onchange||g("onchange");c.onChangeDefault=c.onChange;c.directory=d.directory||!1;c.maxFiles=d.maxFiles||1;c.maxFileSize=d.maxFileSize||104857600;"object"===typeof d.fakeInput?(c.fakeInput=d.fakeInput,c.fakeInputParent=d.fakeInputParent||null):"object"===typeof d.fileInput&&(c.fileInput=d.fileInput);c.dropAreaContainer=d.dropArea;c.dropAreaMessage=d.dropAreaMessage||"Drop File(s) Here";c.dropAreaStyle=
d.dropAreaStyle||"";c.files={};c.filesByName={};c.filesByPath={};c.formats={};var t=(d.formats||"jpg,jpeg,gif,png").split(",");for(d=0;d<t.length;d++)c.formats[t[d].trim().toLowerCase()]=!0;c.addFileInput=function(a){a=a||{};a.nodeName&&(a={target:a});var b=l.$(a.target),d=a.wrapper,f=a.onchange||c.onChange;if(a=b&&b.parentNode){if("sk-fileWrapper"===a.className)return;c.fileInput=null}if(!b||!b.querySelector(".sk-fileInput")){var g=c.fakeInput=b;if(c.fileInput)c.initFileInput(c.fileInput);else if(g||
d){var h=c.fileInput=document.createElement("input");h.style.cssText="position: absolute; top: 0; z-index: 99999; font-size: 1000px; text-align: right; cursor: pointer; right: 0; filter: alpha(opacity: 0); opacity: 0.01;";h.style.width="100%";h.style.height="100%";h.className="sk-fileInput";var m=function(a,b){c.onChange=c.onChangeDefault||c.onChange;eventjs.remove(document.body,"focus",m)};eventjs.add(h,"mousedown",function(a){c.onChange=f});eventjs.add(h,"click",function(a,b){eventjs.add(document.body,
"focus",m)});t.length&&r.client&&r.client.chooseEntry?eventjs.add(h,"click",function(a){eventjs.cancel(a);r.open.chooseEntry({onsuccess:function(a){c.handleFiles([a])}})}):(h.setAttribute("type","file"),h.setAttribute("capture","camera"));1<c.maxFiles?(h.setAttribute("name","files[]"),h.setAttribute("multiple","multiple")):h.setAttribute("name","file");c.directory&&(h.setAttribute("directory",""),h.setAttribute("mozdirectory",""),h.setAttribute("webkitdirectory",""));if(d)d.appendChild(h);else{a=
c.fakeInputParent||g.parentNode;d=document.createElement("span");d.className="sk-fileWrapper";d.style.cssText="position: relative; overflow: hidden; z-index: 0;";g.style.cssText&&(d.style.cssText+=g.style.cssText);e[g.nodeName]&&(d.style.display="inline-block");var p=!0,b=function(){p&&(p=!1,c.fakeInputParent?c.fakeInputParent.appendChild(d):g.parentNode&&g.parentNode.replaceChild(d,g),d.appendChild(g),d.appendChild(h));var a=l.measure(g),b=a.width,a=a.height;!e[g.nodeName]&&b&&a&&(d.style.width=
b+"px",d.style.height=a+"px")};a=l.measure(g);var q=a.height;a.width||q?b():setTimeout(b,250)}eventjs.add(h,"mousedown,mousemove,mouseup",eventjs.stop);c.initFileInput(h)}}};var e={A:!0,SPAN:!0};c.initFileInput=function(a){a&&(a.onchange=function(b){if(a.files&&a.files.length)c.handleFiles(b.target.files,function(){a.value=""},b);else{var d=a.value,e=d.replace(/\\/g,"/").replace(/.*\//,"");c.handleFiles([{src:d,name:e}],null,b)}})};var p=document.createElement("form");p.id="sk-uploader";c.addDropArea=
function(b){function d(){p.className="";d.timeout=setTimeout(function(){p.style.display="none"},250)}b=b||{};b.nodeName&&(b={target:b});var e=e||c.dropAreaContainer;b=!b.target;p.innerHTML=c.dropAreaMessage;c.dropAreaStyle&&(p.style.cssText+=c.dropAreaStyle);p.onclick=function(){d()};p.ondragenter=function(a){eventjs.cancel(a);return!1};p.ondragover=function(a){eventjs.cancel(a);return!1};p.ondrop=function(b){eventjs.cancel(b);d();var e=b.dataTransfer;e&&(e.items?new a(e.items,function(a){a.length&&
c.handleFiles(a,null,b)}):e.files&&(e=e.files,e.length&&c.handleFiles(e,null,b)))};p.ondragleave=function(a){var b=eventjs.getPageXY(a);if(0!==b.x||0!==b.y)for(b=document.elementFromPoint(b.x,b.y);b!==document&&b;){if("sk-uploader"===b.id)return;b=b.parentNode}eventjs.cancel(a);setTimeout(d,100)};e===window&&(e=document.body);b&&e.appendChild(p);e.ondragenter=function(a){(a=a.dataTransfer)&&a.types&&f(a.types,"Files")&&(clearTimeout(d.timeout),p.style.display="block",setTimeout(function(){p.className=
"visible";p.style.display="table"},10))};e===document.body&&eventjs.add(window,"resize",function(a){window.innerWidth&&window.innerHeight&&(p.style.width=window.innerWidth+"px",p.style.height=window.innerHeight+"px")})};c.handleFiles=function(a,b,d){function e(a,b){b.src&&(b=[b]);for(var d in b){var f=c.files[d],k=b[d];f.src=k.src;f.size=k.size;f.type=k.type;f.name=k.name}g()}function f(a){var b=a.hash;if(a.type&&!p[a.type.substr(6).toLowerCase()]){var d=new FileReader;d.onload=function(a){c.files[b].src=
a.target.result;c.files[b].isRead=!0;return g()};d.readAsText(a)}else try{var k=URL.createObjectURL(a);c.files[b].src=k;c.files[b].isRead=!0;return g()}catch(h){try{d=new FileReader,d.onload=function(a){c.files[b].src=a.target.result;c.files[b].isRead=!0;return g()},d.readAsDataURL(a)}catch(l){a.upload=new c.upload({file:a,onupload:e})}}}function g(a){a?h():setTimeout(h,30)}function h(){if(c.onProgress)c.onProgress({transferPercent:l/a.length*100>>0},d);var p=a[l];if(++l>c.maxFiles||!p){if(c.onLoad)c.onLoad();
if(1===c.maxFiles){if("undefined"===typeof a[0]){if(c.onError)c.onError(c,"UPLOAD_ERR_FORMAT");b&&b();return}var q=m(a[0]);c.file=c.files[q]||a[0];b&&b();return c.onChange(c,d||{})}for(var r in c.files);b&&b();return c.files[r]?c.onChange(c,d||{}):void 0}r=p.name||p.fileName||"";var t=p.path||r,q=p.type||"",x;q&&(x=q.split("/").pop());c.formats[x]||(x=r.split(".").pop().toLowerCase());var q=m(p),A=c.files[q];if(A&&(c.changedFiles[q]=A,c.changedFilesByName[r]=A,c.changedFilesByPath[t]=A,"upload"===
c.mode&&A.isUploaded||"read"===c.mode&&A.isRead))return g(!0);if(!c.formats[x]){if(c.onError)c.onError(c,"UPLOAD_ERR_FORMAT");return g(!0)}x=p.fileSize||p.size;if(0===x){if(c.onError)c.onError(c,"UPLOAD_ERR_NO_FILE");return g(!0)}if(x&&x>c.maxFileSize){if(c.onError)c.onError(c,"UPLOAD_ERR_FORM_SIZE");return g(!0)}p.hash=q;c.files[q]=p;c.filesByName[r]=p;c.filesByPath[t]=p;c.changedFiles[q]=p;c.changedFilesByName[r]=p;c.changedFilesByPath[t]=p;if("upload"===c.mode)p.upload=new c.upload({file:p,onupload:e});
else if("read"===c.mode)f(p);else return g(!0)}if(c.onProgress)c.onProgress({transferPercent:0},d);var l=0,p={jpg:!0,jpeg:!0,gif:!0,png:!0};c.changedFiles={};c.changedFilesByName={};c.changedFilesByPath={};g()};c.UPLOAD_ERR={UPLOAD_ERR_INI_SIZE:"The uploaded file exceeds the upload_max_filesize directive",UPLOAD_ERR_FORM_SIZE:"The uploaded file exceeds the MAX_FILE_SIZE directive",UPLOAD_ERR_PARTIAL:"The uploaded file was only partially uploaded",UPLOAD_ERR_NO_FILE:"No file was uploaded",UPLOAD_ERR_NO_TMP_DIR:"Missing a temporary folder",
UPLOAD_ERR_CANT_WRITE:"Failed to write file to disk",UPLOAD_ERR_EXTENSION:"A PHP extension stopped the file upload",UPLOAD_ERR_FORMAT:"The uploaded file was an invalid format",UPLOAD_ERR_XHTTP:""};c.upload=function(a){this.onAbort=a.onabort;this.onUpload=a.onupload;this.onProgress=a.onprogress;this.onError=a.onerror;this.action=a.action||c.action;this.confirm=a.confirm||c.confirm;this.files=0===String(a.file).indexOf("[object")?[a.file]:a.files;this.bytes=this.timeLapse=this.timeRemaining=this.transferPercent=
this.transferTotal=this.transferSpeed=0;window.FormData?b(this,this.onUpload):h(this,this.onUpload)};c.dropAreaContainer&&c.addDropArea();(c.fakeInput||c.fileInput)&&c.addFileInput()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module.add(function(g){var d=g.feature,m=g.io,q=g.lang,b=g.util,h=["jpg","jpeg","gif","png","svg"];m.json&&h.push("json");m.zip&&h.push("zip");m.json&&m.zip&&h.push("sketchpad");d.io.pdf&&h.push("pdf");d.io.psd&&h.push("psd");m.abr&&h.push("abr");m.gbr&&h.push("gbr");b.exists("Color.open.GGR")&&h.push("ggr");b.exists("Color.open.GPL")&&h.push("gpl");if(d.uploader.DND)var f=d.uploader.DNDArea||document.body,a=d.uploader.DNDMessage||'\t\t\t<div class="sk-uploader-anim"></div>\t\t\t  <div class="sk-uploader-text">Drop files here<br>\t\t\t\t  <div><i>Accepted formats: </i><br>.'+
h.join(" .")+"</div>\t\t\t  </div>\t\t\t</div>\t\t";(g.uploader=new b.Uploader({confirm:"json",action:g.loc.POST,mode:"read",maxFiles:g.client.ios?1:Infinity,formats:h.join(","),dropArea:f,dropAreaMessage:a,onchange:function(a,b){var d=g.doc,f=g.doc.scene;if(isFinite(b.pageX)){for(var e=eventjs.elementsFromEvent(b),h=0;h<e.length;h++){var k=e[h];if(k.matches(".sk-canvas-dummy")){g.setDocument(k.getAttribute("data-pid"));break}}f=f.pointInSceneFromEvent(b);a.addMedia({self:a,pt:{x:f.x-d.x,y:f.y-d.y}})}else a.addMedia({self:a})},
onprogress:function(a){g.loader&&g.loader.create("thread","Uploading...",a.transferPercent)},onerror:function(a,b,d){g.loader&&g.loader.stop("thread");g.ui.log(q.translate("upload-invalid"))}})).addMedia=function(a){function f(){e.x+=d.io.translateX;e.y+=d.io.translateY;d.vector.edit?isFinite(h.selection.idx)&&q.push(h.selection.idx):m.deselectAll();setTimeout(r.next,50)}var h=g.doc,m=g.doc.scene;if(!h.addMedia)return console.warn("doc.addMedia undefined");var e=a.pt||{},p=a.self,k=a.openAsNew;h.config.reset("image");
var q=[];a=p.changedFilesByName;if(a["sketch.json"])g.open.folder({entries:a});else var r=b.Queue({flatten:!1,items:p.changedFiles,oncomplete:function(){1===q.length?g.ui.configurePane&&g.ui.configurePane(m.children[q[0]].type,!0):(m.deselectAll(),m.selectByIdx(q,!1),h.render.dirtyControls=!0,h.render.scene("setup.uploader"))},next:function(a){r=this;var b=0===(a.type||"").indexOf("image/"),c={openAsNew:k,data:a,x:e.x,y:e.y,onsuccess:f};g.vortex&&b&&e.x&&e.y?g.vortex.create({pid:a.src,point:m.pointInWindowFromScene(e),
message:a.name||"adding image",callback:function(a){g.vortex.destroy(a);h.addMedia(c)}}):h.addMedia(c)}})}})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){var g,d={id:"loader",bars:12,radius:0,lineWidth:14,lineHeight:40,timeout:0,display:!0};r.ui=r.ui||{};r.ui.Loader=function(b){var h=this;void 0===g&&(g=!!document.createElement("canvas").getContext);if(g){var f=r.ui.Loader.threads;"string"===typeof b&&(b={message:b});"boolean"===typeof b&&(b={display:!1});"undefined"===typeof b&&(b={});b.container=b.container||document.body;if(b.container){for(var a in d)"undefined"===typeof b[a]&&(b[a]=d[a]);var c=function(a){for(var b in f)if(f[b]===
a)return b},l=document.getElementById(b.id);if(l)this.span=l.parentNode.getElementsByTagName("span")[0];else{var A=document.createElement("div");a=document.createElement("span");a.className="message";A.className=d.id;A.style.cssText=m("opacity",400);this.span=a;this.div=A;l=document.createElement("canvas");l.id=b.id;l.style.cssText="opacity: 1; position: absolute; z-index: 10000;";A.appendChild(l);A.appendChild(a);var t=document.createElement("div");t.className="meter";t.style.padding="10px";a=document.createElement("span");
a.style.width="3%";t.appendChild(a);this.meter=a;this.meterContainer=t;this.span.appendChild(t);b.container.appendChild(A)}var e=b.bars,p=b.radius,k=2*(b.lineHeight+20)+2*b.radius;q(b.container);var v=window.devicePixelRatio||1;l.width=k*v;l.height=k*v;var z=0,s=l.getContext("2d");s.globalCompositeOperation="lighter";s.shadowOffsetX=1;s.shadowOffsetY=1;s.shadowBlur=0;s.shadowColor="rgba(0,0,0,0.5)";this.messages={};this.threads=r.ui.Loader.threads;this.create=function(a,b,c){a=f[a]=f[a]||h.add(b);
isFinite(a)&&b&&"string"===typeof(b.message||b)?h.update(a,b.message||b,b.percent||c):isFinite(c)&&h.update(a,null,c)};this.update=function(a,b,c){"object"===typeof a&&(c=a.percent,b=a.message,a=a.id);if(!isFinite(a))for(a in h.messages);if(a=h.messages[a])a.message=b=b||a.message,"number"===typeof c&&(a.span.innerHTML=c+"%"),"..."===b.substr(-3)?(a._message=b.substr(0,b.length-3),a.messageAnimate=[".&nbsp;&nbsp;","..&nbsp;","..."].reverse()):(a._message=b,a.messageAnimate=!1),a.element.innerHTML=
b};this.add=function(a){a||(a={message:""});"string"===typeof a&&(a={message:a});this.span.style.cssText="background: "+(b.background?b.background:"rgba(0,0,0,1)")+";";this.div.style.cssText=m("opacity",400);this.stopPropagation?this.div.style.cssText+="background: rgba(0,0,0,0.25);":(this.div.style.pointerEvents="none",this.div.style.height=0);this.div.style.opacity=1;this.div.style.display="block";b.background&&(this.div.style.background=b.backgrond);var c=Date.now(),d=Math.abs(c*Math.random()>>
0),e=a.message,f=document.createElement("div");f.style.cssText=m("opacity",500);var g=document.createElement("span");g.style.cssText="float: right; width: 50px;";var k=document.createElement("span");k.innerHTML=e;f.appendChild(k);f.appendChild(g);f.appendChild(document.createElement("br"));c=this.messages[d]={seed:d,container:f,element:k,span:g,message:e,timeout:1E3*(a.timeout||b.timeout),timestamp:c,getProgress:a.getProgress};this.span.appendChild(f);this.span.style.display="block";this.update(c.seed,
e);a.onstart&&setTimeout(a.onstart,150);this.center();this.interval||a.delay||w();clearInterval(this.interval);this.interval=setInterval(w,30);return d};this.remove=function(a){z+=.07;Date.now();"object"===typeof a&&(a=a.join(":"));a&&(a=":"+a+":");for(var b in this.messages){var d=this.messages[b];if(!a||-1!==a.indexOf(":"+d.seed+":")){var e=c(d.seed);e&&delete f[e];delete this.messages[d.seed];d.container.style.color="#99ff88";u(d);d.getProgress&&(d.span.innerHTML="100%")}}};this.stop=function(a){"string"===
typeof a&&(a=c(a));if(isFinite(a))this.update(a,null,100);else{h.remove();clearInterval(h.interval);delete h.interval;if(b.oncomplete)b.oncomplete();l&&l.style&&(setTimeout(function(){h.div.style.opacity=0},1),setTimeout(function(){h.interval||(h.stopPropagation=!1,A.style.display="none",s.clearRect(0,0,k,k))},400))}};this.center=function(){var a=q(b.container),c=a.width-k,a=(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)+(a.height-k)/2-Math.max(70,h.span.offsetHeight/
2)+k;l.style.left=c/2+"px";l.style.top=a-k+"px";l.style.width=k+"px";l.style.height=k+"px";h.span.style.top=a+"px"};a=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(a);a.styleSheet?a.styleSheet.cssText=".loader { color: #fff; position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 100000; opacity: 0; display: none; font-size: 1em; }.loader span { overflow: hidden; white-space: nowrap; }.loader span.message { margin: auto; opacity: 1; display: none; border-radius: 10px; padding: 0; width: 300px; text-align: center; position: absolute; z-index: 10000; left: 0; right: 0; }.loader span.message div { border-bottom: 1px solid rgba(255,255,255,0.15); padding: 7px 10px; clear: both; text-align: left; opacity: 1; }.loader span.message span { text-overflow: ellipsis; -o-text-overflow: ellipsis; width: 80%; float: left }.loader span.message div:last-child { border-bottom: none; }":
a.innerHTML=".loader { color: #fff; position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 100000; opacity: 0; display: none; font-size: 1em; }.loader span { overflow: hidden; white-space: nowrap; }.loader span.message { margin: auto; opacity: 1; display: none; border-radius: 10px; padding: 0; width: 300px; text-align: center; position: absolute; z-index: 10000; left: 0; right: 0; }.loader span.message div { border-bottom: 1px solid rgba(255,255,255,0.15); padding: 7px 10px; clear: both; text-align: left; opacity: 1; }.loader span.message span { text-overflow: ellipsis; -o-text-overflow: ellipsis; width: 80%; float: left }.loader span.message div:last-child { border-bottom: none; }";
var u=function(a){setTimeout(function(){a.container.style.opacity=0},1);setTimeout(function(){a.container.parentNode.removeChild(a.container)},250)},w=function(){var a=Date.now();h.center();for(var c in h.messages){var d=h.messages[c],f=z/.07>>0,g=parseInt(d.span.innerHTML);if(isFinite(g)&&100<=g)h.remove(d.seed);else{if(0===f%5&&d.getProgress){if(d.timeout&&d.timestamp&&a-d.timestamp>d.timeout){h.remove(d.seed);continue}g=d.getProgress();if(100<=g){h.remove(d.seed);continue}d.span.innerHTML=(g>>
0)+"%"}0===f%10&&d.messageAnimate&&(d.element.innerHTML=d._message+d.messageAnimate[f/10%d.messageAnimate.length])}}c||h.stop();if(isFinite(h.percent))h.meterContainer.style.display="",h.meter.style.width=h.percent+"%";else{h.meterContainer.style.display="none";s.save();s.clearRect(0,0,k*v,k*v);s.scale(v,v);s.translate(k/2,k/2);a=360-360/e;for(c=0;c<e;c++){d=c/e*2*Math.PI+z;s.save();s.translate(p*Math.sin(-d),p*Math.cos(-d));s.rotate(d);var d=-b.lineWidth/2,f=b.lineWidth,g=b.lineHeight,l=f/2;s.beginPath();
s.moveTo(d+l,0);s.lineTo(d+f-l,0);s.quadraticCurveTo(d+f,0,d+f,0+l);s.lineTo(d+f,0+g-l);s.quadraticCurveTo(d+f,0+g,d+f-l,0+g);s.lineTo(d+l,0+g);s.quadraticCurveTo(d,0+g,d,0+g-l);s.lineTo(d,0+l);s.quadraticCurveTo(d,0,d+l,0);s.fillStyle="hsla("+c/(e-1)*a+", 100%, 50%, 0.85)";s.fill();s.restore()}s.restore();z+=.07}};if(!1===b.display)return this;b.message&&h.add(b.message);return this}}};r.ui.Loader.threads={};var m=function(b,d){return"\t\t-webkit-transition-property: "+b+";\t\t-webkit-transition-duration: "+
d+"ms;\t\t-moz-transition-property: "+b+";\t\t-moz-transition-duration: "+d+"ms;\t\t-o-transition-property: "+b+";\t\t-o-transition-duration: "+d+"ms;\t\t-ms-transition-property: "+b+";\t\t-ms-transition-duration: "+d+"ms;"},q=function(b){if(window.innerWidth&&window.innerHeight)var d=window.innerWidth,f=window.innerHeight;else"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(d=document.documentElement.offsetWidth,f=document.documentElement.offsetHeight):
document.body&&document.body.offsetWidth&&(d=document.body.offsetWidth,f=document.body.offsetHeight);b&&(d=b.offsetWidth);return{width:d,height:f}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(d,g,b){return d<g?g:d>b?b:d}r.color=r.color||{};r.color.picker=function(m){function q(a,b){if(!0===p[b].enable)return a;a="rgba"===a.substr(0,4)?A(a,"W3>RGBA"):A(a,"W3>HEX32>RGBA");var c=Math.round(.33*a.R+.33*a.G+.33*a.B);return"rgba("+c+","+c+","+c+","+a.A/255*.42+")"}function b(a){function b(a,d){a.proxy(function(a,b){eventjs.prevent(a);d(a,b);b.pointerStart?(eventjs.stop(a),c.style.cursor="crosshair"):b.pointerEnd&&(c.style.cursor="default")})}var c=a.element,d=a.config,
e=document.createElement("canvas"),f=e.getContext("2d");a.canvas=e;a.ctx=f;c.appendChild(e);a.draggable&&eventjs.proxy.dragElement(c);eventjs.add(e,"drag",function(f,h){eventjs.stop(f);var l=h.pointerStart,m=h.pointerEnd;l&&"function"===typeof a.mouseLayerExit&&a.mouseLayerExit();var p=a.margin/2,q=h.y-p,p=g(h.x-p,0,e.width);g(q,0,e.height);if("cp-input"===h.target.className)l&&eventjs.stop(f),c.style.cursor="text";else{if(p<=d.satval.width)return d.satval.enable&&h.proxy(function(b,e){eventjs.prevent(b);
var f=g(e.x-a.offset,0,d.satval.width),h=g(e.y-a.offset,0,d.satval.height);a.color.S=f/d.satval.width*100;a.color.V=100-h/d.satval.height*100;a.render(e.state,!0);e.pointerStart?(eventjs.stop(b),c.style.cursor="crosshair"):e.pointerEnd&&(c.style.cursor="default")}),!1;if(p>d.satval.width+a.margin&&p<=d.satval.width+a.margin+a.offset+d.hue.width)return d.hue.enable&&b(h,function(b,c){var e=d.satval.height,f=g(c.y-a.offset,0,e);a.color.H=360-360*Math.min(1,f/e);a.render(c.state,!0)}),!1;if(d.alpha&&
p>d.satval.width+d.alpha.width+2*a.margin&&p<=d.satval.width+2*a.margin+a.offset+2*d.alpha.width)return d.alpha.enable&&b(h,function(b,c){var e=d.satval.height,f=g(c.y-a.offset,0,e);a.color.A=255*(1-Math.min(1,f/e));a.render(c.state,!0)}),!1;if(a.draggable)return h.proxy(function(a,b){eventjs.prevent(a);if(b.pointerStart){var d=eventjs.getBBox(c);b.env.x=b.x-d.x1;b.env.y=b.y-d.y1}var d=b.x-b.env.x,e=b.y-b.env.y,f=window.innerWidth,g=window.innerHeight,k=c.offsetWidth,h=c.offsetHeight;d+k>f&&(d=f-
k);e+h>g&&(e=g-h);0>d&&(d=0);0>e&&(e=0);c.style.left=d+"px";c.style.top=e+"px";b.pointerStart?c.style.cursor="move":b.pointerEnd&&(c.style.cursor="default")}),!1;m&&(c.style.cursor="default")}})}function h(a){var b=l.$indicator=document.createElement("div");b.className="cp-indicator";l.interlace.data&&(b.style.backgroundImage="url("+l.interlace.data+")");a.appendChild(b);var c=l.hexCode=document.createElement("div");b.appendChild(c);l.eyeDropper&&f(a);var d=/[^a-f0-9]/gi,e=l.$input=document.createElement("input");
e.className="cp-input";e.size=6;e.type="text";a.appendChild(e);eventjs.add(e,"mousedown",eventjs.stop);eventjs.add(e,"keydown keyup change",function(a){var b=a.keyCode;eventjs.keyTracker(a);setTimeout(function(){var c=e.value.replace(d,"").substr(0,6),c=A(c,"W3>HEX24");if("NaN"!==String(c)){if("keydown"===a.type||"keyup"===a.type)if(40===b)c=Math.max(0,c-(a.shiftKey?10:1)),e.value=A(c,"HEX24>W3").substr(1);else if(38===b)c=Math.min(16777215,c+(a.shiftKey?10:1)),e.value=A(c,"HEX24>W3").substr(1);else if(!eventjs.metaKey||
86!==b)return;16777215<c&&(c=16777215);0>c&&(c=0);l.update(A(c,"HEX24>RGB"),"up")}},50);27===b&&l.blur()})}function f(a){var b="function"===typeof l.eyeDropper?l.eyeDropper():l.eyeDropper,c=b.target;if((b=b.source)&&c){var d=b.ctx||b.getContext("2d"),b=document.createElement("span");b.className="cp-eyedropper icon-eyedropper";a.appendChild(b);var e,f={},g=function(a,b){eventjs.prevent(a);var c=d.getImageData(b.x,b.y,1,1);0!==c.data[3]&&(e=A(c.data,"RGBA>HSVA"),l.modules.alpha||(e.A=255),l.update(e));
b.pointerEnd&&l.mouseLayerExit()};l.mouseLayerExit=function(){eventjs.bulk(f,"remove");e&&l.update(e,"up");l.$indicator.classList.remove("active");c.style.cursor="default";setTimeout(function(){l.state="colorPicker"},50)};r.ui.tooltip&&r.ui.tooltip.add(b,"eyedropper");eventjs.add(b,"click",function(a){if("eyeDropper"===l.state)return l.mouseLayerExit();e=void 0;l.state="eyeDropper";l.$indicator.classList.add("active");c.style.cursor="crosshair";f.drag=eventjs.add(c,"drag",g,{monitor:!0})})}}function a(a){var b=
document.createElement("div");b.className="cp-close icon-close";r.ui.tooltip&&r.ui.tooltip.add(b,"Close Color Picker");eventjs.add(b,"mousedown",eventjs.cancel);eventjs.add(b,"click",l.onclose||function(a){eventjs.cancel(a);l.hide()});a.appendChild(b)}function c(a){"string"===typeof a?a="hsla"===a.substr(0,4)?A(a,"W3>HSLA>RGBA>HSVA"):"rgba"===a.substr(0,4)?A(a,"W3>RGBA>HSVA"):"rgb"===a.substr(0,3)?A(a,"W3>RGB>HSV"):r.color.webcolors[a]?A(r.color.webcolors[a],"W3>HEX24>RGB>HSV"):A(a,"W3>HEX24>RGB>HSV"):
"undefined"!==typeof a.R&&(a=A(a,"RGB>HSV"));"undefined"===typeof a.A&&(a.A=255);return a}m=m||{};var l=this,A=r.color.space,t={light:{arrow:"000",interlace:{size:8,color1:"#fff",color2:"#eee"}},dark:{arrow:"#fff",interlace:{size:8,color1:"#fff",color2:"#eee"}}};l.init=function(){r.ui=r.ui||{};l.pixelRatio=1;l.state="colorPicker";l.color=c(m.color||"#000000");l.container=d.$(m.container||document.body);l.margin=m.margin||10;l.offset=l.margin/2;l.strokeColor=m.strokeColor||"rgba(255,255,255,0.15)";
l.feature=m.feature||{};l.eyeDropper=l.feature.eyeDropper||{};l.draggable=m.draggable||!1;l.format=m.format||"rgba";l.theme=t[m.theme||"dark"];var e=l,f=l.theme.arrow,g=document.createElement("canvas"),p=g.getContext("2d"),q=16/3;g.width=16;g.height=16;for(var w=0;20>w;w++)p.beginPath(),p.fillStyle=f,p.moveTo(0,4),p.lineTo(4,0),p.lineTo(4,8),p.fill();p.translate(-q,-16);e.arrow=g;e=l;f=document.createElement("canvas");f.width=10;f.height=10;g=f.getContext("2d");g.lineWidth=1;g.beginPath();p=f.width/
2;q=f.width/2;g.arc(p,q,4.5,0,2*Math.PI,!0);g.strokeStyle="#000000";g.stroke();g.beginPath();g.arc(p,q,3.5,0,2*Math.PI,!0);g.strokeStyle="#FFFFFF";g.stroke();e.circle=f;e=l;p=l.theme.interlace;f=p.size;g=p.color1;q=p.color2;p=document.createElement("canvas").getContext("2d");p.canvas.width=2*f;p.canvas.height=2*f;p.fillStyle=g;p.fillRect(0,0,f,f);p.fillStyle=q;p.fillRect(f,0,f,f);p.fillStyle=q;p.fillRect(0,f,f,f);p.fillStyle=g;p.fillRect(f,f,f,f);f=p.createPattern(p.canvas,"repeat");try{f.data=p.canvas.toDataURL()}catch(x){}e.interlace=
f;l.onchange=m.onchange;l.onclose=m.onclose;e=l.modules=m.modules||{hue:!0,satval:!0,alpha:!0};f=l.config={};e.hue&&(g=e.hue,f.hue={column:0,enable:!m.modules||g.enable||!1,width:isFinite(g.width)?g.width:30,height:isFinite(g.height)?g.height:150});e.satval&&(g=e.satval,f.satval={column:1,enable:!m.modules||g.enable||!1,width:isFinite(g.width)?g.width:150,height:isFinite(g.height)?g.height:150});e.alpha&&(g=e.alpha,f.alpha={column:2,enable:!m.modules||g.enable||!1,width:isFinite(g.width)?g.width:
30,height:isFinite(g.height)?g.height:150});e=l.element=document.createElement("div");e.classList.add("sk-colorpicker");m.className&&(e.className=m.className);m.style&&(e.style.cssText=m.style);l.container.appendChild(e);f=document.createElement("div");l.feature.hexInput&&h(f);l.feature.closeButton&&a(f);e.appendChild(f);b(l);return l};l.update=function(a,b){b=void 0===b?"update":b;a&&(l.color=c(a));e.alpha.enable||(l.color.A=255);var d=0,f=0,g=-1,h;for(h in p){var m=p[h];!1!==m.enable&&(d+=m.width+
l.margin+l.offset-5,g!==m.row&&(f+=m.height+l.margin,g=m.row))}d*=l.pixelRatio;f*=l.pixelRatio;g=l.canvas;if(g.width!==d||g.height!==f)g.width=d,g.height=f,g.style.marginLeft=-l.offset+"px";l.render(b,!!a)};l.render=function(a,b){var c=p.satval,d=p.hue,e=p.alpha,f=l.canvas,g=l.ctx;g.clearRect(0,0,f.width,f.height);var f=l.ctx,h=A({H:l.color.H,S:100,V:100},"HSV>RGB>HEX24>W3");A.HEX_RGB("0x"+h);var m=l.offset,r=p.satval.width,t=p.satval.height;f.save();f.fillStyle=l.interlace;f.fillRect(m,l.offset,
p.satval.width,p.satval.height);f.globalAlpha=l.color.A/255;f.fillStyle=q(h,"satval");f.fillRect(m,m,r,t);h=f.createLinearGradient(m,m,r+m,0);h.addColorStop(0,q("rgba(255, 255, 255, 1)","satval"));h.addColorStop(1,q("rgba(255, 255, 255, 0)","satval"));f.fillStyle=h;f.fillRect(m,m,r,t);h=f.createLinearGradient(0,m,0,t+m);h.addColorStop(0,"rgba(0, 0, 0, 0)");h.addColorStop(1,"rgba(0, 0, 0, 1)");f.fillStyle=h;f.fillRect(m,m,r,t);f.strokeStyle=q(l.strokeColor,"satval");f.strokeRect(m+.5,m+.5,r-1,t-1);
f.restore();f=l.ctx;m=p.satval.width+l.margin+l.offset;f.fillStyle=l.interlace;f.fillRect(m,l.offset,p.hue.width,p.hue.height);r=f.createLinearGradient(0,0,0,p.hue.height+l.offset);r.addColorStop(0,q("rgba(255, 0, 0, 1)","hue"));r.addColorStop(5/6,q("rgba(255, 255, 0, 1)","hue"));r.addColorStop(4/6,q("rgba(0, 255, 0, 1)","hue"));r.addColorStop(.5,q("rgba(0, 255, 255, 1)","hue"));r.addColorStop(2/6,q("rgba(0, 0, 255, 1)","hue"));r.addColorStop(1/6,q("rgba(255, 0, 255, 1)","hue"));r.addColorStop(1,
q("rgba(255, 0, 0, 1)","hue"));f.save();f.globalAlpha=l.color.A/255;f.fillStyle=r;f.fillRect(m,l.offset,p.hue.width,p.hue.height);f.strokeStyle=q(l.strokeColor,"hue");f.strokeRect(m+.5,l.offset+.5,p.hue.width-1,p.hue.height-1);f.restore();e.enable&&(f=l.ctx,m=p.satval.width+2*l.margin+p.hue.width+l.offset,f.fillStyle=l.interlace,f.fillRect(m,l.offset,p.alpha.width,p.satval.height),r=A.HSV_RGB({H:l.color.H,S:l.color.S,V:l.color.V}),t=f.createLinearGradient(0,0,0,p.satval.height),r.A=255,t.addColorStop(0,
q(A.RGBA_W3(r),"alpha")),r.A=0,t.addColorStop(1,q(A.RGBA_W3(r),"alpha")),f.fillStyle=t,f.fillRect(m,l.offset,p.alpha.width,p.satval.height),f.strokeStyle=l.strokeColor,f.strokeRect(m+.5,l.offset+.5,p.alpha.width-1,p.satval.height-1));f=A(l.color,"HSVA>RGBA");m=A(f,"RGB>HEX24>W3");l.feature.hexInput&&(l.$input.value=m.substr(1),l.hexCode.style.backgroundColor=A(f,"RGBA>W3"));g.save();e.enable&&(g.globalAlpha=e.enable?1:0,e=c.width+2*l.margin+d.width+e.width+l.offset,m=(255-l.color.A)/255*c.height-
2,g.drawImage(l.arrow,e+2,Math.round(m)+l.offset-1));d&&(g.globalAlpha=d.enable?1:0,e=c.width+l.margin+l.offset+d.width,m=(360-l.color.H)/362*c.height-2,m=Math.round(m)+l.offset-1,g.drawImage(l.arrow,e+2,m),g.beginPath(),g.moveTo(e-d.width,m+3.5),g.lineTo(e,m+3.5),g.strokeStyle="rgba(255,255,255,0.5)",g.stroke(),g.beginPath(),g.moveTo(e-d.width,m+4.5),g.lineTo(e,m+4.5),g.strokeStyle="rgba(0,0,0,0.5)",g.stroke());c&&(g.globalAlpha=c.enable?1:0,e=l.color.S/100*c.width,m=(1-l.color.V/100)*c.height,e-=
l.circle.width/2,m-=l.circle.height/2,g.drawImage(l.circle,Math.round(e)+l.offset,Math.round(m)+l.offset));g.restore();if(l.onchange&&a&&b)l.onchange(l.toString(f),a)};l.toggle=function(a){return"boolean"===typeof a?a?l.show():l.hide():l.element.classList.contains("opened")?l.hide():l.show()};l.show=function(){var a=l.element;a.classList.add("opened");a.style.display="block";window.clearTimeout(a.interval)};l.hide=function(){var a=l.element;a.classList.remove("opened");a.interval=setTimeout(function(){a.style.display=
"none"},250)};l.destroy=function(){var a=l.element,b=a.parentNode;b&&b.removeChild(a)};l.toString=function(a){a=a||l.color;isFinite(a.H)&&(a=A(a,"HSVA>RGBA"));return 255===a.A?A(a,"RGB>HEX24>W3"):A(a,"RGBA>W3")};l.init();var e=l.modules,p=l.config;l.update()};var d={$:function(d,g){return"object"===typeof d?d:(g||document).querySelector(d)}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){r.module=r.module||{};r.module.UIPaletteEditor=function(g,d){function m(a){var b=a.data,c=a.paintMethod,d=a.configure,e={useRender:!0};e.useRecord=a.state||!0;e.configure=d;e[c]=b;f.emit("setStyle",e);g.doc.setStyle(e)}function q(a,b,c,d,e){g.style[a+"Official"][c]&&(u.style.display="block",l.setClass(b,"official",!0));e===d&&l.setClass(b,"selected",!0)}function b(a,b){var c={};c[a]=b;c.type=a;return c}function h(a,b){v.colorPicker.update?"none"!==a&&v.colorPicker.update(a,b):f.setSelected({type:"color",
color:a})}var f=this,a=g.client,c=g.detect,l=g.dom,r=g.feature,t=g.lang,e=g.style,p=g.util,k=g.windows,v=g.ui;g.module.Listener(f);var z,s,u,w={};f.getColor=function(){return w.color};f.getPaintMethod=function(){return w.method};var x=m;f.createTrigger=function(){function a(b){var c=l.$(".sk-pane-content",b);return c?l.empty(c):l.append(b,'<div class="sk-pane-content"></div>')}function b(a,c,d,e){if("boolean"===typeof e){m({state:!0,paintMethod:c,data:{enabled:e}});var k=d[c];c=d[g[c]];k.enabled=
e;f.renderIndicator(a,k);a=k&&k.__cache;e=c&&c.__cache;a&&e&&!1===a.attr.checked&&!1===e.attr.checked&&(e.attr.setValue(!0),e.input.classList.add("sk-checked"))}}function d(a,b,e){var f=e[b];"stroke"===b&&(v.appendRange(a,{label:"lineWidth",param:"lineWidth",title:"lineWidth",value:f.lineWidth,min:.001,max:50,format:"px",onchange:function(a,b){m({data:{enabled:!0,lineWidth:b.value},paintMethod:"stroke",state:a.state,configure:e})}}),b=e.type,r.style.lineJoin&&c.shape[b]&&v.appendSelect(a,{label:"lineJoin",
param:"lineJoin",title:"lineJoin",selected:f.lineJoin,options:["round","bevel","miter"],onchange:function(a,b){m({data:{enabled:!0,lineJoin:b},paintMethod:"stroke",state:!0,configure:e})}}))}function e(a,b,d,f,g){var k=f.type;b=f[d];var h=c.useColorModeCycle[k];r.style.colorMode&&!h&&(c.useColorModeAll[k]?k=["cycle","linear","radial"]:(k=["linear","radial"],"cycle"===b.mode&&(b.mode="linear")),v.appendSelect(a,{label:"colorMode",param:"colorMode",title:"colorMode",selected:b.mode,options:k,onchange:function(a,
b){m({data:{enabled:!0,mode:b},paintMethod:d,state:!0,configure:f});g()}}),"linear"===b.mode&&v.appendRange(a,{value:b.angle,min:0,max:360,format:"degree",label:"angle",param:"angle",title:"angle",onchange:function(a,b){m({data:{enabled:!0,angle:b.value>>0},paintMethod:d,state:a.state,configure:f})}}));r.style.colorNoise&&v.appendTag("Checkbox",a,{label:"colorNoise",param:"colorNoise",title:"colorNoise",checked:!!b.noise,onchange:function(a){m({data:{enabled:!0,noise:a},paintMethod:d,state:!0,configure:f})}})}
var g={stroke:"fill",fill:"stroke"};return function(c){function g(){function c(a){var b=a.color;a=a.type;A.style.display="gradient"===a?"block":"none";"color"===a&&h(b,!1)}f.removeListeners("setPane");f.on("setPane",c);v.ranges={};if(u)var r=k,r=a(r);else{var s=v.pages.getPageId(),r=l.empty("#sk-"+s);v.pages.pageId=s+":"+z;v.addHeader(r,{title:t,left:{icon:"icon-left",onclick:function(){v.setPane(s,{force:!0})}}});b(G,z,p,!0);r=a(r);f.append(r,p,q)}d(r,z,p);var A=l.append(r,'<div class="sk-gradient-opts"></div>');
e(A,r,z,p,g);c(q);f.setPaint(q);m=w||x}c=c||{};var k=c.container,p=c.configure,q=c.paint,s=c.label,t=c.title,u=c.instant,w=c.onchange,z=q.constructor.type,G=l.create("canvas",{class:z+"-indicator"});if(k&&!0!==u){var V=l.create("div");V.classList.add("sk-style");V.appendChild(G);q.enabled&&V.classList.add("sk-enabled");p.fill&&!p.fill.hidden&&p.stroke&&!p.stroke.hidden&&(c=v.Checkbox({container:V,label:"enable",param:"enable",checked:q.enabled,tooltip:function(){return this.checked?"enabled":"disabled"},
onchange:function(a){V.classList.toggle("sk-enabled");b(G,z,p,a)}}),q.__cache={},q.__cache.attr=c.attr,q.__cache.input=c.element);3===r.palette.version?v.addClick(G,function(a,b){f.setPaint(q);f.show({autoclose:!0,at:{element:b.target,align:"left top",offset:{x:10,y:-10}}})}):v.addClick(G,g);v.tooltip&&v.tooltip.add(G,"choose-"+z);s?v.appendLabel(k,V,s):k.appendChild(V);f.renderIndicator(G,q)}else g();m=w||x}}();f.append=function(a,b){b.useBackgroundOverlay||(f.$element?a.appendChild(f.$element):
(l.append(a,'<div id="sk-palette"></div>'),f.init({paint:b.fill})))};(function(){function a(){var b=l.empty("#sk-palette");if(null===b)console.error("#sk-palette does not exist");else{var c=l.append(b,'<div class="sk-header"></div>');r.palette.header&&(f.$title=l.append(c,'<div class="sk-header-content"></div>'),r.palette.closeButton&&eventjs.add({target:l.append(c,'<span class="sk-close icon-remove"></span>'),mousedown:eventjs.cancel,click:function(a,c){eventjs.cancel(a);requestAnimationFrame(function(){k.hide(b.getAttribute("data-selector"))})}}));
var d=l.append(b,'<div class="sk-palette-content"></div>');r.palette.grid&&(u=l.append(d,'<div class="sk-scroller sk-scroller-official sk-scroller-palette"></div>'),v.scrollable(u),l.append(d,'<div class="sk-palette-break"></div>'),s=l.append(d,'<div class="sk-scroller sk-scroller-palette"></div>'),v.scrollable(s),l.append(d,'<div class="sk-palette-break"></div>'));z=l.append(d,'<div class="editor"></div>');z.style.display="none";if(r.style.gradient||r.style.pattern){var e=l.append(c,'<ol class="tabs"></ol>'),
c=function(a){var b=l.Canvas(1,1);b.className=a+"-indicator";var c=l.append(e,"span");c.appendChild(b);eventjs.add(c,"click",function(b){eventjs.prevent(b);f.updateAndRecord(a)});l.append(c,"span").textContent=t.translate(a)};r.style.color&&c("color");r.style.gradient&&c("gradient");r.style.pattern&&c("pattern")}f.$element=b}}function b(a){a=a||{};var c=a.height||165;v.colorPicker=new g.color.picker({onchange:a.onchange||function(a,b){"down"!==b&&!0!==b||f.deselect("color");m({data:{enabled:!0,paintType:"color",
dna:a},paintMethod:w.method,state:b})},onclose:a.onclose,theme:a.theme,container:"#sk-palette .editor",feature:{closeButton:!1,hexInput:a.hexInput,eyeDropper:a.eyeDropper?function(){var a=g.doc.contexts;return{source:a.layer0,target:a.active}}:null},modules:{hue:{column:2,enable:!0,width:30,height:c},satval:{column:1,enable:!0,width:(a.width||206)-40,height:c},alpha:{column:3,enable:!1,width:30,height:c}}});l.append(v.colorPicker.element,'<div class="clear"></div>')}f.init=function(c){c=c||{};var d=
c.colorPicker||r.palette.colorPicker;c=c.paint||e.fill;a();d&&(p.exists("sk.color.picker")?b(d):console.warn("sk.color.picker is not loaded"));f.setPaint(c)}})();f.setPane=function(a,b){f.setPaintType(a,!1,!1,b);f.emit("setPane",w)};f.setPaint=function(){return function(a){a:{switch(typeof a){case "string":a=e.validate(a)?e.create(a,w.method):void 0;break a;case "object":break a}a=void 0}if(a){var b=a.type,c=w.type!==b;w=a;var d=r.palette.header,k=f.$title;if(k)if(l.empty(k),"function"===typeof d){var m=
g.doc.toolkit.getConfigFallback();l.append(k,d(w,m))}else l.append(k,d);f.setPaintType(b,c);f.setIndicator(a);"color"===b&&h(w[b])}}}();f.setPaintType=function(){function c(a,b){var d=g.doc;eventjs.cancel(a);var e=b.target;"down"===b.state&&(b.clone=l.clone(e,"sk-palette-clone"),b.measure=l.measure(e),document.body.appendChild(b.clone));var f=b.x-b.start.x,h=b.y-b.start.y;10<Math.max(Math.abs(f),Math.abs(h))&&d.selection.reset();"up"===b.state?(l.remove(b.clone),k(a,b),f=eventjs.getPageXY(a),document.elementFromPoint(f.x,
f.y)===d.contexts.active&&(e=e.parentNode,f=d.scene.pointInSceneFromEvent(a),f=d.scene.findAtPoint({point:f}),(d=d.scene.children[f])&&g.vector.setStyleAt({object:d,paint:e.getAttribute("data-dna"),point:a}))):(e=b.clone.style,e.position="absolute",e.left=f+b.measure.x1+"px",e.top=h+b.measure.y1+"px",e.cursor="crosshair")}function k(a,b){eventjs.prevent(a);var c=b.target.parentNode,d=c.getAttribute("data-type"),g=c.getAttribute("data-dna");f.deselect(d,s);f.deselect(d,u);l.setClass(c,"selected",!0);
requestAnimationFrame(function(){"pattern"===d?e.loadPattern(g,function(a){m({data:{enabled:!0,paintType:d,dna:g},paintMethod:w.method,state:!0})}):"color"===d&&v.colorPicker.update?h(g,!0):m({data:{enabled:!0,paintType:d,dna:g},paintMethod:w.method,state:!0});r.debug&&console.log("dna",g)})}return function(h,m,t,x){var E=g.perf();if(h&&(m||w.type!==h)&&(w.type=h,z&&("color"===h?r.palette.colorPicker&&(z.style.display="block"):z.style.display="none",r.palette.grid))){f.queue&&f.queue.cancel();(m=
l.$("."+h+"-indicator"))&&l.setClass(m.parentNode,"selected",!0,"span");m="color"===h;var D="gradient"===h,H="pattern"===h,P=h+e.hashDNA(w[h]);u.style.display="none";l.setClass(u,"color",m);l.setClass(u,"gradient",D);l.setClass(u,"pattern",H);l.setClass(s,"color",m);l.setClass(s,"gradient",D);l.setClass(s,"pattern",H);t&&(l.empty(s),l.empty(u));var K=g.style[h];if(K){var J,N,S=r.palette.drag&&!a.mobile,Q="color"===h&&v.tooltip;f.queue=p.Queue({items:K,oncancel:x,oncomplete:function(){r.debug&&console.log("build palette",
h,E());f.setIndicator(w);x&&x()},next:function(a,f,m){a=K[m];f=e.hashDNA(a);var p=h+f,w=g.style[h+"Official"][f]?u:s,x=document.getElementById(p);if(x&&!t)return q(h,x,f,P,p),this.next();var z=l.Canvas(1,1),x=document.createElement("li");x.id=p;x.className=h;x.setAttribute("data-type",h);x.setAttribute("data-dna",a);x.appendChild(z);J||N||(w.appendChild(x),N=(J=z.offsetWidth)||z.offsetHeight);e.renderSwatch(z,b(h,a),J,N,d.pixelRatio);q(h,x,f,P,p);w.appendChild(x);Q&&v.tooltip.add(z,a.toUpperCase());
S&&eventjs.add(z,"drag",c);eventjs.add(z,"click",k);r.palette.buildInstant?this.next():0!==m%10?this.next():setTimeout(this.next,0)}})}}}}();f.rebuild=function(a){a=l.$$("#sk-palette .sk-scroller-palette "+(a?"."+a:"li"));l.remove(a);f.setPaintType(w.type,!0)};f.deselect=function(a,b){b=b||s;a=a||w.type;var c=l.$$("."+a+".selected",b);p.each(c,function(a){a.classList.remove("selected")})};f.updateAndRecord=function(a){f.setPane(a);m({data:{enabled:!0,paintType:a,dna:w[a]},paintMethod:w.method,state:!0})};
f.renderIndicator=function(a,c,f){f=f||c.type;var g=a.offsetWidth,k=g||a.offsetHeight;c.enabled?e.renderSwatch(a,b(f,c[f]),g,k,d.pixelRatio):e.renderSwatch(a,b("pattern",v.media.get("transparent")),g,k,d.pixelRatio)};(function(){function a(b,c,d){b=l.$$(b);for(var e=0;e<b.length;e++)f.renderIndicator(b[e],c,d)}function b(a){var c=a.type;a=a[c];g.color.webcolors[a]&&(a="#"+g.color.webcolors[a]);a=e.hashDNA(a);(c=l.$("#"+c+a))&&l.setClass({target:c,list:"li",className:"selected",on:!0})}f.setSelected=
function(a){a=a||w;b(a)};f.setIndicator=function(c){p.throttle(a,function(){var d=g.doc.toolkit.getConfigFallback();c=c||w;a(".color-indicator",c,"color");a(".gradient-indicator",c,"gradient");a(".pattern-indicator",c,"pattern");a(".fill-indicator",d.fill||e.fill);a(".stroke-indicator",d.stroke||e.stroke);a(".background-indicator",d.background||e.background);b(c)})}})();(function(){f.show=function(a,b){a=a||{};var c=a.at,d=a.paint,e=a.configure||g.doc.toolkit.getConfigFallback(),h=a.autoclose;d&&
f.setPaint(d);d=l.$("#sk-palette");g.palette.createTrigger({instant:!0,container:d,configure:e,paint:w,label:w.method,title:w.method});k.show({element:d,autoclose:h,at:c},b)};f.hide=function(){k.hide("#sk-palette")};f.toggle=function(a){k.isOpen("#sk-palette")?f.hide():f.show(a)}})()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(r){function g(a){var b=f.measure(a);t.element=a;t.left=b.x1;t.right=b.x2;t.top=b.y1;t.bottom=b.y2}function d(c,d){var g=document.body||document.documentElement,h=g.scrollTop,m=g.scrollLeft,q=window.innerWidth,r=window.innerHeight;if(!1!==d.draggable){var w=d.element,g=f.$(d.handle||w);return eventjs.proxy.drag({event:c,target:g,position:"move",useCSSTransform:!1,listener:function(c,e){eventjs.isTouch&&eventjs.prevent(c);eventjs.stop(c);var g=f.measure(e.target);e.width=g.width;e.height=
g.height;b(e);"fixed"===g.position&&(e.y-=h,e.x-=m);l.emit("drag",e,d);w.style.left=Math.round(e.x+m)+"px";w.style.top=Math.round(e.y+h)+"px";e.pointerStart?(g=d.zIndexFixed||++a.zIndexGlobal,w.style.zIndex=g):(g={},g.selector=d.selector,g.index=a.zIndexGlobal,"bottom"===d.vAlign?g.bottom=(r-e.y-e.height-(r-t.bottom))/r:g.top=(e.y-t.top)/r,"right"===d.hAlign?g.right=(q-e.x-e.width-(q-t.right))/q:g.left=(e.x-t.left)/q,l.record(g),l.restore(g.selector))}})}}function m(b,c){if(void 0===c.hasWindowEvent){c.hasWindowEvent=
!0;var g;eventjs.add({target:c,contextmenu:function(a){g&&g.remove&&g.remove()},mousedown:function(a){g=d(a,b)},mouseover:function(b){eventjs.stop(b);a.tooltip&&a.tooltip.update("")}});var h=f.$("span.sk-close",c);h&&(a.tooltip&&a.tooltip.add(h,"Close"),eventjs.add({target:h,mousedown:eventjs.stop,click:function(a,c){eventjs.cancel(a);requestAnimationFrame(function(){for(var a=c.target;a!==document;)if(a.classList.contains("sk-window")){l.hide(b.selector);break}else if(a.parentNode)a=a.parentNode;
else break})}}))}}function q(b){var c=l.byId(b);if(c){var d=c.element,c=c.ghost=document.createElement("div");0===b.indexOf("#")?c.id=b.substr(1)+"-ghost":c.className=b.substr(1)+"-ghost";c.classList.add("sk-window-ghost");d.parentNode.insertBefore(c,d);eventjs.add(c,"mousemove",function(b){"eyeDropper"===a.colorPicker.state&&a.colorPicker.mouseLayerUpdate(b)});eventjs.add(c,"mousedown",function(c){eventjs.prevent(c);"eyeDropper"===a.colorPicker.state?a.colorPicker.mouseLayerExit(c):l.hide(b)})}}
function b(a){var b=t.x||0,c=t.y||0,d=t.width||window.innerWidth,f=t.height||window.innerHeight;a.x+a.width>d&&(a.x=d-a.width);a.x<b&&(a.x=b);a.y+a.height>f&&(a.y=f-a.height);a.y<c&&(a.y=c);return a}function h(a){return!0===a?"block":!1===a?"none":a}var f=r.dom,a=r.ui||(r.ui={}),c=r.util,l=r.windows=[];l.focused=[];var A=l.toIndex={};r.module.Listener(l);l.add=function(b){a.zIndexGlobal=a.zIndexGlobal||1001;var d=b.selector,g=f.$(d);if(isFinite(A[d]))console.error("element already added",d);else if(d)if(g){var q=
h(b.display),r=(b.position||"top left").split(" "),s=b.vAlign=r[0]||"top",r=b.hAlign=r[1]||"left";if("px"===b.format){var t=window.innerWidth,w=window.innerHeight;"top"===s?b.top=(b.top||0)/w:b.bottom=(b.bottom||0)/w;"left"===r?b.left=(b.left||0)/t:b.right=(b.right||0)/t}b.element=g;b.index=b.index||++a.zIndexGlobal;g.setAttribute("data-selector",d);b.handle?m(b,f.$(b.handle)):m(b,b.element);A[d]=l.length;l.push(b);c.getItem(d,function(a){a&&(q&&(a.display=q),"NONE"===b.display&&(a.display="none"),
"BLOCK"===b.display&&(a.display="block"),c.copyInto(a,b))})}else console.error("element does not exist",d);else for(s in b)d=b[s],d.selector=s,l.add(d),l.restore(d.selector)};l.byId=function(a){return l[A[a]]||!1};l.record=function(a){var b=a.selector,d=l.byId(b);d&&(void 0!==a.left&&(d.left=a.left),void 0!==a.top&&(d.top=a.top),void 0!==a.right&&(d.right=a.right),void 0!==a.bottom&&(d.bottom=a.bottom),void 0!==a.display&&(d.display=h(a.display)),void 0!==a.index&&(d.index=a.index),void 0!==a.className&&
(d.className=a.className),void 0!==a.autoclose&&(d.autoclose=a.autoclose),a=c.json.stringify(d),c.setItem(b,a),l.focusElement(b,d.display))};l.restore=function(c){var d=l;if("string"===typeof c){var h=l.byId(c);h&&(d=[h])}var m=document.body||document.documentElement;c=m.scrollTop;var m=m.scrollLeft,q=window.innerWidth,r=window.innerHeight;t.element&&g(t.element);for(var u=[],w={},x=0;x<d.length;x++)if(h=d[x],"block"===String(h.display).toLowerCase()){var y=f.$(h.selector);if(y){y.style.display="block";
var A=f.measure(y,{sansScale:!0}),y=A.width,B=A.height,C,G=h.vAlign;C="top"===G?h.top*r+t.top:r-h.bottom*r-B;var I,E=h.hAlign;I="left"===E?h.left*q+t.left:q-h.right*q-y;w._bottom=C+B-r;w._top=Math.min(C,r)-C;w._right=I+y-q;w._left=Math.min(I,q)-I;w[G]=Math.max(w[G]||0,w["_"+G]);w[E]=Math.max(w[E]||0,w["_"+E]);u.push({win:h,measure:A,top:Math.max(0,C),left:Math.max(0,I),width:y,height:B})}}d=1001;for(x=0;x<u.length;x++)u=u[x],h=u.win,A=u.measure,y=h.element,u=b({x:"right"===h.hAlign?u.left-w.right:
u.left+w.left,y:"bottom"===h.vAlign?u.top-w.bottom:u.top+w.top,width:u.width,height:u.height}),"fixed"!==A.position&&(u.y+=c,u.x+=m),h=h.zIndexFixed||h.index||++d,y.classList.add("opened"),y.style.top=Math.round(u.y)+"px",y.style.left=Math.round(u.x)+"px",y.style.display="block",y.style.zIndex=h,a.zIndexGlobal=Math.max(a.zIndexGlobal,h)};l.blink=function(a,b){var c=f.$(a);c&&(l.isOpen(c)||l.show(a),setTimeout(function(){c.blinking=!1},250),c.blinking?b&&b(!0):(c.blinking=!0,c.classList.remove("blink"),
c.classList.add("blink-stall"),requestAnimationFrame(function(){c.classList.remove("blink-stall");c.classList.contains("opened")?c.classList.add("blink"):l.show(a);b&&b(!0)})))};l.show=function(b,c){if("object"===typeof b){var d=b,g=f.$(d.element);if(g){if(b=g.getAttribute("data-selector")){var h=f.getCoordinateAt(d);h&&(g.style.left=h.x+"px",g.style.top=h.y+"px",r.windows.record({selector:b,left:h.x/window.innerWidth,top:h.y/window.innerHeight,autoclose:d.autoclose}));l.show(b,c)}}else console.warn(arguments)}else if(d=
l.byId(b)){var m=!!d.autoclose,t=d.ghost;if(g=d.element)clearTimeout(g.interval),g.classList.contains("sk-window")&&(g.classList.add("opened"),h=d.zIndexFixed||++a.zIndexGlobal,l.record({selector:b,display:"block",index:h}),m&&(void 0===t&&(q(b),t=d.ghost),t.style.display="block",t.style.zIndex=h++),g.style.display="block",g.style.opacity=1,g.style.zIndex=h,requestAnimationFrame(function(){m&&t.classList.add("show");l.restore(b);c&&c()}))}};l.hide=function(a){var b=l.byId(a);if(b){var c=b.element,
d=b.ghost,f=!!b.autoclose&&d;!1!==b.closeable&&(f&&d.classList.remove("show"),c.classList.remove("opened"),c.style.opacity=0,c.interval=setTimeout(function(){f&&(d.style.display="none");c.style.opacity=1;c.style.display="none";l.record({selector:a,display:"none"})},250))}};l.focus=function(b){var c=l.byId(b),d=c.element;d&&(c=c.zIndexFixed||++a.zIndexGlobal,d.style.zIndex=c,l.record({selector:b,index:c}))};l.clearFocus=function(){l.focused=[]};l.focusElement=function(a,b){if("none"!==b){var c=l.focused.slice(-1)[0],
d=" "+l.focused.join(" ")+" ";c!==a&&-1===d.indexOf(a)&&l.focused.push(a)}};l.hasFocus=function(){return isFinite(A[l.focused.slice(-1)[0]])};l.hideFocused=function(){var a=l.focused.pop();l.hide(a)};l.isOpen=function(a){if(a=f.$(a))return"none"===a.style.display?!1:a.classList.contains("opened")};l.isClosed=function(a){return!l.isOpen(a)};l.toggle=function(a,b){var c=f.$(a);if(c){if(l.isOpen(c)){l.hide(a);var d=!1}else l.show(a),l.restore(a),d=!0;b&&requestAnimationFrame(function(){b(d)})}else console.error("window missing",
arguments)};var t=l.CLAMP={x:0,y:0,left:0,right:0,top:0,bottom:0,vAlign:"top",hAlign:"left"};l.setClamp=function(a){a=a||{};var b=a.element||document.body,c=a.width,d=a.height,f=a.y;t.x=a.x||null;t.y=f||null;t.width=c||null;t.height=d||null;g(b)}})(sketch);
(function(r){r.ui=r.ui||{};r.ui.scrollers={};r.ui.InfiniteScroll=function(d,m,q){var b=d.feature,h=q.type,f=q.target,a=d.lib[h];if(a&&a.paths){var c=d.ui.scrollers,l=c[h],r=!1;l&&(r=b.ui.addToLibrary?l.positions.length===a.paths.length:!0);if(r)return l.target=f,l.show(q);l=new g(d,m,q);return c[h]=l}};var g=function(d,g,q){function b(b,e){var g=d.doc,k=e.target,m=h.type,q=k.getAttribute("data-src"),r=k.getAttribute("data-name"),t=q.split("/"),v=a.placement.mediaClick;h.select(k);var z=document.createElement("span");
z.className="loader";k.appendChild(z);setTimeout(function(){p(m,t[t.length-2]);if(k.drag){k.drag.remove();var a=f.$("#sk-draggable");a&&a.parentNode.removeChild(a)}var a="text"===m,b="stamp"===m;(a=!("select"===g.tool.type&&g.selection.length||a||b))&&g.scene.deselectAll();g.setMedia({src:q,fontFamily:r,type:m,onerror:function(){d.ui.log(c.translate("loading-error")+" \u201c"+r+"\u201d");k.removeChild(z)},onsuccess:function(){l.dirtyControls=!0;k.removeChild(z)}});a&&v&&g.scene.add({type:m,src:q})},
250)}var h=this,f=d.dom,a=d.feature,c=d.lang,l=g.render,r=g.toolkit,t=d.util;h.credits=void 0;h.folder=q.folder;h.media=void 0;h.positions=[];h.scroller=void 0;h.scrollTop=0;h.target=q.target;h.type=q.type;h.hide=function(){h.scroller.style.display="none"};h.show=function(a){var b=d.lib[h.type];if(b&&b.paths){var c=h.folder=a.folder,e=h.credits;a=h.scroller;var g=h.target;a.style.display="none";a.scrollTop=h.scrollTop;g.appendChild(a);g.appendChild(e);for(var e=0,g=b.paths,k=g.length,l=0;l<k;l++){var m=
g[l],p=m.container;if(m.image&&p){var q=!c||"*"===c,r=m.selected===c;"Your Files"===c&&0===b.getSrc(m).indexOf("#")||r||q?(e++,p.style.display="inline-block"):p.style.display="none"}}(b=f.$(".noItemsAdded"))||(b=f.create('<div class="noItemsAdded"></div>'),b.textContent="No files have been added.",a.appendChild(b));b.style.display=0===e?"block":"none";a.style.display="block";h.scrollTo();h.lazyLoad();return h}};h.lazyLoad=function(){var a=h.scroller,b=a.scrollTop,c=a.offsetHeight;a.style.display=
"none";for(var d=h.positions,e=h.folder,f=[],g=h.media.paths,k=g.length,l=0;l<k;l++){var m=g[l],p=!e||"*"===e,q=m.selected===e;("Your Files"===e&&"#"===m.filepath[0]||q||p)&&f.push(m)}e=f.length;for(g=0;g<e;g++)if(k=d[g])l=k[0],l>=b-k[1]&&l<=b+c&&(l=f[g],k=l.image,l=l.container,k&&l&&(k.src=l.getAttribute("data-thumbnail")));a.style.display="block"};h.calcMetrics=function(a,b,c){b=a.offsetWidth-z;c=c.thumbnail;var d=c._height/c._width,e=isFinite(c.rows)?c.rows:5,f=isFinite(c.columns)?c.columns:4,
g=isFinite(c.padding)?c.padding:0;b/=f;b=t.copyInto(c,{width:Math.round(b),height:Math.round(b*d),padding:g,columns:f,rows:e});a.style.cssText+="max-height: "+b.height*b.rows+"px;";return b};var e=function(c,d){c.events&&eventjs.bulk(c.events,"remove");c.events={};c.events.click=eventjs.add(c,"click",b);if(d){var e=function(b,c){a.vector.edit||g.scene.deselectAll();c.drag=g.addMediaFromDrag({target:c,event:b,src:c.getAttribute("data-src")})};"longpress"===d?c.events.longpress=eventjs.add(c,"longpress",
function(a,b){eventjs.stop(a);"start"===b.state&&e(a,b.target)}):c.events.mousedown=eventjs.add(c,"mousedown",function(a,b){eventjs.stop(a);e(a,this)})}};h.select=function(a){f.setClass({className:"selected",list:f.$$("."+h.type,h.scroller),target:a,on:!0})};h.scrollTo=function(a){"undefined"===typeof a?a=h.scroller.querySelector(".selected"):"string"===typeof a&&(a=h.scroller.querySelector(".hash"+t.hash(a)));if(a&&a.nodeName){var b=a.offsetTop;a.classList.contains("sk-divider")&&(b+=a.offsetHeight);
h.scroller.scrollTop=b;h.scrollTop=b}};var p=function(a,b){var c=h.credits;c.innerHTML="";c.style.display="none";var e=d.lib[a].credits;if(e&&e[b]){c.style.display="block";var e=e[b],g=f.create('<a target="_blank" href="'+e.url+'"></a>'),k=document.createElement("span");k.setAttribute("data-title",e.name);k.textContent=e.name;g.appendChild(k);c.appendChild(document.createTextNode("By: "));c.appendChild(g)}},k=function(){console.warn("error",this)},v=function(){var b="stamp"===h.type||"text"===h.type,
c=this.canvas;t.thumbnailer({background:"none",src:this,canvas:c,width:c.width,height:c.height,crop:"edge",center:!0,shadow:b&&a.ui.scrollerShadow,onsuccess:function(a){if(b){var c=a.className||"";c.indexOf("selected");var e=a.getContext("2d");e.save();e.globalCompositeOperation="source-atop";e.fillStyle=d.feature.ui.scrollerAtopColor;e.fillRect(0,0,a.width,a.height);a.setAttribute("data-className",c);e.restore()}}})},z=function(){var a=document.createElement("p");a.style.width="100%";a.style.height=
"200px";var b=document.createElement("div");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.visibility="hidden";b.style.width="200px";b.style.height="150px";b.style.overflow="hidden";b.appendChild(a);document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";a=a.offsetWidth;c===a&&(a=b.clientWidth);document.body.removeChild(b);return c-a+2}();(function(b){b=h.type;var l=d.lib[b];if(l&&l.paths){l.thumbnail=l.thumbnail||{};var q=f.create('<div class="sk-configure-scroller sk-scroller"></div>'),
x=f.create('<div class="sk-configure-credits"></div>'),y=h.target;y.appendChild(q);y.appendChild(x);h.scroller=q;h.credits=x;h.media=l;h.thumbnail=h.calcMetrics(q,b,l);h.positions=[];p(b,h.folder);a:{if(x=g.selection.item||g.config[b]){var y=d.detect.useSrc,z=x.type,B=d.lib[x.type];if(y[x.type]){var C=g.tool.type;!x.src&&d.lib[z]&&(x.src=B.getSrc(B.paths[0]));y[C]&&z!==C&&r.setTool(z);x=x.src||"";break a}else if(x.fontFamily){x=B.getSrc(B.byName[x.fontFamily])||"";break a}}x=""}var y=("clipart"===
b||"image"===b)&&a.placement.mediaDrag,z=a.ui.scrollerCategories,G=h.thumbnail,B=G.padding,C=G.width,I=G.height,G=G.columns,E=g.pixelRatio,D=h.positions;q.style.display="none";for(var H="",P=0,K=0,J,N=l.paths,S=N.length,Q=0;Q<S;Q++){var L=N[Q],V=l.getSrc(L),R=l.getThumbnail(L);if(L.category!==H&&z){var H=L.category||"Your Files",P="hash"+t.hash(H),W=document.createElement("div");W.className=P+" sk-divider";W.style.height="35px";W.textContent=c.translate(H);q.appendChild(W);P=0;K+=35;0!==Q&&(K+=I)}else++P===
G&&(P=0,K+=I);var W=L.canvas,U=C*E,X=I*E;if(W&&W.width===U&&W.height===X)var O=L.image,U=L.container;else O=L.image=document.createElement("img"),W=L.canvas=f.Canvas(U-2*B,X-2*B),U=L.container=document.createElement("span"),W.style.padding=B+"px",W.style.width=C+"px",W.style.height=I+"px",W.title=L.filename,U.style.width=C+"px",U.style.height=I+"px",U.setAttribute("data-src",V),U.setAttribute("data-thumbnail",R),U.setAttribute("data-name",L.name),U.setAttribute("data-n",Q),U.className=b,U.appendChild(W),
O.canvas=W,O.onload=v,O.onerror=k;e(U,y);V&&-1!==x.indexOf(V)&&(J=U);D.push([K,I]);q.appendChild(U)}q.style.display="block";h.select(J)}})(q);h.show(q);d.ui.scrollable(h.scroller);eventjs.add(h.scroller,"scroll",function(){var a=h.scroller;h.scrollTop=a.scrollTop;clearTimeout(a.timeout);a.timeout=setTimeout(function(){h.lazyLoad()},100)})}})(sketch);
