/*
  ___________           __         .__         .__        
 /   _____/  | __ _____/  |_  ____ |  |__      |__| ____  
 \_____  \|  |/ // __ \   __\/ ___\|  |  \     |  |/  _ \ 
 /        \    <\  ___/|  | \  \___|   Y  \    |  (  <_> )
/_______  /__|_ \\___  >__|  \___  >___|  / /\ |__|\____/ 
		\/     \/    \/          \/     \/  \/            
 -------------------------------------------------------------------
 Sketch API v3.7.7.553
 Copyright (c) Sketch.IO, Inc. <https://sketch.io>
 -------------------------------------------------------------------
 Built for "Sketchpad 3.5: Draw, Create, Share!"
 -------------------------------------------------------------------
 
 SketchAPI uses certain modules under license from third parties.
 Sketch.IO offers the SketchAPI, pursuant to its own license,
 to you on the condition you accept the following modules under
 their respective licenses:
 -------------------------------------------------------------------
    module: i18n.js (2014-10-07)
       src: https://github.com/gammasoft/browser-i18n
    author: Renato Gama
 copyright: (c) 2013 Gammasoft
   license: MIT

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
    module: sprintf.js (2014-11-04)
       src: https://github.com/jakobwesthoff/sprintf.js
    author: Jakob Westhoff
 copyright: (c) 2010 Jakob Westhoff
   license: MIT
 -------------------------------------------------------------------
    module: Base64 shim
       src: http://code.google.com/p/stringencoders/
   authors: Nick Galbreath
 copyright: (c) 2010 Nick Galbreath
   license: MIT
 -------------------------------------------------------------------
    module: requestAnimationFrame (2015-03-04)
       src: https://github.com/kof/animationFrame
    author: Oleg Slobodskoi
 copyright: (c) 2013 Oleg Slobodskoi
   license: MIT
 Oleg Slobodskoi 2015
 @website https://github.com/kof/animationFrame
 @license MIT
 -------------------------------------------------------------------
    module: Blob.js (2014-07-01)
       src: https://github.com/eligrey/Blob.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: Canvas.toBlob.js (2013-12-27)
       src: https://github.com/eligrey/canvas-toBlob.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: FileSaver.js (Dec 9, 2015)
       src: https://github.com/eligrey/FileSaver.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: Parse URI v1.2.2
       src: https://gist.github.com/kflorence/1169555
    author: Steven Levithan & Kyle Florence
 copyright: (c) 2007 Steven Levithan
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix shim
       src: https://github.com/camupod/CSSMatrix
   authors: Cameron Lakenen & Arian Stolwijk
 copyright: (c) 2013 Cameron Lakenen & Arian Stolwijk
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix.decompose
       src: https://github.com/joelambert/morf/
    author: Joe Lambert
 copyright: (c) 2011 Joe Lambert <http://www.joelambert.co.uk>
   license: MIT
 -------------------------------------------------------------------
    module: Catmull-Rom Spline
       src: https://github.com/almende/vis/
    author: Almende B.V.
 copyright: (c) 2014 Almende B.V.
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix shim
       src: https://github.com/camupod/CSSMatrix
   authors: Cameron Lakenen & Arian Stolwijk
 copyright: (c) 2013 Cameron Lakenen & Arian Stolwijk
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix.decompose
       src: https://github.com/joelambert/morf/
    author: Joe Lambert
 copyright: (c) 2011 Joe Lambert <http://www.joelambert.co.uk>
   license: MIT
 -------------------------------------------------------------------
    module: arcToBezier - Elliptical Arc to Bezier Curve(s)
       src: http://www.levien.com/
    author: Raph Levien <raph@artofcode.com>
 copyright: (c) 2002 USC/Information Sciences Institute
   license: MIT
 -------------------------------------------------------------------
    module: CSS Gradient Parser
       src: http://lea.verou.me/demos/cssgradientsplease/
    author: Lea Verou
 copyright: (c) 2011 Lea Verou. All rights reserved.
   license: MIT
*/
"undefined"===typeof eventjs&&(eventjs={});
(function(m){function l(a){if(!a||a.nodeName||"object"!==typeof a)return a;var g=new a.constructor,q;for(q in a)g[q]=!a[q]||a.nodeName||"object"!==typeof a[q]?a[q]:l(a[q]);return g}function k(a,g,q,w,c,y){w=w||{};if("[object Object]"===String(a))return f(a,c);if(a&&g&&q)if("string"===typeof a&&"ready"===g)e(a,w,q);else{if("string"===typeof a&&(a=document.querySelectorAll(a),0===a.length)){u("target does not exist",arguments);return}if(0<a.length&&a!==window)if(1===a.length)a=a[0];else{for(var v={},
x=0,L=a.length;x<L;x++){var E=k(a[x],g,q,l(w),c);E&&(v[x]=E)}return m.wrapBatch(v)}"string"===typeof g&&(g=g.toLowerCase().split(/[|, ]/),1===g.length&&(g=g.shift()));if("string"!==typeof g)return t(a,g,q,w,c);0===g.indexOf("on")&&(g=g.substr(2));if("object"!==typeof a)return u("target must be an element",arguments);if("function"!==typeof q)return u("listener must be a function",arguments);v=w.useCapture||!1;x=g+"."+b(a)+"."+b(q)+"."+(v?1:0);if(m.gestureHandler[g])if("remove"===c){if(a[x])return a[x].remove(),
a[x]}else{if("add"===c){if(a[x])return a[x].add(),a[x];a[x]&&console.warn("handle",a[x]);if(w.useCall){var A=q;q=function(g,q){for(var b in q)g[b]=q[b];return A.call(a,g)}}w.uid=x;w.gesture=g;w.target=a;w.listener=q;w.fromOverwrite=y;return a[x]=m.proxy[g](w)}}else{for(var D=d(g,w.strict),x=0;x<D.length;x++)if("remove"===c)a[p](D[x],q,v);else if("add"===c)a[h](D[x],q,v);return{type:g,target:a,listener:q,add:function(){for(var g=0;g<D.length;g++)m.add(a,D[g],q,w)},remove:function(){for(var g=0;g<D.length;g++)m.remove(a,
D[g],q,w)}}}}else u("target, type and listener are required",arguments)}function t(a,g,q,b,h){var c,p={};if(Array.isArray(g))for(var d=0,e=g.length;d<e;d++){var f=g[d];f&&(c=k(a,f,q,l(b),h))&&(p[f]=c)}else for(d in g)(f=g[d])&&(c=f.listener?k(a,d,f.listener,l(f),h):k(a,d,f,l(b),h))&&(p[d]=c);return m.wrapBatch(p)}function f(a,g){var q=a.target;if(a.type&&a.listener){var b=a.listener;return k(q,a.type,b,a,g)}var h={},c;for(c in a){var b=a[c],p=typeof b;if("string"===p||"number"===p||"boolean"===p)h[c]=
b}var p={},d;for(d in a){c=a[d];if("function"===typeof c)var b=c,e=l(h);else if("function"===typeof c.listener){var b=c.listener,e=l(h),f;for(f in c)e[f]=c[f]}else continue;c=d.toLowerCase().split(/[|, ]/);for(var u=0;u<c.length;u++)p[d]=m.add(q,c[u],b,e,g)}return p}function e(a,g,q){var b=m.now(),h=g.timeout,c=setInterval(function(){0===m.useStallOnReady&&(m.now()-b>h&&clearInterval(c),document.querySelector(a)&&(clearInterval(c),setTimeout(q,1)))},g.interval||1E3/60)}function u(a,g){"undefined"!==
typeof console&&"undefined"!==typeof console.error&&console.error(a,g)}function d(b,g){var q=document.addEventListener?"":"on",h=a[b];if(isFinite(h)&&!g){var p=[],y;for(y in m.supports)p.push(q+c[y][h]);return p}return[q+b]}m.useCSSTransform=!1;m.useIdentifiers=!1;m.useStallOnReady=0;m.POINTER_TYPE_UNAVAILABLE=1;m.POINTER_TYPE_TOUCH=2;m.POINTER_TYPE_PEN=3;m.POINTER_TYPE_MOUSE=4;m.forward=function(a,g,q){m.add(a,q,function(a){var b=m._copyPointerEvent(a);a.touches&&(b.touches=a.touches);a.changedTouches&&
(b.changedTouches=a.changedTouches);g.dispatchEvent(Object.assign(new Event(q,{bubbles:!!a.bubbles,cancelable:!!a.cancelable}),b))})};m.add=function(a,g,q,b){return k(a,g,q,b,"add")};m.remove=function(a,g,q,b){return k(a,g,q,b,"remove")};m.stop=function(a){a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.cancelBubbleCount=0)};m.prevent=function(a){a&&(a.preventDefault?a.preventDefault():a.preventManipulation?a.preventManipulation():a.returnValue=!1)};m.cancel=function(a){m.stop(a);m.prevent(a)};
m.blur=function(){var a=document.activeElement;a.blur&&a.blur()};m.detectEvent=function(a,g){g=g||window;a="on"+a;if(a in g)return!0;g.setAttribute||(g=document.createElement("div"));if(g.setAttribute&&g.removeAttribute){g.setAttribute(a,"");var q="function"===typeof g[a];void 0!==g[a]&&(g[a]=null);g.removeAttribute(a);return q}};m.detectCSSPrefix=function(a,g){g=g||document.documentElement;for(var q=getComputedStyle(g,""),b=["","-moz-","-webkit-","-ms-","-o-"],h=0;h<b.length;h++)for(var c=b[h],p=
0;p<q.length;p++)if(q[p]===c+a)return c};m.bulk=function(a,g){for(var q in a){var b=a[q];if(b&&b[g])b[g]()}};m.wrapBatch=function(a){return{add:function(){m.bulk(a,"add")},remove:function(){m.bulk(a,"remove")},pause:function(){m.bulk(a,"pause")},resume:function(){m.bulk(a,"resume")}}};m.getPointerState=function(b){if(b=b.event||b)return c.regular[a[b.type]]};var c={msPointer:["MSPointerDown","MSPointerMove","MSPointerUp"],pointer:["pointerdown","pointermove","pointerup"],touch:["touchstart","touchmove",
"touchend"],mouse:["mousedown","mousemove","mouseup"],regular:["start","change","end"]},a={MSPointerDown:0,MSPointerMove:1,MSPointerUp:2,pointerdown:0,pointermove:1,pointerup:2,touchstart:0,touchmove:1,touchend:2,mousedown:0,mousemove:1,mouseup:2};m.supports={};window.navigator.pointerEnabled?m.supports.pointer=!0:window.navigator.msPointerEnabled&&(m.supports.msPointer=!0);m.detectEvent("touchstart")&&(m.supports.touch=!0);m.detectEvent("mousedown")&&(m.supports.mouse=!0);var b=function(){var a=
1;return function(g){return g===window?"#window":g===document?"#document":g.eventJSId?g.eventJSId:g.eventJSId=a++}}(),h=document.addEventListener?"addEventListener":"attachEvent",p=document.removeEventListener?"removeEventListener":"detachEvent";return m})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){function l(d,c,a){c.map(function(b){d[b]&&d[b][a]()})}function k(d,c){var a=["_pointerDown","_pointerMove","_pointerUp","_pointerOver","_pointerOut"];d.attached=!0;d.add=function(){if(!1===d.attached)return d.attached=!0,l(c,a,"add"),d.target[d.uid]=d};d.remove=function(){!0===d.attached&&(d.attached=!1,d.resetPointers(),l(c,a,"remove"),delete d.target[d.uid])}}function t(d,c){var a=["_pointerMove","_pointerUp"],b=c.fingers;d.pause=function(){l(c,a,"remove");b=c.fingers;c.fingers=0};
d.resume=function(){l(c,a,"add");c.fingers=b}}function f(d,c){function a(a,h){function c(g,a){g&&g[1][a]&&r.apply(null,g)}if(null==a.then)throw Error("waitFor(promise) - Promise must be defined.");var r=d.listener,g=[];d.proxy(function(a,b){g.push([a,b.copy()])});return a.then(function(){h?g.forEach(function(g){r.apply(null,g)}):(c(g.shift(),"pointerStart"),c(g.pop(),"pointerEnd"));d.listener=r})}d.proxy=function(a){if("function"===typeof a)(d.listener=a)(d.event,d);else throw Error("proxy(listener) - Listener must be a function.");
};d.waitFor=function(b){return a(b)};d.waitForThenReplay=function(b){return a(b,!0)}}var e=m.proxy||(m.proxy={});e.Pointer=function(d){d.target=d.target||window;d.doc=d.target.ownerDocument||d.target;d.minFingers=d.minFingers||d.fingers||1;d.maxFingers=d.maxFingers||d.fingers||Infinity;d.position=d.position||"relative";d.listenerOnSetup=d.listener;m.useCSSTransform&&!1!==d.useCSSTransform&&(d.useCSSTransform=!0);d.pointers={};d.fingers=0;var c={};k(c,d);t(c,d);f(c,d);c.uid=d.uid;c.gesture=d.gesture;
c.target=d.target;c.env=d.env||{};c.listener=d.listener;c.copy=function(){return Object.assign({},c)};c.resetPointer=function(a){var b=d.pointers||{};b[a]&&(delete b[a],d.fingers--)};c.resetPointers=function(){d.pointers={};d.fingers=0};c.resetBoundingBox=function(){c.bbox=d.bbox=m.getBBox(c.target);var a=d.pointers||{},b;for(b in a)a[b].dirty=!0};c.moved=function(a){a=a||1;var b=c.start.x-c.x,h=c.start.y-c.y;return 1===a?!(!b&&!h):Math.sqrt(b*b+h*h)>=a};c.delta=function(){c.pointerStart&&(c.previous=
{});var a=c.previous||(c.previous={}),b=c.x-(a.x||c.x),h=c.y-(a.y||c.y);a.x=c.x;a.y=c.y;return{x:b,y:h}};c.distance=function(){var a=c.start.x-c.x,b=c.start.y-c.y;return Math.sqrt(a*a+b*b)};return c};var u=m.supports;m.isMouse=!!u.mouse;m.isPointer=!!u.pointer||!!u.msPointer;m.isTouch=!!u.touch;e.getPointerID=function(d,c){var a=Object.keys(d);return c?a.join(","):a};e.getPoint=function(d,c){var a=d.pageX,b=d.pageY;if("absolute"===c.position)return{x:a,y:b};var h=c.bbox.matrix,a=h.point3d({x:a,y:b,
z:-(a*h.m13+b*h.m23+h.m43)/h.m33}),b=a.x/a.w,h=a.y/a.w;0>a.x/b&&(b=0>a.x?-16777215:16777215);0>a.y/h&&(h=0>a.y?-16777215:16777215);return{x:b,y:h}};e.setPointerStart=function(d,c,a,b){b=c.pointers[b]={};var h=c.bbox,p=c.useCSSTransform,r=a.pageX,g=a.pageY;p&&(a=e.getPoint(a,c),r=a.x,g=a.y);switch(c.position){case "differenceFromLast":case "difference":b.offsetX=r;b.offsetY=g;break;case "move":b.offsetX=r-h.x1;b.offsetY=g-h.y1;break;case "absolute":b.offsetX=0;b.offsetY=0;break;default:p?(b.offsetX=
-h.scrollLeft-h.pageXOffset,b.offsetY=-h.scrollTop-h.pageYOffset):(b.offsetX=h.x1-h.scrollLeft,b.offsetY=h.y1-h.scrollTop)}c=r-b.offsetX;a=g-b.offsetY;b.rotation=0;b.scale=1;b.startTime=d.startTime;b.moveTime=d.startTime;b.move={x:c,y:a};b.start={x:c,y:a};return b};e.isPointerStart=function(d,c,a){c.event=d;c.listener=a.listenerOnSetup;var b=(d.type||"mousedown").toLowerCase();0===b.indexOf("mouse")?(m.isMouse=!0,m.isTouch=!1,m.isPointer=!1):0===b.indexOf("touch")?(m.isMouse=!1,m.isTouch=!0,m.isPointer=
!1):0===b.indexOf("mspointer")&&(m.isMouse=!1,m.isTouch=!1,m.isPointer=!0);c.startTime=m.now();var b=!a.fingers,h=a.pointers;d=m._getChangedTouches(d);for(var p=d.length,r=0;r<p;r++){var g=d[r],q=g.identifier,w=h[q];if(a.fingers){if(a.fingers>=a.maxFingers)return c.identifier=e.getPointerID(h,!0),b;for(var z in h)if(h[z].up){delete h[z];a.cancel=!0;a.fingers++;w=e.setPointerStart(c,a,g,q);break}void 0===w&&(a.fingers++,e.setPointerStart(c,a,g,q))}else c.env={},c.resetBoundingBox(),a.cancel=!1,a.fingers=
1,a.pointers={},e.setPointerStart(c,a,g,q)}c.identifier=e.getPointerID(a.pointers,!0);return b};e.isPointerEnd=function(d,c,a,b){for(var h=a.pointers,p=d.touches||[],r={},g=0,q=p.length;g<q;g++)r[p[g].identifier]=!0;for(var w in h)p=h[w],r[w]||p.up||(b&&b(d,"up"),p.up=!0,a.fingers--);return 0===q?(d=e.getPointerID(h),a.fingers=0,a.gestureFingers=d.length,c.identifier=d.join(","),!0):!1};(function(){function d(a){if(m.useIdentifiers){for(var c=[],r=a.changedTouches,g=0;g<r.length;g++){var q=r[g],w=
b(a,q);c.push({clientX:q.clientX,clientY:q.clientY,pageX:q.pageX,pageY:q.pageY,screenX:q.screenX,screenY:q.screenY,identifier:w,pointerId:w,pointerType:2})}return c}return a.changedTouches}var c=65535;m.getPID=function(a){return isFinite(a)?c+=a:c};m.setPID=function(a){isFinite(a)&&(c=a)};m._getChangedTouches=function(a){return a.changedTouches?d(a):[m._copyPointerEvent(a)]};m._copyPointerEvent=function(b){if(b.changedTouches)return d(b)[0];if(0<=b.pageX+b.pageY)return{clientX:b.clientX,clientY:b.clientY,
pageX:b.pageX,pageY:b.pageY,screenX:b.screenX,screenY:b.screenY,identifier:a(b),pointerId:1,pointerType:4};b=b||window.event;var c=document.documentElement;return{clientX:b.clientX,clientY:b.clientY,pageX:b.clientX+c.scrollLeft,pageY:b.clientY+c.scrollTop,screenX:b.screenX,screenY:b.screenY,identifier:a(b),pointerId:1,pointerType:4}};var a=function(){var a;return function(b){return-1!==b.type.indexOf("own")&&b!==a?(a=b,a.PID=++c,c):a?a.PID:c}}(),b=function(){var a={},b={touchstart:function(b,g){var q=
a[g];if(q&&q.event===b)return q.count++,q.PID;a[g]={PID:++c,count:1,event:b};return c},touchend:function(b,g){var q=a[g];if(q)return!--q.count&&delete a[g],q.PID;console.warn(g)},touchmove:function(b,g){var q=a[g];if(q)return q.PID;console.warn(g)}};return function(a,g){return b[a.type](a,g.identifier)}}()})();(function(){var d,c;m.getPageXY=function(a){if(a.changedTouches)return(a=a.changedTouches)&&a.length?(a=a[0],{x:d=a.pageX,y:c=a.pageY}):{x:d,y:c};if(0<=a.pageX+a.pageY)return{x:a.pageX,y:a.pageY};
a=a||window.event;var b=document.documentElement;return{x:a.clientX+b.scrollLeft,y:a.clientY+b.scrollTop}}})();(function(){var d,c;m.getClientXY=function(a){if(a.changedTouches)return(a=a.changedTouches)&&a.length?(a=a[0],{x:d=a.clientX,y:c=a.clientY}):{x:d,y:c};a=a||window.event;return{x:a.clientX,y:a.clientY}}})();m.getPointInNode=function(d,c){var a=m.getBBox(c);if(m.useCSSTransform)return e.getPoint(d,{bbox:a});var b=m.getClientXY(d);return{x:b.x-a.x1+a.scrollLeft,y:b.y-a.y1+a.scrollTop}};m.convertPointFromNode=
function(d,c,a){var b=c.parentNode;c=m.getMatrix(c,b).inverse();a=m.getMatrix(a,b);var b=d.x,h=d.y;d=b*a.m11+h*a.m21+a.m31;a=b*a.m12+h*a.m22+a.m32;c=c.point3d({x:d,y:a,z:-(d*c.m13+a*c.m23+c.m43)/c.m33});d=c.x/c.w;a=c.y/c.w;return{x:d,y:a}};m.getDocumentScroll=function(d){d=d||{};if(void 0!==window.pageXOffset)d.pageXOffset=window.pageXOffset,d.pageYOffset=window.pageYOffset;else if("CSS1Compat"===document.compatMode)d.pageXOffset=document.documentElement.scrollLeft,d.pageYOffset=document.documentElement.scrollTop;
else{var c=document.body;d.pageXOffset=c.scrollLeft;d.pageYOffset=c.scrollTop}return d};m.getMatrix=function(){var d;return function(c,a){void 0===d&&(d=m.detectCSSPrefix("transform")||"");for(var b=new CSSMatrix,h=c;null!==h&&h!==a;){var p=getComputedStyle(h),r=p.getPropertyValue(d+"perspective");if(r&&"none"!==r)var g=p.getPropertyValue(d+"perspective-origin").split(" "),q=parseFloat(g[0])||0,w=parseFloat(g[1])||0,r=-1/parseFloat(r),g=(new CSSMatrix).translate(q,w),g=g.multiply(new CSSMatrix("matrix3d(1,0,0,0, 0,1,0,0, 0,0,1,"+
r+", 0,0,0,1)")),g=g.translate(-q,-w),b=g.multiply(b);var z=0,y=0,r=p.getPropertyValue("position");"static"!==r&&(z+=h.offsetLeft,y+=h.offsetTop);var v=h===document.body;!1===v&&(z-=h.scrollLeft,y-=h.scrollTop);var e=p.getPropertyValue(d+"transform");e&&"none"!==e?(g=p.getPropertyValue(d+"transform-origin").split(" "),q=parseFloat(g[0])||0,w=parseFloat(g[1])||0,p=parseFloat(g[2])||0,g=(new CSSMatrix).translate(q+z,w+y,p),g=g.multiply(new CSSMatrix(e)),g=g.translate(-q,-w,-p)):g=(new CSSMatrix).translate(z,
y);b=g.multiply(b);if(v||"fixed"===r)break;else h=h.parentNode}return b}}();m.getBBox=function(){function d(c,a){var b=parseFloat(c.getPropertyValue(a),10);return b===+b?b:0}return function(c){if(c===window||c===document)c=document.body;var a={},b=c.getBoundingClientRect();a.width=b.width;a.height=b.height;a.x1=b.left;a.y1=b.top;a.scaleX=b.width/c.offsetWidth||1;a.scaleY=b.height/c.offsetHeight||1;a.scrollLeft=0;a.scrollTop=0;b=getComputedStyle(c);if("border-box"===b.getPropertyValue("box-sizing")===
!1){var h=d(b,"border-left-width"),p=d(b,"border-right-width"),r=d(b,"border-bottom-width"),g=d(b,"border-top-width");a.border=[h,p,g,r];a.x1+=h;a.y1+=g;a.width-=p+h;a.height-=r+g}a.x2=a.x1+a.width;a.y2=a.y1+a.height;m.useCSSTransform&&(a.matrix=m.getMatrix(c).inverse());for(b=b.getPropertyValue("position");null!==c&&c!==document.body&&void 0!==c.scrollTop;){b=getComputedStyle(c);b=b.getPropertyValue("position");if("absolute"!==b)if("fixed"===b){a.scrollTop=c.scrollLeft;a.scrollLeft=c.scrollTop;break}else a.scrollLeft+=
c.scrollLeft,a.scrollTop+=c.scrollTop;c=c.parentNode}m.getDocumentScroll(a);a.scrollLeft-=a.pageXOffset;a.scrollTop-=a.pageYOffset;return a}}();m.now=function(){if("object"===typeof window&&window.performance&&window.performance.now){var d=window.performance;return d.now.bind(d)}var c=Date.now();return function(){return Date.now()-c}}();m.gestureHandler=m.gestureHandler||{};m.register=function(d){m.gestureHandler[d]=e[d]}})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={}),k=/iPhone|iPad|iPod/i.test(navigator.userAgent);l.click=function(t){t.gesture=t.gesture||"click";t.maxFingers=t.maxFingers||t.fingers||1;t.onPointerDown=function(e){l.isPointerStart(e,f,t)&&(t._pointerUp=m.add(t.doc,"mouseup",t.onPointerUp))};t.onPointerUp=function(e){if((!k||"mouseup"!==e.type)&&l.isPointerEnd(e,f,t)&&(t._pointerUp.remove(),!e.cancelBubble)){var u=m._getChangedTouches(e)[0],d=t.bbox,c=m.getBBox(t.target),a=u.pageY-c.pageYOffset,u=u.pageX-
c.pageXOffset;if(u>d.x1&&a>d.y1&&u<d.x2&&a<d.y2&&d.scrollTop===c.scrollTop){for(var b in t.pointers)if(d=t.pointers[b]){f.x=d.start.x;f.y=d.start.y;break}f.state="click";f.listener(e,f)}}};t._pointerDown=m.add(t.target,"mousedown",t.onPointerDown);var f=l.Pointer(t);return f};m.register("click")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={});l.dbltap=l.dblclick=function(k){k.gesture=k.gesture||"dbltap";k.maxFingers=k.maxFingers||k.fingers||1;var t,f,e,u,d;k.onPointerDown=function(a){var b=m._getChangedTouches(a);t&&!f?(d=b[0],f=m.now()-t):(u=b[0],t=m.now(),f=0,clearTimeout(e),e=setTimeout(function(){t=0},700));l.isPointerStart(a,c,k)&&((k._pointerMove=m.add(k.doc,"mousemove",k.onPointerMove)).listener(a),k._pointerUp=m.add(k.doc,"mouseup",k.onPointerUp))};k.onPointerMove=function(a){if(t&&!f)d=
m._getChangedTouches(a)[0];else if(!d)return;a=k.bbox;var b=d.pageX-a.x1,h=d.pageY-a.y1;0<b&&b<a.width&&0<h&&h<a.height&&25>=Math.abs(d.pageX-u.pageX)&&25>=Math.abs(d.pageY-u.pageY)||(k._pointerMove.remove(),clearTimeout(e),t=f=0)};k.onPointerUp=function(a){l.isPointerEnd(a,c,k)&&(k._pointerMove.remove(),k._pointerUp.remove());if(t&&f){if(700>=f){for(var b in k.pointers){b=k.pointers[b];c.x=b.start.x;c.y=b.start.y;break}c.state=k.gesture;c.listener(a,c)}clearTimeout(e);t=f=0}};k._pointerDown=m.add(k.target,
"mousedown",k.onPointerDown);var c=l.Pointer(k);return c};m.register("dbltap");m.register("dblclick")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={});l.dragElement=function(k,t){l.drag({event:t,target:k,position:"move",listener:function(f,e){k.style.left=e.x+"px";k.style.top=e.y+"px";m.prevent(f)}})};l.drag=function(k){function t(q){a.fingers=k.fingers;for(var b=m._getChangedTouches(q),h=0,c=b.length;h<c;h++){var p=b[h],r=p.identifier,d=k.pointers[r];if(d){d.dirty&&(d=l.setPointerStart(a,k,p,r));d.pageX=p.pageX;d.pageY=p.pageY;if(k.useCSSTransform)var e=l.getPoint(d,k),f=e.x,e=e.y;else f=p.pageX,e=p.pageY;
a.identifier=r;a.pointerId=p.pointerId;a.pointerType=p.pointerType;a.start=d.start;a.x=f-d.offsetX;a.y=e-d.offsetY;a.width=p.width||p.radiusX||p.webkitRadiusX||0;a.height=p.height||p.radiusY||p.webkitRadiusY||0;a.pressure=p.pressure||p.force||p.webkitForce||.5;a.tiltX=p.tiltX||0;a.tiltY=p.tiltY||0;g&&(d.offsetX=f,d.offsetY=e);a.listener(q,a)}}}function f(g){l.isPointerStart(g,a,k)&&(r&&k._pointerMove.remove(),k._pointerMove=m.add(h,"mousemove",d),k._pointerUp=m.add(h,"mouseup",c))}function e(){a.attached&&
(k._pointerMove=m.add(p,"mousemove",d))}function u(g){a.event=g;a.pointerDown=!0;a.pointerMove=!1;a.pointerMoved=!1;a.pointerUp=!1;a.pointerStart=!0;a.pointerDrag=!1;a.pointerEnd=!1;a.state="down";r&&(a.resetPointer(k.monitorId),k.monitorId=void 0);f(g);t(g)}function d(g){a.event=g;a.pointerMove=!0;a.pointerMoved=!0;a.pointerStart=!1;a.pointerDrag=a.pointerDown;a.pointerEnd=!1;a.state="move";k.fingers?t(g):r&&(f(g),t(g),k.monitorId=a.identifier)}function c(g){a.event=g;a.pointerDown=!1;a.pointerMove=
!1;a.pointerUp=!0;a.pointerStart=!1;a.pointerDrag=!1;a.pointerEnd=!0;a.state="up";l.isPointerEnd(g,a,k,t)&&(k._pointerMove.remove(),k._pointerUp.remove(),r&&e())}k.gesture="drag";var a=l.Pointer(k),b=k.event,h=k.doc,p=k.target,r=!0===k.monitor,g="differenceFromLast"===k.position;k.onPointerDown=u;k.onPointerMove=d;k.onPointerUp=c;a.pointerDown=!1;a.pointerMove=!1;a.pointerMoved=!1;a.pointerUp=!0;a.pointerStart=!1;a.pointerDrag=!1;a.pointerEnd=!1;r&&e();b?u(b):k._pointerDown=m.add(p,"mousedown",u);
return a};m.register("drag")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){function l(f,e){var k=0,d=0,c=0,a;for(a in e){var b=e[a];!0!==b.up&&(k+=b.move.x,d+=b.move.y,c++)}f.x=k/c;f.y=d/c;return f}var k=m.proxy||(m.proxy={}),t=Math.PI/180;k.gesture=function(f){f.gesture=f.gesture||"gesture";f.minFingers=f.minFingers||f.fingers||2;f.onPointerDown=function(u){var d=f.fingers;k.isPointerStart(u,e,f)&&(f._pointerMove=m.add(f.doc,"mousemove",f.onPointerMove),f._pointerUp=m.add(f.doc,"mouseup",f.onPointerUp));f.fingers===f.minFingers&&d!==f.fingers&&(d=f.pointers,
e.fingers=f.minFingers,e.scale=1,e.rotation=0,e.identifier=k.getPointerID(d,!0),e.state="start",e.pointerStart=!0,e.pointerChange=!1,e.pointerEnd=!1,l(e,d),e.listener(u,e))};f.onPointerMove=function(k,d){for(var c=f.pointers,a=m._getChangedTouches(k),b=a.length,h=0;h<b;h++){var p=a[h],r=p.identifier,g=c[r];g&&(g.move.x=p.pageX-g.offsetX,g.move.y=p.pageY-g.offsetY)}if(!(f.fingers<f.minFingers)){a=[];h=b=0;l(e,c);for(r in c)if(p=c[r],!0!==p.up&&(g=p.start,g.x!==e.x||g.y!==e.y)){if(void 0===g.distance){var q=
g.x-e.x,w=g.y-e.y;g.distance=Math.sqrt(q*q+w*w);g.angle=Math.atan2(q,w)/t}var q=p.move.x-e.x,w=p.move.y-e.y,z=Math.sqrt(q*q+w*w),b=b+z/g.distance,q=Math.atan2(q,w)/t,g=(g.angle-q+360)%360-180;p.DEG2=p.DEG1;p.DEG1=0<g?g:-g;p.DEG2===+p.DEG2&&(p.rotation=0<g?p.rotation+(p.DEG1-p.DEG2):p.rotation-(p.DEG1-p.DEG2),h+=p.rotation);a.push(p.move)}e.touches=a;e.fingers=f.fingers;e.scale=b/f.fingers;e.rotation=h/f.fingers;e.state="change";e.pointerStart=!1;e.pointerChange=!0;e.pointerEnd=!1;e.listener(k,e)}};
f.onPointerUp=function(u){k.isPointerEnd(u,e,f)&&(f._pointerMove.remove(),f._pointerUp.remove());"end"!==e.state&&f.fingers<f.minFingers&&(e.fingers=f.fingers,e.state="end",e.pointerStart=!1,e.pointerChange=!1,e.pointerEnd=!0,e.listener(u,e))};f._pointerDown=m.add(f.target,"mousedown",f.onPointerDown);var e=k.Pointer(f);return e};m.register("gesture")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){(m.proxy||(m.proxy={})).shake=function(l){var k={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:l.target,listener:l.listener,remove:function(){window.removeEventListener("devicemotion",u,!1)}},t=m.now(),f={x:0,y:0,z:0},e={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},u=function(d){var c=d.accelerationIncludingGravity;f.x=.8*f.x+(1-.8)*c.x;f.y=.8*f.y+(1-.8)*c.y;f.z=.8*f.z+(1-.8)*c.z;k.accelerationIncludingGravity=f;k.acceleration.x=c.x-f.x;
k.acceleration.y=c.y-f.y;k.acceleration.z=c.z-f.z;if("devicemotion"===l.gesture)k.listener(d,k);else for(var c=m.now(),a=0;3>a;a++){var b="xyz"[a],h=k.acceleration[b],b=e[b],p=Math.abs(h);!(1E3>c-t)&&4<p&&(h=c*h/p,p=Math.abs(h+b.value),b.value&&200>p?(b.value=h,b.count++,3===b.count&&(k.listener(d,k),t=c,b.value=0,b.count=0)):(b.value=h,b.count=1))}};if(window.addEventListener)return window.addEventListener("devicemotion",u,!1),k};m.register("shake")})(eventjs);
"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={}),k=Math.PI/180;l.swipe=function(t){t.snap=t.snap||90;t.threshold=t.threshold||.75;t.gesture=t.gesture||"swipe";t.onPointerDown=function(e){l.isPointerStart(e,f,t)&&((t._pointerMove=m.add(t.doc,"mousemove",t.onPointerMove)).listener(e),t._pointerUp=m.add(t.doc,"mouseup",t.onPointerUp))};t.onPointerMove=function(e){e=m._getChangedTouches(e);for(var f=e.length,d=0;d<f;d++){var c=e[d],a=t.pointers[c.identifier];a&&(a.move.x=c.pageX,a.move.y=c.pageY,a.moveTime=m.now())}};
t.onPointerUp=function(e){if(l.isPointerEnd(e,f,t)){t._pointerMove.remove();t._pointerUp.remove();var u,d,c,a,b={x:0,y:0},h=0,p=0,r=0,g;for(g in t.pointers){var q=t.pointers[g];a=q.move.x-q.start.x;var w=q.move.y-q.start.y,h=h+q.move.x,p=p+q.move.y;b.x+=q.start.x;b.y+=q.start.y;r++;d=Math.sqrt(a*a+w*w);q=q.moveTime-q.startTime;a=Math.atan2(a,w)/k+180;d=q?d/q:0;if(void 0===c)c=a,u=d;else if(20>=Math.abs(a-c))c=(c+a)/2,u=(u+d)/2;else return}g=t.gestureFingers;t.minFingers<=g&&t.maxFingers>=g&&u>t.threshold&&
(b.x/=r,b.y/=r,f.start=b,f.x=h/r,f.y=p/r,f.angle=-(((c/t.snap+.5>>0)*t.snap||360)-360),f.velocity=u,f.fingers=g,f.state="swipe",f.listener(e,f))}};t._pointerDown=m.add(t.target,"mousedown",t.onPointerDown);var f=l.Pointer(t);return f};m.register("swipe")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={});l.longpress=function(k){k.gesture="longpress";return l.tap(k)};l.tap=function(k){k.gesture=k.gesture||"tap";k.delay=k.delay||500;k.driftDeviance=k.driftDeviance||10;k.timeout=k.timeout||250;var t,f;k.onPointerDown=function(u){l.isPointerStart(u,e,k)&&(t=m.now(),(k._pointerMove=m.add(k.doc,"mousemove",k.onPointerMove)).listener(u),k._pointerUp=m.add(k.doc,"mouseup",k.onPointerUp),"longpress"===k.gesture&&(f=setTimeout(function(){if(!(u.cancelBubble&&1<++u.cancelBubbleCount)){var d=
0,c;for(c in k.pointers){var a=k.pointers[c];if(!0===a.end||k.cancel)return;d++}k.minFingers<=d&&k.maxFingers>=d&&(e.state="start",e.fingers=d,e.x=a.start.x,e.y=a.start.y,e.listener(u,e))}},k.delay)))};k.onPointerMove=function(e){var d=k.bbox;e=m._getChangedTouches(e);for(var c=e.length,a=0;a<c;a++){var b=e[a],h=k.pointers[b.identifier];if(h){var p=b.pageX-d.x1,b=b.pageY-d.y1,r=p-h.start.x,h=b-h.start.y,h=Math.sqrt(r*r+h*h);if(!(0<p&&p<d.width&&0<b&&b<d.height&&h<=k.driftDeviance)){k._pointerMove.remove();
k.cancel=!0;break}}}};k.onPointerUp=function(u){if(l.isPointerEnd(u,e,k)&&(clearTimeout(f),k._pointerMove.remove(),k._pointerUp.remove(),!(u.cancelBubble&&1<++u.cancelBubbleCount)))if("longpress"===k.gesture)"start"===e.state&&(e.state="end",e.listener(u,e));else if(!(k.cancel||m.now()-t>k.timeout)){var d=k.gestureFingers;k.minFingers<=d&&k.maxFingers>=d&&(e.state="tap",e.fingers=k.gestureFingers,e.listener(u,e))}};k._pointerDown=m.add(k.target,"mousedown",k.onPointerDown);var e=l.Pointer(k);return e};
m.register("tap");m.register("longpress")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={});l.hover=function(k){k.gesture=k.gesture||"hover";k.maxFingers=k.maxFingers||k.fingers||1;k.delay=k.delay||150;k.interval=k.interval||30;k.timeout=k.timeout||1E4;var t,f,e=0;k.onPointerOver=function(d){l.isPointerStart(d,u,k)&&(k._pointerOut=m.add(k.target,"mouseout",k.onPointerOut),clearTimeout(t),clearInterval(f),t=setTimeout(function(){f=setInterval(function(){var c=m.now()-u.startTime;c>k.timeout?(clearTimeout(t),clearInterval(f)):(u.state="hover",u.iterate=
e++,u.lapse=c,u.listener(d,u))},k.interval)},k.delay))};k.onPointerOut=function(d){l.isPointerEnd(d,u,k)&&(k._pointerOut.remove(),clearTimeout(t),clearInterval(f))};k._pointerOver=m.add(k.target,"mouseover",k.onPointerOver);var u=l.Pointer(k);return u};m.register("hover")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={});l.wheelPreventElasticBounce=function(k){k&&("string"===typeof k&&(k=document.querySelector(k)),m.add(k,"wheel",function(k,f){f.preventElasticBounce(k);m.stop(k)}))};l.wheel=function(k){var l,f=k.timeout||150,e=0,u={gesture:"wheel",state:"start",wheelDelta:0,target:k.target,listener:k.listener,preventElasticBounce:function(a){var b=this.target,c=b.scrollTop;c+b.offsetHeight===b.scrollHeight&&0>=this.wheelDelta?m.cancel(a):0===c&&0<=this.wheelDelta&&m.cancel(a);
m.stop(a)},add:function(){k.target[c](b,d,!1);return u},remove:function(){k.target[a](b,d,!1)}},d=function(a){a=a||window.event;u.state=e++?"change":"start";u.wheelDelta=a.detail?-20*a.detail:a.wheelDelta;u.listener(a,u);clearTimeout(l);l=setTimeout(function(){e=0;u.state="end";u.wheelDelta=0;u.listener(a,u)},f)},c=document.addEventListener?"addEventListener":"attachEvent",a=document.removeEventListener?"removeEventListener":"detachEvent",b=m.detectEvent("mousewheel")?"mousewheel":"DOMMouseScroll";
k.target[c](b,d,!1);return u};m.register("wheel")})(eventjs);
(function(m){m.elementsFromEvent=function(k,l){var f=m.getClientXY(k);return m.elementsFromPoint(f.x,f.y,l)};var l=m.elementsFromPoint=function(k,t,f,e,u){if(f)var d=f.ownerDocument;else d=document,f=d.getElementsByTagName("html")[0];if(d=d.elementFromPoint(k,t)){var c="pointerEvents",a=d.style[c];if(e===d)if("pointerEvents"===c&&"none"===a)c="display",a=u;else return console.warn("this should not happen",d),[];if(d===f||"HTML"===d.nodeName)return[d];d.style[c]="none";k=l(k,t,f,d,a);k=[d].concat(k);
d.style[c]=a;return k}return[]}})(eventjs);
(function(m){var l=m.proxy;(m.keyTrackerReset=function(){m.fnKey=l.fnKey=!1;m.metaKey=l.metaKey=!1;m.escKey=l.escKey=!1;m.ctrlKey=l.ctrlKey=!1;m.shiftKey=l.shiftKey=!1;m.altKey=l.altKey=!1})();var k=m.keys={};m.keyTracker=function(d){var c="keydown"===d.type,a=d.keyCode;27===a&&(m.escKey=l.escKey=c);u[a]&&(m.metaKey=l.metaKey=c);m.ctrlKey=l.ctrlKey=d.ctrlKey;m.shiftKey=l.shiftKey=d.shiftKey;m.altKey=l.altKey=d.altKey;c?k[a]?(k[a]="press",d.state="press"):(k[a]="down",d.state="down"):(k[a]=!1,d.state=
"up")};m.getKeyID=function(d){return t[d.keyCode]||""};var t=m.fromKeyCode={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"PauseBreak",20:"CapsLock",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",
86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"LeftWindow",92:"RightWindow",93:"Select",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"Multiply",107:"Add",109:"Subtract",110:"DecimalPoint",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",
221:"]",222:"'"},f=navigator.userAgent.toLowerCase(),e=-1!==f.indexOf("macintosh"),u=m.metaKeys={};(function(){e&&-1!==f.indexOf("khtml")?(u[91]=!0,u[93]=!0):e&&-1!==f.indexOf("firefox")?(u[224]=!0,t[173]=t[189],delete t[189],t[61]=t[187],delete t[187],t[59]=t[186],delete t[186]):u[17]=!0;for(var d in u)t[d]="Meta"})();(function(){m.toKeyCode={};for(var d in t)m.toKeyCode[t[d]]=d})()})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(m){var l=m.proxy||(m.proxy={});l.dragOrGesture=function(k){function t(b){return function(c,r){b(c,r);r.pointerEnd&&a.gesture.add()}}var f=k.target,e=k.ondrag,u=k.ongesture,d=function(){var a="pointerId pointerType pointerDown pointerDrag pointerEnd pointerMove pointerStart pointerUp identifier fingers state x y".split(" ");return function(b,c){c=c||{};for(var g=0,q=a.length;g<q;g++){var w=a[g];c[w]=b[w]}return c}}();if(m.supports.touch){var c=[],a={};k=m.wrapBatch(a);k.target=f;k.gesture=
"dragOrGesture";a.drag=m.add({target:f,type:"drag",monitor:e.monitor,maxFingers:e.maxFingers,listener:function(b,p){p.pointerStart&&(c=[]);if(a.gesture.attached)if(7<=p.distance()||p.pointerEnd){a.gesture.remove();p.listener=t(e.listener);if(c.length){for(var r=d(p),g=0,q=c.length;g<q;g++){var w=c[g];p.listener(w.event,d(w.self,p))}d(r,p)}p.listener(b,p)}else c.push({event:b,self:d(p)});p.pointerEnd&&a.gesture.add()}});a.drag.proxy=function(b){var c=a.drag;(c.listener=t(b))(c.event,c)};a.gesture=
m.add({target:f,type:"gesture",maxFingers:u.maxFingers,listener:function(b,c){c.pointerStart?a.drag.remove():c.pointerEnd&&a.drag.add();u.listener(b,c)}});return k}for(var b in e)k[b]=e[b];return l.drag(k)};m.register("dragOrGesture")})(eventjs);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.util||(m.util={});l.requestKioskMode=function(){m.agent.nodewebkit&&require("nw.gui").Window.get().enterKioskMode()};l.diff=function(k,t,f){if(typeof k!==typeof t||"object"!==typeof k||k===t)return!1;var e=new k.constructor,u=new t.constructor,d=!0,c;for(c in k)if(k.hasOwnProperty(c))if(f&&-1!==f.indexOf(c))e[c]=k[c],u[c]=t[c];else if(!(c in t))d=!1,e[c]=k[c],u[c]=t[c];else if(k[c]!==t[c])if("object"===typeof k[c]&&"object"===typeof t[c]){var a=l.diff(k[c],t[c],f);!1!==a&&(d=
!1,e[c]=a.from,u[c]=a.to)}else d=!1,e[c]=k[c],u[c]=t[c];for(c in t)!t.hasOwnProperty(c)||c in k||(d=!1,e[c]=k[c],u[c]=t[c]);return d?!1:{from:e,to:u}};l.sort=function(k){var t=l.sort[k.fn]||k.fn,f=k.data||k,e=k.param,u;Array.isArray(f)?u=e?f.sort(function(d,c){return t(d[e],c[e])}):f.sort(t):(u={},Object.keys(f).sort(t).forEach(function(d){u[d]=f[d]}));return u};l.sort.numeric=function(k,l){return k-l};l.sort.natural=function(k,l){var f=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,
e=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,d=/^0x[0-9a-f]+$/i,c=/^0/,a=k.toString().replace(e,"")||"",b=l.toString().replace(e,"")||"",e=a.replace(f,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),f=b.replace(f,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),a=parseInt(a.match(d))||1!=e.length&&a.match(u)&&Date.parse(a);if(u=parseInt(b.match(d))||a&&b.match(u)&&Date.parse(b)||
null){if(a<u)return-1;if(a>u)return 1}u=0;for(d=Math.max(e.length,f.length);u<d;u++){a=!(e[u]||"").match(c)&&parseFloat(e[u])||e[u]||0;b=!(f[u]||"").match(c)&&parseFloat(f[u])||f[u]||0;if(isNaN(a)!==isNaN(b))return isNaN(a)?1:-1;typeof a!==typeof b&&(a+="",b+="");if(a<b)return-1;if(a>b)return 1}return 0};l.json={};l.json.pretty=function(k){return JSON.stringify(k,null,"\t")};l.json.stringify=function(k){return JSON.stringify(k,function(k,f){return"object"===typeof f&&(null===f||f.nodeName||f.tagName)?
void 0:f})};l.exists=function(k,t){return null!=l.resolve(k,t)};l.resolve=function(k,l,f){try{var e=k.split(".");k=l||window;l=0;for(var u=e.length;l<u;l++){var d=e[l],c=k[d];f&&void 0===c&&(k[d]=l+1===u?c=f:c={});k=c}return k}catch(a){}};l.copy=function(){var k="function"===typeof CanvasPattern;return function f(e,l){if(e&&"object"===typeof e){if(e.nodeType||k&&e instanceof CanvasPattern)return l?e:void 0;if("function"===typeof e.clone)return e.clone();if(e.constructor){var d=new e.constructor,c;
for(c in e){var a=e[c];d[c]=a&&"object"===typeof a?f(a,l):a}return d}}else return e}}();l.copyInto=function t(f,e,l){l=l||{};var d=l.filterOut,c=!!l.ifDoesNotExist;if("object"===typeof f&&e)for(var a in f){var b=e[a],h=f[a];if(!d||!d(h,b)){var p=typeof h;h&&"object"===p?h.nodeType?c?void 0===b&&(e[a]=h):e[a]=h:e[a]=typeof b===p?t(h,b,l):t(h,new h.constructor,l):c?void 0===b&&(e[a]=h):e[a]=h}}return e};l.count=function(t){if(t){if(l.isArrayLike(t))return t.length;if("object"===typeof t){var f=0,e;
for(e in t)++f;return f}}else return 0};l.isEmpty=function(l){if(null==l)return!0;if(-1<l.length)return!l.length;for(var f in l)return!1;return!0};l.isNotEmpty=function(t){return!l.isEmpty(t)};l.clamp=function(l,f,e){return Math.max(l,Math.min(e,f))};l.clampFinite=function(t){var f=l.INFINITY;return Math.max(-f,Math.min(t,+f))};l.arrayEmpty=function(l){l.splice(0,l.length)};l.arrayIntersects=function(l,f){if(f&&f.some)return f.some(function(e){return-1!==l.indexOf(e)});console.warn("invalid arguments",
arguments)};l.inArray=function(l,f){return-1!==l.indexOf(f)};l.isArrayLike=function(l){return l?(l=l.length,"number"===typeof l&&-1<l&&0===l%1):!1};l.each=function(t,f){if("object"===typeof t&&"function"===typeof f)if(l.isArrayLike(t))for(var e=0,u=t.length;e<u;e++)f(t[e],e,t);else for(var d=Object.keys(t),e=0,u=d.length;e<u;e++)f(t[d[e]],d[e],t);else console.error("util.each: invalid parameters")};l.filter=function(l,f,e){if("object"===typeof l&&"function"===typeof f){var u={};Object.keys(l).forEach(function(d){f.call(e||
this,l[d],d,l)&&(u[d]=l[d])});return u}console.error("util.filter: invalid parameters")};l.equals=function(t,f){return"object"===typeof t?"object"===typeof f?l.json.stringify(t)===l.json.stringify(f):!1:t===f};l.objectToArray=function(l){var f=[],e;for(e in l)f.push(l[e]);return f};l.arrayToObject=function(l){for(var f={},e=0,u=l.length;e<u;e++)f[l[e]]=!0;return f};l.bytesToSize=function(l,f){if(l){f=f||1;var e=Math.floor(Math.log(Math.abs(l))/Math.log(1024));return(l/Math.pow(1024,e)).toFixed(f)+
["Bytes","kb","mb","gb","tb"][e]}return"0Bytes"};l.getTimeFormat=function(l,f){l/=1E3;var e=l/3600>>0,u=(l-3600*e)/60>>0,d=l-3600*e-60*u>>0;return f?(10>e&&(e="0"+e),10>u&&(u="0"+u),10>d&&(d="0"+d),e+":"+u+":"+d):{hours:e,minutes:u,seconds:d}};l.require=function(l){function f(){var a=document.createElement("link");a.href=e;a.setAttribute("type","text/css");a.setAttribute("rel","stylesheet");c.appendChild(a)}"string"===typeof l&&(l={url:l});var e=l.url,u=l.type||(-1!==e.indexOf(".css")?"css":"js"),
d=l.onsuccess;l=!!l.async;var c=document.head;if("css"===u)l?setTimeout(f,0):f();else{var a=document.createElement("script");a.src=e;a.async=l;if(d){var b=!1;a.onload=a.onreadystatechange=function(){if(!1===b){var c=a.readyState;if(!c||/loaded|complete/.test(c))b=!0,d(),a.onload=a.onreadystatechange=null}}}c.appendChild(a)}};l.isEditingText=function(){var l=document.activeElement;if(l){var f=l.nodeName;if(("INPUT"===f||"TEXTAREA"===f||"true"===l.contentEditable)&&!l.classList.contains("sk-doc-paste"))return!0}return!1};
l.pending=function(l,f){var e=f||l,u;return u={length:0<l?l:0,push:function(d){u.length+=1<d?d:1},pop:function(){if(-1<u.length){if(--u.length)return!0;u.finish()}return!1},finish:function(){u.length=0;e&&e()}}};l.throttle=function(l,f){function e(){p=this;h=arguments;var c=Date.now();g||a||(g=c);var y=w.wait-(c-g);0>=y||y>w.wait?(w.abort(),g=c,q=u(),r||(p=h=null)):!r&&b&&(r=setTimeout(d,y));return q}function u(){w.fired++;return l.apply(p,h)}function d(){g=a?Date.now():0;r=null;q=u();r||(p=h=null)}
isFinite(f)&&(f={wait:f});f=f||{};var c=f.wait||0,a=!1!==f.leading,b=!1!==f.trailing,h,p,r=null,g=0,q,w=e.throttle={};w.abort=function(){r&&(clearTimeout(r),r=null)};w.fire=function(){r&&(w.abort(),u())};w.fired=0;w.wait=c;return e};l.debounce=function(l,f,e,u){function d(){h=this;b=arguments;r=Date.now();null==p&&(c(y.wait),w&&c(0));return g}function c(c){0<c?(p&&clearTimeout(p),p=setTimeout(a,c)):(g=q.apply(h,b),p=null)}function a(){var a=Date.now()-r;a<y.wait&&0<=a?c(y.wait-a):(p=null,z&&c(0))}
var b,h,p,r,g;if("function"===typeof l){var q=l;l=f;var w=e||!1,z=!1!==u}else q=f,w=l.leading||!1,z=!1!==l.trailing,l=l.wait;var y=d.debounce={};y.wait=l;y.fire=function(){p&&(clearTimeout(p),p=null,c(0))};y.delay=function(){r=Date.now();var g=d.wait;p&&clearTimeout(p);p=setTimeout(a,g)};return d};l.blob={};l.blob.detectMIME=function(t,f){t.type?f(t):l.FileInfo.fromBlob(t,function(e){f(t=new Blob([t],{type:e.mime}))},function(e){f(t)})}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.util||(m.util={});l.cookie={};l.cookie.get=function(k,t){function f(d){var c;try{c=JSON.parse(d)}catch(a){c=d||""}t(c)}t=t||console.log.bind(console);if(Array.isArray(k)){var e={},u=k.length;l.each(k,function(d){l.cookie.get(d,function(c){e[d]=c;!--u&&t(e)})})}else l.exists("chrome.storage.local")?chrome.storage.local.get(k,function(d){f(d[k])}):f(localStorage.getItem((m.feature?m.feature.prefix+"/":"")+k))};l.cookie.set=function(k,t){if(l.exists("chrome.storage.local")){var f=
{};f[k]=t;chrome.storage.local.set(f)}else localStorage.setItem((m.feature?m.feature.prefix+"/":"")+k,t)}})(sketch);"undefined"===typeof galactic&&(galactic={});
(function(){function m(k){k=Object.prototype.toString.call(k);return k.slice(k.indexOf(" ")+1,-1)}function l(k,l){switch(l){case "boolean":return"boolean"===typeof k;case "number":return"number"===typeof k;case "string":return"string"===typeof k;case "int":case "integer":return 0===k%1;case "float":case "finite":return isFinite(k);case "date":return k&&"Date"===m(k);case "function":return k&&"function"===typeof k;case "array":return k&&isFinite(k.length)&&Array.isArray(k);case "object":return"object"===
typeof k;case "element":return k&&1===k.nodeType&&-1<m(k).indexOf("Element");default:var f=m(k);return f===l||f.toLowerCase()===l}}galactic.is=function t(){function f(f,d){return d?("string"!==typeof d&&(d=m(d)),e[d]?e[d](f):l(f,d)):m(f)}var e={};f.instance=t;f.type=function(f,d){e[f]="function"===typeof d?d:"string"===typeof d?function(c){return l(c,d)}:function(c){return c instanceof d}};f.type("arrayish",function(e){var d=e.length;return"number"===typeof d&&-1<d&&0===d%1?(e=m(e),"Arguments"===
e||"Array"===e||"NodeList"===e):!1});return f}()})();"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.util||(m.util={});l.ZERO=1E-10;l.RAD_DEG=180/Math.PI;l.DEG_RAD=Math.PI/180;l.INFINITY=4294967295;l.INFINITY_MINUS_24bit=4278190080;l.INFINITY_MINUS_16bit=4294901760;l.INFINITY_MINUS_8bit=4294967040;l.Random=function(k){var t={};t.seed=k||l.Random.seed();t.toInt=function(){return t.seed=16807*t.seed%2147483647};t.toDouble=function(){t.seed=16807*t.seed%2147483647;return t.seed/2147483647};t.intRange=function(f,e){t.seed=16807*t.seed%2147483647;return"number"===typeof e?(f-=.4999,
Math.round(f+t.seed/2147483647*(e+.4999-f))):Math.round(t.seed/2147483647*f)};t.doubleRange=function(f,e){t.seed=16807*t.seed%2147483647;return"number"===typeof e?f+t.seed/2147483647*(e-f):t.seed/2147483647*f};return t};l.Random.seed=function(){return 2147483648*Math.random()>>0||l.ZERO};l.getScreenMetrics=function(){if("undefined"===typeof document)return{};var k=function(a){try{f.style.fontSize=a}catch(b){f.style.fontSize=""}return f.offsetHeight/1E4},t=document.createElement("div");t.style.cssText=
"position: relative; width: 1px; height: 1px; overflow: scroll;";var f=document.createElement("div");f.style.cssText="position: absolute; width: 100em; height: 10000em; overflow: hidden;";t.appendChild(f);document.body.appendChild(t);for(var e="normal xx-small x-small small medium large x-large xx-large".split(" "),u={},d=0;d<e.length;d++)u[e[d]+"_px"]=k(e[d]);u["%>px"]=k("100%")/100;u["px>pt"]=1/k("1pt");u["pt>pc"]=1/12;u["px>in"]=1/k("72pt");u["in>ft"]=1/12;u["ft>yd"]=1/3;u["px>mm"]=25.4*u["px>in"];
u["mm>cm"]=.1;u["cm>m"]=.01;u["px>ex"]=1/k("1ex");u["ex>em"]=1/u["px>ex"]/k("1em");u["px>px"]=1;document.body.removeChild(t);var c=function(a,b,h,p){for(var r in b)"object"===typeof(p=b[r])?c(a,p,r):(h&&(a["px>"+r]=a["px>"+h]*a[h+">"+r],a[h+">"+p]=a[h+">"+r]*a[r+">"+p],a[h+">px"]=1/a["px>"+h],a[p+">"+h]=1/a[r+">"+p]*1/a[h+">"+r],a[r+">"+h]=1/a[h+">"+r]),a["px>"+p]=a["px>"+r]*a[r+">"+p],a[r+">px"]=1/a["px>"+r],a[p+">px"]=1/a["px>"+r]*1/a[r+">"+p],a[p+">"+r]=1/a[r+">"+p])};c(u,{pt:"pc",mm:{cm:"m"},
"in":{ft:"yd"},ex:"em"});return l.toMetric=u};l.round=function(k,l){l||(l=1);var f=1/l;return Math.round(k*f)/f};l.ceil=function(k,l){l||(l=1);var f=1/l;return Math.ceil(k*f)/f};l.floor=function(k,l){l||(l=1);var f=1/l;return Math.floor(k*f)/f};l.hashFast=function(k){if(k){for(var l=5381,f=k.length;f;)l=33*l^k.charCodeAt(--f);return l>>>0}return 0};l.pronounceable=function(k){k=k||8;for(var l=["a","e","i","o","u"],f="bcdfghjklmnpqrstvwxyz".split(""),e="",u=0;u<k;u++)e=0==u%2?e+l[4*Math.random()>>
0]:e+f[20*Math.random()>>0];return e};l.uuid=function(){for(var k=Date.now(),l=0,f="";36>l;l++){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[l];if("-"===e||"4"===e)f+=e;else var u=k*Math.random()*16%16|0,f=f+("x"===e?u:u&3|8).toString(16)}return f};(function(){function k(c){c=c.replace(d,function(a){return k(a.slice(1,-1))});for(var a=[c[0]],b=[],h=0,p=c.length,r=1;r<p;r++){var g=c[r];" "!==g&&(t[g]||!a[h]?a[h]+=g:f[a[h]]?a[h]="":(b[h]=g,a[++h]=""))}c=parseFloat(a[0]);for(r=0;r<b.length;r++)switch(h=
parseFloat(a[r+1]),b[r]){case "+":c+=h;break;case "-":c-=h;break;case "*":c*=h;break;case "/":c/=h}return c}var t={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,".":1},f={"-":1,"+":1,"*":1,"/":1},e=/(\d+)%/,u=/(\d+)px/g,d=/\((.*)\)/;l.math=function(c,a){if("string"!==typeof c)return Number(c);c=c.replace(u,"$1");if(a)for(var b in a)switch(b){case "percent":c=c.replace(e,function(c){return a[b]*(parseFloat(c)/100)});break;default:c=c.replace(new RegExp(b),a[b])}return k(c)}})()})(sketch);
(function(m){if("object"===typeof exports)module.exports.util=module.exports.util||{},module.exports.util.md5=m();else if("function"===typeof define&&define.amd)define(m);else{var l;try{l=window}catch(k){l=self}m=l.SparkMD5=m();"object"===typeof sketch&&(sketch.util=sketch.util||{},sketch.util.md5=m.hash)}})(function(m){function l(a,b,c,h,y,r){b=p(p(b,a),p(h,r));return p(b<<y|b>>>32-y,c)}function k(a,b,c,h,p,r,d){return l(b&c|~b&h,a,b,p,r,d)}function t(a,b,c,h,p,r,d){return l(b&h|c&~h,a,b,p,r,d)}
function f(a,b,c,h,p,r,d){return l(c^(b|~h),a,b,p,r,d)}function e(a,b){var c=a[0],h=a[1],r=a[2],d=a[3],c=k(c,h,r,d,b[0],7,-680876936),d=k(d,c,h,r,b[1],12,-389564586),r=k(r,d,c,h,b[2],17,606105819),h=k(h,r,d,c,b[3],22,-1044525330),c=k(c,h,r,d,b[4],7,-176418897),d=k(d,c,h,r,b[5],12,1200080426),r=k(r,d,c,h,b[6],17,-1473231341),h=k(h,r,d,c,b[7],22,-45705983),c=k(c,h,r,d,b[8],7,1770035416),d=k(d,c,h,r,b[9],12,-1958414417),r=k(r,d,c,h,b[10],17,-42063),h=k(h,r,d,c,b[11],22,-1990404162),c=k(c,h,r,d,b[12],
7,1804603682),d=k(d,c,h,r,b[13],12,-40341101),r=k(r,d,c,h,b[14],17,-1502002290),h=k(h,r,d,c,b[15],22,1236535329),c=t(c,h,r,d,b[1],5,-165796510),d=t(d,c,h,r,b[6],9,-1069501632),r=t(r,d,c,h,b[11],14,643717713),h=t(h,r,d,c,b[0],20,-373897302),c=t(c,h,r,d,b[5],5,-701558691),d=t(d,c,h,r,b[10],9,38016083),r=t(r,d,c,h,b[15],14,-660478335),h=t(h,r,d,c,b[4],20,-405537848),c=t(c,h,r,d,b[9],5,568446438),d=t(d,c,h,r,b[14],9,-1019803690),r=t(r,d,c,h,b[3],14,-187363961),h=t(h,r,d,c,b[8],20,1163531501),c=t(c,h,
r,d,b[13],5,-1444681467),d=t(d,c,h,r,b[2],9,-51403784),r=t(r,d,c,h,b[7],14,1735328473),h=t(h,r,d,c,b[12],20,-1926607734),c=l(h^r^d,c,h,b[5],4,-378558),d=l(c^h^r,d,c,b[8],11,-2022574463),r=l(d^c^h,r,d,b[11],16,1839030562),h=l(r^d^c,h,r,b[14],23,-35309556),c=l(h^r^d,c,h,b[1],4,-1530992060),d=l(c^h^r,d,c,b[4],11,1272893353),r=l(d^c^h,r,d,b[7],16,-155497632),h=l(r^d^c,h,r,b[10],23,-1094730640),c=l(h^r^d,c,h,b[13],4,681279174),d=l(c^h^r,d,c,b[0],11,-358537222),r=l(d^c^h,r,d,b[3],16,-722521979),h=l(r^d^
c,h,r,b[6],23,76029189),c=l(h^r^d,c,h,b[9],4,-640364487),d=l(c^h^r,d,c,b[12],11,-421815835),r=l(d^c^h,r,d,b[15],16,530742520),h=l(r^d^c,h,r,b[2],23,-995338651),c=f(c,h,r,d,b[0],6,-198630844),d=f(d,c,h,r,b[7],10,1126891415),r=f(r,d,c,h,b[14],15,-1416354905),h=f(h,r,d,c,b[5],21,-57434055),c=f(c,h,r,d,b[12],6,1700485571),d=f(d,c,h,r,b[3],10,-1894986606),r=f(r,d,c,h,b[10],15,-1051523),h=f(h,r,d,c,b[1],21,-2054922799),c=f(c,h,r,d,b[8],6,1873313359),d=f(d,c,h,r,b[15],10,-30611744),r=f(r,d,c,h,b[6],15,-1560198380),
h=f(h,r,d,c,b[13],21,1309151649),c=f(c,h,r,d,b[4],6,-145523070),d=f(d,c,h,r,b[11],10,-1120210379),r=f(r,d,c,h,b[2],15,718787259),h=f(h,r,d,c,b[9],21,-343485551);a[0]=p(c,a[0]);a[1]=p(h,a[1]);a[2]=p(r,a[2]);a[3]=p(d,a[3])}function u(a){var b=[],c;for(c=0;64>c;c+=4)b[c>>2]=a.charCodeAt(c)+(a.charCodeAt(c+1)<<8)+(a.charCodeAt(c+2)<<16)+(a.charCodeAt(c+3)<<24);return b}function d(a){var b=[],c;for(c=0;64>c;c+=4)b[c>>2]=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24);return b}function c(a){var b=a.length,c=
[1732584193,-271733879,-1732584194,271733878],h,p,r;for(h=64;h<=b;h+=64)e(c,u(a.substring(h-64,h)));a=a.substring(h-64);p=a.length;r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(h=0;h<p;h+=1)r[h>>2]|=a.charCodeAt(h)<<(h%4<<3);r[h>>2]|=128<<(h%4<<3);if(55<h)for(e(c,r),h=0;16>h;h+=1)r[h]=0;b=(8*b).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(b[2],16);b=parseInt(b[1],16)||0;r[14]=a;r[15]=b;e(c,r);return c}function a(a){var b;for(b=0;b<a.length;b+=1){for(var c=b,h=a[b],p="",d=void 0,d=0;4>d;d+=1)p+=r[h>>
8*d+4&15]+r[h>>8*d&15];a[c]=p}return a.join("")}function b(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));return a}function h(){this.reset()}var p=function(a,b){return a+b&4294967295},r="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!==a(c("hello"))&&(p=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535});h.prototype.append=function(a){this.appendBinary(b(a));return this};h.prototype.appendBinary=function(a){this._buff+=a;this._length+=
a.length;a=this._buff.length;var b;for(b=64;b<=a;b+=64)e(this._hash,u(this._buff.substring(b-64,b)));this._buff=this._buff.substring(b-64);return this};h.prototype.end=function(g){var b=this._buff,c=b.length,h,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(h=0;h<c;h+=1)p[h>>2]|=b.charCodeAt(h)<<(h%4<<3);this._finish(p,c);g=g?this._hash:a(this._hash);this.reset();return g};h.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};h.prototype.getState=
function(){return{buff:this._buff,length:this._length,hash:this._hash}};h.prototype.setState=function(a){this._buff=a.buff;this._length=a.length;this._hash=a.hash;return this};h.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length};h.prototype._finish=function(a,b){var c=b,h;a[c>>2]|=128<<(c%4<<3);if(55<c)for(e(this._hash,a),c=0;16>c;c+=1)a[c]=0;h=8*this._length;h=h.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(h[2],16);h=parseInt(h[1],16)||0;a[14]=c;a[15]=h;e(this._hash,
a)};h.hash=function(a,q){return h.hashBinary(b(a),q)};h.hashBinary=function(g,b){var h=c(g);return b?h:a(h)};h.ArrayBuffer=function(){this.reset()};h.ArrayBuffer.prototype.append=function(a){var b=this._buff.buffer,c=new Uint8Array(b.byteLength+a.byteLength);c.set(new Uint8Array(b));c.set(new Uint8Array(a),b.byteLength);b=c.length;this._length+=a.byteLength;for(a=64;a<=b;a+=64)e(this._hash,d(c.subarray(a-64,a)));this._buff=a-64<b?c.subarray(a-64):new Uint8Array(0);return this};h.ArrayBuffer.prototype.end=
function(g){var b=this._buff,c=b.length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p;for(p=0;p<c;p+=1)h[p>>2]|=b[p]<<(p%4<<3);this._finish(h,c);g=g?this._hash:a(this._hash);this.reset();return g};h.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};h.ArrayBuffer.prototype.getState=function(){var a=h.prototype.getState.call(this);a.buff=String.fromCharCode.apply(null,new Uint8Array(a.buff));return a};h.ArrayBuffer.prototype.setState=
function(a){var b=a.buff,c=b.length,p=new ArrayBuffer(c),p=new Uint8Array(p),r;for(r=0;r<c;r++)p[r]=b.charCodeAt(r);a.buff=p;return h.prototype.setState.call(this,a)};h.ArrayBuffer.prototype.destroy=h.prototype.destroy;h.ArrayBuffer.prototype._finish=h.prototype._finish;h.ArrayBuffer.hash=function(b,q){var c=new Uint8Array(b),h=c.length,p=[1732584193,-271733879,-1732584194,271733878],r,f,k;for(r=64;r<=h;r+=64)e(p,d(c.subarray(r-64,r)));c=r-64<h?c.subarray(r-64):new Uint8Array(0);f=c.length;k=[0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<f;r+=1)k[r>>2]|=c[r]<<(r%4<<3);k[r>>2]|=128<<(r%4<<3);if(55<r)for(e(p,k),r=0;16>r;r+=1)k[r]=0;h=(8*h).toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(h[2],16);h=parseInt(h[1],16)||0;k[14]=c;k[15]=h;e(p,k);return q?p:a(p)};return h});"undefined"===typeof sketch&&(sketch={});
(function(m){function l(k,f,e,l){function d(){var b=1E6*p;r.readAsArrayBuffer(a.call(c,b,b+1E6>=c.size?c.size:b+1E6))}var c=k.blob||k,a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,b=new SparkMD5.ArrayBuffer,h=Math.ceil(c.size/1E6),p=0,r=new FileReader;r.onerror=e;r.onload=function(a){++p;b.append(a.target.result);l&&l(p/h);p<h?d():f(b.end())};d()}function k(k,f,e,l){var d=k.blob||k;k=k.workerPath;d.md5?f(d.md5):(k=new Worker(k),k.postMessage([d]),k.onerror=function(c){e&&
e(c);console.error("Worker: path not found",c)},k.onmessage=function(c){c=c.data;var a=c.message;switch(c.state){case "success":d.md5=a;f(a);break;case "error":e&&e(a);break;case "progress":l&&l(a)}})}m=m.util;self.WorkerGlobalScope?(importScripts("./MD5.js"),self.addEventListener("message",function(k){k.data.forEach(function(f){l(f,function(e){self.postMessage({state:"success",message:e})},function(e){self.postMessage({state:"error",message:e.message})},function(e){self.postMessage({state:"progress",
message:e})})})},!1)):m.MD5File=function(t){return new Promise(function(f,e){t.workerPath?k(t,f,e):l(t,f,e)})}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.util||(m.util={});l.version=function(k,t){function f(a,b){u.value=a;u.hash=e(a,b)}function e(a,b){b=b||4;for(var c=0,p=(a||"").split(".").map(function(a){var b=parseInt(a||0);return(a=a.replace(b,""))?b+a[0].charCodeAt()/255:b}),r=0;r<p.length&&b!==r;++r)c+=p[r]/255*Math.pow(255,b-r+1);return c}var u={is:function(a,b){var c=e(k,b);switch(a[0]){case "<":return"="===a[1]?c<=e(a.substr(2),b):c<e(a.substr(1),b);case ">":return"="===a[1]?c>=e(a.substr(2),b):c>e(a.substr(1),b);case "=":return c===
e(a.substr(1),b)}},upgrade:function(a,b){var c=l.version(a.version),p;for(p in b)if(c.is(p))b[p]();a.version=m.__version;return a}},d=k.search(/[<=>]/);if(-1===d)return f(k,t),u;var c=k.substr(d);k=k.substr(0,d);f(k,t);return u.is(c)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m=m.util||(m.util={});var l=m.string||(m.string={}),k=l.rxSplitByUppercase=/([A-Z]?[^A-Z]*)/g,t=l.rxAlphaNumeric=/[^A-Z0-9]+/gi;l.rxFile=/[^\w\s-.]+/g;l.rxNumeric=/^-?\d*[\.]?\d+$/;l.invalid=function(f,e){return!!(f||"").match(l[e])};l.toID=function(f){return(f||"").replace(/[^a-z0-9]/g,function(e){var f=e.charCodeAt(0);return 32===f?"-":65<=f&&90>=f?"_"+e.toLowerCase():l.escape(e).replace("\\","_")})};l.escape=function(f){return f.replace(/[\s\S]/g,function(e){e=e.charCodeAt().toString(16);
var f=2<e.length;return"\\"+(f?"u":"x")+("0000"+e).slice(f?-4:-2)})};l.replaceAll=function(f,e,k){return(f||"").split(e).join(k)};l.toAlphaNumeric=function(f){return(f||"").replace(t,"")};l.spaceCamelCase=function(f){return(f||"").match(k).slice(0,-1).join(" ")};l.toCamelCase=function(f){return(f||"").replace(/-([a-zA-Z])/g,function(e){return e[1].toUpperCase()})};l.enquote=function(f){return"&ldquo;"+f+"&rdquo;"};l.hellip=function(f,e){return f<=e?f:f.substr(0,e-3)+String.fromCharCode(8230)};l.lcfirst=
function(f){f=f||"";return f.length?f[0].toLowerCase()+f.substr(1):f};l.ucfirst=function(f){f=f||"";return f[0]?f[0].toUpperCase()+f.substr(1):f};l.ucwords=function(f){return(f||"").replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})};l.addslashes=function(f){return f.replace(/([\\"'])/g,"\\$1").replace(/\0/g,"\\0")};l.stripslashes=function(f){return f.replace(/\0/g,"0").replace(/\\([\\'"])/g,"$1")};l.dirpath=function(f){return f.replace(/([^:]\/)\/+/g,"$1").replace(/\/[^\/]*$/,"")};l.dirparent=
function(f){return l.dirpath(f.replace(/\/+$/,""))};l.dirname=function(f){return l.filename(l.dirpath(f))};l.filename=function(f){return(f||"").replace(/^.*[\\\/]/,"")};l.filenameSansExtension=function(f){return l.filename(f).split(".").shift()};l.extension=function(f){return(f+"").split(".").pop().toLowerCase()};l.ltrim=function(f,e){return(f+"").replace(new RegExp("^["+(e||"s")+"]+","g"),"")};l.rtrim=function(f,e){return(f+"").replace(new RegExp("["+(e||"s")+"]+$","g"),"")};l.trim=function(f,e){e=
e||"s";return(f+"").replace(new RegExp("^["+e+"]+|["+e+"]+$","g"),"")};l.lpad=function(f,e,k){for(;f.length<k;)f=e+f;return f};l.rpad=function(f,e,k){for(;f.length<k;)f+=e;return f};l.encodeURL=function(f){return encodeURIComponent(f)};l.decodeURL=function(f){return decodeURIComponent(f)};l.encodeUTF8=function(f){return unescape(encodeURIComponent(f))};l.decodeUTF8=function(f){return decodeURIComponent(escape(f))}})(sketch);
(function(m){m=m.util||(m.util={});var l=function(){function k(b,h,g){function q(){g&&g({message:"blobFromBuffer: format could not be determined"})}return l(function(g,h){if("string"===typeof b){var r=c(b);r?g(r):g(a.png)}else f(b)?u(b,g,q):q()},arguments)}function l(a,b){if("function"===typeof b[1])a(b[1],b[2],b[3]);else return new Promise(function(b,c){a(b,c)})}function f(a){a=Object.prototype.toString.call(a);return"[object Blob]"===a||"[object File]"===a}function e(a){return a.startsWith("data:image/svg")||
a.startsWith("<?xml")&&a.includes("<svg")||a.startsWith("<svg")}function u(a,c,g){var q=a.slice(0,Math.min(4,a.size)),h=new FileReader;h.onload=function(q){(q=d(h.result)||b[a.type])?c(q):g&&g()};h.readAsArrayBuffer(q)}function d(b){4<b.byteLength&&(b=b.slice(0,5));b=new Uint8Array(b);for(var c="",g=0;g<b.length;g++)c+=b[g].toString(16);b=c;for(var q in h)if(q===b.slice(0,q.length))return a[h[q]]}function c(c){var h=c.toLowerCase();if(c.startsWith("data:"))return c=h.substr(5).split(";").shift(),
b[c];h=h.split(".").pop();if(a[h])return a[h];if(e(c))return a.svg}var a=function(){var a={json:{mime:"application/json",type:"text"},txt:{mime:"text/plain",type:"text"},bmp:{mime:"image/bmp",type:"image"},gif:{mime:"image/gif",type:"image"},icns:{mime:"image/icns",type:"image"},ico:{mime:"image/x-icon",type:"image"},jpeg:{mime:"image/jpg",type:"image"},jpg:{mime:"image/jpg",type:"image"},png:{mime:"image/png",type:"image"},tiff:{mime:"image/tiff",type:"image"},webp:{mime:"image/webp",type:"image"},
aiff:{mime:"audio/aiff",type:"audio"},mid:{mime:"audio/mid",type:"audio"},mp3:{mime:"audio/mpeg",type:"audio"},ogg:{mime:"audio/ogg",type:"audio"},wav:{mime:"audio/wav",type:"audio"},mp4:{mime:"video/mp4",type:"video"},mpeg:{mime:"video/mpeg",type:"video"},webm:{mime:"video/webm",type:"video"},svg:{mime:"image/svg+xml",type:"clipart"},eot:{mime:"application/vnd.ms-fontobject",type:"font"},otf:{mime:"application/font-sfnt",type:"font"},ttf:{mime:"application/font-sfnt",type:"font"},woff:{mime:"application/font-woff",
type:"font"},woff2:{mime:"application/font-woff",type:"font"},pdf:{mime:"application/pdf",type:"package"},ps:{mime:"application/postscript",type:"package"},psd:{mime:"image/vnd.adobe.photoshop",type:"package"},rtf:{mime:"application/rtf",type:"package"},zip:{mime:"application/zip",type:"package"}},b;for(b in a)a[b].extension=b;return a}(),b=function(){var b={},c;for(c in a){var g=a[c];b[g.mime]=g}return b}(),h={"424d":"bmp",47494638:"gif","69636e73":"icns","00000100":"ico",ffd8ff:"jpg","89504e47":"png",
"4d4d002a":"tiff","49492a00":"tiff",57454250:"webp","464f524d":"aiff","4d546864":"mid",fffb:"mp3",494433:"mp3","4f676753":"ogg",52494646:"wav","000001b3":"mpeg","000001ba":"mpeg","1a45dfa3":"webm","4c50":"eot","00010000":"ttf",74727565:"ttf","4f54544f":"otf","774f4646":"woff","774f4646":"woff","774f4632":"woff2",25504446:"pdf",25215053:"ps",38425053:"psd","7b5c7274":"rtf","504b3414":"zip","504b0304":"zip","504b0506":"zip","504b0708":"zip","7b":"json"};k.fromBlob=u;k.fromBuffer=d;k.fromString=c;k.fromExtension=
function(b){return a[b]};k.fromMime=function(a){return b[a]};k.is=function(a,b,g,c){return l(function(g,c){k(a,function(a){for(var c in a)if(b===a[c]){g(!0);break}g(!1)},c)},arguments)};k.isBlob=f;k.isFile=function(a){return"[object File]"===Object.prototype.toString.call(a)};k.isSVGString=e;return k}();m.FileInfo=l;m.isBlob=l.isBlob})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m=m.util=m.util||{};m.Queue=function(l){l=l||{};var k={},t=l.oncomplete,f=l.onprogress,e=l.oncancel,u=l.next,d=l.items,c=l.range,a=!1!==l.autostart,b=!1!==l.flatten;l=!!l.delayStart;k.canceled=!1;k.complete=!1;k.processing=!1;k.cancel=function(){k.canceled||0>=k.remaining||(k.canceled=!0,k.processing=!1,e&&e())};k.next=function(){if(!k.canceled&&!k.complete){k.processing=!0;var a=k.items,c=k.remaining,g=k.length,q=g-c-1,h=k.keys[q];f&&f(g?1-(c+1)/g:1);if(a.length)if(k.remaining--,g=(c=
"[object Object]"===String(d))&&d.length,b)u.call(k,a.shift(),h,q);else{var d=a[0];c&&!g&&a.shift();c&&g?u.call(k,d.shift(),h,q):u.call(k,a.shift(),h,q)}else k.complete=!0,k.processing=!1,t&&t()}};k.append=function(a){function c(a,b){if(Array.isArray(a)||a instanceof NodeList)for(var h=0;h<a.length;h++)b(h);else for(h in a)b(h)}c(a,function(g){var q=a[g];if("[object Object]"!==String(q)||b)k.items.push(q),k.keys.push(g),k.length++,k.remaining++;else{var h=[];k.items.push(h);c(q,function(a){h.push(q[a]);
k.keys.push(g);k.length++;k.remaining++})}})};k.reset=function(){k.canceled=!1;k.complete=!1;k.processing=!1;k.items=[];k.keys=[];k.length=0;k.remaining=-1};if(c)for(var d=[],h=c.from;h<=c.to;h++)d.push(h);k.reset();k.append(d);a&&(l?requestAnimationFrame(k.next):k.next());return k};"object"===typeof module&&module.exports&&(module.exports.util=module.exports.util||{},module.exports.util.Queue=m.Queue)})(sketch);
(function(m){(m.util||(m.util={})).QueueChunked=function(l){var k,t,f,e,u=new Promise(function(d,c){e=c;var a=l.data,b=isFinite(l.start)?l.start:0,h=isFinite(l.end)?l.end:a.length,p=l.chunkLength||1E3,r=l.chunkTimeout||30,g=l.onresult,q=l.onprogress,w=b,z=h>=b?1:-1;(function v(){var b=Date.now(),c;c=1===z?Math.min(p,h-w):Math.min(p,w-h);for(var e=0;e<=c&&!k;e++){var l=Date.now()-b,l=0!==e&&l>r;if(q&&(l||w>=h)){var u=(w/h*100>>0)/100;1>=u&&(q(u,u-(t||0)),t=u)}u=a[w];void 0!==u&&g(u,w);if(l||e===c)if(h===
w)d();else{f=requestAnimationFrame(v);break}w+=z}})()});u.cancel=function(){cancelAnimationFrame(f);k=!0;e({message:"Canceled"})};return u}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.util||(m.util={});l.now=function(){if("object"===typeof window&&window.performance&&window.performance.now){var k=window.performance;return k.now.bind(k)}var l=Date.now();return function(){return Date.now()-l}}();l.perf=function(k,t){function f(){a=l.perf();if(c)e();else{for(;-1<--t;)u();console.log(a()+"ms",d)}}function e(){-1<--t?u(e):console.log(a()+"ms",d)}var u,d="",c=!1,a;if("function"===typeof k)u=k,f();else if("object"===typeof k)k.amount&&(t=k.amount),k.defer&&(c=k.defer),
k.title&&(d=k.title),f();else{var b=l.now();return function(){var a=l.now(),c=Math.round(a-b);if(arguments.length){var r=Array.prototype.slice.call(arguments);r.unshift("background: #222; color: #bbff00; padding: 0 3px; border-radius: 3px;");r.unshift("%c"+c+"ms");console.log.apply(console,r)}b=a;return c}}};m.perf=l.perf})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(d,c,a){var b;if("undefined"===typeof document)if(e)b=new e;else return{ctx:{}};else b=document.createElement("canvas");b.ctx=b.getContext(a||"2d");b.width=d||1;b.height=c||1;return b}var k=m.dom=m.dom||{},t=m.util,f=Number.isFinite;k.$=function(d,c){return"object"===typeof d?d:(c||document).querySelector(d)};k.$$=function(d,c){return"object"===typeof d?d:(c||document).querySelectorAll(d)};k.create=function(){var d=/^\w+$/;return function(c,a){if(-1!==c.indexOf("<")){var b=
document.createElement("div");b.innerHTML=c.trim();var b=b.childNodes,h=b.length;if(0===h)return;c=1===h?b[0]:b}else c=d.test(c)?"canvas"===c?k.Canvas():document.createElement(c):document.createTextNode(c);if(a){var b=c,p;for(p in a)h=a[p],"function"===typeof h&&0===p.indexOf("on")?eventjs.add(b,p,h):b.setAttribute(p,h)}return c}}();k.FocusNode=function(){var d=k.create(m.agent.mobile?"a":"input");d.className="sk-focus-element";d.href="#";return d};k.append=function(d,c,a){d=k.$(d);"string"===typeof c&&
(c=k.create(c,a));if(c&&d&&d.appendChild){if(c.item&&c.length)for(var b=0;b<c.length;b++)d.appendChild(c[b]);else d.appendChild(c);return c}console.warn("dom.append",arguments)};k.appendText=function(d,c){(d=k.$(d))&&d.appendChild&&d.appendChild(document.createTextNode(c))};k.Canvas=l;l.resizeOrClear=function(d,c,a){c&&c!==d.width&&a&&a!==d.height?(d.width=c,d.height=a):l.clear(d)};l.clear=function(d){d.ctx&&d.ctx.clearRect(0,0,d.width,d.height)};k.Context3d=function(d,c){return l(d,c,"webgl").ctx};
k.Context2d=function(d,c){return l(d,c,"2d").ctx};(function(){function d(c,a){for(var b in a)c.style[b]=a[b]}k.style=function(c,a,b){if(c=k.$$(c))if(1===c.nodeType&&(c=[c]),"object"===typeof a){if(Array.isArray(a)){var h=getComputedStyle(c[0],null),p={};properties.forEach(function(a){p[a]=h[a]});return p}for(var r=0,g=c.length;r<g;r++)d(c[r],a)}else if(b)for(r=0,g=c.length;r<g;r++)c[r].style[a]=b;else return h=getComputedStyle(c[0],null),h[a]};k.stylesheet=function(c,a){for(var b=document.styleSheets,
h=0;h<b.length;h++){var p=b[h];try{var r=p.cssRules;if(r)for(p=0;p<r.length;p++){var g=r[p];if(c===g.selectorText)if(a)d(g,a);else return g}}catch(q){}}}})();k.clone=function(){function d(a,b){"CANVAS"===a.nodeName&&a.getContext("2d").drawImage(b,0,0)}function c(a,b){d(b,a);for(var h=b.childNodes,p=a.childNodes,r=0;r<h.length;r++){var g=h[r],q=p[r];g&&q&&(d(g,q),g.childNodes.length&&q.childNodes&&c(q,g))}}return function(a,b){var h=a.cloneNode(!0);c(a,h);h.id=b;h.style.position="absolute";h.style.opacity=
1;h.style.zIndex=9999999;h.style.display="block";return h}}();k.empty=function(d){"string"===typeof d&&(d=k.$(d));if(d){for(;d.firstChild;)d.removeChild(d.firstChild);return d}return null};k.remove=function(){function d(c){c&&c.parentNode&&c.parentNode.removeChild(c)}return function(c){c&&(1===c.nodeType?d(c):t.each(c,d))}}();k.measure=function(){function d(c,a){var b=c.getPropertyValue(a),b=parseFloat(b,10);return b===+b?b:0}return function(c,a){a=a||{};var b=a.box||"border";"string"===typeof c&&
(c=k.$(c));if(!(c=c||this.selection&&this.selection[0]))return{width:0,height:0};if(c===window||c===document)c=document.body;var h={},p=c.getBoundingClientRect();h.x1=p.left;h.y1=p.top;h.scrollLeft=0;h.scrollTop=0;a.sansScale?(h.width=c.offsetWidth,h.height=c.offsetHeight):(h.width=p.width,h.height=p.height,h.scaleX=p.width/c.offsetWidth||1,h.scaleY=p.height/c.offsetHeight||1);var p=getComputedStyle(c),r=h.margin={top:d(p,"margin-top"),right:d(p,"margin-right"),bottom:d(p,"margin-bottom"),left:d(p,
"margin-left")},g=h.border={top:d(p,"border-top-width"),right:d(p,"border-right-width"),bottom:d(p,"border-bottom-width"),left:d(p,"border-left-width")};h.padding={top:d(p,"padding-top"),right:d(p,"padding-right"),bottom:d(p,"padding-bottom"),left:d(p,"padding-left")};"border"!==b&&"padding"!==b&&(h.x1-=r.left,h.y1-=r.top,h.width+=r.right+r.left,h.height+=r.bottom+r.top);"padding"===b&&(h.x1+=g.left,h.y1+=g.top,h.width-=g.right+g.left,h.height-=g.bottom+g.top);h.x2=h.x1+h.width;h.y2=h.y1+h.height;
h.position=p.getPropertyValue("position");for(b=c;null!==b&&b!==document.body&&void 0!==b.scrollTop;){p=getComputedStyle(b);p=p.getPropertyValue("position");if("absolute"!==p)if("fixed"===p){h.scrollTop=b.scrollLeft;h.scrollLeft=b.scrollTop;break}else h.scrollLeft+=b.scrollLeft,h.scrollTop+=b.scrollTop;b=b.parentNode}eventjs.getDocumentScroll(h);h.scrollLeft-=h.pageXOffset;h.scrollTop-=h.pageYOffset;return h}}();k.setClass=function(){function d(c,a){"function"===typeof c&&(a?setTimeout(c,a):c())}
return function(c){if(c&&c.target)var a=c.target,b=c.name,h=c.on,p=c.list,r=c.delay,g=c.callback;else a=arguments[0],b=arguments[1],h=arguments[2],p=arguments[3];void 0===h&&(h=!0);"string"===typeof a&&(a=k.$(a));if(a&&b)if(a.length){for(p=0;p<a.length;p++){var q=a[p].classList;q&&(h?q.add(b):q.remove(b))}d(g,r)}else{if("string"===typeof p)if(a.parentNode)p=k.$$(p,a.parentNode);else{console.warn("setClass",c);return}p&&p.length||(p=[a]);for(var q=a.classList,a="toggle"===h&&q.contains(b),w=0,z=p.length;w<
z;w++){var y=p[w].classList;y&&y.remove(b)}if(q){if(!1===h||a)return d(g,r),!1;q.add(b);d(g,r);return!0}}else console.warn("setClass",arguments)}}();k.addClass=function(d,c){if((d=k.$(d))&&c)switch(typeof c){case "string":d.classList.add(c);break;case "object":t.each(c,function(a){d.classList.add(a)})}};k.strip_html=function(){if("undefined"!==typeof document){var d=document.createElement("span");return function(c){d.innerHTML=c;return d.innerText}}}();k.getCoordinateAt=function(){function d(a,g,
q,p){p=p||{x:0,y:0};var d=parseInt(b[a]||a)/100;g=parseInt(b[g]||g)/100;h[a]?(p.x+=c(q.x1,q.x2,d),p.y+=c(q.y1,q.y2,g)):(p.x+=c(q.x1,q.x2,g),p.y+=c(q.y1,q.y2,d));return p}function c(a,b,c){return(b-a)*c+a}function a(a){return"string"===typeof a?(a=a.split(" "),{x:parseFloat(a[0]),y:parseFloat(a[1])}):a}var b={top:"0%",left:"0%",center:"50%",bottom:"100%",right:"100%"},h={left:"x2",right:"x1"},p={top:"bottom",left:"right",right:"left",bottom:"top"};return function(b){b=b||{};var g=k.$(b.element),c;
b=b.at||{};c=f(b.x+b.y)?{point:b}:"string"===typeof b||b instanceof Node?{align:"top left",element:b}:b;var w;b=c.align||"";"string"===typeof b?(b=-1!==b.indexOf(" to ")?b.replace(" to "," ").split(" "):b.split(" "),w={edge:b[0],position:b[1],toEdge:b[2],toPosition:b[3]}):w=b||{};b=a(c.offset||{x:0,y:0});var z=a(c.point),y=k.$(c.element);c=w.edge||"left";var e=w.position||"top",x=w.toEdge||p[w.edge];w=w.toPosition||"center";if(y||z){if(y){g?(g.style.display="block",g=k.measure(g,{box:"padding"})):
g={width:0,height:0};var l=k.measure(y,{box:"padding"}),l=d(x,w,l),g=d(c,e,{x1:0,y1:0,x2:g.width,y2:g.height});l.x-=g.x;l.y-=g.y}else z&&(l={x:0,y:0},l.x+=z.x||0,l.y+=z.y||0);h[c]?(l.x+=b.x*("right"===c?-1:1),l.y+=b.y*("bottom"===e?-1:1)):(l.x+=b.x*("right"===e?-1:1),l.y+=b.y*("bottom"===c?-1:1));return l}}}();k.contains=function(d,c){for(var a=c;;){if(a===d)return!0;if(a&&a.parentNode)a=a.parentNode;else return!1}};k.scrollbar=function(d){return{width:k.scrollbarX(d),height:k.scrollbarY(d)}};k.scrollbarX=
function(d){return d.offsetWidth-d.clientWidth};k.scrollbarY=function(d){return d.offsetHeight-d.clientHeight};if("object"===typeof module&&module.exports){try{var e=require("canvas")}catch(u){}module.exports.dom=k}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(a){var b=window.getSelection();b.removeAllRanges();b.addRange(a)}function k(a){a=a||window.getSelection();a.rangeCount&&(a=a.getRangeAt(0),a.deleteContents());return a}function t(a){return d.text.getSelection(a).end}function f(a,b,h){c(b)&&(h&&(b+=t(a)),d.text.select(a,b,b))}function e(a,b,c){var p=a.tagName;"INPUT"===p||"TEXTAREA"===p?a.value!==b&&(a.value=b,f(a,c)):a.innerHTML!==b&&(a.innerHTML=b,f(a,c))}function u(a){var b=window.getSelection().focusNode;return d.contains(a,
b)}var d=m.dom||(m.dom={}),c=Number.isFinite;d.text={};d.text.selectAll=function(a){if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else window.getSelection&&(b=document.createRange(),b.selectNodeContents(a),l(b))};d.text.hasFocus=function(a){return u(a)};d.text.hasSelection=function(a){return u(a)&&(a=d.text.getRange(a))?a.endOffset!==a.startOffset:!1};d.text.getRange=function(a){var b=window.getSelection();if(null===b)return a=t(a),{startOffset:a,
endOffset:a};if(u(a)&&(a=b.focusNode))return 3===a.nodeType?b.getRangeAt(0):a.firstChild?(a=a.firstChild,{startOffset:0,endOffset:a.data&&a.data.length||0}):{startOffset:0,endOffset:0}};d.text.cut=function(a,b){if(u(a))try{document.execCommand("cut",!1,null)}catch(c){k()}};d.text.paste=function(a,b){if(u(a))try{document.execCommand("insertHTML",!1,b)}catch(c){k().insertNode(document.createTextNode(b)),f(a,b.length,!0)}};d.text.select=function(a,b,c){if(a.setSelectionRange)a.setSelectionRange(b,c);
else{var p,r,g=0;a=a.childNodes;for(var q=0;q<a.length;q++){var w=a[q],d=w.nodeValue;if(d){d=d.length;if(null==p||null==r)null==p&&b<=g+d&&(p=w,b-=g),null==r&&c<=g+d&&(r=w,c-=g);else break;g+=d}}p&&r&&(g=document.createRange(),g.setStart(p,b),g.setEnd(r,c),l(g))}};d.text.getCursorPosition=t;d.text.setCursorPosition=f;d.text.getSelection=function(a){var b=a.selectionDirection;if(b)return"backward"===b?{start:a.selectionEnd,end:a.selectionStart}:{start:a.selectionStart,end:a.selectionEnd};if("true"===
a.contentEditable&&(b=window.getSelection(),b.rangeCount)){var b=b.getRangeAt(0),c=b.cloneRange();c.selectNodeContents(a);c.setEnd(b.startContainer,b.startOffset);a=c.toString().length;c.setEnd(b.endContainer,b.endOffset);return{start:a,end:c.toString().length}}return{start:0,end:0}};d.text.setValue=function(a,b){b=String(b);if(document.activeElement===a){var c=t(a);e(a,b,c)}else e(a,b)};d.text.getPlainText=function(a){function b(q){var w=q.currentStyle||q.ownerDocument.defaultView.getComputedStyle(q,
null),r=w.whiteSpace.includes("pre"),d=q.tagName,w="SCRIPT"===d?"none":w.display?"block"==w.display&&"TD"==d?"feaux-inline":w.display:"LI,P,TR".includes(d)?"block":"feaux-inline";if("none"===w)return"";q===a?w="":(w="table-row,block,list-item".includes(w)?"\n":" ",d=g.slice(-1),"\n"!==d&&""!==d&&d!==w&&(g+=w));for(var d=q.childNodes,e=0;e<d.length;e++){var f=d[e];3===f.nodeType?g=r?g+f.nodeValue:g+f.nodeValue.replace(c," ").replace(p," ").trim():"BR"===f.nodeName?g+="\n":f.childNodes.length&&b(f)}g.slice(-1)!==
w&&(g+=w);"P"===q.nodeName&&(g+=w);return g}var c=/[\r\n]/g,p=/ +/g;if("string"===typeof a){var r=a;a=document.createElement("div");a.innerHTML=r}else a=a.cloneNode(!0);var g="";a.style.visibility="hidden";document.body.appendChild(a);b(a);document.body.removeChild(a);return g}})(sketch);
(function(m){function l(e,f,d){d[e]=function(){f[e].call(f,arguments)}}var k=m.dom=m.dom||{},t=m.util,f={fadeout:{keyframes:[{opacity:1},{opacity:0}],timing:{ease:"ease-out",duration:250,iterations:1}},fadein:{keyframes:[{opacity:0},{opacity:1}],timing:{ease:"ease-out",duration:250,iterations:1}},zoomout:{keyframes:[{transform:"scale(1)"},{transform:"scale(0)"}],timing:{ease:"ease-out",duration:250,iterations:1}},radar:{keyframes:[{offset:0,opacity:0,transform:"scale(1)"},{offset:.01,opacity:.35,
transform:"scale(1)"},{offset:.8,opacity:0,transform:"scale(1.1)"},{offset:1,opacity:0,transform:"scale(1.1)"}],timing:{duration:1250,iterations:Infinity}},pulse:{keyframes:[{transform:"scale(1)"},{transform:"scale(1.1)"},{transform:"scale(1)"}],timing:{duration:250,iterations:1}}};f.heartbeat=t.copyInto({timing:{iterations:2}},t.copy(f.pulse));k.animate=function(e,k){var d=new Promise(function(c,a){"string"===typeof k&&(k={name:k});var b=f[k.name],h=t.copy(b.keyframes),p=t.copy(b.timing),r;for(r in k)p[r]=
k[r];k.onstart&&k.onstart();requestAnimationFrame(function(){for(var a=0;a<h.length;a++){var b=h[a],w;for(w in b)"transform"===w&&(b[w]=e.style.transform+" "+b[w])}a=e.animate(h,p);c();for(var r in a)l(r,a,d)})});return d}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(d){d=d.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/);if("data:"===d[1]||"blob:"===d[1]||"filesystem:"===d[1])return!0}var k=m.util||(m.util={}),t=!!("crossOrigin"in document.createElement("img")),f="undefined"!==typeof window&&"FormData"in window,e={};k.loadImage=function(d){function c(){k.request({url:b,responseType:"blob",onprogress:r,onerror:function(b){a(3);e[w.host]=3},onsuccess:function(g,c){c&&(b=URL.createObjectURL(c),a(0),e[w.host]=t?1:0)}})}function a(a){p.onload=g;
p.onerror=q;p.onprogress=r;switch(a){case 0:p.src=b;break;case 1:p.crossOrigin="anonymous";p.src=b;break;case 2:c();break;case 3:k.loadImage.proxyUrl?p.src=k.loadImage.proxyUrl+escape(b):console.log("proxy not setup")}return p}"string"===typeof d&&(d={src:d});if("undefined"===typeof d.src)return console.warn("loadImage",arguments);var b=d.src,h=!1!==d.cors,p=d.image||document.createElement("img"),r=d.onprogress,g=d.onsuccess,q=d.onerror,w=document.createElement("a");w.href=b;var z;if(z=r)z=l(b)?!1:
f;if(z)return a(2);if(!1===h||u(b,!0))return a(0);h=e[w.host];return"undefined"!==typeof h?a(h):t?a(1):f?c():a(3)};var u=function(){var d=/^([!#$&-;=?-\[\]_a-z~ ]|%[0-9a-fA-F]{2}|)+$/,c=/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/,a={"http:":/:(80)?$/,"https:":/:(443)?$/},b={"data:":!0,"blob:":!0,filesystem:!0};return function(h,p){if("string"===typeof h){var r=h.match(c);return p&&b[r[1]]?!0:r[1]&&r[1].toLowerCase()!==location.protocol||r[2]&&r[2].replace(a[location.protocol],"")!==location.host||r[1]&&!r[2]?
!1:d.test(h)}console.error(h)}}()})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l={},k={};(m.util||(m.util={})).loadScript=function(f){"string"===typeof f&&(f={url:f});t(f);return this};var t=function(f){var e=f.urls;"undefined"===typeof e&&(e=[{url:f.url,verify:f.verify}]);var u=document.getElementsByTagName("head")[0],d=function(a,b){if(!(l[a.url]||b&&"undefined"===typeof window[b])){l[a.url]=!0;if(k[a.url])k[a.url]();delete k[a.url];a.callback&&a.callback();"undefined"!==typeof g&&g()}},c=!1,a=[],b=function(b){"string"===typeof b&&(b={url:b,verify:f.verify});
if(/([\w\d.])$/.test(b.verify)){var g=b.test=b.verify;if("object"===typeof g)for(var p=0;p<g.length;p++)a.push(g[p]);else a.push(g)}l[b.url]||(g=document.createElement("script"),g.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||d(b)},g.onload=function(){d(b)},g.onerror=function(a){c=!0;delete k[b.url];if("object"===typeof b.test)for(var g in b.test)h(b.test[g]);else h(b.test)},g.setAttribute("type","text/javascript"),g.setAttribute("src",b.url),u.appendChild(g),
k[b.url]=function(){})},h=function(b){for(var g=[],c=0;c<a.length;c++)a[c]!==b&&g.push(a[c]);a=g},p=function(b){if(b)d(b,b.test);else for(var g=0;g<e.length;g++)d(e[g],e[g].test);for(var h=!0,g=0;g<a.length;g++){var r=a[g];if(r&&-1!==r.indexOf(".")){var r=r.split("."),v=window[r[0]];"undefined"!==typeof v&&(2===r.length?"undefined"===typeof v[r[1]]&&(h=!1):3===r.length&&"undefined"===typeof v[r[1]][r[2]]&&(h=!1))}else"undefined"===typeof window[r]&&(h=!1)}!f.strictOrder&&h?c?f.error&&f.error():f.callback&&
f.callback():setTimeout(function(){p(b)},10)};if(f.strictOrder){var r=-1,g=function(){r++;if(e[r]){var a=e[r],h=a.url;k[h]?k[h]=function(){a.callback&&a.callback();g()}:l[h]?g():(b(a),p(a))}else c?f.error&&f.error():f.callback&&f.callback()};g()}else for(r=0;r<e.length;r++)b(e[r]),p(e[r])}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){(m.dom||(m.dom={})).scrollTo=function(k){k=k||{};var t=k.callback,f=k.target,e=k.top===+k.top?k.top:null,u=k.left===+k.left?k.left:null,d=k.duration===Math.abs(k.duration)?k.duration:250,c=k.relative||!1,a=f.scrollTop;k=f.scrollLeft;var e=e===+e?c?a+e:e:a,u=u===+u?c?k+u:u:k,b=Math.abs(a-e),c=Math.abs(k-u);if(0===d||50>Math.max(c,b))f.scrollLeft=u,f.scrollTop=e;else{d/=25;e=b/25*(e>a?1:-1);u=c/25*(u>k?1:-1);for(b=c=0;25>=b;b++)l(f,a,k,c*d),k+=u,a+=e,c++;t&&setTimeout(t,c*d)}};var l=function(k,
l,f,e){setTimeout(function(){k.scrollTop=l+.5>>0;k.scrollLeft=f+.5>>0},e)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){(m.util||(m.util={})).request=function(l,k,t,f){"string"===typeof l&&(l={url:l});var e=l.data,u=l.url,d=l.method||(l.data?"POST":"GET"),c=l.format,a=l.headers,b=l.mimeType,h=l.responseType,p=l.withCredentials||!1;f=f||l.onprogress;k=k||l.onsuccess;t=t||l.onerror;var r=new XMLHttpRequest;r.open(d,u,!0);if(a)for(var g in a)r.setRequestHeader(g,a[g]);else e&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded");b&&r.overrideMimeType(b);h&&(r.responseType=h);p&&(r.withCredentials=
!0);t&&"onerror"in r&&(r.onerror=t);f&&r.upload&&"onprogress"in r.upload&&(e?r.upload.onprogress=function(a){f.call(r,a,event.loaded/event.total)}:r.addEventListener("progress",function(a){var b=0;if(a.lengthComputable)b=a.total;else if(r.totalBytes)b=r.totalBytes;else if(b=parseInt(r.getResponseHeader("Content-Length-Raw")),isFinite(b))r.totalBytes=b;else return;f.call(r,a,a.loaded/b)},!1));r.onreadystatechange=function(a){if(4===r.readyState)if(200===r.status||304===r.status||308===r.status||0===
r.status&&window.top.cordova){if(k){var b;if("json"===c)try{b=JSON.parse(a.target.response)}catch(g){t&&t.call(r,a)}else b="xml"===c?a.target.responseXML:"text"===c?a.target.responseText:a.target.response;k.call(r,a,b)}}else t&&t.call(r,a)};r.send(e);return r}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.lang=m.lang||{},k=m.util,t;l.locale=l.locale||{en:{}};l.localeAvailable=l.localeAvailable||{en:{}};l.translate=function(d){return t?t.__.apply(t,arguments):d};l.contains=function(d){var c=l.locale[t.locale];return!(!c||!c[d])};l.setLocaleData=function(d,c){l.locale[d]=c;l.setLocale(d)};l.setLocale=function(d,c,a){d=d||"auto";d=l.getLocale(d);t=t||new f({directory:"./js/lang",extension:".json"});t.setLocale(d,function(a){m.feature.lang=d;c&&c()},function(){l.setLocale("en",c)})};
l.getLocale=function(d){"auto"===d&&(d=m.agent.lang);return l.locale[d]||l.localeAvailable[d]?d:-1!==d.indexOf("-")?l.getLocale(d.split("-")[0]):"en"};l.getWordCount=function(){var d=0,c;for(c in l.locale.en)d+=k.count(l.locale.en[c].split(" "));console.log(d)};var f=function(d){for(var c in d)this[c]=d[c]};f.localeCache={};f.prototype={defaultLocale:"en",directory:"/locales",extension:".min.json",getLocale:function(){return this.locale},setLocale:function(d,c,a){this.locale=d=(d=d||document.querySelector("html").getAttribute("lang"))||
this.defaultLocale;l.locale[d]?(this.setLocaleData(d,l.locale[d]),c&&c()):d in f.localeCache||(this.getLocaleFileFromServer(c,a),f.localeCache[d]={})},setLocaleData:function(d,c){f.localeCache[d]=c},getLocaleFileFromServer:function(d,c){var a=this.locale;k.request({url:this.directory+"/"+a+this.extension,format:"json",headers:{"Content-Type":"text/plain;charset=UTF-8"},onerror:c,onsuccess:function(b,c){f.localeCache[a]=c;d&&d(c)}})},__:function(){var d=arguments[0],d=f.localeCache[this.locale][d]||
d;1<arguments.length&&(d=u(d,Array.prototype.slice.call(arguments,1)));return d},__n:function(d,c){var a=f.localeCache[this.locale][d];c=parseInt(c,10);a=0===c?a.zero:1<c?a.other:a.one;a=u(a,[c]);2<arguments.length&&(a=u(a,Array.prototype.slice.call(arguments,2)));return a}};var e=k.sprintf=function(d){if("string"!==typeof d)throw"sprintf: The first arguments need to be a valid format string.";for(var c=new RegExp(/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g),a,b=[],h=1;a=c.exec(d);){if(h>=
arguments.length&&"%"!==a[8])throw"sprintf: At least one argument was missing.";b[b.length]={begin:a.index,end:a.index+a[0].length,sign:"+"==a[1],negative:0>parseFloat(arguments[h])?!0:!1,padding:void 0==a[2]?" ":"'"==a[2].substring(0,1)?a[3]:a[2],alignLeft:"-"==a[4],width:void 0!=a[5]?a[5]:!1,precision:void 0!=a[7]?a[7]:!1,type:a[8],data:"%"!=a[8]?String(arguments[h++]):!1}}c="";for(h=a=0;h<b.length;++h){c+=d.substring(a,b[h].begin);a=b[h].end;var p="";switch(b[h].type){case "%":p="%";break;case "b":p=
Math.abs(parseInt(b[h].data)).toString(2);break;case "c":p=String.fromCharCode(Math.abs(parseInt(b[h].data)));break;case "d":p=String(Math.abs(parseInt(b[h].data)));break;case "f":p=!1===b[h].precision?String(Math.abs(parseFloat(b[h].data))):Math.abs(parseFloat(b[h].data)).toFixed(b[h].precision);break;case "o":p=Math.abs(parseInt(b[h].data)).toString(8);break;case "s":p=b[h].data.substring(0,b[h].precision?b[h].precision:b[h].data.length);break;case "x":p=Math.abs(parseInt(b[h].data)).toString(16).toLowerCase();
break;case "X":p=Math.abs(parseInt(b[h].data)).toString(16).toUpperCase();break;default:throw"sprintf: Unknown type \u201c"+b[h].type+"\u201d detected. This should never happen. Maybe the regex is wrong.";}if("%"!=b[h].type){if(0!=b[h].width&&b[h].width>p.length)for(var r=p.length,g=0;g<b[h].width-r;++g)p=1==b[h].alignLeft?p+b[h].padding:b[h].padding+p;if("b"==b[h].type||"d"==b[h].type||"o"==b[h].type||"f"==b[h].type||"x"==b[h].type||"X"==b[h].type)1==b[h].negative?p="-"+p:1==b[h].sign&&(p="+"+p)}c+=
p}return c+=d.substring(a,d.length)},u=k.vsprintf=function(d,c,a){a=c.slice(0);a.splice(0,0,d);return e.apply(null,a)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.lang||{};l.locale=l.locale||{};l.localeAvailable={de:{en:"German","native":"Deutsch"},en:{en:"English","native":"English"},es:{en:"Spanish","native":"Espa\u00f1ol"},fr:{en:"French","native":"Fran\u00e7ais"},it:{en:"Italian","native":"Italiano"},nl:{en:"Dutch","native":"Nederlands"},pl:{en:"Polish","native":"Polski"},pt:{en:"Portuguese","native":"Portugu\u00eas"},sv:{en:"Swedish","native":"Svenska"},ar:{en:"Arabic","native":"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},ko:{en:"Korean",
"native":"\ud55c\uad6d\uc5b4"},ja:{en:"Japanese","native":"\u65e5\u672c\u8a9e"},ru:{en:"Russian","native":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u042f\u0437\u044b\u043a"},zh:{en:"Chinese","native":"\u4e2d\u6587"}};m.util.copyInto({en:{"about-version":"[?] SketchAPI %s","delete-doc-confirm":"Are you sure?","change-doc-confirm":"Save current image?","select-tool-count":"%s layers selected","select-tool-message":"Use the <span class='icon-select'></span> Select tool to Move, Rotate, Scale, Delete, and reorganize the layers of your design.",
"useMaxCopies-alert":"You can only include %s %s of this clipart.","welcome-to":"Welcome to %s","zoom-tool-message":"Use the <span class='icon-zoom'></span> Zoom tool to fine tune your image.","scissor-tool-message":"Use the <span class='icon-scissors'></span> Scissor tool to slice polygons into pieces by drawing a line through the polygon.",start:"Start","load-fail-restore":"Last time your document did not load properly.<br>Do you want to re-attempt to load your document?","copy-to-clipboard":"Copy to Clipboard",
"could-not-authorize":"%s could not authorize","image-ready-to-share":"Your image is ready to be shared!","share-link-copied":"Share link copied!","still-uploading":"Still uploading to %s","upload-complete":"%s upload complete!","upload-failed":"%s upload failed!","uploading-to":"Uploading to %s","changes-saved":"All changes saved!","upload-invalid":"Invalid format uploaded","user-entered":"%s has entered the room.","user-exited":"%s has left the room.",author:"Author",license:"License",project:"File",
"special-thanks":"Special thanks",background:"Background","change-media":"Change Media","cut-objects":"Cut Selection","merge-objects":"Merge Objects","merge-paths":"Merge Paths","new-doc-created":"New Document Created!","paste-objects":"Paste Selection","resize-canvas":"Resize Document","remove-objects":"Remove Selection","reset-clipart-color":"Reset Clipart Color","split-path":"Split Path","update-clipart-color":"Change Clipart Color","update-style":"Update Style","update-text":"Update Text",angle:"Angle",
antialias:"Antialias",anticlockwise:"Anticlockwise",blend:"Blend",bristles:"Bristles",coils:"Coils",composite:"Composite",constrain:"Constrain",content:"Content",contract:"Contract",cutout:"Cutout",diameter:"Size",distance:"Distance",fill:"Fill",increment:"Increment",radius:"Radius",lineWidth:"Line Width",lookback:"Lookback",opacity:"Opacity",palette:"Palette",points:"Points",ratio:"Ratio",reset:"Reset",roundness:"Roundness",imperfection:"Imperfection",sides:"Sides",slope:"Slope",spacing:"Spacing",
speed:"Speed",spread:"Spread",stroke:"Outline",arrow:"Arrow",brush:"Brush",calligraphy:"Calligraphy",chrome:"Chrome",crayon:"Crayon",eraser:"Eraser",fur:"Fur",paintbrush:"Paintbrush",pen:"Pen",pencil:"Pencil",sketchy:"Sketchy",spirograph:"Spirograph",spraypaint:"Spraypaint",streamer:"Streamer",web:"Web",oil:"Oil",burst:"Burst",circle:"Circle",ellipse:"Ellipse",gear:"Gear",pie:"Pie",radialBurst:"Radial Burst",rectangle:"Rectangle",regularPolygon:"Regular Polygon",ring:"Ring",shape:"Shape",spiral:"Spiral",
square:"Square",star:"Star",triangle:"Triangle",select:"Select","quick-selection":"Quick Selection","add-to-selection":"Add to Selection","subtract-from-selection":"Subtract from Selection","select-all":"Select all","select-inverse":"Select inverse",unselect:"Unselect","crop-draw":"Crop Area",crop:"Crop","screenshot-log":"Click & drag to create your screenshot.",screenshot:"Screenshot","take-snapshot":"Take Snapshot",zoom:"Zoom","zoom-in":"Zoom in","zoom-out":"Zoom out","zoom-to-default":"Zoom to actual size",
stamp:"Stamp","choose-stamp":"Set stamp category","convert-to-stamp":"Convert to Stamp",clipart:"Clipart","load-your-own-image":"Load your own image","choose-clipart":"Set clipart category",floodfill:"Floodfill",contiguous:"Contiguous",tolerance:"Tolerance",text:"Text",font:"Font",fontFamily:"Font Family",fontSize:"Font Size",fontStyle:"Font Style",fontVariant:"Font Variant",fontWeight:"Font Weight",textAlign:"Text Align",textDecoration:"Text Decoration",textTransform:"Text Transform",whiteSpace:"White Space",
lineHeight:"Line Height",letterSpacing:"Letter Spacing",wordSpacing:"Word Spacing","choose-font":"Set font family",brightness:"Brightness",camera:"Camera","camera-error":"There was an error loading the camera, please check your browser permissions.",contrast:"Contrast",exposure:"Exposure",hue:"Hue",luminosity:"Luminosity",saturation:"Saturation",temperature:"Temperature",tint:"Tint",blur:"Blur",pixelSize:"Pixel Size",copy:"Copy","copy-all":"Copy all",cut:"Cut","cut-all":"Cut all","delete":"Delete",
duplicate:"Duplicate","delete-file":"Delete File","duplicate-file":"Duplicate File","object-backwards":"Send Backwards","object-forwards":"Send Forwards","object-to-back":"Send to Back","object-to-front":"Send to Front",paste:"Paste",history:"History",undo:"Undo",redo:"Redo",move:"Move","move-left":"Move Left","move-right":"Move Right","move-up":"Move Up","move-down":"Move Down",rotate:"Rotate",scale:"Scale",transform:"Transform",translate:"Offset","click-to-edit":"Click to Edit","click-to-select":"Click to Select",
"dbltap-to-edit":"Double Click to Edit","drag-to-move":"Drag to Move","drag-to-resize":"Drag to Resize","drag-to-rotate":"Drag to Rotate",black:"Black",blueprint:"Blueprint",graphPaper:"Graph Paper",grid:"Grid",lined:"Lined",looseLeaf:"Loose Leaf",notebook:"Notebook",transparent:"Transparent",white:"White",color:"Color",gradient:"Gradient",pattern:"Pattern",eyedropper:"Eyedropper","choose-blend":"Set Blending Mode","color-burn":"Color Burn","color-dodge":"Color Dodge",darken:"Darken",difference:"Difference",
disco:"Disco",erase:"Erase",exclusion:"Exclusion","hard-light":"Hard Light",lighten:"Lighten",multiply:"Multiply",normal:"Normal",overlay:"Overlay",screen:"Screen","soft-light":"Soft Light","source-atop":"Source Atop","destination-over":"Destination Over",cancel:"Cancel","continue":"Continue","delete-doc":"Delete",ok:"Ok","open-doc":"Open",quit:"Quit",download:"Download","download-format":"Download %s",save:"Save","save-format":"Save %s",dontSave:"Don&rsquo;t Save",autosave:"Autosave","keyboard-shortcuts":"Keyboard Shortcuts",
shortcuts:"Shortcuts","ask-question":"Ask Question","draw-with-friend":"Draw with a friend","report-bug":"Report Bug","request-feature":"Request Feature",connecting:"Connecting","decoding-format":"Decoding %s",downloading:"Downloading",loading:"Loading","loading-error":"Error loading","opening-format":"Opening %s","reading-files":"Reading files","reading-format":"Reading %s",rendering:"Rendering",syncing:"Syncing","choose-brush":"Choose Brush","choose-media":"Choose Media","choose-shape":"Choose Shape",
"choose-utility":"Choose Utility","choose-units":"Set units","%":"%",cm:"cm",inches:"inches",mm:"mm",pixels:"pixels","choose-fill":"Set Fill Style","choose-stroke":"Set Outline Style","choose-background":"Set Background Style",menu:"Document","menu-export":"Export","menu-create":"Create",helpdesk:"Help Desk",attachment:"Attachment","community-page":"Community",configure:"Configure","export":"Export",file:"File",layers:"Layers","my-docs":"My Files","new":"New",open:"Open",print:"Print","video-tutorials":"Video Tutorials",
"choose-preset-size":"Set preset size","sans serif":"Sans Serif",serif:"Serif",display:"Display",handwriting:"Handwriting",bold:"Bold",italic:"Italic","line-through":"Strikethrough",underline:"Underline",center:"Align Center",left:"Align Left",right:"Align Right",justify:"Justify",plants:"Plants",people:"People",animals:"Animals","water colors":"Water colors",typogrunge:"Typogrunge",tizzape:"Tizzape","simple smudges":"Simple Smudges",retro:"Retro",leafs:"Leafs",footprints:"Footprints",flowers:"Flowers",
doodles:"Doodles",butterflies:"Butterflies","aspect-ratio":"Aspect Ratio","choose-aspect-ratio":"Set Aspect Ratio","choose-constrain":"Constrain Proportions","hide-layer":"Hide layer","show-layer":"Show layer","convert-format":"Convert to %s","update-format":"Update %s",image:"Image",saving:"Saving",colorNoise:"Noise",colorMode:"Type",linear:"Linear Gradient",radial:"Radial Gradient",cycle:"Color Cycle",lineJoin:"Corner",lineCap:"Cap",round:"Round",bevel:"Bevel",miter:"Miter",enabled:"Enabled",disabled:"Disabled",
projects:"Files",paper:"Paper",quality:"Quality",fileFormat:"Format",sizeTo:"Size To",size:"Size",percent:"Percent",share:"Share",dpi:"DPI",settings:"Settings",tool:"Tool",width:"Width",height:"Height",x:"X",y:"Y","no-layers":"No layers added","no-history":"No history added","object-order":"Layer Order",document:"Document",library:"Library",utilities:"Utilities",brushes:"Brushes",shapes:"Shapes",highlighter:"Highlighter",polyarrow:"Arrow",polyline:"Line",polygon:"Polygon",scissor:"Scissor",path:"Path",
help:"Help",curved:"Curved",textbrush:"Textbrush",shader:"Shader",fitWithin:"Fit Within","72dpi":"72: Web","150dpi":"150: Draft Printing","300dpi":"300: High-Res Printing","upload-as-new":"Import&hellip;","place-into":"Place into&hellip;",upload:"Upload",resize:"Resize",dimensions:"Dimensions",apply:"Apply",create:"Create","set-background":"Change Background","rename-file":"Rename File","save-region":"Save Region","download-format-sketchpad":"The Sketchpad format allows you to reload your layers and vectors."}},
l.locale)})(sketch);
(function(m,l){"function"===typeof define&&define.amd?define(l):"object"===typeof exports?module.exports=l():m.returnExports=l()})(this,function(){var m=Function.call.bind(Function.apply),l=Function.call.bind(Function.call),k=Array.isArray,t=function(a){try{return a(),!1}catch(b){return!0}},f=function(a){try{return a()}catch(b){return!1}},e=function(a){return function(){return!m(a,this,arguments)}}(t),u=function(){return!t(function(){Object.defineProperty({},"x",{get:function(){}})})},d=!!Object.defineProperty&&
u(),c="foo"===function(){}.name,a=Function.call.bind(Array.prototype.forEach),b=Function.call.bind(Array.prototype.reduce),h=Function.call.bind(Array.prototype.filter),p=Function.call.bind(Array.prototype.some),r=function(a,b,g,c){!c&&b in a||(d?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:g}):a[b]=g)},g=function(b,g,c){a(Object.keys(g),function(a){r(b,a,g[a],!!c)})},q=Function.call.bind(Object.prototype.toString),w=function(a){return"function"===typeof a&&"[object Function]"===
q(a)},z={getter:function(a,b,g){if(!d)throw new TypeError("getters require true ES5 support");Object.defineProperty(a,b,{configurable:!0,enumerable:!1,get:g})},proxy:function(a,b,g){if(!d)throw new TypeError("getters require true ES5 support");var c=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(g,b,{configurable:c.configurable,enumerable:c.enumerable,get:function(){return a[b]},set:function(g){a[b]=g}})},redefine:function(a,b,g){if(d){var c=Object.getOwnPropertyDescriptor(a,b);c.value=
g;Object.defineProperty(a,b,c)}else a[b]=g},defineByDescriptor:function(a,b,g){d?Object.defineProperty(a,b,g):"value"in g&&(a[b]=g.value)},preserveToString:function(a,b){b&&w(b.toString)&&r(a,"toString",b.toString.bind(b),!0)}},y=Object.create||function(a,b){var g=function(){};g.prototype=a;var c=new g;"undefined"!==typeof b&&Object.keys(b).forEach(function(a){z.defineByDescriptor(c,a,b[a])});return c},v=function(a,b){return Object.setPrototypeOf?f(function(){var g=function gb(b){b=new a(b);Object.setPrototypeOf(b,
gb.prototype);return b};Object.setPrototypeOf(g,a);g.prototype=y(a.prototype,{constructor:{value:g}});return b(g)}):!1},x=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw Error("unable to locate global object");}(),L=x.isFinite,E=Function.call.bind(String.prototype.indexOf),A=Function.call.bind(Array.prototype.concat),D=Function.call.bind(String.prototype.slice),B=Function.call.bind(Array.prototype.push),
C=Function.apply.bind(Array.prototype.push),H=Function.call.bind(Array.prototype.shift),G=Math.max,F=Math.min,N=Math.floor,K=Math.abs,J=Math.log,S=Math.sqrt,P=Function.call.bind(Object.prototype.hasOwnProperty),T,U=function(){},I=x.Symbol||{},X=I.species||"@@species",W=Number.isNaN||function(a){return a!==a},Y=Number.isFinite||function(a){return"number"===typeof a&&L(a)},O=function(a){return"[object Arguments]"===q(a)},V=function(a){return null!==a&&"object"===typeof a&&"number"===typeof a.length&&
0<=a.length&&"[object Array]"!==q(a)&&"[object Function]"===q(a.callee)},Q=O(arguments)?O:V,Z={primitive:function(a){return null===a||"function"!==typeof a&&"object"!==typeof a},object:function(a){return null!==a&&"object"===typeof a},string:function(a){return"[object String]"===q(a)},regex:function(a){return"[object RegExp]"===q(a)},symbol:function(a){return"function"===typeof x.Symbol&&"symbol"===typeof a}},R=function(a,b,g){var c=a[b];r(a,b,g,!0);z.preserveToString(a[b],c)},aa="function"===typeof I&&
"function"===typeof I["for"]&&Z.symbol(I()),ba=Z.symbol(I.iterator)?I.iterator:"_es6-shim iterator_";x.Set&&"function"===typeof(new x.Set)["@@iterator"]&&(ba="@@iterator");x.Reflect||r(x,"Reflect",{});var ia=x.Reflect,fa=String,M={Call:function(a,b){var g=2<arguments.length?arguments[2]:[];if(!M.IsCallable(a))throw new TypeError(a+" is not a function");return m(a,b,g)},RequireObjectCoercible:function(a,b){if(null==a)throw new TypeError(b||"Cannot call method on "+a);return a},TypeIsObject:function(a){return null!=
a&&Object(a)===a},ToObject:function(a,b){return Object(M.RequireObjectCoercible(a,b))},IsCallable:w,IsConstructor:function(a){return M.IsCallable(a)},ToInt32:function(a){return M.ToNumber(a)>>0},ToUint32:function(a){return M.ToNumber(a)>>>0},ToNumber:function(a){if("[object Symbol]"===q(a))throw new TypeError("Cannot convert a Symbol value to a number");return+a},ToInteger:function(a){a=M.ToNumber(a);return W(a)?0:0!==a&&Y(a)?(0<a?1:-1)*N(K(a)):a},ToLength:function(a){a=M.ToInteger(a);return 0>=a?
0:a>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a},SameValue:function(a,b){return a===b?0===a?1/a===1/b:!0:W(a)&&W(b)},SameValueZero:function(a,b){return a===b||W(a)&&W(b)},IsIterable:function(a){return M.TypeIsObject(a)&&("undefined"!==typeof a[ba]||Q(a))},GetIterator:function(a){if(Q(a))return new T(a,"value");var b=M.GetMethod(a,ba);if(!M.IsCallable(b))throw new TypeError("value is not an iterable");a=M.Call(b,a);if(!M.TypeIsObject(a))throw new TypeError("bad iterator");return a},GetMethod:function(a,
b){var g=M.ToObject(a)[b];if(void 0!==g&&null!==g){if(!M.IsCallable(g))throw new TypeError("Method not callable: "+b);return g}},IteratorComplete:function(a){return!!a.done},IteratorClose:function(a,b){var g=M.GetMethod(a,"return");if(void 0!==g){var c,h;try{c=M.Call(g,a)}catch(q){h=q}if(!b){if(h)throw h;if(!M.TypeIsObject(c))throw new TypeError("Iterator's return method returned a non-object.");}}},IteratorNext:function(a){var b=1<arguments.length?a.next(arguments[1]):a.next();if(!M.TypeIsObject(b))throw new TypeError("bad iterator");
return b},IteratorStep:function(a){a=M.IteratorNext(a);return M.IteratorComplete(a)?!1:a},Construct:function(a,b,g,c){g="undefined"===typeof g?a:g;if(!c)return ia.construct(a,b,g);c=g.prototype;M.TypeIsObject(c)||(c=Object.prototype);c=y(c);a=M.Call(a,c,b);return M.TypeIsObject(a)?a:c},SpeciesConstructor:function(a,b){var g=a.constructor;if(void 0===g)return b;if(!M.TypeIsObject(g))throw new TypeError("Bad constructor");g=g[X];if(void 0===g||null===g)return b;if(!M.IsConstructor(g))throw new TypeError("Bad @@species");
return g},CreateHTML:function(a,b,g,c){a=M.ToString(a);var h="<"+b;""!==g&&(c=M.ToString(c).replace(/"/g,"&quot;"),h+=" "+g+'="'+c+'"');return h+">"+a+"</"+b+">"},IsRegExp:function(a){if(!M.TypeIsObject(a))return!1;var b=a[I.match];return"undefined"!==typeof b?!!b:Z.regex(a)},ToString:function(a){return fa(a)}};if(d&&aa){var da=function(a){if(Z.symbol(I[a]))return I[a];var b=I["for"]("Symbol."+a);Object.defineProperty(I,a,{configurable:!1,enumerable:!1,writable:!1,value:b});return b};if(!Z.symbol(I.search)){var ma=
da("search"),oa=String.prototype.search;r(RegExp.prototype,ma,function(a){return M.Call(oa,a,[M.ToString(this)])});R(String.prototype,"search",function(a){var b=M.RequireObjectCoercible(this);if(null!==a&&"undefined"!==typeof a){var g=M.GetMethod(a,ma);if("undefined"!==typeof g)return M.Call(g,a,[b])}return M.Call(oa,b,[M.ToString(a)])})}if(!Z.symbol(I.replace)){var na=da("replace"),ua=String.prototype.replace;r(RegExp.prototype,na,function(a,b){return M.Call(ua,a,[this,b])});R(String.prototype,"replace",
function(a,b){var g=M.RequireObjectCoercible(this);if(null!==a&&"undefined"!==typeof a){var c=M.GetMethod(a,na);if("undefined"!==typeof c)return M.Call(c,a,[g,b])}return M.Call(ua,g,[M.ToString(a),b])})}if(!Z.symbol(I.split)){var va=da("split"),za=String.prototype.split;r(RegExp.prototype,va,function(a,b){return M.Call(za,a,[this,b])});R(String.prototype,"split",function(a,b){var g=M.RequireObjectCoercible(this);if(null!==a&&"undefined"!==typeof a){var c=M.GetMethod(a,va);if("undefined"!==typeof c)return M.Call(c,
a,[g,b])}return M.Call(za,g,[M.ToString(a),b])})}var ha=Z.symbol(I.match),Ua=ha&&function(){var a={};a[I.match]=function(){return 42};return 42!=="a".match(a)}();if(!ha||Ua){var ra=da("match"),hb=String.prototype.match;r(RegExp.prototype,ra,function(a){return M.Call(hb,a,[this])});R(String.prototype,"match",function(a){var b=M.RequireObjectCoercible(this);if(null!==a&&"undefined"!==typeof a){var g=M.GetMethod(a,ra);if("undefined"!==typeof g)return M.Call(g,a,[b])}return M.Call(hb,b,[M.ToString(a)])})}}var ib=
function(b,g,c){z.preserveToString(g,b);Object.setPrototypeOf&&Object.setPrototypeOf(b,g);d?a(Object.getOwnPropertyNames(b),function(a){a in U||c[a]||z.proxy(b,a,g)}):a(Object.keys(b),function(a){a in U||c[a]||(g[a]=b[a])});g.prototype=b.prototype;z.redefine(b.prototype,"constructor",g)},tb=function(){return this},Qa=function(a){d&&!P(a,X)&&z.getter(a,X,tb)},Ka=function(a,b){var g=b||function(){return this};r(a,ba,g);!a[ba]&&Z.symbol(ba)&&(a[ba]=g)},Qb=function(a,b,g,c){if(!M.TypeIsObject(a))throw new TypeError("Constructor requires `new`: "+
b.name);a=b.prototype;M.TypeIsObject(a)||(a=g);g=y(a);for(var h in c)P(c,h)&&r(g,h,c[h],!0);return g};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var lc=String.fromCodePoint;R(String,"fromCodePoint",function(a){return M.Call(lc,this,arguments)})}var Rb={fromCodePoint:function(a){for(var b=[],g,c=0,h=arguments.length;c<h;c++){g=Number(arguments[c]);if(!M.SameValue(g,M.ToInteger(g))||0>g||1114111<g)throw new RangeError("Invalid code point "+g);65536>g?B(b,String.fromCharCode(g)):(g-=65536,
B(b,String.fromCharCode((g>>10)+55296)),B(b,String.fromCharCode(g%1024+56320)))}return b.join("")},raw:function(a){var b=M.ToObject(a,"bad callSite"),b=M.ToObject(b.raw,"bad raw value"),g=M.ToLength(b.length);if(0>=g)return"";for(var c=[],h=0,q;h<g;){q=M.ToString(h);q=M.ToString(b[q]);B(c,q);if(h+1>=g)break;q=h+1<arguments.length?arguments[h+1]:"";q=M.ToString(q);B(c,q);h+=1}return c.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&R(String,"raw",Rb.raw);g(String,Rb);var mc=
function Pb(a,b){if(1>b)return"";if(b%2)return Pb(a,b-1)+a;var g=Pb(a,b/2);return g+g},Ra={repeat:function(a){var b=M.ToString(M.RequireObjectCoercible(this));a=M.ToInteger(a);if(0>a||Infinity<=a)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return mc(b,a)},startsWith:function(a){var b=M.ToString(M.RequireObjectCoercible(this));if(M.IsRegExp(a))throw new TypeError('Cannot call method "startsWith" with a regex');var g=M.ToString(a),c=G(M.ToInteger(1<
arguments.length?arguments[1]:void 0),0);return D(b,c,c+g.length)===g},endsWith:function(a){var b=M.ToString(M.RequireObjectCoercible(this));if(M.IsRegExp(a))throw new TypeError('Cannot call method "endsWith" with a regex');var g=M.ToString(a),c=b.length,h=1<arguments.length?arguments[1]:void 0,h="undefined"===typeof h?c:M.ToInteger(h),c=F(G(h,0),c);return D(b,c-g.length,c)===g},includes:function(a){if(M.IsRegExp(a))throw new TypeError('"includes" does not accept a RegExp');var b=M.ToString(a),g;
1<arguments.length&&(g=arguments[1]);return-1!==E(this,b,g)},codePointAt:function(a){var b=M.ToString(M.RequireObjectCoercible(this)),g=M.ToInteger(a),c=b.length;if(0<=g&&g<c){a=b.charCodeAt(g);if(55296>a||56319<a||g+1===c)return a;b=b.charCodeAt(g+1);return 56320>b||57343<b?a:1024*(a-55296)+(b-56320)+65536}}};String.prototype.includes&&!1!=="a".includes("a",Infinity)&&R(String.prototype,"includes",Ra.includes);if(String.prototype.startsWith&&String.prototype.endsWith){var ub=t(function(){"/a/".startsWith(/a/)}),
vb=!1==="abc".startsWith("a",Infinity);ub&&vb||(R(String.prototype,"startsWith",Ra.startsWith),R(String.prototype,"endsWith",Ra.endsWith))}aa&&(f(function(){var a=/a/;a[I.match]=!1;return"/a/".startsWith(a)})||R(String.prototype,"startsWith",Ra.startsWith),f(function(){var a=/a/;a[I.match]=!1;return"/a/".endsWith(a)})||R(String.prototype,"endsWith",Ra.endsWith),f(function(){var a=/a/;a[I.match]=!1;return"/a/".includes(a)})||R(String.prototype,"includes",Ra.includes));g(String.prototype,Ra);var Sa=
/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g,jb=function(){return M.ToString(M.RequireObjectCoercible(this)).replace(Sa,"")},lb=/[\u0085\u200b\ufffe]/g,wb=/^[\-+]0x[0-9a-f]+$/i,qa=3!=="\u0085\u200b\ufffe".trim().length;r(String.prototype,"trim",jb,qa);var Ba=function(a){M.RequireObjectCoercible(a);
this._s=M.ToString(a);this._i=0};Ba.prototype.next=function(){var a=this._s,b=this._i;if("undefined"===typeof a||b>=a.length)return this._s=void 0,{value:void 0,done:!0};var g=a.charCodeAt(b);55296>g||56319<g||b+1===a.length?g=1:(g=a.charCodeAt(b+1),g=56320>g||57343<g?1:2);this._i=b+g;return{value:a.substr(b,g),done:!1}};Ka(Ba.prototype);Ka(String.prototype,function(){return new Ba(this)});var La={from:function(a){var b=1<arguments.length?arguments[1]:void 0,g,c;if(void 0===b)g=!1;else{if(!M.IsCallable(b))throw new TypeError("Array.from: when provided, the second argument must be a function");
c=2<arguments.length?arguments[2]:void 0;g=!0}var h,q,p;if("undefined"!==typeof(Q(a)||M.GetMethod(a,ba))){q=M.IsConstructor(this)?Object(new this):[];h=M.GetIterator(a);var w;for(p=0;;){w=M.IteratorStep(h);if(!1===w)break;w=w.value;try{g&&(w=void 0===c?b(w,p):l(b,c,w,p)),q[p]=w}catch(r){throw M.IteratorClose(h,!0),r;}p+=1}h=p}else{w=M.ToObject(a);h=M.ToLength(w.length);q=M.IsConstructor(this)?Object(new this(h)):Array(h);var d;for(p=0;p<h;++p)d=w[p],g&&(d=void 0!==c?l(b,c,d,p):b(d,p)),q[p]=d}q.length=
h;return q},of:function(){for(var a=arguments.length,b=k(this)||!M.IsCallable(this)?Array(a):M.Construct(this,[a]),g=0;g<a;++g){var c=b,h=g,q=arguments[g],p=c,w=h,r=q;d?Object.defineProperty(p,w,{configurable:!0,enumerable:!0,writable:!0,value:r}):p[w]=r;if(!M.SameValue(c[h],q))throw new TypeError("property is nonconfigurable");}b.length=a;return b}};g(Array,La);Qa(Array);var wa=function(a){return{value:a,done:0===arguments.length}};T=function(a,b){this.i=0;this.array=a;this.kind=b};g(T.prototype,
{next:function(){var a=this.i,b=this.array;if(!(this instanceof T))throw new TypeError("Not an ArrayIterator");if("undefined"!==typeof b)for(var g=M.ToLength(b.length);a<g;){var g=this.kind,c;"key"===g?c=a:"value"===g?c=b[a]:"entry"===g&&(c=[a,b[a]]);this.i=a+1;return{value:c,done:!1}}this.array=void 0;return{value:void 0,done:!0}}});Ka(T.prototype);var ka=function(a,b){var c=[],h;for(h in a)B(c,h);g(this,{object:a,array:c,kind:b})};g(ka.prototype,{next:function(){var a,b=this.array;if(!(this instanceof
ka))throw new TypeError("Not an ObjectIterator");for(;0<b.length;)if(a=H(b),a in this.object)return"key"===this.kind?wa(a):"value"===this.kind?wa(this.object[a]):wa([a,this.object[a]]);return wa()}});Ka(ka.prototype);Array.of===La.of||function(){var a=function(a){this.length=a};a.prototype=[];var b=Array.of.apply(a,[1,2]);return b instanceof a&&2===b.length}()||R(Array,"of",La.of);var Ma={copyWithin:function(a,b,g){var c=g;g=M.ToObject(this);var h=M.ToLength(g.length);a=M.ToInteger(a);var q=M.ToInteger(b);
b=0>a?G(h+a,0):F(a,h);a=0>q?G(h+q,0):F(q,h);c="undefined"===typeof c?h:M.ToInteger(c);c=0>c?G(h+c,0):F(c,h);h=F(c-a,h-b);c=1;a<b&&b<a+h&&(c=-1,a+=h-1,b+=h-1);for(;0<h;)P(g,a)?g[b]=g[a]:delete g[a],a+=c,b+=c,--h;return g},fill:function(a){for(var b=1<arguments.length?arguments[1]:void 0,g=2<arguments.length?arguments[2]:void 0,c=M.ToObject(this),h=M.ToLength(c.length),b=M.ToInteger("undefined"===typeof b?0:b),g=M.ToInteger("undefined"===typeof g?h:g),b=0>b?G(h+b,0):F(b,h),g=0>g?h+g:g;b<h&&b<g;++b)c[b]=
a;return c},find:function(a){var b=M.ToObject(this),g=M.ToLength(b.length);if(!M.IsCallable(a))throw new TypeError("Array#find: predicate must be a function");for(var c=1<arguments.length?arguments[1]:null,h=0,q;h<g;h++)if(q=b[h],c){if(l(a,c,q,h,b))return q}else if(a(q,h,b))return q},findIndex:function(a){var b=M.ToObject(this),g=M.ToLength(b.length);if(!M.IsCallable(a))throw new TypeError("Array#findIndex: predicate must be a function");for(var c=1<arguments.length?arguments[1]:null,h=0;h<g;h++)if(c){if(l(a,
c,b[h],h,b))return h}else if(a(b[h],h,b))return h;return-1},keys:function(){return new T(this,"key")},values:function(){return new T(this,"value")},entries:function(){return new T(this,"entry")}};Array.prototype.keys&&!M.IsCallable([1].keys().next)&&delete Array.prototype.keys;Array.prototype.entries&&!M.IsCallable([1].entries().next)&&delete Array.prototype.entries;Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ba]&&(g(Array.prototype,{values:Array.prototype[ba]}),
Z.symbol(I.unscopables)&&(Array.prototype[I.unscopables].values=!0));if(c&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Ea=Array.prototype.values;R(Array.prototype,"values",function(){return M.Call(Ea,this,arguments)});r(Array.prototype,ba,Array.prototype.values,!0)}g(Array.prototype,Ma);Ka(Array.prototype,function(){return this.values()});Object.getPrototypeOf&&Ka(Object.getPrototypeOf([].values()));var ca=function(){return f(function(){return 0===Array.from({length:-1}).length})}(),
xb=function(){var a=Array.from([0].entries());return 1===a.length&&k(a[0])&&0===a[0][0]&&0===a[0][1]}();ca&&xb||R(Array,"from",La.from);if(!function(){return f(function(){return Array.from([0],void 0)})}()){var Fa=Array.from;R(Array,"from",function(a){return 0<arguments.length&&"undefined"!==typeof arguments[1]?M.Call(Fa,this,arguments):l(Fa,this,a)})}var pa=function(a,b){var g={length:-1};g[b?4294967294:0]=!0;return f(function(){l(a,g,function(){throw new RangeError("should not reach here");},[])})};
if(!pa(Array.prototype.forEach)){var la=Array.prototype.forEach;R(Array.prototype,"forEach",function(a){return M.Call(la,0<=this.length?this:[],arguments)},!0)}if(!pa(Array.prototype.map)){var Wa=Array.prototype.map;R(Array.prototype,"map",function(a){return M.Call(Wa,0<=this.length?this:[],arguments)},!0)}if(!pa(Array.prototype.filter)){var mb=Array.prototype.filter;R(Array.prototype,"filter",function(a){return M.Call(mb,0<=this.length?this:[],arguments)},!0)}if(!pa(Array.prototype.some)){var Na=
Array.prototype.some;R(Array.prototype,"some",function(a){return M.Call(Na,0<=this.length?this:[],arguments)},!0)}if(!pa(Array.prototype.every)){var Oa=Array.prototype.every;R(Array.prototype,"every",function(a){return M.Call(Oa,0<=this.length?this:[],arguments)},!0)}if(!pa(Array.prototype.reduce)){var Ga=Array.prototype.reduce;R(Array.prototype,"reduce",function(a){return M.Call(Ga,0<=this.length?this:[],arguments)},!0)}if(!pa(Array.prototype.reduceRight,!0)){var sa=Array.prototype.reduceRight;R(Array.prototype,
"reduceRight",function(a){return M.Call(sa,0<=this.length?this:[],arguments)},!0)}var yb=8!==Number("0o10"),Xa=2!==Number("0b10"),ea=p("\u0085\u200b\ufffe",function(a){return 0===Number(a+0+a)});if(yb||Xa||ea){var Pa=Number,ja=/^0b[01]+$/i,Ca=/^0o[0-7]+$/i,nb=ja.test.bind(ja),kb=Ca.test.bind(Ca),xa=function(a){var b;if("function"===typeof a.valueOf&&(b=a.valueOf(),Z.primitive(b))||"function"===typeof a.toString&&(b=a.toString(),Z.primitive(b)))return b;throw new TypeError("No default value");},ab=
lb.test.bind(lb),ob=wb.test.bind(wb),bb=function(){var a=function(b){var g;g=0<arguments.length?Z.primitive(b)?b:xa(b,"number"):0;if("string"===typeof g)if(g=M.Call(jb,g),nb(g))g=parseInt(D(g,2),2);else if(kb(g))g=parseInt(D(g,2),8);else if(ab(g)||ob(g))g=NaN;var c=this,h=f(function(){Pa.prototype.valueOf.call(c);return!0});return c instanceof a&&!h?new Pa(g):Pa(g)};return a}();ib(Pa,bb,{});Number=bb;z.redefine(x,"Number",bb)}var Ha=Math.pow(2,53)-1;g(Number,{MAX_SAFE_INTEGER:Ha,MIN_SAFE_INTEGER:-Ha,
EPSILON:2.220446049250313E-16,parseInt:x.parseInt,parseFloat:x.parseFloat,isFinite:Y,isInteger:function(a){return Y(a)&&M.ToInteger(a)===a},isSafeInteger:function(a){return Number.isInteger(a)&&K(a)<=Number.MAX_SAFE_INTEGER},isNaN:W});r(Number,"parseInt",x.parseInt,Number.parseInt!==x.parseInt);[,1].find(function(a,b){return 0===b})||R(Array.prototype,"find",Ma.find);0!==[,1].findIndex(function(a,b){return 0===b})&&R(Array.prototype,"findIndex",Ma.findIndex);var Ta=Function.bind.call(Function.bind,
Object.prototype.propertyIsEnumerable),ya=function(){for(var a=Number(this),b=arguments.length,g=b-a,g=Array(0>g?0:g),c=a;c<b;++c)g[c-a]=arguments[c];return g},ga=function(a){return function(b,g){b[g]=a[g];return b}},cb=function(a,g){var c=Object.keys(Object(g)),q;M.IsCallable(Object.getOwnPropertySymbols)&&(q=h(Object.getOwnPropertySymbols(Object(g)),Ta(g)));return b(A(c,q||[]),ga(g),a)},Ya={assign:function(a,g){var c=M.ToObject(a,"Cannot convert undefined or null to object");return b(M.Call(ya,
1,arguments),cb,c)},is:function(a,b){return M.SameValue(a,b)}};Object.assign&&Object.preventExtensions&&function(){var a=Object.preventExtensions({1:2});try{Object.assign(a,"xy")}catch(b){return"y"===a[1]}}()&&R(Object,"assign",Ya.assign);g(Object,Ya);if(d){var pb={setPrototypeOf:function(a,b){var g,c=function(a,b){if(!M.TypeIsObject(a))throw new TypeError("cannot set prototype on a non-object");if(null!==b&&!M.TypeIsObject(b))throw new TypeError("can only set prototype to an object or null"+b);l(g,
a,b);return a};try{g=a.getOwnPropertyDescriptor(a.prototype,b).set,l(g,{},null)}catch(h){if(a.prototype!=={}[b])return;g=function(a){this[b]=a};c.polyfill=c(c({},null),a.prototype)instanceof a}return c}(Object,"__proto__")};g(Object,pb)}Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var a=Object.create(null),b=Object.getPrototypeOf,g=Object.setPrototypeOf;Object.getPrototypeOf=
function(g){g=b(g);return g===a?null:g};Object.setPrototypeOf=function(b,c){return g(b,null===c?a:c)};Object.setPrototypeOf.polyfill=!1}();if(t(function(){Object.keys("foo")})){var qb=Object.keys;R(Object,"keys",function(a){return qb(M.ToObject(a))})}if(Object.getOwnPropertyNames&&t(function(){Object.getOwnPropertyNames("foo")})){var Za="object"===typeof window?Object.getOwnPropertyNames(window):[],Da=Object.getOwnPropertyNames;R(Object,"getOwnPropertyNames",function(a){a=M.ToObject(a);if("[object Window]"===
q(a))try{return Da(a)}catch(b){return A([],Za)}return Da(a)})}if(Object.getOwnPropertyDescriptor&&t(function(){Object.getOwnPropertyDescriptor("foo","bar")})){var db=Object.getOwnPropertyDescriptor;R(Object,"getOwnPropertyDescriptor",function(a,b){return db(M.ToObject(a),b)})}if(Object.seal&&t(function(){Object.seal("foo")})){var rb=Object.seal;R(Object,"seal",function(a){return Z.object(a)?rb(a):a})}if(Object.isSealed&&t(function(){Object.isSealed("foo")})){var eb=Object.isSealed;R(Object,"isSealed",
function(a){return Z.object(a)?eb(a):!0})}if(Object.freeze&&t(function(){Object.freeze("foo")})){var Aa=Object.freeze;R(Object,"freeze",function(a){return Z.object(a)?Aa(a):a})}if(Object.isFrozen&&t(function(){Object.isFrozen("foo")})){var ta=Object.isFrozen;R(Object,"isFrozen",function(a){return Z.object(a)?ta(a):!0})}if(Object.preventExtensions&&t(function(){Object.preventExtensions("foo")})){var nc=Object.preventExtensions;R(Object,"preventExtensions",function(a){return Z.object(a)?nc(a):a})}if(Object.isExtensible&&
t(function(){Object.isExtensible("foo")})){var oc=Object.isExtensible;R(Object,"isExtensible",function(a){return Z.object(a)?oc(a):!1})}if(Object.getPrototypeOf&&t(function(){Object.getPrototypeOf("foo")})){var pc=Object.getPrototypeOf;R(Object,"getPrototypeOf",function(a){return pc(M.ToObject(a))})}var qc=d&&function(){var a=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return a&&M.IsCallable(a.get)}();d&&!qc&&z.getter(RegExp.prototype,"flags",function(){if(!M.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");
var a="";this.global&&(a+="g");this.ignoreCase&&(a+="i");this.multiline&&(a+="m");this.unicode&&(a+="u");this.sticky&&(a+="y");return a});var rc=d&&f(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),sc=aa&&d&&function(){var a=/./;a[I.match]=!1;return RegExp(a)===a}();if(d&&(!rc||sc)){var tc=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Sb=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},uc=function(){return this.source},vc=M.IsCallable(Sb.get)?Sb.get:uc,Tb=RegExp,
Fb=function(){return function $a(a,b){var g=M.IsRegExp(a);if(!(this instanceof $a)&&g&&"undefined"===typeof b&&a.constructor===$a)return a;var g=a,c=b;return Z.regex(a)?(g=M.Call(vc,a),c="undefined"===typeof b?M.Call(tc,a):b,new $a(g,c)):new Tb(a,b)}}();ib(Tb,Fb,{$input:!0});RegExp=Fb;z.redefine(x,"RegExp",Fb)}if(d){var Gb={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};a(Object.keys(Gb),function(a){a in RegExp&&!(Gb[a]in RegExp)&&z.getter(RegExp,Gb[a],function(){return RegExp[a]})})}Qa(RegExp);
var zb=1/Number.EPSILON,Ab=Math.pow(2,-23),wc=Math.pow(2,127)*(2-Ab),Hb=Math.pow(2,-126),Ub=Number.prototype.clz;delete Number.prototype.clz;var Va={acosh:function(a){var b=Number(a);return Number.isNaN(b)||1>a?NaN:1===b?0:Infinity===b?b:J(b/Math.E+S(b+1)*S(b-1)/Math.E)+1},asinh:function(a){a=Number(a);return 0!==a&&L(a)?0>a?-Math.asinh(-a):J(a+S(a*a+1)):a},atanh:function(a){a=Number(a);return Number.isNaN(a)||-1>a||1<a?NaN:-1===a?-Infinity:1===a?Infinity:0===a?a:.5*J((1+a)/(1-a))},cbrt:function(a){a=
Number(a);if(0===a)return a;var b=0>a,g;b&&(a=-a);Infinity===a?g=Infinity:(g=Math.exp(J(a)/3),g=(a/(g*g)+2*g)/3);return b?-g:g},clz32:function(a){a=M.ToUint32(Number(a));return 0===a?32:Ub?M.Call(Ub,a):31-N(J(a+.5)*Math.LOG2E)},cosh:function(a){a=Number(a);if(0===a)return 1;if(Number.isNaN(a))return NaN;if(!L(a))return Infinity;0>a&&(a=-a);return 21<a?Math.exp(a)/2:(Math.exp(a)+Math.exp(-a))/2},expm1:function(a){a=Number(a);if(-Infinity===a)return-1;if(!L(a)||0===a)return a;if(.5<K(a))return Math.exp(a)-
1;for(var b=a,g=0,c=1;g+b!==g;)g+=b,c+=1,b*=a/c;return g},hypot:function(a,b){for(var g=0,c=0,h=0;h<arguments.length;++h){var q=K(Number(arguments[h]));c<q?(g*=c/q*(c/q),g+=1,c=q):g+=0<q?q/c*(q/c):q}return Infinity===c?Infinity:c*S(g)},log2:function(a){return J(a)*Math.LOG2E},log10:function(a){return J(a)*Math.LOG10E},log1p:function(a){a=Number(a);return-1>a||Number.isNaN(a)?NaN:0===a||Infinity===a?a:-1===a?-Infinity:0===1+a-1?a:a*(J(1+a)/(1+a-1))},sign:function(a){a=Number(a);return 0===a||Number.isNaN(a)?
a:0>a?-1:1},sinh:function(a){a=Number(a);return L(a)&&0!==a?1>K(a)?(Math.expm1(a)-Math.expm1(-a))/2:(Math.exp(a-1)-Math.exp(-a-1))*Math.E/2:a},tanh:function(a){a=Number(a);if(Number.isNaN(a)||0===a)return a;if(Infinity===a)return 1;if(-Infinity===a)return-1;var b=Math.expm1(a),g=Math.expm1(-a);return Infinity===b?1:Infinity===g?-1:(b-g)/(Math.exp(a)+Math.exp(-a))},trunc:function(a){a=Number(a);return 0>a?-N(-a):N(a)},imul:function(a,b){var g=M.ToUint32(a),c=M.ToUint32(b),h=g&65535,q=c&65535;return h*
q+((g>>>16&65535)*q+h*(c>>>16&65535)<<16>>>0)|0},fround:function(a){var b=Number(a);if(0===b||Infinity===b||-Infinity===b||W(b))return b;a=Math.sign(b);b=K(b);if(b<Hb)return a*(b/Hb/Ab+zb-zb)*Hb*Ab;var g=(1+Ab/Number.EPSILON)*b,b=g-(g-b);return b>wc||W(b)?Infinity*a:a*b}};g(Math,Va);r(Math,"log1p",Va.log1p,-1E-17!==Math.log1p(-1E-17));r(Math,"asinh",Va.asinh,Math.asinh(-1E7)!==-Math.asinh(1E7));r(Math,"tanh",Va.tanh,-2E-17!==Math.tanh(-2E-17));r(Math,"acosh",Va.acosh,Infinity===Math.acosh(Number.MAX_VALUE));
r(Math,"cbrt",Va.cbrt,8<Math.abs(1-Math.cbrt(1E-300)/1E-100)/Number.EPSILON);r(Math,"sinh",Va.sinh,-2E-17!==Math.sinh(-2E-17));var Vb=Math.expm1(10);r(Math,"expm1",Va.expm1,22025.465794806718<Vb||22025.465794806718>Vb);var xc=Math.round,yc=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),zc=[zb+1,2*zb-1].every(function(a){return Math.round(a)===a});r(Math,"round",function(a){var b=N(a);return.5>a-b?b:-1===b?-0:b+1},!yc||!zc);z.preserveToString(Math.round,xc);var Wb=Math.imul;
-5!==Math.imul(4294967295,5)&&(Math.imul=Va.imul,z.preserveToString(Math.imul,Wb));2!==Math.imul.length&&R(Math,"imul",function(a,b){return M.Call(Wb,Math,arguments)});var Xb=function(a){var g=Object.keys(b(a,function(a,b){a[b]=!0;return a},{}));return a.join(":")===g.join(":")},Ac=Xb(["z","a","bb"]),Bc=Xb(["z",1,"a","3",2]);if(d){var fb=function(a){if(!Ac)return null;var b=typeof a;return"undefined"===b||null===a?"^"+M.ToString(a):"string"===b?"$"+a:"number"===b?Bc?a:"n"+a:"boolean"===b?"b"+a:null},
Bb=function(){return Object.create?Object.create(null):{}},Ib=function(b,g,c){if(k(c)||Z.string(c))a(c,function(a){if(!M.TypeIsObject(a))throw new TypeError("Iterator value "+a+" is not an entry object");g.set(a[0],a[1])});else if(c instanceof b)l(b.prototype.forEach,c,function(a,b){g.set(b,a)});else{var h,q;if(null!==c&&"undefined"!==typeof c){q=g.set;if(!M.IsCallable(q))throw new TypeError("bad map");h=M.GetIterator(c)}if("undefined"!==typeof h)for(;;){b=M.IteratorStep(h);if(!1===b)break;b=b.value;
try{if(!M.TypeIsObject(b))throw new TypeError("Iterator value "+b+" is not an entry object");l(q,g,b[0],b[1])}catch(p){throw M.IteratorClose(h,!0),p;}}}},Yb=function(b,g,c){if(k(c)||Z.string(c))a(c,function(a){g.add(a)});else if(c instanceof b)l(b.prototype.forEach,c,function(a){g.add(a)});else{var h,q;if(null!==c&&"undefined"!==typeof c){q=g.add;if(!M.IsCallable(q))throw new TypeError("bad set");h=M.GetIterator(c)}if("undefined"!==typeof h)for(;;){b=M.IteratorStep(h);if(!1===b)break;b=b.value;try{l(q,
g,b)}catch(p){throw M.IteratorClose(h,!0),p;}}}},Cb={Map:function(){var a={},b=function(a,b){this.key=a;this.value=b;this.prev=this.next=null};b.prototype.isRemoved=function(){return this.key===a};var c=function(a,b){if(!M.TypeIsObject(a)||!a._es6map)throw new TypeError("Method Map.prototype."+b+" called on incompatible receiver "+M.ToString(a));},h=function(a,b){c(a,"[[MapIterator]]");this.i=this.head=a._head;this.kind=b};h.prototype={next:function(){var a=this.i,b=this.kind,g=this.head;if("undefined"===
typeof this.i)return{value:void 0,done:!0};for(;a.isRemoved()&&a!==g;)a=a.prev;for(;a.next!==g;)if(a=a.next,!a.isRemoved())return b="key"===b?a.key:"value"===b?a.value:[a.key,a.value],this.i=a,{value:b,done:!1};this.i=void 0;return{value:void 0,done:!0}}};Ka(h.prototype);var q,p=function Eb(){if(!(this instanceof Eb))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var a=Qb(this,Eb,q,{_es6map:!0,_head:null,_storage:Bb(),_size:0}),
g=new b(null,null);g.next=g.prev=g;a._head=g;0<arguments.length&&Ib(Eb,a,arguments[0]);return a};q=p.prototype;z.getter(q,"size",function(){if("undefined"===typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size});g(q,{get:function(a){c(this,"get");var b=fb(a);if(null!==b){if(a=this._storage[b])return a.value}else for(var g=b=this._head;(g=g.next)!==b;)if(M.SameValueZero(g.key,a))return g.value},has:function(a){c(this,"has");var b=fb(a);if(null!==b)return"undefined"!==
typeof this._storage[b];for(var g=b=this._head;(g=g.next)!==b;)if(M.SameValueZero(g.key,a))return!0;return!1},set:function(a,g){c(this,"set");var h=this._head,q=h,p,w=fb(a);if(null!==w){if("undefined"!==typeof this._storage[w])return this._storage[w].value=g,this;p=this._storage[w]=new b(a,g);q=h.prev}for(;(q=q.next)!==h;)if(M.SameValueZero(q.key,a))return q.value=g,this;p=p||new b(a,g);M.SameValue(-0,a)&&(p.key=0);p.next=this._head;p.prev=this._head.prev;p.prev.next=p;p.next.prev=p;this._size+=1;
return this},"delete":function(b){c(this,"delete");var g=this._head,h=g,q=fb(b);if(null!==q){if("undefined"===typeof this._storage[q])return!1;h=this._storage[q].prev;delete this._storage[q]}for(;(h=h.next)!==g;)if(M.SameValueZero(h.key,b))return h.key=h.value=a,h.prev.next=h.next,h.next.prev=h.prev,--this._size,!0;return!1},clear:function(){c(this,"clear");this._size=0;this._storage=Bb();for(var b=this._head,g,h=b.next;(g=h)!==b;)g.key=g.value=a,h=g.next,g.next=g.prev=b;b.next=b.prev=b},keys:function(){c(this,
"keys");return new h(this,"key")},values:function(){c(this,"values");return new h(this,"value")},entries:function(){c(this,"entries");return new h(this,"key+value")},forEach:function(a){c(this,"forEach");for(var b=1<arguments.length?arguments[1]:null,g=this.entries(),h=g.next();!h.done;h=g.next())b?l(a,b,h.value[1],h.value[0],this):a(h.value[1],h.value[0],this)}});Ka(q,q.entries);return p}(),Set:function(){var b=function(a,b){if(!M.TypeIsObject(a)||!a._es6set||"undefined"===typeof a._storage)throw new TypeError("Set.prototype."+
b+" called on incompatible receiver "+M.ToString(a));},c,h=function Db(){if(!(this instanceof Db))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var a=Qb(this,Db,c,{_es6set:!0,"[[SetData]]":null,_storage:Bb()});if(!a._es6set)throw new TypeError("bad set");0<arguments.length&&Yb(Db,a,arguments[0]);return a};c=h.prototype;var q=function(b){if(!b["[[SetData]]"]){var g=b["[[SetData]]"]=new Cb.Map;a(Object.keys(b._storage),function(a){if("^null"===
a)a=null;else if("^undefined"===a)a=void 0;else{var b=a.charAt(0);a="$"===b?D(a,1):"n"===b?+D(a,1):"b"===b?"btrue"===a:+a}g.set(a,a)});b._storage=null}};z.getter(h.prototype,"size",function(){b(this,"size");q(this);return this["[[SetData]]"].size});g(h.prototype,{has:function(a){b(this,"has");var g;if(this._storage&&null!==(g=fb(a)))return!!this._storage[g];q(this);return this["[[SetData]]"].has(a)},add:function(a){b(this,"add");var g;if(this._storage&&null!==(g=fb(a)))return this._storage[g]=!0,
this;q(this);this["[[SetData]]"].set(a,a);return this},"delete":function(a){b(this,"delete");var g;if(this._storage&&null!==(g=fb(a)))return a=P(this._storage,g),delete this._storage[g]&&a;q(this);return this["[[SetData]]"]["delete"](a)},clear:function(){b(this,"clear");this._storage?this._storage=Bb():this["[[SetData]]"].clear()},values:function(){b(this,"values");q(this);return this["[[SetData]]"].values()},entries:function(){b(this,"entries");q(this);return this["[[SetData]]"].entries()},forEach:function(a){b(this,
"forEach");var g=1<arguments.length?arguments[1]:null,c=this;q(c);this["[[SetData]]"].forEach(function(b,h){g?l(a,g,h,h,c):a(h,h,c)})}});r(h.prototype,"keys",h.prototype.values,!0);Ka(h.prototype,h.prototype.values);return h}()};if(x.Map||x.Set){if(!f(function(){return 2===(new Map([[1,2]])).get(1)})){var Jb=x.Map;x.Map=function $a(){if(!(this instanceof $a))throw new TypeError('Constructor Map requires "new"');var a=new Jb;0<arguments.length&&Ib($a,a,arguments[0]);Object.setPrototypeOf(a,x.Map.prototype);
r(a,"constructor",$a,!0);return a};x.Map.prototype=y(Jb.prototype);z.preserveToString(x.Map,Jb)}var Zb=new Map,$b=function(){var a=new Map([[1,0],[2,0],[3,0],[4,0]]);a.set(-0,a);return a.get(0)===a&&a.get(-0)===a&&a.has(0)&&a.has(-0)}(),Cc=Zb.set(1,2)===Zb;if(!$b||!Cc){var Dc=Map.prototype.set;R(Map.prototype,"set",function(a,b){l(Dc,this,0===a?0:a,b);return this})}if(!$b){var ac=Map.prototype.get,bc=Map.prototype.has;g(Map.prototype,{get:function(a){return l(ac,this,0===a?0:a)},has:function(a){return l(bc,
this,0===a?0:a)}},!0);z.preserveToString(Map.prototype.get,ac);z.preserveToString(Map.prototype.has,bc)}var Kb=new Set,cc=function(a){a["delete"](0);a.add(-0);return!a.has(0)}(Kb),Ec=Kb.add(1)===Kb;if(!cc||!Ec){var dc=Set.prototype.add;Set.prototype.add=function(a){l(dc,this,0===a?0:a);return this};z.preserveToString(Set.prototype.add,dc)}if(!cc){var ec=Set.prototype.has;Set.prototype.has=function(a){return l(ec,this,0===a?0:a)};z.preserveToString(Set.prototype.has,ec);var fc=Set.prototype["delete"];
Set.prototype["delete"]=function(a){return l(fc,this,0===a?0:a)};z.preserveToString(Set.prototype["delete"],fc)}var gc=v(x.Map,function(a){var b=new a([]);b.set(42,42);return b instanceof a}),Fc=Object.setPrototypeOf&&!gc,Lb;try{Lb=!(x.Map()instanceof x.Map)}catch(Gc){Lb=Gc instanceof TypeError}if(0!==x.Map.length||Fc||!Lb){var Mb=x.Map;x.Map=function sb(){if(!(this instanceof sb))throw new TypeError('Constructor Map requires "new"');var a=new Mb;0<arguments.length&&Ib(sb,a,arguments[0]);Object.setPrototypeOf(a,
sb.prototype);r(a,"constructor",sb,!0);return a};x.Map.prototype=Mb.prototype;z.preserveToString(x.Map,Mb)}var Hc=v(x.Set,function(a){var b=new a([]);b.add(42,42);return b instanceof a}),Ic=Object.setPrototypeOf&&!Hc,Nb;try{Nb=!(x.Set()instanceof x.Set)}catch(Jc){Nb=Jc instanceof TypeError}if(0!==x.Set.length||Ic||!Nb){var Ob=x.Set;x.Set=function gb(){if(!(this instanceof gb))throw new TypeError('Constructor Set requires "new"');var a=new Ob;0<arguments.length&&Yb(gb,a,arguments[0]);Object.setPrototypeOf(a,
gb.prototype);r(a,"constructor",gb,!0);return a};x.Set.prototype=Ob.prototype;z.preserveToString(x.Set,Ob)}var Kc=!f(function(){return(new Map).keys().next().done});("function"!==typeof x.Map.prototype.clear||0!==(new x.Set).size||0!==(new x.Map).size||"function"!==typeof x.Map.prototype.keys||"function"!==typeof x.Set.prototype.keys||"function"!==typeof x.Map.prototype.forEach||"function"!==typeof x.Set.prototype.forEach||e(x.Map)||e(x.Set)||"function"!==typeof(new x.Map).keys().next||Kc||!gc)&&
g(x,{Map:Cb.Map,Set:Cb.Set},!0);x.Set.prototype.keys!==x.Set.prototype.values&&r(x.Set.prototype,"keys",x.Set.prototype.values,!0);Ka(Object.getPrototypeOf((new x.Map).keys()));Ka(Object.getPrototypeOf((new x.Set).keys()));if(c&&"has"!==x.Set.prototype.has.name){var Lc=x.Set.prototype.has;R(x.Set.prototype,"has",function(a){return l(Lc,this,a)})}}g(x,Cb);Qa(x.Map);Qa(x.Set)}var Ia=function(a){if(!M.TypeIsObject(a))throw new TypeError("target must be an object");},Ja={apply:function(){return M.Call(M.Call,
null,arguments)},construct:function(a,b){if(!M.IsConstructor(a))throw new TypeError("First argument must be a constructor.");var g=3>arguments.length?a:arguments[2];if(!M.IsConstructor(g))throw new TypeError("new.target must be a constructor.");return M.Construct(a,b,g,"internal")},deleteProperty:function(a,b){Ia(a);if(d){var g=Object.getOwnPropertyDescriptor(a,b);if(g&&!g.configurable)return!1}return delete a[b]},enumerate:function(a){Ia(a);return new ka(a,"key")},has:function(a,b){Ia(a);return b in
a}};Object.getOwnPropertyNames&&Object.assign(Ja,{ownKeys:function(a){Ia(a);var b=Object.getOwnPropertyNames(a);M.IsCallable(Object.getOwnPropertySymbols)&&C(b,Object.getOwnPropertySymbols(a));return b}});var hc=function(a){return!t(a)};Object.preventExtensions&&Object.assign(Ja,{isExtensible:function(a){Ia(a);return Object.isExtensible(a)},preventExtensions:function(a){Ia(a);return hc(function(){Object.preventExtensions(a)})}});if(d){var ic=function(a,b,g){var c=Object.getOwnPropertyDescriptor(a,
b);if(!c)return a=Object.getPrototypeOf(a),null===a?void 0:ic(a,b,g);if("value"in c)return c.value;if(c.get)return M.Call(c.get,g)},jc=function(a,b,g,c){var h=Object.getOwnPropertyDescriptor(a,b);if(!h){a=Object.getPrototypeOf(a);if(null!==a)return jc(a,b,g,c);h={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in h?h.writable&&M.TypeIsObject(c)?Object.getOwnPropertyDescriptor(c,b)?ia.defineProperty(c,b,{value:g}):ia.defineProperty(c,b,{value:g,writable:!0,enumerable:!0,configurable:!0}):
!1:h.set?(l(h.set,c,g),!0):!1};Object.assign(Ja,{defineProperty:function(a,b,g){Ia(a);return hc(function(){Object.defineProperty(a,b,g)})},getOwnPropertyDescriptor:function(a,b){Ia(a);return Object.getOwnPropertyDescriptor(a,b)},get:function(a,b){Ia(a);return ic(a,b,2<arguments.length?arguments[2]:a)},set:function(a,b,g){Ia(a);return jc(a,b,g,3<arguments.length?arguments[3]:a)}})}if(Object.getPrototypeOf){var Mc=Object.getPrototypeOf;Ja.getPrototypeOf=function(a){Ia(a);return Mc(a)}}Object.setPrototypeOf&&
Ja.getPrototypeOf&&Object.assign(Ja,{setPrototypeOf:function(a,b){Ia(a);if(null!==b&&!M.TypeIsObject(b))throw new TypeError("proto must be an object or null");if(b===ia.getPrototypeOf(a))return!0;if(ia.isExtensible&&!ia.isExtensible(a))return!1;var g;a:{for(g=b;g;){if(a===g){g=!0;break a}g=Ja.getPrototypeOf(g)}g=!1}if(g)return!1;Object.setPrototypeOf(a,b);return!0}});var Nc=function(a,b){M.IsCallable(x.Reflect[a])?f(function(){x.Reflect[a](1);x.Reflect[a](NaN);x.Reflect[a](!0);return!0})&&R(x.Reflect,
a,b):r(x.Reflect,a,b)};Object.keys(Ja).forEach(function(a){Nc(a,Ja[a])});if(c&&"getPrototypeOf"!==x.Reflect.getPrototypeOf.name){var Oc=x.Reflect.getPrototypeOf;R(x.Reflect,"getPrototypeOf",function(a){return l(Oc,x.Reflect,a)})}x.Reflect.setPrototypeOf&&f(function(){x.Reflect.setPrototypeOf(1,{});return!0})&&R(x.Reflect,"setPrototypeOf",Ja.setPrototypeOf);x.Reflect.defineProperty&&(f(function(){var a=!x.Reflect.defineProperty(1,"test",{value:1}),b="function"!==typeof Object.preventExtensions||!x.Reflect.defineProperty(Object.preventExtensions({}),
"test",{});return a&&b})||R(x.Reflect,"defineProperty",Ja.defineProperty));x.Reflect.construct&&(f(function(){var a=function(){};return x.Reflect.construct(function(){},[],a)instanceof a})||R(x.Reflect,"construct",Ja.construct));if("Invalid Date"!==String(new Date(NaN))){var Pc=Date.prototype.toString;R(Date.prototype,"toString",function(){var a=+this;return a!==a?"Invalid Date":M.Call(Pc,this)})}var kc={anchor:function(a){return M.CreateHTML(this,"a","name",a)},big:function(){return M.CreateHTML(this,
"big","","")},blink:function(){return M.CreateHTML(this,"blink","","")},bold:function(){return M.CreateHTML(this,"b","","")},fixed:function(){return M.CreateHTML(this,"tt","","")},fontcolor:function(a){return M.CreateHTML(this,"font","color",a)},fontsize:function(a){return M.CreateHTML(this,"font","size",a)},italics:function(){return M.CreateHTML(this,"i","","")},link:function(a){return M.CreateHTML(this,"a","href",a)},small:function(){return M.CreateHTML(this,"small","","")},strike:function(){return M.CreateHTML(this,
"strike","","")},sub:function(){return M.CreateHTML(this,"sub","","")},sup:function(){return M.CreateHTML(this,"sup","","")}};a(Object.keys(kc),function(a){var b=String.prototype[a],g=!1;M.IsCallable(b)?(b=l(b,"",' " '),g=A([],b.match(/"/g)).length,g=b!==b.toLowerCase()||2<g):g=!0;g&&R(String.prototype,a,kc[a])});var Qc=function(){if(!aa)return!1;var a="object"===typeof JSON&&"function"===typeof JSON.stringify?JSON.stringify:null;if(!a)return!1;if("undefined"!==typeof a(I())||"[null]"!==a([I()]))return!0;
var b={a:I()};b[I()]=!0;return"{}"!==a(b)?!0:!1}(),Rc=f(function(){return aa?"{}"===JSON.stringify(Object(I()))&&"[{}]"===JSON.stringify([Object(I())]):!0});if(Qc||!Rc){var Sc=JSON.stringify;R(JSON,"stringify",function(a){if("symbol"!==typeof a){var b;1<arguments.length&&(b=arguments[1]);var g=[a];k(b)?g.push(b):(M.IsCallable(b),g.push(function(a,g){var c=b?l(b,this,a,g):g;if("symbol"!==typeof c)return Z.symbol(c)?ga({})(c):c}));2<arguments.length&&g.push(arguments[2]);return Sc.apply(this,g)}})}return x});
Array.prototype.includes=Array.prototype.includes||function(m,l){var k=Object(this),t=parseInt(k.length)||0;if(0===t)return!1;var f=parseInt(l)||0;0<=f||(f=t+f,0>f&&(f=0));for(var e;f<t;){e=k[f];if(m===e||m!==m&&e!==e)return!0;f++}return!1};
if(!window.btoa||!window.atob){var base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(m,l){var k=base64.ALPHA.indexOf(m.charAt(l));if(-1==k)throw"Cannot decode base64";return k},decode:function(m){m=""+m;var l=base64.getbyte64,k,t,f,e=m.length;if(0==e)return m;if(0!=e%4)throw"Cannot decode base64";k=0;m.charAt(e-1)==base64.PADCHAR&&(k=1,m.charAt(e-2)==base64.PADCHAR&&(k=2),e-=4);var u=[];for(t=0;t<e;t+=4)f=l(m,t)<<18|l(m,t+1)<<12|l(m,t+
2)<<6|l(m,t+3),u.push(String.fromCharCode(f>>16,f>>8&255,f&255));switch(k){case 1:f=l(m,t)<<18|l(m,t+1)<<12|l(m,t+2)<<6;u.push(String.fromCharCode(f>>16,f>>8&255));break;case 2:f=l(m,t)<<18|l(m,t+1)<<12,u.push(String.fromCharCode(f>>16))}return u.join("")},getbyte:function(m,l){var k=m.charCodeAt(l);if(255<k)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return k},encode:function(m){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var l=base64.PADCHAR,k=base64.ALPHA,t=base64.getbyte,
f,e,u=[];m=""+m;var d=m.length-m.length%3;if(0==m.length)return m;for(f=0;f<d;f+=3)e=t(m,f)<<16|t(m,f+1)<<8|t(m,f+2),u.push(k.charAt(e>>18)),u.push(k.charAt(e>>12&63)),u.push(k.charAt(e>>6&63)),u.push(k.charAt(e&63));switch(m.length-d){case 1:e=t(m,f)<<16;u.push(k.charAt(e>>18)+k.charAt(e>>12&63)+l+l);break;case 2:e=t(m,f)<<16|t(m,f+1)<<8,u.push(k.charAt(e>>18)+k.charAt(e>>12&63)+k.charAt(e>>6&63)+l)}return u.join("")}};window.btoa=base64.encode;window.atob=base64.decode}
"document"in self&&("classList"in document.createElement("_")?function(){var m=document.createElement("_");m.classList.add("c1","c2");if(!m.classList.contains("c2")){var l=function(k){var f=DOMTokenList.prototype[k];DOMTokenList.prototype[k]=function(e){var k,d=arguments.length;for(k=0;k<d;k++)e=arguments[k],f.call(this,e)}};l("add");l("remove")}m.classList.toggle("c3",!1);if(m.classList.contains("c3")){var k=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,f){return 1 in arguments&&
!this.contains(l)===!f?f:k.call(this,l)}}m=null}():function(m){if("Element"in m){m=m.Element.prototype;var l=Object,k=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},t=Array.prototype.indexOf||function(a){for(var c=0,p=this.length;c<p;c++)if(c in this&&this[c]===a)return c;return-1},f=function(a,c){this.name=a;this.code=DOMException[a];this.message=c},e=function(a,c){if(""===c)throw new f("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(c))throw new f("INVALID_CHARACTER_ERR",
"String contains an invalid character");return t.call(a,c)},u=function(a){for(var c=k.call(a.getAttribute("class")||""),c=c?c.split(/\s+/):[],p=0,r=c.length;p<r;p++)this.push(c[p]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},d=u.prototype=[],c=function(){return new u(this)};f.prototype=Error.prototype;d.item=function(a){return this[a]||null};d.contains=function(a){return-1!==e(this,a+"")};d.add=function(){var a=arguments,c=0,p=a.length,r,g=!1;do r=a[c]+"",-1===e(this,
r)&&(this.push(r),g=!0);while(++c<p);g&&this._updateClassName()};d.remove=function(){var a=arguments,c=0,p=a.length,r,g=!1,q;do for(r=a[c]+"",q=e(this,r);-1!==q;)this.splice(q,1),g=!0,q=e(this,r);while(++c<p);g&&this._updateClassName()};d.toggle=function(a,c){a+="";var p=this.contains(a),r=p?!0!==c&&"remove":!1!==c&&"add";if(r)this[r](a);return!0===c||!1===c?c:!p};d.toString=function(){return this.join(" ")};if(l.defineProperty){d={get:c,enumerable:!0,configurable:!0};try{l.defineProperty(m,"classList",
d)}catch(a){-2146823252===a.number&&(d.enumerable=!1,l.defineProperty(m,"classList",d))}}else l.prototype.__defineGetter__&&m.__defineGetter__("classList",c)}}(self));
(function(m){for(var l,k={},t=function(){},f=["memory"],e="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");l=f.pop();)m[l]||(m[l]=k);for(;l=e.pop();)m[l]||(m[l]=t)})(self.console=self.console||{});
(function(){function m(k,f,e){var u=document.createElement("canvas");l(k,u,f,e);return u.toDataURL("image/jpeg",f.quality||.8)}function l(k,f,e,l){var d=k.naturalWidth,c=k.naturalHeight,a=e.width,b=e.height,h=f.getContext("2d");h.save();e=e.orientation;switch(e){case 5:case 6:case 7:case 8:f.width=b;f.height=a;break;default:f.width=a,f.height=b}switch(e){case 2:h.translate(a,0);h.scale(-1,1);break;case 3:h.translate(a,b);h.rotate(Math.PI);break;case 4:h.translate(0,b);h.scale(1,-1);break;case 5:h.rotate(.5*
Math.PI);h.scale(1,-1);break;case 6:h.rotate(.5*Math.PI);h.translate(0,-b);break;case 7:h.rotate(.5*Math.PI);h.translate(a,-b);h.scale(-1,1);break;case 8:h.rotate(-.5*Math.PI),h.translate(-a,0)}f=k.naturalWidth;1048576<f*k.naturalHeight?(e=document.createElement("canvas"),e.width=e.height=1,e=e.getContext("2d"),e.drawImage(k,-f+1,0),f=0===e.getImageData(0,0,1,1).data[3]):f=!1;f&&(d/=2,c/=2);f=document.createElement("canvas");f.width=f.height=1024;e=f.getContext("2d");if(l){l=c;var p=document.createElement("canvas");
p.width=1;p.height=l;p=p.getContext("2d");p.drawImage(k,0,0);for(var p=p.getImageData(0,0,1,l).data,r=0,g=l,q=l;q>r;)0===p[4*(q-1)+3]?g=q:r=q,q=g+r>>1;l=q/l;l=0===l?1:l}else l=1;a=Math.ceil(1024*a/d);b=Math.ceil(1024*b/c/l);for(p=l=0;l<c;){for(g=r=0;r<d;)e.clearRect(0,0,1024,1024),e.drawImage(k,-r,-l),h.drawImage(f,0,0,1024,1024,g,p,a,b),r+=1024,g+=a;l+=1024;p+=b}h.restore()}function k(k){if(window.Blob&&k instanceof Blob){var f=new Image,e=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&
window.webkitURL.createObjectURL?window.webkitURL:null;if(!e)throw Error("No createObjectURL function found to create blob url");f.src=e.createObjectURL(k);this.blob=k;k=f}if(!k.naturalWidth&&!k.naturalHeight){var l=this;k.onload=function(){var d=l.imageLoadListeners;if(d){l.imageLoadListeners=null;for(var c=0,a=d.length;c<a;c++)d[c]()}};this.imageLoadListeners=[]}this.srcImage=k}k.prototype.render=function(k,f,e){if(this.imageLoadListeners){var u=this;this.imageLoadListeners.push(function(){u.render(k,
f,e)})}else{f=f||{};var d=this.srcImage,c=d.src,a=c.length,b=d.naturalWidth,d=d.naturalHeight,h=f.width,p=f.height,r=f.maxWidth,g=f.maxHeight,c=this.blob&&"image/jpeg"===this.blob.type||0===c.indexOf("data:image/jpeg")||c.indexOf(".jpg")===a-4||c.indexOf(".jpeg")===a-5;h&&!p?p=d*h/b<<0:p&&!h?h=b*p/d<<0:(h=b,p=d);r&&h>r&&(h=r,p=d*h/b<<0);g&&p>g&&(p=g,h=b*p/d<<0);var b={width:h,height:p},q;for(q in f)b[q]=f[q];q=k.tagName.toLowerCase();"img"===q?k.src=m(this.srcImage,b,c):"canvas"===q&&l(this.srcImage,
k,b,c);if("function"===typeof this.onrender)this.onrender(k);e&&e()}};"function"===typeof define&&define.amd?define([],function(){return k}):this.MegaPixImage=k})();
!function(m){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=m();else if("function"==typeof define&&define.amd)define([],m);else{var l;"undefined"!=typeof window?l=window:"undefined"!=typeof global?l=global:"undefined"!=typeof self&&(l=self);l.Promise=m()}}(function(){return function l(k,t,f){function e(c,a){if(!t[c]){if(!k[c]){var b="function"==typeof _dereq_&&_dereq_;if(!a&&b)return b(c,!0);if(u)return u(c,!0);b=Error("Cannot find module '"+c+"'");throw b.code="MODULE_NOT_FOUND",
b;}b=t[c]={exports:{}};k[c][0].call(b.exports,function(a){var b=k[c][1][a];return e(b?b:a)},b,b.exports,l,k,t,f)}return t[c].exports}for(var u="function"==typeof _dereq_&&_dereq_,d=0;d<f.length;d++)e(f[d]);return e}({1:[function(l,k,t){k.exports=function(f){function e(d){d=new k(d);var c=d.promise();return d.setHowMany(1),d.setUnwrap(),d.init(),c}var k=f._SomePromiseArray;f.any=function(d){return e(d)};f.prototype.any=function(){return e(this)}}},{}],2:[function(l,k,t){function f(){this._isTickUsed=
!1;this._lateQueue=new b(16);this._normalQueue=new b(16);this._haveDrainedQueues=!1;this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()};this._schedule=a}function e(a,b,g){this._lateQueue.push(a,b,g);this._queueTick()}function u(a,b,g){this._normalQueue.push(a,b,g);this._queueTick()}function d(a){this._normalQueue._pushOne(a);this._queueTick()}try{throw Error();}catch(c){t=c}var a=l("./schedule"),b=l("./queue"),h=l("./util");f.prototype.enableTrampoline=function(){this._trampolineEnabled=
!0};f.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)};f.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};f.prototype.fatalError=function(a,b){b?(process.stderr.write("Fatal "+(a instanceof Error?a.stack:a)),process.exit(2)):this.throwLater(a)};f.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b;}),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(g){throw Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");
}};h.hasDevTools?(f.prototype.invokeLater=function(a,b,g){this._trampolineEnabled?e.call(this,a,b,g):this._schedule(function(){setTimeout(function(){a.call(b,g)},100)})},f.prototype.invoke=function(a,b,g){this._trampolineEnabled?u.call(this,a,b,g):this._schedule(function(){a.call(b,g)})},f.prototype.settlePromises=function(a){this._trampolineEnabled?d.call(this,a):this._schedule(function(){a._settlePromises()})}):(f.prototype.invokeLater=e,f.prototype.invoke=u,f.prototype.settlePromises=d);f.prototype.invokeFirst=
function(a,b,g){this._normalQueue.unshift(a,b,g);this._queueTick()};f.prototype._drainQueue=function(a){for(;0<a.length();){var b=a.shift();if("function"==typeof b){var g=a.shift(),c=a.shift();b.call(g,c)}else b._settlePromises()}};f.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=!0;this._drainQueue(this._lateQueue)};f.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))};f.prototype._reset=
function(){this._isTickUsed=!1};k.exports=f;k.exports.firstLineError=t},{"./queue":26,"./schedule":29,"./util":36}],3:[function(l,k,t){k.exports=function(f,e,k,d){var c=!1,a=function(a,b){this._reject(b)},b=function(b,g){g.promiseRejectionQueued=!0;g.bindingPromise._then(a,a,null,this,b)},h=function(a,b){0===(50397184&this._bitField)&&this._resolveCallback(b.target)},p=function(a,b){b.promiseRejectionQueued||this._reject(a)};f.prototype.bind=function(a){c||(c=!0,f.prototype._propagateFrom=d.propagateFromFunction(),
f.prototype._boundValue=d.boundValueFunction());a=k(a);var g=new f(e);g._propagateFrom(this,1);var q=this._target();if(g._setBoundTo(a),a instanceof f){var w={promiseRejectionQueued:!1,promise:g,target:q,bindingPromise:a};q._then(e,b,void 0,g,w);a._then(h,p,void 0,g,w);g._setOnCancel(a)}else g._resolveCallback(q);return g};f.prototype._setBoundTo=function(a){void 0!==a?(this._bitField|=2097152,this._boundTo=a):this._bitField&=-2097153};f.prototype._isBound=function(){return 2097152===(2097152&this._bitField)};
f.bind=function(a,b){return f.resolve(b).bind(a)}}},{}],4:[function(l,k,t){var f;"undefined"!=typeof Promise&&(f=Promise);var e=l("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=f)}catch(k){}return e};k.exports=e},{"./promise":22}],5:[function(l,k,t){var f=Object.create;f&&(t=f(null),f=f(null),t[" size"]=f[" size"]=0);k.exports=function(e){function f(b){var c=this.pop(),d;if(null!=b&&(d=b[c]),"function"!=typeof d)throw b="Object "+a.classString(b)+" has no method '"+a.toString(c)+
"'",new e.TypeError(b);return d.apply(b,this)}function d(a){return a[this]}function c(a){var b=+this;return 0>b&&(b=Math.max(0,b+a.length)),a[b]}var a=l("./util"),b=a.canEvaluate;a.isIdentifier;e.prototype.call=function(a){var b=[].slice.call(arguments,1);return b.push(a),this._then(f,void 0,void 0,b,void 0)};e.prototype.get=function(a){var p;"number"==typeof a?p=c:b?(p=(void 0)(a),p=null!==p?p:d):p=d;return this._then(p,void 0,void 0,a,void 0)}}},{"./util":36}],6:[function(l,k,t){k.exports=function(f,
e,k,d){var c=l("./util"),a=c.tryCatch,b=c.errorObj,h=f._async;f.prototype["break"]=f.prototype.cancel=function(){if(!d.cancellation())return this._warn("cancellation is disabled");for(var a=this,b=a;a.isCancellable();){if(!a._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var g=a._cancellationParent;if(null==g||!g.isCancellable()){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}a._isFollowing()&&a._followee().cancel();b=a;a=g}};f.prototype._branchHasCancelled=
function(){this._branchesRemainingToCancel--};f.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||0>=this._branchesRemainingToCancel};f.prototype._cancelBy=function(a){return a===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)};f.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()};f.prototype._cancel=
function(){this.isCancellable()&&(this._setCancelled(),h.invoke(this._cancelPromises,this,void 0))};f.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()};f.prototype._unsetOnCancel=function(){this._onCancelField=void 0};f.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};f.prototype._doInvokeOnCancel=function(p,d){if(c.isArray(p))for(var g=0;g<p.length;++g)this._doInvokeOnCancel(p[g],d);else void 0!==p&&("function"==typeof p?d||(g=a(p).call(this._boundValue()),
g===b&&(this._attachExtraTrace(g.e),h.throwLater(g.e))):p._resultCancelled(this))};f.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel();h.invoke(this._doInvokeOnCancel,this,a)};f.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())};f.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(l,k,t){k.exports=function(f){var e=l("./util"),k=l("./es5").keys,d=e.tryCatch,
c=e.errorObj;return function(a,b,h){return function(p){var r=h._boundValue(),g=0;a:for(;g<a.length;++g){var q=a[g];if(q===Error||null!=q&&q.prototype instanceof Error){if(p instanceof q)return d(b).call(r,p)}else if("function"==typeof q){q=d(q).call(r,p);if(q===c)return q;if(q)return d(b).call(r,p)}else if(e.isObject(p)){for(var w=k(q),z=0;z<w.length;++z){var y=w[z];if(q[y]!=p[y])continue a}return d(b).call(r,p)}}return f}}}},{"./es5":13,"./util":36}],8:[function(l,k,t){k.exports=function(f){function e(){this._trace=
new e.CapturedTrace(k())}function k(){var a=c.length-1;return 0<=a?c[a]:void 0}var d=!1,c=[];return f.prototype._promiseCreated=function(){},f.prototype._pushContext=function(){},f.prototype._popContext=function(){return null},f._peekContext=f.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,c.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var a=c.pop(),b=a._promiseCreated;return a._promiseCreated=
null,b}return null},e.CapturedTrace=null,e.create=function(){return d?new e:void 0},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var a=f.prototype._pushContext,b=f.prototype._popContext,c=f._peekContext,p=f.prototype._peekContext,r=f.prototype._promiseCreated;e.deactivateLongStackTraces=function(){f.prototype._pushContext=a;f.prototype._popContext=b;f._peekContext=c;f.prototype._peekContext=p;f.prototype._promiseCreated=r;d=!1};d=!0;f.prototype._pushContext=e.prototype._pushContext;
f.prototype._popContext=e.prototype._popContext;f._peekContext=f.prototype._peekContext=k;f.prototype._promiseCreated=function(){var a=this._peekContext();a&&null==a._promiseCreated&&(a._promiseCreated=this)}},e}},{}],9:[function(l,k,t){k.exports=function(f,e){function k(a,b,g){var c=this;try{a(b,g,function(a){if("function"!=typeof a)throw new TypeError("onCancel must be a function, got: "+K.toString(a));c._attachCancellationCallback(a)})}catch(h){return h}}function d(a){if(!this.isCancellable())return this;
var b=this._onCancel();void 0!==b?K.isArray(b)?b.push(a):this._setOnCancel([b,a]):this._setOnCancel(a)}function c(){return this._onCancelField}function a(a){this._onCancelField=a}function b(){this._onCancelField=this._cancellationParent=void 0}function h(a,b){if(0!==(1&b)){this._cancellationParent=a;var g=a._branchesRemainingToCancel;void 0===g&&(g=0);a._branchesRemainingToCancel=g+1}0!==(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)}function p(){var a=this._boundTo;return void 0!==a&&a instanceof
f?a.isFulfilled()?a.value():void 0:a}function r(){this._trace=new D(this._peekContext())}function g(a,b){if(J(a)){var g=this._trace;(void 0!==g&&b&&(g=g._parent),void 0!==g)?g.attachExtraTrace(a):a.__stackCleaned__||(g=y(a),K.notEnumerableProp(a,"stack",g.message+"\n"+g.stack.join("\n")),K.notEnumerableProp(a,"__stackCleaned__",!0))}}function q(a,b,g){if(ba.warnings){var c;a=new N(a);b?g._attachExtraTrace(a):ba.longStackTraces&&(c=f._peekContext())?c.attachExtraTrace(a):(b=y(a),a.stack=b.message+
"\n"+b.stack.join("\n"));v(a,"",!0)}}function w(a,b){for(var g=0;g<b.length-1;++g)b[g].push("From previous event:"),b[g]=b[g].join("\n");return g<b.length&&(b[g]=b[g].join("\n")),a+"\n"+b.join("\n")}function z(a){for(var b=[],g=0;g<a.length;++g){var c=a[g],h="    (No stack trace)"===c||P.test(c),q=h&&V(c);h&&!q&&(U&&" "!==c.charAt(0)&&(c="    "+c),b.push(c))}return b}function y(a){var b=a.stack,g=a.toString(),c;if("string"==typeof b&&0<b.length){a=a.stack.replace(/\s+$/g,"").split("\n");for(c=0;c<
a.length;++c){var h=a[c];if("    (No stack trace)"===h||P.test(h))break}c=(0<c&&(a=a.slice(c)),a)}else c=["    (No stack trace)"];return b=c,{message:g,stack:z(b)}}function v(a,b,g){"undefined"!=typeof console&&(a=K.isObject(a)?b+T(a.stack,a):b+String(a),"function"==typeof H?H(a,g):("function"==typeof console.log||"object"==typeof console.log)&&console.log(a))}function x(a,b,g,c){var h=!1;try{"function"==typeof b&&(h=!0,"rejectionHandled"===a?b(c):b(g,c))}catch(q){F.throwLater(q)}b=!1;try{b=aa(a,
g,c)}catch(p){b=!0,F.throwLater(p)}var w=!1;if(Z)try{w=Z(a.toLowerCase(),{reason:g,promise:c})}catch(d){w=!0,F.throwLater(d)}b||h||w||"unhandledRejection"!==a||v(g,"Unhandled rejection ")}function L(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a&&"function"==typeof a.toString?a.toString():K.toString(a);if(/\[object [a-zA-Z0-9$_]+\]/.test(b))try{b=JSON.stringify(a)}catch(g){}0===b.length&&(b="(empty array)")}return"(<"+(41>b.length?b:b.substr(0,38)+"...")+">, no stack trace)"}
function t(){return"function"==typeof R}function A(a){return(a=a.match(Q))?{fileName:a[1],line:parseInt(a[2],10)}:void 0}function D(a){this._parent=a;this._promisesCreated=0;a=this._length=1+(void 0===a?0:a._length);R(this,D);32<a&&this.uncycle()}var B,C,H,G=f._getDomain,F=f._async,N=l("./errors").Warning,K=l("./util"),J=K.canAttachTrace,S=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,P=null,T=null,U=!1,I=!(0==K.env("BLUEBIRD_DEBUG")||!K.env("BLUEBIRD_DEBUG")&&"development"!==K.env("NODE_ENV")),
X=!(0==K.env("BLUEBIRD_WARNINGS")||!I&&!K.env("BLUEBIRD_WARNINGS")),I=!(0==K.env("BLUEBIRD_LONG_STACK_TRACES")||!I&&!K.env("BLUEBIRD_LONG_STACK_TRACES")),W=0!=K.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!K.env("BLUEBIRD_W_FORGOTTEN_RETURN"));f.prototype.suppressUnhandledRejections=function(){var a=this._target();a._bitField=-1048577&a._bitField|524288};f.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),F.invokeLater(this._notifyUnhandledRejection,
this,void 0))};f.prototype._notifyUnhandledRejectionIsHandled=function(){x("rejectionHandled",B,void 0,this)};f.prototype._setReturnedNonUndefined=function(){this._bitField|=268435456};f.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)};f.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._settledValue();this._setUnhandledRejectionIsNotified();x("unhandledRejection",C,a,this)}};f.prototype._setUnhandledRejectionIsNotified=function(){this._bitField|=
262144};f.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField&=-262145};f.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)};f.prototype._setRejectionIsUnhandled=function(){this._bitField|=1048576};f.prototype._unsetRejectionIsUnhandled=function(){this._bitField&=-1048577;this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())};f.prototype._isRejectionUnhandled=function(){return 0<
(1048576&this._bitField)};f.prototype._warn=function(a,b,g){return q(a,b,g||this)};f.onPossiblyUnhandledRejection=function(a){var b=G();C="function"==typeof a?null===b?a:b.bind(a):void 0};f.onUnhandledRejectionHandled=function(a){var b=G();B="function"==typeof a?null===b?a:b.bind(a):void 0};var Y=function(){};f.longStackTraces=function(){if(F.haveItemsQueued()&&!ba.longStackTraces)throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ba.longStackTraces&&
t()){var a=f.prototype._captureStackTrace,b=f.prototype._attachExtraTrace;ba.longStackTraces=!0;Y=function(){if(F.haveItemsQueued()&&!ba.longStackTraces)throw Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");f.prototype._captureStackTrace=a;f.prototype._attachExtraTrace=b;e.deactivateLongStackTraces();F.enableTrampoline();ba.longStackTraces=!1};f.prototype._captureStackTrace=r;f.prototype._attachExtraTrace=g;e.activateLongStackTraces();F.disableTrampolineIfNecessary()}};
f.hasLongStackTraces=function(){return ba.longStackTraces&&t()};f.config=function(g){if(g=Object(g),"longStackTraces"in g&&(g.longStackTraces?f.longStackTraces():!g.longStackTraces&&f.hasLongStackTraces()&&Y()),"warnings"in g){var q=g.warnings;ba.warnings=!!q;W=ba.warnings;K.isObject(q)&&"wForgottenReturn"in q&&(W=!!q.wForgottenReturn)}if("cancellation"in g&&g.cancellation&&!ba.cancellation){if(F.haveItemsQueued())throw Error("cannot enable cancellation after promises are in use");f.prototype._clearCancellationData=
b;f.prototype._propagateFrom=h;f.prototype._onCancel=c;f.prototype._setOnCancel=a;f.prototype._attachCancellationCallback=d;f.prototype._execute=k;O=h;ba.cancellation=!0}};f.prototype._execute=function(a,b,g){try{a(b,g)}catch(c){return c}};f.prototype._onCancel=function(){};f.prototype._setOnCancel=function(a){};f.prototype._attachCancellationCallback=function(a){};f.prototype._captureStackTrace=function(){};f.prototype._attachExtraTrace=function(){};f.prototype._clearCancellationData=function(){};
f.prototype._propagateFrom=function(a,b){};var O=function(a,b){0!==(2&b)&&a._isBound()&&this._setBoundTo(a._boundTo)},V=function(){return!1},Q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;K.inherits(D,Error);e.CapturedTrace=D;D.prototype.uncycle=function(){var a=this._length;if(!(2>a)){for(var b=[],g={},c=0,a=this;void 0!==a;++c)b.push(a),a=a._parent;a=this._length=c;for(c=a-1;0<=c;--c){var h=b[c].stack;void 0===g[h]&&(g[h]=c)}for(c=0;a>c;++c)if(h=g[b[c].stack],void 0!==h&&h!==c){0<h&&(b[h-1]._parent=
void 0,b[h-1]._length=1);b[c]._parent=void 0;b[c]._length=1;g=0<c?b[c-1]:this;a-1>h?(g._parent=b[h+1],g._parent.uncycle(),g._length=g._parent._length+1):(g._parent=void 0,g._length=1);a=g._length+1;for(c-=2;0<=c;--c)b[c]._length=a,a++;break}}};D.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var b=y(a),g=b.message,b=[b.stack],c=this;void 0!==c;)b.push(z(c.stack.split("\n"))),c=c._parent;for(var c=b[0],h=1;h<b.length;++h){for(var q=b[h],p=c.length-1,d=c[p],r=-1,e=
q.length-1;0<=e;--e)if(q[e]===d){r=e;break}for(e=r;0<=e&&c[p]===q[e];--e)c.pop(),p--;c=q}for(c=0;c<b.length;++c)(0===b[c].length||c+1<b.length&&b[c][0]===b[c+1][0])&&(b.splice(c,1),c--);K.notEnumerableProp(a,"stack",w(g,b));K.notEnumerableProp(a,"__stackCleaned__",!0)}};var Z,R=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():L(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=
6;P=a;T=b;var g=Error.captureStackTrace;return V=function(a){return S.test(a)},function(a,b){Error.stackTraceLimit+=6;g(a,b);Error.stackTraceLimit-=6}}var c=Error();if("string"==typeof c.stack&&0<=c.stack.split("\n")[0].indexOf("stackDetection@"))return P=/@/,T=b,U=!0,function(a){a.stack=Error().stack};var h;try{throw Error();}catch(q){h="stack"in q}return"stack"in c||!h||"number"!=typeof Error.stackTraceLimit?(T=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===
b.name||void 0===b.message?L(b):b.toString()},null):(P=a,T=b,function(a){Error.stackTraceLimit+=6;try{throw Error();}catch(b){a.stack=b.stack}Error.stackTraceLimit-=6})}([]),aa=function(){if(K.isNode)return function(a,b,g){return"rejectionHandled"===a?process.emit(a,g):process.emit(a,b,g)};var a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;if(!a)return function(){return!1};try{var b=document.createEvent("CustomEvent");b.initCustomEvent("testingtheevent",
!1,!0,{});a.dispatchEvent(b);Z=function(b,g){var c=document.createEvent("CustomEvent");return c.initCustomEvent(b,!1,!0,g),!a.dispatchEvent(c)}}catch(g){}var c={};return c.unhandledRejection="onunhandledrejection",c.rejectionHandled="onrejectionhandled",function(b,g,h){var q=a[c[b]];return q?("rejectionHandled"===b?q.call(a,h):q.call(a,g,h),!0):!1}}();"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(H=function(a){console.warn(a)},K.isNode&&process.stderr.isTTY?H=function(a,b){console.warn((b?
"\u001b[33m":"\u001b[31m")+a+"\u001b[0m\n")}:K.isNode||"string"!=typeof Error().stack||(H=function(a,b){console.warn("%c"+a,b?"color: darkorange":"color: red")}));var ba={warnings:X,longStackTraces:!1,cancellation:!1};return I&&f.longStackTraces(),{longStackTraces:function(){return ba.longStackTraces},warnings:function(){return ba.warnings},cancellation:function(){return ba.cancellation},propagateFromFunction:function(){return O},boundValueFunction:function(){return p},checkForgottenReturns:function(a,
b,g,c,h){void 0!==a||null===b||!W||void 0!==h&&h._returnedNonUndefined()||(g&&(g+=" "),c._warn("a promise was created in a "+g+"handler but was not returned from it",!0,b))},setBounds:function(a,b){if(t()){for(var g,c,h=a.stack.split("\n"),q=b.stack.split("\n"),p=-1,w=-1,d=0;d<h.length;++d){var r=A(h[d]);if(r){g=r.fileName;p=r.line;break}}for(d=0;d<q.length;++d)if(r=A(q[d])){c=r.fileName;w=r.line;break}0>p||0>w||!g||!c||g!==c||p>=w||(V=function(a){return S.test(a)?!0:(a=A(a))&&a.fileName===g&&p<=
a.line&&a.line<=w?!0:!1})}},warn:q,deprecated:function(a,b){var g=a+" is deprecated and will be removed in a future version.";return b&&(g+=" Use "+b+" instead."),q(g)},CapturedTrace:D}}},{"./errors":12,"./util":36}],10:[function(l,k,t){k.exports=function(f){function e(){return this.value}function k(){throw this.reason;}f.prototype["return"]=f.prototype.thenReturn=function(d){return d instanceof f&&d.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:d},void 0)};f.prototype["throw"]=
f.prototype.thenThrow=function(d){return this._then(k,void 0,void 0,{reason:d},void 0)};f.prototype.catchThrow=function(d){if(1>=arguments.length)return this._then(void 0,k,void 0,{reason:d},void 0);var c=arguments[1];return this.caught(d,function(){throw c;})};f.prototype.catchReturn=function(d){if(1>=arguments.length)return d instanceof f&&d.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:d},void 0);var c=arguments[1];c instanceof f&&c.suppressUnhandledRejections();return this.caught(d,
function(){return c})}}},{}],11:[function(l,k,t){k.exports=function(f,e){function k(){return a(this)}function d(a,h){return c(a,h,e,e)}var c=f.reduce,a=f.all;f.prototype.each=function(a){return this.mapSeries(a)._then(k,void 0,void 0,this,void 0)};f.prototype.mapSeries=function(a){return c(this,a,e,e)};f.each=function(a,c){return d(a,c)._then(k,void 0,void 0,a,void 0)};f.mapSeries=d}},{}],12:[function(l,k,t){function f(g,c){function h(a){return this instanceof h?(b(this,"message","string"==typeof a?
a:c),b(this,"name",g),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new h(a)}return a(h,Error),h}function e(a){return this instanceof e?(b(this,"name","OperationalError"),b(this,"message",a),this.cause=a,this.isOperational=!0,void(a instanceof Error?(b(this,"message",a.message),b(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new e(a)}var u,d,c=l("./es5");t=c.freeze;l=l("./util");var a=l.inherits,b=
l.notEnumerableProp;l=f("Warning","warning");var h=f("CancellationError","cancellation error"),p=f("TimeoutError","timeout error"),r=f("AggregateError","aggregate error");try{u=TypeError,d=RangeError}catch(g){u=f("TypeError","type error"),d=f("RangeError","range error")}for(var q="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),w=0;w<q.length;++w)"function"==typeof Array.prototype[q[w]]&&(r.prototype[q[w]]=Array.prototype[q[w]]);
c.defineProperty(r.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});r.prototype.isOperational=!0;var z=0;r.prototype.toString=function(){var a=Array(4*z+1).join(" "),b="\n"+a+"AggregateError of:\n";z++;for(var a=Array(4*z+1).join(" "),g=0;g<this.length;++g){for(var c=this[g]===this?"[Circular AggregateError]":this[g]+"",c=c.split("\n"),h=0;h<c.length;++h)c[h]=a+c[h];c=c.join("\n");b+=c+"\n"}return z--,b};a(e,Error);(c=Error.__BluebirdErrorTypes__)||(c=t({CancellationError:h,
TimeoutError:p,OperationalError:e,RejectionError:e,AggregateError:r}),b(Error,"__BluebirdErrorTypes__",c));k.exports={Error:Error,TypeError:u,RangeError:d,CancellationError:c.CancellationError,OperationalError:c.OperationalError,TimeoutError:c.TimeoutError,AggregateError:c.AggregateError,Warning:l}},{"./es5":13,"./util":36}],13:[function(l,k,t){if(l=function(){return void 0===this}())k.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,
keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:l,propertyIsWritable:function(d,c){var a=Object.getOwnPropertyDescriptor(d,c);return!(a&&!a.writable&&!a.set)}};else{var f={}.hasOwnProperty,e={}.toString,u={}.constructor.prototype;t=function(d){var c=[],a;for(a in d)f.call(d,a)&&c.push(a);return c};k.exports={isArray:function(d){try{return"[object Array]"===e.call(d)}catch(c){return!1}},keys:t,names:t,defineProperty:function(d,c,a){return d[c]=
a.value,d},getDescriptor:function(d,c){return{value:d[c]}},freeze:function(d){return d},getPrototypeOf:function(d){try{return Object(d).constructor.prototype}catch(c){return u}},isES5:l,propertyIsWritable:function(){return!0}}}},{}],14:[function(l,k,t){k.exports=function(f,e){var k=f.map;f.prototype.filter=function(d,c){return k(this,d,c,e)};f.filter=function(d,c,a){return k(d,c,a,e)}}},{}],15:[function(l,k,t){k.exports=function(f,e){function k(a){this.finallyHandler=a}function d(a,b){return null!=
a.cancelPromise?(1<arguments.length?a.cancelPromise._reject(b):a.cancelPromise._cancel(),a.cancelPromise=null,!0):!1}function c(){return b.call(this,this.promise._target()._settledValue())}function a(a){return d(this,a)?void 0:(r.e=a,r)}function b(b){var h=this.promise,w=this.handler;if(!this.called&&(this.called=!0,w=0===this.type?w.call(h._boundValue()):w.call(h._boundValue(),b),void 0!==w&&(h._setReturnedNonUndefined(),w=e(w,h),w instanceof f))){if(null!=this.cancelPromise){if(w.isCancelled())return b=
new p("late cancellation observer"),h._attachExtraTrace(b),r.e=b,r;w.isPending()&&w._attachCancellationCallback(new k(this))}return w._then(c,a,void 0,this,void 0)}return h.isRejected()?(d(this),r.e=b,r):(d(this),b)}var h=l("./util"),p=f.CancellationError,r=h.errorObj;return k.prototype._resultCancelled=function(){d(this.finallyHandler)},f.prototype._passThrough=function(a,b,c,h){return"function"!=typeof a?this.then():this._then(c,h,void 0,{promise:this,handler:a,called:!1,cancelPromise:null,type:b},
void 0)},f.prototype.lastly=f.prototype["finally"]=function(a){return this._passThrough(a,0,b,b)},f.prototype.tap=function(a){return this._passThrough(a,1,b)},b}},{"./util":36}],16:[function(l,k,t){k.exports=function(f,e,k,d,c,a){function b(a,b,g,c){var h=this._promise=new f(k);h._captureStackTrace();h._setOnCancel(this);this._stack=c;this._generatorFunction=a;this._receiver=b;this._generator=void 0;this._yieldHandlers="function"==typeof g?[g].concat(q):q;this._yieldedPromise=null}var h=l("./errors").TypeError,
p=l("./util"),r=p.errorObj,g=p.tryCatch,q=[];p.inherits(b,c);b.prototype._isResolved=function(){return null===this._promise};b.prototype._cleanup=function(){this._promise=this._generator=null};b.prototype._promiseCancelled=function(){if(!this._isResolved()){var a;if("undefined"!=typeof this._generator["return"])this._promise._pushContext(),a=g(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var b=new f.CancellationError("generator .return() sentinel");f.coroutine.returnSentinel=
b;this._promise._attachExtraTrace(b);this._promise._pushContext();a=g(this._generator["throw"]).call(this._generator,b);this._promise._popContext();a===r&&a.e===b&&(a=null)}b=this._promise;this._cleanup();a===r?b._rejectCallback(a.e,!1):b.cancel()}};b.prototype._promiseFulfilled=function(a){this._yieldedPromise=null;this._promise._pushContext();a=g(this._generator.next).call(this._generator,a);this._promise._popContext();this._continue(a)};b.prototype._promiseRejected=function(a){this._yieldedPromise=
null;this._promise._attachExtraTrace(a);this._promise._pushContext();a=g(this._generator["throw"]).call(this._generator,a);this._promise._popContext();this._continue(a)};b.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof f){var a=this._yieldedPromise;this._yieldedPromise=null;a.cancel()}};b.prototype.promise=function(){return this._promise};b.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=void 0;
this._promiseFulfilled(void 0)};b.prototype._continue=function(a){var b=this._promise;if(a===r)return this._cleanup(),b._rejectCallback(a.e,!1);var c=a.value;if(!0===a.done)return this._cleanup(),b._resolveCallback(c);a=d(c,this._promise);if(b=!(a instanceof f)){a:{for(var q=a,p=this._yieldHandlers,b=this._promise,e=0;e<p.length;++e){b._pushContext();var k=g(p[e])(q);if(b._popContext(),k===r){b._pushContext();q=f.reject(r.e);b=(b._popContext(),q);break a}k=d(k,b);if(k instanceof f){b=k;break a}}b=
null}b=(a=b,null===a)}if(b)return void this._promiseRejected(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",c)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));a=a._target();c=a._bitField;0===(50397184&c)?(this._yieldedPromise=a,a._proxy(this,null)):0!==(33554432&c)?this._promiseFulfilled(a._value()):0!==(16777216&c)?this._promiseRejected(a._reason()):this._promiseCancelled()};f.coroutine=function(a,g){if("function"!=
typeof a)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var c=Object(g).yieldHandler,q=Error().stack;return function(){var g=a.apply(this,arguments),h=new b(void 0,void 0,c,q),p=h.promise();return h._generator=g,h._promiseFulfilled(void 0),p}};f.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new h("expecting a function but got "+p.classString(a));q.push(a)};f.spawn=function(g){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=
typeof g)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");g=new b(g,this);var c=g.promise();return g._run(f.spawn),c}}},{"./errors":12,"./util":36}],17:[function(l,k,t){k.exports=function(f,e,k,d){k=l("./util");k.canEvaluate;k.tryCatch;k.errorObj;f.join=function(){var c,a=arguments.length-1;0<a&&"function"==typeof arguments[a]&&(c=arguments[a]);a=[].slice.call(arguments);c&&a.pop();a=(new e(a)).promise();return void 0!==c?a.spread(c):a}}},{"./util":36}],18:[function(l,
k,t){k.exports=function(f,e,k,d,c,a){function b(a,b,g,h){this.constructor$(a);this._promise._captureStackTrace();a=p();this._callback=null===a?b:a.bind(b);this._preservedValues=h===c?Array(this.length()):null;this._limit=g;this._inFlight=0;this._queue=1<=g?[]:w;this._init$(void 0,-2)}function h(a,g,c,h){if("function"!=typeof g)return k("expecting a function but got "+r.classString(g));c="object"==typeof c&&null!==c?c.concurrency:0;return c="number"==typeof c&&isFinite(c)&&1<=c?c:0,(new b(a,g,c,h)).promise()}
var p=f._getDomain,r=l("./util"),g=r.tryCatch,q=r.errorObj,w=[];r.inherits(b,e);b.prototype._init=function(){};b.prototype._promiseFulfilled=function(b,c){var h=this._values,p=this.length(),w=this._preservedValues,r=this._limit;if(0>c){if(c=-1*c-1,h[c]=b,1<=r&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=r&&this._inFlight>=r)return h[c]=b,this._queue.push(c),!1;null!==w&&(w[c]=b);var e=this._promise,k=this._callback,l=e._boundValue();e._pushContext();k=g(k).call(l,
b,c,p);l=e._popContext();if(a.checkForgottenReturns(k,l,null!==w?"Promise.filter":"Promise.map",e),k===q)return this._reject(k.e),!0;e=d(k,this._promise);if(e instanceof f){e=e._target();k=e._bitField;if(0===(50397184&k))return 1<=r&&this._inFlight++,h[c]=e,e._proxy(this,-1*(c+1)),!1;if(0===(33554432&k))return 0!==(16777216&k)?(this._reject(e._reason()),!0):(this._cancel(),!0);k=e._value()}h[c]=k}return++this._totalResolved>=p?(null!==w?this._filter(h,w):this._resolve(h),!0):!1};b.prototype._drainQueue=
function(){for(var a=this._queue,b=this._limit,g=this._values;0<a.length&&this._inFlight<b&&!this._isResolved();){var c=a.pop();this._promiseFulfilled(g[c],c)}};b.prototype._filter=function(a,b){for(var g=b.length,c=Array(g),h=0,q=0;g>q;++q)a[q]&&(c[h++]=b[q]);c.length=h;this._resolve(c)};b.prototype.preservedValues=function(){return this._preservedValues};f.prototype.map=function(a,b){return h(this,a,b,null)};f.map=function(a,b,g,c){return h(a,b,g,c)}}},{"./util":36}],19:[function(l,k,t){k.exports=
function(f,e,k,d,c){var a=l("./util"),b=a.tryCatch;f.method=function(h){if("function"!=typeof h)throw new f.TypeError("expecting a function but got "+a.classString(h));return function(){var a=new f(e);a._captureStackTrace();a._pushContext();var d=b(h).apply(this,arguments),g=a._popContext();return c.checkForgottenReturns(d,g,"Promise.method",a),a._resolveFromSyncValue(d),a}};f.attempt=f["try"]=function(h){if("function"!=typeof h)return d("expecting a function but got "+a.classString(h));var p=new f(e);
p._captureStackTrace();p._pushContext();var r;if(1<arguments.length){c.deprecated("calling Promise.try with more than 1 argument");r=arguments[1];var g=arguments[2];r=a.isArray(r)?b(h).apply(g,r):b(h).call(g,r)}else r=b(h)();g=p._popContext();return c.checkForgottenReturns(r,g,"Promise.try",p),p._resolveFromSyncValue(r),p};f.prototype._resolveFromSyncValue=function(b){b===a.errorObj?this._rejectCallback(b.e,!1):this._resolveCallback(b,!0)}}},{"./util":36}],20:[function(l,k,t){var f=l("./util"),e=
f.maybeWrapAsError,u=l("./errors").OperationalError,d=l("./es5"),c=/^(?:name|message|stack|cause)$/;k.exports=function(a,b){return function(h,p){if(null!==a){if(h){var r;r=e(h);var g;if(r instanceof Error&&d.getPrototypeOf(r)===Error.prototype){g=new u(r);g.name=r.name;g.message=r.message;g.stack=r.stack;for(var q=d.keys(r),w=0;w<q.length;++w){var z=q[w];c.test(z)||(g[z]=r[z])}r=g}else r=(f.markAsOriginatingFromRejection(r),r);a._attachExtraTrace(r);a._reject(r)}else b?(r=[].slice.call(arguments,
1),a._fulfill(r)):a._fulfill(p);a=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(l,k,t){k.exports=function(f){function e(p,d){if(!c.isArray(p))return k.call(this,p,d);var g=b(d).apply(this._boundValue(),[null].concat(p));g===h&&a.throwLater(g.e)}function k(c,d){var g=this._boundValue(),g=void 0===c?b(d).call(g,null):b(d).call(g,null,c);g===h&&a.throwLater(g.e)}function d(c,d){if(!c){var g=Error(c+"");g.cause=c;c=g}g=b(d).call(this._boundValue(),c);g===h&&a.throwLater(g.e)}var c=l("./util"),
a=f._async,b=c.tryCatch,h=c.errorObj;f.prototype.asCallback=f.prototype.nodeify=function(a,b){if("function"==typeof a){var g=k;void 0!==b&&Object(b).spread&&(g=e);this._then(g,d,void 0,this,a)}return this}}},{"./util":36}],22:[function(l,k,t){k.exports=function(){function f(){}function e(a){this._bitField=0;this._receiver0=this._promise0=this._rejectionHandler0=this._fulfillmentHandler0=void 0;if(a!==x){if("function"!=typeof a)throw new y("expecting a function but got "+g.classString(a));if(this.constructor!==
e)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");this._resolveFromExecutor(a)}this._promiseCreated()}function k(a){this.promise._resolveCallback(a)}function d(a){this.promise._rejectCallback(a,!1)}function c(a){var b=new e(x);b._fulfillmentHandler0=a;b._rejectionHandler0=a;b._promise0=a;b._receiver0=a}var a,b=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},h=function(){return new e.PromiseInspection(this._target())},
p=function(a){return e.reject(new y(a))},r={},g=l("./util");a=g.isNode?function(){var a=process.domain;return void 0===a&&(a=null),a}:function(){return null};g.notEnumerableProp(e,"_getDomain",a);var q=l("./es5"),w=l("./async"),z=new w;q.defineProperty(e,"_async",{value:z});var q=l("./errors"),y=e.TypeError=q.TypeError;e.RangeError=q.RangeError;var v=e.CancellationError=q.CancellationError;e.TimeoutError=q.TimeoutError;e.OperationalError=q.OperationalError;e.RejectionError=q.OperationalError;e.AggregateError=
q.AggregateError;var x=function(){},L={},t={},A=l("./thenables")(e,x),D=l("./promise_array")(e,x,A,p,f),q=l("./context")(e),B=q.create,C=l("./debuggability")(e,q),H=(C.CapturedTrace,l("./finally")(e,A)),G=l("./catch_filter")(t),F=l("./nodeback"),N=g.errorObj,K=g.tryCatch;return e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype["catch"]=function(a){var b=arguments.length;if(1<b){var c,h=Array(b-1),q=0;for(c=0;b-1>c;++c){var d=arguments[c];if(!g.isObject(d))return p("expecting an object but got "+
g.classString(d));h[q++]=d}return h.length=q,a=arguments[c],this.then(void 0,G(h,a,this))}return this.then(void 0,a)},e.prototype.reflect=function(){return this._then(h,h,void 0,this,void 0)},e.prototype.then=function(a,b){if(C.warnings()&&0<arguments.length&&"function"!=typeof a&&"function"!=typeof b){var c=".then() only accepts functions but was passed: "+g.classString(a);1<arguments.length&&(c+=", "+g.classString(b));this._warn(c)}return this._then(a,b,void 0,void 0,void 0)},e.prototype.done=function(a,
b){this._then(a,b,void 0,void 0,void 0)._setIsFinal()},e.prototype.spread=function(a){return"function"!=typeof a?p("expecting a function but got "+g.classString(a)):this.all()._then(a,void 0,void 0,L,void 0)},e.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},e.prototype.all=function(){return 0<
arguments.length&&this._warn(".all() was passed arguments but it does not take any"),(new D(this)).promise()},e.prototype.error=function(a){return this.caught(g.originatesFromRejection,a)},e.is=function(a){return a instanceof e},e.fromNode=e.fromCallback=function(a){var b=new e(x),g=1<arguments.length?!!Object(arguments[1]).multiArgs:!1,g=K(a)(F(b,g));return g===N&&b._rejectCallback(g.e,!0),b._isFateSealed()||b._setAsyncGuaranteed(),b},e.all=function(a){return(new D(a)).promise()},e.cast=function(a){var b=
A(a);return b instanceof e||(b=new e(x),b._captureStackTrace(),b._setFulfilled(),b._rejectionHandler0=a),b},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(a){var b=new e(x);return b._captureStackTrace(),b._rejectCallback(a,!0),b},e.setScheduler=function(a){if("function"!=typeof a)throw new y("expecting a function but got "+g.classString(a));var b=z._schedule;return z._schedule=a,b},e.prototype._then=function(b,g,c,h,q){var p=void 0!==q;q=p?q:new e(x);c=this._target();var d=c._bitField;
p||(q._propagateFrom(this,3),q._captureStackTrace(),void 0===h&&0!==(2097152&this._bitField)&&(h=0!==(50397184&d)?this._boundValue():c===this?void 0:this._boundTo));p=a();if(0!==(50397184&d)){var w,r,y=c._settlePromiseCtx;0!==(33554432&d)?(r=c._rejectionHandler0,w=b):0!==(16777216&d)?(r=c._fulfillmentHandler0,w=g,c._unsetRejectionIsUnhandled()):(y=c._settlePromiseLateCancellationObserver,r=new v("late cancellation observer"),c._attachExtraTrace(r),w=g);z.invoke(y,c,{handler:null===p?w:"function"==
typeof w&&p.bind(w),promise:q,receiver:h,value:r})}else c._addCallbacks(b,g,q,h,p);return q},e.prototype._length=function(){return 65535&this._bitField},e.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},e.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},e.prototype._setLength=function(a){this._bitField=-65536&this._bitField|65535&a},e.prototype._setFulfilled=function(){this._bitField|=33554432},e.prototype._setRejected=function(){this._bitField|=
16777216},e.prototype._setFollowing=function(){this._bitField|=67108864},e.prototype._setIsFinal=function(){this._bitField|=4194304},e.prototype._isFinal=function(){return 0<(4194304&this._bitField)},e.prototype._unsetCancelled=function(){this._bitField&=-65537},e.prototype._setCancelled=function(){this._bitField|=65536},e.prototype._setAsyncGuaranteed=function(){this._bitField|=134217728},e.prototype._receiverAt=function(a){a=0===a?this._receiver0:this[4*a-4+3];return a===r?void 0:void 0===a&&this._isBound()?
this._boundValue():a},e.prototype._promiseAt=function(a){return this[4*a-4+2]},e.prototype._fulfillmentHandlerAt=function(a){return this[4*a-4+0]},e.prototype._rejectionHandlerAt=function(a){return this[4*a-4+1]},e.prototype._boundValue=function(){},e.prototype._migrateCallback0=function(a){var b=(a._bitField,a._fulfillmentHandler0),g=a._rejectionHandler0,c=a._promise0;a=a._receiverAt(0);void 0===a&&(a=r);this._addCallbacks(b,g,c,a,null)},e.prototype._migrateCallbackAt=function(a,b){var g=a._fulfillmentHandlerAt(b),
c=a._rejectionHandlerAt(b),h=a._promiseAt(b),q=a._receiverAt(b);void 0===q&&(q=r);this._addCallbacks(g,c,h,q,null)},e.prototype._addCallbacks=function(a,b,g,c,h){var q=this._length();if(65531<=q&&(q=0,this._setLength(0)),0===q)this._promise0=g,this._receiver0=c,"function"==typeof a&&(this._fulfillmentHandler0=null===h?a:h.bind(a)),"function"==typeof b&&(this._rejectionHandler0=null===h?b:h.bind(b));else{var p=4*q-4;this[p+2]=g;this[p+3]=c;"function"==typeof a&&(this[p+0]=null===h?a:h.bind(a));"function"==
typeof b&&(this[p+1]=null===h?b:h.bind(b))}return this._setLength(q+1),q},e.prototype._proxy=function(a,b){this._addCallbacks(void 0,void 0,b,a,null)},e.prototype._resolveCallback=function(a,g){if(0===(117506048&this._bitField)){if(a===this)return this._rejectCallback(b(),!1);var c=A(a,this);if(!(c instanceof e))return this._fulfill(a);g&&this._propagateFrom(c,2);var c=c._target(),h=c._bitField;if(0===(50397184&h)){h=this._length();0<h&&c._migrateCallback0(this);for(var q=1;h>q;++q)c._migrateCallbackAt(this,
q);this._setFollowing();this._setLength(0);this._setFollowee(c)}else 0!==(33554432&h)?this._fulfill(c._value()):0!==(16777216&h)?this._reject(c._reason()):(h=new v("late cancellation observer"),c._attachExtraTrace(h),this._reject(h))}},e.prototype._rejectCallback=function(a,b,c){var h=g.ensureErrorObject(a),q=h===a;q||c||!C.warnings()||(c="a promise was rejected with a non-error: "+g.classString(a),this._warn(c,!0));this._attachExtraTrace(h,b?q:!1);this._reject(a)},e.prototype._resolveFromExecutor=
function(a){var b=this;this._captureStackTrace();this._pushContext();var g=!0;a=this._execute(a,function(a){b._resolveCallback(a)},function(a){b._rejectCallback(a,g)});g=!1;this._popContext();void 0!==a&&b._rejectCallback(a,!0)},e.prototype._settlePromiseFromHandler=function(a,c,h,q){var p=q._bitField;if(0===(65536&p)){q._pushContext();var d;c===L?h&&"number"==typeof h.length?d=K(a).apply(this._boundValue(),h):(d=N,d.e=new y("cannot .spread() a non-array: "+g.classString(h))):d=K(a).call(c,h);a=q._popContext();
if(p=q._bitField,0===(65536&p))d===t?q._reject(h):d===N||d===q?(h=d===q?b():d.e,q._rejectCallback(h,!1)):(C.checkForgottenReturns(d,a,"",q,this),q._resolveCallback(d))}},e.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},e.prototype._followee=function(){return this._rejectionHandler0},e.prototype._setFollowee=function(a){this._rejectionHandler0=a},e.prototype._settlePromise=function(a,b,g,c){var q=a instanceof e,p=this._bitField,d=0!==(134217728&p);0!==(65536&
p)?(q&&a._invokeInternalOnCancel(),b===H?(g.cancelPromise=a,K(b).call(g,c)===N&&a._reject(N.e)):b===h?a._fulfill(h.call(g)):g instanceof f?g._promiseCancelled(a):q||a instanceof D?a._cancel():g.cancel()):"function"==typeof b?q?(d&&a._setAsyncGuaranteed(),this._settlePromiseFromHandler(b,g,c,a)):b.call(g,c,a):g instanceof f?g._isResolved()||(0!==(33554432&p)?g._promiseFulfilled(c,a):g._promiseRejected(c,a)):q&&(d&&a._setAsyncGuaranteed(),0!==(33554432&p)?a._fulfill(c):a._reject(c))},e.prototype._settlePromiseLateCancellationObserver=
function(a){var b=a.handler,g=a.promise,c=a.receiver;a=a.value;"function"==typeof b?g instanceof e?this._settlePromiseFromHandler(b,c,a,g):b.call(c,a,g):g instanceof e&&g._reject(a)},e.prototype._settlePromiseCtx=function(a){this._settlePromise(a.promise,a.handler,a.receiver,a.value)},e.prototype._settlePromise0=function(a,b,g){g=this._promise0;var c=this._receiverAt(0);this._receiver0=this._promise0=void 0;this._settlePromise(g,a,c,b)},e.prototype._clearCallbackDataAtIndex=function(a){a=4*a-4;this[a+
2]=this[a+3]=this[a+0]=this[a+1]=void 0},e.prototype._fulfill=function(a){var g=this._bitField;if(!((117506048&g)>>>16)){if(a===this)return a=b(),this._attachExtraTrace(a),this._reject(a);this._setFulfilled();this._rejectionHandler0=a;0<(65535&g)&&(0!==(134217728&g)?this._settlePromises():z.settlePromises(this))}},e.prototype._reject=function(a){var b=this._bitField;if(!((117506048&b)>>>16))return this._setRejected(),this._fulfillmentHandler0=a,this._isFinal()?z.fatalError(a,g.isNode):void(0<(65535&
b)?0!==(134217728&b)?this._settlePromises():z.settlePromises(this):this._ensurePossibleRejectionHandled())},e.prototype._fulfillPromises=function(a,b){for(var g=1;a>g;g++){var c=this._fulfillmentHandlerAt(g),h=this._promiseAt(g),q=this._receiverAt(g);this._clearCallbackDataAtIndex(g);this._settlePromise(h,c,q,b)}},e.prototype._rejectPromises=function(a,b){for(var g=1;a>g;g++){var c=this._rejectionHandlerAt(g),h=this._promiseAt(g),q=this._receiverAt(g);this._clearCallbackDataAtIndex(g);this._settlePromise(h,
c,q,b)}},e.prototype._settlePromises=function(){var a=this._bitField,b=65535&a;if(0<b){if(0!==(16842752&a)){var g=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,g,a);this._rejectPromises(b,g)}else g=this._rejectionHandler0,this._settlePromise0(this._fulfillmentHandler0,g,a),this._fulfillPromises(b,g);this._setLength(0)}this._clearCancellationData()},e.prototype._settledValue=function(){var a=this._bitField;return 0!==(33554432&a)?this._rejectionHandler0:0!==(16777216&a)?this._fulfillmentHandler0:
void 0},e.defer=e.pending=function(){C.deprecated("Promise.defer","new Promise");return{promise:new e(x),resolve:k,reject:d}},g.notEnumerableProp(e,"_makeSelfResolutionError",b),l("./method")(e,x,A,p,C),l("./bind")(e,x,A,C),l("./cancel")(e,D,p,C),l("./direct_resolve")(e),l("./synchronous_inspection")(e),l("./join")(e,D,A,x,C),e.Promise=e,l("./map.js")(e,D,p,A,x,C),l("./using.js")(e,p,A,B,x,C),l("./timers.js")(e,x),l("./generators.js")(e,p,x,A,f,C),l("./nodeify.js")(e),l("./call_get.js")(e),l("./props.js")(e,
D,A,p),l("./race.js")(e,x,A,p),l("./reduce.js")(e,D,p,A,x,C),l("./settle.js")(e,D,C),l("./some.js")(e,D,p),l("./promisify.js")(e,x),l("./any.js")(e),l("./each.js")(e,x),l("./filter.js")(e,x),g.toFastProperties(e),g.toFastProperties(e.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new e(x)),C.setBounds(w.firstLineError,g.lastLineError),e}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,
"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(l,k,t){k.exports=function(f,e,k,d,c){function a(a){switch(a){case -2:return[];case -3:return{}}}function b(a){var b=
this._promise=new f(e);a instanceof f&&b._propagateFrom(a,3);b._setOnCancel(this);this._values=a;this._totalResolved=this._length=0;this._init(void 0,-2)}var h=l("./util");h.isArray;return h.inherits(b,c),b.prototype.length=function(){return this._length},b.prototype.promise=function(){return this._promise},b.prototype._init=function r(b,c){var w=k(this._values,this._promise);if(w instanceof f){var w=w._target(),z=w._bitField;if(this._values=w,0===(50397184&z))return this._promise._setAsyncGuaranteed(),
w._then(r,this._reject,void 0,this,c);if(0===(33554432&z))return 0!==(16777216&z)?this._reject(w._reason()):this._cancel();w=w._value()}return(w=h.asArray(w),null===w)?(w=d("expecting an array or an iterable object but got "+h.classString(w)).reason(),void this._promise._rejectCallback(w,!1)):0===w.length?void(-5===c?this._resolveEmptyArray():this._resolve(a(c))):void this._iterate(w)},b.prototype._iterate=function(a){var b=this.getActualLength(a.length);this._length=b;this._values=this.shouldCopyValues()?
Array(b):this._values;for(var c=this._promise,h=!1,d=null,y=0;b>y;++y){var e=k(a[y],c);e instanceof f?(e=e._target(),d=e._bitField):d=null;h?null!==d&&e.suppressUnhandledRejections():null!==d?0===(50397184&d)?(e._proxy(this,y),this._values[y]=e):h=0!==(33554432&d)?this._promiseFulfilled(e._value(),y):0!==(16777216&d)?this._promiseRejected(e._reason(),y):this._promiseCancelled(y):h=this._promiseFulfilled(e,y)}h||c._setAsyncGuaranteed()},b.prototype._isResolved=function(){return null===this._values},
b.prototype._resolve=function(a){this._values=null;this._promise._fulfill(a)},b.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},b.prototype._reject=function(a){this._values=null;this._promise._rejectCallback(a,!1)},b.prototype._promiseFulfilled=function(a,b){this._values[b]=a;return++this._totalResolved>=this._length?(this._resolve(this._values),!0):!1},b.prototype._promiseCancelled=function(){return this._cancel(),!0},
b.prototype._promiseRejected=function(a){return this._totalResolved++,this._reject(a),!0},b.prototype._resultCancelled=function(){if(!this._isResolved()){var a=this._values;if(this._cancel(),a instanceof f)a.cancel();else for(var b=0;b<a.length;++b)a[b]instanceof f&&a[b].cancel()}},b.prototype.shouldCopyValues=function(){return!0},b.prototype.getActualLength=function(a){return a},b}},{"./util":36}],24:[function(l,k,t){k.exports=function(f,e){function k(a){return!v.test(a)}function d(a){try{return!0===
a.__isPromisified__}catch(b){return!1}}function c(a,b,g,c){for(var h=p.inheritedDataKeys(a),q=[],w=0;w<h.length;++w){var r=h[w],e=a[r],f=c===x?!0:x(r,e,a),v;(v="function"!=typeof e||d(e))||(v=(v=p.getDataPropertyOrDefault(a,r+b,y))?d(v):!1);v||!c(r,e,a,f)||q.push(r,e)}for(a=0;a<q.length;a+=2)if(c=q[a],g.test(c))for(c=c.replace(g,""),h=0;h<q.length;h+=2)if(q[h]===c)throw new z("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",b));return q}
function a(a,b,c,d,w,z){function y(){var c=b;b===h&&(c=this);var p=new f(e);p._captureStackTrace();var d="string"==typeof k&&this!==v?this[k]:a,w=r(p,z);try{d.apply(c,g(arguments,w))}catch(l){p._rejectCallback(q(l),!0,!0)}return p._isFateSealed()||p._setAsyncGuaranteed(),p}var v=function(){return this}(),k=a;return"string"==typeof k&&(a=d),p.notEnumerableProp(y,"__isPromisified__",!0),y}function b(a,b,g,q,d){var w=new RegExp(b.replace(/([$])/,"\\$")+"$");g=c(a,b,w,g);for(var w=0,r=g.length;r>w;w+=
2){var z=g[w],y=g[w+1],e=z+b;if(q===L)a[e]=L(z,h,z,y,b,d);else{var f=q(y,function(){return L(z,h,z,y,b,d)});p.notEnumerableProp(f,"__isPromisified__",!0);a[e]=f}}return p.toFastProperties(a),a}var h={},p=l("./util"),r=l("./nodeback"),g=p.withAppended,q=p.maybeWrapAsError,w=p.canEvaluate,z=l("./errors").TypeError,y={__isPromisified__:!0},v=/^(?:arity|length|name|arguments|caller|callee|prototype|__isPromisified__)$/,x=function(a){return p.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},L=w?
void 0:a;f.promisify=function(a,b){if("function"!=typeof a)throw new z("expecting a function but got "+p.classString(a));if(d(a))return a;b=Object(b);var g=L(a,void 0===b.context?h:b.context,void 0,a,null,!!b.multiArgs);return p.copyDescriptors(a,g,k),g};f.promisifyAll=function(a,g){if("function"!=typeof a&&"object"!=typeof a)throw new z("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");g=Object(g);var c=!!g.multiArgs,h=g.suffix;"string"!=typeof h&&(h=
"Async");var q=g.filter;"function"!=typeof q&&(q=x);var d=g.promisifier;if("function"!=typeof d&&(d=L),!p.isIdentifier(h))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var w=p.inheritedDataKeys(a),r=0;r<w.length;++r){var y=a[w[r]];"constructor"!==w[r]&&p.isClass(y)&&(b(y.prototype,h,q,d,c),b(y,h,q,d,c))}return b(a,h,q,d,c)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(l,k,t){k.exports=function(f,e,k,d){function c(a){var c,h=!1;if(void 0!==
b&&a instanceof b)c=g(a),h=!0;else{var p=r.keys(a),d=p.length;c=Array(2*d);for(var e=0;d>e;++e){var f=p[e];c[e]=a[f];c[e+d]=f}}this.constructor$(c);this._isMap=h;this._init$(void 0,-3)}function a(a){var b;a=k(a);return p(a)?(b=a instanceof f?a._then(f.props,void 0,void 0,void 0,void 0):(new c(a)).promise(),a instanceof f&&b._propagateFrom(a,2),b):d("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var b,h=l("./util"),p=h.isObject,r=l("./es5");"function"==typeof Map&&(b=
Map);var g=function(){function a(c,h){this[b]=c;this[b+g]=h;b++}var b=0,g=0;return function(c){g=c.size;b=0;var h=Array(2*c.size);return c.forEach(a,h),h}}();h.inherits(c,e);c.prototype._init=function(){};c.prototype._promiseFulfilled=function(a,g){this._values[g]=a;if(++this._totalResolved>=this._length){var c;if(this._isMap){c=this._values;for(var h=new b,p=c.length/2|0,d=0;p>d;++d)h.set(c[p+d],c[d]);c=h}else for(c={},h=this.length(),p=0,d=this.length();d>p;++p)c[this._values[p+h]]=this._values[p];
return this._resolve(c),!0}return!1};c.prototype.shouldCopyValues=function(){return!1};c.prototype.getActualLength=function(a){return a>>1};f.prototype.props=function(){return a(this)};f.props=function(b){return a(b)}}},{"./es5":13,"./util":36}],26:[function(l,k,t){function f(e){this._capacity=e;this._front=this._length=0}f.prototype._willBeOverCapacity=function(e){return this._capacity<e};f.prototype._pushOne=function(e){var f=this.length();this._checkCapacity(f+1);this[this._front+f&this._capacity-
1]=e;this._length=f+1};f.prototype._unshiftOne=function(e){var f=this._capacity;this._checkCapacity(this.length()+1);f=(this._front-1&f-1^f)-f;this[f]=e;this._front=f;this._length=this.length()+1};f.prototype.unshift=function(e,f,d){this._unshiftOne(d);this._unshiftOne(f);this._unshiftOne(e)};f.prototype.push=function(e,f,d){var c=this.length()+3;if(this._willBeOverCapacity(c))return this._pushOne(e),this._pushOne(f),void this._pushOne(d);var a=this._front+c-3;this._checkCapacity(c);var b=this._capacity-
1;this[a+0&b]=e;this[a+1&b]=f;this[a+2&b]=d;this._length=c};f.prototype.shift=function(){var e=this._front,f=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,f};f.prototype.length=function(){return this._length};f.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)};f.prototype._resizeTo=function(e){var f=this._capacity;this._capacity=e;e=this._front+this._length&f-1;for(var d=0;e>d;++d)this[d+f]=this[d+0],this[d+0]=void 0};k.exports=
f},{}],27:[function(l,k,t){k.exports=function(f,e,k,d){function c(c,p){var r=k(c);if(r instanceof f)return b(r);if(c=a.asArray(c),null===c)return d("expecting an array or an iterable object but got "+a.classString(c));r=new f(e);void 0!==p&&r._propagateFrom(p,3);for(var g=r._fulfill,q=r._reject,w=0,z=c.length;z>w;++w){var y=c[w];(void 0!==y||w in c)&&f.cast(y)._then(g,q,void 0,r,null)}return r}var a=l("./util"),b=function(a){return a.then(function(b){return c(b,a)})};f.race=function(a){return c(a,
void 0)};f.prototype.race=function(){return c(this,void 0)}}},{"./util":36}],28:[function(l,k,t){k.exports=function(f,e,k,d,c,a){function b(a,b,g,h){this.constructor$(a);a=q();this._fn=null===a?b:a.bind(b);void 0!==g&&(g=f.resolve(g),g._attachCancellationCallback(this));this._initialValue=g;this._currentCancellable=null;this._eachValues=h===c?[]:void 0;this._promise._captureStackTrace();this._init$(void 0,-5)}function h(a,b){this.isFulfilled()?b._resolve(a):b._reject(a)}function p(a,g,c,h){return"function"!=
typeof g?k("expecting a function but got "+w.classString(g)):(new b(a,g,c,h)).promise()}function r(a){this.accum=a;this.array._gotAccum(a);a=d(this.value,this.array._promise);return a instanceof f?(this.array._currentCancellable=a,a._then(g,void 0,void 0,this,void 0)):g.call(this,a)}function g(b){var g=this.array,c=g._promise,h=z(g._fn);c._pushContext();b=void 0!==g._eachValues?h.call(c._boundValue(),b,this.index,this.length):h.call(c._boundValue(),this.accum,b,this.index,this.length);b instanceof
f&&(g._currentCancellable=b);h=c._popContext();return a.checkForgottenReturns(b,h,void 0!==g._eachValues?"Promise.each":"Promise.reduce",c),b}var q=f._getDomain,w=l("./util"),z=w.tryCatch;w.inherits(b,e);b.prototype._gotAccum=function(a){void 0!==this._eachValues&&a!==c&&this._eachValues.push(a)};b.prototype._eachComplete=function(a){return this._eachValues.push(a),this._eachValues};b.prototype._init=function(){};b.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:
this._initialValue)};b.prototype.shouldCopyValues=function(){return!1};b.prototype._resolve=function(a){this._promise._resolveCallback(a);this._values=null};b.prototype._resultCancelled=function(a){return a===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof f&&this._currentCancellable.cancel(),this._initialValue instanceof f&&this._initialValue.cancel()))};b.prototype._iterate=function(a){this._values=a;var b,g,c=a.length;if(void 0!==
this._initialValue?(b=this._initialValue,g=0):(b=f.resolve(a[0]),g=1),this._currentCancellable=b,!b.isRejected())for(;c>g;++g)b=b._then(r,void 0,void 0,{accum:null,value:a[g],index:g,length:c,array:this},void 0);void 0!==this._eachValues&&(b=b._then(this._eachComplete,void 0,void 0,this,void 0));b._then(h,h,void 0,b,this)};f.prototype.reduce=function(a,b){return p(this,a,b,null)};f.reduce=function(a,b,g,c){return p(a,b,g,c)}}},{"./util":36}],29:[function(l,k,t){l=l("./util");if(l.isNode&&"undefined"==
typeof MutationObserver){var f=global.setImmediate,e=process.nextTick;l=l.isRecentNode?function(e){f.call(global,e)}:function(f){e.call(process,f)}}else l="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n");}:function(){var e=document.createElement("div"),
d={attributes:!0},c=!1,a=document.createElement("div");(new MutationObserver(function(){e.classList.toggle("foo");c=!1})).observe(a,d);return function(b){var h=new MutationObserver(function(){h.disconnect();b()});h.observe(e,d);c||(c=!0,a.classList.toggle("foo"))}}();k.exports=l},{"./util":36}],30:[function(l,k,t){k.exports=function(f,e,k){function d(a){this.constructor$(a)}var c=f.PromiseInspection;l("./util").inherits(d,e);d.prototype._promiseResolved=function(a,b){this._values[a]=b;return++this._totalResolved>=
this._length?(this._resolve(this._values),!0):!1};d.prototype._promiseFulfilled=function(a,b){var h=new c;return h._bitField=33554432,h._settledValueField=a,this._promiseResolved(b,h)};d.prototype._promiseRejected=function(a,b){var h=new c;return h._bitField=16777216,h._settledValueField=a,this._promiseResolved(b,h)};f.settle=function(a){return k.deprecated(".settle()",".reflect()"),(new d(a)).promise()};f.prototype.settle=function(){return f.settle(this)}}},{"./util":36}],31:[function(l,k,t){k.exports=
function(f,e,k){function d(a){this.constructor$(a);this._howMany=0;this._initialized=this._unwrap=!1}function c(a,b){if((0|b)!==b||0>b)return k("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var c=new d(a),h=c.promise();return c.setHowMany(b),c.init(),h}var a=l("./util"),b=l("./errors").RangeError,h=l("./errors").AggregateError,p=a.isArray,r={};a.inherits(d,e);d.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,
-5);var a=p(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}};d.prototype.init=function(){this._initialized=!0;this._init()};d.prototype.setUnwrap=function(){this._unwrap=!0};d.prototype.howMany=function(){return this._howMany};d.prototype.setHowMany=function(a){this._howMany=a};d.prototype._promiseFulfilled=function(a){return this._addFulfilled(a),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),
1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1};d.prototype._promiseRejected=function(a){return this._addRejected(a),this._checkOutcome()};d.prototype._promiseCancelled=function(){return this._values instanceof f||null==this._values?this._cancel():(this._addRejected(r),this._checkOutcome())};d.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new h,b=this.length();b<this._values.length;++b)this._values[b]!==
r&&a.push(this._values[b]);return 0<a.length?this._reject(a):this._cancel(),!0}return!1};d.prototype._fulfilled=function(){return this._totalResolved};d.prototype._rejected=function(){return this._values.length-this.length()};d.prototype._addRejected=function(a){this._values.push(a)};d.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a};d.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};d.prototype._getRangeError=function(a){return new b("Input array must contain at least "+
this._howMany+" items but contains only "+a+" items")};d.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};f.some=function(a,b){return c(a,b)};f.prototype.some=function(a){return c(this,a)};f._SomePromiseArray=d}},{"./errors":12,"./util":36}],32:[function(l,k,t){k.exports=function(f){function e(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=
function(){return this._settledValueField};var k=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},d=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},c=e.prototype.isFulfilled=function(){return 0!==
(33554432&this._bitField)},a=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},b=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},h=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=f.prototype._isCancelled=function(){return 65536===(65536&this._bitField)};f.prototype.isCancelled=function(){return this._target()._isCancelled()};f.prototype.isPending=function(){return b.call(this._target())};f.prototype.isRejected=
function(){return a.call(this._target())};f.prototype.isFulfilled=function(){return c.call(this._target())};f.prototype.isResolved=function(){return h.call(this._target())};f.prototype.value=function(){return k.call(this._target())};f.prototype.reason=function(){var a=this._target();return a._unsetRejectionIsUnhandled(),d.call(a)};f.prototype._value=function(){return this._settledValue()};f.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()};f.PromiseInspection=
e}},{}],33:[function(l,k,t){k.exports=function(f,e){function k(a,b,r){var g=new f(e),q=g;r&&r._pushContext();g._captureStackTrace();r&&r._popContext();var w=!0;a=d.tryCatch(b).call(a,function(a){g&&(g._resolveCallback(a),g=null)},function(a){g&&(g._rejectCallback(a,w,!0),g=null)});return w=!1,g&&a===c&&(g._rejectCallback(a.e,!0,!0),g=null),q}var d=l("./util"),c=d.errorObj,a=d.isObject,b={}.hasOwnProperty;return function(h,p){if(a(h)){if(h instanceof f)return h;var d;try{d=h.then}catch(g){d=(c.e=g,
c)}if(d===c)return p&&p._pushContext(),d=f.reject(d.e),p&&p._popContext(),d;if("function"==typeof d)return b.call(h,"_promise0")?(d=new f(e),h._then(d._fulfill,d._reject,void 0,d,null),d):k(h,d,p)}return h}}},{"./util":36}],34:[function(l,k,t){k.exports=function(f,e){function k(a){var b=this;return b instanceof Number&&(b=+b),clearTimeout(b),a}function d(a){var b=this;throw b instanceof Number&&(b=+b),clearTimeout(b),a;}var c=l("./util"),a=f.TimeoutError,b=function(a){return h(+this).thenReturn(a)},
h=f.delay=function(a,c){var g;return void 0!==c?g=f.resolve(c)._then(b,null,null,a,void 0):(g=new f(e),setTimeout(function(){g._fulfill()},+a)),g._setAsyncGuaranteed(),g};f.prototype.delay=function(a){return h(a,this)};f.prototype.timeout=function(b,h){b=+b;var g=this.then(),q=g.then(),w=setTimeout(function(){if(q.isPending()){var b;b="string"!=typeof h?h instanceof Error?h:new a("operation timed out"):new a(h);c.markAsOriginatingFromRejection(b);q._attachExtraTrace(b);q._reject(b);g.cancel()}},b);
return q._then(k,d,void 0,w,void 0)}}},{"./util":36}],35:[function(l,k,t){k.exports=function(f,e,k,d,c,a){function b(a){setTimeout(function(){throw a;},0)}function h(a,g){function h(){if(q>=d)return p._fulfill();var c;c=a[q++];var w=k(c);c=(w!==c&&"function"==typeof c._isDisposable&&"function"==typeof c._getDisposer&&c._isDisposable()&&w._setDisposable(c._getDisposer()),w);if(c instanceof f&&c._isDisposable()){try{c=k(c._getDisposer().tryDispose(g),a.promise)}catch(r){return b(r)}if(c instanceof f)return c._then(h,
b,null,null,null)}h()}var q=0,d=a.length,p=new f(c);return h(),p}function p(a,b,g){this._data=a;this._promise=b;this._context=g}function r(a,b,g){this.constructor$(a,b,g)}function g(a){return p.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}function q(a){this.length=a;this.promise=null;this[a-1]=null}var w=l("./util"),z=l("./errors").TypeError,y=l("./util").inherits,v=w.errorObj,x=w.tryCatch;p.prototype.data=function(){return this._data};p.prototype.promise=function(){return this._promise};
p.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null};p.prototype.tryDispose=function(a){var b=this.resource(),g=this._context;void 0!==g&&g._pushContext();a=null!==b?this.doDispose(b,a):null;return void 0!==g&&g._popContext(),this._promise._unsetDisposable(),this._data=null,a};p.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose};y(r,p);r.prototype.doDispose=function(a,b){return this.data().call(a,a,b)};
q.prototype._resultCancelled=function(){for(var a=this.length,b=0;a>b;++b){var g=this[b];g instanceof f&&g.cancel()}};f.using=function(){var b=arguments.length;if(2>b)return e("you must pass at least 2 arguments to Promise.using");var c=arguments[b-1];if("function"!=typeof c)return e("expecting a function but got "+w.classString(c));var d,r=!0;2===b&&Array.isArray(arguments[0])?(d=arguments[0],b=d.length,r=!1):(d=arguments,b--);for(var z=new q(b),y=0;b>y;++y){var l=d[y];if(p.isDisposer(l)){var t=
l,l=l.promise();l._setDisposable(t)}else t=k(l),t instanceof f&&(l=t._then(g,null,null,{resources:z,index:y},void 0));z[y]=l}b=Array(z.length);for(y=0;y<b.length;++y)b[y]=f.resolve(z[y]).reflect();var F=f.all(b).then(function(b){for(var g=0;g<b.length;++g){var h=b[g];if(h.isRejected())return v.e=h.error(),v;if(!h.isFulfilled())return void F.cancel();b[g]=h.value()}N._pushContext();c=x(c);b=r?c.apply(void 0,b):c(b);g=N._popContext();return a.checkForgottenReturns(b,g,"Promise.using",N),b}),N=F.lastly(function(){var a=
new f.PromiseInspection(F);return h(z,a)});return z.promise=N,N._setOnCancel(z),N};f.prototype._setDisposable=function(a){this._bitField|=131072;this._disposer=a};f.prototype._isDisposable=function(){return 0<(131072&this._bitField)};f.prototype._getDisposer=function(){return this._disposer};f.prototype._unsetDisposable=function(){this._bitField&=-131073;this._disposer=void 0};f.prototype.disposer=function(a){if("function"==typeof a)return new r(a,this,d());throw new z;}}},{"./errors":12,"./util":36}],
36:[function(l,k,t){function f(){try{var a=h;return h=null,a.apply(this,arguments)}catch(g){return b.e=g,b}}function e(a){return null==a||!0===a||!1===a||"string"==typeof a||"number"==typeof a}function u(b,g,c){return e(b)?b:(a.defineProperty(b,g,{value:c,configurable:!0,enumerable:!1,writable:!0}),b)}function d(b){return b instanceof Error&&a.propertyIsWritable(b,"stack")}function c(a){return{}.toString.call(a)}var a=l("./es5");l="undefined"==typeof navigator;var b={e:{}},h;t=function(){var b=[Array.prototype,
Object.prototype,Function.prototype],g=function(a){for(var g=0;g<b.length;++g)if(b[g]===a)return!0;return!1};if(a.isES5){var c=Object.getOwnPropertyNames;return function(b){for(var h=[],q=Object.create(null);null!=b&&!g(b);){var d;try{d=c(b)}catch(p){break}for(var w=0;w<d.length;++w){var r=d[w];if(!q[r]){q[r]=!0;var z=Object.getOwnPropertyDescriptor(b,r);null!=z&&null==z.get&&null==z.set&&h.push(r)}}b=a.getPrototypeOf(b)}return h}}var h={}.hasOwnProperty;return function(a){if(g(a))return[];var c=
[],q;a:for(q in a){if(!h.call(a,q))for(var d=0;d<b.length;++d)if(h.call(b[d],q))continue a;c.push(q)}return c}}();var p=/this\s*\.\s*\S+\s*=/,r=/^[a-z$_][a-z$_0-9]*$/i,g=function(){return"stack"in Error()?function(a){return d(a)?a:Error(a+"")}:function(a){if(d(a))return a;try{throw Error(a+"");}catch(b){return b}}}(),q=function(b){return a.isArray(b)?b:null};if("undefined"!=typeof Symbol&&Symbol.iterator)var w="function"==typeof Array.from?function(a){return Array.from(a)}:function(a){for(var b=[],
g=a[Symbol.iterator]();!(a=g.next()).done;)b.push(a.value);return b},q=function(b){return a.isArray(b)?b:null!=b&&"function"==typeof b[Symbol.iterator]?w(b):null};var z="undefined"!=typeof process&&"[object process]"===c(process).toLowerCase();l={isClass:function(b){try{if("function"==typeof b){var g=a.names(b.prototype),c=a.isES5&&1<g.length,h=0<g.length&&!(1===g.length&&"constructor"===g[0]),q=p.test(b+"")&&0<a.names(b).length;if(c||h||q)return!0}return!1}catch(d){return!1}},isIdentifier:function(a){return r.test(a)},
inheritedDataKeys:t,getDataPropertyOrDefault:function(b,g,c){if(!a.isES5)return{}.hasOwnProperty.call(b,g)?b[g]:void 0;b=Object.getOwnPropertyDescriptor(b,g);return null!=b?null==b.get&&null==b.set?b.value:c:void 0},thrower:function(a){throw a;},isArray:a.isArray,asArray:q,notEnumerableProp:u,isPrimitive:e,isObject:function(a){return"function"==typeof a||"object"==typeof a&&null!==a},canEvaluate:l,errorObj:b,tryCatch:function(a){return h=a,f},inherits:function(a,b){function g(){this.constructor=a;
this.constructor$=b;for(var h in b.prototype)c.call(b.prototype,h)&&"$"!==h.charAt(h.length-1)&&(this[h+"$"]=b.prototype[h])}var c={}.hasOwnProperty;return g.prototype=b.prototype,a.prototype=new g,a.prototype},withAppended:function(a,b){var g,c=a.length,h=Array(c+1);for(g=0;c>g;++g)h[g]=a[g];return h[g]=b,h},maybeWrapAsError:function(a){return e(a)?Error(a+""):a},toFastProperties:function(a){function b(){}b.prototype=a;for(var g=8;g--;)new b;return a},filledRange:function(a,b,g){for(var c=Array(a),
h=0;a>h;++h)c[h]=b+h+g;return c},toString:function(a){return a+""},canAttachTrace:d,ensureErrorObject:g,originatesFromRejection:function(a){return null==a?!1:a instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===a.isOperational},markAsOriginatingFromRejection:function(a){try{u(a,"isOperational",!0)}catch(b){}},classString:c,copyDescriptors:function(b,g,c){for(var h=a.names(b),q=0;q<h.length;++q){var d=h[q];if(c(d))try{a.defineProperty(g,d,a.getDescriptor(b,d))}catch(p){}}},hasDevTools:"undefined"!=
typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:z,env:function(a,b){return z?process.env[a]:b}};l.isRecentNode=l.isNode&&function(){var a=process.versions.node.split(".").map(Number);return 0===a[0]&&10<a[1]||0<a[0]}();l.isNode&&l.toFastProperties(process);try{throw Error();}catch(y){l.lastLineError=y}k.exports=l},{"./es5":13}]},{},[4])(4)});"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);
window.requestAnimationFrame||(!function(m){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=m();else if("function"==typeof define&&define.amd)define([],m);else{var l;"undefined"!=typeof window?l=window:"undefined"!=typeof global?l=global:"undefined"!=typeof self&&(l=self);l.AnimationFrame=m()}}(function(){return function l(k,t,f){function e(c,a){if(!t[c]){if(!k[c]){var b="function"==typeof require&&require;if(!a&&b)return b(c,!0);if(u)return u(c,!0);b=Error("Cannot find module '"+
c+"'");throw b.code="MODULE_NOT_FOUND",b;}b=t[c]={exports:{}};k[c][0].call(b.exports,function(a){var b=k[c][1][a];return e(b?b:a)},b,b.exports,l,k,t,f)}return t[c].exports}for(var u="function"==typeof require&&require,d=0;d<f.length;d++)e(f[d]);return e}({1:[function(l,k,t){k.exports=l("./lib/animation-frame")},{"./lib/animation-frame":2}],2:[function(l,k,t){function f(a){if(!(this instanceof f))return new f(a);a||(a={});"number"==typeof a&&(a={frameRate:a});null!=a.useNative||(a.useNative=!0);this.options=
a;this.frameRate=a.frameRate||f.FRAME_RATE;this._frameLength=1E3/this.frameRate;this._isCustomFrameRate=this.frameRate!==f.FRAME_RATE;this._timeoutId=null;this._callbacks={};this._tickCounter=this._lastTickTime=0}var e=l("./native"),u=l("./now"),d=l("./performance"),c=e.request,a=e.cancel;k.exports=f;f.FRAME_RATE=60;f.shim=function(a){var c=new f(a);window.requestAnimationFrame=function(a){return c.request(a)};window.cancelAnimationFrame=function(a){return c.cancel(a)};return c};f.prototype.request=
function(a){var h=this;++this._tickCounter;if(e.supported&&this.options.useNative&&!this._isCustomFrameRate)return c(a);if(!a)throw new TypeError("Not enough arguments");if(null==this._timeoutId){var p=this._frameLength+this._lastTickTime-u();0>p&&(p=0);this._timeoutId=setTimeout(function(){h._lastTickTime=u();h._timeoutId=null;++h._tickCounter;var a=h._callbacks;h._callbacks={};for(var b in a)if(a[b])if(e.supported&&h.options.useNative)c(a[b]);else a[b](d.now())},p)}this._callbacks[this._tickCounter]=
a;return this._tickCounter};f.prototype.cancel=function(b){e.supported&&this.options.useNative&&a(b);delete this._callbacks[b]}},{"./native":3,"./now":4,"./performance":6}],3:[function(l,k,t){l=window;try{l.top.name,l=l.top}catch(f){}t.request=l.requestAnimationFrame;t.cancel=l.cancelAnimationFrame||l.cancelRequestAnimationFrame;t.supported=!1;k=["Webkit","Moz","ms","O"];for(var e=0;e<k.length&&!t.request;e++)t.request=l[k[e]+"RequestAnimationFrame"],t.cancel=l[k[e]+"CancelAnimationFrame"]||l[k[e]+
"CancelRequestAnimationFrame"];t.request&&t.request.call(null,function(){t.supported=!0})},{}],4:[function(l,k,t){k.exports=Date.now||function(){return(new Date).getTime()}},{}],5:[function(l,k,t){l=l("./now");t.navigationStart=l()},{"./now":4}],6:[function(l,k,t){var f=l("./now"),e=l("./performance-timing");t.now=function(){return window.performance&&window.performance.now?window.performance.now():f()-e.navigationStart}},{"./now":4,"./performance-timing":5}]},{},[1])(1)}),AnimationFrame.shim());
"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.dom=m.dom||{};(function(){navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;self.requestFileSystem=self.requestFileSystem||self.webkitRequestFileSystem;self.resolveLocalFileSystemURL=self.resolveLocalFileSystemURL||self.webkitResolveLocalFileSystemURL;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||
navigator.msGetUserMedia;self.URL=self.URL||self.webkitURL||self.mozURL||self.msURL||self.oURL;self.Blob=self.Blob||self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder;self.Element&&function(k){k.matchesSelector=k.matchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector||k.webkitMatchesSelector||function(k){k=(this.parentNode||this.document).querySelectorAll(k);for(var f=-1;k[++f]&&k[f]!=this;);return!!k[f]}}(Element.prototype)})(self);(function(){var k=-1!==window.location.href.indexOf("/sketch.io/"),
t=function(e,f){var d=k?"/sketch.io/api/":"./";eventjs.useStallOnReady++;m.util.require({url:d+"inc/"+(f||"shim")+"/"+e,onsuccess:function(){eventjs.useStallOnReady--}})};(function(){var e=document.createElement("DIV");e.innerHTML="\x3c!--[if lt IE 9]><I></I><![endif]--\x3e";0<e.getElementsByTagName("I").length&&t("html5shiv.js")})();var f=l.shim=function(e,f,d){typeof e!==(d||"function")&&t(f)};f(window.ArrayBuffer,"TypedArray.js");f(window.Blob,"Blob.js");f(window.requestFileSystem,"requestFileSystem.js");
f(document.documentElement.classList,"ClassList.js","object");f(document.documentElement.animate,"WebAnimations.js")})()})(sketch);window.AudioContext=window.AudioContext||window.webkitAudioContext||null;window.OfflineAudioContext=window.OfflineAudioContext||window.webkitOfflineAudioContext||null;
(function(m){var l=function(f){return"[object Function]"===Object.prototype.toString.call(f)||"[object AudioContextConstructor]"===Object.prototype.toString.call(f)};if(l(m)){var k=new m;if(k.destination&&k.sampleRate){var t=Object.getPrototypeOf(k.createBufferSource());!l(t.start)&&l(t.noteOn)&&(t.start=function(f,e,k){switch(arguments.length){case 0:throw Error("Not enough arguments.");case 1:this.noteOn(f);break;case 2:if(this.buffer)this.noteGrainOn(f,e,this.buffer.duration-e);else throw Error("Missing AudioBuffer");
break;case 3:this.noteGrainOn(f,e,k)}});l(t.noteOn)||(t.noteOn=t.start);l(t.noteGrainOn)||(t.noteGrainOn=t.start);l(t.stop)||(t.stop=t.noteOff);l(t.noteOff)||(t.noteOff=t.stop);t=function(f,e,l){f=Object.getPrototypeOf(k[f]());if("undefined"===typeof f[e[0]])for(var d=0;d<e.length;d++){var c=e[d];f[c]=(l&&l[d]||c).toLowerCase()}};t("createBiquadFilter","LOWPASS HIGHPASS BANDPASS LOWSHELF HIGHSHELF PEAKING NOTCH ALLPASS".split(" "));t("createOscillator",["SINE","SQUARE","SAWTOOTH","TRIANGLE","CUSTOM"]);
t("createPanner",["EQUALPOWER","HRTF","LINEAR_DISTANCE","INVERSE_DISTANCE","EXPONENTIAL_DISTANCE"],["equalpower","HRTF","linear","inverse","exponential"]);[["createGainNode","createGain"],["createDelayNode","createDelay"],["createJavaScriptNode","createScriptProcessor"],["createWaveTable","createPeriodicWave"]].forEach(function(f){for(var e,k;f.length;)e=f.pop(),l(this[e])?this[f.pop()]=this[e]:(k=f.pop(),this[e]=this[k])},m.prototype)}}})(window.AudioContext);
(function(m){m.URL=m.URL||m.webkitURL;if(m.Blob&&m.URL)try{new Blob;return}catch(l){}var k=m.BlobBuilder||m.WebKitBlobBuilder||m.MozBlobBuilder||function(k){var f=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},e=function(){this.data=[]},l=function(a,b,g){this.data=a;this.size=a.length;this.type=b;this.encoding=g},d=e.prototype,c=l.prototype,a=k.FileReaderSync,b=function(a){this.code=this[this.name=a]},h="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),
p=h.length,r=k.URL||k.webkitURL||k,g=r.createObjectURL,q=r.revokeObjectURL,w=r,z=k.btoa,y=k.atob,v=k.ArrayBuffer,x=k.Uint8Array;for(l.fake=c.fake=!0;p--;)b.prototype[h[p]]=p+1;r.createObjectURL||(w=k.URL={});w.createObjectURL=function(a){var b=a.type;null===b&&(b="application/octet-stream");if(a instanceof l)return b="data:"+b,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):z?b+";base64,"+z(a.data):b+","+encodeURIComponent(a.data);if(g)return g.call(r,
a)};w.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&q&&q.call(r,a)};d.append=function(g){var c=this.data;if(x&&(g instanceof v||g instanceof x)){var h="";g=new x(g);for(var q=0,d=g.length;q<d;q++)h+=String.fromCharCode(g[q]);c.push(h)}else if("Blob"===f(g)||"File"===f(g))if(a)h=new a,c.push(h.readAsBinaryString(g));else throw new b("NOT_READABLE_ERR");else g instanceof l?"base64"===g.encoding&&y?c.push(y(g.data)):"URI"===g.encoding?c.push(decodeURIComponent(g.data)):"raw"===g.encoding&&
c.push(g.data):("string"!==typeof g&&(g+=""),c.push(unescape(encodeURIComponent(g))))};d.getBlob=function(a){arguments.length||(a=null);return new l(this.data.join(""),a,"raw")};d.toString=function(){return"[object BlobBuilder]"};c.slice=function(a,b,g){var c=arguments.length;3>c&&(g=null);return new l(this.data.slice(a,1<c?b:this.data.length),g,this.encoding)};c.toString=function(){return"[object Blob]"};c.close=function(){this.size=0;delete this.data};return e}(m);m.Blob=function(l,f){var e=f?f.type||
"":"",u=new k;if(l)for(var d=0,c=l.length;d<c;d++)u.append(l[d]);return u.getBlob(e)}})("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this);
(function(m){var l=m.Uint8Array,k=(m=m.HTMLCanvasElement)&&m.prototype,t=/\s*;\s*base64\s*(?:;|$)/i,f="toDataURL",e;l&&(e=new l([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]));m&&!k.toBlob&&(k.toBlob=function(k,d){d||(d="image/png");if(this.mozGetAsFile)k(this.mozGetAsFile("canvas",d));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(d))k(this.msToBlob());
else{var c=Array.prototype.slice.call(arguments,1),a=this[f].apply(this,c),b=a.indexOf(","),c=a.substring(b+1),a=t.test(a.substring(0,b)),h;if(Blob.fake)h=new Blob,h.encoding=a?"base64":"URI",h.data=c,h.size=c.length;else if(l)if(a){h=Blob;for(var a=c.length,b=new l(a/4*3|0),p=0,r=0,g=[0,0],q=0,w=0,z,y;a--;)y=c.charCodeAt(p++),z=e[y-43],255!==z&&void 0!==z&&(g[1]=g[0],g[0]=y,w=w<<6|z,q++,4===q&&(b[r++]=w>>>16,61!==g[1]&&(b[r++]=w>>>8),61!==g[0]&&(b[r++]=w),q=0));h=new h([b],{type:d})}else h=new Blob([decodeURIComponent(c)],
{type:d});k(h)}},k.toBlobHD=k.toDataURLHD?function(){f="toDataURLHD";var e=this.toBlob();f="toDataURL";return e}:k.toBlob);m&&!k.toBlobURL&&(k.toBlobURL=function(e){e=e||function(d){console.log("no callback",d)};this.toBlob(function(d){e(URL.createObjectURL(d))})})})("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this);document.createElementNS||(document.createElementNS=function(m,l){return document.createElement(l)});
if(!window.chrome||!window.chrome.fileSystem){var saveAs=saveAs||function(m){if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var l=m.document.createElementNS("http://www.w3.org/1999/xhtml","a"),k="download"in l,t=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),f=m.webkitRequestFileSystem,e=m.requestFileSystem||f||m.mozRequestFileSystem,u=function(a){(m.setImmediate||m.setTimeout)(function(){throw a;},0)},d=0,c=function(a){var b=function(){"string"===typeof a?(m.URL||
m.webkitURL||m).revokeObjectURL(a):a.remove()};m.chrome?b():setTimeout(b,500)},a=function(a,b,c){b=[].concat(b);for(var h=b.length;h--;){var d=a["on"+b[h]];if("function"===typeof d)try{d.call(a,c||a)}catch(p){u(p)}}},b=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a},h=function(h,g,q){q||(h=b(h));var p=this;q=h.type;var z=!1,y,v,x=function(){a(p,["writestart","progress","write","writeend"])},u=function(){if(v&&
t&&"undefined"!==typeof FileReader){var a=new FileReader;a.onloadend=function(){var b=a.result;v.location.href="data:attachment/file"+b.slice(b.search(/[,;]/));p.readyState=p.DONE;x()};a.readAsDataURL(h);p.readyState=p.INIT}else{if(z||!y)y=(m.URL||m.webkitURL||m).createObjectURL(h);v?v.location.href=y:void 0==m.open(y,"_blank")&&t&&(m.location.href=y);p.readyState=p.DONE;x();c(y)}},E=function(a){return function(){if(p.readyState!==p.DONE)return a.apply(this,arguments)}},A={create:!0,exclusive:!1},
D;p.readyState=p.INIT;g||(g="download");if(k)y=(m.URL||m.webkitURL||m).createObjectURL(h),setTimeout(function(){l.href=y;l.download=g;var a=new MouseEvent("click");l.dispatchEvent(a);x();c(y);p.readyState=p.DONE});else{m.chrome&&q&&"application/octet-stream"!==q&&(D=h.slice||h.webkitSlice,h=D.call(h,0,h.size,"application/octet-stream"),z=!0);f&&"download"!==g&&(g+=".download");if("application/octet-stream"===q||f)v=m;e?(d+=h.size,e(m.TEMPORARY,d,E(function(b){b.root.getDirectory("saved",A,E(function(b){var q=
function(){b.getFile(g,A,E(function(b){b.createWriter(E(function(g){g.onwriteend=function(g){v.location.href=b.toURL();p.readyState=p.DONE;a(p,"writeend",g);c(b)};g.onerror=function(){var a=g.error;a.code!==a.ABORT_ERR&&u()};["writestart","progress","write","abort"].forEach(function(a){g["on"+a]=p["on"+a]});g.write(h);p.abort=function(){g.abort();p.readyState=p.DONE};p.readyState=p.WRITING}),u)}),u)};b.getFile(g,{create:!1},E(function(a){a.remove();q()}),E(function(a){a.code===a.NOT_FOUND_ERR?q():
u()}))}),u)}),u)):u()}},p=h.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(a,g,c){c||(a=b(a));return navigator.msSaveOrOpenBlob(a,g||"download")};p.abort=function(){this.readyState=this.DONE;a(this,"abort")};p.readyState=p.INIT=0;p.WRITING=1;p.DONE=2;p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null;return function(a,b,c){return new h(a,b,c)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs})}"undefined"===typeof galactic&&(galactic={});
(function(){function m(l){function k(e,k){if("function"===typeof k){var d=k.uniqueId||(k.uniqueId=f++);return e+"."+d}console.warn(e,"listener does not exist")}function t(e){function f(){var c=!1,a;for(a in d)d[a].apply(l,arguments)&&(c=!0);return c}var d={};f.add=function(c,a){var b=k(e,c);void 0===d[b]&&c&&(d[b]=c);return{add:function(){d[b]=c},remove:function(){delete d[b]}}};f.remove=function(c){var a=k(e,c);void 0!==d[a]&&c&&delete d[a]};f.stack=d;return f}if(l.on||l.off||l.emit)return l;var f=
1;l.on=function(e,f){var d=(l.on[e]?l.on[e]:l.on[e]=t(e)).add(f),c;c=this.then?this.on&&this.off&&this.emit?this:m(this):{};c.add=d.add;c.remove=d.remove;c.on=this.on;c.off=this.off;c.emit=this.emit;return c};l.off=function(e,f){f?(l.on[e]?l.on[e]:l.on[e]=t(e)).remove(f):delete l.on[e]};l.emit=function(e){var f=l.on[e];if(f){var d=Array.prototype.slice.call(arguments).slice(1);return f.apply(l,d)}};l.emit.promise=function(e){return new Promise(function(f,d){l.emit(e,f,d)})};return l}galactic.emitter=
m})();"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.loc=m.loc||{},k=m.util;l.prefix="sk";(function(){function k(f){var e,u;Object.defineProperty(l,f,{get:function(){var d=location[f];if(e&&u===d)return e;u=d;d="?"+d.slice(1);d=l.parseUri(d).queryKey;return l.prefix?e=l.parseQuery(d[l.prefix]):e=d}})}k("search");k("hash")})();l.parseQuery=function(k){if("string"===typeof k){k=k.split(";");for(var f={},e=0;e<k.length;e++)if(k[e]){var l=k[e].split(":");f[l[0]]=l[1]||!0}return f}return{}};l.setHash=function(k,f){if(null===k){var e=
{};e[f]=null;l.setHash(e)}else if("string"===typeof k)e=l.hash,e[k]=f,l.setHash(e);else if("object"===typeof k){var u=[],e=k||l.hash;for(k in e){var d=e[k];void 0!==d&&(d?u.push(k+"="+d):u.push(k))}e="#"+u.join("&");location.hash!==e&&(location.hash=e)}};l.setHost=function(t){function f(a){return"string"===typeof a?(a=a&&-1===a.indexOf("://")?p+a:a,e(a)):""}function e(a){var b=a[a.length-1];return"="===b||"?"===b||"/"===b?a:a+"/"}function u(){return location.host+k.string.dirpath(location.pathname)}
function d(){var a=e(u());l.host=a;l.protocol=location.protocol;l.HOST=f(a);l.MEDIA=l.HOST+"media/";l.PROXY=l.HOST+"proxy/?url=";l.GET=h;l.POST=h}function c(a){a=a.split(":");return{host:a.shift(),port:a.shift()}}function a(a,b,g){g=c(g);b=c(b);for(var q in a)a[q].replace&&(a[q]=a[q].replace(b.host,g.host));(g=a.feature)&&k.copyInto(g,m.feature);g=e(a.pathWeb||a.HOST||u());l.hostId=b.host;l.host=g;l.protocol=location.protocol;l.IO=a.IO||"";l.HOST=f(g);l.MEDIA=f(a.MEDIA||l.HOST+"media/");l.PROXY=f(a.PROXY||
l.HOST+"proxy/?url=");l.GET=f(a.pathGet||a.GET||h);l.POST=f(a.pathPost||a.POST||h)}function b(a,b){var g=a.feature;g&&k.copyInto(g,m.feature);g=e(a.pathWeb||a.HOST||u());l.hostId=b;l.host=g;l.protocol=location.protocol;l.IO=a.IO;l.HOST=f(g);l.MEDIA=f(a.MEDIA||l.HOST+"media/");l.PROXY=f(a.PROXY||l.HOST+"proxy/?url=");l.GET=f(a.pathGet||a.GET||h);l.POST=f(a.pathPost||a.POST||h)}var h;h=m.fs&&m.fs.writeable?m.fs.dburl()||"":"";l.hosts=t=t||l.hosts||{};var p=location.protocol+"//",r=location.host;if(t[r])return b(t[r],
r);if(t[p+r])return b(t[p+r],r);var g,q;for(q in t){var w=t[q];if(w.alias&&-1!==w.alias.indexOf(r))return a(k.copy(w),q,r);w.defaultFallback&&(g=w)}return g?b(g):d()};l.getSketchID=function(){if(k.exists("gapi.hangout.getHangoutId"))return gapi.hangout.getHangoutId();var t=m.feature.sync.hashFlag;return""===t?location.hash.substr(1):l.hash[t]||""};l.getMediaUrl=function(k){if("string"===typeof k)return l.isInternalUrl(k)?k:k.startsWith("http")||k.startsWith("./")||k.startsWith("/")?k:l.MEDIA+k;console.error("Invalid URL")};
l.isLocalUrl=function(){var k=/^([!#$&-;=?-\[\]_a-z~ ]|%[0-9a-fA-F]{2}|)+$/,f=/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/,e={"http:":/:(80)?$/,"https:":/:(443)?$/},l={"data:":!0,"blob:":!0,"filesystem:":!0};return function(d,c){if("string"===typeof d){var a=d.match(f);return c&&l[a[1]]?!0:a[1]&&a[1].toLowerCase()!==location.protocol||a[2]&&a[2].replace(e[location.protocol],"")!==location.host||a[1]&&!a[2]?!1:k.test(d)}console.error(d)}}();l.isRemoteUrl=function(k){return k.startsWith("http:")||k.startsWith("https:")?
!l.isLocalUrl(k):!1};l.isBlobUrl=function(k){return k&&k.startsWith("blob:")};l.isDataUrl=function(k){return k&&k.startsWith("data:")};l.isFileUrl=function(k){return k&&k.startsWith("filesystem:")};l.isInternalUrl=function(k){return l.isBlobUrl(k)||l.isDataUrl(k)||l.isFileUrl(k)};l.isValidXhrUrl=function(k){return l.isLocalUrl(k,!0)||l.isRemoteUrl(k)};l.parseUri=function(k){var f="source protocol authority credentials username password host port relative path directory file query anchor".split(" "),
e=/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(k);k={queryKey:{}};for(var l=0;l<f.length;l++)k[f[l]]=e[l]||"";k.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,c,a,b,h){c&&c.length&&(k.queryKey[c]=a)});return k};l.setHost()})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Agent=function(l){function k(){function a(h,d){var p=!1;d.forEach(function(a){(b.globalCompositeOperation=a)===a?(p=!0,c[a]=!0):c[a]=!1});c["__"+h]=p}var b=f().ctx,c=d.gco={};a("composite","source-over source-in source-out source-atop destination-over destination-in destination-out destination-atop lighter copy xor".split(" "));a("blend","normal multiply screen overlay darken lighten color-dodge color-burn hard-light soft-light difference exclusion hue saturation color luminosity".split(" "))}
function t(a){var b="image/"+a,c=f().toDataURL(b);return d.io[a]=0===c.indexOf("data:"+b)}function f(){if(f.canvas)return f.canvas;var a=document.createElement("canvas"),b=a.getContext("2d");a.width=a.height=1;a.ctx=b;return f.canvas=a}function e(a,b){return a[b]?a[b]:a[u(a,b)]}function u(a,b){var c=b[0].toUpperCase()+b.substr(1),h;if((h=b)in a||(h="webkit"+c)in a||(h="moz"+c)in a||(h="ms"+c)in a||(h="o"+c)in a)return h}var d=l.agent||(l.agent={}),c=l.feature||(l.feature={}),a=l.util,b=navigator.userAgent||
navigator.vendor||window.opera;d.userAgent=b;d.ie=!!document.documentMode;d.firefox="undefined"!==typeof InstallTrigger;d.opera=!!window.opera||/Opera|OPR/i.test(b);d.chrome=!!window.chrome&&!d.opera;d.safari=/Safari/i.test(b)&&!d.opera&&!d.chrome;if(d.ios=/iPhone|iPad|iPod/i.test(b))d.iosVersion=parseFloat(navigator.appVersion.match(/OS (\d)/)[1],10);d.android=/Android/i.test(b);d.blackberry=/Blackberry/i.test(b);d.mac=!d.ios&&/Mac/.test(b);d.windows=/Windows/.test(b);d.linux=/Linux/.test(b);d.mobile=
/Opera Mini|IEMobile|Symbian|WebOS/i.test(b)||d.ios||d.android||d.blackberry;try{d.cordova=!!window.top.cordova}catch(h){}d.nodewebkit=!(!a.exists("process.versions")||!process.versions["node-webkit"]);d.chromeApp=a.exists("chrome.storage.local");d.flash=function(){var a=navigator,b=parseFloat,c=a.plugins,a=a.mimeTypes,h,d;if(c&&"object"==typeof c["Shockwave Flash"]){if((h=c["Shockwave Flash"].description)&&(!a||!a["application/x-shockwave-flash"]||a["application/x-shockwave-flash"].enabledPlugin))return b(h.replace(/^.*\s+(\S+)\s+\S+$/,
"$1"))}else if(window.ActiveXObject)try{if(d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))if(h=d.GetVariable("$version"))return b(h.replace(/^\S+\s+(\d+),(\d+).*$/i,"$1.$2"))}catch(p){}return!1}();var p={};d.detect=function(){null==d.canvas&&p.detectFeature()};d.lang=((navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage)||"en").toLowerCase();d.history=!(!window.history||!window.history.pushState);d.fileReader=!!window.FileReader;d.chooseEntry=!!window.FileReader&&
(a.exists("chrome.fileSystem.chooseEntry")||a.exists("navigator.camera.getPicture"));d.fs=!!window.FileReader&&!!e(window,"requestFileSystem");d.fs_native=function(a){return/\{\s*\[native code\]\s*\}/.test(""+a)}(e(window,"requestFileSystem"));p.detectFeature=function(){if(d.canvas=!!f().ctx){var b;try{var g=document.createElement("canvas");g.getContext("webgl")||g.getContext("experimental-webgl");b=!0}catch(h){b=!1}d.webgl=b;b=document.createElement("div");d.cssBackgroundClip=u(b.style,"backgroundClip");
d.cssFilter=u(b.style,"filter");d.cssTransform=u(b.style,"transform");d.cssTransformOrigin=u(b.style,"transformOrigin");d.cssTextFillColor=u(b.style,"textFillColor");b=f().ctx;d.ctx_imageSmoothing="boolean"===typeof b.imageSmoothingEnabled;d.ctx_lineDash="function"===typeof b.setLineDash;k();b=f();var g=b.ctx,p;p=f().ctx;p=e(p,"backingStorePixelRatio")||1;p=d.pixelRatio=d._pixelRatio=(window.devicePixelRatio||1)/p;if(c.canvas.usePixelRatioMobile&&d.mobile||c.canvas.usePixelRatio&&!d.mobile)if(d.ios&&
8>d.iosVersion)d._pixelRatio=1;else{if(1!==p){var z=a.now();b.width=window.innerWidth*p;b.height=window.innerHeight*p;g.drawImage(b,0,0);36<a.now()-z&&(d.pixelRatio=1);b.width=b.height=1}}else d._pixelRatio=1}d.opera&&d.windows&&(d.gco.__blend=!1);c.style.composite=c.style.composite&&!1!==d.gco.__composite;c.style.blend=c.style.blend&&!1!==d.gco.__blend};p.getUserMedia=function(){return d.getUserMedia=!!e(navigator,"getUserMedia")};p.PeerConnection=function(){return d.PeerConnection=!!(window.PeerConnection||
window.webkitPeerConnection00||window.webkitRTCPeerConnection||window.mozRTCPeerConnection||window.RTCPeerConnection)};p.RTCDataChannel=function(){try{var a=l.net;(new RTCPeerConnection(a.iceServers,a.dataChannelConfig)).createDataChannel("supportCheck",{reliable:!0}).close();return d.RTCDataChannel=!0}catch(b){return d.RTCDataChannel=!1}};d.io={};p.io_bmp=function(){return t("bmp")};p.io_jpeg=function(){return t("jpeg")};p.io_png=function(){return t("png")};p.io_webp=function(){return t("webp")};
p.io_blob=function(a,b){try{f().toBlob(function(c){function h(c){d.io.blob=c;URL.revokeObjectURL(q.src);c?a():b()}var q=new Image;q.src=URL.createObjectURL(c);q.onload=function(){h(!(0===q.width&&0===q.height))};q.onerror=function(){h(!1)}})}catch(c){d.io.blob=!1,b()}};p.incognito=function(a,b){"function"===typeof detectPrivateMode?detectPrivateMode(function(c){c?a(d.incognito=!0):b(d.incognito=!1)}):b({message:"detectPrivateMode cannot be found"})};p.idb=function(a,b){return!!e(window,"indexedDB")};
p.idb_blob=function(a,b){d.has("idb",function(){var c="blob-support-"+Math.random(),h=indexedDB.deleteDatabase(c);h.onsuccess=function(){var h=indexedDB.open(c,1);h.onerror=function(){a(d.idb_blob=!1)};h.onsuccess=function(){var p=h.result;try{var w=new Blob([""],{type:"text/plain"});p.transaction("store","readwrite").objectStore("store").put(w,"key");b(d.idb_blob=!0)}catch(e){a(d.idb_blob=!1)}finally{p.close(),indexedDB.deleteDatabase(c)}};h.onupgradeneeded=function(){h.result.createObjectStore("store")}};
h.onblocked=function(){console.error("blocked")}},function(){b(d.idb_blob=!1)})};d.has=function(b,g,c){function h(a){a?g&&g(a):c&&c(a);return a}g=g||function(){};c=c||g;var z=a.resolve(b,d);if(null==z){if(b=b.replace(/\./g,"_"),z=p[b](g,c),"boolean"===typeof z)return a.resolve(b,d,z),h(z)}else return h(z)};return d}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m=m.feature||(m.feature={});m.appName="Sketchpad";m.debug=!1;m.debugCache=!1;m.debugRender=!1;m.debugTouch=!1;m.perf=!1;m.kiosk=!1;m.lang="auto";m.prefix="sketch";m.cache257=!1;m.cache2D=!0;m.cache2DPadding=1;m.cacheSVG=!0;m.paths={};m.paths.clipboard="$HOST/inc/ZeroClipboard2/ZeroClipboard.swf";m.paths.pdf="$HOST/inc/formats/pdf/pdf.worker.min.js";m.paths.zip="$HOST/inc/zip/";m.doc={};m.doc.clip={};m.doc.title="My Drawing";m.doc.description="made with sketch.io";m.doc.background="#fff";
m.doc.units="%";m.doc.width=100;m.doc.height=100;m.doc.originX=0;m.doc.originY=0;m.doc.pixelRatio=void 0;m.doc.exportDPI=72;m.doc.exportFormat="png";m.doc.exportQuality=.94;m.doc.editable=!0;m.doc.interactable=!0;m.doc.centerOnLoad=!0;m.doc.centerOnResize=!0;m.doc.gestureScroll=!0;m.doc.gestureTransform=!1;m.doc.gestureZoom=!1;m.doc.globalTools=!0;m.doc.restoreSettings=!0;m.tools={};m.tools.defaultTool="pen";m.tools.defaults={};m.tools.defaults.units="objectBoundingBox";m.tools.defaults.defaultHeight=
100;m.tools.defaults.defaultWidth=100;m.tools.defaults.useAddByClick=!0;m.tools.defaults.useAddByDrag=!0;m.tools.defaults.useConstrainToCanvas=!1;m.tools.defaults.useEditByClick=!1;m.tools.defaults.useEditByDblClick=!0;m.tools.defaults.showBBox=!0;m.tools.defaults.showCenterPoint=!0;m.tools.defaults.showGhostPath=!1;m.tools.defaults.minWidth=3;m.tools.defaults.minHeight=3;m.tools.defaults.maxWidth=8192;m.tools.defaults.maxHeight=8192;m.tools.defaults.flippable=!0;m.tools.defaults.movable=!0;m.tools.defaults.resizable=
!0;m.tools.defaults.rotatable=!0;m.tools.defaults.scalable=!0;m.tools.defaults.usePointInBBox=!0;m.tools.defaults.usePointInImageData=!0;m.tools.defaults.usePointInPath=!1;m.tools.defaults.usePointNearest=!0;m.tools.defaults.useGhostMode=!0;m.tools.defaults.useHoverAsFocus=!0;m.tools.defaults.controls={};m.tools.defaults.controls.anchor=void 0;m.tools.defaults.controls.spinner=void 0;m.tools.defaults.controls.n=void 0;m.tools.defaults.controls.s=void 0;m.tools.defaults.controls.e=void 0;m.tools.defaults.controls.w=
void 0;m.tools.defaults.controls.ne=void 0;m.tools.defaults.controls.se=void 0;m.tools.defaults.controls.sw=void 0;m.tools.defaults.controls.nw=void 0;m.tools.defaults.controls.mouse={width:16,height:16,padding:10};m.tools.defaults.controls.pen={width:16,height:16,padding:10};m.tools.defaults.controls.touch={width:16,height:16,padding:20};m.tools.defaults.controls.normal={lineWidth:.75,strokeStyle:"rgba(255,255,255,1)",fillStyle:"#000"};m.tools.defaults.controls.hover={lineWidth:.75,strokeStyle:"rgba(255,255,255,1)",
fillStyle:"#00E359"};m.tools.defaults.controls.focus={lineWidth:.75,strokeStyle:"rgba(255,255,255,1)",fillStyle:"#dd167a"};m.tools.select={};m.tools.select.useConfigure=!0;m.tools.select.clickToDeselect=!0;m.tools.text={};m.tools.text.defaultHeight=100;m.tools.text.defaultWidth=300;m.tools.text.defaultContent="Type something";m.tools.text.minHeight=15;m.tools.text.minWidth=15;m.tools.text.useAutoHeight=!0;m.tools.text.useCanvasRenderer=!0;m.tools.text.useClipBounds=!1;m.tools.text.useHTML=!1;m.tools.text.useResize=
!1;m.tools.text.useSearch="text";m.tools.media={};m.tools.media.useSearch="no";m.tools.vectorfill={};m.tools.vectorfill.fillArea="point";m.tools.vectorfill.fillMode=!1;m.tools.pointer={};m.tools.pointer.vibrate=!1;m.tools.brush={};m.tools.path={};m.tools.scissor={};m.tools.polygon={};m.tools.polygon.useAddPointAtDistanceOnDrag=10;m.tools.polygon.useBendable=!1;m.tools.polyline={};m.tools.polyline.useAddPointAtDistanceOnDrag=10;m.tools.polyline.useBendable=!1;m.tools.camera={};m.tools.crop={};m.tools.group=
{};m.tools.screenshot={};m.tools.shape={};m.tools.zoom={};m.canvas={};m.canvas.useGLFX=!1;m.canvas.useGLFXPixelData=!1;m.canvas.useForceInBounds=!1;m.canvas.useBGRender=!1;m.canvas.useBGSave=!0;m.canvas.useClipDoc=!0;m.canvas.useGroupBBox=!1;m.canvas.usePixelRatio=!0;m.canvas.usePixelRatioMobile=!1;m.zoom={};m.zoom.defaultValue=1;m.zoom.fromCenter=!0;m.zoom.increment=.1;m.zoom.max=100;m.zoom.min=.25;m.zoom.value=1;m.ui={};m.ui.addToLibrary=!0;m.ui.bruteForce=!0;m.ui.scrollerAtopColor="#fff";m.ui.scrollerCategories=
!0;m.ui.scrollerShadow=!1;m.ui.cursorDefs=!1;m.ui.cursorDynamic=!1;m.ui.customRangeBar=!1;m.ui.quickSelect=!1;m.ui.tooltips=!0;m.ui.listTool="list";m.ui.listText="list";m.uploader={};m.uploader.DnD=!0;m.uploader.DnDArea=void 0;m.uploader.DnDMessage=void 0;m.beforeUnloadPrompt=!1;m.preventScroll=!1;m.preventTouch=!1;m.requireAuth=!1;m.pane={};m.pane.tabs=!1;m.pane.position=void 0;m.pane.header=!0;m.palette={};m.palette.hexInput=!1;m.palette.closeButton=!1;m.palette.colorPicker=!1;m.palette.eyeDropper=
!1;m.palette.grid=!1;m.palette.header="";m.palette.version=2;m.palette.buildInstant=!1;m.io={};m.io.exportDrop=!1;m.io.filePickerIO=!1;m.io.defaultProject=!1;m.io.translateX=0;m.io.translateY=0;m.style={};m.style.toGlobals=!0;m.style.globalPaint=!0;m.style.globalBlend=!1;m.style.defaultFillType="color";m.style.defaultStrokeType="color";m.style.defaultBackgroundType="color";m.style.defaultBorderType="color";m.style.color="#000";m.style.gradient=!1;m.style.pattern=!1;m.style.blend=!1;m.style.composite=
!1;m.style.colorMode=!1;m.style.colorNoise=!1;m.style.lineJoin=!1;m.placement={};m.placement.mediaClick=!1;m.placement.mediaDblClick=!1;m.placement.mediaDrag=!1;m.history={};m.history.autoSelect=!1;m.history.canUndo=!0;m.history.canRedo=!0;m.history.bitmap=!1;m.history.limit=!1;m.fs={};m.fs.autosave=!0;m.sync={};m.sync.image=!1;m.sync.json=!1;m.sync.svg=!1;m.sync.thumb=!1;m.sync.zip=!1;m.sync.maxAssetSize=0;m.sync.maxFileSize=0;m.sync.enabled=!1;m.sync.hashFlag=null;m.stream={};m.stream.api="RTCDataChannel";
m.stream.audio=!1;m.stream.maxFileSize=0;m.stream.realtime=!1;m.stream.sketch=!1;m.stream.syncServer=!1;m.stream.spectrumAnalysis=!1;m.stream.text=!1;m.stream.video=!1;m.stream.videoAtop=!1;m.session={};m.session.userId="";m.session.userName="";m.social={};m.social.autoLogout=!1;m.social.autoLogoutTimeout=!1;m.social.setCookie=!0})(sketch);"undefined"===typeof sketch&&(sketch={});"undefined"===typeof sk&&(sk={});
(function(m){m.module=m.module||{};m.module.Namespace=function(l){sk=l;l.__nodejs=!1;l.__version="3.7.7";"{{"===l.__version.substr(0,2)&&(l.__version="3.7.8.2");l.api=l.api||{};l.agent=l.agent||{io:{}};l.doc=l.doc||{};l.doc.render=l.doc.render||{};l.doc.selection=l.doc.selection||{};l.docs=l.docs||[];l.dom=l.dom||{};l.fs=l.fs||{};l.gen=l.gen||{};l.io=l.io||{};l.lang=l.lang||{};l.lib=l.lib||{};l.loc=l.loc||{};l.module=l.module||{};l.net=l.net||{};l.net.user={};l.net.user.id="U";l.net.user.color="blue";
l.server=l.server||{};l.sidebar=l.sidebar||{};l.ui=l.ui||{};l.ui.colorpicker=l.ui.colorpicker||{};l.ui.icons=l.ui.icons||{};l.vector=l.vector||{};l.windows=l.windows||{}};"object"===typeof module&&module.exports?(module.exports.module=module.exports.module||{},module.exports.module.Namespace=m.module.Namespace):m.module.Namespace(m)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(e){for(var d=0;d<t.length;d++){var c=t[d];if(c.uuid===e||c.idx===e)return d}}var k=m.util,t=[],f=0,e=m.docs=new function(){};e.forEach=t.forEach.bind(t);e.get=function(e){e=l(e);if(-1<e)return t[e]};e.register=function(e){e instanceof m.module.Document&&(e.idx=f++,e.uuid=k.uuid(),t.push(e))};e.unregister=function(e){e=l(e);-1<e&&t.slice(e,1)};e.focus=function(f){var d=m.doc,c=e.get(f);c?c.idx!==d.idx&&((f=c.scene.clipboard)&&f.restore(),f=c._tool.type,c.toolkit.setConfig(f,
d.toolkit.config[f],!0),c.focus()):console.error("docId does not exist",f)};Object.defineProperties(e,{length:{get:function(){return t.length}}})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Document=function(l){function k(){var a=e.container;a&&a.setAttribute("data-uuid",e.uuid)}function t(a){function b(a){if(e.pixelRatio!==a)return e.pixelRatio=a,e.scene.setDirtyCache(),!0}var h="undefined"===typeof window?{}:window;if(0<a)return b(a);if(0<h.devicePixelRatio&&(c.canvas.usePixelRatioMobile&&u.mobile||c.canvas.usePixelRatio&&!u.mobile))return b(h.devicePixelRatio)}function f(a,b,c){a&&b?"%"===c?(e.width=a,e.height=b,e.units="%"):(e.width=a,
e.height=b,e.units="px"):(e.width=100,e.height=100,e.units="%")}var e=galactic.emitter(this),u=l.agent,d=l.dom,c=l.feature,a=l.net,b=l.ui;l.docs.register(e);e._editing=!1;e._interacting=!1;e._preloading=!1;e._rendering=!1;e.lastModified=-1;e.lastSynced=-1;e.toolDefault="select";e._tool={};e.toolkit={};e.toolkit.config={};e.hovered={};e.selection={};var h=e.computed={},p=e.contexts={layer0:"z-index: 0;",draw:"z-index: 1;",active:"z-index: 2;",cache:"display: none;"};c.debug&&(p.debug="");var r=e.canvas2d=
{x:0,y:0,width:0,height:0,orientX:0,orientY:0};e.title="My Drawing";e.description="";e.units="%";e.width=100;e.height=100;e.originX=0;e.originY=0;e.scrollX=0;e.scrollY=0;e.pixelRatio=1;e.scale=1;e.zoom=1;e.pages={};e.pages.length=1;e.pages.data=[{width:e.width,height:e.height}];e.viewport={width:0,height:0};e.clip={};e.exportDPI=72;e.exportFormat="png";e.exportQuality=1;(function(){function a(g,c,h){for(var w in g){var r=typeof g[w],z=p[w]||b[w]||h&&d[w];z&&(z===r||z.includes(r))&&(c[w]=g[w])}return c}
var b={labels:"object"},c={pages:"object",clip:"object",background:"string|object"},h={units:"string",width:"number",height:"number",originX:"number",originY:"number",scale:"number"},d={pixelRatio:"number"},p=Object.assign({},{uuid:"string",title:"string",description:"string",exportDPI:"number",exportFormat:"string",exportQuality:"number"},c,h);e.config=function(b,q){function d(a){for(var b in p)if(a[b])return!0}var p,r;if("string"===typeof b)p={},p[b]=q;else if("object"===typeof b)p=b,r=q;else return;
a(p,e,r);p.uuid&&k();p.width&&p.height&&e.pages&&1===e.pages.length&&(r=e.pages.data[0],r.width=p.width,r.height=p.height);e.orient&&(d(h)&&e.setMetrics(p),(d(h)||d(c))&&e.orient.render())};e.config.createParam=function(a,g){b[a]=g};e.config.json=function(){return a(e,{})}})();e.getViewport=function(){var a=d.measure(e.targetViewport),b=a.padding||{left:0,right:0,top:0,bottom:0},c=a.height-b.top-b.bottom,h=e.viewport;h.width=Math.round((a.width-b.left-b.right)/a.scaleX);h.height=Math.round(c/a.scaleY);
return h};e.getBounds=function(){if("px"===e.units)h.width=e.width,h.height=e.height;else{var a=e.getViewport();h.width=(e.width||100)/100*a.width;h.height=(e.height||100)/100*a.height}if(!h.width||!h.height){var b=d.measure(e.container),a=h.width=b.width,b=h.height=b.height;f(a,b,"px")}return h};e.setContainerBounds=function(a,b){if(!a||!b){var c=e.getBounds();a=c.width;b=c.height}var h=Math.max(1,e.zoom),p=e.getViewport(),c=Math.max(p.width,a)*h,h=Math.max(p.height,b)*h,r=e.container.style,f=Math.min(c,
p.width),p=Math.min(h,p.height);r.width=f+"px";r.height=p+"px";p=0>e.viewport.width-d.scrollbarX(e.container)-e.computed.width*e.zoom;f=0>e.viewport.height-d.scrollbarY(e.container)-e.computed.height*e.zoom;r.overflowX=p?"auto":"hidden";r.overflowY=f?"auto":"hidden";(e.scrollX&&!p||e.scrollY&&!f)&&e.scrollReset();return{viewportWidth:c,targetHeight:h,width:a,height:b}};e.getMetrics=function(){var a={};a.units=e.units;a.width=e.width;a.height=e.height;a.originX=e.originX;a.originY=e.originY;a.scrollX=
e.scrollX;a.scrollY=e.scrollY;a.zoom=e.zoom;return a};e.setMetrics=function(a){function b(c,h){return Number.isFinite(a[c])?a[c]:e[c]||h||0}e.scale=b("scale");e.originX=b("originX");e.originY=b("originY");e.setSize(a.width||e.width,a.height||e.height,a.units||e.units);e.scrollTo({left:a.scrollX||e.scrollX,top:a.scrollY||e.scrollY,duration:0});e.orient.reset();e.orient.setZoom(b("zoom"))};e.setPage=function(a,b){var c=e.pages;if(b)for(var h=0,p=e.scrollY+e.viewport.height,d=0;d<c.data.length;d++)if(h+=
c.data[d].height,p<=h){a=d+a;break}a=Math.min(c.length-1,Math.max(0,a));for(h=d=0;d<a;d++)h+=c.data[d].height;e.scrollTo({top:h,duration:0})};e.addPage=function(a){a.width&&a.height&&(e.pages.length++,e.pages.data.push({width:a.width,height:a.height}),e.setSize(e.width,e.height+a.height),e.scrollElementCSS())};e.removePage=function(a){isFinite(a)&&e.pages.data[a]&&(a=e.pages.data.splice(a,1)[0])&&(e.pages.length--,e.setSize(e.width,e.height-a.height),e.scrollElementCSS())};e.focus=function(){l.doc=
e;l.emit("focus",e)};e.setClip=function(a,b){a?a.path?e.setClipPath(a,b):e.setClipRect(a,b):(e.clip={},e.render.dirtyClip=!0)};e.setClipPath=function(a,b){var c=new l.vector.Transform;c.scale(b,b);c.flatten(a.path);e.clip={};e.clip.path=a.path;e.clip.style=a.style};e.setClipRect=function(a,b){e.clip=a};e.setContainer=function(a){var b;b="string"===typeof a?d.$(a):d.$(a.container||document.body);if(!(b instanceof HTMLElement))throw"args.element must be a valid HTMLElement or selector.";var c;c=b.classList.contains("sk-doc")?
b:d.append(b,'<div class="sk-doc"></div>');d.empty(c);d.append(c,'\t\t\t<div class="sk-doc-layout">\t\t\t\t<div class="sk-doc-background"></div>\t\t\t</div>\t\t\t<div class="sk-doc-canvas"></div>\t\t');e.targetCanvas=c.querySelector(".sk-doc-canvas");e.targetLayout=c.querySelector(".sk-doc-layout");e.targetBackground=c.querySelector(".sk-doc-background");e.targetListenable=d.$(a.focusElement||c);e.targetScrollable=d.$(a.scrollElement||c);e.targetViewport=d.$(a.targetViewport||c.parentNode||c);e.container=
c;e.focus();k();eventjs.add(b,"scroll",function(a){a=e.pixelRatio;var g=e.canvas2d,c=b.scrollTop,h=b.scrollLeft;e.scrollY=c;e.scrollX=h;e.scrollElementCSS();e.render.dirtyClip=!0;e.scene&&(g.tx=g.x-h*a,g.ty=g.y-c*a,l.emit("scroll"),e.render.dirty=!0,e.render.dirtyControls=!0,e.render.dirtyInBounds=!0,e.render.dirtyPointer=!0)})};e.scrollTo=function(a,b,c){var h;"object"===typeof a&&(h=a,a=h.left,b=h.top,c=h.duration,h=h.relative);d.scrollTo({target:e.targetScrollable,left:a,top:b,duration:c,relative:h})};
e.scrollReset=function(){var a=e.targetScrollable;0!==a.scrollLeft&&(a.scrollLeft=0);0!==a.scrollTop&&(a.scrollTop=0);e.scrollX=0;e.scrollY=0};e.scrollElementCSS=function(){var a=e.pixelRatio,b=e.zoom,c=e.getBounds(),h=e.targetLayout,p=h.style,f=b*c.width;p.height=b*c.height+"px";p.width=f+"px";c=r.orientY/a;b=Math.max(0,r.orientX/a);c=Math.max(0,c);p.transform="translate("+b+"px, "+c+"px)";a=e.viewport;p=e.targetCanvas.style;b=e.scrollX;c=e.scrollY;p.transform="translate("+b+"px, "+c+"px)";b=e.container;
c=d.scrollbar(b);f=a.width;a=a.height;b.offsetWidth<h.scrollWidth+c.height&&(a-=c.height);b.offsetHeight<h.scrollHeight+c.width&&(f-=c.width);p.maxWidth=f+"px";p.maxHeight=a+"px";e.setCSSBackgroundSize()};e.setCSSBackgroundSize=function(){function a(b,g){if(g&&g.canvas){var h=g.canvas;b.style.backgroundSize=h.width*c+"px "+h.height*c+"px"}}var c=e.zoom*e.scale;a(e.targetLayout,b.media.get("transparent"));a(e.targetBackground,h.background)};e.setPixelRatio=function(a){t(a)&&(e.setCanvasSize(),e.render.dirty=
!0)};e.setScale=function(a){0<a&&e.scale!==a&&(e.scale=a,e.scene.setDirtyCache(),e.scene.setDirtyTransform(),e.render.dirty=!0)};e.setZoom=function(a){0<a&&(e.orient.setZoom(a),e.orient.render())};e.setSize=function(a,b,c){f(a,b,c);e.setCanvasSize()};e.setCanvasSize=function(a,b){function h(a){var b=p[a];if("string"===typeof b){var c=b,b=p[a]=d.Canvas(1,1);b.style.cssText=c;"active"===a&&eventjs.add(b,"mousedown",function(){l.docs.focus(e.idx)})}return b}e.render.dirtyClip=!0;t();var z=e.setContainerBounds(a,
b);if(e.render.toExport)a=z.viewportWidth,b=z.targetHeight,e.targetScrollable.scrollTop=0;else{var f=e.getViewport();a=Math.min(z.viewportWidth,f.width);b=Math.min(z.targetHeight,f.height)}r.width=a;r.height=b;if(z=!c.doc.editable){var f=h("layer0"),k=h("cache");k.width=a;k.height=b;k.ctx.drawImage(f,0,0)}var f=e.pixelRatio,x;for(x in p)if(k="cache"===x,!z||!k){var u=h(x);u.width=a*f;u.height=b*f;u.setAttribute("data-layer",x);p[x]=u;k||(u.style.width=r.width+"px",u.style.height=r.height+"px",e.targetCanvas.appendChild(u))}z?
(f=p.layer0,x=f.ctx,d.Canvas.resizeOrClear(f,a,b),x.drawImage(p.cache,0,0),k=p.cache,d.Canvas.resizeOrClear(k,a,b)):e.scene.setDirtyBounds()};e.reset=function(a){a=a||{};e.scrollReset();e.history.reset();e.orient.reset();e.scene.reset();a.useRender&&(d.Canvas.clear(e.contexts.layer0),e.render.dirty=!0,e.render.dirtyClip=!0,e.render.dirtyControls=!0);e.emit("reset")};e.resetCache=function(){l.assets.reset(function(){var a=[];e.scene.copies.forEach(function(b){(b=b.src)&&-1===a.indexOf(b)&&a.push(b)});
return a}());l.vector.SVG.resetCache();e.render.cache.reset()};e.enable=function(){c.doc.interactable=!0;e.render.start();e._tool&&e._tool.enable();l.keyboard&&l.keyboard.enable();eventjs.bulk(l.events,"add")};e.disable=function(){c.doc.interactable=!1;e.render.stop();e._tool&&e._tool.disable();l.keyboard&&l.keyboard.disable();eventjs.bulk(l.events,"remove")};e.destroy=function(){e.disable();l.docs.unregister(e.uuid);b.scrollers&&(b.scrollers={})};e.needsSync=function(){return e.lastSynced!==e.lastModified};
e.timestamp=function(){return e.recorder?e.recorder.currentTime:e.player?e.player.currentTime:Date.now()};e.getActionId=function(b){return b.event?a.user.id+":"+b.pointerId:String(b.pointerId)};e.eventPID=function(b){return b?b.event?a.user.id+":"+b.identifier:b.identifier?String(b.identifier):"":a.user.id+":"+eventjs.getPID(1)};e.on("tooltip",function(a,c){b.tooltip&&b.tooltip.update(a,c)})}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.DocumentStyle=function(l,k){function t(a,b){var c;if(a[b])c="string"===typeof a[b]?a[b]=new u.create(a,b):a[b];else if(c=k.toolkit.config[a.type],c[b])c=c[b];else return"";var p=c.type;"string"!==typeof c[p]&&(c[p]=u[b][p]);return c}function f(a,b){var c=t(b,a),p=c.noise,d=c.type,g=c[d];if(g){if(b.useBackgroundOverlay)return"brush"===b.toolkitId?c.__colors=[0,c.color||"#000"]:c.__colors=[0,k.computed.background];if("none"===g)return c.__colors=[0,"rgba(0,0,0,0)"];
switch(d){case "color":return c.__colors=[0,g];case "gradient":var q=u.getGradientStops({dna:g,asFlatArray:!0,asHex32:!0});if(0===q.length)return c.__colors=[0,c.color||"#000"];break;case "pattern":return g?(u.loadPattern(g),c.__colors=[0,u.patternCtx[g]]):c.__colors=[0,c.color||"#000"]}if(p||l.detect.useColorModeCycle[b.type]){d=u.hashDNA(g+p);if(u.gradientCtx[d])return c.__colors=u.gradientCtx[d];c.__colors=l.style.getColorStopsHelper({length:500,stops:q,noise:p,seed:b.seed});return u.gradientCtx[d]=
c.__colors}c=c.__colors=[];for(p=0;p<q.length;p+=2)c.push(q[p]),c.push(l.color.space(q[p+1],"HEX32>RGBA>W3"));return c}}var e=l.feature,u=l.style,d=k.toolkit,c=l.util;(function(){function a(a,b){var c=l.colorspace(a).setAlpha(b).toCSS();g({computed:c,css:c,paint:new u.Fill({color:a,opacity:b})});q&&q()}function b(a){var b=a.angle,c=a.mode,h=u.getColorStopsHelper({asFlatArray:!0,dna:a[a.type],noise:a.noise});g({computed:u.createGradient(null,c,0,0,k.computed.width,k.computed.height,h,a),css:u.toCSSGradient({stops:h,
type:c,angle:b}),paint:a});q&&q()}function h(a){-1===a.indexOf("gradient")&&(a=u.toCSSGradient({dna:a,type:"linear",angle:"0deg"}));var b=u.parseCSSGradient(a).stops;b?(g({computed:u.createGradient(null,"linear",0,0,k.computed.width,k.computed.height,b,a),css:a,paint:a}),q&&q()):w&&w()}function p(a,b){var c=l.loc.getMediaUrl(a);l.convert.patternFromFile({src:c,opacity:1,onerror:w,onsuccess:function(h){u.loadPattern(a);g({computed:h,css:"url("+c+")",paint:b||a});k.setCSSBackgroundSize();q&&q()}})}
function d(a,b){a(b).then(function(a){g({computed:a,css:a.css,paint:b});q&&q()})}function g(a){var b=a.paint,c=a.computed;a=a.css;k.background=b;k.computed.background=c;b=b.opacity;c=k.targetBackground;if(c.style.background!==a||c.style.background!==b)e.canvas.useBGRender?(k.render.dirty=!0,k.render.dirtyControls=!0):(c.style.opacity=b,c.style.background=a);a=c.parentNode;""===a.style.background&&(a.style.background=l.ui.media.get("transparent").css)}var q,w;k.setBackground=function(g,e,f){g=g||"none";
q=e||g.onload;w=f||g.onerror;if(g.type)switch(e=u.copy(g),e.type){case "color":a(e.color,e.opacity);break;case "gradient":b(e);break;case "pattern":p(e.pattern,e)}else{if(g.crop)return e=k.computed,c.thumbnailer({src:g.src,crop:g.crop||"fit",center:g.center||!1,width:g.width||e.width,height:g.height||e.height,onsuccess:function(a){p(a.toDataURL(),g)}});e=g.src||g;switch(e){case "none":break;case "blank":return a("white",1);case "white":return a("white",1);case "black":return a("black",1);case "grid":return d(l.gen.grid,
"grid");case "graphPaper":return d(l.gen.grid,"graphPaper");case "blueprint":return d(l.gen.grid,"blueprint");case "notebook":return d(l.gen.paper,"notebook");case "looseLeaf":return d(l.gen.paper,"looseLeaf");case "lined":return d(l.gen.paper,"lined");case "transparent":return d(l.gen.interlace,"transparent");case "transparentDark":return d(l.gen.interlace,"transparentDark");default:f=u.validate(e),"color"===f?a(e,1):"pattern"===f||0===e.indexOf("url(")?(f=e.match(/(?:\(['|"]?)(.*?)(?:['|"]?\))/),
p(f&&f[1]?f[1]:e)):h(e)}}}})();k.setComposite=function(a,b,c){a=u.toBlendInternal(a);b=b||k._tool.type;var p=d.get(b);if(p&&p.device){b=k.toolkit.config[b];if("eraser"===b.type)return;var r=b.composite;r&&(r.setValue?r.setValue(a):d.setConfigProperty(b,"composite",a),d.setConfigProperty(p.device,"composite",a));c&&k.selection.length&&k.toolConfig({param:"composite",value:a})}u.composite=a};k.setFill=function(a){a=a||{};"string"===typeof a?a={fill:{dna:a}}:a.stroke||(a.fill=u.copyInto(a,{},{paintType:"fill"}));
a.useColorPicker=!1!==a.useColorPicker;k.setStyle(a)};k.setStroke=function(a,b,c,d,r,g,q){a=a||{};"string"===typeof a?(a={stroke:{dna:a}},g&&(a.stroke.dashArray=g),isFinite(q)&&(a.stroke.dashOffset=q),c&&(a.stroke.lineCap=c),d&&(a.stroke.lineJoin=d),isFinite(b)&&(a.stroke.lineWidth=b),isFinite(r)&&(a.stroke.miterLimit=r)):a.stroke||(a.stroke=u.copyInto(a,{},{paintType:"stroke"}));a.useColorPicker=!1!==a.useColorPicker;k.setStyle(a)};k.setFont=function(a){"string"===typeof a&&(a={fontFamily:a});a=
a||{};var b=a.fontFamily,c=a.onsuccess,p=a.selection;if(b){var r=d.text;a=k.scene.copyProperties(r,a,{});r.loadFont(b).then(function(){k.toolConfig({params:a,selection:k.selection.toSelection(p||k.selection.items).filter({type:"text"})});c&&c()})}};(function(){k.setStyle=function(b){var h=b.useColorPicker&&l.ui.colorpicker.update||!1,d=!!k.on.record,r=k.selection.toObjects(b.selection||k.selection),g;(g=b.configure)||(g=k.toolkit.config[(k.selection.item||k._tool).type]);var q=g;g=b.event||{};var w=
g.env||{},e=eventjs.getPointerState(g),y=k.eventPID(g),v=!e||"start"===e,x=!e||"end"===e,t=b.dirtyFlag||0,E={},A={},m,B={},C;for(C in u.methods)if(b[C]){a:{m=b[C];"string"===typeof m&&(m={dna:m});var H=m.dna||m.color||m.gradient||m.pattern,G=m.paintType;if(!G&&H)if(H=u.parseStyle(H))G=H.type,H=H.dna;else{m=void 0;break a}G&&(m.type=G,m[G]=H,delete m.dna,delete m.paintType)}if(m){var G=m,H=C,F=q&&q[H];F&&(u.copyInto(G,F),u.copyInto(G,u[H]));G=C;if(H=k._tool.device)if(F=H[G])u.copyInto(m,F),f(G,H);
B[C]=m}}b=0;for(q=r.length;b<q;b++)for(C in G=r[b],B){m=B[C];a:{var H=G,F=m,N=C,K=E,J=A,S=v,P=x,T=d,U=H[N];if(void 0===U)if((U=k.toolkit.config[H.type])&&U[N])U=H[N]=u.create({},N);else{H=void 0;break a}if(!1===U)H=!1;else if(u.equals(F,U.__cache||U))P&&delete U.__cache,H=void 0;else if("clipart"===H.type)dirtyFlag++,H=void 0;else{S&&(U.__cache=u.copy(U));if(P||T){var I=H.id,S=K[I]||{id:I};S[N]=U.__cache;K[I]=S}P&&(k.scene.setDirtyPixelData(H),delete U.__cache);u.copyInto(F,U);if(P||T)S=J[I]||{id:I},
S[N]=u.copy(U),J[I]=S;H.dirtyCache=!0;f(N,H);H=!0}}H&&t++}if(t||d){if(x||d)if(r=c.diff(c.objectToArray(k.scene.copyDeepCompress(E)),c.objectToArray(k.scene.copyDeepCompress(A)),["id"]),d&&x&&w.start||r)d&&(w.start||(e="start"),w.start=!0,k.emit("record",{op:"SCENE_UPDATE",data:{pointerId:y,state:e,changes:r.to}})),x&&k.history.store({cmd:"update",name:"update-style",data:{pointerId:y,from:r.from,to:r.to}});k.render.throttle(g,1<t)}a(x,h,m)};var a=c.throttle(function(a,c,p){a&&k.saveSettings();d.text&&
d.text.updateCSSStyle();if(l.palette){a=l.palette;var r=a.getPaintMethod();if(k.scene&&1===k.selection.length){var g=k.scene.getOneSelected();g&&"clipart"!==g.type&&(p=g&&g[r])}else(g=k._tool.device)&&(p=g[r]);p&&a.setIndicator(p)}c&&p&&"color"===p.type&&"none"!==p.color&&l.ui.colorpicker.update(p.color)},50)})();k.loadStyle=function(a){function b(a,b){return new Promise(function(c,g){var q=t(a,b);"pattern"===q.type&&q.pattern?u.loadPattern(q.pattern,function(g){f(b,a);c()},function(){c("404")}):
(f(b,a),c())})}return new Promise(function(c,d){var r=[],g;for(g in u.methods)a[g]&&r.push(b(a,g));return Promise.all(r).then(c,d)})};k.getW3CStyle=function(a,b,c,d,r,g,q){var w=q[a];if(w&&w.enabled){var e=w.type,y=w.mode,l=w[e];if("destination-out"===q.composite)return k.computed.background||"#000";if("none"===l)return"stamp"===q.type?"rgba(0,0,0,0)":"rgba(0,0,0,1)";if("color"===e)return"cycle"===y?(b=w.__colors||(w.__colors=f(a,q)),b[(2*(q.time||0)+1)%b.length]):l;if("pattern"===e)return u.patternCtx[l]?
u.patternCtx[l]:"rgba(0,0,0,1)";if("gradient"===e)return a=w.__colors||(w.__colors=f(a,q)),u.createGradient(b,y,c,d,r,g,a,w,q.bbox&&q.bbox.scale)}};k.saveSettings=function(){var a=k.toolkit,b=k._tool,a=b.noGUI?a.previous.type():b.type;(a=l.config(a).values(!0))&&c.cookie.set("tool.config",JSON.stringify(a))};k.restoreSettings=function(){return new Promise(function(a,b){var h=k.toolkit;c.cookie.get("tool.config",function(c){var d=e.tools.defaultTool;try{var g=c.type||d;h.setConfig(g,c);u.setGlobalFromObject(c)}catch(q){console.log(q),
c=void 0,g=d}l.exec(g,function(){c&&k.setComposite(c.composite);l.ui.pages.restore();a()},function(a){console.error(g,a);b()})})})}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Exec=function(l){function k(a,b,c,g){eventjs.shiftKey&&(a*=10,b*=10);f.selection.length&&(g&&(e.copy(),e.paste()),"down"===c&&(k.cache={}),e.selection.transform({cache:k.cache,state:u.cleanState(c),x:a,y:b}),t())}function t(){f.render.dirty=!0;f.render.dirtyControls=!0}var f,e,u,d=l.util,c=l.vector,a=l.feature;l.exec=function(c,p,r){if(c){if(b[c]){f=l.doc;e=f.scene;u=f.toolkit;var g=Array.prototype.slice.call(arguments);return b[c].apply(null,g)}if(a.doc.globalTools){var q=
d.pending(1,p||function(){});l.docs.forEach(function(a){q.push();a.tool(c).then(q.pop,q.pop)});q.pop()}else l.doc.tool(c).then(p,r)}else console.warn("missing trigger",arguments)};l.exec.register=function(a,c){a.indexOf&&(-1!==a.indexOf(" ")?a=a.split(" "):-1!==a.indexOf(",")&&(a=a.split(",")));if("object"===typeof a)for(var d=0;d<a.length;d++)b[a[d]]=c;else b[a]=c};l.exec.unregister=function(a){delete b[a]};var b={"object-download":function(a){if(1===f.selection.length){a=f.selection.objects();for(var b=
0;b<a.length;b++){var c=a[b];if(c.src&&"image"===c.type){l.assets.getBlob(c.src,function(a,b,c){b=c.replace("#asset-","")+".png";l.download.blob(a,b)});return}}}l.download.image({filename:f.title+"-layerExport",useSelection:!0})},"object-move-left":function(a,b,c){k(-(b||1),0,c)},"object-move-up":function(a,b,c){k(0,-(b||1),c)},"object-move-right":function(a,b,c){k(b||1,0,c)},"object-move-down":function(a,b,c){k(0,b||1,c)},"object-move-end":function(a,b,c){k(0,0,c)},"object-clone-left":function(a,
b,c){k(-(b||1),0,c,!0)},"object-clone-up":function(a,b,c){k(0,-(b||1),c,!0)},"object-clone-right":function(a,b,c){k(b||1,0,c,!0)},"object-clone-down":function(a,b,c){k(0,b||1,c,!0)},"object-clone-end":function(a,b,c){k(0,0,c,!0)},"debug-action":function(a){a=f.selection.objects();for(var b=0;b<a.length;b++){var c=a[b];console.log("id:",c.id,"idx:",c.zIndex,"type:",c.type);console.log("object:",c);console.log("bbox:",c.bbox)}},render:function(){t()},"zoom-to":function(a,b){f.setZoom(b)},"zoom-in":function(a){f.render.dirtyControls=
!0;f.orient.controllerZoomIn();e.setDirtyBounds()},"zoom-out":function(a){f.render.dirtyControls=!0;f.orient.controllerZoomOut();e.setDirtyBounds()},"zoom-reset":function(a){f.render.dirtyControls=!0;f.orient.controllerReset();e.setDirtyBounds()},"object-to-stamp":function(a){l.assets.addStampFromSelection()},"object-merge":function(a){l.assets.addCloneFromSelection()},"object-group":function(a){a="group"+Math.round(999999*Math.random());for(var b=f.selection.objects(),c=0;c<b.length;c++)b[c].groupId=
a},"path-merge":function(a){c.mergeLayers();a=e.selection.objects();f.selection.remove();if(a=c.mergeLayers(a))a.dirtyCheck=!0,f.history.store({cmd:"add",name:"merge-objects",data:[a]}),e.push(a),e.sort(),e.reindex(),t()},"object-forwards":function(a){e.sendForwards&&f.selection.length&&(e.sendForwards({record:!0}),t())},"object-to-front":function(a){e.sendForwards&&f.selection.length&&(e.sendForwards({record:!0,toFront:!0}),t())},"object-backwards":function(a){e.sendBackwards&&f.selection.length&&
(e.sendBackwards({record:!0}),t())},"object-to-back":function(a){e.sendBackwards&&f.selection.length&&(e.sendBackwards({record:!0,toBack:!0}),t())},"object-delete":function(a){f.selection.length&&(f.selection.remove(),t(),l.ui.configurePane())},"object-copy":function(a){e.copy&&f.selection.length&&(e.copy(),e.setDirtyControl(e.selection.items),t())},"object-cut":function(a){e.cut&&f.selection.length&&(e.cut(),t(),l.ui.configurePane())},"object-paste":function(a){e.paste&&e.paste(function(){t();f.tool("select")})},
"object-duplicate":function(a){e.duplicate&&(e.duplicate(),t())},"select-all":function(a){l.exec("select",function(){e.selectAll();t()})},"select-inverse":function(a){l.exec("select",function(){e.selectInverse();t()})},"deselect-all":function(a){e.deselectAll();t()},undo:function(a){f.history.undo();f.render.dirtyControls=!0},redo:function(a){f.history.redo();f.render.dirtyControls=!0},print:function(a){l.print()},save:function(a){l.save.fromQuery()},"save-server":function(a){l.save.toServer()},"save-image":function(a,
b){l.download.image(b)},"save-gif":function(a){l.download.image("gif")},"save-jpeg":function(a){l.download.image("jpeg")},"save-png":function(a){l.download.image("png")},"save-webp":function(a){l.download.image("webp")},"save-json":function(a){l.download.json()},"save-pdf":function(a){l.download.pdf()},"save-sketch":function(a){l.download.sketch()},reset:function(a){f.reset({useRender:!0})},"new":function(a){l.exec("reset");f.uuid=d.uuid();f.history.store({cmd:"new",name:"new",data:[]});l.fs.touchProject&&
l.fs.touchProject(f.uuid)},"new-confirm":function(a,b,c){l.save.confirm({oncontinue:function(){l.exec("new");l.ui.log("new-doc-created");b&&b()},onrequestsave:function(){l.save.fromQuery()},oncancel:function(){c&&c()}})},configure:function(a){a=l.ui.pages.getPageId();l.ui.setPane("configure");"configure"!==a&&!1!==l.sidebar.opened||sidebar.toggle()},layers:function(a){a=l.ui.pages.getPageId();l.ui.setPane("layers");"layers"!==a&&!1!==l.sidebar.opened||sidebar.toggle()},history:function(a){a=l.ui.pages.getPageId();
l.ui.setPane("history");"history"!==a&&!1!==l.sidebar.opened||sidebar.toggle()},menu:function(a){l.sidebar.toggle()},palette:function(a){l.windows.toggle("#sk-palette")},"color-picker":function(a){l.windows.toggle("#sk-palette")},colorPalette:function(a){l.colorPalette.enabled?l.colorPalette.disable():l.colorPalette.enable()}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(a){return(new Promise(function(a,b){l.initialized?a():(l.initialized=!0,p.Agent(m),r.exists("glfx.loadFilters")&&!glfx.presets.length?glfx.loadFilters(a):a())})).catch(function(a){console.error(a)})}function k(a){u(p.Style,a.style)&&p.Style(a)}function t(a,b){new p.GenerateMedia(a,b);new p.UI(a,b);new p.UICursor(a,b);new p.Library(a,b);new p.DocumentStyle(a,b);p.Exec&&new p.Exec(a);p.GeneratePreview&&p.GeneratePreview(a);u(p.Assets,a.assets)&&(a.assets=new p.Assets(a,b))}function f(a,
b){p.Scene&&(b.scene=new p.Scene(a,b),b.hovered=b.scene.hovered,b.selection=b.scene.selection,p.AddMedia&&new p.AddMedia(a,b),p.AddObject&&(new p.AddObject(a,b),b.scene.add=b.addObject),p.SceneReplicate&&(p.SceneReplicate(a,b),b.scene.clipboard.restore()),p.SceneOrganize&&p.SceneOrganize(a,b),p.ScenePlacement&&p.ScenePlacement(a,b),p.SceneFind&&p.SceneFind(a,b));p.History&&(b.history=new p.History(a,b));p.Control&&p.ControlEvent&&(new p.Control(a,b),new p.ControlEvent(a,b));p.Theme&&(b.theme=new p.Theme(a,
b))}function e(a,b){a.vector.Shape&&(a.vector.VOBPath=a.vector.Shape.VOBPath);p.IO(a);var c=a.feature;u(p.UIPaletteEditor,a.palette)&&(a.palette=new p.UIPaletteEditor(a,b));u(p.UISidebar,a.sidebar)&&(c.pane.position?a.sidebar=new p.UISidebar(a,c.pane.position):console.warn("sidebar position not set"));u(p.UITooltip,a.ui.tooltip)&&c.ui.tooltips&&(a.ui.tooltip=new p.UITooltip(a));u(p.UIVortex,a.vortex)&&(a.vortex=new p.UIVortex(document.body));p.Alert&&!a.ui.alert&&new p.Alert(a);p.UIStartWindow&&new p.UIStartWindow(a,
b);c.pane.tabs&&a.ui.UISidebarTabs();u(p.Keyboard,a.keyboard)&&(a.keyboard=new p.Keyboard(a));a.keyboard&&a.keyboard.enable(b);p.ShareFest&&new p.ShareFest(a,b);p.SocketIO&&new p.SocketIO(a,b);p.Peer&&new p.Peer(a,b);p.PeerTest&&new p.PeerTest(a,b);p.Recorder&&!b.recorder&&(b.recorder=new p.Recorder(a,b));p.Player&&!b.player&&(b.player=new p.Player(a,b));u(a.net.Swarm,a.net.swarm)&&(a.net.swarm=new a.net.Swarm);u(a.net.Users,a.net.users)&&(a.net.users=new a.net.Users);"undefined"!==typeof Stats&&
!m.stats&&m.feature.debug&&(m.stats=new Stats,m.stats.setMode(1),m.stats.domElement.style.zIndex=99999,m.stats.domElement.style.position="fixed",m.stats.domElement.style.bottom="0px",m.stats.domElement.style.left="0px",document.body.appendChild(m.stats.domElement));p.PathFinder&&new p.PathFinder(a,b);p.Orientation&&p.Orientation.createController(a,b);r.getScreenMetrics&&!r.toMetrics&&(r.toMetrics=r.getScreenMetrics());r.loadImage&&h.PROXY&&(r.loadImage.proxyUrl=h.PROXY);a.ui.Loader&&!a.loader&&(a.loader=
new a.ui.Loader);a.feature.kiosk&&r.requestKioskMode()}function u(a,b){return a&&!(b instanceof a)}function d(g,h){var d=g.feature,p=r.debounce(function(a){g.emit("beforeresize");g.docs.forEach(function(a){a.setCanvasSize();d.doc.centerOnResize&&a.orient.reset(!0);a.render.dirty=!0;a.render.dirtyControls=!0;a.render.dirtyPointer=!0});g.emit("resize",h.viewport)},{wait:100}),e=h.container,f=h.contexts.active;g.events&&eventjs.bulk(g.events,"remove");g.events={};h.events&&eventjs.bulk(h.events,"remove");
h.events={};g.events.onResize=eventjs.add(window,"resize",p);g.ui.TSEvents.add();g.ui.setupStartWindow&&g.ui.setupStartWindow();d.preventScroll&&!d.debugCache&&eventjs.add(e,"wheel",eventjs.stop);g.agent.chromeApp||(g.events.onBeforeUnload=eventjs.add(window,"beforeunload",b));d.preventTouch&&g.agent.mobile&&(g.events.onTouch=eventjs.add(document,"touchstart",eventjs.prevent,{strict:!0}));eventjs.add(f,"contextmenu",eventjs.prevent);eventjs.add(f,"mouseup",function(){document.activeElement!==document.body&&
document.activeElement&&document.activeElement.blur()});g.events.onFocusWindow=eventjs.add(window,"focus",a);g.events.onBlurWindow=eventjs.add(window,"blur",c)}function c(a){eventjs.keyTrackerReset()}function a(a){eventjs.keyTrackerReset(a);(a=m.doc.scene.clipboard)&&a.restore()}function b(a){function b(a){return"function"===typeof a?a():a}var c=m.feature.beforeUnloadPrompt,h;"object"===typeof c?(h=b(c.message),setTimeout(c.oncancel,250)):h=b(c);if(h)return(a||window.event).returnValue=h}console&&
console.log&&console.log("%c\u2665 SketchAPI 3.7.8.2 \u2665","color: red;");var h=m.loc,p=m.module,r=m.util;m.setHost=h.setHost;m.Document=function(a){l().then(function(){a=a||{};var b=a.onready||function(){},c=a.onsupport,h=a.toolset;k(m);var r=m.feature,l=new p.Document(m);l.config(r.doc,!0);l.setContainer(a);l.toolkit=new p.Toolkit(m,l);l.toolkit.config=new p.Configure(m,l,h);l.render=new p.SceneRender(m,l);l.queueHistory=new p.QueuePending;t(m,l);f(m,l);m.lang.setLocale(r.lang,function(){m.agent.detect();
m.agent.has("incognito",function(){c&&c(l);setTimeout(function(){l.setBackground(r.doc.background);l.setCanvasSize();e(m,l);p.install(m,l);l.toolkit.init();d(m,l);l.queueHistory.run(m,l);setTimeout(function(){l.render.start();r.doc.restoreSettings?l.restoreSettings().then(function(){b(l)}).catch(function(a){console.error(a);b(l)}):b(l)},0)},0)})})})};m.construct=function(a){l().then(function(){a=a||{};a.icons&&r.copyInto(a.icons,m.ui.icons);a.feature&&m.setFeature(a.feature);a.hosts&&m.setHost(a.hosts);
m.Document(a)})};m.setFeature=function(){return function(a){l().then(function(){"object"===typeof a&&(a.tools&&a.tools.defaults&&a.tools.defaults.controls||(a.tools.defaults.controls=m.module.ThemeDefault()),r.copyInto(a,m.feature));var b=m.feature,c=h.search;c.zoom&&(b.zoom.value=parseFloat(c.zoom));c.pixelRatio&&(b.doc.pixelRatio=parseFloat(c.pixelRatio),b.canvas.usePixelRatio=!1,b.canvas.usePixelRatioMobile=!1);for(var d in c){var p=c[d],e=typeof b[d];"undefined"!==e&&("string"===e?b[d]=p:"boolean"===
e?b[d]="true"===p||!0===p:"number"===e&&isFinite(p=parseFloat(p))&&(b[d]=p))}b=m.feature;b.debug&&(document.body.style.overflow="auto",b.preventScroll=!1,b.preventTouch=!1)})}}();p.IO=function(a){(function(){function b(c){return a.rawCode?c.replace("$HOST","/sketch.io/api"):c.replace("$HOST",d)}var c=a.feature.paths,d=h.HOST.slice(0,-1);window.zip&&(zip.workerScriptsPath=b(c.zip));window.PDFJS&&(PDFJS.workerSrc=b(c.pdf));window.ZeroClipboard&&ZeroClipboard.config({swfPath:b(c.clipboard)})})();u(p.ZIP,
a.io.zip)&&(a.io.zip=new p.ZIP(a));u(p.PDF,a.io.pdf)&&(a.io.pdf=new p.PDF(a));u(p.SVG,a.io.svg)&&(a.io.svg=new p.SVG(a));u(p.JSON,a.io.json)&&(a.io.json=new p.JSON(a));u(p.ABR,a.io.abr)&&(a.io.abr=new p.ABR(a));u(p.GBR,a.io.gbr)&&(a.io.gbr=new p.GBR(a));u(p.Server,a.server)&&(a.server=new p.Server(a));u(galactic.fs,a.fs)&&(a.fs=new galactic.fs);u(p.Open,a.open)&&(a.open=new p.Open(a));u(p.Save,a.save)&&(a.save=new p.Save(a));u(p.Download,a.download)&&(a.download=new p.Download(a));u(p.Print,a.print)&&
(a.print=new p.Print(a))};galactic.emitter(m)})(sketch);"undefined"===typeof sketch&&(sketch={});(function(m){m.module=m.module||{};m.module.QueuePending=function(l){var k=[];this.add=function(l){k.push(l)};this.run=function(t,f){for(;k.length;){var e=k.shift();l?l(t,f,e):e(t,f)}}}})(sketch);"undefined"===typeof sketch&&(sketch={});"undefined"===typeof sk&&(sk=sketch);(function(m){var l=new m.module.QueuePending;m.module=m.module||{};m.module.add=l.add;m.module.install=l.run})(sketch);
"undefined"===typeof sketch&&(sketch={});sketch.color=sketch.color||{};sketch.colorspace=sketch.colorspace||{};sketch.color.space=sketch.color.space||{};
(function(){var m={},l={"HEX24>HSL":"HEX24>RGB>HSL","HEX32>HSLA":"HEX32>RGBA>HSLA","HEX24>CMYK":"HEX24>RGB>CMY>CMYK","RGB>CMYK":"RGB>CMY>CMYK"},k=sketch.color.space=function(d,c){l[c]&&(c=l[c]);if("object"===typeof d&&0<=d[0]){for(var a=c.substr(0,c.indexOf(">")),b={},h=0;h<a.length;h++){var p=a.substr(h,1);b[p]=d[h]}d=b}if(m[c])return m[c](d);for(var r=[],a=c.split(">"),b=a[0]+"_"+a[1],h=2;h<=a.length;h++)d=k[b](d),r.push(k[b]),b=b.substr(b.indexOf("_")+1)+"_"+a[h];a=r.length;1===a?m[c]=r[0]:2===
a?m[c]=function(a){return r[1](r[0](a))}:3===a?m[c]=function(a){return r[2](r[1](r[0](a)))}:4===a&&(m[c]=function(a){return r[3](r[2](r[1](r[0](a))))});return d},t={"#":function(d,c){d.color=k.HEX24_RGBA(k.W3_HEX24(c));d.format="RGB"},rgba:function(d,c){d.color=k.W3_RGBA(c);d.format="RGB"},rgb:function(d,c){d.color=k.W3_RGBA(c);d.format="RGB"},hsla:function(d,c){d.color=k.W3_HSLA(c);d.format="HSL"},hsl:function(d,c){d.color=k.W3_HSLA(c);d.format="HSL"}},f=sketch.colorspace=function(d,c){if(this instanceof
f){d=d||"#000";if("string"===typeof d){d=d.replace(/ /g,"");d=d.toLowerCase();if(u[d])return t["#"](this,u[d]),this.format="RGB",this;for(var a in t)if(0===d.indexOf(a))return t[a](this,d),this;this.color={R:0,G:0,B:0,A:255};this.format="RGB"}else this.color=d,this.format=c;return this}return new f(d)},e=f.prototype;e.setAlpha=function(d){this.color.A=255*d;return this};e.multAlpha=function(d){this.color.A*=d;return this};e.setSpace=function(d){var c=this.format;c!==d&&(this.color=k(this.color,c+
">"+d),this.format=d);return this};e.toHEX24=function(){return k.RGB_HEX24(this.toRGB().color)};e.toHEX32=function(){return k.RGBA_HEX32(this.toRGB().color)};e.toRGB=function(){return this.setSpace("RGB")};e.toHSL=function(){return this.setSpace("HSL")};e.toHSV=function(){return this.setSpace("HSV")};e.toCMYK=function(){return this.setSpace("CMYK")};e.toHEXString=e.toHEX24String=function(){return k.HEX24_W3(this.toHEX24())};e.toHEX32String=function(){return k.HEX32_W3(this.toHEX32())};e.toRGBString=
function(){return k.RGB_W3(this.toRGB().color)};e.toRGBAString=function(){return k.RGBA_W3(this.toRGB().color)};e.toHSLString=function(){return k.HSL_W3(this.toHSL().color)};e.toHSLAString=function(){return k.HSLA_W3(this.toHSL().color)};e.toCSS=function(){var d=this.color;switch(this.format){case "RGB":return 255===d.A?this.toHEXString():this.toRGBAString();case "HSL":return 255===d.A?this.toHSLString():this.toHSLAString()}};e.isW3Contrast=function(d,c,a){c=c||125;a=a||500;d=d?(new f(d)).toRGB().color:
{R:0,G:0,B:0};c=this.isW3Brightness(d)<=c;a=this.isW3Difference(d)<=a;return!(c&&a)};e.isW3Brightness=function(d){return k.W3Brightness(this.color,d)};e.isW3Difference=function(d){return k.W3Difference(this.color,d)};k.isW3Contrast=function(d,c){c=c||{R:255,G:255,B:255};var a=125>=k.W3Brightness(d,c),b=500>=k.W3Difference(d,c);return!(a&&b)};k.W3Brightness=function(d,c){return Math.abs((299*d.R+587*d.G+114*d.B)/1E3-(299*c.R+587*c.G+114*c.B)/1E3)};k.W3Difference=function(d,c){var a=Math.max(d.R,c.R)-
Math.min(d.R,c.R),b=Math.max(d.G,c.G)-Math.min(d.G,c.G);c=Math.max(d.B,c.B)-Math.min(d.B,c.B);return a+b+c};k.RGB_W3=function(d){return"rgb("+(d.R>>0)+","+(d.G>>0)+","+(d.B>>0)+")"};k.RGBA_W3=function(d){var c=isFinite(d.A)?d.A/255:1;return"rgba("+(d.R>>0)+","+(d.G>>0)+","+(d.B>>0)+","+c+")"};k.W3_RGB=function(d){d=d.substr(4,d.length-5).split(",");return{R:parseFloat(d[0],10),G:parseFloat(d[1],10),B:parseFloat(d[2],10)}};k.W3_RGBA=function(d){d=d.substr(5,d.length-6).split(",");return{R:parseFloat(d[0],
10),G:parseFloat(d[1],10),B:parseFloat(d[2],10),A:255*parseFloat(d[3]||1)}};k.HSL_W3=function(d){return"hsl("+(d.H+.5>>0)+","+(d.S+.5>>0)+"%,"+(d.L+.5>>0)+"%)"};k.HSLA_W3=function(d){var c=isFinite(d.A)?d.A/255:1;return"hsla("+(d.H+.5>>0)+","+(d.S+.5>>0)+"%,"+(d.L+.5>>0)+"%,"+c+")"};k.W3_HSL=function(d){var c=d.indexOf("(")+1,a=d.indexOf(")");d=d.substr(c,a-c).split(",");return{H:parseFloat(d[0],10),S:parseFloat(d[1],10),L:parseFloat(d[2],10)}};k.W3_HSLA=function(d){var c=d.indexOf("(")+1,a=d.indexOf(")");
d=d.substr(c,a-c).split(",");return{H:parseFloat(d[0],10),S:parseFloat(d[1],10),L:parseFloat(d[2],10),A:255*parseFloat(d[3]||1)}};k.W3_HEX=k.W3_HEX24=function(d){"#"===d.substr(0,1)&&(d=d.substr(1));3===d.length&&(d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]);return parseInt("0x"+d,16)};k.W3_HEX32=function(d){"#"===d.substr(0,1)&&(d=d.substr(1));3===d.length&&(d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]);return 6===d.length?parseInt("0xFF"+d,16):parseInt("0x"+d,16)};k.HEX_W3=k.HEX24_W3=function(d,c){c||(c=6);d||(d=0);var a,
b=d.toString(16);for(a=b.length;a<c;)b="0"+b,a++;for(a=b.length;a>c;)b=b.substr(1),a--;return"#"+b};k.HEX32_W3=function(d){return k.HEX_W3(d,8)};k.HEX_RGB=k.HEX24_RGB=function(d){return{R:d>>16,G:d>>8&255,B:d&255}};k.HEX_RGB=k.HEX24_RGBA=function(d){return{R:d>>16,G:d>>8&255,B:d&255,A:255}};k.HEX32_RGBA=function(d){return{R:d>>>16&255,G:d>>>8&255,B:d&255,A:d>>>24}};k.RGBA_HEX32=function(d){return(d.A<<24|d.R<<16|d.G<<8|d.B)>>>0};k.RGB_HEX24=k.RGB_HEX=function(d){0>d.R&&(d.R=0);0>d.G&&(d.G=0);0>d.B&&
(d.B=0);255<d.R&&(d.R=255);255<d.G&&(d.G=255);255<d.B&&(d.B=255);return d.R<<16|d.G<<8|d.B};k.RGB_CMY=function(d){return{C:1-d.R/255,M:1-d.G/255,Y:1-d.B/255}};k.RGBA_HSLA=k.RGB_HSL=function(d){var c=d.R/255,a=d.G/255,b=d.B/255,h=Math.min(c,a,b),p=Math.max(c,a,b),r=p-h,g,q=(p+h)/2;if(0===r)h=g=0;else{var h=.5>q?r/(p+h):r/(2-p-h),w=((p-c)/6+r/2)/r,e=((p-a)/6+r/2)/r,r=((p-b)/6+r/2)/r;c===p?g=r-e:a===p?g=1/3+w-r:b===p&&(g=2/3+e-w);0>g&&(g+=1);1<g&&--g}return{H:360*g,S:100*h,L:100*q,A:d.A}};k.RGBA_HSVA=
k.RGB_HSV=function(d){var c=d.R/255,a=d.G/255,b=d.B/255,h=Math.min(c,a,b),p=Math.max(c,a,b),r=p-h,g;if(0===r)h=g=0;else{var h=r/p,q=((p-c)/6+r/2)/r,w=((p-a)/6+r/2)/r,r=((p-b)/6+r/2)/r;c===p?g=r-w:a===p?g=1/3+q-r:b===p&&(g=2/3+w-q);0>g&&(g+=1);1<g&&--g}return{H:360*g,S:100*h,V:100*p,A:d.A}};k.CMY_RGB=function(d){return{R:Math.max(0,255*(1-d.C)),G:Math.max(0,255*(1-d.M)),B:Math.max(0,255*(1-d.Y))}};k.CMY_CMYK=function(d){var c=d.C,a=d.M;d=d.Y;var b=Math.min(d,Math.min(a,Math.min(c,1))),c=Math.round((c-
b)/(1-b)*100),a=Math.round((a-b)/(1-b)*100);d=Math.round((d-b)/(1-b)*100);b=Math.round(100*b);return{C:c,M:a,Y:d,K:b}};k.CMYK_CMY=function(d){return{C:d.C*(1-d.K)+d.K,M:d.M*(1-d.K)+d.K,Y:d.Y*(1-d.K)+d.K}};k.HSLA_RGBA=k.HSL_RGB=function(d){var c=(d.H||0)/360,a=(d.S||0)/100,b=(d.L||0)/100,h,p,r;0===a?b=a=c=b:(p=.5>b?b*(1+a):b+a-a*b,h=2*b-p,r=c+1/3,0>r&&(r+=1),1<r&&--r,b=1>6*r?h+6*(p-h)*r:1>2*r?p:2>3*r?h+(p-h)*(2/3-r)*6:h,r=c,0>r&&(r+=1),1<r&&--r,a=1>6*r?h+6*(p-h)*r:1>2*r?p:2>3*r?h+(p-h)*(2/3-r)*6:h,
r=c-1/3,0>r&&(r+=1),1<r&&--r,c=1>6*r?h+6*(p-h)*r:1>2*r?p:2>3*r?h+(p-h)*(2/3-r)*6:h);return{R:255*b,G:255*a,B:255*c,A:d.A}};k.HSVA_RGBA=k.HSV_RGB=function(d){var c=d.H/360,a=d.S/100,b=d.V/100,h,p,r,g,q;if(0===a)h=p=r=Math.round(255*b);else switch(1<=c&&(c=0),c*=6,g=c-Math.floor(c),q=Math.round(255*b*(1-a)),r=Math.round(255*b*(1-a*g)),a=Math.round(255*b*(1-a*(1-g))),b=Math.round(255*b),Math.floor(c)){case 0:h=b;p=a;r=q;break;case 1:h=r;p=b;r=q;break;case 2:h=q;p=b;r=a;break;case 3:h=q;p=r;r=b;break;
case 4:h=a;p=q;r=b;break;case 5:h=b,p=q}return{R:h,G:p,B:r,A:d.A}};var u=sketch.color.webcolors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",
darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",
fuchsia:"ff00ff",fuscia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",
lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",
moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",
sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};"object"===typeof module&&module.exports&&(module.exports.color=sketch.color)})();"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.StyleGCO=function(l,k){function t(a){a&&a.getValue&&(a=a.getValue());if(a&&a.length)return a}function f(a,b){if("string"===typeof a)return a||b;if(Array.isArray(a))for(var c=0;c<a.length;c++)if(e.gco[a[c]])return a[c];return b}var e=l.agent,u=l.detect,d=l.util;k.nonNormalBlend=function(a){"object"===typeof a&&(a=k.readBlend(a));return a?!g[a]:!1};k.readBlend=function(a,g){function h(a,g){var q;q=t(a);q=f(q,p);a=c[q]||q;return g&&b[a]?p:a}if("object"===typeof a){var d=
a.__env.composite||(a.__env.composite={}),r=a.composite;"boolean"!==typeof g&&(g=u.useSafeGCO[a.type]);return g?d.safe||(d.safe=h(r,!0)):d.value||(d.value=h(r))}};k.setGlobalBlend=function(a,b){if(a=t(a)){var c;a:if(c=a,Array.isArray(c)){for(var g=0;g<c.length;g++)if(r[c[g]]){c=!0;break a}c=void 0}else c=!!r[c];k.composite=c?a:p}};k.blendOptions=function(){return"normal <br> darken multiply color-burn <br> lighten screen color-dodge <br> overlay soft-light hard-light <br> difference exclusion disco <br> hue saturation color luminosity <br> erase source-atop destination-over".split(" ")};
k.toBlendInternal=function(b){b=t(b);b=f(b,h);return a[b]||b};var c={normal:"source-over",disco:"lighter",erase:"destination-out"},a={"source-over":"normal","destination-out":"erase"},b=d.arrayToObject("source-in source-out source-atop destination-over destination-in destination-out destination-atop copy xor".split(" ")),h="normal",p="source-over",r=d.arrayToObject("normal darken multiply color-burn lighten screen color-dodge overlay soft-light hard-light difference exclusion hue saturation color luminosity erase disco".split(" ").concat("source-over source-in source-out source-atop destination-over destination-in destination-out destination-atop lighter copy xor".split(" "))),
g=d.arrayToObject(["normal","source-over"])}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.StyleGradient=function(l,k){function t(e){for(var d=[],c=0;c<e.length;c+=2)d.push(e[c+1]+" "+100*e[c]+"%");return d}var f=l.util,e=l.vector.Point;k.createGradient=function(l,d,c,a,b,h,p,r,g){l=l||k.__ctx;r=r||{};if(isFinite(c+b+a+h)){if("radial"===d)d=(c+b)/2,g=(a+h)/2,a=Math.sqrt(Math.pow(b-c,2)+Math.pow(h-a,2))/3,l=l.createRadialGradient(d,g,0,d,g,a);else{d=r.angle;if(isFinite(d)&&(g&&(0>g.x&&(d=180-d),0>g.y&&(d=360-d)),235!==d)){g=e(c,a);r=e(c,h);c=e(b,
h);a=e(b,a);h=d%90-45;var q=d%180-90;b=Math.abs(h)/90;0>=h*q?(h=e.atTimeOnLine(r,c,b),a=e.atTimeOnLine(a,g,b)):(h=e.atTimeOnLine(g,r,b),a=e.atTimeOnLine(c,a,b));a=e.distance(h,a)/2;b=e.atTimeOnLine(g,c,.5);d*=f.DEG_RAD;g=e.atRadianDistance(b,d,-a);r=e.atRadianDistance(b,d,+a);c=g.x||0;a=g.y||0;b=r.x||0;h=r.y||0}c===b&&(b+=.1);a===h&&(h+=.1);l=l.createLinearGradient(c,a,b,h)}for(d=0;d<p.length;d+=2)g=p[d],(a=p[d+1])&&isFinite(g)&&l.addColorStop(g,a);return l}return"#000"};k.toCSSGradient=function(e){var d=
e.dna||"",c=e.stops,a=e.type||"linear";e=e.angle;e=e===+e?e+90+"deg":e||"0deg";c=c||k.getGradientStops({dna:d,asCSSArray:!0});isFinite(c[0])&&(c=t(c));return"radial"===a?"radial-gradient(circle closest-side at 50% 50%,"+c+")":"linear-gradient("+e+","+c+")"};k.toCSSColorStops=t;k.parseCSSGradient=function(e,d){var c=l.color.CSSLinearGradient.parse(e);if(c){for(var a=c.stops,b=a.length-1,a=[],h=0;h<=b;h++){var p=a[h],r=p.position;r?(-1!==r.indexOf("%")&&(r=parseFloat(r.replace("%",""))/100),a.push(isFinite(r)?
r:h/b)):a.push(h/b);d?a.push((new l.colorspace(p.color)).toHEX32String().substr(1)):a.push(p.color)}if(d)return a.join(",");c.stops=a;return c}return""};k.getGradientStops=function(e){var d=e.asCSSArray||!1,c=e.asFlatArray||!1,a=e.asHex32||!1,b=[];e=(e.dna||"").split(",");var h=e.length;if(2>h)return b;for(var p=0;p<h;p+=2){var r=parseFloat(e[p]),g=e[p+1],q=g.length;8!==q&&(3===q?g="ff"+g[0]+g[0]+g[1]+g[1]+g[2]+g[2]:6===q&&(g="ff"+g));if(a)g=parseInt("0x"+g,16);else{var w=g.substr(0,2);if("ff"===
w)g="#"+g.substr(2);else var q=parseInt(g.substr(2,2),16),f=parseInt(g.substr(4,2),16),g=parseInt(g.substr(6,2),16),w=parseInt(w,16)/255,g="rgba("+q+","+f+","+g+","+w+")"}c?(b.push(r),b.push(g)):d?b.push(g+" "+100*r+"%"):b.push({offset:r,color:g})}return b};k.getColorStopsHelper=function(e){var d=e.dna||"",c=e.asCSSArray||!1,a=e.asSVGArray||!1,b=e.asFlatArray||!1,h=e.asHex32||!1;return e.length||e.noise||e.reflect?k.getColorStops({dna:d,stops:e.stops,asHex32:h,asFlatArray:b,asCSSArray:c,asSVGArray:a,
seed:e.seed||1,blend:e.blend||(e.noise?"Luminosity":"Normal"),reflect:e.reflect||!1,length:e.length||500,resolution:1,H:e.noise?10:0,S:e.noise?20:0,L:e.noise?10:0}):k.getGradientStops({dna:d,asHex32:h,asFlatArray:b,asCSSArray:c,asSVGArray:a})};k.getColorStops=function(e){function d(a,b){x?C.push({color:a,offset:b}):v?C.push(a+" "+100*b+"%"):(C.push(b),C.push(a))}var c=l.color.space,a=f?f.Random(e.seed||1):Math.random,b=e.dna||"",h=e.stops,p=e.blend||"Normal",r=e.reflect||!1,g=e.resolution||1,q=e.length||
1,w=e.H||0,z=e.S||0,k=e.L||0,v=e.asCSSArray||!1,x=e.asSVGArray||!1;if(l.color.blend){e=l.color.blend.useAlphaBlend[p];var t=l.color.blend[p]}else e=!1,t=function(a,b){return a*b/255};h?b=h:"string"===typeof b&&(b=b.split(","));for(var h=[],E=0;E<b.length;E+=2)h.push({color:b[E+1],offset:parseFloat(b[E],10)/(r?2:1)});if(r)for(b=b.slice(0).reverse(),E=0;E<b.length;E+=2)h.push({color:b[E],offset:.5-parseFloat(b[E+1],10)/2+.5});var b=0,E=h[b].color,r="string"===typeof E?"W3>HEX32>RGBA":"HEX32>RGBA",E=
c(E,r),A=h[b].offset,m=h[b+1];if(!m)return h;for(var B=c(m.color,r),m=h[b+1].offset,C=[],H=0;H<=q;H+=g){var G;G=H/q;G>m&&(b++,h[b]&&(E=B,A=m,h[b+1]&&(B=c(h[b+1].color,r),m=h[b+1].offset)));G=(G-A)/(m-A);Infinity===G&&(G=0);if("Normal"===p&&0===w&&0===z&&0===k)G=c.RGB_W3({R:E.R*(1-G)+B.R*G,G:E.G*(1-G)+B.G*G,B:E.B*(1-G)+B.B*G});else{var F=c.RGB_HSL({R:E.R*(1-G)+B.R*G,G:E.G*(1-G)+B.G*G,B:E.B*(1-G)+B.B*G});G=c.HSLA_RGBA({H:(F.H+a.toDouble()*w+360)%360,S:Math.min(100,Math.max(0,F.S-a.toDouble()*z)),L:Math.min(100,
Math.max(0,F.L-a.toDouble()*k)),A:255});F=c.HSLA_RGBA({H:(F.H+a.toDouble()*w+360)%360,S:Math.min(100,Math.max(0,F.S+a.toDouble()*z)),L:Math.min(100,Math.max(0,F.L+a.toDouble()*k)),A:255});e?(G=t(G,F),G=c(G,"HEX32>RGBA>W3")):G=c.RGBA_W3({R:t(G.R,F.R),G:t(G.G,F.G),B:t(G.B,F.B),A:t(G.A,F.A)})}d(G,H/q)}return C}}})(sketch);
RegExp.create=function(m,l,k){for(var t in l){var f=l[t],e=RegExp("{{"+t+"}}","gi");f.source&&(f=f.source.replace(/^\^|\$$/g,""));m=m.replace(RegExp("\\("+e.source+"\\)","gi"),"("+f+")");m=m.replace(e,"(?:"+f+")")}return RegExp(m,k)};
(function(m){m.color=m.color||{};var l=m.color.CSSLinearGradient=function(k){this.direction=k.direction;this.stops=k.stops;this.fromString=k.fromString};l.parse=function(k){if("string"!==typeof k)return null;k=k.replace(/-(moz|ms|o|webkit)-/,"");var t=k.match(l.regex.css);if(!t)return null;var f=t[1]||"top",t=t[2].match(l.regex.colorStop),e=parseFloat(f);if(!isNaN(e))switch((e%360+360)%360){case 0:f="left";break;case 90:f="bottom";break;case 180:f="right";break;case 240:f="top"}for(e=0;e<t.length;e++){var u=
t[e],d=u.match(l.regex.color)[0],u=(u=u.substr(d.length).match(l.regex.length))&&u[0];t[e]={color:d,position:u}}return new l({direction:f.replace("to ",""),stops:t,fromString:k})};l.regex={};l.regex.number=/^-?[0-9]*\.?[0-9]+$/;l.regex.keyword=/^(?:to\s|)(?:top\s+|bottom\s+)?(?:right|left)|(?:to\s|)(?:right\s+|left\s+)?(?:top|bottom)$/;l.regex.blah=/circle closest-side at 50% 50%/;l.regex.direction=RegExp.create("^(?:{{keyword}}|{{blah}}|{{number}}deg|0)$",{blah:l.regex.blah,keyword:l.regex.keyword,
number:l.regex.number});l.regex.color=RegExp.create("(?:{{keyword}}|{{func}}|{{hex}})",{keyword:/^(?:red|tan|grey|gray|lime|navy|blue|teal|aqua|cyan|gold|peru|pink|plum|snow|[a-z]{5,20})$/,func:RegExp.create("^(?:rgb|hsl)a?\\((?:\\s*{{number}}%?\\s*,?\\s*){3,4}\\)$",{number:l.regex.number}),hex:/^#(?:[0-9a-f]{1,2}){3}$/i},"i");l.regex.percentage=RegExp.create("^(?:{{number}}%|0)$",{number:l.regex.number});l.regex.length=RegExp.create("{{number}}{{unit}}|0",{number:l.regex.number,unit:/%|px|mm|cm|in|em|rem|en|ex|ch|vm|vw|vh/});
l.regex.colorStop=RegExp.create("{{color}}\\s*{{length}}?",{color:l.regex.color,length:l.regex.length},"gi");l.regex.type=/linear-gradient|radial-gradient/;l.regex.css=RegExp.create("^{{type}}\\(\\s*(?:({{direction}})\\s*,)?\\s*({{colorstop}}\\s*(?:,\\s*{{colorstop}}\\s*)+)\\)$",{type:l.regex.type,direction:l.regex.direction,colorStop:l.regex.colorStop},"i")})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.StylePalette=function(l,k){var t=l.util,f=l.color.space,e=l.feature;k.add=function(e,d,c){"string"===typeof e&&(e=[e]);var a=k[d+"Hash"],b=k[d+"Official"],h=k[d];if(e&&e.length)for(var p=0;p<e.length;p++){var r=e[p];if(r){var g=r.dna||r,q=k.hashDNA(g);a[q]||(a[q]=!0,r.dna&&(b[q]=!0),"gradient"===d&&-1!==g.indexOf("gradient")&&(g=k.parseCSSGradient(g,!0)),c?h.unshift(g):h.push(g))}}};k.addFromBlob=function(f,d){l.convert.blob(f,"string").then(function(c){c.startsWith("GIMP Gradient")?
k.add(Color.open.GGR(c).join(","),"gradient",!0):c.startsWith("GIMP Palette")?k.add(Color.open.GPL(c),"color",!0):e.debug&&console.log("un-handled method",f);d&&d()})};k.loadDefault=function(){function e(d,c,a){k[c]=l.lib&&l.lib[c]?l.lib[c]():[k[a]];!k[d]&&k[c]&&(k.reset(d),k.add(k[c],d))}return function(){e("color","defaultColors","defaultColor");e("gradient","defaultGradients","defaultGradient");e("pattern","defaultPatterns","defaultPattern")}}();k.reset=function(e){e?(k[e+"Ctx"]={},k[e+"Official"]=
{},k[e+"Hash"]={},k[e]=[]):(k.gradientCtx={},k.gradientOfficial={},k.gradientHash={},k.gradient=[],k.colorCtx={},k.colorOfficial={},k.colorHash={},k.color=[],k.patternCtx={},k.patternOfficial={},k.patternHash={},k.pattern=[])};k.hashDNA=function(e){if(e&&e.toLowerCase)return"#"===e[0]&&(e=f.W3_HEX(e).toString()),e=t.hashFast(e),e=Math.abs(e).toString(16).substr(0,6),t.string.rpad(e,"0",6)};k.generateColorBlock=function(){var e={Cyan:[12,6,9.7],Azure:[33,6.9,9.2],Indigo:[62,9,8.6],Purple:[92,6,9],
Pink:[150,8,9],Red:[180,10,9],Orange:[196,7.7,9.7],Orange3:[224,6.2,10],Yellow:[234,4.7,11],Green:[261,11,9.5]},d=0,c;for(c in e)d++;for(var a=0,b,h=[],p=1;8>=p;p++)for(c in e){if(1===p)b=f.HSL_RGB({H:0,S:0,L:100-a/(d-1)*100}),a++;else{n=p-1;b=e[c];var r=Math.min(1,n/b[1]),g=Math.min(1,1-n/b[2]);b=f.HSI_RGB({H:(b[0]+180)%360,S:150*r,I:250*g})}h.push(f(b,"RGB>HEX24>W3"))}return h}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Style=function(l){function k(a,c){a=t[a]=function(a,g){a=a||q[c].value;if("string"===typeof a){var h=t.parseStyle(a);if(h)var d=h.type,h=h.dna;else g=g||{},d=g.type||"color",h=g[g.type]||"#000";a={};a.type=d;a[d]=h}this.method=c;this.opacity=a.opacity||1;this.type=a.type||"color";this.mode=a.mode||"linear";this.noise=a.noise||!1;this.angle=a.angle||0;g=q[c]||q.fill;this.color=a.color||g.color;this.gradient=a.gradient||g.gradient;this.pattern=a.pattern||
g.pattern;Object.defineProperties(this,{__colors:{enumerable:!1,configurable:!0,writable:!0},__dna:{enumerable:!1,configurable:!0,writable:!0}});"stroke"===c?(this.enabled=isFinite(a.enabled)?a.enabled:isFinite(a.lineWidth),this.dashArray=Array.isArray(a.dashArray)?a.dashArray:b.dashArray,this.dashOffset=isFinite(a.dashOffset)?a.dashOffset:b.dashOffset,this.lineCap=a.lineCap||b.lineCap,this.lineJoin=a.lineJoin||b.lineJoin,this.lineWidth=isFinite(a.lineWidth)?a.lineWidth:b.lineWidth,this.miterLimit=
isFinite(a.miterLimit)?a.miterLimit:b.miterLimit):"fill"===c?this.enabled=isFinite(a.enabled)?a.enabled:!0:"border"===c?(this.enabled=isFinite(a.enabled)?a.enabled:!1,this.lineWidth=isFinite(a.lineWidth)?a.lineWidth:b.lineWidth):this.enabled=isFinite(a.enabled)?a.enabled:!1;"color"===d&&-1!==h.indexOf("a(")&&(d=l.colorspace(h),this.opacity*=d.color.A/255,this.color=d.toHEXString())};a.prototype.toJSON=function(){return t.copy(this,{compress:!0})};a.type="style";a.method=c;t[c]=new a}var t={},f=l.agent,
e=l.dom,u=l.color.space,d=l.feature,c=l.loc,a=l.util;t.types=["color","gradient","pattern"];t.methods={background:"Background",border:"Border",fill:"Fill",stroke:"Stroke"};t.create=function(a,b){a=a||{};b=b||a.method||"fill";var c=t.methods[b];if(c)return new t[c](a);console.error(arguments)};t.copy=function(a,b){return t.copyInto(a,{},b)};t.copyInto=function(a,c,g){g=g||{};var q=g.compress,d=g.paintType;g=g.exclude||{};if((!q||!1!==a.enabled&&0!==a.lineWidth)&&c){var d=d||a.type||c.type,e;for(e in a)if(!0!==
g[e]){var r=p[e];if(r){if(q)if("method"===e)continue;else if(h[e]&&e!==d&&d)continue;else if(b[e]===a[e])continue;c[e]="array"===r?a[e].slice():a[e]}}return c}};t.copyStyles=function(a,b,c){for(var g in t.methods)a[g]&&b[g]&&t.copyInto(a[g],b[g],{exclude:c});return b};var b={dashArray:"none",dashOffset:0,lineCap:"butt",lineJoin:"miter",lineWidth:1,miterLimit:4,angle:0,mode:"linear",noise:!1,opacity:1},h={color:"string",gradient:"string",pattern:"string"},p={color:"string",gradient:"string",pattern:"string",
dashArray:"array",dashOffset:"float",lineCap:"string",lineJoin:"string",lineWidth:"float",miterLimit:"float",angle:"number",mode:"string",noise:"boolean",opacity:"float",type:"string",method:"string",enabled:"boolean"};t.equals=function(a,b){for(var c in a){var g=p[c];if(g)if("array"===g){if(String(a[c])!==String(b[c]))return!1}else if(a[c]!==b[c])return!1}return!0};t.setObjectFromGlobal=function(a){!1!==l.doc.toolkit.feature(a.type,"globalPaint")&&t.copyStyles(t,a,{enabled:!0})};t.setGlobalFromObject=
function(a){if(!1!==l.doc.toolkit.feature(a.type,"globalPaint"))if("select"===l.doc._tool.type){var b={},c;for(c in t.methods)a[c]&&(b[c]={},t.copyInto(a[c],b[c]),t.copyInto(a[c],t[c]));l.config("select",b)}else t.copyStyles(a,t)};var r=t.__ctx=e.Canvas(1,1).ctx;t.loadPaint=function(a,b,c){"pattern"===a.type?t.loadPattern(a[a.type],b,c):b&&b(a)};t.loadPattern=function(b,g,h,q){if(b)if(b instanceof CanvasPattern)g&&g(b);else{var p=t.patternCtx[b];p?g&&g(p):a.loadImage({src:c.getMediaUrl(b),onprogress:q,
onsuccess:function(){var a=r.createPattern(this,"repeat");a.width=this.width;a.height=this.height;t.patternCtx[b]=a;g&&g(a)},onerror:function(){h&&h();d.debug&&console.warn("missing pattern",b)}})}else console.error("Invalid DNA")};t.hexFromColor=function(a){"string"===typeof a?"hsla"===a.substr(0,4)?a=u(a,"W3>HSLA>RGBA>HEX24>W3"):"rgba"===a.substr(0,4)?a=u(a,"W3>RGBA>HEX24>W3"):"rgb"===a.substr(0,3)?a=u(a,"W3>RGB>HEX24>W3"):l.color.webcolors[a]&&(a=l.color.webcolors[a]):isFinite(a.R)?a=u(a,"RGB>HEX24>W3"):
isFinite(a.H)&&(a=u(a,"HSLA>RGBA>HEX24>W3"));return a};var g={color:function(a){return a.startsWith("#")||a.startsWith("hsl")||a.startsWith("rgb")||l.color.webcolors[a]},pattern:function(a){return a.startsWith("#asset")||a.startsWith("data:")||a.startsWith("blob:")||a.startsWith("filesystem:")||a.startsWith("http")||a.startsWith("./")},gradient:function(a){return-1!==a.indexOf(",")&&isFinite(parseInt(a[0]))?!0:-1!==a.indexOf("linear-gradient(")?!0:-1!==a.indexOf("radial-gradient(")?!0:!1}};t.validate=
function(a,b){var c=typeof a;if("string"===c){c=a.toLowerCase();if(b)return g[b](c);if(g.pattern(c))return"pattern";if(g.color(c))return"color";if(g.gradient(c))return"gradient"}else if("object"===c&&(a=a[a.type]))return t.validate(a);return!1};t.parseStyle=function(a){if("none"===a)return{dna:"none",type:"gradient"};if(g.pattern(a))return{dna:a,type:"pattern"};if(g.color(a))return{dna:a,type:"color"};if(g.gradient(a))if(-1!==a.indexOf("linear-gradient")){if(a=t.parseCSSGradient(a,!0))return{dna:a,
type:"gradient"}}else return{dna:a,type:"gradient"}};t.renderSwatch=function(a,b,c,g,h){var q=b.type,d=b[q],p=b.opacity||1;h=h||1;c=(c||24)*h;g=(g||24)*h;a.width=c;a.height=g;if("CANVAS"===a.nodeName){var e=a.ctx||a.getContext("2d");t.loadPaint(b,function(){e.globalAlpha=p;e.fillStyle=t.toContext2D(b,c,g);e.fillRect(0,0,c,g)})}else switch(q){case "color":a.style.opacity=p;a.style.background=d;break;case "gradient":a.style.opacity=p;t.toCSSBG({gradient:d,type:"gradient",angle:135},a);break;case "pattern":d.css&&
(a.style.opacity=p,a.style.background=d.css)}};t.toSVG=function(a){var b=l.vector.SVG;switch(a.type){case "color":return a.color;case "gradient":var c=a.gradient,g=a.noise;return b.Gradient({type:a.mode+"Gradient",id:"dna"+t.hashDNA(c),stops:t.getColorStopsHelper({asSVGArray:!0,noise:g,dna:c})});case "pattern":return c=a.pattern,b.Pattern({id:"dna"+t.hashDNA(c),pattern:t.patternCtx[c]})}};t.toCSS=function(a){var b=a.type,g=a[b];switch(b){case "color":return g;case "gradient":return t.toCSSGradient({type:a.mode,
angle:-a.angle-90,stops:t.getColorStopsHelper({asCSSArray:!0,dna:g,noise:a.noise})});case "pattern":return"url("+c.getMediaUrl(g)+")"}};t.toCSSBG=function(a,b){var c=t.toCSS(a),g=a.type,h=a[g];if(b)"none"===h?b.style.background="none":"gradient"===g?(b.style.background=c,b.style.webkitBackground=c,b.style.MozBackground=c):b.style.background=c;else return"none"===h?"background: none":"gradient"===g?"\t\t\t\t\tbackground: "+c+";\t\t\t\t\tbackground: -webkit-"+c+";\t\t\t\t\tbackground: -moz-"+c+";":
"background: "+c};t.applyStroke=function(a,b,c){if(0!==b.opacity&&(0<b.lineWidth||b.strokeStyle)){if(f.ctx_lineDash){var g=b.dashArray;g&&"object"===typeof g&&g.length&&a.setLineDash(g);g=b.dashOffset;0<g&&(a.lineDashOffset=g)}0<b.opacity&&(a.globalAlpha=b.opacity);b.lineJoin&&(a.lineJoin=b.lineJoin);b.lineCap&&(a.lineCap=b.lineCap);0<b.miterLimit&&(a.miterLimit=b.miterLimit);b.lineWidth&&(a.lineWidth=b.lineWidth*l.doc.pixelRatio*l.doc.scale);b.strokeStyle&&(a.strokeStyle=b.strokeStyle);!1!==c&&a.stroke()}};
t.applyShadow=function(a,b){b.shadowColor&&(a.shadowColor=b.shadowColor,a.shadowOffsetX=b.shadowOffsetX||0,a.shadowOffsetY=b.shadowOffsetY||0,a.shadowBlur=b.shadowBlur||0)};t.applyGCO=function(a,b){b.globalCompositeOperation&&(a.globalCompositeOperation=b.globalCompositeOperation)};t.applyFill=function(a,b,c){0!==b.opacity&&b.fillStyle&&(0<b.opacity&&(a.globalAlpha=b.opacity),b.fillStyle&&(a.fillStyle=b.fillStyle),!1!==c&&a.fill())};t.toContext2D=function(a,b,c){var g=a.type,h=a[g];switch(g){case "color":return h;
case "gradient":return t.createGradient(r,a.mode||"linear",0,0,b,c,t.getColorStopsHelper({asFlatArray:!0,dna:h,noise:a.noise}),a);case "pattern":if(h instanceof CanvasPattern)return h;if(t.patternCtx[h])return t.patternCtx[h];console.warn("pattern not loaded.")}};e=l.module;e.StyleGCO&&new e.StyleGCO(l,t);e.StyleGradient&&new e.StyleGradient(l,t);e.StylePalette&&new e.StylePalette(l,t);t.loadDefault&&t.loadDefault();var q=function(){function a(b){function c(a,g){if(d){var h=d.style[a];h[b]&&(h=h[b]);
if(t.validate(h,a))return h}return g}return{color:c("color","#000"),gradient:c("gradient","0.169429711,fff91d8a,0.583,ff7c0ebd,1,ff0000f0"),pattern:c("pattern","data:image/gif;base64,R0lGODlhDgAOAID/ANDu/FOdvCwAAAAADgAOAAACHYwDh5fazqKcj05rar5q+w961diVi9g9jaaGkFEAADs=")}}var b={};b.fill=a("fill");b.background=a("background");b.border=a("border");b.stroke=a("stroke");d?(b.fill.value=b.fill[d.style.defaultFillType],b.background.value=b.background[d.style.defaultBackgroundType],b.border.value=b.border[d.style.defaultBorderType],
b.stroke.value=b.stroke[d.style.defaultStrokeType]):(b.fill.value=b.fill.color,b.background.value=b.background.color,b.border.value=b.border.color,b.stroke.value=b.stroke.color);return b}();a.each(t.methods,function(a,b){k(a,b)});t.composite="normal";return l.style=t}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Library=function(l,k){function t(b){var c=b.template.clip,d=new a.BBox(c.path),e=d.x2-d.x1,d=d.y2-d.y1,g=b.getOffsetHeight?b.getOffsetHeight():0,q=b.getViewport(),q=Math.min(q.width/e,(q.height-g)/d)-.05;b.setClip(c,q);b.setSize(e*q,d*q);b.orient.setCenter();b.orient.setPan(0,g/2);b.orient.decompose();b.baseWidth=e*q;b.baseHeight=d*q}var f=l.dom,e=l.lib,u=l.loc,d=k.toolkit,c=l.util,a=l.vector;e.setData=function(a,h){if(h.data||h.official){var d=e[a],r={};
h.reset&&(d.tree=h.data?{}:d.defaultTree||{});c.Queue({items:h,oncomplete:function(){for(var c in d.tree)r[c]=r[c]||d.tree[c];d.tree=r;e.init(a);l.ui.configurePane(null,!0)},next:function(a,b,h){if("reset"===b)return this.next();if("defaultValue"===b)return d.defaultItem=a,this.next();h=a.data?a.data:a;for(var e=0;e<h.length;e++){var f=h[e];"string"===typeof f&&(f={filepath:f,name:c.string.filename(f),category:a.category||"Unknown"});void 0===f.name&&(f.name=c.string.filename(f.filepath));void 0===
f.id&&(f.id=c.string.toID(f.name)+Date.now());var l=f.category||a.category||"Unknown";(r[l]||(r[l]=[])).push(f)}h=k.scene.copyRules(a);d.meta[a.category||b]=h;this.next()}})}};e.setClipartDefaultValue=function(a){var c=e.clipart;if(a=a||c.defaultItem)a=a.startsWith("./")?a:c.path+"/"+a,delete d.media.device.render,d.media.device.src=a,k.toolkit.config.clipart.src=a};e.setClipartData=function(a){a&&(e.setData("clipart",a),e.setClipartDefaultValue(a.defaultValue))};e.setStampDefaultValue=function(a){var c=
e.clipart;a=a||c.defaultItem;k.toolkit.config.stamp.src=a};e.setStampData=function(a){a&&(e.setData("stamp",a),e.setStampDefaultValue(a.defaultValue))};e.setTextData=function(a){a&&(e.setData("text",a),a.defaultValue&&(k.toolkit.config.text.fontFamily=a.defaultValue))};e.setPaletteData=function(a){function c(h){var d=a[h];if(d){var g=d.official,q=d.data;if(!1===d.enabled){l.feature.style[h]=!1;var e=f.$("."+h+"-indicator");e&&f.style(e.parentNode,{display:"none"})}else l.feature.style[h]=!0,(e=f.$("."+
h+"-indicator"))&&f.style(e.parentNode,{display:""});if(g||q){if(g){for(var e=[],k=0;k<g.length;k++)e.push({dna:g[k],status:"official"});g=e.concat(q)}else g=q;!0!==d.reset&&(g=g.concat(l.style[h]));g.length&&(l.style.reset(h),l.style.add(g,h))}d.defaultValue&&(l.style.fill[h]=d.defaultValue)}}c("color");c("gradient");c("pattern");l.palette.rebuild()};e.setTemplateData=function(a){a&&e.setData("template",c.copy(a))};e.openTemplate=function(b,h,d){function r(){k.template=q;q.alert&&(l.feature.alert=
q.alert);q.background&&k.setBackground(q.background);t(k);k.scene.add({data:c.copy(q.children),scale:f},function(){e.setClipartDefaultValue();h&&h(f)},function(a){console.error(a);d&&d(a)},{useRecord:!1,useRender:!1})}var g=e.template;e.getTemplateData&&e.getTemplateData();b=b||g.defaultItem;var q=g.byId[b]||g.byName[b];if(q){var f=1;if(q.clip){var z=q.clip;"string"===typeof z.path?(z.path=a.SVGPath.toVOBPath(path),r()):"string"===typeof z.src?new a.SVG({src:z.src,onsuccess:function(a){z.path=a.vob.childNodes[0].data;
r()}}):z.path&&r()}else r()}else return console.warn("missing template")};e.init=function(a){function h(a,b,c){switch(c){default:return d.tree[b].sort(function(a,b){return a.name.localeCompare(b.name)})}}if(!u.MEDIA)return console.warn("loc not setup");var d=e[a];d.meta=d.meta||{};d.path=u.MEDIA+d.dir+"/";d.type=a;d.defaultTree=d.defaultTree||c.copy(d.tree);d.getSrc=function(a,b){b=b||{};if(a){var c=a.filepath||"";if(c.startsWith("#"))return b.absolute?l.assets.getURL(c):c;if(c.startsWith("blob")||
c.startsWith("http")||c.startsWith("./"))return c;var h=d.dir+"/";return b.absolute?u.MEDIA+h+c:h+c}};d.getThumbnail=function(c){if(c){var g=u.MEDIA+"thumb/"+d.dir+"/",h=c.filepath||"";return h.startsWith("http")?h:c.thumbnail?c.thumbnail:h.startsWith("#")?c.thumbnail:h.startsWith(".")?h.replace("/media/","/media/thumb/").replace(".svg",".png"):"text"===a?g+c.filename+".png":g+h.replace(".svg",".png")}};d.getEntry=function(a){var b=d.byPath[a];if(b)return b;b=l.assets.getItem(a);return d.byPath[b.src]};
(d.reindex=function(){d.byId={};d.byName={};d.byPath={};d.paths=[];for(var e in d.tree){h(a,e);for(var g=e,q=d.tree[g],f=0;f<q.length;f++){var k=q[f];k.type=a;k.category=g;k.filepath=k.filepath||"";k.filename=c.string.filename(k.filepath);k.folder=g;k.id&&(d.byId[k.id]=k);d.byName[k.name]=k;d.byPath[k.filepath]=k;d.paths.push(k)}}})()};"template brush shape stamp text clipart image color gradient texture".split(" ").forEach(function(a){e[a]=c.copyInto(e[a],{meta:{},defaultCategory:"",dir:a,tree:{}});
e.init(a)})}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Assets=function(l,k){function t(a){return"string"===typeof a?h.getItem(a):a}function f(a){return a&&"IMG"===a.nodeName?r.canvasFromImage(a):a}function e(a,b,c,g){function q(h){d.paths.splice(0,0,p[b]={type:a,filename:b,filepath:b,thumbnail:h.toDataURL(),category:"Your Files"});g&&g(b,c)}var d=z[a];if(d){var p=d.tree["Your Files"];if(p&&!h.isDefault(c)){p[b]?g&&g(b,c):(p[b]="loading","clipart"===a?w.preview({type:"clipart",resource:c,width:52,height:52,oncomplete:function(a){q(a.canvas)}}):
x.thumbnailer({src:c,width:52,height:52,center:!0,crop:"edge",onsuccess:function(c){"stamp"===a&&(k.toolkit.config.stamp.src=b);q(c)}}));return}}g&&g(b,c)}function u(a){var b=g.Canvas(1,1);b.className="sk-default";var c=b.ctx;c.fillStyle="rgba(127,127,127,0.5)";c.fillRect(0,0,b.width,b.height);h.items[a]=b;h.missing[a]=!0;return b}function d(a,b,c){var g=h.items[a]||"",q=g&&h.isDefault(g);h.items[a]=c;h.items[a].type=b;if(!g||q){var d=l.net.client;d&&h.getBlob(a,function(b){void 0===d.files[a]&&d.sendFile(b,
a)})}if(h.missing[a]||q)delete h.missing[a],l.docs.forEach(function(b){var c=!1;b.scene.traverse(function(g){g.src===a&&(c=!0,g.dirtyCache=!0,b.toolkit.ensure(g).loadResource(g).catch(function(a){console.error(a)}))});c&&(b.render.dirty=!0)})}function c(a){var b=a.src,c=a.targetId,g=a.lastModified,p=a.onsuccess,e=a.onerror,r=a.onprogress;b.startsWith("<svg")&&(b='<?xml version="1.0" encoding="UTF-8"?>'+b);b.startsWith("<?xml")&&(b="data:image/svg+xml;base64,"+btoa(v.encodeUTF8(b)));b.startsWith("data:image/svg")?
h.createId(b,function(a){var c=h.items[a];q.cacheSVG&&c&&!h.isDefault(c)?p&&p.call(c,a,c):new L.SVG({src:b,useCache:q.cacheSVG,onprogress:r,onerror:function(a){q.debug&&console.error(a);e&&e(a)},onsuccess:function(b){b.lastModified=g;d(a,"clipart",b);p&&p.call(b,a,b)}})},c):y.isValidXhrUrl(b)?x.request({url:y.getMediaUrl(b),format:"text",onerror:e,onsuccess:function(a,g){h.add({targetId:c,data:g,onprogress:r,onerror:function(a){q.debug&&console.error(a);e&&e(a)},onsuccess:function(a,c){E[b]=a;A[a]=
b;p&&p.call(c,a,c)}})}}):e&&e()}function a(a){var b=a.src,c=a.targetId,g=a.lastModified,e=a.onsuccess,f=a.onerror,w=a.onprogress;x.loadImage({src:y.getMediaUrl(b),onerror:f,onprogress:w,onsuccess:function(){var f=this;p.ios&&x.exists("MegaPixImage")&&(f=r.canvasFromImage(this));h.createId(f,function(c){f.assetID=f.title=c;f.image={src:b};f.lastModified=g;f.setAttribute("data-src",b);E[b]=c;A[c]=b;d(c,"image",f);if(a.blob)f.blob=a.blob;else if(q.stream.maxFileSize){that.getBlob(c,function(a){e&&e.call(f,
c,f)});return}e&&e.call(f,c,f)},c)}})}function b(b){var c=document.createElement("video");c.src=b.src;c.play();eventjs.add(c,"playing",function(){var h=g.Canvas(c.videoWidth,c.videoHeight);h.ctx.drawImage(c,0,0);h.toBlobURL(function(c){console.warn("handle me",c);b.src=c;a(b)})})}var h=this,p=l.agent,r=l.convert,g=l.dom,q=l.feature,w=l.gen,z=l.lib,y=l.loc,v=l.util.string,x=l.util,L=l.vector,E={},A={};h.items={};h.missing={};h.reset=function(a){for(var b in h.items)if(-1===a.indexOf(b)){delete h.items[b];
delete h.missing[b];var c=A[b];delete A[b];delete E[c]}};h.remove=function(a){delete h.items[a];delete h.missing[a]};h.equals=function(a,b){if(a===b)return!0;var c=h.getItem(a);return c&&c.src===b?!0:(c=h.getItem(b))&&c.src===a?!0:!1};h.exists=function(a){return!!h.getItem(a)};h.isDefault=function(a){if(a=t(a))return"sk-default"===a.className};h.isLoaded=function(a){return(a=t(a))?!h.isDefault(a):!1};h.getId=function(a){return h.items[a]?a:E[a]?E[a]:""};h.getItem=function(a){return(a=h.getId(a))?
h.items[a]:""};h.getBlob=function(a,b,c,g){var q=h.items[a];q?q.blob?b(q.blob,q,a):q.srcXML?(q.blob=new Blob([q.srcXML],{type:"image/svg+xml"}),q.blob.lastModified=q.lastModified,b(q.blob,q,a)):f(q).toBlob(function(c){q.blob=c;q.blob.lastModified=q.lastModified;b(c,q,a)},c,g):console.warn("invalid assetId")};h.getBlobURL=function(a,b,c,g){var q=h.items[a];q?q.objectURL?b(q.objectURL):h.getBlob(a,function(a,c,g){c.objectURL=URL.createObjectURL(a);b(c.objectURL)},c,g):console.warn("invalid assetId")};
h.getDataURL=function(a,b,c){if(a=f(h.items[a]))return a.toDataURL(b,c);console.warn("invalid assetId")};h.getRaw=function(a){return f(a)};h.getURL=function(a){return A[a]||""};h.getUnused=function(a){function b(a){a.scene.traverse(function(a){c[a.src]=!0})}var c={},g=[];a?b(a):l.docs.forEach(b);for(var q in h.items)c[q]||g.push(q);return g};h.addList=function(a,b){if(x.count(a)){var c=0,g=function(){--c||b()},q;for(q in a){c++;var d=a[q];"string"===typeof d&&(d={data:d,targetId:q});h.add(d,g,g)}}else b()};
var m=function(){var a=x.arrayToObject(["[object Blob]"]),b=x.arrayToObject(["[object HTMLCanvasElement]","[object HTMLImageElement]"]),c=x.arrayToObject(["[object File]"]);return function(g){var h=typeof g;if("object"===h){h=Object.prototype.toString.call(g);if(b[h])return"node";if(c[h])return"file";if(a[h])return"blob"}else return h}}();h.add=function(){function g(h){switch(h.type){case "clipart":case "symbol":case "svg":c(h);break;case "image":a(h);break;case "video":b(h);break;case "audio":break;
default:console.error("assets.add()",h)}}return function(a,b,c,p){a=a||{};var e=a.data||a,f=a.type,w=a.targetId||null,k=a.lastModified||Date.now();b=a.onsuccess||b;c=a.onerror||c;p=a.onprogress||p;var z,y=m(e);if("node"===y)h.createId(e,function(a){d(a,"image",e);b&&b.call(e,a,e)},w);else{if("blob"===y||"file"===y){k=e.lastModified||k;if(h.isLoaded(w)){f=h.items[w];b&&b.call(f,w,f);return}if("image/svg+xml"===e.type){r.blob(e,"string").then(function(g){a.data=g;a.type="clipart";a.lastModified=k;h.add(a,
b,c,p)});return}z=e;e=URL.createObjectURL(z);y="string"}if("string"===y)if(e.startsWith("#asset-")){var v=e,f=h.items[v];if(!f){if(l.io.json.folder){f="clipart"===a.type?".svg":".png";a.data=l.io.json.folder+v.substr(1)+f;h.add(a,b,c,p);return}f=u(v)}b&&b.call(f,v,f)}else if(E[e])v=E[e],f=h.items[v]||u(v),"clipart"===f.type&&f.clone&&!q.cacheSVG?f.clone(function(a){h.createId(a.toDataURL(),function(c){d(c,"clipart",a);b&&b.call(a,c,a)},w||v)},!0):b&&b.call(f,v,f);else{var t={type:f,src:e,blob:z,lastModified:k,
onsuccess:b,onerror:c,onprogress:p,targetId:w};f?g(t):x.FileInfo(z||e,function(a){t.type=a.type;g(t)},c)}else console.error("invalid asset",a),c&&c()}}}();h.addClipart=function(a,b,c,g,q){h.add({type:"clipart",targetId:q,data:a,onerror:c,onprogress:g,onsuccess:function(a,c){e("clipart",a,c,b)}})};h.addImage=function(a,b,c,g,q){h.add({type:"image",targetId:q,data:a,onerror:c,onprogress:g,onsuccess:function(a,c){e("image",a,c,b)}})};h.addStamp=function(a,b,c,g,q){h.add({type:"image",targetId:q,data:a,
onerror:c,onprogress:g,onsuccess:function(a,c){x.removeColorFromCanvas&&(c=h.getRaw(c),x.removeColorFromCanvas(c),h.items[a]=c);e("stamp",a,c,b)}})};h.addCloneFromSelection=function(){return l.save.toBlobURL({background:"none",useSelection:!0}).then(function(a){k.scene.add({centerOnPoint:!0,type:"image",src:a})})};h.addStampFromSelection=function(a){l.save.canvas({background:"none",useSelection:!0},function(b){k.scene.deselectAll();k.scene.renderControls(!0);h.addStamp(b,function(){l.ui.refresh("stamp");
k.toolkit.tool("stamp").then(function(){k.setFill("none");a&&a()})})})};h.addPattern=function(a,b,c,g,h){};h.addFont=function(a,b,c,g,h){var q=URL.createObjectURL(a),d=a.name.match(/([^:\\/]*?)(?:\.([^ :\\/.]*))?$/)[1];l.vector.text.attach({timeout:3E3,family:d,filepath:q,onerror:function(a){console.error(a);c&&c()},onsuccess:function(){var c=z.text;if(c){var g=c.tree["Your Files"];if(g){if(c.byName[d]){b&&b(d,a);return}w.preview.text({fonts:[{name:d,filepath:q}],type:"text",resource:q,width:52,height:52,
oncomplete:function(a){g.push({type:"text",name:d,filename:d,filepath:q,thumbnail:a.canvas.toDataURL(),category:"Your Files"});l.lib.text.reindex();b&&b(d,q)}});return}}b&&b()}})};h.addFromBlob=function(a,b,c,g){function q(a){"stamp"===a?h.addStamp(d,b,c,g,p):"clipart"===a||"svg"===a||"symbol"===a?h.addClipart(d,b,c,g,p):h.addImage(d,b,c,g,p)}var d=a.blob,p=a.targetId;(a=a.type)?q(a):x.FileInfo(d,function(a){q(a.type)})};h.addFromObjects=function(a){for(var b=0;b<a.length;b++){var c=a[b],g=c.src;
if(g&&"#"===g[0])switch(c.type){case "clipart":h.addClipart(g);break;case "image":h.addImage(g);break;case "stamp":h.addStamp(g)}}};h.createId=function(){return function(a,b,c){if(c)b(c);else if("string"===typeof a)25E4<a.length?b("#asset-"+x.md5(a.substr(0,25E4))):b("#asset-"+x.md5(a));else if(a.assetID)b(a.assetID);else{c=a.width;var q=a.height;if(64>c&&64>q&&a.toDataURL)a.assetID="#asset-"+x.md5(a.toDataURL());else{var d=h.thumbnail||g.Canvas();d.ctx=d.ctx||d.getContext("2d");var p=Math.min(c,
64),e=Math.min(q,64);d.width=p;d.height=e;d.ctx.drawImage(a,0,0,c,q,0,0,p,e);h.thumbnail=d;a.assetID="#asset-"+x.md5(d.toDataURL())}a=a.assetID;b(a)}}}()}})(sketch);
"function"===self.WebKitCSSMatrix?self.CSSMatrix=WebKitCSSMatrix:function(){function m(a){if(void 0===a||"none"===a)return t(this);if(a instanceof m)return l(a);var b=arguments;if(b.length){if(16===b.length)return c(this,b);if(6===b.length)return d(this,b)}return this.setMatrixValue(a)}function l(a){var b=new m;b.m11=b.a=a.m11;b.m12=b.b=a.m12;b.m13=a.m13;b.m14=a.m14;b.m21=b.c=a.m21;b.m22=b.d=a.m22;b.m23=a.m23;b.m24=a.m24;b.m31=a.m31;b.m32=a.m32;b.m33=a.m33;b.m34=a.m34;b.m41=b.e=a.m41;b.m42=b.f=a.m42;
b.m43=a.m43;b.m44=a.m44;return b}function k(a,b){return b instanceof m?new m(b.m11*a.m11+b.m12*a.m21+b.m13*a.m31+b.m14*a.m41,b.m11*a.m12+b.m12*a.m22+b.m13*a.m32+b.m14*a.m42,b.m11*a.m13+b.m12*a.m23+b.m13*a.m33+b.m14*a.m43,b.m11*a.m14+b.m12*a.m24+b.m13*a.m34+b.m14*a.m44,b.m21*a.m11+b.m22*a.m21+b.m23*a.m31+b.m24*a.m41,b.m21*a.m12+b.m22*a.m22+b.m23*a.m32+b.m24*a.m42,b.m21*a.m13+b.m22*a.m23+b.m23*a.m33+b.m24*a.m43,b.m21*a.m14+b.m22*a.m24+b.m23*a.m34+b.m24*a.m44,b.m31*a.m11+b.m32*a.m21+b.m33*a.m31+b.m34*
a.m41,b.m31*a.m12+b.m32*a.m22+b.m33*a.m32+b.m34*a.m42,b.m31*a.m13+b.m32*a.m23+b.m33*a.m33+b.m34*a.m43,b.m31*a.m14+b.m32*a.m24+b.m33*a.m34+b.m34*a.m44,b.m41*a.m11+b.m42*a.m21+b.m43*a.m31+b.m44*a.m41,b.m41*a.m12+b.m42*a.m22+b.m43*a.m32+b.m44*a.m42,b.m41*a.m13+b.m42*a.m23+b.m43*a.m33+b.m44*a.m43,b.m41*a.m14+b.m42*a.m24+b.m43*a.m34+b.m44*a.m44):null}function t(a){a.m11=a.a=1;a.m12=a.b=0;a.m13=0;a.m14=0;a.m21=a.c=0;a.m22=a.d=1;a.m23=0;a.m24=0;a.m31=0;a.m32=0;a.m33=1;a.m34=0;a.m41=a.e=0;a.m42=a.f=0;a.m43=
0;a.m44=1;return a}var f=m.prototype,e=/^matrix\((.*)\)/,u=/^matrix3d\((.*)\)/,d=function(a,b){a.m11=a.a=b[0];a.m12=a.b=b[1];a.m41=a.e=b[4];a.m21=a.c=b[2];a.m22=a.d=b[3];a.m42=a.f=b[5];return a},c=function(a,b){a.m11=a.a=b[0];a.m12=a.b=b[1];a.m13=b[2];a.m14=b[3];a.m21=a.c=b[4];a.m22=a.d=b[5];a.m23=b[6];a.m24=b[7];a.m31=b[8];a.m32=b[9];a.m33=b[10];a.m34=b[11];a.m41=a.e=b[12];a.m42=a.f=b[13];a.m43=b[14];a.m44=b[15];return a};f.setMatrixValue=function(a){if("string"===typeof a){t(this);a=a.trim();if("none"===
a)return this;for(var b=a.replace(/^.*\((.*)\)$/g,"$1").split(/\s*,\s*/),h=b.length;h--;)b[h]=parseFloat(b[h]);if(6===b.length&&e.test(a))return d(this,b);if(16===b.length&&u.test(a))return c(this,b)}throw Error("Failed to execute 'setMatrixValue' on 'CSSMatrix': Failed to parse '"+a+"'");};f.multiply=function(a){return k(this,a)};f.inverse=function(){var a;a=(a=this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+
this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-
this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44)?new m((this.m23*this.m34*this.m42-this.m24*this.m33*this.m42+this.m24*this.m32*this.m43-this.m22*this.m34*this.m43-this.m23*this.m32*this.m44+this.m22*this.m33*this.m44)/a,(this.m14*this.m33*this.m42-this.m13*this.m34*this.m42-this.m14*this.m32*this.m43+this.m12*this.m34*this.m43+this.m13*
this.m32*this.m44-this.m12*this.m33*this.m44)/a,(this.m13*this.m24*this.m42-this.m14*this.m23*this.m42+this.m14*this.m22*this.m43-this.m12*this.m24*this.m43-this.m13*this.m22*this.m44+this.m12*this.m23*this.m44)/a,(this.m14*this.m23*this.m32-this.m13*this.m24*this.m32-this.m14*this.m22*this.m33+this.m12*this.m24*this.m33+this.m13*this.m22*this.m34-this.m12*this.m23*this.m34)/a,(this.m24*this.m33*this.m41-this.m23*this.m34*this.m41-this.m24*this.m31*this.m43+this.m21*this.m34*this.m43+this.m23*this.m31*
this.m44-this.m21*this.m33*this.m44)/a,(this.m13*this.m34*this.m41-this.m14*this.m33*this.m41+this.m14*this.m31*this.m43-this.m11*this.m34*this.m43-this.m13*this.m31*this.m44+this.m11*this.m33*this.m44)/a,(this.m14*this.m23*this.m41-this.m13*this.m24*this.m41-this.m14*this.m21*this.m43+this.m11*this.m24*this.m43+this.m13*this.m21*this.m44-this.m11*this.m23*this.m44)/a,(this.m13*this.m24*this.m31-this.m14*this.m23*this.m31+this.m14*this.m21*this.m33-this.m11*this.m24*this.m33-this.m13*this.m21*this.m34+
this.m11*this.m23*this.m34)/a,(this.m22*this.m34*this.m41-this.m24*this.m32*this.m41+this.m24*this.m31*this.m42-this.m21*this.m34*this.m42-this.m22*this.m31*this.m44+this.m21*this.m32*this.m44)/a,(this.m14*this.m32*this.m41-this.m12*this.m34*this.m41-this.m14*this.m31*this.m42+this.m11*this.m34*this.m42+this.m12*this.m31*this.m44-this.m11*this.m32*this.m44)/a,(this.m12*this.m24*this.m41-this.m14*this.m22*this.m41+this.m14*this.m21*this.m42-this.m11*this.m24*this.m42-this.m12*this.m21*this.m44+this.m11*
this.m22*this.m44)/a,(this.m14*this.m22*this.m31-this.m12*this.m24*this.m31-this.m14*this.m21*this.m32+this.m11*this.m24*this.m32+this.m12*this.m21*this.m34-this.m11*this.m22*this.m34)/a,(this.m23*this.m32*this.m41-this.m22*this.m33*this.m41-this.m23*this.m31*this.m42+this.m21*this.m33*this.m42+this.m22*this.m31*this.m43-this.m21*this.m32*this.m43)/a,(this.m12*this.m33*this.m41-this.m13*this.m32*this.m41+this.m13*this.m31*this.m42-this.m11*this.m33*this.m42-this.m12*this.m31*this.m43+this.m11*this.m32*
this.m43)/a,(this.m13*this.m22*this.m41-this.m12*this.m23*this.m41-this.m13*this.m21*this.m42+this.m11*this.m23*this.m42+this.m12*this.m21*this.m43-this.m11*this.m22*this.m43)/a,(this.m12*this.m23*this.m31-this.m13*this.m22*this.m31+this.m13*this.m21*this.m32-this.m11*this.m23*this.m32-this.m12*this.m21*this.m33+this.m11*this.m22*this.m33)/a):!1;return a};f.translate=function(a,b,c){c=c||0;var d=l(this);d.m41=d.e=d.m11*a+d.m21*b+d.m31*c+d.m41;d.m42=d.f=d.m12*a+d.m22*b+d.m32*c+d.m42;d.m43=d.m13*a+
d.m23*b+d.m33*c+d.m43;d.m44=d.m14*a+d.m24*b+d.m34*c+d.m44;return d};f.scale=function(a,b,c){b!==+b&&(b=a);c!==+c&&(c=1);var d=new m;d.m11=d.a=a;d.m22=d.d=b;d.m33=c;return k(this,d)};f.rotate=function(a,b,c){a!==+a&&(a=0);b!==+b&&c!==+c&&(c=a,b=a=0);b!==+b&&(b=0);c!==+c&&(c=0);var d,e;a*=Math.PI/180;d=Math.PI/180*b;e=Math.PI/180*c;c=Math.cos(a);a=-Math.sin(a);b=Math.cos(d);d=-Math.sin(d);var g=Math.cos(e);e=-Math.sin(e);var q=new m;q.m11=q.a=b*g;q.m12=q.b=-b*e;q.m13=d;q.m21=q.c=a*d*g+c*e;q.m22=q.d=
c*g-a*d*e;q.m23=-a*b;q.m31=a*e-c*d*g;q.m32=a*g+c*d*e;q.m33=c*b;return k(this,q)};f.rotateAxisAngle=function(a,b,c,d){b!==+b&&(b=a);c!==+c&&(c=a);var e;e=Math.PI/360*d;d=Math.sin(e);e=Math.cos(e);var g=d*d,q=Math.sqrt(a*a+b*b+c*c);0===q?(b=a=0,c=1):(a/=q,b/=q,c/=q);var q=a*a,f=b*b,z=c*c,y=new m;y.m11=y.a=1-2*(f+z)*g;y.m12=y.b=2*(a*b*g+c*d*e);y.m13=2*(a*c*g-b*d*e);y.m21=y.c=2*(b*a*g-c*d*e);y.m22=y.d=1-2*(z+q)*g;y.m23=2*(b*c*g+a*d*e);y.m31=2*(c*a*g+b*d*e);y.m32=2*(c*b*g-a*d*e);y.m33=1-2*(q+f)*g;y.m14=
y.m24=y.m34=0;y.m41=y.e=y.m42=y.f=y.m43=0;y.m44=1;return k(this,y)};f.toString=function(){var a=function(a){return a.toFixed(6)},b;b=this.m13||this.m14||this.m23||this.m24||this.m31||this.m32||1!==this.m33||this.m34||this.m43||1!==this.m44?!1:!0;return b?"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].map(a).join(", ")+")":"matrix3d("+[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44].map(a).join(", ")+
")"};f.skewX=function(a){a*=Math.PI/180;var b=new m;b.m21=b.c=Math.tan(a);return k(b,this)};f.skewY=function(a){a*=Math.PI/180;var b=new m;b.m12=b.b=Math.tan(a);return k(b,this)};"undefined"!==typeof exports?("object"===typeof module&&module.exports&&(exports=module.exports=m),exports.CSSMatrix=m):self.CSSMatrix=m}();
(function(){function m(k,f,e,l){this.x=k||0;this.y=f||0;this.z=e||0;this.w=l||0}function l(k){k=k||{};var f={perspective:null,translate:null,skew:null,scale:null,rotate:null},e;for(e in f)this[e]=k[e]?k[e]:new m}var k=m.prototype;k.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};k.normalise=function(){var k=this.length();return new m(this.x/k,this.y/k,this.z/k)};k.dot=function(k){return this.x*k.x+this.y*k.y+this.z*k.z+this.w*k.w};k.cross=function(k){return new m(this.y*
k.z-this.z*k.y,this.z*k.x-this.x*k.z,this.x*k.y-this.y*k.x)};k.combine=function(k,f,e){return new m(f*this.x+e*k.x,f*this.y+e*k.y,f*this.z+e*k.z)};k=CSSMatrix.prototype;k.transformVector=function(k){return new m(this.m11*k.x+this.m12*k.y+this.m13*k.z,this.m21*k.x+this.m22*k.y+this.m23*k.z,this.m31*k.x+this.m32*k.y+this.m33*k.z)};k.point3d=function(k){return new m(this.m11*k.x+this.m21*k.y+this.m31*k.z+this.m41,this.m12*k.x+this.m22*k.y+this.m32*k.z+this.m42,this.m13*k.x+this.m23*k.y+this.m33*k.z+
this.m43,this.m14*k.x+this.m24*k.y+this.m34*k.z+this.m44)};k.transpose=function(){for(var k=new CSSMatrix,f=0,e=0,f=0;2>=f;f++)for(e=f+1;3>=e;e++)k["m"+(f+1)+(e+1)]=this["m"+(e+1)+(f+1)],k["m"+(e+1)+(f+1)]=this["m"+(f+1)+(e+1)];return k};k.determinant=function(){return this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*
this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*
this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44};k.decompose=function(){var k=new CSSMatrix(this.toString()),f,e,u,d,c;if(0===k.m33)return new l((new CSSMatrix).decompose());for(c=1;4>=c;c++)for(j=1;4>=j;j++)k["m"+c+j]/=k.m44;for(c=1;3>=c;c++)k["m"+c+"4"]=0;k.m44=1;if(0===k.determinant())return new l((new CSSMatrix).decompose());0!=k.m14||0!=k.m24||0!=k.m34?(f=new m(k.m14,k.m24,k.m34,k.m44),e=k.inverse(),e=e.transpose(),
f=e.transformVector(f),k.m14=k.m24=k.m34=0,k.m44=1):f=new m(0,0,0,1);e=new m(k.m41,k.m42,k.m43);k.m41=0;k.m42=0;k.m43=0;u=[new m,new m,new m];for(c=1;3>=c;c++)u[c-1].x=k["m"+c+"1"],u[c-1].y=k["m"+c+"2"],u[c-1].z=k["m"+c+"3"];k=new m;d=new m;k.x=u[0].length();u[0]=u[0].normalise();d.x=u[0].dot(u[1]);u[1]=u[1].combine(u[0],1,-d.x);k.y=u[1].length();u[1]=u[1].normalise();d.x/=k.y;d.y=u[0].dot(u[2]);u[2]=u[2].combine(u[0],1,-d.y);d.z=u[1].dot(u[2]);u[2]=u[2].combine(u[1],1,-d.z);k.z=u[2].length();u[2]=
u[2].normalise();d.y/=k.z;d.y/=k.z;c=u[1].cross(u[2]);if(0>u[0].dot(c))for(c=0;3>c;c++)k.x*=-1,u[c].x*=-1,u[c].y*=-1,u[c].z*=-1;c=new m;c.y=Math.asin(-u[0].z);0!=Math.cos(c.y)?(c.x=Math.atan2(u[1].z,u[2].z),c.z=Math.atan2(u[0].y,u[0].x)):(c.x=Math.atan2(-u[2].x,u[1].y),c.z=0);return new l({perspective:f,translate:e,skew:d,scale:k,rotate:c})}})();"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.module=m.module||{};l.Scene=function(k,t){function f(){b._deselectAll();b.children.splice(0,b.children.length);b.childrenById={}}function e(a){a.length&&(b.updateSelectionInfo(),t.on.select&&(a=t.selection.toObjects(a),a.length&&t.on.select(a)))}function u(a){a.length&&(b.updateSelectionInfo(),t.on.deselect&&(a=t.selection.toObjects(a),a.length&&t.on.deselect(a)))}function d(a){alertify.isLogVisible()||(a=a.useMaxCopies,a=q.translate("useMaxCopies-alert",a,1<a?"copies":"copy"),
k.ui.log(a))}function c(c){var g=Object.defineProperties(this,N);g.__env={};g.bbox=new a;c&&b.copyConfig(c,g);return g}function a(a){this.y=this.x=0;this.height=this.width=1;this.rotate=0;this.scale={x:1,y:1};return this}var b=this,h=k.dom,p=k.assets,r=k.detect,g=k.feature,q=k.lang,w=k.net,z=t.render,y=k.style,v=t.toolkit,x=k.ui,L=k.util,E=k.vector;b.push=function(a,c){a=new b.SKObject(a);c&&b.decompress(a);b.children.push(a);return b.childrenById[a.id]=a};b.pushAt=function(a,c,g){a=new b.SKObject(a);
g&&b.decompress(a);b.children.splice(c,0,a);return b.childrenById[a.id]=a};b.shiftAt=function(a){var c=b.children[a];c&&(b.children.splice(a,1),delete b.childrenById[c.id])};b.setData=function(a,c){f();for(var g=0;g<a.length;g++)b.push(a[g],c)};b.addObject=function(a,c){c=c||{};if(b.ensureMaxCopies(a)){var g=v.get(a.type);a=b.copyProperties(g,a,{id:b.createId(a),timestamp:t.timestamp(),toolkit:g,toolkitId:g.id,zIndex:b.children.length});b.ensureStickyIdx(a);a=b.push(a);a.toolkit=a.toolkit||g;b.sort();
b.reindex();g=a;t.on.objectAdd&&(b._update.transform(g),t.on.objectAdd(g));c.useHistory&&t.history.store({cmd:"add",pointerId:a.pointerId,name:a.type,data:[a]},{userId:w.user.id});return a}console.log("maxCopies already met")};b.load=function(a){return new Promise(function(b,c){a=a||{};var g=a.objects,h=a.onprogress;g&&(t.scene.setData(g,!0),t.scene.reindex());t.render.preload({chunkBatch:!0,onprogress:h}).then(function(){k.assets&&k.assets.addFromObjects(t.scene.children);b()},c)})};b.remove=b.removeByIdx=
function(a,c){c=!1!==c;switch(typeof a){case "number":var g={};g[a]=!0;a=g;break;case "object":a=L.copy(a);break;default:return b}for(var g=[],h=b.children.length,q=b.children.splice(0,h),d=b.selection.items,p={},e=0;e<h;e++){var f=q[e];a[e]?(c&&g.push(b.copyConfig(f)),z.cache.clean(f),t.scene.setDirtyPixelData(f)):(b.children.push(f),p[f.id]=f);d[f.zIndex]&&b.selection.deselect(f.zIndex)}c&&g.length&&(t.on.objectRemove&&t.on.objectRemove(b.selection.toObjects(a)),t.history.store({cmd:"remove",name:"remove-objects",
data:g}));b.childrenById=p;b.reindex();b.updateSelectionInfo();return b};b.removeAll=function(a){b.selection.objects(b.children).remove(a);return b};b.reset=function(a){f();a&&t.on.record&&t.emit("record",{op:"SCENE_RESET",type:"major"});return b};(function(){function a(g,h){h&&b._deselectAll();var q=[];if(Array.isArray(g))for(var d=0;d<g.length;d++){var p=g[d];c(p,!1)&&q.push(p)}else for(p in g)c(p,!1)&&q.push(p);e(q)}function c(a,g){var h=b.children[a];if(h&&!1!==h.selectable){var h=b.selection,
q=!!h.items[a];if(g){if(!q||1!==h.length)return b._deselectAll(),h.select(a),!0}else if(!q)return h.select(a),1<h.length&&b.resetControls(),!0}return!1}function h(a){if(g.doc.editable){var c=b.selection.items,q=b.children,d=q.length;b.resetControls();for(var p=[],f=[],r=0;r<d;r++)!1!==q[r].selectable&&(a&&c[r]?(b.selection.deselect(r),f.push(r)):(b.selection.select(r),p.push(r)));b.handleSelection();e(p);u(f)}}function q(a){var c=b.selection;return c.items[a]?(c.deselect(a),!0):!1}b.select=function(c,
g){"object"===typeof c?isFinite(c.zIndex)?b.selectByIdx(c.zIndex,g):a(c,g):b.selectByIdx(c,g);return b};b.selectByIdx=function(h,q){g.doc.editable&&("object"===typeof h?a(h,q):b.children[h]&&c(h,!!q)&&e([h]));return b};b.selectAll=function(){h();return b};b.selectInverse=function(){h(!0);return b};b.deselect=b.deselectByIdx=function(a){if(b.selection.length){var c=[];if("object"===typeof a){var g=a;if(Array.isArray(g))for(var h=0;h<g.length;h++)a=g[h],q(a,!1)&&c.push(a);else for(a in g)q(a,!1)&&c.push(a)}else q(a)&&
c.push(a);u(c)}return b};b.deselectAll=function(){var a=b.selection;a.length&&(a=Object.keys(a.items),b._deselectAll(),u(a));b.handleSelection();return b};b._deselectAll=function(){b.selection.empty();b.hovered.empty();b.resetControls()}})();b.getById=function(a){return b.childrenById[a]};b.getByIdx=function(a){return b.children[a]};(function(){function a(c){return function(a){for(var g=[],h=b.children,q=0,d=h.length;q<d;q++){var p=h[q];p[c]===a&&g.push(p)}return g}}b.getByGroupId=new a("groupId");
b.getBySrc=new a("src")})();b.getLast=function(a){if(a)for(a=b.children.length;a--;){var c=b.children[a];if(!0!==c.useStickToFront)return c}else return b.children[b.children.length-1]};b.getFocused=function(){return b.selection.item||b.hovered.item};b.getOneSelected=function(){if(b.selection.item)return b.selection.item;for(var a in b.selection.items)return b.children[a]};b.getCollisions=function(a,c){c=c||{};var g=[],h=E.Polygon.SAT,q=a.trx2D;if(q)for(var d=[q.nw,q.ne,q.se,q.sw],p=c.objects||b.children,
e=p.length,f=isFinite(c.idx)?c.idx:e-1;f<e;f++){var r=p[f];r.id!==a.id&&r.trx2D&&(q=r.trx2D,h(d,[q.nw,q.ne,q.se,q.sw])&&(c.fn?c.fn(r):g.push(r)))}return g};b.setDirtyPixelData=function(a,c){a&&g.canvas.useGLFXPixelData&&(a.usePixelData&&(a.dirtyCache=!0),b.getCollisions(a,{idx:isFinite(c)?c:a.zIndex,fn:function(a){a.usePixelData&&(a.dirtyCache=!0)}}))};(function(){function a(c,g){return function(a){a=a||b.children;for(var h in a)if(a=b.children[h])a[c]=g;return b}}b.setDirtyCache=new a("dirtyCache",
!0);b.setDirtyControl=new a("dirtyControl",!0);b.setDirtyTransform=new a("dirtyTransform",!0);b.setDirtyBounds=new a("inBounds",void 0)})();b.traverse=function(a){for(var c=0;c<b.children.length;c++)a(b.children[c])};b.traverse.freshen=function(a){for(var c=0;c<b.children.length;c++){var g=b.children[c];if(null==g.trx2D&&(b._update.transform(g),null==g.trx2D)){console.warn("trx not defined yet");continue}a(g)}};b.updateSelectionInfo=function(){if("undefined"!==typeof document){var a=h.$(".sk-selection-count");
if(a){var c=b.selection;if(c.length){var g=q.translate("select-tool-count",c.length)+":",d={};c.forEach(function(a){a=a.type;d[a]||(d[a]=0);d[a]++});var g=g+'<div style="margin: 5px 0 0 25px;">',p;for(p in d)var c=d[p],e=1<c?"s":"",f=q.translate(p),g=g+(c+" "+f+" layer"+e+"<br>");g+="</div>"}else g=q.translate("select-tool-message");a.innerHTML=g}}};b.handleSelection=function(){if(g.doc.editable){var a=g.tools.select.useConfigure,c=b.selection,h=c.item,c=c.length;0===c?a&&x.configurePane():1===c?
(g.style.toGlobals&&y.setGlobalFromObject(h),a&&x.configurePane(h.type)):a&&x.configurePane(t.selection.typeOfAll())}};var A=/[^a-zA-Z]/g,m=/[^0-9]/g,B=function(a,b){return a.zIndex>b.zIndex?1:-1},C=function(a,b){return a.id>b.id?1:-1},H=function(a,b){var c=a.name||"",g=b.name||"",h=c.replace(A,""),q=g.replace(A,"");return h===q?(h=parseInt(c.replace(m,""),10),q=parseInt(g.replace(m,""),10),h===q?0:h>q?1:-1):h>q?1:-1};b.sort=function(a){switch(a){case "name":b.children.sort(H);break;case "id":b.children.sort(C);
break;default:b.children.sort(B)}};b.reindex=function(){for(var a=b.children,c=b.selection.items,g=[],h=0,q=a.length,d;h<q;h++)if(d=a[h]){var p=d.zIndex;c[p]&&(delete c[p],g.push(h));d.zIndex=h}b._deselectAll();a=0;for(q=g.length;a<q;a++)p=g[a],b.selection.select(p);b.updateSelectionInfo()};(function(){function a(b){var c=1;return function(a){a=a||{};var g=a.id;if(g){var h=typeof g;if(("string"===h||"number"===h)&&L.isEmpty(b(g)))return g}a.increment&&c++;for(a=(a.userId||w.user.id)+":";;){if(L.isEmpty(b(a+
c)))return a+c;c++}}}b.createId=a(b.getById);b.createGroupId=a(b.getByGroupId)})();b.createHash=function(a,b){b=b||{};var c=t.pixelRatio+"",g=a.toolkit||v.get(a.type);if(null==g)console.error(arguments);else{var g=g.attributes,h=r.useLocalAlpha,q;for(q in a)if(g[q]){var d=a[q];if(null!=d&&!G[q]&&!b[q])if("border"===q&&d.lineWidth&&d.opacity){if(c+=d.noise,c+=d.angle,c+=d.mode,c+=d.opacity,c+=d.enabled,c+=d.lineWidth,d=d[d.type])c+=d.slice(0,256)}else if("fill"===q){if(c+=d.noise,c+=d.angle,c+=d.mode,
c+=d.opacity,c+=d.enabled,d=d[d.type])c+=d.slice(0,256)}else if("stroke"===q&&d.lineWidth&&d.opacity){if(c+=d.noise,c+=d.angle,c+=d.mode,c+=d.opacity,c+=d.lineWidth,c+=d.lineCap,c+=d.lineJoin,c+=d.enabled,d=d[d.type])c+=d.slice(0,256)}else"opacity"===q?h[a.type]&&(c+=d):"src"===q?c+=d.slice(0,256):"bbox"===q?(d=a.bbox,c+=d.width,c+=d.height,c+=d.padding,d.scale&&(d=d.scale,c+=d.x+","+d.y)):"object"===typeof d?null==d||d.childNodes||d.getImageData||(c+=JSON.stringify(d)):c+=d}a.dataHash&&(c+=a.dataHash);
return String(L.hashFast(c))}};b.copyDeep=function J(a,b){b=b||{};if(!a||!a.constructor||"object"!==typeof a)return a;if(!a.childNodes&&!a.getImageData){var c=new a.constructor,g;for(g in a)if(a.hasOwnProperty(g)&&!F[g]){var h=a[g],d=typeof h;"number"===d||"string"===d||"boolean"===d?c[g]=h:"object"===d&&("fill"===g||"stroke"===g||"border"===g?(h=y.copy(h,b))&&(c[g]=h):c[g]=b.compress&&h&&h.getValue?h.getValue():J(h,b))}return c}};b.copyDeepCompress=function(a){return b.copyDeep(a,{compress:!0})};
b.decompress=function(a){"string"===typeof a.filter&&(a.filter=new x.vars.FilterStack({filter:b.decompress.filter(a.filter)}));a.border&&(a.border=new y.Border(a.border));a.fill&&(a.fill=new y.Fill(a.fill));a.stroke&&(a.stroke=new y.Stroke(a.stroke));void 0===a.toolkitId&&(a.toolkitId=v.getToolkitId(a.type));return a};b.decompress.filter=function(a){if("string"===typeof a){var b=/\(([^)]+)\)/.exec(a);return[[{cmd:"shader",id:a.replace(b[0],""),data:b[1].split(",").map(function(a){return parseFloat(a)})}]]}};
b.toString=function(a){a=a||b.children;return JSON.stringify(b.copyDeepCompress(a))};b.copyAttributes=function(a,b,c,h){if(null==b)g.debug&&console.warn("scene.copyAttributes",arguments);else{c||(c={});h||(h={});var d=!!h.compress,q=h.filter,p=!!h.nullDeletion,e;for(e in a){var f=a[e],r=b[e],k=c[e];null==r?p&&null===r&&delete c[e]:q&&q(r,k)||(r.getValue?c[e]=r.getValue():"filter"===f?c[e]=r.data||r:"style"===f?(f=y.create(r,e),d?(f=f.toJSON())?c[e]=f:delete c[e]:c[e]=f):"object"===f?c[e]=L.copy(r):
"bbox"===f?(k=k||(c[e]={}),L.copyInto(r,k)):"clamp"===f?(k=k||(c[e]={}),k.min=r.min,k.max=r.max):k!==r&&(c[e]=void 0!==r.value?r.value:r))}return c}};b.copyRules=function(a,c){c=c||{};b.copyAttributes(k.attrs.__rules,a,c);return c};b.copyProperties=function(a,c,g){g=g||{};b.copyAttributes(k.attrs.__rules,c,g);b.copyAttributes(a.attributes,c,g);return g};b.copyConfig=function(a,c){var g=a.toolkit||v.get(a.type);if(g)return c=c||{},b.copyAttributes(k.attrs.__rules,a,c),b.copyAttributes(g.attributes,
a,c),c;throw Error("scene.copyConfig: invalid input");};b.ensureStickyIdx=function(a){a.useStickToBack&&(a.zIndex=-1);a=L.INFINITY_MINUS_24bit;for(var c=0;c<b.children.length;c++){var g=b.children[c];g.useStickToFront&&(g.zIndex=a++)}};b.ensureMaxCopies=function(a){if("string"!==typeof a.src)return!0;var c=b.children,g={},h=a.src,q=k.lib[a.type],e=q&&q.getEntry(h);if(e){var f=e.folder;if((e=q.meta[f])&&e.useMaxCopies){for(var r=q.tree[f],f=0;f<r.length;f++)for(var w=q.getSrc(r[f],{absolute:!0}),z=
0;z<c.length;z++){var y=c[z];if(void 0!==y.src&&y.id!==a.id){h=y.src;if(h.startsWith("#"))if(h=p.getItem(y.src,y.type))h=h.src;else continue;var y=h,l=w,y=y===l?!0:y.length<l.length?l.indexOf(y)+y.length===l.length:y.indexOf(l)+l.length===y.length;if(y&&(g[h]||(g[h]=0),h=++g[h],h>=e.useMaxCopies))return a.useMaxCopies=e.useMaxCopies,d(a),!1}}return!0}}w=h;for(f=0;f<c.length;f++)if(y=c[f],void 0!==y.src&&y.id!==a.id&&(a.useMaxCopies||y.useMaxCopies)&&(h=(e=k.lib[y.type].getEntry(y.src))&&e.src||y.src,
p.equals(h,w)&&(g[h]||(g[h]=0),h=++g[h],h>=y.useMaxCopies)))return d(a),!1;return!0};var G=L.arrayToObject("id zIndex clamp data visible tid".split(" ")),F=L.arrayToObject("dirtyCheck dirtyCache dirtyTransform dirtyControl dirtyRender selected hovered inBounds error callback hash render scaleCache filePicker resource palette subtool reset ctx trx trx2D trx2DInv svg brush toolkit __env".split(" "));b.children=[];b.childrenById={};b.copies=[];b.controls=[];b.hovered=new l.SceneSelection(k,t,b);b.selection=
new l.SceneSelection(k,t,b);b.selection.on("multiselect",function(){v.text&&v.text.hide()}).on("empty",function(){v.text&&v.text.hide()});b.filter=function(a){var c=b.selection.instance();if("function"===typeof a)var h=b.children.filter(a);else if("object"===typeof a)for(var h=[],q=0;q<b.children.length;q++){var d=b.children[q],p=!0,e;for(e in a)if(d[e]!==a[e]){p=!1;break}p&&(h[q]=d)}else{g.debug&&console.error("scene.filter: match undefined");return}return c.objects(h)};b.SKObject=c;c.is=function(a){return a instanceof
c};c.prototype={get _x(){return this.bbox.x},get _y(){return this.bbox.y},get _width(){return this.bbox.width*this.bbox.scale.x},get _height(){return this.bbox.height*this.bbox.scale.y},get _trx2D(){var a=this.trx2D;if(a&&a.point2d)return a;b._update.transform(this);if((a=this.trx2D)&&a.point2d)return a;console.warn("transform could not be calculated")}};var N=function(){var a={},b;for(b in F)a[b]={enumerable:!1,configurable:!0,writable:!0};return a}();b.SKBBox=a}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.AddMedia=function(l,k){function t(a,c,g){var q=l.io[a]&&l.io[a].toBitmap;if(q){var d=h.translate("decoding-format","."+a);l.loader&&(l.loader.create("decode",d),l.loader.create("files","..."));q(c,function(a,b,c,h){l.loader&&(l.loader.create("decode",d,Math.max(0,c-1)>>0),l.loader.create("files",b.name||"untitled"));l.assets.addStamp(a,function(a,b){100===c?(l.loader&&l.loader.create("decode",d,99),g&&g()):h&&h()})})}else b.debug&&console.log("missing .abr support"),
g&&g()}function f(a,b){function c(a){return a.some(function(a,b,c){return"sketch.json"===a.filename})}l.io.zip.getEntries(a,function(g,d){c(d)?(g.close(),l.open.sketch({blob:a})):(l.loader&&(l.loader.create("decoding",h.translate("opening-format",".ZIP")+"..."),l.loader.create("decodingFiles","...")),l.io.zip.decode({entries:d,onsuccess:function(){g.close();l.loader&&(l.loader.stop("decoding"),l.loader.stop("decodingFiles"));b.run()},next:function(a){var c=a.blob;a=q.string.extension(a.filename);
a="undefined"===c.type?a:c.type;switch(a){case "image/jpeg":case "image/jpg":case "image/gif":case "image/png":case "jpeg":case "jpg":case "png":case "gif":b.add("clipart");l.assets.addImage(c,this.next,this.next);break;case "image/svg+xml":case "svg":b.add("clipart");l.assets.addClipart(c,this.next,this.next);break;case "abr":case "gbr":b.add("stamp");t(a,c,this.next);break;case "ggr":b.add("gradient");l.style.addFromBlob(c,this.next);break;case "gpl":b.add("color");l.style.addFromBlob(c,this.next);
break;default:this.next()}},onprogress:function(a,b,c){l.loader&&(l.loader.create("decoding",h.translate("opening-format",".ZIP")+"...",a),l.loader.create("decodingFiles",q.string.filename(c)))}}))})}function e(a,b,c,g,h){l.save.confirm({oncontinue:function(){a(b,c,g,!1,h)},onrequestsave:function(){l.save.fromQuery()},oncancel:function(){console.log("cancel")}})}function u(a,b,c,g,d){if(g&&d)return e(u,a,b,c,d);l.loader&&l.loader.create("decoding",h.translate("opening-format",".PDF")+"...");l.open.pdf({file:URL.createObjectURL(a),
point:b,openAsNew:d,onprogress:function(a){l.loader&&l.loader.create("decoding",null,a)},onsuccess:function(){d||c&&c()},onerror:function(a){console.error(a)}})}function d(a,b,c,g,h){c=new FileReader;c.onload=function(a){a=new Uint8Array(a.target.result);a=new PSD.Parser(a);a.parse();k.addMedia({data:a.imageData.createCanvas(a.header,a.colorModeData),x:b.x,y:b.y})};c.readAsArrayBuffer(a)}var c=k.canvas2d,a=l.dom,b=l.feature,h=l.lang,p=k.render,r=k.scene,g=k.toolkit,q=l.util,w=l.ui,z=q.FileInfo;k.addMedia=
function(a,b,c,h){function p(){q.exists("doc.toolkit.config.clipart.opacity.value",l)&&(k.toolkit.config.clipart.opacity.value=100);w.refresh&&w.refresh("clipart");l.exec("select")}function e(b){H?l.exec("new-confirm",function(){l.open[C]({src:b,type:C,openAsNew:H,onsuccess:function(){K.run()}})}):r.add({centerOnPoint:!0,type:C,src:b,x:F.x,y:F.y,width:a.width,height:a.height},function(a){K.run(a)})}var m=galactic.is(a);"String"===m&&(a={src:a});if("Blob"===m||"File"===m)a={data:a};if("HTMLImageElement"===
m||"SVGSVGElement"===m)a={data:a};c=c||a.onerror;b=b||a.onsuccess;h=h||a.onprogress;var B=a.data||a,m=a.src,C=a.type,H=!!a.openAsNew,G=a.thumb,F={},F=isFinite(a.x+a.y)?{x:a.x,y:a.y}:a.event?r.pointInSceneFromEvent(a.event):r.getCenterPoint();if(B.toDataURL)return B.toBlob(function(g){a.data=g;k.addMedia(a,b,c,h)});var N=z.isBlob(B);if(!m||!C){if(N){z(B,function(g){a.src=B.src||URL.createObjectURL(B);a.type=g.extension;k.addMedia(a,b,c,h)});return}if(B.src){z(B.src,function(g){a.src=B.src;a.type=g.extension;
k.addMedia(a,b,c,h)});return}m=B}if(G)G.width=G.width||a.width,G.height=G.height||a.height,G.croparea&&!isFinite(G.width+G.height)&&(G.width=G.croparea[2]-G.croparea[0],G.height=G.croparea[3]-G.croparea[1]),G.src=m,G.onsuccess=function(g){delete a.thumb;a.data=g;k.addMedia(a,b,c,h)},q.thumbnailer(G);else{var K={data:{},add:function(a){K.data[a]=!0},run:function(a){l.loader&&l.loader.stop();var b=K.data;b.clipart&&b.stamp&&delete b.clipart;for(var c in K.data)K.callbacks[c]();K.callbacks.callback(a)},
callbacks:{callback:function(a){b&&b(a)},text:function(){w.refresh&&w.refresh("text");g.tool("text")},stamp:function(){w.refresh&&w.refresh("stamp");g.tool("stamp")},clipart:p,image:p,color:function(){l.palette.setPaintType("color",!0);l.windows.show("#sk-palette")},gradient:function(){l.palette.setPaintType("gradient",!0);l.windows.show("#sk-palette")},pattern:function(){l.palette.setPaintType("pattern",!0);l.windows.show("#sk-palette")}}};if(N)switch(C){case "zip":f(B,K);return;case "json":l.open.json(B);
return;case "sketchpad":case "sketch":l.open.sketch({blob:B});return;case "svg":if(-1!==B.src.indexOf("missing-glyph")&&-1!==B.src.indexOf("units-per-em")){l.assets.addFont(B,K.run,K.run);return}break;case "ttf":case "woff":l.assets.addFont(B,K.run,K.run);return;case "pat":console.log("pat",B);K.run();return;case "abr":case "gbr":K.add("stamp");t(C,B,K.run);return;case "ggr":K.add("gradient");l.style.addFromBlob(B,K.run);return;case "gpl":K.add("color");l.style.addFromBlob(B,K.run);return;case "pdf":u(B,
F,K.run,!0,H);return;case "psd":d(B,F,K.run,!0,H);return}"string"===typeof m?m.startsWith("{")?l.open.json(m):z.isSVGString(m)?(K.add(C="clipart"),l.assets.addClipart(B,e,c,h)):(K.add(C="image"),l.assets.addImage(B,e,c,h)):console.log("unrecognized",B)}};k.addBackground=function(a,b,g,h){function d(c){c.name="background";c.selectable=!1;c.useStickToBack=!0;r.filter(function(a){return"background"===a.name}).remove();r.copyRules(a,c);c=r.addObject(c);r._update.constrain(c);k.history&&k.history.store({cmd:"add",
name:"background",data:[c]});k.render.dirty=!0;b&&b(c)}"string"===typeof a&&(a={src:a});b=b||a.onsuccess;g=g||a.onerror;h=h||a.onprogress;var q=l.style.validate(a.src);"color"===q||"gradient"===q?(g=k.container,d({type:"rectangle",fill:new l.style.Fill(a.src),stroke:new l.style.Stroke,width:g.offsetWidth,height:g.offsetHeight,useConstrain:!0,useStretchToEdge:!0})):l.assets.add({data:a.src,onprogress:h,onerror:g,onsuccess:function(a,b){var g=b.width||b.vob.width,h=b.height||b.vob.height,q={type:b.type||
"image",src:a,bbox:{}},p=q.bbox,e=c.width,f=c.height;g/h<e/f?(q.useConstrainX=!0,q.useAlignY="top",p.width=e,p.height=h/g*e):(q.useConstrainY=!0,q.useAlignX="left",p.width=g/h*f,p.height=f);d(q)}})};k.addMediaFromDrag=function(b){-1!==String(b).indexOf("Event")&&(b={target:this,src:this.src});var h=b.target,q=b.event,d=b.src||h.getAttribute("data-src")||h.src,p=b.type||h.getAttribute("data-type")||"clipart";l.assets.add(d);var e=a.clone(h,"sk-draggable"),f=a.measure(h),w=f.padding,z=w.top+w.bottom,
u=f.border,t=w.left+u.left,m=w.top+u.top,N=f.width,K=f.height;e.style.width=N-(w.left+w.right)+"px";e.style.height=K-z+"px";return eventjs.proxy.drag({position:"move",target:h,event:q,listener:function(a,h){if(!g.media)return console.log("missing toolkit");var q=eventjs.getPageXY(a);if("down"===h.state){var f=eventjs.getBBox(h.target);h.offset={};h.offset.x=f.width/2-(q.x-h.x);h.offset.y=f.height/2-(q.y-h.y);eventjs.prevent(a)}var w=h.bbox.pageYOffset,z=h.bbox.pageXOffset;e.style.left=h.x+z+t-1+"px";
e.style.top=h.y+w+m-1+"px";if(!e.addedToDOM){var f=Math.abs(h.x-h.start.x),l=Math.abs(h.y-h.start.y);if(f>N/2||l>K/2)e.addedToDOM=!0,document.body.appendChild(e)}if("up"===h.state){f=q.x-z;l=q.y-w;e.style.display="none";var v=document.elementFromPoint(f,l);v&&"active"===v.getAttribute("data-layer")?(f=g.media,f.device.useMinWidth=1,f.device.useMaxWidth=2E3,f=eventjs.getBBox(k.container),l=k.zoom,v=q.y-f.y1-f.pageYOffset-c.orientY,f=(q.x-f.x1-f.pageXOffset-c.orientX)/l+h.offset.x+z,l=v/l+h.offset.y+
w,r.deselectAll(),r.add({centerOnPoint:!0,type:p,src:d,x:f,y:l},function(a){r.select(a);b.ondrop&&b.ondrop(a)})):k.exportDrop(d,f,l);e.addedToDOM&&document.body.removeChild(e)}}})};k.exportDrop=function(a,c,g){!b.io.exportDrop||0<c&&0<g&&c<window.innerWidth&&g<window.innerHeight||(c=k.selection.item,l.assets.add({data:a,type:c?c.type:k._tool.type,onsuccess:function(b){var c=(q.string.filename(a)||"").split(".").shift();this.vob?l.download.blob(new Blob([this.stringify()],{type:"image/svg+xml"}),c+
".svg"):l.assets.getBlob(b,function(a){l.download.blob(a,c+".png")})}}))};k.setMedia=function(c){var h=c.type,q=c.src,d=c.onsuccess,e=c.onprogress,f=c.onerror;b.doc.editable||"text"===k._tool.type||r.deselectAll();var z=k.selection.items,u="select"===k._tool.type,t=k.selection.item,t=k.toolkit.config,m=[],G=[];switch(h){case "clipart":case "image":case "stamp":c=q;"stamp"===h?(c=c.replace("thumb","live"),t[h].src=c):(t[h].src=c,q=g.media,q.device.src=c,q.device.render=void 0);for(var F in z)if(t=
r.children[F],"image"===t.type&&"clipart"===h?t.type="clipart":"clipart"===t.type&&"image"===h&&(t.type="image"),t&&t.type===h)if(z=t.src,t.src=c,r.ensureMaxCopies(t)){var z={id:t.id,src:z},q={id:t.id,src:c},N=l.lib[t.type].getEntry(t.src);if(N)for(var K in l.attrs.__rules)void 0===N[K]?void 0!==t[K]&&(z[K]=t[K],q[K]="",delete t[K]):(z[K]=t[K],q[K]=N[K],t[K]=N[K]);m.push(z);G.push(q);t.dirtyCheck=!0;t.toolkit.loadResource(t).then(function(){})}else t.src=z;break;case "text":for(F in K=c.fontFamily||
c.name,q=g.text,q.device.fontFamily=K,t[h].fontFamily=K,z)(t=r.children[F])&&"text"===t.type&&(m.push({id:t.id,fontFamily:t.fontFamily}),G.push({id:t.id,fontFamily:K}),t.fontFamily=K,t.dirtyCheck=!0)}m.length&&G.length?(k.selection.length&&a.Canvas.clear(k.contexts.active),k.history&&k.history.store({cmd:"update",name:"change-media",data:{from:m,to:G}}),p.preload({onprogress:e}).then(d,f)):g.tool(h).then(function(){u?g.tool("select"):w.setToolMenu&&w.setToolMenu(k._tool.type);d&&d()},f);k.saveSettings()}}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.AddObject=function(l,k){function t(f,e,l){l?k.render.scene(function(){f&&f(e)}):f&&f(e)}k.addObject=function(f,e,u,d){function c(a,b){var c=typeof b;return typeof C[a]===c?C[a]:typeof f[a]===c?f[a]:b}function a(a,b){return C[a]=c(a,b)}function b(a){p.debug&&console.error(a,arguments);u({message:a})}if(null==f)throw Error("doc.addObject: No objects were provided.");var h=l.detect,p=l.feature,r=k.render,g=k.scene,q=k.toolkit,w=l.util,z=l.vector;f=f||{};e=
e||function(){};u=u||function(){};d=d||{};var y=d.fromSelf||!1,v=d.fromCollection||!1,x=isFinite(d.useRecord)?d.useRecord:!0,L=isFinite(d.useRender)?d.useRender:!0,E=isFinite(d.useHistory)?d.useHistory:!0,A=f.type;if(Array.isArray(f)||f.data&&!A){g=f.data||f;x=isFinite(f.useRender)?f.useRecord:!0;L=isFinite(f.useRender)?f.useRender:!0;d=f.scale;if(isFinite(d))for(var m=0;m<g.length;m++){var B=g[m];if(void 0!==B&&!B.useStretchToEdge&&!B.useStretchToFit){var C=B.bbox=B.bbox||{x:0,y:0};C.x*=d;C.y*=d;
"text"===B.type?B.fontSize*=d:(C.scale=C.scale||{x:1,y:1},C.scale.x*=d,C.scale.y*=d)}}var H=[];w.Queue({items:g,oncomplete:function(){t(e,H,L)},next:function(a){var b=this;k.addObject(a,function(a){H.push(a);b.next()},function(a){b.next()},{fromSelf:y,fromCollection:!0,useRecord:x,useRender:L})}})}else if(q.exists(A)){k.render.dirtyControls=!0;var G=k.toolkit.config[A];d=G.toolkitId;if(!0!==y){if("media"===d&&f.src){l.assets.add({type:A,targetId:f.targetId,data:f.src,onsuccess:function(a,b){q.media.device.src=
f.src=a;k.addObject(f,e,u,{fromSelf:!0,fromCollection:v,useRecord:x,useRender:L})}});return}if("text"===d&&f.fontFamily&&(!z.text.supports[G.fontFamily]||G.fontFamily!==f.fontFamily)){q.text.loadFont(f.fontFamily).then(function(){G.fontFamily=f.fontFamily;k.addObject(f,e,u,{fromSelf:!0,fromCollection:v,useRecord:x,useRender:L})},function(a){u&&u(a)});return}}g.decompress(f);var F=q.feats({type:A,toolkitId:d}),C=f.bbox=f.bbox||{},m=f.width,B=f.height;C.scale=q.readScale(C)||q.readScale(f)||{x:1,y:1};
C.rotate=q.readRotate(C)||q.readRotate(f)||0;a("units",F.units||"objectBoundingBox");a("padding",0);isFinite(c("width",0))&&(m=a("width",0));isFinite(c("height",0))&&(B=a("height",0));d=q.get(A);if(h.brush[A])if(f.points||f.data)w=f.points||f.data,"string"===typeof w&&(f.path="M"===w[0]?z.SVGPath.toVOBPath(w):z.SVGPath.toVOBPolygon(w));else{console.warn(A+" requires a path!",f);onsuccess&&onsuccess();return}else if(!m||!B)if(h.shape[A])m||(C.width=m=B||d.defaultWidth),B||(C.height=B=m||d.defaultHeight);
else if(h.media[A])if(B=l.assets.getItem(d.device.src))"clipart"===B.type?(B=B.viewBox,m=B[2]-B[0],B=B[3]-B[1]):(m=B.width,B=B.height),z=k.computed,h=F.maxWidth||w.INFINITY,F=F.maxHeight||w.INFINITY,C.width||C.height||(A=k.viewport,h=Math.min(h,A.width,z.width,m),F=Math.min(F,A.height,z.height,B)),w=w.fitSize(m,B,{width:C.width||"auto",height:C.height||"auto",maxWidth:h,maxHeight:F}),C.width=m=w.width,C.height=B=w.height;else{b("invalid asset");return}else if("text"===A)if(f.content)f.bbox.width||
(f.bbox.width="auto"),f.bbox.height||(f.bbox.height="auto"),w=w.copyInto(f,g.copyDeepCompress(k.toolkit.config.text)),w=q.text.measureText(f,w),m=z.text.getFontStyle(f),m=z.text.measureTextWidth("M",m),m=w.width+m,B=w.height,C.width=m,C.height=B;else{console.warn("Text requires content!",f);onsuccess&&onsuccess();return}else if("group"!==A){console.warn("Object requires view-box!",f);onsuccess&&onsuccess();return}g=g.getCenterPoint();a("x",g.x);a("y",g.y);if((g=f.centerOnPoint)||"objectBoundingBox"===
C.units&&!1!==g)C.x-=m/2*C.scale.x,C.y-=B/2*C.scale.y;isFinite(C.x)&&(C.x+=k.originX);isFinite(C.y)&&(C.y+=k.originY);r.pointer.place=d.config.mergeDefaults(f);d.createObject({device:r.pointer.place,object:f}).then(function(a){delete r.pointer.place;E&&k.history.store({cmd:"add",name:a.type,data:[a]});t(e,a,L&&!v)}).catch(function(a){console.error(a)})}else b(A+" toolkit not found.",f)}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Control=function(l,k){function t(a,b){q.VOBPath(a,b.data);b&&(b.selected||b.hovered)&&(b.selected?(a.save(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,a.shadowColor="#F00",a.lineWidth=8,a.strokeStyle="#F00",a.stroke(),a.lineWidth=5,a.strokeStyle="#fff"):(a.save(),a.globalAlpha=1,a.lineWidth=5,a.strokeStyle="#Fff"),a.stroke(),a.restore());a.lineWidth=1.5;p.setStyle(a,b)}function f(a,b,q,d){var p=d.id,e=u(q,p);if(e&&!0!==e.disabled){var f=k.scale,
r=k.zoom,w=r*k.pixelRatio,z=r*f,l=(isFinite(e.padding)?e.padding:0)/r,y=b.bbox,v=y.scale.x,x=y.scale.y,t=0>v?-1:1,m=0>x?-1:1,I=(t*e.left||0)/r,X=(m*e.top||0)/r,v={inherit:q.width*t*f,padding:l,percent:y.width*v*z,flip:t},W={inherit:q.height*m*f,padding:l,percent:y.height*x*z,flip:m};q=e.width;var Y=e.height;"string"===typeof q&&(q=g.math(q,v));"string"===typeof Y&&(Y=g.math(Y,W));var x=q/z,Y=Y/z,O=e.x,O="string"===typeof O?g.math(O,v)/z-x/2:d.x-x/2,v=e.y,v="string"===typeof v?g.math(v,W)/z-Y/2:d.y-
Y/2;0>x&&(O+=x,x=-x);0>Y&&(v+=Y,Y=-Y);d=b.trx2D.point2d(O,v);p={id:p,title:e.title,type:"button",cursor:e.cursor||"default",hovered:"hover"===e.state,control:e,event:e.command,onmousedown:e.onmousedown,onmouseup:e.onmouseup,onhover:e.onhover,bbox:{units:y.units,x:d.x,y:d.y,left:-l+I,top:-l+X,width:x*f+2*l,height:Y*f+2*l,rotate:y.rotate,scale:{x:1,y:1}}};y=p.bbox;O=c.tx;v=c.ty;h.controls.push(p);a.save();a.beginPath();a.translate(O,v);a.scale(w,w);a.translate(y.x,y.y);a.rotate(y.rotate*g.DEG_RAD);
w=1;"svg"===e.shape&&(w=q/e.viewBox[2]);a.translate(I,X);e.render({ctx:a,object:b,control:p,matrix:{a:w*t/r,b:0,c:0,d:w*m/r,x:0,y:0}});a.restore()}}function e(a){for(var b=Object.keys(l.color.webcolors),q=k.zoom*k.pixelRatio,d=0;d<h.controls.length;d++){var p=h.controls[d].bbox;a.save();a.beginPath();a.translate(c.tx,c.ty);a.scale(q,q);a.translate(p.x,p.y);a.rotate(p.rotate*g.DEG_RAD);a.globalAlpha=.5;a.fillStyle=b[d];a.fillRect(p.left||0,p.top||0,p.width,p.height);a.restore()}}function u(a,b){return a[b+
"-"+(eventjs.isTouch?"normal":h.controlActive.id===b?"focus":h.controlHover.id===b?"hover":"normal")]||a[b]}var d=l.dom,c=k.canvas2d,a=k.contexts,b=l.feature,h=k.scene,p=k.toolkit,r=l.ui,g=l.util,q=l.vector,w=q.Shape;h.control={};h.controlSelection=void 0;h.controlActive={};h.controlHover={};h.controlHoverArray=[];h.resetControls=function(){var a=h.controls;if(a.length){for(var b=0;b<a.length;b++){var c=a[b].control;c&&c.hide&&c.hide.call(c)}h.controls=[]}};h.renderControls=function(b){var c=h.hovered,
g=h.selection,q=g.length;if(b||c.changed||g.changed||h.control.changed){c.changed=!1;g.changed=!1;h.control.changed=!1;var p=a.active;b=p.ctx;d.Canvas.clear(p);h.resetControls();for(var p=h.children,e=0,f=p.length;e<f;e++){var r=p[e],k=c.items[e],w=g.items[e];g.idx===e||k&&(w||0===q)?h.renderObjectControls(b,r):(w||k)&&h.renderObjectControls(b,r,!0)}h.controlSelection?z(!0):1<q&&z(!1)}};var z=function(){var q={select:{selection:{fill:"rgba(0,240,100,0.20)",stroke:"rgba(0,240,100,1)"},object:{fill:"rgba(255,255,255,0.20)",
stroke:"#0E81D4"}},deselect:{selection:{fill:"rgba(255,50,100,0.20)",stroke:"rgba(255,50,100,1)"},object:{fill:"rgba(0,0,0,0.20)",stroke:"#0E81D4"}}};return function(d){var e=k.zoom,f=e*k.pixelRatio,r=a.active,r=r.ctx,w=c.tx,z=c.ty;r.save();r.translate(w,z);r.scale(f,f);if(d){z=h.controlSelection;d=z.items;var w=k.selection.length,l=q[z.metaKey&&w?"deselect":"select"];r.lineWidth=1/e;r.fillStyle=l.selection.fill;r.strokeStyle=l.selection.stroke;var y=(k.scrollX-(z.scrollX-k.scrollX))/f,f=(k.scrollY-
(z.scrollY-k.scrollY))/f;r.beginPath();r.rect(z.x-y,z.y-f,z.width,z.height);r.fill();r.stroke();r.lineWidth=.75/e;r.fillStyle=l.object.fill;r.strokeStyle=l.object.stroke;var f=g.copy(k.selection.items),z=h.children,v;for(v in d)if(d[v]?(w++,f[v]=!0):(w--,delete f[v]),(l=z[v])&&l.trx2D){l.selected=!!f[v];var x=l.bbox,y=l.trx2D,u=x.width*x.scale.x,x=x.height*x.scale.y;r.save();y.apply(r,!0);r.beginPath();p.feats(l).showGhostPath?t(r,l):(r.rect(0,0,u,x),r.fill(),r.stroke());r.restore()}}else f=k.selection.items,
w=k.selection.length;b.debug&&1<w&&(r=a.active,r=r.ctx,v=k.selection.bbox(f),r.lineWidth=1/e,r.shadowOffsetX=1/e,r.shadowOffsetY=1/e,r.shadowBlur=0,r.shadowColor="#fff",r.strokeRect((v.x1>>0)-.5,(v.y1>>0)-.5,(v.x2-v.x1>>0)+1,(v.y2-v.y1>>0)+1),r.restore());r.restore()}}();h.addControl=function(a,b,c,g,q,d){d||(d=q);h.controls.push({id:a,type:"button",event:b,bbox:{units:"objectBoundingBox",x:c,y:g,width:q,height:d,rotate:0,scale:{x:1,y:1}}})};h.renderObjectControls=function(a,g,q){if(!1!==g.visible){var d=
g._trx2D;if(d){var r=h.controlActive.id,w=h.hovered.contains(g),z=h.selection.contains(g),l=k.selection.id===g.id,m=!!h.controlActive.moving,N=!!h.controlActive.rotating,K=!!h.controlActive.scaling,J=g.brush;if(J&&J.drawCustomControl)l&&(h.resetControls(),J.drawCustomControl(g),b.debugCache&&e(a));else{var l=k.pixelRatio,S=k.zoom,P=S*l,T=l/P,U=g.bbox,I=U.scale.x,X=U.scale.y,W=U.width,Y=U.height,l=W*I,J=Y*X,O=p.feats(g),V=k.theme.getControls(g),Q=u(V,"anchor");if(O.showBBox||O.showGhostPath)a.save(),
a.translate(c.tx,c.ty),a.scale(P,P),d.apply(a,!0),a.beginPath(),O.showGhostPath?t(a,g):(a.rect(0,0,l,J),a.lineWidth=(Q.lineWidth||1)/P,O=w&&!z&&eventjs.shiftKey,(w=w&&eventjs.metaKey)||O?(a.shadowOffsetX=1,a.shadowOffsetY=1,a.shadowColor="rgba(0,0,0,0.25)",a.strokeStyle=w&&z?"rgba(255,0,0,0.85)":"rgba(0,255,0,0.85)"):"text"===g.type&&p.text.isOutOfBounds(g)?(a.shadowOffsetX=1,a.shadowOffsetY=1,a.shadowColor="rgba(255,255,255,0.65)",a.strokeStyle="rgba(255,0,0,0.85)"):("transparent"!==Q.shadowColor&&
(a.shadowOffsetX=Q.shadowOffsetX||0,a.shadowOffsetY=Q.shadowOffsetY||0,a.shadowBlur=Q.shadowBlur||0,a.shadowColor=Q.shadowColor||"transparent"),a.strokeStyle=Q.strokeStyle||"#000"),a.stroke()),a.restore();q||m||(h.resetControls(),q=d.point2d(0>I?I*W:0,0>X?X*Y:0),!K&&V.anchor&&(m=V.anchor,w=m.padding,T*=w,Q="",(z=k.selection.items[g.zIndex])&&(Q=m["title."+g.type+":selected"]||m["title:selected"]),Q||(Q=m["title."+g.type]||m.title||""),h.controls.push({id:"anchor",layerId:g.id,layerIdx:g.zIndex,type:"button",
cursor:m.cursor,title:Q,control:m,event:m.command,padding:w,bbox:{units:U.units,x:q.x,y:q.y,left:1.5*-w,top:1.5*-w,width:Math.abs(I*W+T),height:Math.abs(X*Y+T),scale:{x:1,y:1},rotate:U.rotate}})),!K&&V.spinner&&!1!==g.useControlSpinner&&(z=l/2,N?(a.save(),a.translate(c.tx,c.ty),a.scale(P,P),a.lineWidth=1/S,a.beginPath(),S=V["spinner-focus"],a.moveTo(d.cp.x,d.cp.y),P=-d.spinnerDistance+J/2,d=d.point2d(z,P+5),a.globalAlpha=.5,a.lineTo(d.x,d.y),a.strokeStyle=S.fillStyle,a.stroke(),a.restore()):(d=V.spinner,
P=(d.height+d.padding)/S/k.scale*(0<X?-1:1)),f(a,g,V,{id:"spinner",x:z,y:P})),N||K||!V.nw_spinner||(f(a,g,V,{id:"nw_spinner",color:"#00f"}),f(a,g,V,{id:"ne_spinner",color:"#f0f"}),f(a,g,V,{id:"se_spinner",color:"#f00"}),f(a,g,V,{id:"sw_spinner",color:"#ff0"})),K=V.nw&&!1!==g.useControlNW,d=V.ne&&!1!==g.useControlNE,z=V.se&&!1!==g.useControlSE,S=V.sw&&!1!==g.useControlSW,P=V.n&&!1!==g.useControlN,X=V.e&&!1!==g.useControlE,U=V.s&&!1!==g.useControlS,I=V.w&&!1!==g.useControlW,N||y[r]||(v[r]||(P&&f(a,
g,V,{id:"n",color:"#e9e34d",x:l/2,y:0}),U&&f(a,g,V,{id:"s",color:"#e9e34d",x:l/2,y:J})),x[r]||(X&&f(a,g,V,{id:"e",color:"#e13b3b",x:l,y:J/2}),I&&f(a,g,V,{id:"w",color:"#e13b3b",x:0,y:J/2}))),N||(K&&f(a,g,V,{id:"nw",color:"#4fe896",x:0,y:0}),d&&f(a,g,V,{id:"ne",color:"#3b8de1",x:l,y:0}),z&&f(a,g,V,{id:"se",color:"#4fe896",x:l,y:J}),S&&f(a,g,V,{id:"sw",color:"#3b8de1",x:0,y:J})),!N&&V.nw_spinner_area&&(f(a,g,V,{id:"nw_spinner_area",color:"#f00",x:0,y:0}),f(a,g,V,{id:"ne_spinner_area",color:"#ff0",x:0,
y:0}),f(a,g,V,{id:"se_spinner_area",color:"#0f0",x:0,y:0}),f(a,g,V,{id:"sw_spinner_area",color:"#0ff",x:0,y:0})),b.debugCache&&e(a))}}}};h.renderCenterPoint=function(b){if("reset"===b)k.emit("tooltip",null);else{var h=b.point,q=b.origin,d=b.trx,p=b.bbox,e=b.useRotate,f=b.useScale,z=b.useMove,l=p.rotate,y=p.scale.x,v=p.scale.y;r.tooltip&&(f||z||e)&&(f?b.proportional?(d=Math.abs(p.width*y).toFixed(0),v=Math.abs(p.height*v).toFixed(0),d="\t\t\t\t\t\t\tW: "+d+" px<br>\t\t\t\t\t\t\tH: "+v+" px\t\t\t\t\t\t"):
(d=(100*y).toFixed(0),v=(100*v).toFixed(0),d="\t\t\t\t\t\t\tSX: "+d+" %<br>\t\t\t\t\t\t\tSY: "+v+" %\t\t\t\t\t\t"):z?(v=d.nw,p=d.ne,b=d.se,f=d.sw,d=Math.min(v.x,p.x,b.x,f.x).toFixed(2),v=Math.min(v.y,p.y,b.y,f.y).toFixed(2),d="\t\t\t\t\t\tX: "+d+" px<br>\t\t\t\t\t\tY: "+v+" px\t\t\t\t\t"):d=Math.round((l+360)%360)+String.fromCharCode(176),k.emit("tooltip",d,h));e&&(e=k.pixelRatio,d=e*k.zoom,h=q.x*d+c.tx,q=q.y*d+c.ty,e*=10,d=a.active.ctx,d.save(),d.beginPath(),d.shadowOffsetX=1,d.shadowOffsetY=1,d.shadowColor=
"rgba(255,255,255,0.5)",d.shadowBlur=0,d.beginPath(),d.translate(h,q),d.rotate((l+45)*g.DEG_RAD),w.cross(d,0,0,e,e),d.shadowColor="rgba(0,0,0,0.5)",d.strokeStyle="#dd167a",d.stroke(),d.restore())}};var y={ne:!0,se:!0,sw:!0,nw:!0},v={e:!0,w:!0},x={n:!0,s:!0}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.ControlEvent=function(l,k){function t(l,t,m,D){function B(){if((eventjs.altKey||d.canvas.useGroupBBox)&&ua)return a.getObjectOrigin(a.getBoundingBox({selection:a.selection}));var b=F[ha]||F.cp,c;c=za?F.cp:F[Ua]||F.cp;return{x:c.x/k.scale,y:c.y/k.scale,rad:r.angle(b,c)+Math.PI/2}}function C(a,b,c){var g=b+S.rotate;b=r(Qa);g=r.atRadianDistance(b,g*p.DEG_RAD,1);g=r.nearestOnLine(a,b,g);a=r.distance(b,g)||p.ZERO;b=r.sub(b,g);var g=0>b.x,h=0>b.y;null==T[c]&&
(T[c]={x:g,y:h});if(fa&&da||"xy"===c)return a;b=T[c];return a*(b.x===g&&b.y===h?1:-1)}function H(a){var b=C(a,0,"x"),c=C(a,90,"y");if(va)return{x:ib?S.width:b,y:hb?S.height:c};if(ib&&!ma)return{x:p.ZERO,y:c};if(hb&&!ma)return{x:b,y:p.ZERO};if(ma){if(na)var h=0>b?-1:1,d=0>c?-1:1;else d=h=1;ua?(b=g[ha],0>S.scale.x!==0>S.scale.y&&(b+=90),a=C(a,b,"xy")):a=Math.max(Math.abs(b),Math.abs(c));return{x:a*h,y:a*d}}return{x:b,y:c}}var G=f();if(null!=G){var F=G.trx2D,N=k.zoom,K=k.zoom*k.scale,J=k.pixelRatio,
S=G.bbox,P=p.copy(S),T={},U,I,X={},W={},Y,O,V,Q,Z,R,aa,ba=eventjs.altKey,ia=eventjs.shiftKey,fa,M,da,ma,oa=b.feats(G),na=oa.flippable,ua=1<k.selection.length,va="text"===G.type&&(oa.useResize||ba||D),za="objectBoundingBox"===S.units&&!va,ha=a.controlHover.id||"",Ua=q[ha],ra=w[ha],hb=!!v[ha],ib=!!x[ha],tb=!!y[ha],Qa=B();return function(b,g){var q=g.env;eventjs.prevent(b);V=eventjs.getPointerState(g);Q=k.eventPID(g);Z=g.pointerStart;R=g.pointerEnd;aa=g.pointerMove;k._interacting=g.pointerDown;fa=!(!1===
t||!1===G.rotatable||!0===tb);M=ia;da=!(!1===m||!1===G.scalable);ma=ia===tb||t&&m;Z?(q.cache={},a.controlActive={id:ha,scaling:da,rotating:fa},ua&&da&&(va||!ma)&&(ua=!1,k.selection.empty(),k.selection.select(k.hovered.idx),d.tools.select.useConfigure&&h.configurePane())):R&&(a.controlActive={});if(!k._rendering||!aa){var f={x:(g.x-e.x/J)/K,y:(g.y-e.y/J)/K};if(va&&ra&&!ua){Z&&(q=g.env,q.bbox=p.copy(S),q.width=S.width,q.height=S.height,q.x=S.x,q.y=S.y,q.offsetX=0,q.offsetY=0);var q=g.env,w=q.bbox.scale,
y=w.x,w=w.y,v=0>y?-1:1,x=0>w?-1:1,D=H(f),f=D.x/y,D=D.y/w,B=ra.x,C=ra.y;if(Z)q.flipX=0>y,q.flipY=0>w,q.offsetX=(Math.abs(f)-q.width)*v,q.offsetY=(Math.abs(D)-q.height)*x,-1===B&&0>y&&(q.width*=-1),-1===C&&0>w&&(q.height*=-1);else{var za=G.toolkit,T=za.minWidth,za=za.minHeight,ba=1,La=1,wa=0,ka=0,Ma=0,Ea=0;!0!==oa.useAutoWidth&&(wa=f-q.width-q.offsetX,q.width+=wa,na?(v=0>f?-1:1,wa=Math.max(T,q.width*v)-S.width,q.flipX!==0>f&&(q.flipX=!q.flipX,ba=-1)):(q.width=Math.max(T,q.width*v),wa=(q.width-S.width)*
v),-1===B&&(Ma=-wa*Math.abs(y)*v,q.x+=Ma));!0!==oa.useAutoHeight&&(ka=D-q.height-q.offsetY,q.height+=ka,na?(x=0>D?-1:1,ka=Math.max(za,q.height*x)-S.height,q.flipY!==0>D&&(q.flipY=!q.flipY,La=-1)):(q.height=Math.max(za,q.height*x),ka=(q.height-S.height)*x),-1===C&&(Ea=-ka*Math.abs(w)*x,q.y+=Ea));k.selection.transform({cache:q.cache,origin:Qa,pointerId:Q,state:V,sx:ba,sy:La,width:wa,height:ka,x:Ma,y:Ea})}}else fa&&(y=-Math.atan2(Qa.x-f.x||p.ZERO,Qa.y-f.y||p.ZERO)*p.RAD_DEG+180,w=0,w=M?5:1,y-=y%w,w=
S.rotate%w,null==U&&(U=y),I=y-U-w,U=y),da&&(w=H(f),null==X.x&&(X.x=w.x),null==X.y&&(X.y=w.y),v=P.scale,y=w.x/X.x*v.x||(ib?1:p.ZERO),w=w.y/X.y*v.y||(hb?1:p.ZERO),Y=y/(W.x||y),O=w/(W.y||w),W.x=y,W.y=w),k.selection.transform({cache:q.cache,pointerId:Q,state:V,origin:Qa,control:Ua,rotate:I,sx:Y,sy:O}),-1!==ha.indexOf("spinner")&&(F.spinnerDistance=r.distance(f,F.cp),F.spinnerPoint=f),Z&&d.ui.cursorDynamic&&a.controlHover.id&&h.setCursor(a.controlHover,G),fa&&k.on.rotateEvent&&k.on.rotateEvent(V),da&&
k.on.scaleEvent&&k.on.scaleEvent(V);q=F;if(Z||aa){var ca;eventjs.useCSSTransform?ca=eventjs.getPageXY(l):-1!==ha.indexOf("spinner")?(ca=g.bbox,ca={x:g.x+ca.x1-ca.scrollLeft,y:g.y+ca.y1-ca.scrollTop}):q[ha]&&(ca=g.env.metrics||(g.env.metrics=eventjs.getBBox(u.active)),y=q[ha],ca={x:y.x*N+ca.x1-ca.pageXOffset+e.tx/J,y:y.y*N+ca.y1-ca.pageYOffset+e.ty/J});ca&&(c.dirtyCenterPoint={point:ca,origin:q.cp,bbox:S,useRotate:fa,useScale:da,proportional:z[ha]||va})}c.dirty=!0;c.dirtyControls=!0;c.dirtyPointer=
!0;R&&(c.dirtyCenterPoint="reset")}}}}function f(){var b=a.getFocused()||a.getOneSelected();if(b&&(null==k.selection.item&&(k.scene.select(b),k.scene.handleSelection()),b.trx2D))return b}var e=k.canvas2d,u=k.contexts,d=l.feature,c=k.render,a=k.scene,b=k.toolkit,h=l.ui,p=l.util,r=l.vector.Point;b.contextEvent=function(){return function(a,b){eventjs.prevent(a);if(b.pointerStart){c.dirtyControls=!0;c.dirty=!0;var g=eventjs.getPageXY(a),q=eventjs.getBBox(u.active);h.contextMenu.show({menu:"selectSingle",
at:{x:g.x-q.pageXOffset+5,y:g.y-q.pageYOffset+5}})}}};b.deleteEvent=function(){return function(b,g){eventjs.prevent(b);if(g.pointerEnd&&(a.controls[1]||{}).hovered){k.selection.remove();var h=0,q=setInterval(function(){var a=u.active,b=a.ctx;b.save();b.globalAlpha=.25;b.globalCompositeOperation="destination-out";b.fillRect(0,0,a.width,a.width);b.restore();10<++h&&(clearInterval(q),c.dirty=!0)},25)}}};b.moveEvent=function(){var b=f();if(null!=b){var g=k.zoom*k.scale,h=b.trx2D,q=b.bbox;return function(d,
p){eventjs.prevent(d);var e=p.env,f=eventjs.getPointerState(p),r=p.pointerMoved,w=p.pointerMove,z=p.pointerStart,l=p.pointerEnd;k._interacting=p.pointerDown;z?(e.x=0,e.y=0,e.scrollX=0,e.scrollY=0,e.cache={}):l?a.controlActive={}:r&&(a.controlActive={id:"origin",moving:!0});if(1===k.selection.length&&b.brush&&b.brush.move)b.brush.move(p);else{var y=0,v=0;w&&(w=p.y-e.y,v=k.scrollY-e.scrollY,y=(p.x-e.x+(k.scrollX-e.scrollX))/g,v=(w+v)/g);e.x=p.x;e.y=p.y;e.scrollX=k.scrollX;e.scrollY=k.scrollY;if(y||
v||l||z)k.selection.transform({cache:e.cache,pointerId:k.eventPID(p),state:f,x:y,y:v}),c.dirty=!0,c.dirtyControls=!0,c.dirtyPointer=!0,c.dirtyCenterPoint=l?"reset":{point:eventjs.getPageXY(d),trx:h,origin:h.cp,bbox:q,useMove:r,useScale:!r,proportional:!0},k.on.moveEvent&&k.on.moveEvent(f)}}}};b.resizeEvent=function(a){return t(a,!1,!1,!0)};b.scaleEvent=function(a){return t(a,!1,!0,!1)};b.rotateEvent=function(a){return t(a,!0,!1,!1)};b.rotateScaleEvent=function(a){return t(a,!0,!0,!1)};var g={n:270,
e:0,s:90,w:180,ne:315,se:45,sw:135,nw:225},q={n:"s",e:"w",s:"n",w:"e",ne:"sw",se:"nw",sw:"ne",nw:"se"},w={e:{x:1,y:1},w:{x:-1,y:1},n:{x:1,y:-1},s:{x:1,y:1},e_all:{x:1,y:1},w_all:{x:-1,y:1},n_all:{x:1,y:-1},s_all:{x:1,y:1},ne:{x:1,y:-1},se:{x:1,y:1},sw:{x:-1,y:1},nw:{x:-1,y:-1}},z={ne:!0,se:!0,sw:!0,nw:!0},y={e:!0,w:!0,n:!0,s:!0,e_all:!0,w_all:!0,n_all:!0,s_all:!0},v={e:!0,w:!0,e_all:!0,w_all:!0},x={n:!0,s:!0,n_all:!0,s_all:!0}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.SceneFind=function(l,k){function t(a){var b=k.zoom*k.pixelRatio;return{x:a.x-k.scrollX/b,y:a.y-k.scrollY/b}}var f=k.canvas2d,e=k.contexts,u=l.feature,d=k.render,c=k.scene,a=k.toolkit,b=l.vector,h=b.Polygon,p=b.Point;c.findInRect=function(b){var g=b.rect||b,q=b.objects||c.children,d=b.deselect||!1;b=b.usePointInBBox||!1;if(2===g.length)var f=t(g[0]),r=t(g[1]),g=[f,p(r.x,f.y),r,p(f.x,r.y)];else f=t(g[0]),r=t(g[2]);var w=e.draw.ctx;w.rect(f.x+.5,f.y+.5,r.x-
f.x,r.y-f.y);for(var f=k.selection,r=f.length,d=d&&r,r={},z=q.length;z--;){var l=q[z];if(!1!==l.selectable&&!1!==l.visible){var y=l._trx2D;if(y&&y.point2d){var v=[y.nw,y.ne,y.se,y.sw],x=l.bbox.scale;0>x.x*x.y&&v.reverse();if(h.SAT(g,v))if(a.feats(l).usePointInPath&&!1===b)for(l=l.data,v=l.length,x=0;x<v;x++){var u=l[x],u=y.point2d(u.x,u.y);if(w.isPointInPath(u.x,u.y)){if(d)if(f.items[z])r[z]=!1;else continue;else r[z]=!0;break}}else d?f.items[z]&&(r[z]=!1):r[z]=!0}}}return r};c.findAtPoint=function(b){var h;
function q(a){return w?(z.push(a),z):a}var p=t(g(b.point)),e=b.objects||c.children,f=b.selection||{},r=b.searchParam||{selectable:!0},w=b.getArray||!1,z=[],l=!u.doc.editable,y=d.cache.pad,v=k.pixelRatio,x=void 0;if(b.useFocusPriority&&(b=k.scene.getFocused())&&c.isPointInControl(p,b))return q(b.zIndex);for(b=e.length;b--;){var m=e[b];if(!1!==m.visible){var T=m.bbox;if(null!=T){h="button"===m.type;if(!h)if(l)continue;else{if(r.excludeType&&m.type===r.excludeType)continue;if(r.selectable&&!1===m.selectable)continue;
if(r.toolkitId&&m.toolkitId!==r.toolkitId)continue;if(r.type&&m.type!==r.type)continue}if(c.isPointInControl(p,m)){var U=a.feats(m),I=T.scale,X=I.x,I=I.y;if(h){if(m.event)return q(b);z.push(b)}else{if(f[b])return q(b);if((U.usePointInPath||U.usePointInImageData)&&m.ctx){h=m.ctx;var W=c.pointInObjectFromScene(p,m),m=m.__env.offset||c._update.offset(m),Y=Math.abs(X),O=Math.abs(I),V=W.x,Q=W.y;0>X&&(V=-V+W.bbox_width);0>I&&(Q=-Q+W.bbox_height);V=V*Y*v+y;Q=Q*O*v+y;V+=m.x||0;Q+=m.y||0;V=Math.round(V);Q=
Math.round(Q);if(U.usePointInPath&&h.isPointInPath(V,Q)||U.usePointInImageData&&(h=h.getImageData(V,Q,1,1))&&8<h.data[3])return q(b)}if(U.usePointNearest)return q(b);U.usePointInBBox&&(T=T.width*X*T.height*I,void 0===x||x>=T)&&(z.push(b),x=T)}}}}}return w?z:z.pop()};c.pointsIn=function(a,b,g){a=c[a];for(var h=[],q=0,d=b.length;q<d;q++)h.push(a(b[q],g));return h};c.pointInPeerSceneFromCanvas=function(a){a=g(a);var b=k.scale,c=k.zoom,h=k.scrollX,q=k.scrollY;a.x=a.x/b+(h-h/c);a.y=a.y/b+(q-q/c);return a};
c.pointInCanvasFromPeerScene=function(a){a=z(a);var b=k.scale,c=k.zoom,g=k.scrollX,h=k.scrollY;a.x=a.x*b+(g-g*c);a.y=a.y*b+(h-h*c);return a};c.pointInObjectFromCanvas=function(a,b){return r(g(a),b)};var r=c.pointInObjectFromScene=function(a,b){var g=b.trx2DInv||c.calcTransform2DInv(b),h=b.bbox;a=g.point2d(a.x,a.y);a.x-=g.tlx+(h.left||0);a.y-=g.tly+(h.top||0);a.bbox_x=g.tlx;a.bbox_y=g.tly;a.bbox_width=h.width;a.bbox_height=h.height;return a};c.pointInSceneFromEvent=function(a){return g(q(a))};c.pointInSceneFromWindow=
function(a){return g(w(a))};var g=c.pointInSceneFromCanvas=function(a){var b=k.zoom,c=k.pixelRatio,g=k.zoom*c;return{x:a.x/b-1*(f.tx+k.scrollX*(c-1))/g,y:a.y/b-1*(f.ty+k.scrollY*(c-1))/g}},q=c.pointInCanvasFromEvent=function(a){return eventjs.getPointInNode(a,k.container)},w=c.pointInCanvasFromWindow=function(a){var b=eventjs.getBBox(k.container);return{x:a.x-b.x1,y:a.y-b.y1}},z=c.pointInCanvasFromScene=function(a){var b=k.zoom,c=k.pixelRatio;return{x:a.x*b+f.tx/c,y:a.y*b+f.ty/c}},y=c.pointInSceneFromObject=
function(a){a=a.bbox;return{x:a.x+a.width/2*a.scale.x,y:a.y+a.height/2*a.scale.y}};c.pointInWindowFromObject=function(a){return v(y(a))};var v=c.pointInWindowFromScene=function(a){var b=k.pixelRatio;return x({x:a.x+f.tx/b,y:a.y+f.ty/b})},x=c.pointInWindowFromCanvas=function(a){var b=eventjs.getBBox(k.container);return{x:a.x+b.x1,y:a.y+b.y1}};c.isPointInControl=function(a,b){var g=b.trx2D;if(g)return p.inRect(a,g.nw,g.ne,g.se);var h=c.pointInObjectFromScene(a,b),g=h.bbox_width,q=h.bbox_height,d=h.bbox_x,
e=h.bbox_y,f=h.x+d,h=h.y+e;return f>d&&h>e&&f<d+g&&h<e+q};c.getCenterPoint=function(){var a=k.zoom,b=k.scrollX,c=k.scrollY,g=k.computed,h=k.viewport;return{x:Math.min(g.width,h.width/a)/2+b,y:Math.min(g.height,h.height/a)/2+c}};c.findPixel=function(a,b,c){a=q(a);b=k.contexts.layer0.ctx.getImageData((a.x-k.scrollX)*k.pixelRatio>>0,(a.y-k.scrollY)*k.pixelRatio>>0,(b||1)>>0,(c||1)>>0).data;c={};a=0;for(var g=b.length;a<g;a++){var h=a%4;c[h]=void 0===c[h]?b[a]:(c[h]+b[a])/2}return c}}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.History=function(l,k){function t(a){return new Promise(function(b){--a.steps;if(z.vector)y.vector[a.cmd](a.steps,a.cmdSource);else if(z.bitmap)y.bitmap[a.cmd](a.steps,a.cmdSource);if(a.steps)return t(a).then(b);b()})}function f(a,b,c,g){function h(a,c){l.__nodejs||c||(a&&d(a,b),r.preload(b),l.ui.configurePane())}b=b||{};var q=a.cmd,p=a.data;if(f.current!==x.current){f.current=x.current;c&&m[q]&&(q=m[q]);var w=v[q];w?(c=w(q,p,c,b,g,a.userId),h(c,g)):(a=c?
p.from:p.to,c=c?p.to:p.from,Array.isArray(a)?(c=e(c,a),h(c,g)):(k.config(a),h(null,g)))}}function e(a,b){for(var c=0,h=b.length;c<h;c++){var d=a[c],p=b[c],e=g.getById(p.id);if(e){p.labels&&(e.labels=[]);w.copyInto(p,e);if(p.fill||d.fill)e.fill.__colors=void 0,void 0===p.fill&&(e.fill=void 0);if(p.stroke||d.stroke)e.stroke.__colors=void 0,void 0===p.stroke&&(e.stroke=void 0);e.__env.offset=void 0;g.decompress(e);g.setDirtyPixelData(e);p.content?(e.__env.textMetrics=void 0,e.dirtyCheck=!0):p.color||
p.fillStyle||p.bbox&&p.bbox.scale?(e.dirtyCheck=!0,e.dirtyTransform=!0,e.inBounds=void 0):e.dirtyCheck=!0;if(d=q.ensure(e))d.loadResource(e),d.updateObjectSize(e)}}return g.selection.objects.toIds(b)}function u(){h.fs.autosave&&l.fs.writeable&&(clearTimeout(u.timeout),u.timeout=setTimeout(function(){k._interacting?u():l.fs.saveProject({onsuccess:function(){l.ui.success("changes-saved",1E3)}})},1E3))}function d(a,b){b.viaPlayback||(z.autoSelect?"select"===k._tool.type&&(k.hovered.empty(),k.selection.empty(),
k.selection.ids(a),g.handleSelection(),k.render.dirtyControls=!0):g.deselectAll())}var c=this,a=k.contexts,b=l.dom,h=l.feature,p=l.net,r=k.render,g=k.scene,q=k.toolkit,w=l.util,z=h.history,y={bitmap:{},vector:{}},v={};c.register=function(a,b){v[a]=function(a,c,g,h,q,p){a=b(a,c,g,h,q,p);h.viaPeer||d(a,h)}};c.reset=function(a){z.vector?y.vector.reset(a):z.bitmap&&y.bitmap.reset(a)};c.store=function(a,b,c){a=a||{};b=b||{};c=!1!==c;if(z.vector){if(!y.vector.store(a,b))return}else if(z.bitmap&&!y.bitmap.store(b))return;
k.emit("historyStore",a);k.lastModified=Date.now();c&&u()};c.canUndo=function(){if(z.vector)return-1!==x.current};c.canRedo=function(){if(z.vector)return x.current!==x.data.length-1};c.undo=function(a){if(!h.history.canUndo||!c.canUndo())return Promise.reject("Nothing to undo.");a=a||{};var b=a.steps||1,g=a.cmdSource||{};return t({cmd:"undo",cmdSource:g,steps:b}).then(function(){k.emit("undo",b);u();!0!==g.viaPeer&&k.on.record&&k.emit("record",{op:"HISTORY_UNDO",data:{steps:b}},g)})};c.redo=function(a){if(!h.history.canRedo||
!c.canRedo())return Promise.reject("Nothing to redo.");a=a||{};var b=a.steps||1,g=a.cmdSource||{};return t({cmd:"redo",cmdSource:g,steps:b}).then(function(){k.emit("redo",b);u();!0!==g.viaPeer&&k.on.record&&k.emit("record",{op:"HISTORY_REDO",data:{steps:b}},g)})};c.findCmd=function(a){if(z.vector){var b=a.cmd,c=x.current,g=c-a.within;a=x.data;for(var h=c<g?1:-1,g=Math.abs(c-g),q=0;q<g;q++){var d=c+=h;if((d=a[d])&&d.cmd===b)return!0}}};c.getLastCmd=function(){if(z.vector){var a=x.data;return a[a.length-
1]}};c.bitmap={current:-1,data:[],max:w.clampFinite(z.limit)};y.bitmap.reset=function(a){var b=c.bitmap;b.current=0;b.data=b.data.splice(0,1);k.setCanvasSize();y.bitmap.store(a)};y.bitmap.store=function(g){g=c.bitmap;var h=g.data.length-1,q=h-g.current;q&&(g.data=g.data.splice(0,h-q+1));g.data.length===g.max?g.data.push(g.data.shift()):g.data.push(b.Canvas());g.current=g.data.length-1;h=a.layer0;g=g.data[g.current].ctx;g.canvas.width=g.canvas.width;g.drawImage(h,0,0);return!0};y.bitmap.undo=function(b,
g){var h=a.layer0.ctx,q=c.bitmap;q.current=Math.max(0,--q.current);h.canvas.width=h.canvas.width;h.drawImage(q.data[q.current],0,0)};y.bitmap.redo=function(b,g){var h=a.layer0.ctx,q=c.bitmap;q.current=Math.min(q.data.length-1,++q.current);h.canvas.width=h.canvas.width;h.drawImage(q.data[q.current],0,0)};var x=c.vector={current:-1,data:[],max:w.clampFinite(z.limit)};y.vector.reset=function(a){x.current=-1;x.data=[]};c.setData=function(a){x.current=a.current;x.data=a.data;x.max=a.max};c.pop=function(){var a=
x.data,b=a.length;if(b)return b-1===x.current&&x.current--,k.emit("historyPop"),a.pop()};c.restore=function(a,b,c){f.current=void 0;f(a,b,!!c)};y.vector.store=function(a,b){if(a.cmd&&a.data){a.timestamp=k.timestamp();a.userId=b.userId||p.user.id;var c;if("update"===a.cmd){c=g.copyDeepCompress(a);var h=w.diff(a.data.from,a.data.to,["id"]);if(!1===h){console.log("Packet is the same!",c.data);return}c.data.from=h.from;c.data.to=h.to}else c=g.copyDeepCompress(a);var h=x.data.length-1,q=h-x.current;q&&
(x.data=x.data.splice(0,h-q+1));x.data.length===x.max&&x.data.shift();x.data.push(c);x.current=f.current=x.data.length-1;k.on.record&&k.emit("record",{op:"HISTORY_STORE",type:"major",data:c},b);return!0}console.warn("storePacket",arguments)};y.vector.undo=function(a,b){if(c.canUndo()){x.current=Math.max(-1,--x.current);var g=x.data[x.current+1];g&&(k.emit("undo-step",g),f(g,b,!0,a))}};y.vector.redo=function(a,b){if(c.canRedo()){x.current=Math.min(x.data.length-1,++x.current);var g=x.data[x.current];
g&&(k.emit("redo-step",g),f(g,b,!1,a))}};c.register("add",function(a,b,c,h,d){for(a=0;a<b.length;a++)c=b[a],g.getById(c.id)||(c=g.copyConfig(c),!l.__nodejs&&q.ensure(c),g.push(c,!0),g._update.transform&&(c.toolkit.updateObjectSize(c),g._update.transform(c),g.setDirtyPixelData(c)));g.reindex();return k.selection.objects.toIds(b)});c.register("remove",function(a,b,c,q,d){a=g.children;for(c=0;c<b.length;c++){d=b[c].id;var p=g.getById(d);if(p)for(q&&p.zIndex===k.selection.idx&&(g.deselectAll(),h.debug&&
console.log(q.userId+" removed the object you had selected.")),p=0;p<a.length;p++){var e=a[p];if(e.id===d){r.cache&&r.cache.clean(e);g.setDirtyPixelData(e);g.shiftAt(p);break}}}g.reindex();return k.selection.objects.toIds(b)});c.register("replace",function(a,b,c,g){c?(a=b[1],b=b[0]):(a=b[0],b=b[1]);f.current=void 0;f({cmd:"remove",data:a},g,!1,1);f.current=void 0;f({cmd:"add",data:b},g,!1,0);return k.selection.objects.toIds(b)});c.register("zoom",function(a,b,c,g,h){console.log("zoom",a,b,c)});f.current=
0;var m={add:"remove",remove:"add"}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.SceneOrganize=function(l,k){function t(e,d){for(var c=[],a=0;a<d.length;a++){var b=d[a],h=e[b-a];!h||h.useStickToFront||h.useStickToBack||(e.splice(b-a,1),c.push({object:h,idx:b}))}return c}var f=l.util,e=k.scene;k.queueHistory&&k.queueHistory.add(function(){k.history.register("organize",function(f,d,c,a,b){f=e.children;b=c?d.from:d.to;d=c?d.to:d.from;a=!a.viaPlayback&&"select"===k._tool.type;e.selection.empty();d=t(f,d);if(c=d.length){for(var h=0;h<c;h++){var p=
d[h];f.splice(b[h],0,p.object);e.setDirtyPixelData(p.object);a&&e.selectByIdx(p.idx)}e.reindex()}})});e.sendTo=function(l){l=l||{};var d=l.idx,c=(l.record||!1)&&k.history,a=e.selection.toArray(l.selection),b=l.onsuccess,h=e.children,p;a:{p=0;for(var r=e.children,g=r.length,q=0;q<g;q++)if(r[q].useStickToBack)p++;else break a;p=void 0}a:{r=0;g=e.children;for(q=g.length;q--;)if(g[q].useStickToFront)r++;else break a;r=void 0}p=f.clamp(0+p,h.length-r,d);a=t(h,a);if(r=a.length){for(q=g=0;q<r;q++){var w=
a[q];if(w.idx<p)g++;else break}for(var z=[],y=[],q=0;q<r;q++){var w=a[q],v=w.object,d=p-g+q;e.setDirtyPixelData(v);h.splice(d,0,v);w.idx!==d&&(z.push(w.idx),y.push(d))}c&&z.length&&k.history.store({cmd:l.cmd||"organize",name:l.name||"object-order",data:{from:z,to:y}});e.reindex();b&&b()}return e};e.sendForwards=function(f){f=f||{};var d=f.distance||1,c=f.toFront||!1,a=f.record||!1;f=e.selection.toArray(f.selection);c?(d=e.children.length,c="object-to-front"):(d=f[f.length-1]+d+1,c="object-forwards");
return e.sendTo({idx:d,cmd:"organize",name:c,record:a,onsuccess:function(){k.on.sendForwards&&k.on.sendForwards()}})};e.sendBackwards=function(f){f=f||{};var d=f.distance||1,c=f.toBack||!1,a=f.record||!1;f=e.selection.toArray(f.selection);c?(d=0,c="object-to-back"):(d=f[0]-d,c="object-backwards");return e.sendTo({idx:d,cmd:"organize",name:c,record:a,onsuccess:function(){k.on.sendBackwards&&k.on.sendBackwards()}})}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Orientation=function(l,k,t){var f=this;galactic.emitter(f);var e=k.canvas2d,u=l.feature.zoom||{},d=l.feature,c=k.render,a=k.toolkit;l=l.vector;f.mirrorX=1;f.mirrorY=1;f.zoom={clampFormat:"px",fromCenter:!0,value:1,min:20,max:100};f.rotate={clampFormat:"degree",value:0,min:0,max:0};f.offset={x:0,y:0};f.origin={x:0,y:0};f.mouse={x:0,y:0};for(var b in t)f[b]=t[b];f.ctx=f.canvas.getContext("2d");var h=new l.Transform,p=new l.Transform,r=new l.Transform,g=new l.Transform;
f.render=function(){f.decompose();c.dirtyClip=!0;k.setContainerBounds();k.render.dirty=!0;k.render.dirtyControls=!0;a.text&&a.text.updateCSSTransform()};f.getTransform=function(){var a=g.reset();a.multiply(r);a.multiply(h);a.multiply(p);a.translate(f.offset.x,f.offset.y);return a};f.decompose=function(){var a=k.pixelRatio,b=f.getTransform(),c=new CSSMatrix,b=b.matrix;c.a=b.a;c.b=b.b;c.c=b.c;c.d=b.d;c.e=b.x;c.f=b.y;var g=c.decompose().translate,h=f.zoom.value;k.zoom=h;var c=k.originX*h*a,b=k.originY*
h*a,d=(k.viewport.height-k.computed.height*h)/2,h=Math.max(0,Math.min((k.viewport.width-k.computed.width*h)/2,g.x)),g=Math.max(0,Math.min(d,g.y));e.orientX=Math.round(h);e.orientY=Math.round(g);e.x=Math.round(h-c);e.y=Math.round(g-b);e.tx=e.x-k.scrollX*a;e.ty=e.y-k.scrollY*a;k.scrollElementCSS()};f.reset=function(a){f.media=k.computed;a||(f.zoom.value=u.value||1,f.rotate.value=0,f.mirrorX=1,f.mirrorY=1,f.offset.x=0,f.offset.y=0);d.doc.centerOnLoad&&f.setCenter();f.scale=1;f.mouse.x=0;f.mouse.y=0;
f.origin.x=0;f.origin.y=0;f.setZoomAtCenter();f.mirrorTo(f.mirrorX,f.mirrorY);f.rotateTo(f.rotate.value);f.zoomTo(f.zoom.value,!0);f.decompose();return f};f.setCenter=function(){var a=k.pixelRatio,b=parseFloat(f.canvas.style.width)||f.canvas.width,c=parseFloat(f.canvas.style.height)||f.canvas.height;f.offset.x=Math.max(0,b/2-f.media.width/2)*a;f.offset.y=Math.max(0,c/2-f.media.height/2)*a;f.origin.x=0;f.origin.y=0;f.mouse.x=0;f.mouse.y=0;return f};f.setPan=function(a,b){f.offset.x+=isFinite(a)?a:
0;f.offset.y+=isFinite(b)?b:0;f.setZoomAtCenter();return f};f.setRotate=function(a){f.rotate.value=360===a?360:(a+360)%360;f.rotateTo(f.rotate.value);f.render();f.emit("setRotate",a);return f};f.setZoom=function(a){var b=f.zoom.value,c=Math.max(f.media.width,f.media.width),g=f.zoom.min,h=f.zoom.max;"px"===f.zoom.clampFormat&&(g/=c,h/=c);c=Math.min(h,Math.max(g,a));f.zoom.value=c;(b=1+(c-b)/b)&&f.zoomTo(b);f.emit("setZoom",a);return f};f.mirrorTo=function(a,b){var c=f.media,g=-1===a?c.width:0,c=-1===
b?c.height:0;r.reset();r.translate(g,c);r.scale(a,b);f.emit("mirrorTo",a,b);return f};f.rotateTo=function(a){var b=f.media,c=b.width/2+f.offset.x,b=b.height/2+f.offset.y;p.reset();p.translate(c,b);p.rotate(a*Math.PI/180);p.translate(-c,-b);return f};f.zoomTo=function(a,b){var c=f.origin;b&&(h.reset(),c.x=0,c.y=0,f.scale=1);h.translate(c.x,c.y);h.scale(a,a);if(f.zoom.fromCenter){var g=f.scale,d=f.mouse,p=d.y/g+c.y-d.y/(g*a);h.translate(-(c.x=d.x/g+c.x-d.x/(g*a)),-(c.y=p))}f.scale*=a;return f};f.setZoomAtPoint=
function(a){a=eventjs.getPointInNode(a,f.canvas);var b=k.pixelRatio;f.mouse.x=a.x*b;f.mouse.y=a.y*b;return f};f.setZoomAtCenter=function(){var a=k.pixelRatio,b=k.viewport,c=f.media,g=f.getTransform(),h=g.point2d(0,0),d=g.point2d(c.width,c.height),c=Math.max(0,h.x),h=Math.max(0,h.y),g=Math.min(b.height,d.y),b=Math.min(b.width,d.x),b=Math.max(0,b-c),g=Math.max(0,g-h);f.mouse.x=(c+b/2)*a;f.mouse.y=(h+g/2)*a;return f};f.setSource=function(a){"string"===typeof a?(f.media=new Image,f.media.onload=function(){f.reset(!0)},
f.media.src=a):(f.media=a,f.reset(!0));return f}};m.module.Orientation.createController=function(l,k){function t(b,c){eventjs.cancel(b);k.emit("tooltip",f());c&&a.setDirtyBounds()}function f(){return Math.round(100*b.zoom.value)+"%"}function e(a,b,c){a=l.dom.create('<div class="'+a+'"></div>');l.ui.tooltip&&l.ui.tooltip.add(a,b);r.appendChild(a);eventjs.add(a,"mousedown",function(a,b){l.doc.orient[c]();t(a)})}var u=l.feature.zoom||{},d=l.dom,c=k.contexts,a=k.scene,b=k.orient=new l.module.Orientation(l,
k,{src:k.computed,canvas:c.layer0,mouseLayer:c.active,rotate:{clampFormat:"degree",value:0,min:0,max:0},zoom:{clampFormat:"%",fromCenter:u.fromCenter,value:u.value,min:u.min,max:u.max,increment:u.increment}});b.setSource(b.src);b.controllerReset=function(){b.reset();b.render();var a=b.getKnobOffset(u.defaultValue);b.setController(a)};b.controllerSetZoom=function(a){a=b.getKnobOffset(a||1);b.setController(a)};b.getKnobOffset=function(a){var c=b.zoom.max;a=a||k.zoom;var d=h.offsetHeight||150;a=2+Math.log(a)/
Math.log(2);c=2+Math.log(c)/Math.log(2);return(1-a/c)*d};b.controllerZoomOut=function(){var a=Math.max(b.zoom.min,k.zoom-b.zoom.increment),a=b.getKnobOffset(a);b.setController(a)};b.controllerZoomIn=function(){var a=Math.max(b.zoom.min,k.zoom+b.zoom.increment),a=b.getKnobOffset(a);b.setController(a)};b.setControllerCSS=function(a){if(p){var b=p.offsetHeight;p.style.top=Math.min((h.offsetHeight||150)-b,Math.max(0,a-b/2))+"px"}};b.setController=function(a,c){b.setControllerCSS(a);var d=h.offsetHeight||
150,p=b.zoom.max,e=2+Math.log(p)/Math.log(2),d=Math.min(p,Math.pow(2,(1-a/d)*e-2));c&&(d*=100,d=(d-d%c)/100);b.setZoom(d);b.render();h.title=Math.round(100*d)+"%"};var h={offsetHeight:150},p=d.$("#sk-orientation .controller");if(!p){var r=d.$("#sk-orientation");null!=r&&(eventjs.add(r,"mousedown,dblclick",eventjs.stop),e("icon-add","zoom-in","controllerZoomIn"),d=l.dom.create('<div class="controller"><div><span id="controller" style="top: 0px"></span></div></div>'),l.ui.tooltip&&l.ui.tooltip.add(d,
f),r.appendChild(d),eventjs.add(d,"drag",function(a,b){l.doc.orient.setController(b.y,5);t(a,"up"===b.state)}),p=d.firstChild.firstChild,p.style.top=b.getKnobOffset()+"px",e("icon-minus","zoom-out","controllerZoomOut"),e("icon-frame","reset","controllerReset"))}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.ScenePlacement=function(l,k){var t=k.canvas2d,f=k.contexts,e=l.feature,u=k.scene,d=k.toolkit,c=l.util,a=l.vector;u._update={};u._update.transform=function(b,h){b.data&&!b.dataHash&&(b.dataHash=c.hashFast(a.SVGPath.fromVOBPath(b.data)));if(b.dirtyTransform||b.dirtyCheck||!b.trx2D){b.dirtyTransform=!1;var d=b.bbox;if(b.useStretchToEdge||b.useStretchToFit){var e=k.computed.width,g=k.computed.height,q,f;b.useStretchToEdge?(q=e,f=g,e=k.originX,g=k.originY):(q=
d.width/e,f=d.height/g,q>f?(q*=e,f=g,e=k.originX-(q-e)/2,g=k.originY):(q=e,f*=g,e=k.originX,g=k.originY-(f-g)/2));!isFinite(e,g,q,f)||d.width===q&&d.height===f&&d.x===e&&d.y===g||(d.x=e,d.y=g,d.width=q,d.height=f,b.dirtyCache=!0)}var l=d.rotate*c.DEG_RAD;q=d.width*d.scale.x;f=d.height*d.scale.y;var y=q/2,v=f/2;b.trx2D||(b.trx2D=new a.Transform);b.trx2DInv||(b.trx2DInv=new a.Transform);var x=b.trx2D,e=d.x,g=d.y;x.reset();x.scale(k.scale,k.scale);x.translate(e,g);l&&("objectBoundingBox"===d.units?(x.translate(y,
v),x.rotate(l),x.translate(-y,-v)):x.rotate(l));h||(x.nw=x.point2d(0,0),x.ne=x.point2d(q,0),x.se=x.point2d(q,f),x.sw=x.point2d(0,f),x.cp=x.point2d(y,v),x.n=x.point2d(y,0),x.e=x.point2d(q,v),x.s=x.point2d(y,f),x.w=x.point2d(0,v),u.calcTransform2DInv(b))}};u.calcTransform2DInv=function(b){var h=b.bbox,d=h.rotate*c.DEG_RAD,e=h.scale.x,g=h.scale.y;if(b.trx2D)var q=b.trx2DInv.reset(),h=b.trx2D.nw;else q=new a.Transform;b=h.x;h=h.y;q.translate(b,h);d&&q.rotate(-d);q.scale(1/e,1/g);q.translate(-b,-h);q.tlx=
b;q.tly=h;return q};u._update.bbox=function(a){if(a=a||u.selection.item)u._update.constrain(a),"text"===a.type?d.text&&d.text.updateCSSTransform(a):a.brush&&(a.brush.bbox=a.bbox)};u.getBoundingBox=function(a){a=a||{};var c=a.useVisibleRegion||!1,d=a.asInteger||!1,e=Infinity,g=-Infinity,q=Infinity,w=-Infinity,l;l=a.selection?k.selection.toSelection(a.selection||u.selection).items:u.children;u.traverse.freshen(function(a){if(l[a.zIndex]){var b=a.trx2D;a=b.nw;var c=b.ne,h=b.se,d=b.sw,b=Math.min(a.x,
c.x,h.x,d.x)-1,p=Math.min(a.y,c.y,h.y,d.y)-1,f=Math.max(a.x,c.x,h.x,d.x)+2;a=Math.max(a.y,c.y,h.y,d.y)+2;b<e&&(e=b);p<q&&(q=p);f>g&&(g=f);a>w&&(w=a)}});c?(e=Math.max(0,e),q=Math.max(0,q),c=f.layer0,a=Math.min(c.width-e,g-e),c=Math.min(c.height-q,w-q)):(a=g-e,c=w-q);e=isFinite(e)?e:0;q=isFinite(q)?q:0;a=isFinite(a)?a:0;c=isFinite(c)?c:0;return{x:d?Math.floor(e):e,y:d?Math.floor(q):q,width:d?Math.ceil(a):a,height:d?Math.ceil(c):c,units:"objectBoundingBox",scale:{x:1,y:1}}};u.getObjectOrigin=function(a){return"objectBoundingBox"===
a.units?{x:a.x+a.width/2*a.scale.x,y:a.y+a.height/2*a.scale.y}:{x:a.x,y:a.y}};u._update.offset=function(a){var c=k.pixelRatio,d=a.bbox.scale.x,e="object"===typeof a.padding?a.padding:{top:0,left:0,right:0,bottom:0},g=e.left+e.right,e=e.top+e.bottom,q=a.stroke;q&&q.enabled||(q={lineWidth:0,miterLimit:0});var q=q.lineWidth*q.miterLimit/2,f=a.border&&a.border.lineWidth||0,g=Math.ceil(Math.abs((f+g)*d/2))+q,d=Math.ceil(Math.abs((f+e)*d/2))+q;return a.__env.offset={x:g*c,y:d*c,pixelRatio:c}};u._update.inBounds=
function(a){a.dirtyTransform&&u._update.transform(a);var c=a.trx2D;if(!c||!c.point2d)return!0;var d=k.zoom,f=k.pixelRatio,g=t.tx/f,q=t.ty/f,w=c.nw,l=c.ne,y=c.se,v=c.sw,c=Math.min(w.x,l.x,y.x,v.x)*d+g,f=Math.min(w.y,l.y,y.y,v.y)*d+q,x=Math.max(w.x,l.x,y.x,v.x)*d+g,w=Math.max(w.y,l.y,y.y,v.y)*d+q,l=t.width,y=t.height,m=k.scrollX,v=k.scrollY,E=k.computed;if(e.canvas.useForceInBounds)return a.inBounds=!0;e.canvas.useClipDoc?(l=Math.min(E.width*d,l),y=Math.min(E.height*d,y),g=(k.originX-m)*d+g,v=(k.originY-
v)*d+q):v=g=0;d=Math.max(0,g);q=Math.max(0,v);g=l+Math.max(0,g);l=y+Math.max(0,v);a.inBounds=c<g&&x>d&&f<l&&w>q;return a.inBounds};u.getActionDataAsAbsolute=function(b,h){var d=new a.Transform,e=b.bbox,g=e.scale.x,q=e.scale.y,f=e.rotate*c.DEG_RAD,k=e.width/2*g,l=e.height/2*q,v=-((b.diameter||0)/2)*(g-1);d.translate(e.x,e.y);d.translate(k,l);f&&d.rotate(f);d.translate(-k-v,-l-v);d.scale(g,q);e=[[]];g=0;if(q=b.data)for(f=q.length,k=0;k<f;k++)q=b.data[k],l=d.point2d(q.x,q.y),e[g]||(e[g]=[]),e[g].push({x:l.x,
y:l.y}),"z"===q.cmd&&++g;return h?JSON.stringify(e):e};u._update.constrain=function(a,c){var d=k.computed,e=d.width,d=d.height,g=a.bbox,q=g.scale.x,f=g.scale.y,l=a.useConstrain,y=a.useConstrainX,v=a.useConstrainY,x=a.useAlignX,t=a.useAlignY,m=a.trx2D;if(m&&(l||y||v)){var A=m.nw,D=m.ne,B=m.se,C=m.sw,m=Math.min(A.x,D.x,B.x,C.x),H=Math.min(A.y,D.y,B.y,C.y),G=Math.max(A.x,D.x,B.x,C.x),A=Math.max(A.y,D.y,B.y,C.y),C=Math.max(0,G-m),F=Math.max(0,A-H),A=g.x,D=g.y,B=A-m,G=D-H,C=e-C,F=d-F;"size"===c?(g.width+=
Math.min(0,C-m),g.height+=Math.min(0,F-H)):(m=C+B,H=F+G,l?(g.x=Math.max(B,Math.min(m,A)),g.y=Math.max(G,Math.min(H,D))):y?g.x=Math.max(B,Math.min(m,A)):v&&(g.y=Math.max(G,Math.min(H,D))));a.dirtyTransform=!0}x&&(q*=g.width,g.x="right"===x?e-q:"left"===x?0:(e-q)/2,a.dirtyTransform=!0);t&&(e=g.height*f,g.y="bottom"===t?d-e:"top"===t?0:(d-e)/2,a.dirtyTransform=!0);a.dirtyTransform&&u._update.transform(a)};u.getConstraint=function(a,c,e){var f=d.feats(a),g=a.useMinWidth||f.minWidth,q=a.useMinHeight||
f.minHeight,w=a.useMaxWidth||f.maxWidth,l=a.useMaxHeight||f.maxHeight;f.useConstrainToCanvas&&(f=k.contexts.layer0,f=Math.min(f.height,f.width)/k.pixelRatio,l=Math.min(f,l),w=Math.min(f,w));f=a.bbox;a=f.width||1E-4;var f=f.height||1E-4,y=a,v=f,x=!1,t=!1;if(e)return e.x*a<g&&(x=!0,e.x=g/a,e.y=e.x),e.y*f<q&&(x=!0,e.y=q/f,e.x=e.y),e.x*a>w&&(t=!0,e.x=w/a,e.y=e.x),e.y*f>l&&(t=!0,e.y=l/f,e.x=e.y),{constrained:x||t,tooSmall:x,tooLarge:t,x:e.x,y:e.y};y<g&&(x=!0,y=g);v<q&&(x=!0,v=q);y>w&&(t=!0,y=w);v>l&&(t=
!0,v=l);y!==a&&c&&(v=y/a*f);v!==f&&c&&(y=v/f*a);return{constrained:x||t,tooSmall:x,tooLarge:t,width:y,height:v}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.SceneRender=function(l,k){function t(){c.dirtyPointer=!1;var a=c.pointer,g=0,d=Date.now()-6E4,e="normal",r;for(r in a){var l=a[r];l.brush&&(l=l.brush);l.object&&(l=l.object);if(q.nonNormalBlend(l)){e=q.readBlend(l);break}}r&&f(e);e=k.pixelRatio;r=k.zoom*k.scale*e;var l=b.draw,y=l.ctx,v;for(v in a){var x=a[v];if(x.lastModified<d)c.removePointer(v),console.warn("prune pointer",v);else{var t=x.object;if(t)switch(t.toolkitId){case "text":x.isFromBrowser&&(k.scene._update.transform(t),
k.scene.renderObjectControls(y,t,!0));break;case "media":if(t.dirtyCheck){var u=t.bbox;u.scaleCache=void 0;t.lastSampleSize=Math.sqrt(u.width*u.height);k.scene._update.transform(t,!0)}c.object(y,t);break;case "shape":k.scene._update.transform(t,!0);c.object(y,t);break;case "brush":if(u=t.brush){var m=t.type,t=q.readBlend(t);u.isEraser="destination-out"===t||"eraser"===m;u.useAreaTracker=h.useAreaTracker[m]&&"color"!==u.fill.type;x=x.ctx||(x.ctx=p.Context2d(l.width,l.height));u.renderTo=x;var L="ghost"===
v;L&&(u.batchRecord=z.copy(u.pathRecord||[]));if(u.dirtyRender){if(L||!h.useCacheOnDraw[m])x.canvas.width=l.width,x.canvas.height=l.height;u.preprocess&&u.preprocess();x.save();x.translate(-k.scrollX*e,-k.scrollY*e);x.scale(r,r);w.brush.renderBrush(u.batchRecord,u);x.restore();u.postprocess&&u.postprocess();u.dirtyRender=!1}y.save();h.useCacheForAlpha[m]&&w.setGlobalAlpha(y,u);y.globalCompositeOperation=t;y.drawImage(x.canvas,0,0);y.restore();u.speed&&u.isFromBrowser&&w.brush.addPointClone(u)}}g++}}0===
g&&f()}function f(a){a=q.nonNormalBlend(a);c.blend!==a&&(a?(b.layer0.style.display="none",b.draw.style.background=b.layer0.style.background):(b.layer0.style.display="block",b.draw.style.background=""));(c.blend=a)?c.blend&&(p.Canvas.clear(b.draw),b.draw.ctx.drawImage(b.layer0,0,0)):p.Canvas.clear(b.draw)}function e(){if(!k._preloading)if(k._rendering=!0,c.emit("render"),c.dirty=!1,c.perf=c.perf||l.perf(),r.doc.editable||c.chunkBatch){var g=b.layer0,h=g.ctx,e=g.width,p=g.height;if(r.canvas.useClipDoc){if(c.dirtyClip){g.width=
e;c.dirtyClip=!1;var g=k.clip,w=k.pixelRatio,z=k.zoom*w,x=k.scrollX-k.originX*z,t=k.scrollY-k.originY*z;h.beginPath();if(g.path)x=a.x-x*w,t=a.y-t*w,h.save(),h.translate(x,t),h.scale(z,z),y.VOBPath(h,g.path),h.restore();else{if(c.toExport)var t=x=0,u=h.canvas.width,z=h.canvas.height;else w=k.computed,x=(g.x||0)*z+a.x-x,t=(g.y||0)*z+a.y-t,u=Math.min(w.width,g.width||Infinity)*z,z*=Math.min(w.height,g.height||Infinity);h.rect(x,t,u,z)}g.style&&(h.save(),q.applyGCO(h,g.style),q.applyFill(h,g.style),q.applyShadow(h,
g.style),q.applyStroke(h,g.style),h.restore());h.clip()}h.clearRect(0,0,e,p);h.beginPath();h.rect(0,0,e,p);h.clip()}else h.clearRect(0,0,e,p);h.save();d()}else{e=c.from;h=k.scene.children;if(h.length){e=(isFinite(k.selection.idx)&&"text.hide"!==e?b.active:b.layer0).ctx;for(p=0;p<h.length;p++)g=h[p],!g.dirtyCheck&&!g.dirtyTransform||g.error||(k.scene._update.transform(g),c.object(e,g),c.dirtyControls=!0);f(q.readBlend(k._tool.device))}v.run()}}function u(){c.dirtyActiveContext&&(c.dirtyActiveContext=
!1,p.Canvas.clear(b.active));c.dirtyControls&&(c.dirtyControls=!1,h.useRenderControls[k._tool.type]?k.scene.renderControls(!0):(k.scene.resetControls(),c.emit("dirtyControls")));if(c.dirtyCenterPoint){var a=c.dirtyCenterPoint;c.dirtyCenterPoint=!1;w.feats(k.scene.hovered.item).showCenterPoint&&h.useRenderControls[k._tool.type]&&k.scene.renderCenterPoint(a)}}function d(){for(var h=b.layer0.ctx,q=k.scene.children,e=q.length,p=x-m,f=c.chunkBatch,z=f?150:500,y=e-p,t=Date.now(),u=0;u<y;u++){var p=++x-
m,J=p>e-1,S=0!==x&&Date.now()-t>z;if(f&&(S||J)&&l.loader){var P=e&&!J?p/e:1;(100!==100*P>>0||l.loader.threads.thread)&&l.loader.create("thread",g.translate("rendering")+"...",100*P>>0)}if(S){++m;requestAnimationFrame(d);break}if(J){m=0;x=-1;k._rendering=!1;c.chunkBatch=!1;c.dirtyInBounds=!1;h=b.layer0.ctx;E.id&&E.canvas&&(E.render(h),E.id=null);h.restore();!r.canvas.useBGRender||c.highRes||c.toExport||(q=k.zoom,e=q*k.pixelRatio,f=k.computed,p=f.width,f=f.height,z=k.scrollX,y=k.scrollY,h.save(),h.beginPath(),
h.translate(a.orientX,a.orientY),h.scale(e,e),h.translate(-z,-y),h.globalAlpha=k.background.opacity,h.globalCompositeOperation="destination-over",h.fillStyle=k.computed.background||"#000",h.fillRect(-.5,-.5,p*Math.max(1,q)+1,f*Math.max(1,q)+1),h.restore());v.run();c.perf&&(c.speed=c.perf());r.debugRender&&console.log("render",c.speed+"ms",c.from);c.from="";c.perf=null;break}J=q[p];if(!J.error){S=J.type;if(null==J.toolkit)if(w.ensure(J)){m=0;x=-1;k._rendering=!1;requestAnimationFrame(c.preload);break}else{r.debug&&
console.error("could not find toolkit",S,p);continue}k.scene._update.transform(J);if(!1!==J.visible){if("group"!==S&&!c.toExport){P=J.inBounds;if(void 0===P||c.dirtyInBounds)k.scene._update.inBounds(J),P=J.inBounds;if(!1===P)continue}c.selection&&void 0===c.selection[p]||k._editing&&!r.tools.text.useCanvasRenderer&&J.id===k.selection.id&&"text"===S||c.object(h,J)}}}}var c=this,a=k.canvas2d,b=k.contexts,h=l.detect,p=l.dom,r=l.feature,g=l.lang,q=l.style,w=k.toolkit,z=l.util,y=l.vector.Shape;galactic.emitter(c);
c.scene=function(a){a=a||{};"string"===typeof a&&(a={from:a});"function"===typeof a&&(a={onsuccess:a});var b=a.from;(a=a.onsuccess)&&v.push(a);c.dirty=!0;c.from=b;return c};c.throttle=z.throttle(function(a,b){if(r.ui.bruteForce)c.throttle.throttle.wait=25;else if(c.throttle.throttle.wait=50,b&&!1===a.pointerEnd)return;k.render.dirtyControls=!0;k.render.dirty=!0},100);c.objectToScene=function(a){return new Promise(function(g,h){var d=b.layer0.ctx,q=k.scene.children;(q[q.length-2]||{}).useStickToFront?
c.scene(g):(k.scene._update.transform(a),c.object(d,a),c.dirtyPointer&&t(),g())})};c.now=function(a){a&&v.push(a);c.toExport=!0;e();c.toExport=!1;return c};c.reset=function(){c.removePointers();c.clear()};c.clear=function(){z.each(b,p.Canvas.clear)};c.blend=!1;c.chunkBatch=!0;c.dirty=!1;c.dirtyCenterPoint=!1;c.dirtyClip=!1;c.dirtyControls=!1;c.dirtyActiveContext=!1;c.dirtyInBounds=!1;c.dirtyPointer=!1;c.from="";c.highRes=!1;c.perf=null;c.selection=!1;c.speed=0;c.toExport=!1;c.pointer={};c.addPointer=
function(a,b){return Object.assign(c.pointer[a]={pointerId:a},b||{})};c.removePointer=function(a){c.pointer[a]&&(delete c.pointer[a],c.dirtyPointer=!0)};c.removePointers=function(){z.isNotEmpty(c.pointer)&&(c.pointer={},c.dirtyPointer=!0)};(function(){function a(){b===a.frameId&&requestAnimationFrame(a);l.stats&&l.stats.begin();c.dirty&&e();u();c.dirtyPointer&&t();l.stats&&l.stats.end()}var b;c.start=function(){void 0===b&&(b=z.now(),a.frameId=b,a())};c.stop=function(){b=void 0}})();var v=function(){var a=
[];return{push:function(b){"function"===typeof b&&a.push(b)},run:function(){u();for(k._rendering=!1;a.length;)a.shift()()}}}(),x=-1,m=0,E={id:null,canvas:null,composite:null,opacity:null,render:function(a){a.globalCompositeOperation=E.composite;a.globalAlpha=E.opacity/100;a.drawImage(E.canvas,0,0)}};c.object=function(b,g){if(b)if(g)if(g.render){var d=c.toExport;if(!d||!1!==g.exportable){var e=k.pixelRatio,f=k.scale*e,l=k.zoom*e,e=k.selection,z=g.zIndex-m;g.hovered=k.hovered.items[z]||!1;g.selected=
e.items[z]||!1;if(g.groupId){if(E.id!==g.groupId){E.id&&E.canvas&&E.render(b);var y=b.canvas;E.id=g.groupId;E.canvas=E.canvas||p.Canvas(y.width,y.height);E.canvas.width=y.width;E.canvas.height=y.height;E.composite=g.composite;E.opacity=g.opacity}E.id&&(b=E.canvas.ctx)}else E.id&&E.canvas&&(E.render(b),E.id=null);var y=g.type,v=c.cache,e=g.usePixelData&&g.isRecording,x=g.useHighRes||c.highRes;if(!x||h.useCacheOnRender[y]&&!g.useHighRes||e)if(x=!1,!g.ctx||g.dirtyCheck||g.dirtyCache||d)if(v.add(g),g.ctx)g.dirtyCheck=
d;else return;var t=g.bbox,d=t.width,e=t.height,z=t.scaleCache,u,T;z?(u=z.x,T=z.y):T=u=1;var U=t.scale.x,I=t.scale.y,X=g.__env.offset;if(X){var W=X.x,Y=X.y;0>u&&(W*=-1);0>T&&(Y*=-1)}else X=k.scene._update.offset(g),W=X.x,Y=X.y;X=g.trx2D;b.save();b.translate(a.tx,a.ty);b.scale(l,l);b.globalCompositeOperation=q.readBlend(g,!1);h.useLocalAlpha[y]||w.setGlobalAlpha(b,g);if(x)X.apply(b,!0),b.scale(1/k.scale,1/k.scale),b.beginPath(),h.shape[g.type]||(f=t.padding||0,b.scale(U,I),b.translate(f,f)),g.render(b,
X,!0);else if(y=g.ctx.canvas,t=y.width,(l=y.height)&&t){var O=v.pad,v=0>u,x=0>T,V=(u-1)*O,Q=(T-1)*O;v&&(V-=u*O*2);x&&(Q-=T*O*2);W=-O/f-V/f-W*u/f;Y=-O/f-Q/f-Y*T/f;0>U&&(W+=d*U);0>I&&(Y+=e*I);U=t*Math.abs(u)/f;f=l*Math.abs(T)/f;X.apply(b,!0);v||x?(b.save(),v&&(W-=d*u*z.px),x&&(Y-=e*T*z.py),b.scale(v?-1:1,x?-1:1),b.drawImage(y,W,Y,U,f),b.restore()):b.drawImage(y,W,Y,U,f)}b.restore()}}else r.debug&&console.warn("render.object: no object.render",arguments,g.type);else r.debug&&console.warn("render.object: no object",
arguments);else r.debug&&console.warn("render.object: no ctx",arguments)};c.preload=function(a){return new Promise(function(b,g){function h(a,b){b&&!a.error&&(a.error=!0,b&&(console.error(b,a),f.push(b||"Action missing.")));q&&q(1-(z-1)/r);--z||(k._preloading=!1,k._rendering=!1,c.chunkBatch=e,d(),f.length&&l.ui.log(f[0]))}function d(){c.dirtyControls=!0;c.dirtyPointer=!0;c.scene(b)}a=a||{};var q=a.onprogress,e=!!a.chunkBatch;if(k._preloading)b();else{var p=k.scene.children;if(0===p.length)d();else{var f=
[],r=p.length,z=r;k._rendering=!0;k._preloading=!0;k.scene.sort();for(var y=0;y<r;y++){var v=p[y];v.error?h(v):v.render?h(v):w.ensure(v)?v.toolkit.loadResource(v,{onprogress:function(a){console.log(a)}}).then(function(a){h(a)}).catch(function(a){h(v,a)}):h(v,"Missing \u201c"+v.type+"\u201d toolkit")}}}})};c.cache=new l.module.SceneRenderCache(l,k,c);c.getGLFX=function(a){return c.glfx||(c.glfx=glfx.applyShader(a||p.Canvas()))}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.SceneRenderCache=function(l,k,t){function f(a){a=a.hash;var b=z[a];b&&b.canvas&&!--b.copies&&(delete z[a],r.debugCache&&(p.$(r.debugCache)||document.body).removeChild(b.canvas))}function e(a){if(z[a]){var b=z[a];b.copies++;return b}var c=p.Canvas(),b=c.ctx;c.className="cache"+a;b.copies=1;return z[a]=b}function u(h,q){if(l.gl&&h.ctx){var e=h.ctx,p=window.glfx&&a.webgl,f=h.filter,r=!(!f||!f[0]),w=l.gl.ColorMatrix&&"image"===h.type,z=w&&p;if(r)z&&f[0]&&(w=
f[0],z=w.length-1,"colorMatrix"===w[z].id?w[z]=d(h):w.push(d(h)));else if(w){if(l.gl.ColorMatrix.isIdentity(h))return;if(z)f=h.filter=[[{cmd:"input",id:"source0",name:"colorMatrix",enabled:!0},d(h)]];else{l.gl.ColorMatrix.setFilter(h).apply(e);return}}else return;if(r){var w=k.pixelRatio,z=k.zoom,u=c.pad,m=2*u,r=h.ctx.canvas,G=h.bbox,F=G.rotate*g.DEG_RAD,N=G.scale.x*k.scale,K=G.scale.y*k.scale,J=G.height,S=Math.abs(G.width*N)*w||1,P=Math.abs(J*K)*w||1,J=S+m*w>>0,m=P+m*w>>0,T=S/2,U=P/2,N=0>N,K=0>K;
if(h.useBackgroundOverlay){var I=G.x*w,G=G.y*w;N&&(I-=S);K&&(G-=P);e.save();e.globalCompositeOperation="source-atop";e.fillStyle=k.computed.background;e.fillRect(0,0,J,m);e.translate(u,u);F&&(e.translate(T,U),e.rotate(-F),e.translate(-T,-U));e.translate(-I,-G);e.scale(1/z,1/z);e.drawImage(b.layer0,0,0);e.restore()}if(p){p=t.getGLFX(r);p.source=r;p.pixelRatio=w;p.viewport(0,0,J,m);p.setFilter(f);var X=!1,W=!1;p.render(function(){X?(h.dirtyCache=!0,t.dirty=!0):(W=!0,q&&q(h))});W?(f=p.getComposite())?
(e.clearRect(0,0,r.width,r.height),e.drawImage(f,0,0)):X=!0:X=!0}}}}function d(a){return{cmd:"shader",id:"colorMatrix",enabled:!0,data:[void 0,a.tint,a.temperature,a.brightness,a.contrast,a.exposure,void 0,void 0,a.saturation,void 0,a.hue]}}var c=this,a=l.agent,b=k.contexts,h=l.detect,p=l.dom,r=l.feature,g=l.util,q=l.vector,w=q.Shape,z=c.data={};c.enabled=r.cache2D;c.pad=r.cache2DPadding;c.dump=function(){g.each(z,function(a){console.log(a.canvas)})};c.reset=function(){z=c.data={}};c.clean=f;c.add=
function(a){if(a&&a.render){a.dirtyDimension&&(a.toolkit.updateObjectSize(a),a.dirtyDimension=!1);var b=k.scene.createHash(a);if(!0!==a.dirtyCache&&z[b])a.dirtyCache=!1,a.dirtyCheck=!1,a.hash!==b&&(f(a),a.ctx=e(b),a.hash=b,k.scene._update.offset(a));else{f(a);a.hash=b;a.ctx=e(b);a.bbox.scaleCache=void 0;var b=c.pad,g=k.scene._update.offset(a),d=g.x+b,t=g.y+b,m=a.bbox,b=m.width,g=m.height,D=m.scale.x*k.scale,B=m.scale.y*k.scale,C=k.pixelRatio,H=Math.abs(b*D>>0)*C,G=Math.abs(g*B>>0)*C,F=H+2*d,N=G+2*
t;r.cache257&&h.useCache257[a.type]&&(F=Math.max(257,F),N=Math.max(257,N));var K=a.ctx,J=K.canvas,F=Math.min(8192,F||1)>>0,N=Math.min(8192,N||1)>>0;p.Canvas.resizeOrClear(J,F,N);r.debugCache&&((p.$(r.debugCache)||document.body).appendChild(J),J.title="idx: "+a.zIndex,J.onclick=function(a){return function(){console.log(J);var b=k.selection.objects([a],{});l.exec("debug-layer",b)}}(a));r.debugCache&&(K.lineWidth=2*C,K.strokeStyle="#f00",K.strokeRect(d,t,H,G),K.strokeStyle="#00f",K.strokeRect(0,0,H+
2*d,G+2*t),K.fillStyle="rgba(255,255,0,0.05)",K.fillRect(0,0,F,N));H=m.padding||0;d+=H*D*C;t+=H*D*C;K.save();m=new q.Transform;m.scale(D,B);K.translate(d,t);K.scale(C,C);d=a.background;t=a.border;C=d&&d.enabled;if((F=t&&t.enabled)||C){K.save();K.beginPath();var H=a.padding||{top:0,left:0,right:0,bottom:0},N=-H.left,S=-H.right,H=b*Math.abs(D)+S+0,G=g*Math.abs(B)+N+0;F?(w.roundRect(K,N,S,H,G,t.radius||0),l.style.applyStroke(K,{opacity:t.opacity,dashArray:t.dashArray,dashOffset:t.dashOffset,lineWidth:t.lineWidth,
strokeStyle:t.color})):w.rect(K,N,S,H,G);C&&(K.globalAlpha=d.opacity||1,K.fillStyle=l.style.toContext2D(d,H,G),K.fill());K.restore()}a.render(K,m,!1);K.restore();u(a);a.dirtyCache=!1;a.dirtyCheck=!1}}else r.debug&&a&&"group"!==a.type&&console.warn("missing",arguments)}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.SceneReplicate=function(l,k){function t(a){a=a||c.selection.items;for(var b=[],h=c.children,d=h.length;d--;)a[d]&&b.push(h[d]);if(b.length)return c.copies=c.copyDeep(b),c.clipboard.save(),!0}function f(h,g){function q(a){var b=u.getItem(a.src);b&&b.clone&&"clipart"===a.type&&!1===d.cacheSVG?b.clone(function(b){u.add(b.toDataURL(),function(b){a.src=b;e(a)})},!0):e(a)}function e(b){var g=c.push(b,!0);v.push(g.id);x.push(b);a.ensure(b).loadResource(b).then(l.pop,
l.pop).catch(function(a){console.error(a)})}var f=h.length;if(0!==f){var l=b.pending(f,function(){c.reindex();c.selection.ids(v);c.handleSelection();var a=d.io.translateX,b=d.io.translateY;a||b?(c.selection.transform({x:a,y:b}),c.copy()):k.render.dirty=!0;k.history&&k.history.store({cmd:"add",name:"paste-objects",data:x});g&&g()});c.deselectAll();for(var v=[],x=[];f--;){var t=c.copyDeep(h[f]);c.getById(t.id)&&(h[f].id=t.id=c.createId(),h[f].zIndex=t.zIndex=c.children.length);var m=t.src;"string"===
typeof m&&m.startsWith("#")&&!u.exists(m)&&p[m]?u.add({type:t.type,data:p[m],onerror:l.pop,onsuccess:function(a,b){t.src=a;q(t)}}):q(t)}}}function e(){var a=c.toString(c.copies);event.clipboardData?(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",a)):window.clipboardData&&(window.clipboardData.clearData(),window.clipboardData.setData("text",a))}var u=l.assets,d=l.feature,c=k.scene,a=k.toolkit,b=l.util,h=0,p={};c.clipboard={save:function(){var a=c.copies;p={};b.cookie.set("copies",
JSON.stringify(a));b.cookie.set("copies-paths",JSON.stringify({}));l.save.assets({objects:a,toBlobURL:!0}).then(function(a){b.cookie.set("copies-paths",JSON.stringify(a))})},restore:function(){-1===h&&(h=0);b.cookie.get("copies",function(a){b.isArrayLike(a)&&(c.copies=a)});b.cookie.get("copies-paths",function(a){b.isArrayLike(a)&&(p=a)})}};c.cut=function(a){h=-1;b.cookie.set("useNativePaste",!1);a=a||c.selection.items;for(var g=c.children,d=[],e=g.length;e--;)if(a[e]){var p=g[e];d.push(p);c.shiftAt(e);
c.setDirtyPixelData(p);k.render.cache.clean(p)}d.length&&(c.reindex(),c.copies=c.copyDeep(d),c.clipboard.save(),c.deselectAll(),k.history&&k.history.store({cmd:"remove",name:"cut-objects",data:c.copyDeep(d).reverse()}));k.emit("cut",c.copies);return c};c.copy=function(a){h=-1;b.cookie.set("useNativePaste",!1);t(a)&&k.emit("copy",c.copies);return c};c.paste=function(a){f(c.copies,function(){a&&a(c.copies);k.emit("paste",c.copies)});return c};c.onCutNative=function(a){eventjs.cancel(a);l.exec("object-cut");
e()};c.onCopyNative=function(a){eventjs.cancel(a);l.exec("object-copy");e()};c.onPasteNative=function(a){function g(){D!==h&&-1!==h&&(b.cookie.set("useNativePaste",!0),h=D);b.cookie.get("useNativePaste",function(a){a?m.length&&(c.deselectAll(),m.forEach(function(a){"text"===a.type?k.addObject(a):k.addMedia(a,null,function(){k.tool("select")})}),k.emit("paste",c.copies)):l.exec("object-paste")})}function d(){var a=k.targetEditable,b=a.firstChild;b?("IMG"===b.tagName?l.convert.canvasFromFile(b,function(a){D+=
b.src.length;m.push(a);g()}):t(a.innerHTML,g),a.innerHTML=""):c.paste()}function e(a,b){v(["Files","image"],function(a,b){var c=a.getAsFile();D+=c.size;m.push(c);b(!0)},a,b)}function p(a,b){v(["text/html"],function(a,b){a.getAsString(function(a){t(a,b)})},a,b)}function f(a,b){v(["text/plain"],function(a,b){a.getAsString(function(a){a.startsWith("[")&&a.endsWith("]")&&a.includes("toolkitId")?x(a):(D+=a.length,m.push(Object.assign(l.config("text").values(),{centerOnPoint:!0,type:"text",content:a,maxWidth:k.viewport.width,
width:"auto"})),b(!0))})},a,b)}function v(a,c,g,h){a=function(a,c){var g=[];-1!==u.types.indexOf(a)&&b.each(B,function(b){-1!==b.type.indexOf(c||a)&&g.push(b)});return g}.apply(null,a);var d=a.length;if(d){var q=b.pending(d,function(){e?g():h()}),e;b.each(a,function(a){c(a,function(a){e=e||!0===a;q.pop()})})}else h()}function x(a){try{a=JSON.parse(a)}catch(b){console.error(b)}c.copies=a;c.paste(function(){k.render.dirty=!0;k.render.dirtyControls=!0;k.tool("select")})}function t(a,b){l.convert.canvasFromHTML({html:a,
onerror:b,onsuccess:function(c){D+=a.length;m.push(c);b(!0)}})}if(!k._rendering){var u;a.clipboardData?u=a.clipboardData:window.clipboardData&&(u=window.clipboardData);var m=[],D=0,B=u.items||u.files;B&&B.length?(eventjs.cancel(a),a.msConvertURL?b.Queue({items:B,oncomplete:g,next:function(a){a instanceof File&&(m.push(a),D+=a.size);this.next()}}):e(g,function(){p(g,function(){f(g,function(){console.log("nothing to paste.")})})})):setTimeout(d,1)}};c.duplicate=function(a){a=a||c.selection.items;b.count(a)&&
(t(a),f(c.copies),k.emit("duplicate",a));return c}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.SceneSelection=function k(t,f,e){function u(a){b.id=a.id;b.idx=a.zIndex;b.item=a;return b}function d(){b.id=void 0;b.idx=void 0;b.item=void 0;return b}function c(a){var b=[],c;for(c in a)(a=e.children[c])&&b.push(a);return b}function a(a){if(null!=a)if(Array.isArray(a)){if(0<a.length&&null!=a[0])return isFinite(a[0].zIndex)?b.objects(a,{}):h.arrayToObject(a)}else return"number"===typeof a?h.arrayToObject([a]):a.items?a.items:a}var b=galactic.emitter(this),
h=t.util;b.id=void 0;b.idx=void 0;b.item=void 0;b.items={};b.length=0;b.changed=!1;b.select=function(a,c){c&&b.empty();if(e.children.hasOwnProperty(a)&&!b.items[a]){b.changed=!0;b.items[a]=!0;var g=++b.length;if(1===g)return u(e.children[a]);2===g&&b.emit("multiselect");return d()}return b};b._select=function(){};b.setData=function(a){b.empty();for(var c in a)b.select(c);return b};b.deselect=function(a){if(b.items[a]){if(1===b.length)return b.empty();delete b.items[a];b.changed=!0;b.length--}var c=
b.length;if(1===c)for(a in b.items){if(c=e.children[a])return u(c)}else 0===c&&d();return b};b._deselect=function(){};b.empty=function(){b.changed=!0;b.items={};b.length=0;d();b.emit("empty");return b};b._empty=function(){};b.toggle=function(a){b.items[a]?b.deselect(a):b.select(a)};b._toggle=function(){};b.ids=function(a,h){if(Array.isArray(a)){for(var g=0;g<a.length;g++){var d=e.getById(a[g]);d&&(h?h[d.zIndex]=!0:b.select(d.zIndex))}return h?h:b}for(var d=[],f=c(b.items),g=0;g<f.length;g++)d.push(f[g].id);
return d};b.ids.toObjects=function(a){for(var b=[],c=0;c<a.length;c++){var h=e.getById(a[c]);h&&b.push(h)}return b};b.objects=function(a,h){if("object"===typeof a){for(var g=0;g<a.length;g++){var d=a[g];d&&(h?h[d.zIndex]=!0:b.select(d.zIndex))}return h?h:b}return c(b.items)};b.objects.toIds=function(a){for(var b=[],c=0;c<a.length;c++){var h=a[c];h&&b.push(h.id)}return b};b.toSelection=function(c){c=a(c);return b.instance().setData(c)};b.toArray=function(a){if(Array.isArray(a))return a;a=a||b.items;
return Object.keys(a).map(function(a){return parseInt(a)})};b.toObjects=function(b){return c(a(b))};b.filter=function(a){var c={},g;for(g in b.items){var h=e.children[g],d=!0,f;for(f in a)if(h[f]!==a[f]){d=!1;break}d&&(c[g]=h)}return c};b.contains=function(a){return!!b.items[a.zIndex]};b.typeOfAll=function(){var a,c;for(c in b.items){var g=e.children[c];if(g){if(a&&g.type!==a)return;a=g.type}}return a};b.json=function(){};b.config=function(a,b){};b.forEach=function(a){for(var c in b.items){var g=
e.children[c];g&&a(g)}};b.remove=function(a){e.removeByIdx(b.items,a);e._deselectAll();return b};b.bbox=function(a){a=a||b.items;var c=new t.vector.BBox,g;for(g in a)if(a=e.children[g])if(a=a.trx2D)c.extendTo(a.nw),c.extendTo(a.ne),c.extendTo(a.se),c.extendTo(a.sw);return c.asData()};b.instance=function(){return new k(t,f,e)};t.module.SceneTransform(t,f,b)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Theme=function(l,k){function t(a,b){return isFinite(a)||a&&"string"===typeof a?a:b}function f(a){function b(a,c,g,h,d,q){var e=g.render;g.state=c;g.width=h;g.height=d;g.padding=q;g.viewBox=[0,0,h,d];g.id=a;g.render=function(b){var q=b.ctx,f=b.matrix,p=k.zoom;e?e({id:a,ctx:q,state:c,matrix:f,control:b.control,bbox:b.control.bbox,object:b.object,style:g}):g.svg?(q.save(),f=g.svg.vob,q.scale(h/f.width,d/f.height),g.svg.render(b),q.restore()):g.image?(b=g.image,
q.save(),q.scale(f.a,f.d),q.drawImage(b,0,0),q.restore()):isFinite(h+d)&&(q.save(),q.beginPath(),"circle"===g.shape?(b=d/2/p,q.arc(h/2/p,b,b,0,2*Math.PI)):q.rect(0,0,1*h/p,1*d/p),g.lineWidth&&(q.lineWidth=g.lineWidth/p),g.shadowColor&&(q.shadowColor=g.shadowColor),g.shadowOffsetX&&(q.shadowOffsetX=g.shadowOffsetX),g.shadowOffsetY&&(q.shadowOffsetY=g.shadowOffsetY),g.shadowBlur&&(q.shadowBlur=g.shadowBlur),g.fillStyle&&(q.fillStyle=g.fillStyle,q.fill()),g.strokeStyle&&(q.strokeStyle=g.strokeStyle,
q.stroke()),q.restore())}}for(var c in a){var g=a[c];if(g){var d=c.split("-"),e=d.shift()||"",d=d.shift()||"",f=t(g.width,a.width),p=t(g.height,a.height),r=t(g.padding,a.padding);h[e]&&b(e,d,g,f,p,r)}}}function e(){function b(c,d){d=a.copy(d);for(var q in r){var e=c[q]||(c[q]={}),k=d[q]||(d[q]={}),w;for(w in h){var l=c[w],y=e[w],v=d[w],x=k[w];if(x||v||y||l){var x=k[w]=Object.assign({},l,y,v,x),t;for(t in p)x[t]=Object.assign({},c[t],l&&l[t],e[t],y&&y[t],d[t],v&&v[t],k[t],x&&x[t]);x.focus=x.focus||
x.hover||x.normal;x.hover=x.hover||x.normal;f(k,w,"normal",x);f(k,w,"hover",x);f(k,w,"focus",x);for(var u in g)l=e[u],y=x[u],k[w][u]=null==y?l:y,k[u]=l}}}return d}function e(a,b){for(var c in a){var g=a[c];"object"!==typeof g&&(b[c]=g)}}function f(a,b,g,h){var d=h[g]||h.hover||h.normal||{},q;for(q in h)p[q]||null==d[q]&&(d[q]=h[q]);h=d.command;"function"!==typeof h&&(d.command="string"===typeof h?c[h+"Event"]:c.rotateScaleEvent);"normal"===g?a[b]=d:a[b+"-"+g]=d}var k=d.tools.defaults,l={},x;for(x in d.tools)if(!x.startsWith("default")){var t=
d.tools[x];t.controls||(t.controls={});e(k,t);l[x]=b(k.controls,t.controls)}return l}function u(c){return new Promise(function(g){var h=c.src;if(b.__cache[h]){var d=b.__cache[h];"svg"===d.type?c.svg=d:c.image=d;g()}else return l.vector.SVG.detect(h)?new l.vector.SVG({skipRender:!0,src:h,onerror:g,onsuccess:function(a){b.__cache[h]=a;c.svg=a;g()}}):a.loadImage({src:h,onerror:g,onsuccess:function(){b.__cache[h]=this;c.image=this;g()}})})}var d=l.feature,c=k.toolkit,a=l.util,b={};this.init=function(){b=
{__cache:{}};try{var c=e()}catch(g){console.error(g)}var h=[];a.each(c,function(b){a.each(b,function(b){a.each(b,function(a){a.src&&h.push(u(a))})})});Promise.all(h).then(function(){for(var a in c){var g=c[a],h=b[a]={};f(h.mouse=g.mouse);f(h.pen=g.pen);f(h.touch=g.touch)}})};this.getControls=function(a){a=a?b[a.type]||b[a.toolkitId]||b.defaults||{}:b.defaults||{};return eventjs.isPen||d.debugPen?a.pen||{}:eventjs.isTouch||d.debugTouch?a.touch||{}:a.mouse||{}};var h={anchor:!0,spinner:!0,n:!0,ne:!0,
ne_spinner:!0,ne_spinner_area:!0,e:!0,se:!0,se_spinner:!0,se_spinner_area:!0,s:!0,sw:!0,sw_spinner:!0,sw_spinner_area:!0,w:!0,nw:!0,nw_spinner:!0,nw_spinner_area:!0},p={hover:!0,focus:!0,normal:!0},r={mouse:!0,pen:!0,touch:!0},g={width:!0,height:!0,padding:!0};this.init()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.ThemeDefault=function(){function l(a){if(l[a])return l[a];var c=d.create('<div class="sk-control '+a+'"></div>'),e=d.append(c,"<span></span>");eventjs.forward(c,m.doc.contexts.active,"mousemove");eventjs.add(c,"mousedown",function(c){var g=m.doc;g.scene.controlHover=g.scene.controls.filter(function(c){return c.id===a}).shift();var h=g.theme.getControls({type:"text"})[a];h&&(eventjs.stop(c),eventjs.proxy.drag({event:c,target:g.contexts.active,listener:h.command(c)}))});
m.doc.container.appendChild(c);return l[a]={outer:c,inner:e}}function k(a){var c=m.agent,d=m.doc,e=d.zoom,g=d.pixelRatio,q=a.bbox,f=q.rotate,k=a.style.width,y=a.style.height,v=a.style.padding,x=l(a.id),t=x.outer,x=x.inner.style;x.backgroundColor=a.style.fillStyle;x.border=Math.ceil(a.style.lineWidth)+"px solid "+a.style.strokeStyle;x=t.style;x.width=k+2*v+"px";x.height=y+2*v+"px";x.padding=v+"px";y=d.canvas2d;k=Math.round(q.x*e+d.scrollX+y.tx/g);d=Math.round(q.y*e+d.scrollY+y.ty/g);x[c.cssTransform]=
"translate("+k+"px, "+d+"px) rotate("+f+"deg) translate(-"+v+"px, -"+v+"px)";x[c.cssTransformOrigin]="0% 0%";x.display="block";a.control.element=t}function t(){l(this.id).outer.style.display="none"}function f(b,h){var d=b.ctx,e=b.matrix,g=m.doc.zoom,q=b.style.width/10,k=9.395*q/2,e=c.Degree.flip(h,e.a,e.d)*a.DEG_RAD;d.scale(1/g,1/g);d.translate(k,k);d.rotate(e);d.translate(-k,-k);d.scale(q,q);g=f.path||(f.path=c.SVGPath.toVOBPath("M16.6,8.5l-1.4-1.4c-2.9-2.9-7.6-2.9-10.5,0L3.3,8.4L1.5,6.6l-0.9,6.3l6.4-1l-1.8-1.8l1.3-1.3c1.9-1.9,5-1.9,6.9,0l1.4,1.4L13,12.1l6.4,1l-1-6.4C18.4,6.7,16.6,8.5,16.6,8.5z"));
k=new c.BBox(g);k=Math.min(k.x2-k.x1,k.y2-k.y1);d.translate(-k/2,-k/2);c.Shape.VOBPath(d,g);d.lineWidth=b.style.lineWidth/q;d.fillStyle=b.style.fillStyle;d.fill();d.strokeStyle=b.style.strokeStyle;d.stroke()}function e(b){"number"===typeof b&&(b={angle:b});var h=b.angle,d=b.size,e=b.x,g=b.y;return function(q){var f=q.ctx,k=q.control.bbox,l=q.matrix,v=1/m.doc.zoom,x=b.size||q.style.width,t=d/2,l=c.Degree.flip(h+180,l.a,l.d)*a.DEG_RAD;if(e||g)k={size:d*v,width:k.width,height:k.height},f.translate(isFinite(e)?
e*v:a.math(e,k),isFinite(g)?g*v:a.math(g,k));f.scale(v,v);f.translate(t,t);f.rotate(l);f.translate(-t,-t);c.Shape.triangle(f,t,t,.75*x);f.lineWidth=q.style.lineWidth;f.fillStyle=q.style.fillStyle;f.fill();f.strokeStyle=q.style.strokeStyle;f.stroke()}}function u(a){return function(c){var d=m.doc.scene;0!==(d.controlHover.id||"").indexOf(c.id)&&0!==(d.controlHoverArray||[]).indexOf(c.id+"_area")||f(c,a)}}var d=m.dom,c=m.vector,a=m.util;return{normal:{lineWidth:.75,strokeStyle:"rgba(0,0,0,0.7)",fillStyle:"#fff"},
hover:{lineWidth:.75,strokeStyle:"rgba(0,0,0,0.7)",fillStyle:"#00E359"},focus:{lineWidth:.75,strokeStyle:"rgba(0,0,0,0.7)",fillStyle:"#dd167a"},anchor:{command:"move",cursor:"default",title:"click-to-select","title:selected":"drag-to-move","title.text":"dbltap-to-edit"},nw:{title:"drag-to-resize",command:"scale",cursor:"nw-resize",render:k,hide:t},ne:{title:"drag-to-resize",command:"scale",cursor:"ne-resize",render:k,hide:t},se:{title:"drag-to-resize",command:"scale",cursor:"se-resize",render:k,hide:t},
sw:{title:"drag-to-resize",command:"scale",cursor:"sw-resize",render:k,hide:t},touch:{width:12,height:12,padding:16,n:{title:"drag-to-resize",command:"scale",cursor:"n-resize",render:e(0),x:"50%",y:"-5",width:6,height:5,fillStyle:"rgba(230,230,230,0.7)",strokeStyle:"rgba(0,0,0,0.75)"},s:{title:"drag-to-resize",command:"scale",cursor:"s-resize",render:e(180),x:"50%",y:"100% + 4",width:6,height:5,fillStyle:"rgba(230,230,230,0.7)",strokeStyle:"rgba(0,0,0,0.75)"},e:{title:"drag-to-resize",command:"scale",
cursor:"e-resize",render:e(90),x:"100% + 5",y:"50%",width:6,height:5,fillStyle:"rgba(230,230,230,0.7)",strokeStyle:"rgba(0,0,0,0.75)"},w:{title:"drag-to-resize",command:"scale",cursor:"w-resize",render:e(270),x:"-5",y:"50%",width:6,height:5,fillStyle:"rgba(230,230,230,0.7)",strokeStyle:"rgba(0,0,0,0.75)"},spinner:{title:"drag-to-rotate",command:"rotate",cursor:"pointer",render:function(a){return function(c){f(c,a)}}(0)}},mouse:{width:12,height:12,padding:4,n:{title:"drag-to-resize",command:"scale",
cursor:"n-resize",x:"50%",y:"-5 * flip",width:"100%",height:10,padding:0,render:e({angle:0,size:6,x:"(width - size) / 2",y:2})},s:{title:"drag-to-resize",command:"scale",cursor:"s-resize",x:"50%",y:"100% + (5 * flip)",width:"100%",height:10,padding:0,render:e({angle:180,size:6,x:"(width - size) / 2",y:2})},e:{title:"drag-to-resize",command:"scale",cursor:"e-resize",x:"100% + (5 * flip)",y:"50%",width:10,height:"100%",padding:0,render:e({angle:90,size:6,x:2,y:"(height - size) / 2"})},w:{title:"drag-to-resize",
command:"scale",cursor:"w-resize",x:"-5 * flip",y:"50%",width:10,height:"100%",padding:0,render:e({angle:270,size:6,x:2,y:"(height - size) / 2"})},nw_spinner:{title:"drag-to-rotate",command:"rotate",cursor:"pointer",x:"-inherit",y:"-inherit",width:13,height:13,lineWidth:.75,render:u(-45)},ne_spinner:{title:"drag-to-rotate",command:"rotate",cursor:"pointer",x:"100% + inherit",y:"-inherit",width:13,height:13,lineWidth:.75,render:u(45)},se_spinner:{title:"drag-to-rotate",command:"rotate",cursor:"pointer",
x:"100% + inherit",y:"100% + inherit",width:13,height:13,lineWidth:.75,render:u(135)},sw_spinner:{title:"drag-to-rotate",command:"rotate",cursor:"pointer",x:"-inherit",y:"100% + inherit",width:13,height:13,lineWidth:.75,render:u(-135)},nw_spinner_area:{command:"nw_spinner",x:"25% - inherit",y:"25% - inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",padding:4},ne_spinner_area:{command:"ne_spinner",x:"75% + inherit",y:"25% - inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",
padding:0},se_spinner_area:{command:"se_spinner",x:"75% + inherit",y:"75% + inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",padding:0},sw_spinner_area:{command:"sw_spinner",x:"25% - inherit",y:"75% + inherit",width:"50% + (inherit * 2)",height:"50% + (inherit * 2)",padding:0}}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.SceneTransform=function(l,k,t){function f(a,b){var h=k.pixelRatio,e=sk.doc.contexts.debug.ctx;if(e){e.canvas.width=e.canvas.width;e.translate(k.canvas2d.x,k.canvas2d.y);e.scale(h,h);var r=f.scale;f.increasing?1<=(f.scale+=.005)&&(f.increasing=!1):0>=(f.scale-=.005)&&(f.increasing=!0);var h=a.bbox,g=k.scene.getObjectOrigin(h),q=c.angle(g,b),w=h.rotate*u.DEG_RAD;e.save();var l=new d.Transform;l.translate(h.x,h.y);l.scale(h.scale.x,h.scale.y);l.rotateAt(w,
g);l.scaleAt(r,1,b,q);l.apply(e,!0);r=(new CSSMatrix(l.toCSSMatrix())).decompose();console.json(r);l=e.createLinearGradient(0,0,170,170);l.addColorStop(0,"blue");l.addColorStop(1,"red");e.rect(0,0,h.width,h.height);e.fillStyle=l;e.fill();e.restore();e.save();l=new d.Transform;l.translate(r.translate.x,r.translate.y);l.rotate(r.rotate.z);l.skew(r.skew.x,r.skew.y);l.scale(r.scale.x,r.scale.y);console.json(l.matrix);l.apply(e,!0);e.beginPath();e.rect(0,0,h.width,h.height);e.lineWidth=1.5;e.strokeStyle=
"black";e.stroke();e.restore();e=new d.Shape.debug(e);e.point(h,"blue");e.point(g,"crimson");e.point(b,"orange");e.vector(b,q+Math.PI/2,"orange")}}var e=k.toolkit,u=l.util,d=l.vector,c=l.vector.Point;f.scale=.5;f.increasing=!0;t.transform=function(a,b){var c,p,r=k.scene,g=a.cache||{},q=a.items||a.ids,w=a.origin,l=a.state;c=!l||"start"===l;p=!l||"end"===l;var y=a.control,l=a.pointerId,v=e.readResize(a),x=e.readRotate(a),m=e.readScale(a),E=e.readTranslate(a),A="absolute"===a.position,D=!!v,B=!!x,C=
!!m,H=!!E,G=D||B||C||H;if(!(G||c||p))return t;if(c||void 0===g.origin)g.rotate=0,g.sx=1,g.sy=1,g.x=0,g.y=0,g.width=0,g.height=0,g.updated=!1,g.origin=w||r.getObjectOrigin(r.getBoundingBox({selection:t}));A?(D&&(g.width=v.width,g.height=v.height),B&&(g.rotate=x),C&&(g.sx=m.x,g.sy=m.y),H&&(g.x=E.x,g.y=E.y)):(D&&(g.width+=v.width,g.height+=v.height),B&&(g.rotate+=x),C&&(g.sx*=m.x,g.sy*=m.y),H&&(g.x+=E.x,g.y+=E.y));var F;F=Array.isArray(q)?t.ids(q,{}):q?q:t.items;var q=[],w=g.origin,N=u.count(F),K;for(K in F)if(F=
r.children[K],null!=F){var J=F.bbox,S=e.feats(F);a.debug&&f(F,w);D&&!1!==F.resizable&&!1!==S.resizable&&(A?(J.width=v.width,J.height=v.height):(J.width+=v.width,J.height+=v.height),F.dirtyCheck=!0,F.dirtyDimension=!0,g.updated=!0);if(B&&!1!==F.rotatable&&!1!==S.rotatable){var P,T;"objectBoundingBox"===J.units?(P=w.x-J.width/2*J.scale.x,T=w.y-J.height/2*J.scale.y):(P=w.x,T=w.y);var U;U=A?x-J.rotate:x;var I=U*u.DEG_RAD,X=J.x-P,W=J.y-T;J.x=Math.cos(I)*X-Math.sin(I)*W+P;J.y=Math.sin(I)*X+Math.cos(I)*
W+T;J.rotate=(J.rotate+U+3600)%360;F.inBounds=void 0;F.dirtyTransform=!0;g.updated=!0}if(m||J.scaleCache){void 0===J.scaleCache&&(J.scaleCache={x:1,y:1,px:J.scale.x,py:J.scale.y,mx:J.x,my:J.y});if(C&&!1!==F.scalable&&!1!==S.scalable){if(A)J.scale.x=m.x,J.scale.y=m.y;else if(1<N){P=(w.x-J.x)*m.x;X=(w.y-J.y)*m.y;if(1===m.y||1===m.x)I=r.getObjectOrigin(J),P-=(w.x-I.x)*(1-m.y),X-=(w.y-I.y)*(1-m.x);J.scale.x*=m.x;J.scale.y*=m.y;J.scaleCache.x*=m.x;J.scaleCache.y*=m.y;J.x=w.x-P;J.y=w.y-X}else{J.scale.x*=
m.x;J.scale.y*=m.y;J.scaleCache.x*=m.x;J.scaleCache.y*=m.y;P=r.getObjectOrigin(J);if("objectBoundingBox"===J.units)X=P.x,W=P.y;else{var W=J,X=y,Y=W.scale,I=W.width;T=W.height;U=new d.Transform;U.translate(W.x,W.y);U.scale(Y.x,Y.y);"objectBoundingBox"===W.units?X=U.point2d(I/2,T/2):(W={},W.cp=U.point2d(I/2,T/2),W.nw=U.point2d(0,0),W.ne=U.point2d(I,0),W.se=U.point2d(I,T),W.sw=U.point2d(0,T),W.n=U.point2d(I/2,0),W.e=U.point2d(I,T/2),W.s=U.point2d(I/2,T),W.w=U.point2d(0,T/2),X=W[X]||W.cp);T=X.x-P.x;U=
X.y-P.y;I=J.rotate*u.DEG_RAD;W=Math.cos(I);I=Math.sin(I);X=T*W-U*I+P.x;W=T*I+U*W+P.y}J.x-=X-w.x;J.y-=W-w.y}F.inBounds=void 0;F.dirtyTransform=!0;g.updated=!0}if(p||F.usePixelData)F.bbox.scaleCache=void 0,F.dirtyCheck=!0}H&&!1!==F.movable&&!1!==S.movable&&(A?(J.x=E.x,J.y=E.y):(J.x+=E.x,J.y+=E.y),F.inBounds=void 0,F.dirtyTransform=!0,g.updated=!0);r.setDirtyPixelData(F);g.updated&&(F.dirtyTransform&&r._update.constrain(F),p&&m&&(F.dirtyCheck=!0));q.push(F.id);g.updated&&(k.render.dirty=!0,k.render.dirtyControls=
!0)}if(g.updated||c){k.on.record&&!b&&(G||p||c)&&(c={state:a.state,origin:w,control:y,pointerId:l,ids:q},D&&(c.width=v.width,c.height=v.height),B&&(c.rotate=x),C&&(c.sx=m.x,c.sy=m.y),H&&(c.x=E.x,c.y=E.y),k.emit("record",{op:"SCENE_TRANSFORM",data:c}));if(k.history&&p&&!b){c={};g.rotate&&(c.rotate=g.rotate);g.sx&&1!==g.sx&&(c.sx=g.sx);g.sy&&1!==g.sy&&(c.sy=g.sy);g.x&&(c.x=g.x);g.y&&(c.y=g.y);g.width&&(c.width=g.width);g.height&&(c.height=g.height);c.ids=q;c.origin=w;c.pointerId=l;var O;if(c.width||
c.height)k.emit("objectResize",c,q),O=O?"transform":"resize";c.rotate&&(k.emit("objectRotate",c,q),O=O?"transform":"rotate");if(c.sx||c.sy)k.emit("objectScale",c,q),O=O?"transform":"scale";if(c.x||c.y)k.emit("objectTranslate",c,q),O=O?"transform":"move";O&&(k.emit("objectTransform",c,q),k.history.store({cmd:"transform",pointerId:l,name:O,data:c},b))}r._update.bbox()}return t};t.rotate=function(a,b){b=b||{};b.rotate=a;return t.transform(b)};t.flip=function(a,b,c){c=c||{};c.sx=a?-1:1;c.sy=b?-1:1;return t.transform(c)};
t.flipX=function(a){return t.flip(1,0,a)};t.flipY=function(a){return t.flip(0,1,a)};t.scale=function(a,b,c){c=c||{};c.sx=a;c.sy=b;return t.transform(c)};t.scaleX=function(a,b){return t.scale(a,1,b)};t.scaleY=function(a,b){return t.scale(1,a,b)};t.translate=function(a,b,c){c=c||{};c.x=a;c.y=b;return t.transform(c)};t.transform2=function(a,b){var c=a.ids,d=a.origin,f=e.readResize(a),g=e.readRotate(a),q=e.readScale(a),w=e.readTranslate(a),l,y;"object"===typeof f&&(l=f.width,y=f.height);var v,x;"number"===
typeof q?x=v=q:"object"===typeof q&&(v=q.x,x=q.y);var t,m;"object"===typeof w&&(t=w.x,m=w.y);b&&(f&&(l=-l,y=-y),g&&(g=360-g),q&&(v=1/v,x=1/x),w&&(t=-t,m=-m));for(var A=0,D=0;D<c.length;D++){var B=k.scene.getById(c[D]);if(B){var C=B.bbox;f&&(C.width+=l,C.height+=y,B.dirtyCheck=!0,B.dirtyDimension=!0,A++);if(g){var H,G;"objectBoundingBox"===C.units?(H=d.x-C.width/2*C.scale.x,G=d.y-C.height/2*C.scale.y):(H=d.x,G=d.y);var F=C.x-H,N=C.y-G,K=g*u.DEG_RAD;C.x=Math.cos(K)*F-Math.sin(K)*N+H;C.y=Math.sin(K)*
F+Math.cos(K)*N+G;C.rotate=(C.rotate+g+3600)%360;B.dirtyTransform=!0;A++}q&&(H=(d.x-C.x)*v,G=(d.y-C.y)*x,C.x=d.x-H,C.y=d.y-G,C.scale.x*=v,C.scale.y*=x,B.dirtyCheck=!0,B.dirtyTransform=!0,A++);w&&(C.x+=t,C.y+=m,B.dirtyTransform=!0,A++);B.inBounds=void 0}}A&&(k.render.dirty=!0,k.render.dirtyControls=!0);return c};k.queueHistory&&k.queueHistory.add(function(){k.history.register("transform",function(a,b,c){return t.transform2(b,c)})})}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.GenerateMedia=function(l,k){function t(c,a){var b=c.canvas,h=c.createPattern(b,"repeat"),d=new Promise(function(c,g){h.id=a;h.canvas=b;l.agent.has("io.blob",function(){b.toBlobURL(function(a){h.css="url("+a+")";h.data=a;c(h)})},function(){var a=b.toDataURL();h.css="url("+a+")";h.data=a;c(h)})});d.pattern=h;return d}var f=l.dom,e=l.gen,u=l.util;e.media=function(c){var a=d[c];if(a)return e[a](c)};var d={notebook:"paper",looseLeaf:"paper",lined:"paper",grid:"grid",
graphPaper:"grid",blueprint:"grid",transparent:"interlace",transparentDark:"interlace"};e.paper=function(c){var a=(u.toMetrics||(u.toMetrics=u.getScreenMetrics()))["in>px"],a={notebook:{id:"notebook",lineStartTop:.85*a,lineHeight:30,lineColor:"#8CA6BD",marginLeft:.85*a,marginColor:"#FF7088",fillColor:"#F8F9B3"},looseLeaf:{id:"looseLeaf",lineStartTop:.85*a,lineHeight:30,lineColor:"#CAEAFB",marginLeft:.85*a,marginColor:"#FF7088",fillColor:"#FAFAFA"},lined:{id:"lined",lineStartTop:-.5,gutter:.25*a,lineHeight:30,
lineColor:"#8CA6BD",fillColor:"#FAFAFA"}};c=a[c]||c||a.notebook;var b=c.grid||0,h=c.gutter||0,d=c.lineStartTop||0,k=c.lineStartLeft||0,a=c.lineHeight||1,g=c.lineColor||"#8CA6BD",q=c.marginLeft||0,w=c.marginColor||"#C37F9B",l=f.Canvas(1024,1024).ctx;l.fillStyle=c.fillColor||"#fff";l.fillRect(0,0,1024,1024);b&&(l.save(),l.translate(h,h),b=e.grid({size:b,strokeColor:g,fillColor:"none"}),l.fillStyle=b,l.fillRect(0,0,1024,1024),l.restore());b=1024/a;l.save();l.translate(k,d);for(d=0;d<b;d++)l.beginPath(),
l.moveTo(0,d*a),l.lineTo(1024,d*a),l.lineWidth=1,l.strokeStyle=g,l.stroke();l.restore();q&&(l.save(),l.beginPath(),l.moveTo(q,0),l.lineTo(q,1024),l.lineWidth=1,l.strokeStyle=w,l.stroke(),l.restore());return t(l,c.id)};e.grid=function(c){var a={grid:{id:"grid",size:20,strokeColor:"#ddd",fillColor:"#fff"},graphPaper:{id:"graphPaper",size:20,strokeColor:"#BEE0BD",fillColor:"#F0FCE1"},blueprint:{id:"blueprint",size:20,strokeColor:"#2893e0",fillColor:"#0078CF"}};c=a[c]||c||a.grid;var a=c.size||12,b=c.strokeColor||
"#000",h=c.fillColor||"#1f1f1f",d=f.Canvas(a,a).ctx;d.fillStyle=h;d.fillRect(0,0,a,a);d.moveTo(0,0);d.lineTo(0,a);d.moveTo(0,0);d.lineTo(a,0);d.lineWidth=1;d.strokeStyle=b;d.stroke();return t(d,c.id)};e.interlace=function(c){c=c||{};var a={transparent:{id:"transparent",size:12,innerColor:"#fff",outerColor:"#d9d9d9"},transparentDark:{id:"transparentDark",size:12,innerColor:"#000",outerColor:"#1f1f1f"}},b=a.transparent,a=a[c]||a[c.id]||c,h=a.size||b.size,d=a.innerColor||b.innerColor,b=a.outerColor||
b.outerColor,e=f.Canvas(2*h,2*h),g=e.ctx;g.fillStyle=d;g.fillRect(0,0,h,h);g.fillStyle=b;g.fillRect(h,0,h,h);g.fillStyle=b;g.fillRect(0,h,h,h);g.fillStyle=d;g.fillRect(h,h,h,h);return c.toDataURL?e.toDataURL():t(g,a.id)};e.rangeBar=function(c){c=c||{};c.dash=c.dash||{};l.ui.rangeStyle?u.copyInto(l.ui.rangeStyle,c):c.top=8;var a=k.pixelRatio,b=(c.top||0)*a,h=(c.left||0)*a,d=(c.barWidth||233)*a,e=(c.barHeight||6)*a,g=c.fillStyle||"#555",q=c.gradient,w=b+e,z=c.dash;z.height=z.height||4;z.heightSmall=
z.heightSmall||3;z.strokeStyle=z.strokeStyle||"#666";z.lineWidth=z.lineWidth||1;z.globalAlpha=z.globalAlpha||1;z.position=z.position||"top";c=f.Canvas();var y=c.ctx;c.width=d+1;c.height=e+z.height+b;c.style.width=c.width/a+"px";c.style.height=c.height/a+"px";y.clearRect(h,b,d,30);var a=0,v=d-9;y.save();y.beginPath();y.lineWidth=z.lineWidth;y.globalAlpha=z.globalAlpha;var x;x="bottom"===z.position?w-5:b-1;for(var t=z.height,m=z.heightSmall,w=0;w<=v+1;w+=v/10){var A=Math.round(w)+h+4.5,D=a%5?m:t;y.moveTo(A,
x);"bottom"===z.position?y.lineTo(A,x+D):y.lineTo(A,x-D);y.strokeStyle=z.strokeStyle;y.stroke();y.beginPath();a++}y.restore();if(q)for(g=y.createLinearGradient(0,0,d,0),w=0,z=q.length;w<z;w++)g.addColorStop(w/(z-1||1),q[w]);y.fillStyle=g;A=h+.5;y.lineWidth=.25;y.strokeStyle="#000";l.vector.Shape?l.vector.Shape.roundRect(y,A,b,A+d,e,e/2):y.rect(A,b,A+d,e);y.fill();y.stroke();return c}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.GeneratePreview=function(l){var k=l.dom,t=l.util,f=l.gen||(l.gen={}),e=l.vector;f.preview=function(f,d){function c(a,b,c,g){t.thumbnailer({src:a,crop:"edge",width:h,height:p,background:q,croparea:!1,onsuccess:function(a){w?a.toBlob(function(a){c.push({filename:b,blob:a});g()}):(c.push({filename:b,canvas:a}),g())}})}f=f||{};var a=f.pixelRatio||1,b=f.type||"stamp",h=(f.width||52)*a,p=(f.height||52)*a,r=f.oncomplete?[]:{},g=f.oncomplete||function(a){},q=f.background||
"none",w=f.download||!1,a=f.debug||!1;f.src?d=[{filepath:f.src}]:f.resource?d=[{resource:f.resource}]:!d&&l.lib&&(d=l.lib[b].paths);var z=f.canvas||k.Canvas(),y=z.getContext("2d");a&&document.body.appendChild(z);t.Queue({items:d,delayStart:!0,onprogress:function(a){1<d.length&&console.log("load",a)},oncomplete:function(){w?l.io.zip.encode(r,function(a){l.download.blob(a,b+"-preview.zip")},function(a){console.log(a)},function(a){console.log("zip",a)}):f.src||f.resource?g(r[0]):g(r)},next:function(a){function g(a){z.width=
h;z.height=p;a.render&&a.render({ctx:y,placement:"crop",width:h,height:p});c(z,k,w,d.next)}var d=this;if(a.filepath&&"#"===a.filepath[0])return this.next();var q=a.filepath?a.filepath:l.lib[b].getSrc(a,{absolute:!0}),k="",w=[];if(f.src||f.resource)r=w;else{var t=q.replace(l.loc.host,"").substr(1).split("/");if(1<t.length){for(var m=[r],k=t.pop();t.length;){var H=t.shift();if(H){var G=m[m.length-1];G[H]||(G[H]=[]);m.push(G[H])}}w=G[H]}else r.length||(r=[]),k=t[0],w=r}k=k.replace("svg","png");switch(b){case "clipart":a.resource?
g(a.resource):e.SVG({ctx:y,src:q,debug:f.debug,useCache:!1!==f.useCache,onerror:function(b){console.log(b,"error loading svg",a);d.next()},onsuccess:g});break;case "stamp":c(q,k,w,d.next)}}})};f.preview.stamp=function(e,d,c){e=e||{};e.type="stamp";f.preview(e,d,c)};f.preview.clipart=function(e,d,c){e=e||{};e.type="clipart";f.preview(e,d,c)};f.preview.font=f.preview.text=function(u){function d(b,g){c.width=236;c.height=60;c.style.width="300px";c.style.height="50px";a.textAlign="center";a.textBaseline=
"middle";a.font='60px "'+b.name+'", Arial, Helvetica';var h=a.measureText(b.name).width,d=e.text.measureTextHeight(b.name,a.font),h=Math.min(c.width/(h+40),c.height/(d+20));1>h&&(a.font=60*h+'px "'+b.name+'", Arial, Helvetica');a.fillStyle="#fff";a.fillText(b.name,c.width/2,c.height/2);c.toBlob(function(a){p.push({filename:b.name+".png",canvas:c,blob:a});g()})}var c=f.canvas||(f.canvas=k.Canvas(1,1)),a=c.getContext("2d"),b=u.download||!1,h=u.oncomplete||function(a){},p=[],r=[],g=l.lib.text;if(u)r=
u.fonts;else for(var q in g.byName){var w=t.copy(g.byName[q]);w.filepath=g.getSrc(w,{absolute:!0});r.push(w)}t.Queue({items:r,oncomplete:function(){b?l.io.zip.encode(p,function(a){l.download.blob(a,"font-preview.zip")}):u.src||u.resource?h(p[0]):h(p)},onprogress:function(a){console.log(a)},next:function(a){var b=this;e.text.detectFont(a.name)?d(a,b.next):e.text.attach({family:a.name,timeout:1E3,onsuccess:function(){d(a,b.next)},onerror:function(c){console.error(c);d(a,b.next)}})}})};return f}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.vector||(m.vector={}),k=l.BBox=function(e){this.unset();return e?this.path(e):this};k.toRect=function(e){return[{x:e.x1,y:e.y1,cmd:"M"},{x:e.x2,y:e.y1,cmd:"L"},{x:e.x2,y:e.y2,cmd:"L"},{x:e.x1,y:e.y2,cmd:"L"}]};m=k.prototype;m.asData=function(){return{x1:this.x.min,x2:this.x.max,y1:this.y.min,y2:this.y.max}};m.asRect=function(){return k.toRect(this.asData())};m.path=function(e){var f=e.asRect||!1,d=e.convexHull||!1,c=e.expand||0,a=e.matrix||void 0;e=e.data||e;var b,h=!0;a&&(b=
new l.Transform(a),h=l.Transform.isIdentity(a));var p,a=this.x,k=this.y,g,q;if(h)for(var h=0,w=e.length;h<w;h++)switch((p=e[h]).cmd){case "M":p.x<a.min&&(a.min=p.x);p.x>a.max&&(a.max=p.x);p.y<k.min&&(k.min=p.y);p.y>k.max&&(k.max=p.y);g=p.x;q=p.y;break;case "L":p.x<a.min&&(a.min=p.x);p.x>a.max&&(a.max=p.x);p.y<k.min&&(k.min=p.y);p.y>k.max&&(k.max=p.y);g=p.x;q=p.y;break;case "C":this.cubic(g,q,p.x1,p.y1,p.x2,p.y2,p.x,p.y,d);g=p.x;q=p.y;break;case "Q":var z=g+2/3*(p.x1-g),y=q+2/3*(p.y1-q),v=z+(p.x-g)/
3,x=y+(p.y-q)/3;this.cubic(g,q,z,y,v,x,p.x,p.y,d);g=p.x;q=p.y}else for(h=0,w=e.length;h<w;h++)switch((p=e[h]).cmd){case "M":var t=b.point2d(p.x,p.y);t.x<a.min&&(a.min=t.x);t.x>a.max&&(a.max=t.x);t.y<k.min&&(k.min=t.y);t.y>k.max&&(k.max=t.y);g=t.x;q=t.y;break;case "L":t=b.point2d(p.x,p.y);t.x<a.min&&(a.min=t.x);t.x>a.max&&(a.max=t.x);t.y<k.min&&(k.min=t.y);t.y>k.max&&(k.max=t.y);g=t.x;q=t.y;break;case "C":t=b.point2d(p.x,p.y);z=b.point2d(p.x1,p.y1);p=b.point2d(p.x2,p.y2);this.cubic(g,q,z.x,z.y,p.x,
p.y,t.x,t.y,d);g=t.x;q=t.y;break;case "Q":t=b.point2d(p.x,p.y),b.point2d(p.x1,p.y1),z=g+2/3*(t.x1-g),y=q+2/3*(t.y1-q),v=z+(t.x-g)/3,x=y+(t.y-q)/3,this.cubic(g,q,z,y,v,x,t.x,t.y,d),g=t.x,q=t.y}c&&(a.expand(c),k.expand(c));return f?this.asRect():this.asData()};m.cubic=function(e,k,d,c,a,b,h,p,r){var g=this.x,q=this.y;h<g.min&&(g.min=h);h>g.max&&(g.max=h);p<q.min&&(q.min=p);p>q.max&&(q.max=p);if(r)g.extendTo(d),g.extendTo(a),q.extendTo(c),q.extendTo(b);else{r=q.min<=c&&c<=q.max&&q.min<=b&&b<=q.max;if(!(g.min<=
d&&d<=g.max&&g.min<=a&&a<=g.max)){var w=3*e-9*d+9*a-3*h,l=6*d-12*a+6*h,y=3*a-3*h;if(Math.abs(w)<=f)Math.abs(l)>=f&&(y=-y/l,y>f&&1>y&&g.extendToCubic(y,1-y,e,h,d,a));else if(y=l*l-4*w*y,y>=f){var v=Math.sqrt(y),y=(-l+v)/(2*w);y>f&&1>y&&g.extendToCubic(y,1-y,e,h,d,a);y=(-l-v)/(2*w);y>f&&1>y&&g.extendToCubic(y,1-y,e,h,d,a)}}r||(w=3*k-9*c+9*b-3*p,l=6*c-12*b+6*p,y=3*b-3*p,Math.abs(w)<=f?Math.abs(l)>=f&&(y=-y/l,y>f&&1>y&&q.extendToCubic(y,1-y,k,p,c,b)):(y=l*l-4*w*y,y>=f&&(v=Math.sqrt(y),y=(-l+v)/(2*w),
y>f&&1>y&&q.extendToCubic(y,1-y,k,p,c,b),y=(-l-v)/(2*w),y>f&&1>y&&q.extendToCubic(y,1-y,k,p,c,b))))}};m.unset=function(){this.x=new t({min:Infinity,max:-Infinity});this.y=new t({min:Infinity,max:-Infinity})};m.extendTo=function(e){this.x.extendTo(e.x);this.y.extendTo(e.y)};var t=function(e){this.min=e.min;this.max=e.max};t.prototype={extendToCubic:function(e,f,d,c,a,b){e=e*e*e*d+3*e*e*f*a+3*e*f*f*b+f*f*f*c;e<this.min&&(this.min=e);e>this.max&&(this.max=e)},extendTo:function(e){e<this.min&&(this.min=
e);e>this.max&&(this.max=e)},contains:function(e){return this.min<=e&&e<=this.max},expand:function(e){this.min-=e;this.max+=e}};var f=1E-10})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.vector||(m.vector={});l.catmullRomSplineUniform=function(k){Array.isArray(k)&&(k={path:k,getResult:!0});var l=k.ctx||void 0,f=k.getResult||!l;k=k.path||[];var e=[];k[0]&&(f&&e.push({cmd:"M",x:k[0].x,y:k[0].y}),l&&l.moveTo(k[0].x,k[0].y));var m=k.length;if(2>=m)return k;for(var d=0;d<m-1;d++){var c=0===d?k[0]:k[d-1],a=k[d],b=k[d+1],h=d+2<m?k[d+2]:b,p=a.x+(1*b.x-1*c.x)/6,c=a.y+(1*b.y-1*c.y)/6,r=b.x+(1*a.x-1*h.x)/6,a=b.y+(1*a.y-1*h.y)/6,h=b.x,b=b.y;f&&e.push({cmd:"C",x1:p,y1:c,x2:r,
y2:a,x:h,y:b});l&&l.bezierCurveTo(p,c,r,a,h,b)}return e};l.catmullRomSpline=function(k){Array.isArray(k)&&(k={path:k,getResult:!0});if(0===k.amount)return l.catmullRomSplineUniform(k);var t=k.amount||1,f=k.ctx||void 0,e=k.getResult||!f;k=k.path||[];var m=[];k[0]&&(e&&m.push({cmd:"M",x:k[0].x,y:k[0].y}),f&&f.moveTo(k[0].x,k[0].y));var d=k.length;if(2>=d)return k;for(var c=0;c<d-1;c++){var a=0===c?k[0]:k[c-1],b=k[c],h=k[c+1],p=c+2<d?k[c+2]:h;if("M"===b.cmd)e&&m.push(b),f&&(f.beginPath(),f.moveTo(b.x,
b.y));else if("Z"===b.cmd)e&&m.push(b);else{if("C"===b.cmd)var r=b.x1,a=b.y1,g=b.x2,p=b.y2,q=b.x,w=b.y;else{var g=Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)),q=Math.sqrt(Math.pow(b.x-h.x,2)+Math.pow(b.y-h.y,2)),w=Math.sqrt(Math.pow(h.x-p.x,2)+Math.pow(h.y-p.y,2)),r=Math.pow(g,t),g=Math.pow(g,2*t),z=Math.pow(q,t),q=Math.pow(q,2*t),y=Math.pow(w,t),w=Math.pow(w,2*t),v=2*g+3*r*z+q,x=2*w+3*y*z+q,L=3*r*(r+z);0<L&&(L=1/L);z=3*y*(y+z);0<z&&(z=1/z);r=(-q*a.x+v*b.x+g*h.x)*L;a=(-q*a.y+v*b.y+g*h.y)*L;
g=(w*b.x+x*h.x-q*p.x)*z;p=(w*b.y+x*h.y-q*p.y)*z;q=h.x;w=h.y;0===r&&0===a&&(r=b.x,a=b.y);0===g&&0===p&&(g=h.x,p=h.y)}e&&m.push({cmd:"C",x1:r,y1:a,x2:g,y2:p,x:q,y:w});f&&f.bezierCurveTo(r,a,g,p,q,w)}}return m}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(c){}function k(c,a){var b={};1===arguments.length?"object"===typeof c?c.length?(b.x=c[0]||0,b.y=c[1]||0):(b.x=c.x||0,b.y=c.y||0):(b.x=c||0,b.y=c||0):(b.x=c||0,b.y=a||0);return b}function t(c,a,b){c.fillStyle=b;c.fillRect(a.x-5,a.y-5,10,10)}function f(c,a,b,h){c=k(c,a);c.cp1=k(b,h);return c}function e(c,a,b,h,d,e){c=k(c,a);c.cp1=k(b,h);c.cp2=k(d,e);return c}var u=m.util;m=m.vector=m.vector||{};m.Degree=l;l.flip=function(c,a,b){return 0>a&&0>b?180+c:0>a?360-c:0>b?540-c:c};m.Point=
k;k.equals=function(c,a){return c.x===a.x&&c.y===a.y};k.exists=function(c){return c&&Number.isFinite(c.x+c.y)};k.add=function(c,a){"object"===typeof a?(c.x+=a.x,c.y+=a.y):(c.x+=a,c.y+=a);return c};k.sub=function(c,a){"object"===typeof a?(c.x-=a.x,c.y-=a.y):(c.x-=a,c.y-=a);return c};k.multiply=function(c,a){"object"===typeof a?(c.x*=a.x,c.y*=a.y):(c.x*=a,c.y*=a);return c};k.dot=function(c,a){return c.x*a.x+c.y*a.y};k.distance=function(c,a){var b=c.x-a.x,h=c.y-a.y;return Math.sqrt(b*b+h*h)};k.distanceToRect=
function(c,a,b,h,d,e){a=c.x-a;c=c.y-b;e&&(a=a*Math.cos(-e)-c*Math.sin(-e),c=a*Math.sin(-e)+c*Math.cos(-e));0>a&&(a=-a);0>c&&(a=-c);a-=h/2;c-=d/2;0>a&&(a=0);0>c&&(c=0);return a*a+c*c};k.angle=function(c,a,b){c=Math.atan2(a.y-c.y,a.x-c.x);return b?c*u.RAD_DEG:c};k.rotate=function(c,a){return k.rotateAt(c,{x:0,y:0},a)};k.rotateAt=function(c,a,b){var h=c.x-a.x,d=c.y-a.y,e=Math.cos(b);b=Math.sin(b);c.x=e*h-b*d+a.x;c.y=b*h+e*d+a.y;return c};k.atRadianDistance=function(c,a,b){return{x:Math.cos(a)*b+c.x,
y:Math.sin(a)*b+c.y}};k.atRadianToTime=function(c,a,b,h,d,e){var g=c-b,q=a-h;d*=Math.sqrt(g*g+q*q);c=Math.atan2(h-a,b-c);e&&(c+=e);return{x:Math.cos(c)*d,y:Math.sin(c)*d}};k.atTimeToRadius=function(c,a,b,h){var d=a.x-c.x,e=a.y-c.y;a=c.x+d*b;c=c.y+e*b;d=Math.atan2(e,d)-1.57079632;return{x:a+Math.cos(d)*h,y:c+Math.sin(d)*h}};k.atTimeOnLine=function(c,a,b){return{x:c.x+(a.x-c.x)*b,y:c.y+(a.y-c.y)*b}};k.atTimeOnQuadratic=function(c,a,b,h){var d=1-h,e=d*d,d=2*d*h;h*=h;return{x:e*c.x+d*a.x+h*b.x,y:e*c.y+
d*a.y+h*b.y}};k.nearestOnLine=function(c,a,b,h){var d=b.x-a.x;b=b.y-a.y;var e=d*d+b*b;c=(c.x-a.x)*d+(c.y-a.y)*b;var g=c/e;h&&(g=Math.max(0,Math.min(1,c/e)));return{time:g,x:a.x+d*g,y:a.y+b*g}};k.reflect=function(c,a,b){var h=b.x-a.x,d=b.y-a.y,e=h*h+d*d;b=(h*h-d*d)/e;h=2*h*d/e;return{x:b*(c.x-a.x)+h*(c.y-a.y)+a.x,y:h*(c.x-a.x)-b*(c.y-a.y)+a.y}};k.toLineDistance=function(c,a,b){var h=b.x-a.x,d=b.y-a.y,e=h*h+d*d;if(0===e)var g=a.x,q=a.y;else g=(c.x-a.x)*h,q=(c.y-a.y)*d,e=(g+q)/e,0>e?(g=a.x,q=a.y):1<
e?(g=b.x,q=b.y):(g=a.x+e*h,q=a.y+e*d);h=c.x-g;d=c.y-q;return Math.sqrt(h*h+d*d)};k.lineToLineIntersectionSweep=function(c,a,b,h){return(h.y-c.y)*(b.x-c.x)>(b.y-c.y)*(h.x-c.x)!==(h.y-a.y)*(b.x-a.x)>(b.y-a.y)*(h.x-a.x)&&(b.y-c.y)*(a.x-c.x)>(a.y-c.y)*(b.x-c.x)!==(h.y-c.y)*(a.x-c.x)>(a.y-c.y)*(h.x-c.x)};k.lineToLineIntersection=function(c,a,b,h){var d=a.y-c.y;a=a.x-c.x;var e=h.x-b.x,g=h.y-b.y;h=a*g-d*e;if(!h)return!1;var q=c.x-b.x;b=c.y-b.y;e=(e*b-g*q)/h;if(0>e||1<e)return!1;b=(a*b-d*q)/h;return 0>b||
1<b?!1:{x:c.x+e*a,y:c.y+e*d}};k.inBBox=function(c,a){return c.x>a.x1&&c.y>a.y1&&c.x<a.x2&&c.y<a.y2};k.inRect=function(c,a,b,h){var d=b.x-a.x,e=b.y-a.y,g=h.x-b.x;h=h.y-b.y;a=d*(c.x-a.x)+e*(c.y-a.y);c=g*(c.x-b.x)+h*(c.y-b.y);return 0<a&&a<d*d+e*e&&0<c&&c<g*g+h*h};k.inPolygon=function(c,a,b){for(var h=!1,d=c.length,e=0,g=d-1;e<d;g=e++){var q=c[e],g=c[g];(q.y<=b&&b<g.y||g.y<=b&&b<q.y)&&a<(g.x-q.x)*(b-q.y)/(g.y-q.y)+q.x&&(h=!h)}return h};k.inPolygonChain=function(c,a,b){for(var h=0,d=0,e=c.length;d<e;d++)k.inPolygon(c[d],
a,b)&&h++;return 1===(h&1)};var d=m.Polygon=function(c){};d.clone=function(c){for(var a=[],b=0,h=c.length;b<h;b++){var d=c[b];a.push({cmd:d.cmd||(0===b?"M":"L"),x:d.x,y:d.y})}return a};d.distance=function(c){for(var a=0,b=0,h=c.length;b<h;b++)a+=k.distance(c[b],c[(b+1)%h]);return a};d.isClockwise=function(c){for(var a=0,b=0,h=c.length;b<h;b++)var d=c[b],e=c[(b+1)%h],a=a+(e.x-d.x)*(e.y+d.y);return 0>=a};d.collision=function(c,a){for(var b=c.length,h=0;h<b;h++){var e=c[h];if(k.inPolygon(a,e.x,e.y))return!0}b=
a.length;for(h=0;h<b;h++)if(e=a[h],k.inPolygon(c,e.x,e.y))return!0;return d.intersects(c,a)};d.intersects=function(c,a){for(var b=c.length,h=a.length,d=0;d<b;d++)for(var e=c[d],g=c[(d+1)%b],q=0;q<h;q++)if(k.lineToLineIntersection(e,g,a[q],a[(q+1)%h]))return!0;return!1};d.SAT=function(){var c=function(a,b,c){for(var d=0,e=a.length;d<e;d++){var g=a[d],q=a[(d+1)%e],f=g.x-q.x,g=g.y-q.y;c?f=-f:g=-g;a:{for(var k=0,l=b.length;k<l;k++){var v=b[k];if(0>g*(v.x-q.x)+f*(v.y-q.y)){q=!1;break a}}q=!0}if(q)return!1}return!0};
return function(a,b){return c(a,b)&&c(b,a)?!0:!1}}();d.arcSpline=function(c,a,b){for(var h=a.length-1,d=0;d<h;d++){var e=a[(d+0)%h],g=a[(d+1)%h],q=a[(d+2)%h],f=k.atTimeOnLine(e,g,.5),l=k.atTimeOnLine(g,q,.5),y=k.atRadianDistance(f,k.angle(e,g)+90*u.DEG_RAD,1E4),v=k.atRadianDistance(l,k.angle(g,q)+90*u.DEG_RAD,1E4),e=k.distance(e,g)/2,e=k.distance(f,l)/2;if(y=k.lineToLineIntersection(f,y,l,v))c.fillStyle="#f00",c.fillRect(y.x-10,y.y-10,20,20);0===d&&c.moveTo(f.x,f.y);t(c,g,"#f0f");t(c,f,"#fff");t(c,
l,"#ff0");c.arcTo(g.x,g.y,q.x,q.y,b>e?e:b)}c.closePath()};m.Arc=function(c,a,b,h,d){c=k(c,a);c.cp1=k(b,h);c.radius=d;return c};m.Quadratic=f;f.fromArray=function(c){return{x1:c[0],y1:c[1],x:c[2],y:c[3]}};f.distance=function(c,a,b,h,d,e){d=c-2*b+d;e=a-2*h+e;c=2*b-2*c;h=2*h-2*a;a=4*(d*d+e*e);d=4*(d*c+e*h);h=c*c+h*h;e=2*Math.sqrt(a+d+h);c=Math.sqrt(a);b=2*a*c;var g=2*Math.sqrt(h),q=d/c;return(b*e+c*d*(e-g)+(4*h*a-d*d)*Math.log((2*c+q+e)/(q+g)))/(4*b)};m.Cubic=e;e.fromArray=function(c){return{cmd:"C",
x1:c[0],y1:c[1],x2:c[2],y2:c[3],x:c[4],y:c[5]}};e.fromLineSegment=function(c,a,b){var h=k.atTimeOnLine(c,a,1/3);c=k.atTimeOnLine(c,a,2/3);b=b||k(a);b.cmd="C";b.x1=h.x;b.y1=h.y;b.x2=c.x;b.y2=c.y;return b};e.pointAtTime=function(c,a,b,h,d,e,g,q,f){var k=1-f,l=k*k*k,v=3*f*k*k,k=3*f*f*k;f*=f*f;return{x:l*c+v*b+k*d+f*g,y:l*a+v*h+k*e+f*q}};e.split=function(c,a,b,h,d,e,g,q,f){var k=c+(b-c)*f,l=a+(h-a)*f,v=b+(d-b)*f,x=h+(e-h)*f;d+=(g-d)*f;e+=(q-e)*f;h=k+(v-k)*f;b=l+(x-l)*f;var v=v+(d-v)*f,x=x+(e-x)*f,t=h+
(v-h)*f;f=b+(x-b)*f;return[[c,a,k,l,h,b,t,f],[t,f,v,x,d,e,g,q]]};e.splitSegment=function(){return function(c,a,b){b=0+(b-a)/(1-a)*1;a=e.split(c[0].x,c[0].y,c[1].x,c[1].y,c[2].x,c[2].y,c[3].x,c[3].y,a);c=a[0];a=a[1];b=e.split(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],b);a=b[0];return[c,a,b[1]]}}();e.isFlat=function(c,a){return e.flatness1(c)<=(a||1)};e.flatness1=function(c){var a=k.toLineDistance(c[1],c[0],c[3]);c=k.toLineDistance(c[2],c[0],c[3]);return a>c?a:c};e.nearestTimeOnCurve=function(){function c(a,
b,h,d,f){if(1E-5>f)return h;var g=h-f,q=h+f,l=e.pointAtTime(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,g),z=e.pointAtTime(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,q),l=k.distance(a,l),z=k.distance(a,z);return 0<=g&&l<d?c(a,b,g,l,f):1>=q&&z<d?c(a,b,q,z,f):c(a,b,h,d,f/2)}return function(a,b){for(var h=0,d=u.INFINITY,f=0;10>f;f++){var g=e.pointAtTime(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,f/10),g=k.distance(a,g);g<d&&(d=g,h=f/10)}return c(a,b,h,d,1/10.1)}}();
e.nearestPointOnCurve=function(c,a){var b=e.nearestTimeOnCurve(c,a),h=e.pointAtTime(a[0].x,a[0].y,a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y,b),d=k.distance(c,h);return{point:h,distance:d,time:b}};e.toPolyline=function(){var c,a=function(b,h,d){e.isFlat(b,h||.33)||10<++d?c.push(k(b[3])):(b=e.split(b[0].x,b[0].y,b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y,.5),a(e.fromArray2(b[0]),h,d),a(e.fromArray2(b[1]),h,d))};return function(b,h){c=[];c.push(k(b[0]));a(b,h,0);return c}}();e.fromArray2=function(c){return[{x:c[0],
y:c[1]},{x:c[2],y:c[3]},{x:c[4],y:c[5]},{x:c[6],y:c[7]}]};(function(){var c=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,
.9951872199970213],a=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872];e.distance=function(b){var h,
d,e=0,g=c.length,q=[];for(d=0;3>d;d++)q.push({x:3*(b[d+1].x-b[d].x),y:3*(b[d+1].y-b[d].y)});for(b=0;b<g;b++){h=.5*c[b]+.5;var f=1-h;d=q;var k=f*f,f=f*h*2,l=h*h;h=k*d[0].x+f*d[1].x+l*d[2].x;d=k*d[0].y+f*d[1].y+l*d[2].y;e+=a[b]*Math.sqrt(h*h+d*d)}return.5*e}})()})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.vector=m.vector||{},k=m.vector.Cubic;l.Path=function(l){this.ctx=l;this.start={x:0,y:0};this.current={x:0,y:0};this.data=[];this.dashIdx=0;this.dashArray=[4,4];this.dashCurve=!1;this.dashRemainder=this.dashOffset=0;this.dashStyle=["#f00","#00f"];this.dashStyleIdx=0;this.dashAdaptive=!1;this.distance=0;this.reset=function(){this.dashRemainder=this.dashIdx=0};this.resetPath=function(){this.distance=0;this.data=[];this.reset()};this.moveTo=function(f,e){var k=this.ctx,d=this.getData;
k&&k.moveTo(f,e);d&&this.data.push({cmd:"M",x:f,y:e});this.start.x=f;this.start.y=e;this.current.x=f;this.current.y=e};this.lineTo=function(f,e){for(var k=this.ctx,d=this.getData||!1,c=this.current||{x:0,y:0},a=this.dashArray,b=a.length,h=this.dashIdx,p=c.x,l=c.y,g=f-c.x,q=e-c.y,w=Math.abs(g)>Math.abs(q),z=w?q/g:g/q,y=Math.sqrt(g*g+q*q),v,x=y;.1<x;){this.dashRemainder?(v=this.dashRemainder||.01,this.dashRemainder=0):v=a[++h%b]||.01;if(0>(x-=v)){k&&(0===h%2?k.lineTo(f,e):k.moveTo(f,e));break}v=Math.sqrt(v*
v/(1+z*z));w?(0>g&&(v=-v),c.x+=v,c.y+=z*v):(0>q&&(v=-v),c.x+=z*v,c.y+=v);k&&h%2&&k&&(k.moveTo(p,l),k.lineTo(c.x,c.y));d&&(0===this.data.length&&this.data.push({cmd:"M",x:p,y:l}),this.data.push({cmd:"L",x:c.x,y:c.y}));p=c.x;l=c.y}this.dashIdx=h;this.dashRemainder=Math.abs(x);this.distance+=y;this.current.x=f;this.current.y=e;if(d)return this.data};this.quadraticCurveTo=function(f,e,k,d){var c=this.current;f=c.x+2/3*(f-c.x);e=c.y+2/3*(e-c.y);this.bezierCurveTo(f,e,f+(k-c.x)/3,e+(d-c.y)/3,k,d)};this.bezierCurveTo=
function(f,e,l,d,c,a){var b=this.ctx,h=this.getData||!1,p=this.current||{x:0,y:0},r=this.dashCurve||!1,g=this.dashArray,q=g.length,w=this.dashIdx,z=!0;f=[p.x,p.y,f,e,l,d,c,a];e=p.x;l=p.y;d=p.x;var y,v,p=p.y,x,t=0,m,A,D,B,C,H=0;if(z=this.dashAdaptive){B=k.fromArray2(f);z=k.toPolyline(B,z);B=k.distance(B);v=z[z.length-1];for(x=0;x<z.length;x++)z[x].cmd="L",this.data.push(z[x]);this.distance+=B;this.current.x=v.x;this.current.y=v.y;if(h)return this.data}for(;1>t;){this.dashRemainder?(z=!1,C=this.dashRemainder||
.01,this.dashRemainder=0):(z=!0,C=g[++w%q]||.01);B=t=0;y=d;for(x=p;1>t;t+=.001){v=e-y;x=l-x;B+=Math.sqrt(v*v+x*x);if(B>=C)break;x=1-t;v=x*x*x;m=3*t*x*x;A=3*t*t*x;D=t*t*t;y=e;x=l;e=v*f[0]+m*f[2]+A*f[4]+D*c;l=v*f[1]+m*f[3]+A*f[5]+D*a}H+=B;x=k.split(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],t);f=x[1];x=x[0];z&&(b&&b.moveTo(d,p),h&&0===this.data.length&&this.data.push({cmd:"M",distance:0,x:d,y:p}));b&&w%2&&(b.moveTo(d,p),r?b.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]):b.lineTo(x[6],x[7]));h&&(r?this.data.push({cmd:"C",
distance:H,x1:x[2],y1:x[3],x2:x[4],y2:x[5],x:x[6],y:x[7]}):this.data.push({cmd:"L",distance:H,x:x[6],y:x[7]}));d=e;p=l}this.dashIdx=w;this.dashRemainder=C-B;this.distance+=H;this.current.x=e;this.current.y=l;if(h)return this.data};this.closePath=function(){var f=this.getData||!1,e=this.start;this.lineTo(e.x,e.y);f&&this.data.push({x:e.x,y:e.y,cmd:"Z"});this.reset()}}})(sketch);
(function(m){var l=(m.vector=m.vector||{}).Point,k=m.vector.mcMasterSmooth=function(f,e){e=e||3;0===e%2&&e++;var k=e/2>>0,d=f.length;if(d<e)return f;for(var c=0,a=0,b=0;b<e;b++)var h=f[b],c=c+h.x,a=a+h.y;for(var b=f.slice(0,k),p=k,l=d-k;p<l;p++)h=f[p],p>k&&(c-=f[p-k-1].x,a-=f[p-k-1].y,c+=f[p+k].x,a+=f[p+k].y),"L"===h.cmd?b.push({cmd:"L",x:(h.x+c/e)/2,y:(h.y+a/e)/2}):b.push(h);return b.concat(f.slice(l,d))},t=m.vector.langSimplify=function(f,e,k){e=e||4;k=k||1;var d=f.length-1;if(0>=d)return f;var c=
0,a=0,b=Math.min(e,d),a=a+b,d=d-b,h=[];for(h.push(f[c]);b;){var p=f[c],r=f[a],g=0,q=c+1;if("Z"===r.cmd||"M"===r.cmd)c=a,h.push(r),b=Math.min(1,d),a+=b,d-=b;else{for(;q!=a;){var w=l.toLineDistance(f[q],p,r),g=Math.max(g,w);if(g>k)break;else q++}g<k?(c=a,h.push(r),b=Math.min(e,d),a+=b,d-=b):(a--,d++)}}return h};m.vector.roundPath=function(f,e){var k=Math.pow(10,e||0);f.forEach(function(d){for(var c in d){var a=d[c];Number.isFinite(a)&&(d[c]=Math.round(a*k)/k)}});return f};m.vector.simplify=function(f,
e,l){return t(k(f,3),6,1)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.vector=m.vector||{},k=l.Shape=l.Shape||{},t=Math.PI,f=2*t;k.record=function(){var a;this.data=[];this.save=function(){};this.restore=function(){};this.translate=function(){};this.rotate=function(){};this.scale=function(){};this.beginPath=function(){this.data=[]};this.moveTo=function(b,c){this.data.push(a={cmd:"M",x:b,y:c})};this.lineTo=function(a,b){this.data.push({cmd:"L",x:a,y:b})};this.bezierCurveTo=function(a,b,c,g,h,d){this.data.push({cmd:"C",x1:a,y1:b,x2:c,y2:g,x:h,y:d})};
this.quadraticCurveTo=function(a,b,c,g){this.data.push({cmd:"Q",x1:a,y1:b,x:c,y:g})};this.arcTo=function(a,b,c,g,h){this.data.push({cmd:"A",x1:a,y1:b,x2:c,y2:g,radius:h})};this.closePath=function(){this.data.push({cmd:"Z",x:a.x,y:a.y})};this.stringify=function(){return l.SVGPath.fromVOBPath(this.data)}};k.debug=function(a){this.vector=function(b,c,h){var d=l.Point.atRadianDistance(b,c,9999);b=l.Point.atRadianDistance(b,c,-9999);a.beginPath();k.line(a,d.x,d.y,b.x,b.y);a.strokeStyle=h||"red";a.stroke()};
this.point=function(b,c,h){a.beginPath();k.circle(a,b.x,b.y,h||5);a.fillStyle=c||"red";a.fill()}};k.VOBNode=function(b,c){switch(c.type){case "image":b.drawImage(c.image,c.x,c.y,c.width,c.height);break;case "line":b.moveTo(c.x1,c.y1);b.lineTo(c.x2,c.y2);break;case "polyline":case "polygon":case "path":e(b,c.data);break;case "ellipse":u(b,c.cx,c.cy,c.rx,c.ry);break;case "circle":u(b,c.cx,c.cy,c.r,c.r);break;case "rect":Number.isFinite(c.rx)?a(b,c.x,c.y,c.width,c.height,c.rx,c.ry):d(b,c.x,c.y,c.width,
c.height)}};var e=k.VOBPath=function(a,b){for(var c=b&&b.length,h=0,d;h<c;h++)if(d=b[h])switch(d.cmd){case "M":a.moveTo(d.x,d.y);break;case "L":a.lineTo(d.x,d.y);break;case "Q":a.quadraticCurveTo(d.x1,d.y1,d.x,d.y);break;case "C":a.bezierCurveTo(d.x1,d.y1,d.x2,d.y2,d.x,d.y);break;case "A":a.arcTo(d.x1,d.y1,d.x2,d.y2,d.radius);break;case "Z":case "z":a.closePath()}};k.VOBPathOffset=function(a,b,c,h){for(var d=b&&b.length,e=0,f;e<d;e++)if(f=b[e]){var k=f.x+c,p=f.y+h;switch(f.cmd){case "M":a.moveTo(k,
p);(!(f=b[e+1])||"L"!==f.cmd&&"C"!==f.cmd)&&a.lineTo(k+.01,p+.01);break;case "L":a.lineTo(k,p);break;case "C":a.bezierCurveTo(f.x1+c,f.y1+h,f.x2+c,f.y2+h,k,p);break;case "Z":a.lineTo(k,p),a.closePath()}}};k.VOBPathDebug=function(a,b){for(var c="",h=b.length,d=0,e;d<h;d++)if(e=b[i])switch(e.cmd){case "M":c+="ctx.moveTo("+e.x+","+e.y+");";break;case "L":c+="ctx.lineTo("+e.x+","+e.y+");";break;case "Q":c+="ctx.quadraticCurveTo("+e.x1+","+e.y1+","+e.x+","+e.y+");";break;case "C":c+="ctx.bezierCurveTo("+
e.x1+","+e.y1+","+e.x2+","+e.y2+","+e.x+","+e.y+");";break;case "A":c+="ctx.arcTo("+e.x1+","+e.y1+","+e.x2+","+e.y2+","+e.radius+");";break;case "Z":case "z":c+="ctx.closePath();"}console.log(c);return c};k.line=function(a,b,c,h,d){a.moveTo(b,c);a.lineTo(h,d)};k.circle=function(a,b,c,h,d){return u(a,b,c,h,h,d)};var u=k.ellipse=function(a,b,c,h,d,e){var f=.5522847498307936*h,k=.5522847498307936*d,p=b-h,l=c-d;h=b+h;d=c+d;a.moveTo(b,l);e?(a.bezierCurveTo(b-f,l,p,c-k,p,c),a.bezierCurveTo(p,c+k,b-f,d,
b,d),a.bezierCurveTo(b+f,d,h,c+k,h,c),a.bezierCurveTo(h,c-k,b+f,l,b,l)):(a.bezierCurveTo(b+f,l,h,c-k,h,c),a.bezierCurveTo(h,c+k,b+f,d,b,d),a.bezierCurveTo(b-f,d,p,c+k,p,c),a.bezierCurveTo(p,c-k,b-f,l,b,l));a.closePath()};k.SVGPath=function(a,b){return e(a,l.SVG.toVOBPath(b))};k.cross=function(a,b,c,h,d){a.moveTo(b,c-d/2);a.lineTo(b,c+d/2);a.moveTo(b-h/2,c);a.lineTo(b+h/2,c)};k.exmark=function(a,b,c,h){a.moveTo(b+h,c-h);a.lineTo(b-h,c+h);a.moveTo(b+h,c+h);a.lineTo(b-h,c-h)};k.square=function(a,b,h,
d,e){c(a,b-d,h-d,b+d,h+d,e)};var d=k.rect=function(a,b,h,d,e,f){c(a,b,h,b+d,h+e,f)},c=k.rectangle=function(a,b,c,h,d,e){a.moveTo(b,c);e?(a.lineTo(b,d),a.lineTo(h,d),a.lineTo(h,c)):(a.lineTo(h,c),a.lineTo(h,d),a.lineTo(b,d));a.closePath()};k.roundRectangle=function(b,c,h,d,e,f,k,p){a(b,c,h,d-c,e-h,f,k,p)};var a=k.roundRect=function(a,b,c,h,d,e,f,k){0>h&&(b-=h=Math.abs(h));0>d&&(c-=d=Math.abs(d));var p,l,r,m,u,H;"number"===typeof e?(Number.isFinite(f)||(f=e),p=h/2,l=d/2,e>p&&(e=p),f>l&&(f=l),p=l=r=
m=e,f=u=H=e=f):(Array.isArray(e)?4===e.length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2],e[3],e[3]]):e=[10,10,10,10,10,10,10,10],p=e[0],l=e[2],r=e[4],m=e[6],f=e[1],u=e[3],H=e[5],e=e[7]);var G=t/4,F=G/2,N=Math.cos(F),K=-t/2,J=K+1*G,S=K+2*G,P=K+3*G,T=K+4*G,U=K+5*G,I=K+6*G,X=K+7*G;a.moveTo(b+p,c);k?(G*=-1,F*=-1,a.quadraticCurveTo(b+p+Math.cos(K+F)*p/N,c+f+Math.sin(K+F)*f/N,b+p+Math.cos(K+G)*p,c+f+Math.sin(K+G)*f),a.quadraticCurveTo(b+p+Math.cos(X+F)*p/N,c+f+Math.sin(X+F)*f/N,b+p+Math.cos(X+G)*p,c+f+Math.sin(X+
G)*f),a.lineTo(b,c+d-f),a.quadraticCurveTo(b+m+Math.cos(I+F)*m/N,c+d-e+Math.sin(I+F)*e/N,b+m+Math.cos(I+G)*m,c+d-e+Math.sin(I+G)*e),a.quadraticCurveTo(b+m+Math.cos(U+F)*m/N,c+d-e+Math.sin(U+F)*e/N,b+m+Math.cos(U+G)*m,c+d-e+Math.sin(U+G)*e),a.lineTo(b+h-m,c+d),a.quadraticCurveTo(b+h-r+Math.cos(T+F)*r/N,c+d-H+Math.sin(T+F)*H/N,b+h-r+Math.cos(T+G)*r,c+d-H+Math.sin(T+G)*H),a.quadraticCurveTo(b+h-r+Math.cos(P+F)*r/N,c+d-H+Math.sin(P+F)*H/N,b+h-r+Math.cos(P+G)*r,c+d-H+Math.sin(P+G)*H),a.lineTo(b+h,c+H),
a.quadraticCurveTo(b+h-l+Math.cos(S+F)*l/N,c+u+Math.sin(S+F)*u/N,b+h-l+Math.cos(S+G)*l,c+u+Math.sin(S+G)*u),a.quadraticCurveTo(b+h-l+Math.cos(J+F)*l/N,c+u+Math.sin(J+F)*u/N,b+h-l+Math.cos(J+G)*l,c+u+Math.sin(J+G)*u),a.lineTo(b+l,c)):(a.lineTo(b+h-l,c),a.quadraticCurveTo(b+h-l+Math.cos(K+F)*l/N,c+u+Math.sin(K+F)*u/N,b+h-l+Math.cos(K+G)*l,c+u+Math.sin(K+G)*u),a.quadraticCurveTo(b+h-l+Math.cos(J+F)*l/N,c+u+Math.sin(J+F)*u/N,b+h-l+Math.cos(J+G)*l,c+u+Math.sin(J+G)*u),a.lineTo(b+h,c+d-H),a.quadraticCurveTo(b+
h-r+Math.cos(S+F)*r/N,c+d-H+Math.sin(S+F)*H/N,b+h-r+Math.cos(S+G)*r,c+d-H+Math.sin(S+G)*H),a.quadraticCurveTo(b+h-r+Math.cos(P+F)*r/N,c+d-H+Math.sin(P+F)*H/N,b+h-r+Math.cos(P+G)*r,c+d-H+Math.sin(P+G)*H),a.lineTo(b+m,c+d),a.quadraticCurveTo(b+m+Math.cos(T+F)*m/N,c+d-e+Math.sin(T+F)*e/N,b+m+Math.cos(T+G)*m,c+d-e+Math.sin(T+G)*e),a.quadraticCurveTo(b+m+Math.cos(U+F)*m/N,c+d-e+Math.sin(U+F)*e/N,b+m+Math.cos(U+G)*m,c+d-e+Math.sin(U+G)*e),a.lineTo(b,c+f),a.quadraticCurveTo(b+p+Math.cos(I+F)*p/N,c+f+Math.sin(I+
F)*f/N,b+p+Math.cos(I+G)*p,c+f+Math.sin(I+G)*f),a.quadraticCurveTo(b+p+Math.cos(X+F)*p/N,c+f+Math.sin(X+F)*f/N,b+p+Math.cos(X+G)*p,c+f+Math.sin(X+G)*f));a.closePath()};k.roundRect2=function(a,b,c,h,d,e,f){h<2*e&&(e=h/2);d<2*e&&(e=d/2);f?(a.moveTo(b+h-e,c),a.arcTo(b,c,b,c+e,e),a.arcTo(b,c+d,b+e,c+d,e),a.arcTo(b+h,c+d,b+h,c+d-e,e),a.arcTo(b+h,c,b+h-e,c,e)):(a.moveTo(b+e,c),a.arcTo(b+h,c,b+h,c+d,e),a.arcTo(b+h,c+d,b,c+d,e),a.arcTo(b,c+d,b,c,e),a.arcTo(b,c,b+h,c,e));a.closePath()};k.ring=function(a,c,
d,e,f,k,p,l){var r=-t/2;k+=r;p+=r;a.arc?(a.arc(c,d,f,k,p,l),r=p,b(k,r)&&(f=c+e*Math.cos(r),r=d+e*Math.sin(r),a.moveTo(f,r)),a.arc(c,d,e,p,k,!l)):(h(a,f,f,f,k,p,l),r=p,b(k,r)&&(c+=e*Math.cos(r),d+=e*Math.sin(r),a.moveTo(c,d)),h(a,f,f,e,p,k,!l));a.closePath()};k.pie=function(a,c,d,e,f,k,p){var l=-t/2;f+=l;k+=l;!1===b(f,k)&&a.moveTo(c,d);a.arc?a.arc(c,d,e,f,k,p):h(a,c,d,e,f,k,p);a.closePath()};var b=function(a,b){var c=Math.abs((a+f)%f),h=Math.abs((b+f)%f);return c===h},h=function(a,b,c,h,d,f,k){if(k)var p=
Math.max(d,f),r=Math.min(d,f)-1E-10;else p=Math.min(d,f)-1E-10,r=Math.max(d,f);var m=(p-r)/t/2;1<Math.abs(m)&&(b-=2*h);d=b+h*Math.cos(p);p=c+h*Math.sin(p);f=b+h*Math.cos(r);r=c+h*Math.sin(r);m=.5<=Math.abs(m)?1:0;k=k?0:1;a.moveTo(b,c);a.lineTo(d,p);e(a,l.SVGPath.arcToBezier(d,p,h,h,0,m,k,f,r));a.closePath()};k.triangle=function(a,b,c,h,d){p(a,b,c,h,3,d)};var p=k.regularPolygon=function(a,b,c,h,d,e){for(var k=Math.PI,p=f/d,l=0;l<d;l++){var r=p*(e?d-l:l)+k,t=Math.sin(r)*h+b,r=-Math.cos(r)*h+c;0===l?
a.moveTo(t,r):a.lineTo(t,r)}a.closePath()};k.gear=function(a,b,c,h,d,e,k){e=1-e;1>e&&(h*=e);var p=f/d,l=p/4*(k?-1:1);e=h/e;var r=(p-t)/2+p/8;k&&(r+=l);for(var m=0;m<d;m++){var u=p*(k?d-m:m)+r,C=u-3*l,H=u-2*l,G=u-1*l,F=Math.cos(C)*e+b,C=Math.sin(C)*e+c;0===m?a.moveTo(F,C):a.lineTo(F,C);a.lineTo(Math.cos(H)*e+b,Math.sin(H)*e+c);a.lineTo(Math.cos(G)*h+b,Math.sin(G)*h+c);a.lineTo(Math.cos(u)*h+b,Math.sin(u)*h+c)}a.closePath()};k.star=function(a,b,c,h,d,e,k,p){k=k||0;e=1-e;1>e&&(h*=e);var l=f/d,r=l/2*
(p?-1:1);e=h/e;for(var m=(l-t)/2,u=0;u<d;u++){var C=l*(p?d-u:u)+m,H=Math.cos(C-r+k/2)*e+b,G=Math.sin(C-r+k/2)*e+c;0===u?a.moveTo(H,G):a.lineTo(H,G);a.lineTo(Math.cos(C-k/2)*h+b,Math.sin(C-k/2)*h+c)}a.closePath()};k.burst=function(a,b,c,h,d,e,k,p){var l=p?-1:1;k=f/d;var r=k/2*l,m=k/4*l,u=3*m,C=Math.cos(k/4);1>e&&(h*=e);var H=h/e,C=H/C,G=(k-t)/2;1<e&&(G+=t);e=-k*l+G;a.moveTo(Math.cos(e)*h+b,Math.sin(e)*h+c);for(l=0;l<d;l++)e=k*(p?d-l:l)+G,a.quadraticCurveTo(Math.cos(e-u)*C+b,Math.sin(e-u)*C+c,Math.cos(e-
r)*H+b,Math.sin(e-r)*H+c),a.quadraticCurveTo(Math.cos(e-m)*C+b,Math.sin(e-m)*C+c,Math.cos(e)*h+b,Math.sin(e)*h+c);a.closePath()};k.radialBurst=function(a,b,c,h,d,e,k,p){var l=f/e,r=4*k,m=l/4*r,r=l/8*r;k=-t/2+l*k/2;for(var u=0;u<e;u++){var C=l*u+k,H=C-m,G=C-r,F=Math.cos(G)*h+b,G=Math.sin(G)*h+c,N=Math.cos(H)*d+b,H=Math.sin(H)*d+c,K=Math.cos(C)*d+b,C=Math.sin(C)*d+c;a.moveTo(F,G);p?(a.lineTo(F,G),a.lineTo(K,C),a.lineTo(N,H)):(a.lineTo(N,H),a.lineTo(K,C),a.lineTo(F,G))}a.closePath()};var r=k.spiral=
function(a,b,c,h,d,e,k,p){var l=-t/2;e=e/d*f;for(var r=0;r<=d;r++){var m=k?d-r:r,u=Math.pow(h,m/d),C=m*e+l,m=Math.cos(C)*u+b,u=Math.sin(C)*u+c;0!==r||p?a.lineTo(m,u):a.moveTo(m,u)}};k.spirals=function(a,b,c,h,d,e,k,p){for(var l=d;l--;){a.save();a.translate(b,c);a.rotate(l*f/d);a.translate(-b,-c);var t=100*e;r(a,b,c,h*k,t,e,!!p);r(a,b,c,h,t,e,!p,!0);a.closePath();a.restore()}};k.supershape=function(a,b,c,h,d,e,k,p,l,r){e=e||.001;k=k||-.001;p=p||.001;l=l||.001;for(var t=0;t<=d;t++){var m=(r?d-t:t)*
f/d,u=Math.pow(Math.abs(Math.cos(e*m/4)/1),p),H=Math.pow(Math.abs(Math.sin(e*m/4)/1),l),H=Math.pow(u+H,1/k);0===H?m=u=0:(u=1/H*Math.cos(m)*h,m=1/H*Math.sin(m)*h);0===t?a.moveTo(u+b,m+c):a.lineTo(u+b,m+c)}a.closePath()};k.clearPath=function(a,b,c,h,d,e,f,k,p){var l=a.globalCompositeOperation;a.beginPath();a.globalCompositeOperation="destination-out";shape[b](a,b,c,h,d,e,f,k,p);a.fill();a.globalCompositeOperation=l;a.beginPath()};k.clipPath=function(a,b,c,h,d,e,f,k,p){a.beginPath();shape[b](a,b,c,h,
d,e,f,k,p);a.clip()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(d,c){void 0===d?this.matrix=f():Number.isFinite(d.a+d.b+d.c+d.d+d.x+d.y)?this.matrix=c?t(d):d:Number.isFinite(d[0]+d[1]+d[2]+d[3]+d[4]+d[5])?this.fromArray(d):this.matrix=f()}function k(d,c){return{a:d.a*c.a+d.c*c.b,b:d.b*c.a+d.d*c.b,c:d.a*c.c+d.c*c.d,d:d.b*c.c+d.d*c.d,x:d.a*c.x+d.c*c.y+d.x,y:d.b*c.x+d.d*c.y+d.y}}function t(d){return{a:d.a,b:d.b,c:d.c,d:d.d,x:d.x,y:d.y}}function f(){return{a:1,b:0,x:0,c:0,d:1,y:0}}function e(d){return d.a===u.a&&d.b===u.b&&d.c===u.c&&d.d===
u.d&&d.x===u.x&&d.y===u.y}var u=f();l.prototype={matrices:[],save:function(){this.matrices.push(t(this.matrix))},restore:function(){this.matrix=this.matrices.pop()||f()},point2d:function(d,c,a){var b=this.matrix;a=a||{};a.x=b.a*d+b.c*c+b.x;a.y=b.b*d+b.d*c+b.y;return a},point2dx:function(d,c,a){c||(c="x");a||(a="y");var b=this.matrix,h=d[c],e=d[a];d[c]=b.a*h+b.c*e+b.x;d[a]=b.b*h+b.d*e+b.y;return d},flatten:function(d,c){if(d&&d.length&&(c&&(d=JSON.parse(JSON.stringify(d))),!e(this.matrix)))for(var a=
0,b=d.length,h;a<b;a++)if(h=d[a])switch(h.cmd){case "M":this.point2dx(h,"x","y");break;case "L":this.point2dx(h,"x","y");break;case "C":this.point2dx(h,"x","y");this.point2dx(h,"x1","y1");this.point2dx(h,"x2","y2");break;case "Q":this.point2dx(h,"x","y");this.point2dx(h,"x1","y1");break;case "Z":case "z":Number.isFinite(h.x+h.y)&&this.point2dx(h,"x","y")}return d},invert:function(d){d=d||this.matrix;var c=1/(d.a*d.d-d.c*d.b);this.matrix={a:d.d*c,b:-d.b*c,c:-d.c*c,d:d.a*c,x:(d.c*d.y-d.d*d.x)/c,y:(d.b*
d.x-d.a*d.y)/c};return this},project:function(d){},reflect:function(d){},transform:function(d,c,a,b,h,e){var f=this.matrix;this.matrix={a:f.a*d+f.c*c,b:f.b*d+f.d*c,c:f.a*a+f.c*b,d:f.b*a+f.d*b,x:f.a*h+f.c*e+f.x,y:f.b*h+f.d*e+f.y};return this},setTransform:function(d,c,a,b,h,e){this.matrix={a:d,b:c,c:a,d:b,x:h,y:e};return this},rotate:function(d){var c=Math.cos(d);d=Math.sin(d);var a=this.matrix;this.matrix={a:a.a*c+a.b*-d,b:a.a*d+a.b*c,c:a.c*c+a.d*-d,d:a.c*d+a.d*c,x:a.x,y:a.y};return this},rotateAt:function(d,
c){var a=new l;a.translate(c.x,c.y);a.rotate(d);a.translate(-c.x,-c.y);return this.prepend(a)},scale:function(d,c){void 0===c&&(c=d);var a=this.matrix;a.a*=d;a.b*=c;a.c*=d;a.d*=c;return this},scaleAt:function(d,c,a,b){var h=new l;b?(h.translate(a.x,a.y),h.rotate(-b),h.scale(d,c),h.rotate(b)):(h.translate(a.x,a.y),h.scale(d,c));h.translate(-a.x,-a.y);return this.prepend(h)},skew:function(d,c){void 0===c&&(c=0);var a=this.matrix,b=a.a,h=a.b,e=a.c,f=a.d,g=Math.tan(d),q=Math.tan(c);a.a=b+e*q;a.b=h+f*
q;a.c=b*g+e;a.d=h*g+f;return this},skewAt:function(d,c,a){d=new l;d.translate(a.x,a.y);d.skew(angle);d.translate(-a.x,-a.y);return this.prepend(d)},translate:function(d,c){void 0===c&&(c=0);var a=this.matrix;a.x=a.a*d+a.c*c+a.x;a.y=a.b*d+a.d*c+a.y;return this},multiply:function(){for(var d=this.matrix,c=[],a=0,b=arguments.length;a<b;a++)void 0===d?(d=arguments[a],d.matrix&&(d=d.matrix)):(c=arguments[a],c.matrix&&(c=c.matrix),d=k(d,c));this.matrix=d;return this},prepend:function(d){this.matrix=k(d.matrix,
this.matrix);return this},clone:function(){return new l(this.matrix,!0)},reset:function(){this.matrix=f();return this},fromArray:function(d){this.matrix={a:d[0],b:d[1],c:d[2],d:d[3],x:d[4],y:d[5]};return this},fromString:function(d){this.matrix=d.split(",").map(function(c){return parseFloat(c)});return this},toArray:function(d){d=d||this.matrix;return[d.a,d.b,d.c,d.d,d.x,d.y]},toCSSMatrix:function(d){return"matrix("+this.toString()+")"},toString:function(){var d=this.matrix;return""+d.a+","+d.b+","+
d.c+","+d.d+","+d.x+","+d.y},apply:function(d,c){var a=this.matrix;c?d.transform(a.a,a.b,a.c,a.d,a.x,a.y):d.setTransform(a.a,a.b,a.c,a.d,a.x,a.y);return this}};l.cloneMatrix=t;l.getIdentity=f;l.isIdentity=e;(m.vector||(m.vector={})).Transform=l})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Detect=function(){var l=this;l.addClone=function(k,t){for(var f in l)"object"===typeof l[f]&&l[f][k]&&(l[f][t]=!0)};l.add=function(k,t){var f=l[k]||(l[k]={});if("string"===typeof t)f[t]=!0;else for(;t.length;)f[t.pop()]=!0};l.add("brush",[]);l.add("shape",[]);l.add("media",[]);l.add("utility",["crop","select","zoom"]);l.add("useCacheOnRender",["symbol","clipart","image","paintbrush"]);l.add("useRenderControls","floodfill symbol clipart camera image select text zoom".split(" "));
l.add("useDefaultDim",["media","shape","text"]);l.add("useNonUniform",["ellipse","rectangle","speechbubble"]);l.add("useNoConfigure","move scissor screenshot select vectorfill zoom".split(" "));l.add("useCacheForAlpha","arrow calligraphy eraser paintbrush pen pencil streamer".split(" "));l.add("useFillAlphaOnGlobal",["calligraphy","paintbrush","pen","pencil","streamer"]);l.add("useLocalAlpha","floodfill chrome crayon fur hair oil pastel shader sketchy spirograph spraypaint stamp web".split(" "));
l.add("useColorModeAll",["stamp"]);l.add("useColorModeCycle","calligraphy chrome crayon fur hair pen shader sketchy spirograph spraypaint streamer web".split(" "));l.add("useCache257","chrome fur hair shader sketchy spirograph web".split(" "));l.add("useCacheOnDraw","calligraphy chrome crayon fur hair oil pastel pen shader sketchy spirograph spraypaint stamp streamer web".split(" "));l.add("useAreaTracker",["paintbrush"]);l.add("useSafeGCO","crayon pen spirograph spraypaint stamp streamer".split(" "));
l.add("useStampResource",["crayon","spraypaint","stamp"]);l.add("useSrc",["symbol","clipart","image","spraypaint","stamp"])};"object"===typeof module&&module.exports?module.exports=new m.module.Detect:m.detect=new m.module.Detect})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Tool=function(l,k,t){function f(b){return null==b||k._tool.type===b?Promise.resolve(k._tool):(b=t.config[b])?b:Promise.reject(a)}var e=l.feature,m=l.style,d=l.ui;k.tool=function(a){var b=f(a);if(b.then)return b;d.setToolMenu&&d.setToolMenu(a);var c=k.scene;"select"===a?e.doc.editable&&c.setDirtyControl(c.selection.items):c.selection.length&&c.deselectAll();e.style.globalPaint&&m.setObjectFromGlobal(b);e.style.globalBlend&&k.setComposite(m.composite,b.type);
e.style.toGlobals&&m.setGlobalBlend(b.composite);k.render.dirty=!0;k.render.dirtyActiveContext=!0;k.render.dirtyControls=!0;return t.tool(a).then(function(b){d.configurePane&&d.configurePane(a);k.saveSettings();l.palette&&l.palette.setIndicator();return b},function(a){e.debug&&console.error(a)})};t.tool=function(a){var d=f(a);if(d.then)return d;var r=t.get(d.toolkitId);if(null==r)return Promise.reject(b);var g=k._tool;g.disable&&g.disable();e.style.toGlobals&&m.setGlobalFromObject(d);d=g.type;d!==
a&&c.push(d);r.type=a;k._tool=r;return t.reload(a).then(function(){e.doc.interactable&&r.enable();e.ui.cursorDefs&&l.ui.setCursor();k.emit("setTool",a,r.toolkitId);return r})};t.reload=function(b){var c=t.config[b];if(null==c)return Promise.reject(a);b=t[c.toolkitId];if(b.loadResource){var d=b.device=new k.scene.SKObject,c=k.scene.copyProperties(b,c,d);return b.loadResource(c)}return Promise.resolve()};t.exists=function(a){return(a=t.config[a])?!!t[a.toolkitId]:!1};var c=[];t.previous=function(){return t.tool(c.pop()||
k._tool.type)};t.previous.type=function(){return c[c.length-1]||""};var a={message:"Tool not found."},b={message:"Toolkit not found."}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.ToolConfig=function(l,k,t){function f(a,b){this[a]=b}function e(a){var b=a.type||"";if(b=0===b.indexOf("gl_")&&b.substr(3)){t.getConfig(a.filter);for(var c in a.params){var g=b,h=a.params[c],d=glfx.filters[g],e=d.paramIndex[c];switch(d.param[e].format.replace(")","").split("(")[0]){case "int":h=Math.round(h)}var f=k.render.glfx;if(f&&f.activeFilter)f.activeFilter.data[e]!==h&&(f.activeFilter.data[e]=h,!glfx.animationId&&f.render()),l.histogram&&l.histogram.enabled&&
l.histogram.analyze();else{var p=!1,r=k.selection.objects(),m=void 0;for(m in r){var u=r[m];if(u.filter)for(var H=u.filter[0],G=0;G<H.length;G++)if(d=H[G],d.id===g){d=d.data;d[e]!==h&&(d[e]=h,!glfx.animationId&&f.render());p=u.dirtyCache=!0;break}}p&&(k.render.dirty=!0)}}return!0}}function m(a){function b(a){var c=l.toolkit(a+g);l.toolkit(a+h,c)}a=a.split("->");var g=a[0],h=a[1];t.config.cloneFrom(g,h);c.addClone(g,h);c.brush[g]?b("brush."):c.shape[g]&&b("shape.");return h}function d(a,b){switch(a){case "int":return Math.round(b);
default:return b}}var c=l.detect,a=l.feature,b=l.util.string,h=l.style,p=l.util,r=Number.isFinite.bind(Number);l.config=function(a,b){function c(a,b){var g=a.split(":"),d=g[0],g=g[1]||"";if(b)if("defaults"===b&&(b=h.config.get(d,"defaults").values()),"tools"===d)for(var e in b)c(e,b[e]);else h.setConfig(d,b,!0);else return h.config.get(d,g)}var g=l.doc,h=g.toolkit;switch(a){case "scene":break;case "tools":return c("tools",b);case "tool":return c(g._tool.type,b);default:return c(a,b)}};t.feature=function(a,
b){var c=t.config[a];if(c)return c[b]};t.setConfig=function(a,b,c){if("string"===typeof a){var g=t.config[a];null==g&&a.includes("->")&&(a=m(a),g=t.config[a]);if(g){for(var h in b)t.setConfigProperty(g,h,b[h]);c&&t.reload(a)}}};t.setConfigProperty=function(b,c,g){if("object"!==typeof b||null==c||null==g)a.debug&&console.warn("setConfigure:",arguments);else{var e=b[c],f=String(b.type);if(-1===f.indexOf("gl_")){f=t.get(f);if(null==f){a.debug&&console.warn("setConfigure:",arguments);return}if(b.isConfig){if(null==
e||"type"===c||"toolkitId"===c)return;if("boolean"===typeof g.hidden){e.hidden=g.hidden;f=p.count(g);if(1===f)return;2===f&&(g=g.value)}if(e.noConfig)return}else{if(null==e)return b[c]=l.attrs.create(c,g);f=f.attributes;if(null==f)return;if(null==f[c]){a.debug&&console.warn("setConfigure:",arguments);return}}}g.getValue&&(g=g.getValue());if(null==g)return e;if(e.setValue)e.setValue(g);else if("boolean"===typeof e)if("boolean"===typeof g)b[c]=g;else return e;else if("number"===typeof e)if(r(g))b[c]=
g;else return e;else if("string"===typeof e)if("string"===typeof g)b[c]=g;else return e;else if("style"===e.constructor.type)if("style"===g.constructor.type||h.validate(g))b[c]=new h.create(g,e.constructor.method);else return e;else if(r(e.min+e.max))if(Array.isArray(g)){var f=r(g[0])?g[0]:0,k=r(g[1])?g[1]:0;if(1===g.length)e.min=e.max=d(e.format,f);else if(2===g.length)e.min=d(e.format,f),e.max=d(e.format,k);else return e}else e.min=d(e.format,g.min),e.max=d(e.format,g.max);else if(r(e.value))if(Array.isArray(g))g=
r(g[0])?g[0]:0,e.value=d(e.format,g);else if(r(g.value))e.value=d(e.format,g.value);else if(r(g))e.value=d(e.format,g);else return e;else b[c]=l.attrs.update(c,g,e);b["_"+c]&&delete b["_"+c];return e}};t.getConfig=function(b){var c=t.config[b];if(null==c)a.debug&&console.warn("getConfig:",b);else return c};t.getConfigFallback=function(a){a=a||k._tool.type;return k.selection.item||t.config[a]||window.glfx&&window.glfx.config[a]||{}};k.toolConfig=function(a,h,d){function l(a){x.state=a;k.emit("record",
{op:"SCENE_UPDATE",data:{pointerId:m,state:a,changes:H}})}switch(typeof a){case "string":a={};a.params=new f(a,h);a.selection=d;break;case "object":"string"===typeof a.param?a.params=new f(a.param,a.value):"object"!==typeof a.params&&(a={params:a});break;default:console.warn("invalid params",a);return}if(!e(a)){h=a.param;d=a.params;var r=k.selection.toObjects(a.selection||k.scene.selection);a=a.event||{};for(var x=a.env||{},m=k.eventPID(a),u=eventjs.getPointerState(a),A=!u||"start"===u,u=!u||"end"===
u,D=!!k.on.record,B=D&&(A||u),C=[],H=[],G,F=0,N=0,K=0,J=0,S=r.length;J<S;J++){var P=r[J],T=P.id,U=P.type;G||(G=U);G!==U&&(G="no");var I={id:T},X={id:T},W;u&&(W=!1);for(var Y in d){var O=d[Y],V="data-"+T+Y;A&&(x[V]=p.copy(P[Y]));t.setConfigProperty(P,Y,O);P.toolkit&&(P.toolkit.updateObjectSize(P),P.dirtyCheck=!0,F++);if(x[V]!==P[Y]||B)W=!0,I[Y]=x[V],X[Y]=P[Y],u&&k.scene.setDirtyPixelData(P)}C.push(I);H.push(X);u&&W&&(N++,c.useLocalAlpha[U]&&K++)}W=k._tool.type;G&&"no"!==G?(W=G,G=!0):G=!1;(G||!r.length)&&
u&&t.setConfig(W,d,!0);F&&k.render.throttle(a,K||1<F);k.history&&N&&k.history.store({cmd:"update",name:"Update "+(h?b.ucwords(g[h]||h):"Object"),data:{pointerId:m,from:C,to:H}});D&&(u?x.state&&l("end"):null==x.state?l("start"):l("change"))}};var g={visible:"visibility"}}})(sketch);
(function(m){function l(e){for(var f={},d=0,c;d<e.length;d++)if(c=e[d]){var a=c[0].toLowerCase()+c.substr(1);f[a]=c}return f}function k(e,f){f=l(f);(m.attrs[e]=function(d){var c=this;(this.setValue=function(a){if("undefined"!==typeof a){if("string"===typeof a){var b=f,h=document.createElement("span").style;h[e]=a;for(var d in b)a=h[e+b[d]],""!==a&&"initial"!==a&&(c[d]=a)}else for(b in f)"undefined"!==typeof a[b]&&(c[b]=a[b]);return c}})(d)}).type=e}var t=m.util,f=m.attrs={};k("background","Color Image Repeat Attachment Position Clip Origin Size".split(" "));
k("border","Width Style Color Radius ImageSource ImageSlice ImageWidth ImageOutset ImageRepeat".split(" "));k("padding",["Top","Left","Bottom","Right"]);k("margin",["Top","Left","Bottom","Right"]);f.filter=function(e){if(e)return"string"===typeof e?m.doc.scene.decompress.filter(e):e};f.create=function(e,k){return f[e]?new f[e](k):k};f.update=function(e,k,d){return d&&d.setValue?d.setValue(k):f.create(e,k)};f.__basicObject={bbox:"bbox",composite:"string",groupId:"string",id:"string",name:"string",
meta:"string",opacity:"number",pointerId:"string",seed:"number",timestamp:"number",toolkitId:"string",type:"string",visible:"boolean",zIndex:"number"};f.__styledObject=t.copyInto(f.__basicObject,{filter:"filter",fill:"style",stroke:"style",border:"border",background:"style",margin:"margin",padding:"padding"});f.__rules={exportable:"boolean",movable:"boolean",rotatable:"boolean",scalable:"boolean",selectable:"boolean",useAlignX:"string",useAlignY:"string",useBackgroundOverlay:"boolean",useConstrain:"boolean",
useConstrainX:"boolean",useConstrainY:"boolean",useControlNE:"boolean",useControlNW:"boolean",useControlSE:"boolean",useControlSW:"boolean",useHighRes:"boolean",useMaxCopies:"number",useMaxHeight:"number",useMaxWidth:"number",useMinHeight:"number",useMinWidth:"number",usePixelData:"boolean",useStickToBack:"boolean",useStickToFront:"boolean",useStretchToEdge:"boolean",useStretchToFit:"boolean"}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(e,d,c){function a(a,g){function h(){var b=c[a.toolkitId]||{},g=c[d];if(g||b.allTypes)return f.copyInto(g,f.copy(b))}a=f.copyInto(a,new k);a.globalPaint=!0;g=g||new function(){this[a.toolkitId]=!0};for(var d in g){var e;if(!c||(e=h()))z.cloneFrom(a,d,g[d]),"object"===typeof e&&b(d,e)}}function b(a,b){var c=z[a];f.each(b,function(a,b){if("allTypes"!==b){var g=c[b],h=typeof a;if(h===typeof g)if("object"===h){if(e.style.methods[b]){e.style.copyInto(a,g);return}if(a.getValue){h=
a.getValue();g.setValue&&g.type===a.type?(g.setValue(h),!0===a.hidden&&(g.hidden=!0)):console.warn("%c"+b,"color:red",a,g);return}}else{c[b]=a;return}else{if("object"===h&&"disable"===b){for(b in a)c[b].hidden=!0;return}if(g&&g.setValue){g.setValue(a);return}if(a&&!g){c[b]=a;return}}console.warn(b,a,g)}})}function h(a,b,c,g,h,d){return new m.Range(f.copyInto(d,{param:a,value:b,min:c,max:g,format:h}))}function p(a,b){return e.style?e.style.create(b,a):console.warn("requires sk.style")}function l(a){return new m.Range({param:"opacity",
value:isFinite(a)?a:100,min:.001,max:100,format:"%",gradient:["#333","#bbb"]})}function g(){return new m.Select({label:"blend",param:"composite",selected:"normal",title:"choose-blend",options:function(){return e.style.blendOptions()},onchange:function(a,b){d.setComposite(b,null,!0)}})}function q(a,b){return new m.SubTool({param:a,title:b})}function w(){return new m.Palette}if(null!=e){var z=this,y=e.dom,t=e.lang,x=e.ui,m=e.ui.vars;a({subtool:q("utility","utilities")},{crop:{toolkitId:"crop",ratio:new m.Select({options:function(){return x.DOC.param.preset},
param:"ratio",selected:"size:377x197,units:px,dpi:72",label:"aspect-ratio",title:"choose-aspect-ratio",onchange:function(a,b){var c={};c[a]=x.DOC.param.presetData[b];d._tool.update(c)}}),constrain:new m.Checkbox({checked:!0,label:"constrain",param:"constrain",title:"choose-constrain",onchange:function(a){var b={};b[this.param]=a;d._tool.update(b)}}),footer:new m.HTML({construct:function(a){return x.createFooter({ok:{title:"crop",className:"sk-yellow",onclick:function(){d._tool.apply()}}})}})},eyedropper:{toolkitId:"eyedropper"},
laserPointer:{toolkitId:"laserPointer"},screenshot:{toolkitId:"screenshot"},select:{toolkitId:"select",fill:p("fill"),stroke:p("stroke"),background:p("background")},zoom:{toolkitId:"zoom"}});a({toolkitId:"group",composite:g(),opacity:l()});a({toolkitId:"shape",subtool:q("shape","shapes"),palette:w(),composite:g(),fill:p("fill"),stroke:p("stroke")},{pie:{angle:h("angle",[0,270],0,360,"degree",{canCross:!0})},ring:{angle:h("angle",[0,360],0,360,"degree",{canCross:!0}),cutout:h("cutout",.5,0,.99,"%")},
ellipse:{cutout:h("cutout",0,0,.99,"%")},circle:{cutout:h("cutout",0,0,.99,"%")},rectangle:{roundness:h("roundness",0,0,1,"%"),cutout:h("cutout",0,0,.99,"%")},square:{roundness:h("roundness",0,0,1,"%"),cutout:h("cutout",0,0,.99,"%")},regularPolygon:{sides:h("sides",5,3,25,"int"),cutout:h("cutout",0,0,.99,"%")},triangle:{cutout:h("cutout",0,0,.99,"%")},gear:{sides:h("sides",30,2,100,"int"),slope:h("slope",.9,0,.99,"%"),cutout:h("cutout",0,0,.99,"%")},star:{sides:h("sides",5,2,50,"int"),slope:h("slope",
.5,0,.99,"%"),whirl:h("whirl",0,0,1,"float"),cutout:h("cutout",0,0,.99,"%")},burst:{sides:h("sides",5,2,50,"int"),slope:h("slope",.001,.001,10,"%"),cutout:h("cutout",0,0,.99,"%")},radialBurst:{sides:h("sides",12,2,100,"int"),spread:h("spread",.5,.01,1,"%")},spiral:{sides:h("sides",10,1,25,"int"),coils:h("coils",1,.001,10,"float"),spread:h("spread",1,1,100,"%")},supershape:{points:h("points",500,50,1E3,"int"),m:h("m",39,.1,50,"int"),n1:h("n1",1,.1,15,"float"),n2:h("n2",.9,.1,15,"float"),n3:h("n3",
.25,.1,15,"float"),cutout:h("cutout",0,0,.99,"%")}});a({toolkitId:"text",resource:new m.Resource({format:"text",label:"font",title:"choose-font"}),textAlignment:new m.HTML({construct:function(a){var b=y.create("div");b.className="sk-text-styles";f.each(["left","center","right","justify"],function(c){var g=["sk-button"];g.push("icon-paragraph-"+c);a.textAlign===c&&g.push("selected");var h=x.Button({container:b,tooltip:c,class:g.join(" "),onclick:function(){y.setClass({list:".sk-button",target:h.element,
name:"selected"});d.toolConfig({param:"textAlign",value:c})}})});return b}}),textStyles:new m.HTML({construct:function(a){var b=y.create("div");b.className="sk-text-styles";var c=a.textDecoration||"none",g={bold:{cssproperty:"fontWeight",value:"bold",defaults:"normal",enabled:"bold"===(a.fontWeight||"normal")},italic:{cssproperty:"fontStyle",value:"italic",defaults:"normal",enabled:"italic"===(a.fontStyle||"normal")},underline:{cssproperty:"textDecoration",value:"underline",defaults:"none",enabled:-1!==
c.indexOf("underline")},"line-through":{cssproperty:"textDecoration",value:"line-through",defaults:"none",enabled:-1!==c.indexOf("line-through")}};f.each(g,function(c){var h=c.cssproperty,e=c.defaults,f=c.value,q=x.Button({container:b,tooltip:c.value,class:"sk-button icon-"+(c.icon||c.value),onclick:function(){c.enabled=q.toggle("selected");var a=[];"textDecoration"===h?(g.underline.enabled&&a.push("underline"),g["line-through"].enabled&&a.push("line-through")):c.enabled&&a.push(f);d.toolConfig({param:h,
value:a.join(",")||e})}}).element.classList,k=a[h];k&&-1!==k.indexOf(f)&&q.add("selected")});return b}}),lineBreak:new m.HTML({construct:function(a){return y.create('<div class="sk-break" style="margin: 10px 0 0;"></div>')}}),palette:w(),composite:g(),fill:p("fill"),stroke:p("stroke"),background:p("background"),content:"",fontWeight:"normal",fontSize:h("fontSize",30,1,120,"px"),fontFamily:"Arial",fontVariant:"normal",fontStyle:"normal",lineHeight:h("lineHeight",1,1,2.5,"em"),letterSpacing:h("letterSpacing",
0,0,20,"px"),wordSpacing:h("wordSpacing",0,0,20,"px"),textAlign:"center",textDecoration:"none",textTransform:"none",whiteSpace:"pre-wrap"});a({toolkitId:"media",subtool:q("media","media"),composite:g(),opacity:l(),hue:h("hue",0,0,360,"degree",{gradient:"#f00 #ff0 #0f0 #0ff #00f #f0f #f00".split(" ")}),saturation:h("saturation",1,0,3,"float",{gradient:"#ffffff #ffffbf #9eff9e #7ffffa #5e5eff #ff3fff #f00".split(" ")}),temperature:h("temperature",0,-32,32,"float",{gradient:["#568fcf","#f7e146"]}),tint:h("tint",
0,-32,32,"float",{gradient:["#00ae47","#c73baf"]}),exposure:h("exposure",1,0,2,"float",{gradient:["#333","#bbb"]}),brightness:h("brightness",0,-100,100,"%",{gradient:["#333","#bbb"]}),contrast:h("contrast",0,-.5,.5,"float",{gradient:["#bbb","#333"]})},{image:!0,video:!0});a({toolkitId:"camera",subtool:q("media","media"),video:new m.HTML({construct:function(a){var b=d.toolkit.camera;a=b.userMedia;var c=y.create("div");c.className="sk-video-container";var g=y.append(c,"title");g.className="sk-title";
g.innerHTML=t.translate("presets");g=y.append(c,"div");g.className="sk-yellow button";g.textContent=t.translate("take-snapshot");eventjs.add(g,"click",function(){b.capture()});a.$container?c.appendChild(a.$container):e.module.getUserMedia({userMedia:b.userMedia,onsuccess:function(){x.configurePane(null,!0)}});return c}}),composite:g(),opacity:l()});a({toolkitId:"media",subtool:q("media","media")},{clipart:{filePicker:new m.FilePicker("clipart"),resource:new m.Resource({format:"clipart",label:"clipart",
title:"choose-clipart"}),src:"clipart/animals/1216139760278927551lemmling_Cartoon_cow.svg",composite:g(),opacity:l()},symbol:{palette:w(),composite:g(),fill:p("fill"),opacity:l()}});a({toolkitId:"speechbubble",subtool:q("media","media"),composite:g(),opacity:l()});a({toolkitId:"vectorfill",palette:w(),composite:g(),fill:p("fill"),opacity:l()});a({toolkitId:"brush",subtool:q("brush","brushes"),palette:w(),composite:g(),fill:p("fill",{enabled:!1}),stroke:p("stroke",{enabled:!0,lineWidth:2}),interval:1,
spacing:{min:1,max:25},footer:new m.HTML({construct:function(a){function b(a){for(var c in d.render.pointer);a=d.render.pointer[c];a.object.brush.closePath();a.object.brush.savePath()}function c(a){for(var b in d.render.pointer);d.render.pointer[b].object.brush.savePath()}if("select"!==d._tool.type)return"polygon"===a.type?x.createFooter({className:"buttons",ok:{title:"close path",className:"sk-yellow",onclick:b}}):x.createFooter({className:"buttons",ok:{title:"finish editing",className:"sk-yellow",
onclick:c},cancel:{title:"close path",className:"sk-yellow",onclick:b}})}})},{path:!0,polygon:!0,polyline:!0,scissor:{opacity:{hidden:!0},fill:{hidden:!0},stroke:{hidden:!0},buttons:{hidden:!0}}});a({toolkitId:"brush",subtool:q("brush","brushes"),palette:w(),composite:g(),fill:p("fill"),stroke:!1,interval:1,spacing:{min:1,max:25}},{arrow:{diameter:h("diameter",35,1,150,"px"),curved:new m.Checkbox({checked:!1,label:"curved",param:"curved"})},eraser:{subtool:{hidden:!0},palette:{hidden:!0},fill:{hidden:!0},
opacity:l(),composite:"destination-out",diameter:h("diameter",40,1,250,"px"),blur:h("blur",0,0,100,"%")},paintbrush:{diameter:h("diameter",40,1,250,"px"),blur:h("blur",10,0,100,"%")},pencil:{diameter:h("diameter",2,1,250,"px")},textbrush:{diameter:h("diameter",10,1,100,"px"),content:new m.Textarea({label:"content",param:"content",value:"\u201cThe quick brown fox jumps over the lazy dog\u201d is an English-language pangram \u2013 a phrase that contains all of the letters of the English alphabet."})},
streamer:{diameter:h("diameter",[.001,15],.001,150,"px"),spacing:{min:5,max:f.INFINITY}},pen:{diameter:h("diameter",[.5,10],.001,50,"px"),spacing:{min:5,max:f.INFINITY}},calligraphy:{diameter:h("diameter",10,1,100,"px")},chrome:{spacing:{min:1,max:100},lineWidth:h("lineWidth",1,.1,5,"px"),spread:h("spread",15,1,50,"px"),lookback:2E3},shader:{spacing:{min:1,max:3},lineWidth:h("lineWidth",.5,.1,5,"px"),spread:h("spread",40,1,50,"px"),lookback:2E3},sketchy:{spacing:{min:1,max:100},lineWidth:h("lineWidth",
1,.1,5,"px"),spread:h("spread",25,1,100,"px"),lookback:2E3},web:{spacing:{min:1,max:100},lineWidth:h("lineWidth",1,.1,5,"px"),spread:h("spread",25,1,100,"px"),lookback:2E3},fur:{spacing:{min:1,max:10},lineWidth:h("lineWidth",1,.1,25,"px"),diameter:h("diameter",75,1,750,"px"),lookback:2E3},hair:{spacing:{min:1,max:5},lineWidth:h("lineWidth",.5,.1,10,"px"),diameter:h("diameter",50,1,250,"px"),lookback:5},spirograph:{lineWidth:h("lineWidth",.1,.1,5,"px"),diameter:h("diameter",25,1,250,"px"),contract:.005,
radius:h("radius",[.4392920353982301,.3516814159292035],0,1,"%",{canCross:!0}),speed:h("speed",100,1,100,"float"),spacing:{min:1,max:5}},spraypaint:{spacing:{min:1,max:50},diameter:h("diameter",70,25,250,"px")},crayon:{rotate:h("rotate",[0,360],0,360,"degree",{hidden:!0}),diameter:h("diameter",19,3,100,"px")},stamp:{toolkitId:"brush",subtool:q("brush","brushes"),resource:new m.Resource({format:"stamp",label:"stamp",title:"choose-stamp"}),palette:w(),composite:g(),fill:p("fill"),diameter:h("diameter",
100,5,500,"px"),rotate:h("rotate",[0,360],0,360,"degree",{canCross:!0}),scale:h("scale",[.05,1.5],.05,3,"x"),translate:h("translate",[0,0],0,250,"px"),spacing:h("spacing",[12,f.INFINITY],1,250,"px"),interval:1},floodfill:{spacing:!1,tolerance:h("tolerance",20,1,100,"%"),antialias:!1,contiguous:new m.Checkbox({checked:!0,label:"contiguous",param:"contiguous"})},oil:{spacing:{min:1,max:1},blend:.98,bristles:8,diameter:h("diameter",50,1,100,"px")},pastel:{spacing:!1,blend:.97,bristles:35,rotate:h("rotate",
[0,360],0,360,"degree",{hidden:!0}),diameter:h("diameter",25,3,42,"px")}});z.setPresetValues("defaults",z);return z}}function k(){}function t(e,d,c){this.type=e;this.config=d;this.base=c}var f=m.util;m.module=m.module||{};m.module.Configure=l;Object.defineProperty(k.prototype,"isConfig",{value:!0});var e=l.prototype;e.presets={};e.cloneFrom=function(e,d,c){"string"===typeof e&&(e=this[e]);null==e?console.error("Invalid baseConfig in config.cloneFrom(...)"):(e=f.copy(e),e.type=d,this[d]=e,"object"===
typeof c&&f.each(c,function(a,b){null===a?delete e[b]:e[b]=a}))};e.setPresetValues=function(e,d){e=this.presets[e]||(this.presets[e]={});f.each(d,function(c,a){e[a]=f.copy(c)}.bind(this))};e.get=function(e,d){var c;if(c=d?this.presets[d]:this)return new t(e,c,this);console.error("preset not defined",id)};(function(e){function d(c,a){var b={};f.each(c,function(a,d){var e=m.doc.scene.copyConfig(c[d]);e&&(b[d]=e)});return b}e.set=function(c){m.docs.forEach(function(a){"tools"===this.type?f.each(this.config,
function(b,h){a.toolkit.setConfig(h,c)}):a.toolkit.setConfig(this.type,c)}.bind(this))};e.reset=function(){var c=this.base.get(this.type,"defaults").values();c&&this.set(c)};e.json=function(c){return JSON.stringify(this.values(c))};e.values=function(c){return"tools"===this.type?d(this.config,c):m.doc.scene.copyConfig(this.config[this.type])}})(t.prototype)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){(m.module=m.module||{}).ToolPrototype=function(l,k,t){function f(a){function h(a,b){var c=t.config.get(a.type,b).values(),c=g.copyProperties(f,c,{});return g.copyProperties(f,a,c)}var f=new (l.toolkit(a))(l,k),r=k.render,g=k.scene;f.type=a;f.updateObjectSize=f.updateObjectSize||function(a,b){b&&b(a)};m.useDefaultDim[a]&&(a=d.tools[a],f.units=a.units||f.units,f.minWidth=a.minWidth||f.minWidth,f.minHeight=a.minHeight||f.minHeight,f.maxWidth=a.maxWidth||f.maxWidth,f.maxHeight=a.maxHeight||
f.maxHeight,f.defaultWidth=a.defaultWidth||f.defaultWidth,f.defaultHeight=a.defaultHeight||f.defaultHeight);f.draw=e.draw.ctx;f.cache=e.cache.ctx;f.active=e.active.ctx;f.ctx=e.layer0.ctx;f.attributes=f.attributes||c.copyInto(l.attrs.__styledObject,{});f.device=f.device||{};f.gestures=0;f.interval=0;f.rendering=!1;f.toolkitId=f.id;f.config={};f.config.mergeCurrent=function(a){return h(a,"")};f.config.mergeDefaults=function(a){return h(a,"defaults")};f.gesture={};f.gesture.create=function(a){var b=
k.eventPID(a),c=r.pointer[b];if(!c||!c.object)if(a.event&&a.pointerStart)c=r.addPointer(b),c.isFromBrowser=!0,c.object=g.copyProperties(f,f.device,new k.scene.SKObject),c.object.pointerId=b,c.object.id=g.createId({id:b});else{console.warn("tool.onRecord: no pointer");return}c.lastModified=Date.now();b=c.object;if("function"!==typeof b.render)a.waitFor(f.loadResource(b)).catch(function(){console.error(arguments);r.removePointer(k.eventPID(a))});else return c};f.gesture.end=function(a,b){return f.createObject({object:a,
useHistory:b}).then(function(a){r.removePointer(a.pointerId);return a}).catch(function(b){r.removePointer(a.pointerId);console.error(b)})};f.gesture.cancel=function(a){r.removePointer(a)};return galactic.emitter(f)}var e=k.contexts,m=l.detect,d=l.feature,c=l.util,a=l.vector;t.init=function(){var b={},c;for(c in t.config){var d=t.config[c].toolkitId,e=!l.toolkit(d);l.toolkit(d+"."+c)?m.add(d,c):a.Shape[c]?m.add(d,c):-1===c.indexOf(".")&&"media"===d&&t.media&&(0===c.indexOf("gl_")?window.glfx&&m.add(d,
c):m.add(d,c));b[d]||e||(b[d]=!0,m.add(d,c),t[d]=f(d))}t.emit("init")}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.module=m.module||{},k={};m.toolkit=function(l,f){if("function"===typeof f)if("object"===typeof l&&l.length)for(;l.length;)m.toolkit(l.shift(),f);else k[l]=f;else return"*"===l?k:k[l]};l.Toolkit=function(k,f){var e=galactic.emitter(this);l.Tool(k,f,e);l.ToolConfig(k,f,e);l.ToolPrototype(k,f,e);var m=k.detect,d=k.feature,c=k.lang,a=k.util,b=k.vector;e.setType=function(a,b){function d(b,g){b.dirtyCheck=!0;y.updateObjectSize(b);--q||(f.history&&f.history.store({cmd:"update",name:c.translate("convert-format",
c.translate(a)),data:{from:k,to:l}}),f.render.dirtyControls=!0,f.render.dirty=!0)}var g=f.selection.toObjects(b||f.selection.items),q=g.length;if(0===q)return f.tool(a.replace(" ","_"));for(var k=[],l=[],y=e.get(a),v=f.scene.copyAttributes(y.attributes,e.getConfig(a)),x=0,t=g.length;x<t;x++){var E=g[x];if(m.shape[E.type]){if(!m.shape[a]){q--;continue}}else if(m.brush[E.type]){if(!m.brush[a]){q--;continue}}else{q--;continue}(y=E.toolkit)?(k.push(f.scene.copyConfig(E)),E.type=a,"arrow"===a&&(E.curved=
E.data&&2===E.data.length?!1:!0),v.fill||(v.fill=null),v.stroke||(v.stroke=null),v.spacing||(v.spacing=null),f.scene.copyAttributes(y.attributes,v,E,{nullDeletion:!0,filter:function(a,b){return typeof a===typeof b}}),l.push(f.scene.copyConfig(E)),y.loadResource(E).then(function(a){d(a)},function(a){d(E,a)}).catch(function(a){console.error(a)})):q--}};e.get=function(a){if(a=e.getToolkitId(a))return e[a]};e.getToolkitId=function(a){if(e[a])return a;if(m.shape[a])return"shape";if(m.brush[a])return"brush";
if(m.media[a])return"media"};e.feats=function(a){a=a||{};var b=d.tools;return b[a.type]||b[a.toolkitId]||{}};e.ensure=function(a){if(a.toolkit)return a.toolkit;var b=e.get(a.type);if(b)return a.toolkit=b};e.setStyle=function(a,b){var c=e.getBBox(b);if(c){var g=b.fill,d=b.stroke,k=b.shadow;d&&d.enabled&&d.lineWidth&&(a.globalAlpha=d.opacity||1,a.strokeStyle=f.getW3CStyle("stroke",a,c.x1,c.y1,c.x2,c.y2,b),a.stroke());g&&g.enabled&&(a.globalAlpha=g.opacity||1,a.fillStyle=f.getW3CStyle("fill",a,c.x1,
c.y1,c.x2,c.y2,b),a.fill());k&&k.enabled&&(a.shadowColor=k.color,a.shadowBlur=k.blur,a.shadowOffsetX=k.x,a.shadowOffsetY=k.y)}else console.error(b)};e.setGlobalAlpha=function(a,b){var c=isFinite(b.opacity)?b.opacity/100:1;a.globalAlpha=m.useFillAlphaOnGlobal[b.type]?c*b.fill.opacity:c};e.getBBox=function(a){var c=((a.diameter||0)+(a.lineWidth||0)+(a.blur||0))/2;if(a.bbox&&!a.isRecording){var d=a.bbox,g=-d.padding,e=-d.padding;return{x1:g,y1:e,x2:g+d.width,y2:e+d.height}}if(a.lineRecord&&(g=a.path,
e=g[0],d=g[1],e&&d)){var g=e.x,e=e.y,f=d.x,k=d.y;return{x1:Math.min(g,f)-c,y1:Math.min(e,k)-c,x2:Math.max(g,f)+c,y2:Math.max(e,k)+c}}if(a.calcBBox)return a.calcBBox();if(a.isRecording)return g=a.path,e=g.length,d=a.isGhost?{x1:Infinity,y1:Infinity,x2:-Infinity,y2:-Infinity}:a._bbox||new b.BBox({data:g,expand:c}),k=g[e-1],g=k.x-c,f=k.x+c,e=k.y-c,k=k.y+c,g<d.x1&&(d.x1=g),e<d.y1&&(d.y1=e),f>d.x2&&(d.x2=f),k>d.y2&&(d.y2=k),a._bbox=d};e.getToolGroup=function(b){if(b){b=b.replace("_"," ");var c=k.ui.icons,
d;for(d in c){var g=c[d];if(g.children&&(g.children.length&&(g.children=a.arrayToObject(g.children)),g.children[b]))return d}}};e.cleanState=function(a){"down"===a&&(a="start");if("move"===a||"press"===a)a="change";"up"===a&&(a="end");return a};(function(){function a(b,c){return Number.isFinite(b)&&b!==c}e.readResize=function(b){var c=b.width;b=b.height;if(a(c,0)||a(b,0))return{width:c||0,height:b||0}};e.readRotate=function(b){if((b=b.rotate)&&a(b,0))return b};e.readScale=function(b){var c,g=b.scale;
g?Number.isFinite(g)?b=c=g:(c=g.x,b=g.y):(c=b.sx,b=b.sy);if(a(c,1)||a(b,1))return{x:c||1,y:b||1}};e.readTranslate=function(b){var c,g=b.translate;g?(c=g.x,b=g.y):(c=b.x,b=b.y);if(a(c,0)||a(b,0))return{x:c||0,y:b||0}}})()}})(sketch);
(function(m){m.toolkit("group",function(l,k){var t=this,f=l.util;t.id="group";t._attributes={opened:!1};t.attributes=function(){var e=f.copy(t._attributes);return f.copyInto(l.attrs.__basicObject,e)}();t.enable=function(){};t.disable=function(){};t.loadResource=function(e,f){return new Promise(function(d,c){e.render=function(){};d(e)})};t.createObject=function(e){return new Promise(function(f,d){var c=e.object,a=c.children||[],b=0,h=k.scene.addObject({type:t.type,composite:c.composite,opacity:c.opacity,
groupId:c.groupId,bbox:c.bbox});(function r(){var g=a[b++];g?("group"!==g.type&&(g.groupId=c.groupId,c.x&&(g.x=(g.x||0)+c.x),c.y&&(g.y=(g.y||0)+c.y)),k.scene.add(g,r,r)):f(h)})()})}})})(sketch);
(function(m){m.toolkit("select",function(l,k){function t(){h.renderControls(!0)}function f(){var a=k.selection.item;a&&"text"===a.type&&p.text&&p.text.updateCSSTransform()}function e(a,b){if(null==b)console.error("setProxy",arguments);else return a.proxy(function(a,g){b(a,g);k._interacting=!g.pointerEnd;if(g.pointerEnd)c.onDrag(a,g,!0)})}function m(a){var c=eventjs.metaKey,g=eventjs.shiftKey;c&&h.selection.items[a]?h.deselectByIdx(a):h.selectByIdx(a,!c&&!g);h.handleSelection();b.dirtyControls=!0;
b.dirty=!0}function d(a){p.tool("path").then(function(){p.brush.loadResource(a).then(function(){for(var b=0;b<a.data.length;b++)delete a.data[b].bbox;var b=g.copy(a.data),c=g.copy(a.data),d=k._tool,h=d.device.brush;h.batchRecord=b;h.pathRecord=c;h.renderTo=d.ctx;h.ctx=d.ctx;h.active=d.active;h.isEditing=!0;h.isRecording=!0;h.render(a)}).catch(function(a){console.error(a)})})}var c=this,a=l.feature,b=k.render,h=k.scene,p=k.toolkit,r=l.ui,g=l.util,q=l.vector.Point;c.id="select";c.type="select";c.usePreventSelection=
!1;c.events={};c.enabled=!1;c.enable=function(a){if(!0!==c.enabled){a=a||{};c.usePreventSelection=a.cancelSelection||!1;c.searchParam=a.searchParam||{selectable:!0};c.enabled=void 0===a.events;a=a.events||c.events;var b=c.active.canvas;a.resize=l.on("resize",f);a.scroll=l.on("scroll",f);a.mouseout=eventjs.add({target:b,type:"mouseout",listener:function(){k.emit("tooltip",null)}});a.context=eventjs.add({target:b,type:"contextmenu",listener:c.onContext});a.mousemove=eventjs.add({target:b,type:"mousemove",
listener:c.onCursor,strict:!0});l.keyboard&&l.keyboard.listen(k,a);c.enabled&&(a.onMetaKey=k.keyboard.on("metaKey",t),a.onShiftKey=k.keyboard.on("shiftKey",t));a.dragOrGesture=eventjs.proxy.dragOrGesture({target:b,ongesture:{listener:c.onGesture,maxFingers:2},ondrag:{listener:c.onDrag,maxFingers:1}})}};c.disable=function(){!1!==c.enabled&&(c.enabled=!1,eventjs.bulk(c.events,"remove"),k.emit("tooltip",null))};c.onCursor=function(a){if(!k._interacting){var d=h.pointInCanvasFromEvent(a);d.event=a;if(!c.on.pointer||
!c.on.pointer(d)){var e,f=0;c.usePreventSelection?e=g.copy(h.controls):(e=h.children.concat(h.controls),f=h.children.length);var q=h.findAtPoint({point:d,objects:e,searchParam:c.searchParam,getArray:!0});a="";for(var l=h.controlHoverArray=[],t=0,m=q.length;t<m;t++){var u=q[t],B=e[u];"button"===B.type&&(l.push(B.id),a+=B.id)}u=q[q.length-1];B=Math.max(0,u-f);f=h.controls[B]||{};e=(B=h.children[u]||h.getById(f.layerId))?B.zIndex:void 0;h.control.id!==a&&(b.dirtyControls=!0,h.control.changed=!0,h.control.id=
a);h.controlHover=f;k._tool.coord=d;d=k.hovered;u=k.selection.idx;void 0===u&&d.item&&p.feats(d.item).useHoverAsFocus&&(u=d.idx);B&&void 0!==e||void 0!==u?B?d.items[e]||(d.select(e,!0),h.renderControls(),k.emit("hover",e)):d.items[u]||(d.select(u,!0),h.renderControls(),k.emit("hover",u)):d.length&&(d.empty(),h.renderControls(),k.emit("hover"));k.emit("tooltip",f.title);r.setCursor(f,B)}}};c.onDrag=function(g,f,l){eventjs.prevent(g);if(2!==f.fingers){var t=f.pointerStart,x=f.pointerEnd,L=f.pointerMoved,
E=eventjs.metaKey,A=eventjs.shiftKey;k._interacting=f.pointerDown;if(x)var D=c.__idx,B=c.__control||{};else t?(D=h.pointInCanvasFromEvent(g),B=h.findAtPoint({point:D,objects:h.controls,searchParam:c.searchParam}),D=c.usePreventSelection?void 0:h.findAtPoint({point:D,objects:h.children,selection:k.selection.items,searchParam:c.searchParam,useFocusPriority:!1}),B=h.controlHover=h.controls[B]||{},c.__idx=D,c.__control=B):B={};if(!c.on.pointer||!c.on.pointer(f)){if(B.id)if(x){if(k.selection.length&&(D=
h.pointInCanvasFromEvent(g),D.searchParam=c.searchParam,D=h.findAtPoint({point:D}),g=h.children[D])){if(k.selection.idx===D){var C=Date.now(),H=1E3>C-c.__clickTime,G="text"===g.type;if(a.beta&&("path"===g.type||"polyline"===g.type)&&(H||a.tools.brush.useEditByClick)){d(g);return}if(G&&(H||a.tools.text.useEditByClick)){p.text.show(g);return}if(H||eventjs.metaKey&&c.__clickTime){if(c.__clickTime=null,!L&&a.tools.select.clickToDeselect){h.deselectAll();b.dirtyControls=!0;b.dirty=!0;r.configurePane();
return}}else{c.__clickTime=C;return}}if(!L){m(D);return}}}else{if("function"===typeof B.event){e(f,B.event.call(B,g));return}}else if(x&&(c.__clickTime=null,g=h.children[D])){var F=p.feats(g);if(F.usePointInPath){b.dirty=!0;return}}if(l)L?void 0===B.id&&(k.hovered.select(D,!0),k.emit("hover",D)):m(D);else if(!x||"anchor"!==B.id||L||A||E){l=void 0!==D;x=k.selection.length;L=p.text&&p.text.dragging;!t||l||!x||A||E||L||(h.deselectAll(),b.dirtyControls=!0,b.dirty=!0);if(t&&k.selection.items[D]&&!E)return h.handleSelection(),
e(f,p.moveEvent());if(!l||A||E){if("select"===k._tool.id&&t)return f.proxy(function(a,g){a:{eventjs.prevent(a);var d=g.env,e=g.pointerStart,f=g.pointerDrag,l=g.pointerEnd,p=g.moved(1),r=eventjs.metaKey;e&&(d.scrollX=k.scrollX,d.scrollY=k.scrollY,k.emit("tooltip",null));var w=g.x+(k.scrollX-d.scrollX),d=g.y+(k.scrollY-d.scrollY),y=g.start,z=y.x,t=y.y,y=Math.min(z,w)-.01,x=Math.min(t,d)-.01,w=Math.max(z,w)+.01,d=Math.max(t,d)+.01,w=h.pointsIn("pointInSceneFromCanvas",[q(y,x),q(w,d)]);if(p)p=h.findInRect({rect:w,
deselect:r});else if(l){var v=h.findAtPoint({point:h.pointInCanvasFromEvent(a),searchParam:c.searchParam}),p={};p[v]=!r||!k.selection.items[v]}else break a;if(e||f)v=w[0],e=w[1],h.controlSelection={x:v.x+.5,y:v.y+.5,width:e.x-v.x,height:e.y-v.y,scrollX:k.scrollX,scrollY:k.scrollY,items:p,metaKey:r};else if(l){h.controlSelection=void 0;r=[];e=[];for(v in p)p[v]?r.push(v):e.push(v);k.hovered.select(v,!0);k.emit("hover",v);r.length&&h.selectByIdx(r,!1);e.length&&h.deselectByIdx(e);h.handleSelection()}b.dirtyControls=
!0}k._interacting=!g.pointerEnd});if(k._tool.onRecord)return h.deselectAll(),F=p.feats(k._tool),f.proxy(function(a,b){F.useAddByDrag?(k._tool.onRecord(a,b),k._interacting=!b.pointerEnd):eventjs.prevent(a)})}if(isFinite(D))return m(D),c.__clickTime=Date.now(),e(f,p.moveEvent())}else m(D)}}};c.onGesture=function(c,g){var d=g.state,h=g.env,e=g.scale,f=g.rotation,l=g.x,r=g.y;g.pointerStart&&(h.cache={},h.rotate=0,h.scale=1,h.origin=q(l,r),h.x=l,h.y=r);var t=l-h.x,m=r-h.y,u=f-h.rotate,H=e-h.scale+1;a.doc.gestureTransform&&
k.selection.length?(k.selection.transform({cache:h.cache,state:p.cleanState(d),pointerId:k.eventPID(g),origin:h.origin,rotate:u,scale:H,x:t,y:m}),b.dirty=!0,b.dirtyControls=!0,h.rotate=f,h.scale=e):(a.doc.gestureZoom&&k.setZoom(H),a.doc.gestureScroll&&k.scrollTo({left:-Math.round(t),top:-Math.round(m),relative:!0,duration:0}));h.x=l;h.y=r};c.onContext=function(a,b){if(!b||"end"!==b.state){eventjs.prevent(a);var g=r.contextMenu.getSelectMenu();if(g){c.events.dragOrGesture&&c.events.dragOrGesture.pause();
var d=eventjs.getPageXY(a);d.x+=5;d.y-=5;r.contextMenu.show({at:d,menu:g})}}}})})(sketch);
(function(m){m.toolkit("zoom",function(l,k){function t(a,c){eventjs.prevent(a);var d=b.zoom.value,e=c.x-c.start.x,f=c.y-c.start.y;"up"===c.state&&(b.zoom.fromCenter?b.setZoomAtCenter():b.setZoomAtPoint(a),h.setDirtyBounds());var l=k.pixelRatio;b.offset.x+=(e-b.lx)/d*b.mirrorX*l;b.offset.y+=(f-b.ly)/d*b.mirrorY*l;b.lx=e;b.ly=f;b.render()}function f(a){b.lx=0;b.ly=0;p.drag=eventjs.proxy.drag({fingers:1,event:a,target:b.canvas,listener:t})}function e(a,c){eventjs.cancel(a);"end"===c.state&&h.setDirtyBounds();
b.setZoomAtPoint(a);var d=b.zoom.value;b.setZoom(d*(1+c.wheelDelta/120/2),!0);b.render();b.controllerSetZoom&&d!==b.zoom.value&&b.controllerSetZoom(b.zoom.value)}function m(a){eventjs.keyTracker(a);var c=b.zoomMin,c=b.zoom.value/(b.zoomMax-c+c),d=a.shiftKey?10:1;switch(a.keyCode){case 37:eventjs.metaKey?(eventjs.cancel(a),b.setRotate(b.rotate.value+d)):(b.setPan(-1*d,0),b.render());break;case 39:eventjs.metaKey?(eventjs.cancel(a),b.setRotate(b.rotate.value-d)):(b.setPan(d,0),b.render());break;case 38:eventjs.metaKey?
(eventjs.cancel(a),b.setZoom(c-.01*d)):b.setPan(0,-1*d);b.render();break;case 40:eventjs.metaKey?(eventjs.cancel(a),b.setZoom(c+.01*d)):b.setPan(0,d),b.render()}}var d=this,c=k.contexts,a=l.dom,b=k.orient,h=k.scene;d.id="zoom";var p={};d.enabled=!1;d.enable=function(){if(!1===d.enabled){d.enabled=!0;l.keyboard&&l.keyboard.listen(k,p);var b=a.$("#sk-orientation");b&&b.classList.add("sk-opened");p.mousedown=eventjs.add(c.active,"mousedown",f);p.wheel=eventjs.add(c.active,"wheel",e);p.key=eventjs.add(window,
"keyup",eventjs.keyTracker);p.keydown=eventjs.add(window,"keydown",m);p.gesture=eventjs.add({fingers:2,target:window,type:"gesture",listener:d.onGesture})}};d.disable=function(){if(!0===d.enabled){d.enabled=!1;var b=a.$("#sk-orientation");b&&b.classList.remove("sk-opened");eventjs.bulk(p,"remove")}};b.lx=0;b.ly=0;d.onGesture=function(a,c){var d="end"===c.state;"start"===c.state?(p.drag&&p.drag.enabled&&p.drag.remove(),c.startScale=k.zoom,c.__x=c.x,c.__y=c.y):d&&p.drag&&p.drag.add();if(c.startScale&&
c.scale){var d=eventjs.getBBox(b.canvas),h=k.pixelRatio;b.mouse.x=c.x*h-d.x1;b.mouse.y=c.y*h-d.y1;b.offset.x+=(c.x-c.__x)/k.zoom;b.offset.y+=(c.y-c.__y)/k.zoom;k.orient.setZoom(c.startScale*c.scale);k.orient.render()}c.__x=c.x;c.__y=c.y}})})(sketch);
(function(m){function l(f,e,k){k.cutout?(f.apply(f,e.concat(!1)),e[3]*=k.cutout,f.apply(f,e.concat(!0))):f.apply(f,e)}var k=m.util;m.toolkit("shape",function(f,e){function l(a,c,g,d,h,f){a.width=c;a.height=g;f&&(a.scale.x=1,a.scale.y=p.useNonUniform[f]?.5:1);var q=e.zoom*e.scale*e.pixelRatio,r=d.x-b.x/q;d=d.y-b.y/q;h||f?(a.x=r-c/2*a.scale.x,a.y=d-g/2*a.scale.y,"userSpaceOnUse"===a.units&&(c=y(r,d),y.rotateAt(a,c,a.rotate*k.DEG_RAD))):(a.x=r,a.y=d)}function d(a,b,g){var d=this.bbox,h=d.width,q=d.height;
b=d.scale.x*e.scale;var d=d.scale.y*e.scale,k=0>b,l=0>d,p=h/2*(k?-1:1),r=q/2*(l?-1:1),y=Math.max(h,q)/2,z=f.toolkit("shape."+this.type);"function"!==typeof z?console.error("shape.renderFast",this):(g&&(k&&(p+=h),l&&(r+=q)),1===b&&1===d?(a.beginPath(),z(a,p,r,y,this)):(a.save(),a.beginPath(),a.scale(b,d),z(a,p,r,y,this),a.restore()),(h=this.fill)&&!1!==h.enabled&&h.opacity&&(a.globalAlpha=h.opacity,c(a,"fill",b,d,g,this)),(h=this.stroke)&&!1!==h.enabled&&h.lineWidth&&h.opacity&&(w.applyStroke(a,h,
!1),c(a,"stroke",b,d,g,this)))}function c(a,b,c,g,d,h){c=h[b];var f=c.type,q=b+"Style";if("destination-out"===h.composite)a[q]="#000",a[b]();else if("color"===f)a[q]=c.color,a[b]();else{var k=h.bbox;g=k.scale;c=g.x;g=g.y;var l=k.width,k=k.height,p=l,r=k,w=0,y=0;"gradient"!==f||d||(0>c&&(p-=l,w-=l),0>g&&(r-=k,y-=k));"pattern"===f&&"fill"===b?(a.save(),a.scale(c,g),a[q]=e.getW3CStyle(b,a,p,r,w,y,h),a[b](),a.restore()):(a[q]=e.getW3CStyle(b,a,p*c,r*g,w*c,y*g,h),a[b]())}}var a=this,b=e.canvas2d,h=e.contexts,
p=f.detect,r=f.feature.tools.shape,g=e.render,q=e.scene,w=f.style,z=e.toolkit,y=f.vector.Point;a.id="shape";a.units=r.units;a._attributes={angle:"number",anticlockwise:"number",coils:"number",cutout:"number",whirl:"number",imperfection:"number",m:"number",n1:"number",n2:"number",n3:"number",points:"number",roundness:"number",sides:"number",slope:"number",spread:"number"};var t=k.copy(a._attributes);a.attributes=k.copyInto(f.attrs.__styledObject,t);(function(){var b={};a.enabled=!1;a.enable=function(){!1===
a.enabled&&(a.enabled=!0,b.dragOrGesture=eventjs.proxy.dragOrGesture({target:h.active,ongesture:{listener:z.select.onGesture},ondrag:{listener:a.onRecord,maxFingers:a.usePointerMax||k.INFINITY}}),f.keyboard&&f.keyboard.listen(e,b))};a.disable=function(){!0===a.enabled&&(a.enabled=!1,eventjs.bulk(b,"remove"))}})();a.loadResource=function(a,b){return new Promise(function(b,c){var g=a.type;e.toolkit.config[g]?e.loadStyle(a).then(function(){a.dirtyCheck=!0;a.render=d;a.seed=a.seed||k.Random.seed();b(a)}):
c({fatal:!0,message:g+" unavailable"})})};a.createObject=function(b){var c=b.useHistory;b=b.object;var g=b.bbox;g.width!==g.height&&(g.width>g.height?(g.scale.y=g.height/g.width,g.height=g.width):(g.scale.x=g.width/g.height,g.width=g.height));b=a.config.mergeDefaults(b);return a.loadResource(q.addObject(b,{useHistory:c}))};a.onRecord=function(b,c){var d=c.state,h=c.pointerDown,f=c.pointerStart,w=c.pointerEnd,y=e.eventPID(c),t=isFinite(c.shiftKey)?c.shiftKey:eventjs.shiftKey,m=isFinite(c.metaKey)?
c.metaKey:eventjs.metaKey,v=!!b,N=v&&e.on.record;e._interacting=h;v&&(f||w?eventjs.prevent(b):eventjs.cancel(b));h=a.gesture.create(c);if(null!=h){var K=h.object,J=K.type;f&&(h.env={},h.env.start={x:c.x,y:c.y},h.env.useHighRes=K.useHighRes);if(N){var S;f&&(S=q.copyDeepCompress(q.copyProperties(a,K)));e.emit("record",{op:"TOOL",data:{config:S,state:z.cleanState(d),pointerId:y,point:q.pointInPeerSceneFromCanvas(c),metaKey:m,shiftKey:t}})}var N=e.zoom*e.scale,d=c.start||h.env.start,d={x:d.x/N,y:d.y/
N},P=!p.useNonUniform[J],f="objectBoundingBox"===a.units||P,T=c.x/N-d.x,U=c.y/N-d.y,N=Math.abs(T);S=Math.abs(U);var I;I=P?Math.sqrt(T*T+U*U):Math.max(N,S);m=!!m;t=!!t;P?(m=!t,t=!0):m&&(t=!0);m=m?-Math.atan2(T,U)*k.RAD_DEG:0;T=0>T?-1:1;U=0>U?-1:1;t||(N>S?U*=S/N||0:T*=N/S||0);f&&(T=Math.abs(T),U=Math.abs(U),I*=2);K.isRecording=!0;K.useHighRes=!0;t=K.bbox={width:I,height:I,rotate:m,units:a.units,scale:{x:T,y:U}};m=q.getConstraint(K,!0);l(t,m.width,m.height,d,f);K.dirtyCache=K.usePixelData;K.dirtyTransform=
!0;if(w){if(r.useAddByClick)m.tooSmall&&l(t,r.defaultWidth,r.defaultHeight,d,f,J);else if(!c.moved()){a.gesture.cancel(y);return}K.isRecording=!1;K.useHighRes=h.env.useHighRes;a.gesture.end(K,v).then(g.objectToScene)}else g.dirtyPointer=!0}}});var t=m.vector.Shape;m.toolkit("shape.ring",function(f,e,l,d,c){var a=k.DEG_RAD,b=c.angle;t.ring(f,e,l,d*(c.cutout||0),d,b.min*a,b.max*a,c.anticlockwise)});m.toolkit("shape.pie",function(f,e,l,d,c){var a=k.DEG_RAD,b=c.angle;t.pie(f,e,l,d,b.min*a,b.max*a,c.anticlockwise)});
m.toolkit(["shape.circle","shape.ellipse"],function(f,e,k,d,c){var a=c.imperfection;a?(a/=2,t.imperfectCircle(f,e,k,d-a,d+a,42,c.seed)):l(t.circle,[f,e,k,d],c)});m.toolkit(["shape.square","shape.rectangle"],function(f,e,k,d,c){var a=c.roundness,b=c.imperfection;if(a){var b=a*Math.max(d,d),a=a*Math.max(d,d),h=c.bbox.scale,p=Math.abs(h.x),h=Math.abs(h.y);p>h?a*=p/h:b*=h/p;c.cutout?(t.roundRect(f,e-d,k-d,2*d,2*d,b,a),t.roundRect(f,e-d*c.cutout,k-d*c.cutout,2*d*c.cutout,2*d*c.cutout,b,a,!0)):t.roundRect(f,
e-d,k-d,2*d,2*d,b,a)}else b?(a=new t.record,t.rect(a,e-d,k-d,2*d,2*d),t.imperfect(f,b,c.seed,a.data)):l(t.square,[f,e,k,d],c)});m.toolkit("shape.triangle",function(f,e,k,d,c){l(t.triangle,[f,e,k,d],c)});m.toolkit("shape.regularPolygon",function(f,e,k,d,c){l(t.regularPolygon,[f,e,k,d,Math.round(c.sides)],c)});m.toolkit("shape.gear",function(f,e,k,d,c){l(t.gear,[f,e,k,d,Math.round(c.sides),c.slope],c)});m.toolkit("shape.star",function(f,e,k,d,c){l(t.star,[f,e,k,d,Math.round(c.sides),c.slope,c.whirl],
c)});m.toolkit("shape.burst",function(f,e,k,d,c){l(t.burst,[f,e,k,d,Math.round(c.sides),c.slope,c.whirl],c)});m.toolkit("shape.radialBurst",function(f,e,k,d,c){t.radialBurst(f,e,k,0,d,Math.round(c.sides),c.spread)});m.toolkit("shape.spiral",function(f,e,k,d,c){t.spirals(f,e,k,d,Math.round(c.sides),c.coils,1-c.spread/100)});m.toolkit("shape.supershape",function(f,e,k,d,c){l(t.supershape,[f,e,k,d,c.points,Math.round(c.m),c.n1,c.n2,c.n3],c)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(){var e;e="undefined"===typeof document?new f:document.createElement("canvas");e.ctx=e.getContext("2d");return e}var k=m.util=m.util||{};k.thumbnailer=function(e,u,d){"string"===typeof e&&(e={src:e});var c=e.src,a=e.canvas||l(),b=a.ctx||a.getContext("2d");d=e.onerror||d;u=e.onsuccess||u;var h=e.background;"none"===h&&(h="");var p=e.shadow||!1,r=e.resample||"bicubic",g=e.center||!1;if(c){var q=function(){var c=w.width,d=w.height;if(c||d){var f=k.fitSize(c,d,e),q=f.width,l=f.height,
t=f.ratio,A=f.crop,D=f.croparea;a.width=q;a.height=l;h&&(b.save(),b.rect(0,0,q,l),b.fillStyle=h,b.fill(),b.restore());p&&(b.shadowBlur=p.blur||0,b.shadowOffsetX=p.offsetX||0,b.shadowOffsetY=p.offsetY||0,b.shadowColor=p.color||"transparent");var f=D.x1,B=D.y1,C=D.x2,D=D.y2,c=Math.min(c,C-f),d=Math.min(d,D-B);if("stretch"===A)b.drawImage(w,f,B,c,d,0,0,q,l);else{var A=Math.round(c*t)||1,H=Math.round(d*t)||1,q=Math.round(g?(q-A)/2:0),l=Math.round(g?(l-H)/2:0);if("lanczos"===r&&m.module.lanczos){var G=
w.width/A,F=w.height/H,t=Math.max(G,F)>>0;w=m.module.lanczos(w,A,H,t);Math.round(C/G);Math.round(D/F)}b.drawImage(w,f,B,c,d,q,l,A,H)}u&&u(a,w)}else u&&u(a,w),console.error("missing image")},w;t[String(c)]?(w=c,q()):(a.setAttribute("data-src",c),w="undefined"===typeof document?new f.Image:new Image,k.loadImage({src:c,image:w,onsuccess:q,onerror:d}));return a}d&&d();console.warn("Thumbnailer",e)};k.fitSize=function(e,f,d){d=d||{};var c=d.crop||"none",a=d.croparea,b=(d.dpi||72)/72,h=isFinite(d.width)?
d.width*b:"auto",k=isFinite(d.height)?d.height*b:"auto",l=d.maxWidth||Infinity,g=d.maxHeight||Infinity,q=d.minWidth||0,w=d.minHeight||0;if(!h&&!l||!k&&!g)console.error("invalid dimensions",arguments);else{var a=Array.isArray(a)?{x1:a[0]||0,y1:a[1]||0,x2:a[2]||e||0,y2:a[3]||f||0}:a||{x1:0,y1:0,x2:e||0,y2:f||0},b="fit"===c,z=a.x2-a.x1,y=a.y2-a.y1,t=z/y;if(0===z||0===y)console.warn("invalid dimensions",arguments);else{var m=h,L=k;"auto"===h&&"auto"===k?(m=z,L=y):"auto"===h?m=t*L:"auto"===k&&(L=1/t*m);
m>l&&(m=l,"auto"===k&&(L=1/t*m));L>g&&(L=g,"auto"===h&&(m=t*L));m<q&&(m=q,"auto"===k&&(L=1/t*m));L<w&&(L=w,"auto"===h&&(m=t*L));"none"===c?t=1:(h=m/L<t,t=b&&h||!b&&!h?L/y:m/z);return{crop:c,croparea:a,width:m,height:L,ratio:t}}}};var t={"[object HTMLImageElement]":!0,"[object HTMLCanvasElement]":!0,"[object Canvas]":!0};if("object"===typeof module&&module.exports){var f=require("canvas");module.exports.util=module.exports.util||{};module.exports.util.thumbnailer=k.thumbnailer}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.UI=function(l){function k(a){var b=l.doc,c=f();if(null!=c){r.empty(c);var d="select"===b._tool.type;if(d){var h=b.selection.typeOfAll();h&&(a=h)}g.pane.header&&(d?v.appendHeader(c,{title:q.translate(a),right:{icon:"icon-contextmenu",onclick:function(a,b){v.contextMenu.show({menu:"select",at:{element:b.target,align:"top left to bottom center"}})}}}):v.appendHeader(c,{title:q.translate(a.replace("gl_",""))}));r.append(c,'<div class="sk-pane-content"></div>');
c=e();null!=c&&(v.ranges={},b.selection.item?t(E(b.selection.item)):window.glfx&&window.glfx.config[a]?t(glfx.config[a]):t(b.toolkit.config[a]),l.detect.useNoConfigure[a]&&("select"===a?(r.append(c,'\t\t\t\t\t<div class="sk-quote">\t\t\t\t\t\t<span class="sk-selection-count"></span>\t\t\t\t\t</div>\t\t\t\t'),b.scene&&b.scene.updateSelectionInfo()):r.append(c,'\t\t\t\t\t<div class="sk-quote">\t\t\t\t\t\t'+q.translate(a+"-tool-message")+"\t\t\t\t\t</div>\t\t\t\t")))}}function t(a,b){b=b||e();for(var c in a){var h=
a[c];if(h&&h.type&&!h.hidden)switch(h.type){case "input":case "number":v.appendInput(b,h);break;case "button":v.appendLineBreak(b);v.appendButton(b,h);break;case "checkbox":v.appendCheckbox(b,h);break;case "clamp":h.onchange=d(a,h);v.appendRange(b,h);break;case "html":v.appendHTML(b,a,h);break;case "palette":if(1===g.palette.version)l.palette.append(b,a);else for(var f in w.methods)a[f]&&!a[f].hidden&&(h=l.doc,1<h.selection.length?l.palette.createTrigger({container:b,configure:h.toolkit.config.select,
paint:h.toolkit.config.select[f],label:f,title:f}):l.palette.createTrigger({container:b,configure:a,paint:a[f],label:f,title:f}));break;case "select":if("blend"===h.label&&(h.selected=w.toBlendInternal(h.selected),!1===z.gco.__blend||!1===g.style.blend))break;v.appendSelect(b,h);break;case "textarea":v.appendInput(b,h);break;case "filePicker":v.appendFilePicker(b,h);break;case "resource":v.appendResource(b,h);break;case "subtool":v.createSubtool(b,h,a.type);break;case "filter":v.appendFilterStack(b,
h)}}}function f(){return r.$("#sk-configure")}function e(){return r.$("#sk-configure .sk-pane-content")}function m(a,b,c){var g=c.label;c=v[a](c);return"Checkbox"===a?v.appendLabel(b,c.element,g):v.appendLabel(b,c,g)}function d(a,b){return function(c,g){var d=l.doc,h="end"===c.state;if("update"!==c.state){var e=d.selection.items,f=x.isEmpty(e)&&!h;if(!f||void 0===e)if(e=b.param,f=d.toolkit.setConfigProperty(a,e,c.values))f.getValue&&(f=f.getValue()),d.toolConfig({type:a.type,param:e,value:f,event:c.event}),
h&&d.saveSettings()}}}function c(a,b){l.sidebar.opened&&v.setPane("configure",{force:!0})}function a(a,b){var c=l.doc;eventjs.prevent(a);var g=b.target,d=g.getAttribute("data-tool");c.toolkit.exists(d)?(h(),l.exec(d,function(){v.domSelectTool(g);v.setPane("configure",{force:!0})})):l.exec(d)}function b(b,g){var d=l.doc;g=g||".sk-toolset";x.each(r.$$(g+" img"),function(a){eventjs[b](a,"mousedown",function(){return!1})});x.each(r.$$(g+" .sk-tool"),function(g){var h=g.getAttribute("data-tool");if(null!=
h){x.each(r.$$(".sk-arrow",g),function(c){var d,e;l.detect.brush[h]?(d="brush",e="choose-brush"):l.detect.shape[h]?(d="shape",e="choose-shape"):l.detect.utility[h]?(d="utility",e="choose-utility"):l.detect.media[h]&&(d="media",e="choose-media");eventjs[b](c,"mousedown",function(b){eventjs.cancel(b);a(b,{target:g});v.contextMenu.show({at:{element:g,align:"top left to bottom left"},menu:d})});v.tooltip&&v.tooltip[b](c,q.translate(e))});if(d.toolkit.getToolkitId(h))eventjs[b](g,"dblclick",c);eventjs[b](g,
"click",a);v.tooltip&&v.tooltip[b](g,function(){return g.title||g.getAttribute("data-title")})}})}function h(){v.pageBeforeUnload&&(v.pageBeforeUnload(),v.pageBeforeUnload=void 0)}function p(a,b){b.className&&x.each(b.className.split(" "),function(b){a.classList.add(b)});b.tooltip&&v.tooltip&&v.tooltip.add(a,function(){return"function"===typeof b.tooltip?b.tooltip.call(b):b.tooltip});b.style&&(a.style.cssText=b.style);b.onblur&&eventjs.add(a,"blur",b.onblur);b.onfocus&&eventjs.add(a,"focus",b.onfocus);
b.container&&r.append(b.container,a)}var r=l.dom,g=l.feature||{},q=l.lang,w=l.style,z=l.agent,y=l.util.string,v=l.ui,x=l.util,L=l.ui.vars;v.media={};v.media.clear="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=";v.media.get=function(a,b){var c=v.media[a];null==c&&(c=v.media[a]=l.gen.media(a).pattern);return c};v.refresh=function(a){v.setToolMenu(a,!1);k(a)};v.configurePane=function(){function a(){l.sidebar.off("open",a);b()}function b(c,
d){var h=l.doc;d=!!d;var e=h.toolkit.getConfigFallback(c);c=c||e.type;if(null!=c){var q=d,p=f();if(null===p?0:0===p.offsetWidth?q:1)if((q=d)||(q=f(),p=l.doc,e=void 0!==e.id?p.scene.createHash(e,{seed:!0,bbox:!0}):e.type,e===q.getAttribute("sk-hash")?q=!1:(q.setAttribute("sk-hash",e),q=!0)),q){if("image"!==c||g.canvas.useGLFX||(c="clipart"),k(c),!h.scene||!h.scene.children){var w=r.$("#sk-configure .sk-configure-header");w&&(h=y.ucwords(c.replace("gl_","").replace(/([A-Z])/g," $1")),w.innerHTML="<span>"+
h+"</span>")}}else a:{if(h=c,e=l.doc,(q=e.scene)&&q.children){var z=D.getSubId(),z=(p=e.selection.item)?p[z]:{},t,m;for(w in v.ranges){t=v.ranges[w];if(!t){g.debug&&console.debug("disabled",w);break a}m=void 0;p&&("configure:"===D.pageId?m=p[w]:z&&(m=z[w]));void 0===m&&(m=q.copyDeepCompress(e.toolkit.config[h][w]));if(void 0!==m){m=void 0!==m.max?[m.min,m.max]:void 0!==m.value?m.value:m;var x=t.thumbs;2===x.length?(x[0].value!==m[0]&&(x[0].value=m[0],t.update(0,"update")),x[1].value!==m[1]&&(x[1].value=
m[1],t.update(1,"update"))):1===x.length&&(m=m[0]||m,x[0].value!==m&&(x[0].value=m,t.update(0,"update")))}}}}else if(l.sidebar.on)l.sidebar.on("open",a)}}return b}();var E=function(){var a=x.arrayToObject("reset filePicker subtool resource palette toolkit".split(" "));return function(b){var c=l.doc,g=b.type,d=c.toolkit.config[g];if((c=c.toolkit.get(g))&&c.attributes){var c=c.attributes,g={},h;for(h in d){var e=d[h];if(a[h]||e&&"html"===e.type)g[h]=e;else{var f=b[h];switch(c[h]){case "string":e instanceof
L.Select?(g[h]=e,g[h].setValue(f)):g[h]=f;break;case "style":e&&(g[h]=new w.create(f,h));break;default:e&&e.clone&&(g[h]=e.clone(f))}}}b.filter&&(g.filter=new L.FilterStack({filter:b.filter}),delete g.palette);return g}console.warn("undefined toolkit",b);return d}}();v.appendFilePicker=function(a,b){var c=r.create("div");c.className="sk-file-picker";c.textContent=q.translate("load-your-own-image");a.appendChild(c);l.uploader.addFileInput({target:c,onchange:function(a,c){if(b.onchange)b.onchange(a,
c);else l.uploader.onChangeDefault(a,c)}})};v.appendButton=function(a,b){b=v.ensureInstanceOf(b,L.Button);var c=v.createElement("div",b);c.innerHTML=q.translate(b.title);c.classList.add("button");v.on("click",c,b.onclick);a.appendChild(c);return c};v.createSubtool=function(a,b,c){function d(a){"utility"===f||"media"===f?h.tool(a):(h.toolkit.setType(a),v.refresh(a))}var h=l.doc,e=r.create('<div class="sk-subtools"></div>');a.appendChild(e);var f=h.toolkit.getToolGroup(c),k=v.icons[f];if(k)if("list"===
g.ui.listTool){a=0;for(var p in k.children)b=r.create('<div class="sk-subtool"></div>'),r.setClass(b,k.children[p]),p===c&&r.setClass(b,"selected"),e.appendChild(b),0===++a%5&&(b.style.borderRight="none"),function(a,b){v.tooltip&&v.tooltip.add(a,b);v.on("click",a,function(){d(b)})}(b,p)}else{e={};for(p in k.children)e[p]='<span class="'+k.children[p]+' sk-icon"></span> '+q.translate(p);c=new v.SelectMenu({id:"subtool",className:"selectmenu-holder",container:a,selected:c,options:e,onchange:function(a){d(a)}});
v.appendLabel(a,c.container,b.title)}};v.appendCheckbox=function(a,b){return m("Checkbox",a,b)};v.appendInput=function(a,b){return m("Input",a,b)};v.appendTextarea=function(a,b){b.type="textarea";return m("Textarea",a,b)};v.appendHTML=function(a,b,c){var g;c.innerHTML?g=r.create(c.innerHTML):c.construct&&(g=c.construct(b));g&&(p(g,c),a.appendChild(g));return g};v.appendLabel=function(a,b,c){c=v.createLabel(c);c.appendChild(b);a.appendChild(c);return c};v.createLabel=function(a){var b=r.create("label");
b.className="sk-label";var c=r.create("span");c.className="sk-title";c.innerHTML=q.translate(a);b.appendChild(c);return b};v.ensureInstanceOf=function(a,b){return a instanceof b?a:new b(a)};v.appendSelect=function(a,b){var c=l.doc;b=v.ensureInstanceOf(b,L.Select);var g=new v.SelectMenu({id:b.param,className:"selectmenu-holder",container:a,labelIcon:b.labelIcon,options:b.getOptions(),selected:b.selected,tooltip:b.title,onopen:b.onopen,onclose:b.onclose,onchange:function(a){b.onchange(b.param,a);c.saveSettings()}});
v.appendLabel(a,g.container,b.label);return g};v.appendResource=function(a,b){var c=b.format;v.appendLineBreak(a);A(a,b,c)};v.appendLineBreak=function(a){return r.append(a,'<div class="sk-break"></div>')};v.ranges={};v.appendRange=function(a,b){b=v.ensureInstanceOf(b,L.Range);var c=b.onchange,g=b.asArray(),d=b.param,h=b.clamp;"spacing"===d&&(g=[g[0]]);v.appendLineBreak(a);var e=r.create("div");e.className="sk-slider";a.appendChild(e);var f=r.create("span");f.className="sk-title";f.innerHTML=q.translate(d);
f.setAttribute("data-cmd",d);e.appendChild(f);eventjs.add([e,f,a],"touchdown",eventjs.cancel,{strict:!0});f=r.create("span");f.className="values";e.appendChild(f);for(var k=[],l=0;l<g.length;l++)k.push(v.Input({type:"_number_",format:b.format,className:"value"+l,container:f,min:h.min,max:h.max,value:g[l],onchangeend:function(a){var b=parseInt(this.className.substr(5)),c=p.thumbs[b];c.value!==a&&(c.value=a,p.update(b,"end"))}})),isFinite(g[l+1])&&r.append(f,"<small>&ndash;</small>");var p=new v.Range({_param_:d,
parent:e,className:"sk-range",value:g.toString(),min:h.min,max:h.max,format:b.format,gradient:b.gradient,canCross:b.canCross,canPush:b.canPush,onchange:function(a,b){if(a.event){var g=k[b.index];g&&g.$setValue(b.value)}c&&c(a,b)}});return v.ranges[d]=p};v.setToolMenu=function(){return function(a,b){var c=l.doc;a=a||c._tool.type;var g=c.toolkit.getToolGroup(a);if((c=r.$("[data-tool="+a+"]")||r.$("[data-toolkit="+g+"]"))&&c.parentNode){if((g=v.icons[g])&&g.children&&(g=g.children[a.replace("_"," ")],
!0!==g))if(c.setAttribute("data-tool",a),c.setAttribute("data-title",q.translate(a)),g.startsWith("icon-")){var d=r.$("img",c);d&&(d.src=v.media.get("clear"));if(d=r.$(".sk-icon",c)||c){for(var d=d.classList,h=0;h<d.length;h++){var e=d[h];e.startsWith("icon-")&&d.remove(e)}d.add(g)}}else d=r.$("img",c),d.src=g;!1!==b&&v.domSelectTool(c)}}}();(function(){function a(b){eventjs.cancel(b);(b=document.activeElement)&&b.blur&&b.blur()}v.on=function(b,c,g){eventjs.add(c,b,g);eventjs.add(c,"mousedown",a)}})();
v.domSelectTool=function(a){r.setClass({name:"selected",list:r.$$(".sk-toolset .selected"),target:a,on:!0})};v.TSEvents={};v.TSEvents.add=function(a){b("add",a)};v.TSEvents.remove=function(a){b("remove",a)};v.appendFilterStack=function(a,b){var c=l.doc,g=b.value[0][0],d=glfx.config["gl_"+g.id];if(d){var h=c.selection.item;(h=h&&h.filter&&h.filter[0][0])&&(g=h);c.render.getGLFX().activeFilter=g;t(d)}};v.createFilterStack=function(a){var b=r.create("div");x.each(a.value[0],function(a,c){var g=a.id,
d=glfx.config["gl_"+g];if(d){var h=r.append(b,"div");h.className="sk-stack";var e=r.append(h,"div");e.className="sk-stack-header";eventjs.add(e,"dblclick",function(){h.classList.toggle("opened")});var f=r.append(e,"span");f.className="sk-stack-title";f.textContent=y.spaceCamelCase(g);g=r.append(e,"span");g.className="sk-stack-icon icon-caret-down";v.on("click",g,function(a,b){h.classList.toggle("opened")});var q=r.append(e,"span");q.className="sk-stack-icon icon-eye-open";v.on("click",q,function(a,
b){q.classList.toggle("icon-eye-open");q.classList.toggle("icon-eye-close")});e=r.append(e,"span");e.className="sk-stack-icon icon-contextmenu";v.on("click",e,function(b,g){v.contextMenu.show({thisArg:{filter:a,filterIdx:c},menu:"filters",at:{element:g.target,align:"top left to bottom left"}})});e=r.append(h,"div");e.className="sk-stack-content";t(d,e)}});return b};var A=function(){function a(b){var c=l.doc.toolkit.getConfigFallback(b),g=l.lib[b];return"text"===b?g.byName[c.fontFamily]:g.byPath[(c.src||
"").replace(b+"/","")]}function b(c){var g=l.lib[c],d;for(d in g.tree)break;return(c=a(c))&&c.folder||g.defaultCategory||d}var c={text:"fonts",stamp:"stamps",clipart:"clipart"};return function(d,h,e){var f=l.doc;d=r.append(d,'<div class="sk-resources"></div>');d.classList.add("sk-"+e);var q=l.lib[e];if(q){var k;k=v.InfiniteScroll?"text"===e&&"dropmenu"===g.ui.listText?!1:!0:void 0;if(k){if(g.ui.scrollerCategories){k={};for(var p in q.tree)"Your Files"!==p&&(k[p]=p);new v.SelectMenu({id:e+"_categories",
className:"categories",tooltip:h.title||c[e],container:d,selected:b(e),options:k,onchange:function(a){v.scrollers[e].scrollTo(a)}})}new v.InfiniteScroll(l,f,{type:e,target:d,folder:"*"})}else{k={};for(var w in q.byName)f=q.byName[w],k[w]='<img src="'+q.getThumbnail(f)+'" height="22" />';f=a(e);w=new v.SelectMenu({container:d,tooltip:"Set Font Family",selected:f&&f.name,options:k,onchange:function(a){l.doc.setFont(a)}});v.appendLabel(d,w.container,h.label)}}else console.error("missing media type:",
e)}}();v.pageBeforeUnload=void 0;v.pageBuildTimeout=void 0;v.pageBuildFn=function(a,b){var c=D.pageId;c.startsWith("configure:")&&1!==a||v.setPane(c,{force:!0})};var D=v.pages=v.pages||{};D.pageId="configure";D.getPageId=function(){return D.pageId.split(":").shift()};D.getSubId=function(){return D.pageId.split(":").pop()};D.restore=function(){x.cookie.get("pages.pageId",function(a){v.setPane(a||"configure",{force:!0})})};D.register=function(a,b){D[a]=b};D.register("configure",function(a){v.configurePane(null,
a.force)});D.register("layers",function(a){var b=l.doc;a=a||{};a=a.delay;"layers"===D.getPageId()&&(clearTimeout(v.pageBuildTimeout),v.pageBuildTimeout=setTimeout(function(){var a=l.perf();v.treeLayers.setData(b.scene.children);v.treeLayers.render();g.debug&&console.debug("rebuildLayers",a())},a||100))});D.register("history",function(a){var b=l.doc;a=a||{};a=a.delay;"history"===D.getPageId()&&(clearTimeout(v.pageBuildTimeout),v.pageBuildTimeout=setTimeout(function(){var a=l.perf();v.treeHistory.setData(b.history.vector.data);
v.treeHistory.render();g.debug&&console.debug("rebuildHistory",a())},a||100))});v.setPane=function(a,b){function c(){D[d]&&(b.delay=100,b.subpage=e,D[d](b))}b=b||{};var g=!!b.force;if(D.pageId!==a||g){h();var g=a.split(":"),d=g[0]||"",e=g[1]||"";a=d+":"+e;var f=".icon-"+d.split("-").shift(),g=r.$$(".sk-sidebar > .tabs span.selected");(f=r.$(".sk-sidebar "+f))&&r.setClass({target:f,list:g,name:"selected",on:!0});(f=r.$("#sk-"+d))?(r.setClass({target:f,list:".sk-pane",name:"selected"}),D.pageId=a,c(),
x.cookie.set("pages.pageId",D.pageId),x.each(r.$$(".sk-translate"),function(a){a.innerHTML=q.translate(a.innerHTML)})):c()}};v.UISidebarTabs=function(){function a(b,g,h){var e=r.append(d,'<span class="sk-'+b+" icon-"+b+'"></span>');v.tooltip&&v.tooltip.add(e,g||b);v.on("click",e,h||function(){"configure"===b&&c.setAttribute("sk-hash","");v.setPane(b)})}var b=l.doc,c=f(),d=r.$(".sk-sidebar > .tabs");g.pane.configure&&a("configure","tool");g.pane.layers&&(a("layers"),b.on("deselect",function(a){"layers"===
D.getPageId()&&v.treeLayers.deselect(a)}),b.on("select",function(a){"layers"===D.getPageId()&&v.treeLayers.select(a)}));g.pane.history&&a("history");g.pane.open&&a("settings","settings");g.pane.save&&a("helpdesk","helpdesk",function(){l.exec("about")});if(l.module.TreeMenu){var h=l.module.TreeMenu;v.treeLayers=new h(l,b,"#sk-layers .sk-pane-content",b.scene.children);v.treeHistory=new h(l,b,"#sk-history .sk-pane-content",b.history.vector.data)}b.on("historyPop",D.history);b.on("historyStore",D.history);
b.on("reset",D.history);l.on("open",v.pageBuildFn);b.on("undo",v.pageBuildFn);b.on("redo",v.pageBuildFn);b.on("cut",v.pageBuildFn);b.on("paste",v.pageBuildFn);b.on("sendForwards",v.pageBuildFn);b.on("sendBackwards",v.pageBuildFn);b.on("objectRemove",v.pageBuildFn);b.on("objectAdd",v.pageBuildFn)};v.scrollable=function(a,b){g.preventScroll&&z.mobile&&eventjs.add(a,"drag",function(c,g){b||eventjs.stop(c);var d=a.scrollTop,h=g.ly-g.y;g.lx=g.x;g.ly=g.y;"touchmove"===c.type&&(0>=h&&0>=d?eventjs.prevent(c):
0<=h&&d+a.offsetHeight>=a.scrollHeight&&eventjs.prevent(c))},{strict:!0})};v.appendHeader=function(a,b){function c(a,b){a&&v.Button({container:f,tooltip:a.tooltip,class:"sk-href sk-"+b+" "+a.icon,onclick:a.onclick})}"string"===typeof b&&(b={title:b});var g=b.left,d=b.right,h=b.title,e=b.icon,f=r.append(a,'<div class="sk-header"></div>');r.appendText(f,q.translate(h));r.append(f,'<div class="sk-close icon-remove"></div>');c(g,"left");c(d,"right");b.icon&&r.append(f,'<span class="'+e+' icon"></span>')};
v.createFooter=function(a){var b=r.create('<div class="sk-footer"></div>');a.className&&b.classList.add(a.className);a.cancel&&v.appendButton(b,a.cancel);a.ok&&v.appendButton(b,a.ok);return b};v.appendFooter=function(a,b){a.appendChild(v.createFooter(b))};v.createElement=function(a,b){var c=r.create(a);p(c,b);c.$setParam=function(a,g){void 0!==b[a]&&(b[a]=g);void 0!==c[a]&&(c[a]=g)};return c};v.fastclick=function(a){if(z.ios)if("string"===typeof a){var b=r.$$(a);x.each(b,function(a){v.fastclick(a)})}else eventjs.add(a,
"mousedown",eventjs.stop),eventjs.add(a,"click",function(b){eventjs.cancel(b);switch(a.nodeName){case "A":case "BUTTON":a.click();break;case "TEXTAREA":a.focus();break;case "INPUT":switch(a.type){case "submit":a.click();break;case "text":a.focus();break;case "checkbox":a.checked=!a.checked;break;default:console.log(a.type)}break;default:console.log(a.nodeName)}})}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(f,e){e.container&&(f.container=e.container);e.className&&(f.className=e.className);e.style&&(f.style=e.style);e.param&&(f.param=e.param);e.title&&(f.title=e.title);e.label&&(f.label=e.label);e.tooltip&&(f.tooltip=e.tooltip);e.hidden&&(f.hidden=e.hidden);e.onfocus&&(f.onfocus=e.onfocus);e.onblur&&(f.onblur=e.onblur);e.useGhostLayer&&(f.useGhostLayer=!0)}m.ui||(m.ui={});var k=m.util,t=m.ui.vars={};t.Button=function(f){l(this,f=f||{});this.type="button";this.onclick=f.onclick};
t.Checkbox=function(f){l(this,f=f||{});this.type="checkbox";this.checked=f.checked;this.onchange=f.onchange;this.setValue=function(e){"boolean"===typeof e&&this.checked!==e&&(this.checked=e,this.onchange&&this.onchange.call(this,e))};this.getValue=function(){return this.checked};this.clone=function(e){var l=k.copy(f);e&&(l.checked=e);return new t.Checkbox(l)}};t.HTML=function(f){l(this,f=f||{});this.type="html";this.noConfig=!0;this.innerHTML=f.innerHTML;this.construct=f.construct};t.Input=function(f){function e(){return"number"===
f.type||"_number_"===f.type}l(this,f=f||{});this.type=f.type||"input";this.format=f.format||"float";this.value=f.value;this.onchange=f.onchange;this.onchangeend=f.onchangeend;e()&&(this.max=f.max||k.INFINITY,this.min=f.min||-k.INFINITY,this.step=f.step||"any");this.setValue=function(f){if(e())if(isFinite(f=parseFloat(f))){if(this.max<f||this.min>f)return!1;switch(this.format){case "int":f=Math.round(f)}}else return!1;if(this.value!==f)return this.value=f,this.onchange&&this.onchange.call(this,f),
!0};this.getValue=function(){return this.value};this.clone=function(e){var d=k.copy(f);e&&(d.value=e);return new t.Input(d)}};t.Range=function(f){function e(){(b.setValue=function(c){c=a(c);Array.isArray(c)&&(c=c[0]);isFinite(c)&&(b.value=c)})(f.value);b.getValue=function(){return b.value};b.asArray=function(){return[b.value]}}function m(){(b.setValue=function(h){d(c(a(h)),b)})(f.value);b.getValue=function(){return{min:b.min,max:b.max}};b.asArray=function(){return[b.min,b.max]}}function d(a,b){a&&
(isFinite(a.min)&&(b.min=a.min),isFinite(a.max)&&(b.max=a.max))}function c(a){return Array.isArray(a)?{min:a[0],max:a[1]}:a}function a(a){if(null!=a)return"object"===typeof a&&("clamp"in a&&d(c(a.clamp),b.clamp),"value"in a)?a.value:a}var b=this;l(b,f=f||{});"object"===typeof f.value?m():e();b.type="clamp";b.format=f.format||"float";b.canCross=f.canCross;b.canPush=f.canPush;b.gradient=f.gradient;b.clamp={};b.clamp.min=f.min;b.clamp.max=f.max;b.onchange=f.onchange;b.clone=function(a){var b=k.copy(f);
a&&(b.value=a);return new t.Range(b)}};t.Select=function(f){l(this,f=f||{});this.type="select";this.labelIcon=f.labelIcon||"";this.options=f.options;this.selected=f.selected;this.onchange=f.onchange;this.onclose=f.onclose;this.onopen=f.onopen;this.setValue=function(e){e&&e.length&&(this.selected=e)};this.getValue=function(){return this.selected};this.getOptions=function(){var e=this.options;if("function"===typeof e)return e();if(Array.isArray(e)){for(var f={},d=0;d<e.length;d++){var c=e[d];f[c]=c}return f}return e};
this.clone=function(e){var l=k.copy(f);e&&(l.selected=e);return new t.Select(l)}};t.Textarea=function(f){l(this,f=f||{});this.type="textarea";this.value=f.value;this.setValue=function(e){"string"===typeof e&&(this.value=e)};this.getValue=function(){return this.value};this.clone=function(e){var l=k.copy(f);e&&(l.value=e);return new t.Textarea(l)}};t.ColorPicker=function(f){l(this,f=f||{});this.type="color";this.color=f.color;this.setValue=function(e){"string"===typeof e&&(this.color=e)};this.getValue=
function(){return this.color};this.clone=function(e){var l=k.copy(f);e&&(l.color=e);return new t.ColorPicker(l)}};t.Palette=function(f){l(this,f||{});this.type="palette";this.noConfig=!0};t.FilePicker=function(f){l(this,f=f||{});this.type="filePicker";this.formats=f.formats;this.onchange=f.onchange};t.Resource=function(f){l(this,f=f||{});this.type="resource";this.format=f.format;this.noConfig=!0;this.clone=function(e){e=k.copy(f);return new t.Resource(e)}};t.FilterStack=function(f){l(this,f=f||{});
this.type="filter";this.value=f.filter;this.setValue=function(e){this.value=e};this.getValue=function(){return this.value}};t.SubTool=function(f){l(this,f||{});this.type="subtool";this.noConfig=!0}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Alert=function(l){function k(){return"undefined"===typeof alertify?console.warn("alertify undefined"):!0}function t(b,c){"string"===typeof c&&(c={content:c});c instanceof HTMLElement&&(c={content:c});c=c||{};var e=c.callback,l=c.content,g=c.labels||{ok:"ok",cancel:"cancel"};if(!0===!!c.skip)e(!0);else if(k())return g.ok&&(g.ok=d.translate(g.ok||"ok")),g.cancel&&(g.cancel=d.translate(g.cancel||"cancel")),g.disregard&&(g.disregard=d.translate(g.disregard)),
alertify.dialog(b,Object.assign(a.copy(c,!0),{labels:g,content:f(l)}))}function f(a){if("string"===typeof a)return d.translate(a);if("object"===typeof a)return a}function e(a,c,e){if(k())return"string"===typeof c&&(c=d.translate(c)),alertify[a](c,e)}function m(a,c){m.id&&alertify.hide(m.id);var d=t(a,c);return m.id=d}var d=l.lang,c=l.ui,a=l.util;c.overlay=function(a){return m("overlay",a)};c.alert=function(a){return m("alert",a)};c.confirm=function(a){return m("confirm",a)};c.prompt=function(a){return m("prompt",
a)};c.notify=function(a){return t("notify",Object.assign({showCover:!0},a))};c.log=function(a,c){return e("log",a,c)};c.success=function(a,c){return e("success",a,c)};c.error=function(a,c){return e("error",a,c)}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.UICursor=function(l,k){function t(){function b(c){a.style.cursor=c;return c===a.style.cursor.replace(/"/g,"")}var c="url("+m.media.clear+") 0 0";p=b("url(#), auto");if(r=!f.safari)r=b("-webkit-image-set("+c+" 2x), auto")}var f=l.agent,e=l.feature,m=l.ui,d=l.util,c=l.vector,a=l.dom.Canvas(),b=a.ctx,h,p,r,g={n:360,ne:45,e:90,se:135,s:180,sw:225,w:270,nw:315},q={ns:360,nesw:45,ew:90,nwse:135},w=Object.keys(g),z=Object.keys(q),y={};c.SVGPath&&(y.resize=c.SVGPath.toVOBPath("M14.3,8.5 9.7,2.2 5.1,8.5 8.3,8.5 8.3,17.3 11.1,17.3 11.1,8.5z"),
y.rotate=c.SVGPath.toVOBPath("M16.6,8.5l-1.4-1.4c-2.9-2.9-7.6-2.9-10.5,0L3.3,8.4L1.5,6.6l-0.9,6.3l6.4-1l-1.8-1.8l1.3-1.3c1.9-1.9,5-1.9,6.9,0l1.4,1.4L13,12.1l6.4,1l-1-6.4C18.4,6.7,16.6,8.5,16.6,8.5z"));m.setCursor=function(l,m){l||(l={});if(!f.mobile){null!=r&&null!=p||t();var u=l.id,E,A=l.cursor||"";A.includes("-")&&(E=A.match(/([a-z])+/g),u=E[0],E=E[1]);var D,B;g[u]?(D=g[u],B=w):q[u]&&(D=q[u],B=z);if(D&&(m=m||k.scene.getFocused())){var u=m.bbox,C=u.scale;D=u.rotate+c.Degree.flip(D,C.x,C.y);u=Math.round((D+
3600)%360/45);A=A.replace(/([a-z])+/,B[u%B.length]);B=A+(D-D%10>>0);h!==B&&(h=B,p&&y[E]&&e.ui.cursorDynamic&&(B=r&&f.pixelRatio||1,u=(a.width=a.height=20*B)/2,b.translate(u,u),b.rotate(D*d.DEG_RAD),b.translate(-u,-u),b.scale(B,B),c.Shape.VOBPath(b,y[E]),b.shadowBlur=2,b.shadowOffsetX=.5,b.shadowOffsetY=.5,b.shadowColor="#000",b.fillStyle="#000",b.fill(),b.lineWidth=1,b.strokeStyle="#fff",b.stroke(),E=a.toDataURL(),A=r&&2===B?"-webkit-image-set(url("+E+") 2x) 10 10, "+A:"url("+E+") 10 10, "+A),(E=
l.element)&&(E.style.cursor=A),(E=k.contexts.active)&&(E.style.cursor=A))}else A||(A=k._tool,E=e.ui.cursorDefs,A=E[A.type]?E[A.type]:""),h!==A&&(h=A,(E=l.element)&&(E.style.cursor=A),(E=k.contexts.active)&&(E.style.cursor=A))}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Keyboard=function(l){function k(b){function k(a,b){!1!==b&&eventjs.cancel(a);g.scene.setDirtyControl(g.scene.selection.items)}var g=l.doc,q=g.keyboard.emit,w=g._editing||h.isEditingText();eventjs.keyTracker(b);var z=b.keyCode,y=eventjs.keys[z],m=eventjs.altKey,t=eventjs.metaKey,L=eventjs.shiftKey;eventjs.metaKeys[z]&&!w&&e.focus();switch(z){case 75:if(t&&L&&u.nodewebkit){var E=require("nw.gui").Window.get();E.isKioskMode?require("nw.gui").App.quit():E.enterKioskMode()}break;
case 219:if(t){m?l.exec("object-to-back"):l.exec("object-backwards");k(b);return}break;case 221:if(t){m?l.exec("object-to-front"):l.exec("object-forwards");k(b);return}break;case 80:if(t){l.print();k(b);return}break;case 83:if(t){m?l.download.image():L&&g.toolkit.screenshot?l.exec("screenshot"):l.save.fromQuery();k(b);return}break;case 27:if(q("escapeKey",b,"escape"))return;l.windows.hasFocus&&l.windows.hasFocus()?l.windows.hideFocused():(g.scene.deselectAll(),g.render.dirty=!0,g.render.dirtyControls=
!0);k(b);return}if(!w&&(E=a.lcfirst(eventjs.getKeyID(b)),!q(E+"Key",b,E))){switch(z){case 48:if(L&&c.zoom){if(w&&!t)break;l.exec("zoom-reset");k(b);return}break;case 173:case 189:if(L&&c.zoom){if(w&&!t)break;l.exec("zoom-out");k(b);return}break;case 61:case 187:if(L&&c.zoom){if(w&&!t)break;l.exec("zoom-in");k(b);return}break;case 188:if(f("configure")){k(b);return}break;case 68:if(f("download")){k(b);return}break;case 78:if(f("document-new")){k(b);return}break;case 79:if(t&&u.chooseEntry){l.open.chooseEntry({onsuccess:function(a){g.addMedia({openAsNew:!0,
data:a})}});k(b);return}if(f("document-open")){k(b);return}break;case 80:if(f("print")){k(b);return}break;case 83:if(f("share")){k(b);return}break;case 32:g.orient&&(b.preventDefault(),"zoom"!==g._tool.type&&(l.ptool=g._tool.type,g.toolkit.tool("zoom")));return;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(c.hotkeys)switch(b=c.hotkeys[z-49],b){case "brush":case "shape":if((q=d.$(".sketch-select-"+b))&&q.id)return l.exec(q.id.replace("tool-",""));default:return l.exec(b)}return;
case 191:if(L)return l.exec("help");return;case 46:case 8:eventjs.cancel(b);l.exec("object-delete");return;case 13:document.activeElement===document.body&&eventjs.cancel(b);d.$("#alertify-ok")&&d.$("#alertify-ok").click();return;case 18:if(c.ui.quickSelect&&g.toolkit.select){if(t)break;c.doc.editable&&g._tool!==g.toolkit.select&&(l.ptool=g._tool.type,l.exec("select"))}return;case 65:t&&(eventjs.cancel(b),L?l.exec("select-inverse"):l.exec("select-all"));return;case 67:L?l.exec("color-picker"):t&&!u.clipboard&&
(eventjs.cancel(b),l.exec("object-copy"));return;case 73:l.exec("debug-action");return;case 86:!t||u.clipboard||g._rendering||(eventjs.cancel(b),l.exec("object-paste","select"!==g._tool.type));return;case 88:t&&!u.clipboard&&(eventjs.cancel(b),l.exec("object-cut"));return;case 90:if(t&&(eventjs.cancel(b),!g._rendering))if(L)if(q("redo",b,"redo"))break;else l.exec("redo");else if(q("undo",b,"undo"))break;else l.exec("undo");return;case 37:if(g.selection.length){eventjs.altKey?l.exec("object-clone-left",
1,y):l.exec("object-move-left",1,y);eventjs.cancel(b);break}else L&&l.sidebar&&l.sidebar.close&&l.sidebar.close();break;case 39:if(g.selection.length){eventjs.altKey?l.exec("object-clone-right",1,y):l.exec("object-move-right",1,y);eventjs.cancel(b);break}else L&&l.sidebar&&l.sidebar.open&&l.sidebar.open();break;case 38:m&&g.pages&&g.pages.length?(g.setPage(-1,"useRelative"),eventjs.cancel(b)):g.selection.length&&(eventjs.altKey?l.exec("object-clone-up",1,y):l.exec("object-move-up",1,y),eventjs.cancel(b));
break;case 40:m&&g.pages&&g.pages.length?(g.setPage(1,"useRelative"),eventjs.cancel(b)):g.selection.length&&(eventjs.altKey?l.exec("object-clone-down",1,y):l.exec("object-move-down",1,y),eventjs.cancel(b));break;default:return}k(b,!1)}}function m(b){var d=l.doc,g=d.keyboard.emit;eventjs.keyTracker(b);if(!l.util.isEditingText()){eventjs.metaKey&&l.ptool&&(d.scene.deselectAll(),l.exec(l.ptool),delete l.ptool);var h=a.lcfirst(eventjs.getKeyID(b));if(!g(h+"Key",b,h))switch(b.keyCode){case 18:c.ui.quickSelect&&
d.toolkit.select&&l.ptool&&c.doc.editable&&(l.exec(l.ptool),delete l.ptool);break;case 32:d.orient&&l.exec(l.ptool);break;case 37:case 38:case 39:case 40:eventjs.altKey?l.exec("object-clone-end",0,"end"):l.exec("object-move-end",0,"end")}}}function f(a){if(eventjs.shiftKey&&l.fs.supported&&b.setPane)return l.sidebar&&l.sidebar.open&&l.sidebar.open(),b.setPane(a),!0}var e=this,u=l.agent,d=l.dom,c=l.feature,a=l.util.string,b=l.ui,h=l.util;e.listen=function(a,b){c.doc.interactable&&(b.keydown=eventjs.add(a.targetListenable,
"keydown",k),b.keyup=eventjs.add(a.targetListenable,"keyup",m))};(function(){var a={editable:{},listenable:{}};e.focus=function(){var a=l.doc.targetEditable;a&&(a.focus(),a.textContent=" ",d.text.selectAll(a))};e.enable=function(b){galactic.emitter(b.keyboard={});if(u.clipboard=!1===c.doc.interactable?!1:!1===u.clipboard?!1:u.safari?!1:eventjs.detectEvent("paste",b.targetListenable)?!!(b.scene&&b.scene.paste&&b.addMedia):!1){if(!b.targetEditable){var g=document.createElement("div");g.className="sk-doc-paste";
g.setAttribute("contentEditable",!0);g.style.cssText="opacity: 0; position: fixed; top: 0px; left: 0px;";g.style.marginLeft="-20px";b.targetEditable=g;b.container.appendChild(g)}a.paste=eventjs.add(b.targetEditable,"paste",b.scene.onPasteNative);a.copy=eventjs.add(b.targetEditable,"copy",b.scene.onCopyNative);a.cut=eventjs.add(b.targetEditable,"cut",b.scene.onCutNative)}};e.disable=function(){eventjs.bulk(a,"remove")}})()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.ui=m.ui||{};m.ui.Button=function(l){var k=m.dom,t=m.lang,f=m.ui,e={};e.element;e.add=function(l){l=l||{};var d=l.container,c=l.src,a=l.symbol,b=l.title,h=k.create("span");h.className="sk-tool";if(b){var p=k.create("span");p.className="sk-tool-title";p.innerHTML=t.translate(b||"");h.appendChild(p)}a&&(b=k.create("span"),b.className="sk-icon "+a,h.appendChild(b));c&&(a=new Image,a.src=c,a.width=26,h.appendChild(a));h.events={};for(var r in l)switch(r){case "src":case "symbol":case "container":break;
case "tooltip":f.tooltip&&f.tooltip.add(h,l[r]);break;case "title":h.setAttribute("data-title",l[r]);break;case "id":h.id=l[r];break;case "class":h.className=l[r];break;default:r.startsWith("on")?h.events[r]=eventjs.add(h,r.substr(2),l[r]):h.setAttribute(r,l[r])}d.appendChild(h);e.element=h};e.remove=function(){var f=e.element;f&&(k.remove(f),e.element=void 0)};e.disable=function(){var f=e.element;f&&(f.classList.add("disabled"),eventjs.bulk(f.events,"remove"))};e.enable=function(){var f=e.element;
f&&(f.classList.remove("disabled"),eventjs.bulk(f.events,"add"))};l&&e.add(l);return e}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.ui=m.ui||{};m.ui.Checkbox=function(l){function k(a,b){var c=!!l.checked;c&&a<=-b?t(c=!1):!c&&a>=b&&t(c=!0);return c}function t(a){a?r.add("sk-checked"):r.remove("sk-checked")}function f(a){l.setValue(a);t(l.checked)}var e=m.dom,u=m.ui;l instanceof u.vars.Checkbox||(l=new u.vars.Checkbox(l));var d=l.checked,c=l.onchange,a=l.param,b=u.createElement("div",l),h=e.append(b,"div"),p=e.append(h,"div"),r=b.classList;r.add("sk-checkbox");eventjs.add(b,"drag",function(b,d){var f=m.doc;eventjs.cancel(b);
var t=d.env;if(d.pointerStart){r.add("sk-moving");var y=e.measure(p),v=e.measure(h),y=t.width=v.width-y.width,t=t.offset=l.checked?t.width:0}else y=t.width,t=t.offset;var v=Math.min(y,d.x),x=k(v,5);d.pointerEnd?(p.style.left="",r.remove("sk-moving"),x=k(v,d.pointerMoved?5:0),x!==l.checked&&(l.checked=x,c?c.call(l,x):f.toolConfig({param:a,value:x}),f.saveSettings&&f.saveSettings(),u.tooltip&&u.tooltip.refresh())):p.style.left=Math.max(0,Math.min(y,v+t))+"px"},{position:"difference"});t(d);return{attr:l,
element:b,toggle:function(){f(!l.checked)},setValue:f}}})(sketch);
(function(m){function l(c){if("string"===typeof c){if(u[c])return u[c];if("select"===c)return f.getSelectMenu()}else return c}var k=m.dom,t=m.ui,f=t.contextMenu||(t.contextMenu={}),e,u=f.items||(f.items={}),d=void 0;f.opened=!1;f.add=function(c,a,b){e=e||k.append(document.body,'<div class="contextmenus" style="position: absolute; top: -1px; left: -1px; width: 0; height: 0; overflow: hidden;"></div>');a=new t.SelectMenu({useHeader:!1,useBackdrop:!1!==b,useSelectable:!1,useKeyboard:!1,id:"sk-menu-"+
c,className:[c,"sk-contextmenu"],container:e,options:a});a.on("open",function(){f.opened=!0});a.on("close",function(){f.opened=!1;d=void 0});return u[c]=a};f.listen=function(c,a){eventjs.add(c,"contextmenu",function(b){eventjs.cancel(b);f.show({menu:a,at:{element:c,align:"top left to top right"}})})};f.id=function(){if(d)return d.id.replace("sk-menu-","")};f.getSelectMenu=function(){var c=m.doc;return 1===c.selection.length?u.selectSingle:c.selection.length?u.selectMultiple:u.selectDefault};f.show=
function(c){c=c||{};var a=l(c.menu);a?d&&d.id===a.id||(f.hide(),d=a,requestAnimationFrame(function(){a.show(c);t.tooltip&&t.tooltip.hide()})):console.warn("contextMenu.show",arguments)};f.hide=function(){d&&d.hide();d=void 0}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.ui=m.ui||{};m.ui.Input=m.ui.Textarea=function(l){function k(){a&&a.call(l,l.value)}function t(a,b){p?l.setValue(Math.max(l.min,Math.min(l.max,a))):l.setValue(a);l.value===a?g.classList.remove("bounds-error"):g.classList.add("bounds-error");a=p?b?r(l.value):isFinite(a)?r(a):"":l.value||"";"number"===l.type?g.value=a:u.text.setValue(g,a)}function f(){var a=parseFloat(g.value.replace(/[^.0-9]/g,""));return"%"===l.format&&1>=l.max?a/100:a}function e(a,b){console.log("handle",b.wheelDelta)}
var u=m.dom,d=m.ui;l=d.ensureInstanceOf(l,m.ui.vars.Input);var c=l.container,a=l.onchangeend,b=l.useGhostLayer,h="number"===l.type,p="_number_"===l.type,r=function(){function a(b){return 10<=l.max&&10<=b?Math.round(b):Math.round(10*b)/10}return function(b){switch(l.format){case "float":return b;case "degree":return a(b)+String.fromCharCode(176);case "%":return 1>=l.max?Math.round(100*b)+"%":Math.round(b)+"%";case "px":return a(b)+"px";case "x":return a(b)+"x";case "em":return a(b)+"em";case "int":return Math.round(b);
default:return a(b)+l.format}}}(),g;"textarea"===l.type?g=d.createElement("textarea",l):(g=d.createElement("input",l),g.type=p?"text":l.type);g.$setValue=t;var q;b&&(q=u.create("div"),q.className="sk-ghost-backdrop open");eventjs.add(g,"focus",function(){b&&u.append(document.body,q);p&&eventjs.add(g,"wheel",e)});eventjs.add(g,"blur",function(){b&&u.remove(q);p&&eventjs.remove(g,"wheel",e);t(l.value,!0);k()});eventjs.add(g,"mousedown",eventjs.stop);if(h||p)g.step=l.step,g.min=l.min,g.max=l.max,g.pattern=
"d*",g.inputmode="numeric";p?(g.value=r(Math.max(l.min,Math.min(l.max,l.value))),eventjs.add(g,"keydown,change",function(a){eventjs.stop(a);a=a.keyCode;if(38===a||40===a){if("number"!==l.type){var b="any"===l.step?"%"===l.format&&1>=l.max?.01:1:l.step,c=f();38===a&&(c+=b);40===a&&(c-=b);t(c);k()}}else 190!==a&&requestAnimationFrame(function(){t(f());k()})})):(g.value=l.value,eventjs.add(g,"change",function(){t(this.value)}));c&&c.appendChild(g);return g}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){function l(k){var f=[];if(k){for("number"===typeof k?k=[k]:"string"===typeof k&&(k=-1!==k.indexOf(",")?k.split(","):k.split(" "));k.length;){var e=parseFloat(k.shift());f.push(e)}return f}return[]}function k(k,f){if(isFinite(k))return k;k=parseFloat(k);return isNaN(k)?f:k}m.ui=m.ui||{};m.ui.Range=function(t){var f=this,e=m.util,u=t.css,d=t.onchange;f.target=t.target;f.setValue=function(a,b){1===f.thumbs.length&&void 0===b&&(b=a,a=0);f.thumbs[a].value=b;f.update(a,"set")};f.target&&(f.target.onchange&&
(d=f.target.onchange),f.target.setValue=f.setValue,t.value=f.target.value,t.min=f.target.getAttribute("min"),t.max=f.target.getAttribute("max"),t.step=f.target.getAttribute("step"));f.values=l(t.value,0);f.min=k(t.min,0);f.max=k(t.max,100);f.step=k(t.step,1);f.thumbs=[];f.format=t.format;f.env={};!0===t.canCross?(f.canCross=!0,f.canPush=!1):!1===t.canPush?(f.canCross=!1,f.canPush=!1):(f.canCross=!1,f.canPush=!0);var c=document.createElement("div"),a=document.createElement("span");a.className="sk-track";
c.appendChild(a);for(var b=0,h=f.values.length,a=0;a<h;a++){var p=document.createElement("div");p.className="sk-thumb";c.appendChild(p);f.thumbs.push({index:a,element:p,left:0,value:f.values[a]})}if(2===h){var r=document.createElement("div");r.className="sk-range-span";c.appendChild(r);var g=document.createElement("div");g.className="sk-range-span";g.style.display="none";c.appendChild(g)}f.element=c;f.setup=function(){t.parent&&t.parent.appendChild(c);if(!u&&(t.css=u={},t.className?(u.slider="",u.thumb=
""):(u.slider="background: #000 -webkit-radial-gradient(45px 45px, cover, rgb(0, 0, 0) 0%, rgb(255, 255, 255) 100%); border: 1px solid #000; border-radius: 25px; width: 500px; height: 40px; top: 0; position: relative; z-index: 100",u.thumb="background: #fff -webkit-radial-gradient(45px 45px, cover, rgb(0, 100, 255) 0%, rgb(255, 255, 255) 100%); border: 2px solid rgba(0,100,255,1); top: -2px; border-radius: 25px; width: 40px; height: 40px; position: absolute;"),m.gen&&m.gen.rangeBar&&!m.feature.ui.customRangeBar)){var a=
m.gen.rangeBar({gradient:t.gradient,barWidth:c.offsetWidth||201});u.slider+="\t\t\t\t\tbackground-image: url("+a.toDataURL()+");\t\t\t\t\tbackground-size: 100% "+a.style.height+";"}c.className=t.className;c.style.cssText=u.slider;for(a=0;a<h;a++)f.thumbs[a].element.style.cssText=u.thumb};f.setAnimate=function(a,b){var c=f.thumbs[a].element,g=c.style.left;c.style.cssText=u.thumb;c.style.left=g};f.update=function(a,b,e){function k(a){if(H<l.left)for(var b=l.index-1;-1<b;b--){var c=f.thumbs[b];c.left>
H&&a(c,b)}else for(b=l.index+1;b<h;b++)c=f.thumbs[b],c.left<H&&a(c,b)}a=a||0;var l=f.thumbs[a],p=f.values,m=l.element,t=c.offsetWidth||201,A=m.offsetWidth||10,D=A/2,B="construct"!==b;f.event=e;f.state=b||"change";b=t-A;var C=Math.max(0,Math.min(1,(l.value-f.min)/(f.max-f.min)))*b;if(f.canPush){var H=C+D;k(function(a,b){a.element.style.cssText=u.thumb;a.element.style.left=C/t*100+"%";a.left=H;a.value=l.value;p[b]=l.value;B&&d(f,a)});l.left=H}else f.canCross?l.left=C+D:(H=C+D,k(function(a,b){C=a.left-
D;H=a.left;a.value=l.value;p[b]=l.value;B&&d(f,a)}),l.left=H);p[a]=l.value;m.style.left=C/t*100+"%";B&&d(f,l);2===h&&(b=f.thumbs[0].left,e=f.thumbs[1].left,b<=e?(r.style.left=Math.min(b,e)+"px",r.style.width=Math.abs(b-e)+"px",g.style.display="none"):(r.style.left="0px",r.style.width=e+"px",g.style.left=b+"px",g.style.width=t-b+"px",g.style.display="block"))};eventjs.add(c,"mousedown",function(a){for(var g=eventjs.getPointInNode(a,c),d=Infinity,k,g=g.x,l=0;l<h;l++){var p=f.thumbs[l],r=p.left-g,m=
Math.abs(r);if(0>r&&m<=d||-1<r&&m<d)d=m,k=p}if(null!=k){var t=k.element,u=k.index;t.style.zIndex=++b;eventjs.proxy.drag({event:a,target:c,position:"relative",listener:function(a,b){f.setAnimate(u,"move"!==b.state);var g=c.offsetWidth||201,d=t.offsetWidth,h=Math.max(0,Math.min(g-d,b.x-d/2))/(g-d);"down"===b.state?(g="start",c.classList.add("active"),t.classList.add("active"),eventjs.blur()):"up"===b.state?(g="end",c.classList.remove("active"),t.classList.remove("active")):g="change";eventjs.cancel(a);
d=k;h=h*(f.max-f.min)+f.min;switch(f.format){case "int":d.value=Math.round(h);break;default:d.value=e.round(h,.01)}f.update(u,g,b)}})}});f.target&&f.target.parentNode&&(f.target.parentNode.insertBefore(c,f.target),f.target.style.display="none");f.setup();(function(){for(var a=h-1;-1<a;a--)f.update(a,"construct"),f.state="load"})()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l={};m.ui=m.ui||{};m.ui.SelectMenu=function(k){function t(){if(g.selectedElement){var a=eventjs.getBBox(g.selectedElement),b=eventjs.getBBox(O),c=b.height-a.height,a=a.y1-b.y1;0>a?O.scrollTop+=a-12:a>c&&(O.scrollTop+=a-c+12)}}function f(){var a=O.querySelector(".sk-hovered");a&&a.classList.remove("sk-hovered")}function e(a){var b=y.now();150<b-g.lastTimeOpen&&a(b)}function u(a){eventjs.cancel(a);e(function(a){g.lastTimeOpen=a;g.toggle()})}function d(a){eventjs.prevent(a);var c=a.keyCode;
if(27===c||13===c)eventjs.stop(a),g.hide();else if(a=0,40===c&&a++,38===c&&a--,a){var c=a,d=g.selected;a=R.length-1;d=R.indexOf(d);d=y.clamp(0,a,d+c);d=R[d];g.setValue(d)}else b(c)}function c(){X.blur()}function a(){var a=O.scrollTop,b=Q.classList;b.toggle("active",!(0>=a));b=V.classList;a=a+O.offsetHeight>=O.scrollHeight;b.toggle("active",!a)}function b(a){function b(a,c){for(var g=0;g<a.length&&c[g]===a[g];g++);return g}if(8===a)X.value="";else{var c,d=0;requestAnimationFrame(function(){var a=X.value.toLowerCase();
if(void 0!==a[0]){clearTimeout(X.timeout);X.timeout=setTimeout(function(){X.value=""},1E3);for(var h in aa){var e=aa[h],f=e.translation,f=e.nohtml||(e.nohtml=q.strip_html(f));(f=b(f.toLowerCase(),a))&&f>d&&(c=e.id,d=f)}c&&g.setValue(c)}})}}function h(){q.empty(O);aa={};R=[];var a=g.options,b;if(Array.isArray(a))b=!0;else{var c=b=!0,d;for(d in a){var h=a[d];void 0===h.label&&(b=!1);"string"!==typeof h&&(c=!1)}b=b||c}if(b)p(a);else for(var e in a)b=a[e],c=q.create("span"),c.innerHTML=w.translate(e),
c.className="optgroup",O.appendChild(c),p(b);r()}function p(a){function b(a){if(a.element)return{label:a.element,translation:a.element.textContent,eventOverride:a.eventOverride};console.warn("element returned by label handler is missing",arguments);return{}}function c(a,g){switch(typeof a){case "function":return a=a(g),a instanceof HTMLElement?{label:a,translation:a.textContent}:b(a);case "object":return b(a);default:return{label:w.translate(a),translation:a.textContent}}}function d(a){function b(a,
c){eventjs.cancel(a);250<y.now()-g.lastTimeOpen&&(g.setValue(h),g.hide(),k&&k.apply(F))}var h=a.id,e=a.label,f=a.className,k=a.onclick,l=a.enabled,p=q.create("li");f&&p.classList.add(f);if("<br>"===e)p.classList.add("sk-selectmenu-break");else{f=q.create("span");f.classList.add("sk-selectmenu-item");var r=q.create("span");r.classList.add("sk-selectmenu-option");a=c(e,r);var e=a.label,w=a.translation;a=a.eventOverride;R.push(h);aa[h]={id:h,label:e,onclick:k,enabled:l,translation:w,target:f};I?eventjs.add(f,
"mousedown",eventjs.stop):eventjs.add(f,"mousedown",eventjs.cancel);a||(I?eventjs.add(f,"click",b):(eventjs.add(f,"mouseup",b),eventjs.add(f,"mouseover",function(a){q.setClass({target:this,list:O.querySelectorAll(".sk-selectmenu-item"),name:"sk-hovered"})})));e instanceof HTMLElement?r.appendChild(e):r.innerHTML=e;U&&h===g.selected&&f.classList.add("sk-selected");f.appendChild(r);p.appendChild(f)}O.appendChild(p)}Array.isArray(a)?a.forEach(function(a,b){a.label?d({enabled:a.enabled,id:a.label,className:a.className,
label:a.label,onclick:a.onclick}):d({id:a,label:a})}):y.each(a,function(a,b){d({id:b,label:a.label||a,onclick:a.onclick,enabled:a.enabled})})}function r(){if(P&&void 0===B){var a=aa[g.selected];a&&(Y.innerHTML=w.translate(a.label))}}if(k){var g={};galactic.emitter(g);var q=m.dom,w=m.lang,z=m.agent,y=m.util,v=m.ui,x=k.id,L=k.className,E=k.selected,A=k.options,D=q.$(k.container),B=k.icon,C=k.title,H=k.tooltip,G=k.style,F=k.thisArg,N=k.onchange,K=k.onopen,J=k.onclose,S=!1!==k.useBackdrop,P=!1!==k.useHeader,
T=!1!==k.useKeyboard,U=!1!==k.useSelectable,I=!!z.mobile,z=q.create("div");z.className="sk-selectmenu-container";x&&(z.id=x);L&&q.addClass(z,L);C&&(z.title=w.translate(C));G&&(z.style.cssText=G);D.appendChild(z);var X=q.FocusNode();z.appendChild(X);if(P){var W=q.create("div");W.className="sk-selectmenu-header";var Y=q.create("span");Y.className="data-header";W.appendChild(Y);B?0===B.indexOf("http")||0===B.indexOf(".")?(D=q.create("img"),D.src=B):(D=q.create("span"),D.className=B):(D=q.create("span"),
D.className=k.labelIcon||"icon-caret-down");W.appendChild(D);z.appendChild(W);H&&v.tooltip&&v.tooltip.add(W,function(){return w.translate(g.tooltip)})}var O=q.create("ul");O.className="sk-selectmenu";var V=q.create("div");V.className="icon-caret-down arrow-down arrow";var Q=q.create("div");Q.className="icon-caret-up arrow-up arrow";var Z=q.create("div");Z.className="sk-selectmenu-backdrop";Z.appendChild(O);Z.appendChild(V);Z.appendChild(Q);eventjs.add(O,"contextmenu",eventjs.cancel);eventjs.add(Z,
"contextmenu",eventjs.cancel);L&&q.addClass(O,L);L&&q.addClass(Z,L);eventjs.add(O,"mouseout",function(a){a=eventjs.getPageXY(a);eventjs.elementsFromPoint(a.x,a.y,O).pop()!==O&&f()});g.toggle=function(){g.isVisible()?g.hide():g.show()};g.show=function(){function b(){var a=S?Z:O;document.body.appendChild(a);a.style.zIndex=999999;requestAnimationFrame(function(){a.classList.add("open")})}function c(a,b,g,d){O.offsetHeight<O.scrollHeight?(d="paddingTop"===d?-12:12,a.style.display="block",a.style.height=
"12px",a.style.width=Math.ceil(b.width)+Math.ceil(b.width%(b.width>>0))+"px",a.style.top=g+d+"px",a.style.left=Math.floor(b.x1)+"px"):(a.style.display="none",O.style[d]="")}function d(a){(0,eventjs.add)(Z,"mouseup",eventjs.cancel);setTimeout(function(){(0,eventjs.remove)(Z,"mouseup",eventjs.cancel)},a)}return function(h){h=h||{};h.element=h.element||O;if(!1===g.isVisible()){clearTimeout(g.hide.timeout);d(300);b();var e=h;O.style.display="block";O.style.height="";O.style.width="";O.style.minWidth=
"";var f=q.measure(O);if(e=q.getCoordinateAt(e))O.style.left=0>window.innerWidth-e.x-f.width?e.x-f.width+"px":e.x+"px",O.style.top=0>window.innerHeight-e.y-f.height?e.y-f.height+"px":e.y+"px";else{e=q.measure(W);O.style.top=e.y1+e.height+"px";O.style.left=e.x1+e.margin.bottom+"px";var k=f,l=window.innerWidth,p=e.width,r=Math.max(p,k.width),f=k.x1,l=l-k.x2,w=Math.max(f,l);O.style.minWidth=p+"px";l>=r?O.style.left=e.x1+e.margin.left+"px":f>=r?O.style.left=e.x2-r-e.margin.left+"px":(O.style.width=w+
"px",O.style.left=f>l?0:e.x1+"px");p=window.innerHeight;k=k.height;f=e.y1;l=p-e.y2;w=Math.max(f,l);l>=k?O.style.top=e.y2+"px":f>=k?O.style.top=e.y1-k+"px":(O.style.height=w+"px",O.style.top=f>l?"12px":e.y2+"px")}!1===I&&(f=q.measure(O),c(Q,f,f.y1,"paddingTop"),c(V,f,f.y2-12,"paddingBottom"));t();a();X.focus();F=h.thisArg||F;K&&K.apply(F);g.emit("open")}}}();g.isVisible=function(){return!!O.classList.contains("open")};g.hide=function(a){if(a=l[a||g.id])a.input.blur(),g.hide.timeout=setTimeout(function(){S?
Z.classList.remove("open"):O.classList.remove("open");g.hide.timeout=setTimeout(function(){O.style.position="";O.style.left="";O.style.top="";O.style.display="none";f();S?q.remove(Z):q.remove(O)},250)},0),J&&J.apply(F),g.emit("close")};g.setValue=function(a){a=a.toString();if(g.selected!==a){var b=aa[a];b&&(b=b.target,g.selectedElement=b,g.selected=a,U&&q.setClass({target:b,list:O.querySelectorAll(".sk-selectmenu-item"),name:"sk-selected"}),t(),r(),N&&N.apply(F,[a]),g.emit("change",a))}};v.scrollable(O);
eventjs.add(X,"focus",function(a){eventjs.add(document.body,"click",c)});eventjs.add(X,"blur",function(a){eventjs.remove(document.body,"click",c);g.lastTimeOpen=0;g.hide()});eventjs.add(Z,"mousedown",eventjs.cancel);eventjs.add(Z,"click",c);I?P&&eventjs.add(W,"click",u):(T&&eventjs.add(X,"keydown,keypress",d),eventjs.add(Q,"hover",function(a,b){O.scrollTop+=-25}),eventjs.add(V,"hover",function(a,b){O.scrollTop+=25}),eventjs.add(O,"scroll",a),P&&eventjs.add(W,"drag",function(a,b){"down"===b.state?
u(a):"up"===b.state&&15<b.distance()&&g.hide()}));var R,aa;l[x]=g;g.container=z;g.input=X;g.ul=O;g.id=x;g.options=A;g.selected=E;g.tooltip=H;g.buildMenu=h;g.lastTimeOpen=0;h();return g}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(a){return new Promise(function(b,c){var d=new FileReader;d.onerror=c;d.onload=function(){b(this.result)};d.readAsArrayBuffer(a)})}function k(a){return t(a).then(function(a){return JSON.parse(a)})}function t(a,b,c){return new Promise(function(b,c){function g(){var g=new FileReader;g.onerror=c;g.onload=function(){b(this.result)};g.readAsText(a)}"application/zip"===a.type?m.io.zip?m.io.zip.decode(a,function(a){1===a.length?g(a[0].blob):c()},c):g(a):g(a)})}function f(){var a=arguments;
return function(){console.log("success",arguments,a)}}function e(){var a=arguments;return function(b){console.error(a[0],a[1]);console.error(b)}}var u=m.convert||(m.convert={}),d=m.dom||(m.dom={}),c=m.util||(m.util={});u.blob=function(a,b){switch(b){case "blob":return Promise.resolve(a);case "arraybuffer":return l(a);case "string":return t(a);case "json":return k(a);default:return Promise.reject()}};u.toArrayBuffer=function(a){};u.toJSON=function(a){};u.toString=function(a){};u.toBlob=function(a,
b){switch(galactic.is(a)){case "Blob":case "File":return a;case "ArrayBuffer":case "String":return new Blob([a],b);default:throw{message:"convert.toBlob: Data not converted.",data:a};}};u.imageFromFile=function(a,b,d){if(a){var k=a.src||a;b=b||a.onsuccess||f(arguments);d=d||a.onerror||e("fileToImage",arguments);var l=c.loadImage({src:k,onerror:d,onsuccess:function(){b(l)}})}else console.error("fileToImage",arguments)};u.canvasFromFile=function(a,b,c){if(a){var d=a.src||a,k=a.opacity||1,g=a.canvas;
b=b||a.onsuccess||f(arguments);c=c||a.onerror||e("fileToCanvas",arguments);u.imageFromFile(d,function(a){b(u.canvasFromImage(a,g,k))},c)}else console.error("fileToCanvas",arguments)};u.patternFromFile=function(a,b,c){if(a){var d=a.src||a,k=a.opacity||1;b=b||a.onsuccess||f(arguments);c=c||a.onerror||e("fileToPattern",arguments);u.canvasFromFile({src:d,opacity:k,onerror:c,onsuccess:function(a){var c=a.ctx.createPattern(a,"repeat");c.canvas=a;b(c)}})}else console.error("fileToPattern",arguments)};u.canvasFromHTML=
function(a,b,c){if(a)if("undefined"===typeof html2canvas)console.warn("html2canvas undefined");else{var k=a.html||a;b=b||a.onsuccess||f(arguments);c=c||a.onerror||e("htmlToCanvas",arguments);var l=d.$("#sk-htmlToCanvas")||d.append(document.body,'<div id="sk-htmlToCanvas" style="position:fixed;top:0;left:0;display:none"></div>');l.style.display="block";l.innerHTML=k;html2canvas(l,{onerror:c,onrendered:function(a){b(a);l.style.display="none"}})}else console.error("htmlToCanvas",arguments)};u.canvasFromImage=
function(a,b,c){if(a)return b?(b.ctx=b.ctx||b.getContext("2d"),b.width=a.width,b.height=a.height):b=d.Canvas(a.width,a.height),m.agent.ios&&window.MegaPixImage?(new MegaPixImage(a)).render(b,{maxWidth:1E3,maxHeight:1E3}):(b.ctx.save(),b.ctx.globalAlpha=c||1,b.ctx.drawImage(a,0,0),b.ctx.restore()),b;console.error("imageToCanvas",arguments)};u.objectFromBuffer=function(a,b,c){a=u.blobFromBuffer(a);k(a).then(b,c)};u.blobFromBuffer=function(a){var b=c.FileInfo.fromBuffer(a);if(b)return new Blob([a],{type:b.mime});
console.warn("blobFromBuffer: format could not be determined");return new Blob([a])};u.blobFromDataURL=function(a){a=a.split(",");var b=atob(a[1]);a=a[0].split(":")[1].split(";")[0];for(var c=new ArrayBuffer(b.length),d=new Uint8Array(c),e=0;e<b.length;e++)d[e]=b.charCodeAt(e);return new Blob([c],{type:a})};u.blobToArrayBufferReader=function(a,b){l(a).then(function(a){b(new function(a,b){var c=0;this.buffer=a;this.dataView=b=b||new DataView(a);this.readInt8=function(){if(!(c+1>a.byteLength))return b.getUint8(c++-
1,!1)};this.readInt16=function(){if(!(c+2>a.byteLength))return b.getUint16((c+=2)-2,!1)};this.readInt32=function(){if(!(c+4>a.byteLength))return b.getUint32((c+=4)-4,!1)};this.readString32=function(a){a=this.readInt32();for(var d=0,h="";d<a;d++)h+=String.fromCharCode(b.getUint16(c,!1)),c+=2;return h};this.seekString=function(d){for(var h="",e=a.byteLength,f=0;h!==d&&c<e;){++f;var k=String.fromCharCode(b.getUint8(c,!1));c++;if(d[h.length]===k){if(h+=k,h===d)return f}else h=""}}}(a))})};u.blobFromObject=
function(a){return new Blob([JSON.stringify(a)],{type:"text/json"})}})(sketch);"undefined"===typeof sketch&&(sketch={});(function(m){m=(m.util||(m.util={})).base64={};m.toHex=function(l){l=atob(l||"");for(var k="",m=0,f=l.length;m<f;m++)k+=l.charCodeAt(m).toString(16);return k};m.toUTF8=function(l){str=str||"";return decodeURIComponent(escape(atob(str)))}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=(m.util||(m.util={})).hex={};l.toASCII=function(k){k=k||"";for(var l="",f=0,e=k.length;f<e;f+=2)l+=String.fromCharCode(parseInt(k.substr(f,2),16));return l};l.toBase64=function(k){return btoa(l.toASCII(k||""))}})(sketch);"undefined"===typeof sketch&&(sketch={});(function(m){((m.util||(m.util={})).utf8={}).toBase64=function(l){return btoa(unescape(encodeURIComponent(l||"")))}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Download=function(l){function k(a,b){var c=l.doc,g=b.split("/").pop(),c=a||c.title||"sketch";return-1===c.indexOf(g)?c+"."+g:c}function m(a,b,c,g,d,e,f,k){var t=l.doc,x=typeof a,u="object"===x?a:{},E=function(a,b,c){typeof u[a]!==b&&(u[a]=c)},A=function(a,b,c){if("function"===typeof c)if(u.callback){var g=u.callback;u.callback=function(){g();c()}}else u.callback=c;if(typeof c===b)return u[a]=c,!0};"number"===x||"undefined"===x?(A("x","number",a),A("y","number",
b),A("width","number",c),A("height","number",g),A("mime","string",d),A("quality","number",e),A("dpi","number",f),A("callback","function",k)):"string"===x?(A("mime","string",a),A("quality","number",b),A("callback","function",c)):"function"===x&&A("callback","function",a);a=t.getBounds();a.width&&E("width","number",a.width);a.height&&E("height","number",a.height);d=u.mime=(u.mime||u.format||"image/jpeg").toLowerCase();0!==d.indexOf("image/")&&(d=u.mime="image/"+d);"image/jpeg"===d&&(u.background=u.background||
"#fff");E("mime","string","image/png");E("quality","number",1);E("dpi","number",t.exportDPI);return u}var f=this,e=l.agent,u=l.dom,d=l.lang,c=l.ui,a=l.util;f.blob=function(a,c,d){d=l.doc;a=a||new Blob(["hello world"]);c=c||d.title+".txt";e.chooseEntry?chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:c},function(b){b.createWriter(function(b){b.write(a)},function(a){console.error(a)})}):e.has("io.blob",function(){saveAs(a,c)},function(){var g=URL.createObjectURL(a);b.download(g,c)})};f.object=
function(b,c,d){b=a.json.stringify(b);f.text(b,c,d)};f.text=function(a,c,d){var g=l.doc;c=c||g.title+".txt";d=d||"text/plain";e.has("io.blob",function(){f.blob(new Blob([a],{type:d}),c)},function(){var g="data:"+d+";base64,"+btoa(a);b.download(g,c)})};f.canvas=function(d,l,r,g){b.isReady()&&(d=d||u.Canvas(),r=r||"image/png",g=g||1,l=k(l,r),a.exists("canvas2ImagePlugin.saveImageDataToLibrary")?canvas2ImagePlugin.saveImageDataToLibrary(function(a){c.alert("Image successfully saved to your Photo Gallery.")},
function(a){c.alert("There was an error saving your image.")},d):e.has("io.blob",function(){d.toBlob(function(a){f.blob(a,l)},r,g)},function(){var a=d.toDataURL(r,g);b.download(a,l)}))};f.sketch=f.zip=function(a){if(b.isReady()){var c=l.doc;l.save.zip().then(function(b){var g=a||c.title;a=-1===g.indexOf(".sketchpad")?g+".sketchpad":g;f.blob(b,a)})}};f.svg=function(a,c){var d=l.doc;b.isReady()&&(c=c||{},"object"===typeof a&&(c=a,a=c.filename||d.title),c.onsuccess=function(b){var c=a||d.title;a=-1===
c.indexOf(".svg")?c+".svg":c;f.text(b,a,"image/svg+xml")},l.save.svg(c))};f.json=function(c,d){var e=l.doc;b.isReady()&&(d=d||{},"object"===typeof c&&(d=c,c=d.filename||e.title),l.save.json(d).then(function(b){var d=c||e.title;b=a.json.stringify(b.data);c=-1===d.indexOf(".json")?d+".json":d;f.text(b,c,"application/json")}))};f.image=function(a,c,d,g,e,k,z,y){b.onReady(function(b){var x=m(a,c,d,g,e,k,z,y);l.save.canvas(x,function(a){72===x.dpi?f.canvas(a,x.filename,x.mime,x.quality):f.canvasDPI(a,
x.filename,x.mime,x.quality)})})};(function(){f.canvasDPI=function(b,c,g,d,e){g=g||"image/png";d=d||1;c=k(c,g);b.toBlob(function(b){l.convert.blobToArrayBufferReader(b,function(d){d=a[g](b,d,e);f.blob(d,c)})},g,d)};var a={"image/jpeg":function(a,b,c){b=b.dataView;b.setUint8(13,1);b.setUint16(14,c);b.setUint16(16,c);return new Blob([b],{type:"image/jpeg"})},"image/png":function(a,c,d){d=b(d/72*2834.6472);d=[112,72,89,115].concat(d).concat(d).concat(1);d=b(d.length-4).concat(d).concat(g(d));var h=c.seekString("IDATx")-
5-4;c=a.slice(0,h);a=a.slice(h,a.size);return new Blob([c,new Uint8Array(d),a],{type:"image/png"})}},b=function(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]},c=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,
1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,
1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,
3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,
829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,
4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],g=function(a,g){g=(g|0)^4294967295;for(var d=0,h=a.length;d<h;d++)g=g>>>8^c[(g^a[d])&255];return b(g^4294967295)}})();f.pdf=
function(c,e,k,g,q,w,z,y){var v=l.doc;l.loader&&l.loader.create("thread",d.translate("reading-files")+"...");b.onReady(function(b){var d=m(c,e,k,g,q,w,z,y);l.io.pdf.save(a.copyInto({onprogress:function(a){l.loader&&l.loader.create("thread",null,a)},onsuccess:function(a){f.blob(a,(d.filename||v.title)+".pdf")},onerror:function(){console.warn("error saving pdf")}},d))})};var b=new function(){var c="undefined"===typeof document?!1:"download"in document.createElement("a");this.lapse=1E3;this.getElement=
function(){var b=this.element||u.$("#sk-download-element");if(b)return b;this.element=document.createElement("a");this.element.id="download";this.element.target="_blank";this.element.style.display="none";this.element.timestamp=a.now()-this.lapse;document.body.appendChild(this.element);return this.element};this.isReady=function(b){var c=this.getElement(),g=a.now();if(g-c.timestamp>=this.lapse)return b?!0:c.timestamp=g};this.onReady=function(a){var b=this.getElement();if(this.isReady(!0))return a(b),
b};this.download=function(a,d){if(c){var g=b.getElement();g.download=d;g.href=a;g.click()}else window.open().document.write("<title>"+d+'</title><img src="'+a+'"/>')}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Open=function(l){var k=this,m=l.dom,f=l.convert,e=l.io,u=l.lang,d=l.util.string,c=l.util;k.folder=function(a){var b=a.entries,h=a.onerror,e=a.onsuccess,r=a.onprogress;l.loader&&l.loader.create("thread",u.translate("reading-files")+"...");var g,q=c.Queue({items:b,delayStart:!0,oncomplete:function(){g?k.json(g,e,r):(l.loader&&l.loader.create("thread",null,100),h&&h({message:"JSON not found in folder."}))},next:function(a,c,h){c=(h+1)/b.length*100>>0;l.loader&&
l.loader.create("thread",null,Math.max(0,c-1));if(c=a.name)switch(c){case "README.txt":q.next();break;case "sketch.json":f.blob(a,"string").then(function(a){g=a;q.next()}).catch(function(a){console.error(a)});break;default:"asset-"===c.substr(0,6)?l.assets.add({data:a,onerror:q.next,onsuccess:q.next,targetId:"#"+d.filenameSansExtension(c)}):q.next()}else return q.next()}})};k.chooseEntry=function(a){a=a||{};var b=a.onsuccess;a=a.onerror;if(c.exists("navigator.camera.getPicture"))navigator.camera.getPicture(function(a){f.canvasFromFile(a,
function(c){c.toBlob(function(c){c.path=a;c.name=d.filename(a);b(c);navigator.camera.cleanup()})})},a,{destinationType:Camera.DestinationType.NATIVE_URI,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,targetWidth:640,targetHeight:480,saveToPhotoAlbum:!1});else return c.exists("chrome.fileSystem.chooseEntry")?(chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{extensions:l.uploader.formats}]},function(a){a&&a.file(function(a){b(a)})}),!0):!1};k.clipart=k.image=function(a){function b(b){if(a.openAsNew){l.exec("reset");
if(b.vob){var e=b.vob.width;b=b.vob.height}else e=b.width,b=b.height;c.setSize(e,b);c.scene.add({centerOnPoint:!0,type:k,src:f,width:e,height:b,x:e/2,y:b/2},function(){c.tool("select");c.scene.deselectAll();c.orient.reset();c.orient.render();d&&d()},g)}else c.addMedia(a)}var c=l.doc;"string"===typeof a&&(a={src:a});var d=a.onsuccess,e=a.onprogress,g=a.onerror,f=a.src||"",k=a.type||"image";if(a.blob)l.assets.add(a.blob,function(a,c){b(c)},g,e);else if(-1!==f.indexOf("filesystem:")){var z=new Image;
z.src=f;z.onprogress=e;z.onerror=g;z.onload=function(){var a=m.Canvas(this.width,this.height);a.ctx.drawImage(this,0,0);b(a)}}else l.assets.add(f,function(a,c){b(c)},g,e)};l.server&&(k.fromServer=l.server.open);e.zip&&(k.sketch=e.zip.open);e.svg&&(k.svg=e.svg.open);e.pdf&&(k.pdf=e.pdf.open);e.json&&(k.json=e.json.open)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Print=function(l){var k=l.dom;return function(m){function f(e){var f=72/(m.dpi||72),d=f*e.width+"px",f=f*e.height+"px";e.style.width=d;e.style.height=f;var c;(c=k.$("#sk-printable"))||(document.documentElement.setAttribute("mozNoMarginBoxes",!0),document.documentElement.setAttribute("mozDisallowSelectionPrint",!0),c=k.append(document.body,'<div id="sk-printable"></div>'));c.style.width=d;c.style.height=f;c.innerHTML="";c.appendChild(e);window.print()}m=
m||{};"CANVAS"===m.nodeName?f(m):(m=Object.assign({},m,{usePixelRatio:!1}),l.save.canvas(m,f))}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Save=function(l){function k(a,b,c,d,e,f,k){var p=l.doc,m=u.Canvas(c,d),t=m.ctx;f&&"none"!==f&&"transparent"!==f&&(t.save(),t.rect(0,0,c,d),t.scale(e,e),t.translate(-Math.abs(a%c),-Math.abs(b%d)),1!==k&&(t.fillStyle="white",t.fill()),t.globalAlpha=k,t.fillStyle=f,t.fill(),t.restore());a=p.contexts;for(var A in a)h[A]||t.drawImage(a[A],0,0,c,d);return m}function m(a){return a.mime?a.mime:a.format?"image/"+a.format:"image/png"}function f(a){var b=a[0]||{};
return"function"===typeof b?{args:{},onsuccess:b,onerror:a[1]}:{args:b,onsuccess:a[1]||b.onsuccess||b.callback||console.warn.bind(console),onerror:a[2]||b.onerror||console.warn.bind(console)}}var e=this,u=l.dom,d=l.feature,c=l.io,a=l.util,b=Number.isFinite;e.toDataURL=function(){var a=f(arguments).args;return new Promise(function(b){var c=m(a),d=a.quality||1;e.canvas(a,function(a){b(a.toDataURL(c,d))})})};e.toBlob=function(){var a=f(arguments).args;return new Promise(function(b){var c=m(a),d=a.quality||
1;e.canvas(a,function(a){a.toBlob(function(a){b(a)},c,d)})})};e.toBlobURL=function(){var a=f(arguments).args;return e.toBlob(a).then(function(a){return URL.createObjectURL(a)})};e.canvas=function(){function c(b){D?a.thumbnailer({src:b,width:R,height:aa,dpi:Z,background:x,center:C,croparea:B,crop:D,onsuccess:m}):m&&m(b)}var g=l.doc,d=g.canvas2d,h=g.render,p=f(arguments),m=p.onsuccess,t=p.args,x=t.background,u=1,E=t.dpi,A=t.scale||1,D=t.crop,B=t.croparea,C=t.center,H=t.width,G=t.height,p=t.highRes,
F=t.x,N=t.y,K=t.useBBox,J=!1!==t.usePixelRatio,S=t.useVisibleRegion,P=t.useSelection,T=t.usePixelBBox;e.perf=l.perf();var U=g.getBounds(),I=g.pixelRatio,X=72*I,W=U.width,U=U.height,E=b(E)?E:J?X:72;b(A)&&(E*=A);var Y=b(H)?H:W,O=b(G)?G:U,V=0,Q=0;if(D){var Z=E,R=Y,aa=O;H&&G&&(A=H/W,G/=U,E=A<G?E*A:E*G);Y=W;O=U}else V=b(F)?F:0,Q=b(N)?N:0;var ba=E/72,p=b(p)?p:h.highRes||E!==X,K=P||K||!b(V+Q+Y+O);"transparent"!==g.background&&"none"!==x&&(x=g.computed.background,u=g.background.opacity);T&&l.raster.getPixelBBox?
(t=l.raster.getPixelBBox(g.contexts.layer0.ctx),V=t.x/I>>0,Q=t.y/I>>0,Y=t.width/I>>0,O=t.height/I>>0):K&&g.scene?(t=g.scene.getBoundingBox(t),V=t.x*ba>>0,Q=t.y*ba>>0,Y=t.width*ba>>0,O=t.height*ba>>0):(Y*=ba,O*=ba);Y=Math.ceil(Y);O=Math.ceil(O);S&&(Y=Math.min(Y,d.width),O=Math.min(O,d.height),V=Math.max(V,0),Q=Math.max(Q,0));if(l.getSnapshot)return l.getSnapshot(c,Y,O);if(g.scene){var ia=d.width,fa=d.height,M=d.tx,da=d.ty,ma=g.zoom,oa=h.highRes,na=g.contexts.layer0,ua=na.width,va=na.height;Y!==na.width&&
(na.width=Y);O!==na.height&&(na.height=O);g.pixelRatio=ba;g.zoom=1;d.width=Y;d.height=O;d.tx=(-V-g.originX)*ba;d.ty=(-Q-g.originY)*ba;h.dirtyClip=!0;h.highRes=p;h.selection=P&&g.selection.items;g.scene.deselectAll();h.now(function(){h.dirtyClip=!0;h.selection=!1;h.highRes=oa;d.width=ia;d.height=fa;d.tx=M;d.ty=da;g.zoom=ma;g.pixelRatio=I;var a=k(V,Q,Y,O,ba,x,u);ua!==na.width&&(na.width=ua);va!==na.height&&(na.height=va);g.render.dirty=!0;c(a)})}else c(k(V,Q,Y,O,ba,x,u))};var h={cache:!0,active:!0,
draw:!0};c&&c.json?(e.json=c.json.save,e.assets=c.json.assets):e.json=e.assets=function(){console.warn("IO.JSON support not included.")};e.toServer=l.server&&l.server.save?l.server.save:function(){console.warn("IO.Server support not included.")};e.toFS=l.fs.saveProject?l.fs.saveProject:function(){console.warn("IO.FileSystem support not included.")};e.svg=c&&c.svg?c.svg.save:function(){console.warn("IO.SVG support not included.")};e.pdf=c&&c.pdf?c.pdf.save:function(){console.warn("IO.PDF support not included.")};
e.zip=function(a){a=a||{};var b=a.embedHistory;return new Promise(function(a){e.folder({embedHistory:b}).then(function(b){c.zip.encode(b,function(b){a(b)},function(a){console.log(a)},onprogress)})})};e.folder=function(a){a=a||{};var b=a.embedHistory;return e.assets().then(function(a){return e.json({embedHistory:b}).then(function(b){var c=[],g;for(g in a){var d=p[a[g].type];c.push({filename:g.substr(1)+"."+d,blob:a[g]})}c.push({filename:"sketch.json",blob:new Blob([b.data],{type:"application/json"})});
return c})})};e.sync=function(b){function c(a){h&&h((m-(k-1))/m*100);--k||f&&f(u)}var d=l.doc;b=b||{};var h=b.onprogress,f=b.onsuccess||console.warn.bind(console);b=b.sync||{};if(!a.count(b))return f();var k=0,p;for(p in b)b[p]&&(!0===b[p]&&(b[p]={}),k++);var m=k,t,u={};for(p in b)if(t=b[p])switch(p){case "metadata":(function(a){for(var b in a)u[b]=a[b]})(t);c("metadata");break;case "folder":e.folder(t).then(function(a){u.folder=a;c("folder")});break;case "zip":e.zip(t).then(function(a){u.sketch=
a;c("zip")});break;case "svg":e.svg(a.copyInto(t,{onsuccess:function(a,b){u.svg=b;c("svg")}}));break;case "json":e.json(t).then(function(a){u.json=a.data;c("json")});break;case "thumb":t.background=d.computed.background,t.suffix=t.suffix||"thumb";case "image":var A=t.format||"png";t.idx=t.suffix?t.suffix+"."+A:A;(function(a){a.toBlob?e.toBlob(a).then(function(b){u[a.idx]=b;c("image")}):e.toDataURL(a).then(function(b){u[a.idx]=b;c("image")})})(t);break;default:c()}};e.confirm=function(a){var b=l.doc;
a=a||{};var c=a.onrequestsave,d=a.oncontinue,h=a.oncancel;a=function(){l.ui.confirm({content:"change-doc-confirm",callback:function(a){!0===a?c&&c():-1===a?d&&d():h&&h()},labels:{ok:"save",cancel:"cancel",disregard:"dontSave"}})};b.needsSync()?a():d&&d()};e.chooseEntry=function(b,c,d){return l.agent.nodewebkit?(c=l.dom.create('<input id="export_file" type="file" nwsaveas />'),c.addEventListener("change",function(a){console.log(this.value);require("fs").writeFile(this.value,b,function(a){a&&alert("error"+
a)})},!1),c.click(),!0):a.exists("chrome.fileSystem.chooseEntry")?(chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:"blah.image"},function(a){a.createWriter(function(a){a.onwriteend=function(b){a.onwriteend=null;a.truncate(content.size)};a.onerror=function(a){console.log("Write failed: "+a.toString())};a.write(blob)},errorHandler)}),!0):!1};e.fromQuery=function(a,b,c){!d.sync.enabled||l.agent.nodewebkit||l.agent.incognito?l.download.image():l.on.requestsave?l.on.requestsave({onsuccess:a,
onerror:b,onprogress:c}):l.fs.supported?l.fs.saveProject({onsuccess:a,onerror:b,onprogress:c}):l.save.toServer({onsave:a,onerror:b,onprogress:c})};var p={"image/png":"png","image/gif":"gif","image/jpeg":"jpeg","image/svg+xml":"svg"}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(){console.log("success",arguments)}function k(){console.warn("error",arguments)}m.module=m.module||{};m.module.JSON=function(t){function f(a,b,d){b=b||a.onsuccess||l;d=d||a.onerror||k;var e=a.data||a;if(p.FileInfo.isBlob(e))c.blob(e,"string").then(function(a){f(a,b,d)});else{var m;if("string"===typeof e){if(e.startsWith("<")){t.loader&&t.loader.stop("thread");return}if(h.isValidXhrUrl(e)){p.request({url:e,format:"text",onerror:d,onsuccess:function(c,h){"object"!==typeof a&&
(a={});a.data=h;f(a,b,d)}});return}try{m=JSON.parse(e)}catch(y){d(y,e);return}}else m=e;m?b(m):d({message:"JSON could not be read."})}}function e(a,b,c){if(c||b)a=JSON.stringify(a);c&&(a=new Blob([a],{type:"application/json"}));return a}function u(a,b,c){var d=t.doc;d.config(p.filter(a,function(a){return"clip"!==a}));d.setMetrics(a);(a=a.background)?d.setBackground(a,b,c):b()}var d=this,c=t.convert,a=t.feature,b=t.lang,h=t.loc,p=t.util;d.open=function(c,g,h,e){function k(b){function c(){l.lastModified=
l.lastSynced;e&&e(100);g&&g(b);t.emit("open")}function f(a){e&&e(99*a>>0)}function r(){if(a.doc.editable){var g=b.history&&b.history.vector;g&&p.isNotEmpty(g.data)?l.history.setData(g):l.history.store({cmd:"open",name:"open",data:[]},null,!1)}b.actions?l.scene.load({objects:b.actions,onprogress:f}).then(c):c()}L?d.merge(b,g,h):(e&&e(0),b=d.upgrade(b),x?m?u(b.metadata,r,r):u(b.metadata,c,c):c())}var l=t.doc,m=!1!==c.loadDocument,x=!1!==c.loadMetadata,L=c.mergeIntoScene||!1;g=c.onsuccess||g;h=c.onerror||
h;e=c.onprogress||e||function(a){t.loader&&(0===a?t.loader.create("thread",b.translate("opening-format",".JSON")+"...",0):100===a?t.loader.stop("thread"):t.loader.create("thread",null,a))};f(c,function(a){a.assets?t.assets.addList(a.assets,function(){k(a)}):k(a)},h)};d.merge=function(a,b,c){if(a){c=t.doc;a=a.actions?a.actions:a;for(var d=0;d<a.length;d++){var h=a[d];void 0===c.scene.getById(h.id)&&c.scene.push(h)}c.scene.load().then(b)}else c&&c({message:"Data could not be merged."})};d.save=function(a){"object"!==
typeof a&&(a={});a=a||{};var b=t.doc,c=a.toBlob||!1,h=!1!==a.toString,f=a.embedAssets||!1,k=a.embedHistory||!1;a=a.quality||1;var l=b.scene.children,p={};p.metadata=b.config.json();p.version=t.__version;b.history&&k&&(p.history={},p.history.vector=b.history.vector);if(f)return d.assets({quality:a,toDataURL:!0}).then(function(a){p.assets=a;p.actions=l;return{data:e(p,h,c),assets:a}});p.actions=l;b=e(p,h,c);return Promise.resolve({data:b})};d.assets=function(b){function c(b){return new Promise(function(c){var g=
t.assets.getId(b.src);if(l[g]||null==g)c();else{b.src=g;var d=t.assets.getItem(g),q=b.type;if("clipart"===q){if("function"!==typeof d.stringify){a.debug&&console.warn("cannot stringify svg",d);c();return}if(e){l[g]=d.srcXML&&!d.__colormap?d.srcXML:d.stringify();c();return}}else if(t.detect.useStampResource[q]&&"image/jpeg"===f&&(q=d.getContext("2d"),q.save(),q.globalCompositeOperation="destination-atop",q.fillStyle="#fff",q.fillRect(0,0,d.width,d.height),q.restore()),e){l[g]=t.assets.getDataURL(g,
f,k);c();return}h?t.assets.getBlobURL(g,function(a){l[g]=a;c()},f,k):t.assets.getBlob(g,function(a){l[g]=a;c()},f,k)}})}if(t.__nodejs)return Promise.resolve();"object"!==typeof b&&(b={});b=b||{};var d=t.doc,d=b.objects||d.scene.children,h=b.toBlobURL||!1,e=b.toDataURL||!1,f=b.mime||"image/png",k=b.quality||1;1!==k&&(f="image/jpeg");var l={};b=[];for(var p=0;p<d.length;p++){var m=d[p];m.src&&b.push(c(m))}return Promise.all(b).then(function(){return l})};d.upgrade=function(b){b.version=b.version||"2.0a";
b.version=b.version.replace("dev","");for(var c=p.version(b.version||"2.0"),d={"2.0a":c.is("<2.0a"),"3.3":c.is("<3.3"),"3.4":c.is("<3.4"),"3.4.6":c.is("<3.4.6"),"3.4.6.1":c.is("<3.4.6.1"),"3.5.9.2":c.is("<3.5.9.2"),"3.6.8":c.is("<3.6.8"),"3.7.8.1":c.is("<3.7.8.1")},h=b.actions||[],e=0,f=h.length;e<f;e++){var k=h[e];k.bbox=k.bbox||{};k.bbox.scale=k.bbox.scale||{x:1,y:1};if(d["3.7.8.1"]){if(d["3.6.8"]){if(d["3.5.9.2"]){if(d["3.4.6"]){if(d["3.3"]){if(d["2.0a"]){var l=k;l.color_mode&&(l.fill.mode=l.color_mode);
l.color_noise&&(l.fill.noise=l.color_noise);l.flow&&(l.spacing=l.flow)}l=k;"string"===typeof l.src&&(l.src=l.src.replace("/brush/","/stamp/"),l.src=l.src.replace("/animal/","/animals/"));"polygon"===l.type&&(l.type="regularPolygon");"radialBurst"===l.type&&(l.spread=l.slope,delete l.slope);"0,00000000"===l.fill.gradient&&(l.fill.gradient="none")}l=k;l.content&&(l.content=l.content.split("\uf7c2\uf7a0").join(" "));m.detect.brush[l.type]&&l.bbox.padding&&(l.bbox.x-=2*l.bbox.padding,l.bbox.y-=2*l.bbox.padding);
"paint"===l.composite&&(l.composite="source-over");"light"===l.composite&&(l.composite="lighter");l.saturation===+l.saturation&&(l.type="image");"image"===l.type&&(delete l.hue,delete l.saturation,delete l.temperature,delete l.tint,delete l.exposure,delete l.brightness,delete l.contrast,delete l.filters)}l=k;"floodfill"===l.type&&(l.usePixelData=!0);l.roundness&&(l.roundness/=200);l.filters&&(l.filter=l.filters,delete l.filters)}l=k;"string"!==typeof l.toolkitId&&(l.toolkitId=m.doc.toolkit.getToolkitId(l.type));
l.fill&&(l.fill=new m.style.Fill(l.fill),l.fill.enabled=!0,l.fill.angle=225);l.stroke&&(l.stroke=new m.style.Fill(l.stroke),l.stroke.angle=225)}k.pointerId=k.finger||"0:1";delete k.finger;isFinite(k.slope)&&("burst"===k.type?console.log("handle",k):k.slope=1-k.slope)}}h=b.metadata=b.metadata||{};d["3.7.8.1"]&&(d["3.6.8"]&&(d["3.4.6.1"]&&(d["3.4.6"]&&(d["3.4"]&&(d=b.metadata,b.title&&(d.title=b.title),b.description&&(d.description=b.description),b.width===+b.width&&(d.width=b.width),b.height===+b.height&&
(d.height=b.height)),d=b.metadata,"string"!==typeof d.units&&(d.units=!1===d.autoResize||!1===d.infiniteCanvas?"px":"%")),d=b.metadata,isFinite(d.x+d.y)&&(d.x=-d.x,d.y=-d.y)),d=b.metadata,b.history&&b.history.vector&&(b.history.vector={max:4294967295,current:0,data:[]}),"bluePrint"===d.background&&(d.background="blueprint"),"%"===d.units&&(d.width*=100,d.height*=100)),b.history&&b.history.vector&&(b.history.vector={max:4294967295,current:0,data:[]}),d=b.metadata,d.exportDPI=d.dpi||72,d.exportFormat=
d.format||"png",d.originX=d.x||0,d.originY=d.y||0,d.scrollX=d.scrollLeft||0,d.scrollY=d.scrollTop||0);h.uuid=h.uuid||p.uuid();h.background=h.background||"transparent";h.units=h.units||"%";isFinite(h.width+h.height)||(h.units="%",h.width=100,h.height=100);isFinite(h.x+h.y)||(h.x=0,h.y=0);h.pages&&h.pages.length||(h.pages={length:1,data:[{width:h.width,height:h.height}]});a.debug&&(d=t.__version.replace("dev",""),c.is("<"+d)&&console.warn("upgraded from:",c));return b}}})(sketch);
(function(m){m.toolkit("brush",function(l,k){function m(b){var c=eventjs.getPointInNode(b,k.container),g=a.createPointer("ghost",!0);if(null!=g&&!g.then){var d=g.object.brush;d.state="move";d.pointerId="ghost";d.isGhost=!0;d.isRecording=!0;d.composite=y.composite;d.event=b;d.interval=g.interval;d.pointerId=d.pointerId||"A:0";g.fill&&g.fill.__colors&&(d.fill=g.fill);g.stroke&&g.stroke.__colors&&(d.stroke=g.stroke);l.assets.isDefault(d.resource)&&l.assets.exists(d.src)&&(d.resource=l.assets.getItem(d.src));
b=k.scrollX;var g=k.scrollY,h=k.scale,e=k.zoom,f=c.x/e/h,c=c.y/e/h;if(isFinite(d.ghostDistance+d.ghostX+d.ghostY)){var e=d.ghostX-f,q=d.ghostY-c,p=Math.sqrt(e*e+q*q),h=d.ghostDistance;p>h&&(e=Math.atan2(q,e),d.ghostX=f+Math.cos(e)*h,d.ghostY=c+Math.sin(e)*h,d.x=f,d.y=c)}else d.ghostX=f,d.ghostY=c,d.px=f,d.py=c,d.x=f,d.y=c;D.ghostX=d.ghostX-b;D.ghostY=d.ghostY-g;d.pathRecord=[{cmd:"M",x:d.ghostX,y:d.ghostY},{cmd:"L",x:f+.1,y:c+.1}];u(d)}}function f(b){if(b=a.device.brush)b.state="down",u(b)}function e(b){if(b=
a.device.brush)b.state="up",w.removePointer("ghost"),delete D.ghostX,delete D.ghostY}function u(a){a.dirtyRender=!0;w.dirtyPointer=!0}function d(b,c,d){var g=this.brush;if(g){this.dirtyCheck&&z.copyAttributes(a.attributes,this,g);var h=g.interval||this.interval;g.ctx=b;g.active=a.draw;g.cache=a.cache;g.isGhost=!1;g.isRecording=!1;g.interval=h;g.pointerId=this.pointerId;g.bbox=this.bbox;g.state=g.state||"up";if(!d){var e=this.bbox,f=k.scale,l=e.scale.x*f,f=e.scale.y*f;c.matrix.x=0>l?-e.width*l:0;c.matrix.y=
0>f?-e.height*f:0;c.matrix.y+=e.padding*(f-(l-1)-1);c.apply(b,!0)}this.fill&&this.fill.__colors&&(g.fill=this.fill);this.stroke&&this.stroke.__colors&&(g.stroke=this.stroke);g.preprocess&&g.preprocess();g.prepare();a.renderBrush(this.data,g,d);g.interval=h;g.postprocess&&g.postprocess()}else console.warn("brush undefined",g,this)}function c(a){var b=k.toolkit.config[a.type],c=0;b.diameter&&a.diameter&&(isFinite(a.diameter)?c=a.diameter||0:isFinite(a.diameter.value)?c=a.diameter.value:isFinite(a.diameter.min)&&
(c=a.diameter.max));var g=b.scale&&a.scale&&a.scale.max||1,d=b.translate&&a.translate&&a.translate.max||0,d=2*Math.sqrt(d*d+d*d);return Math.ceil(((2*(b.blur&&a.blur||0)+c+(b.lineWidth&&a.lineWidth||0))*g+d)/2)}var a=this,b=k.canvas2d,h=k.contexts,p=l.detect,r=l.feature.tools.brush,g=l.feature,q=l.net,w=k.render,z=k.scene,y=l.style,v=k.toolkit,x=l.util,L=l.vector,E=L.Cubic,A=L.Point,D={};a.id="brush";a.units=r.units;a._attributes={pathSimplify:"number",pathSmoothing:"number",content:"string",finger:"string",
blur:"number",mode:"number",curved:"boolean",diameter:"number",increment:"number",lineWidth:"number",radius:"number",speed:"number",interval:"number",spacing:"clamp",spread:"number",src:"string",tolerance:"number",contiguous:"boolean",rotate:"clamp",scale:"clamp",translate:"clamp",data:"object"};var B=x.copy(a._attributes);a.attributes=x.copyInto(l.attrs.__styledObject,B);(function(){var b={};a.enabled=!1;a.enable=function(){var c=a.device.brush||{};c.enable&&c.enable();!1===a.enabled&&(a.enabled=
!0,C.enable(),l.keyboard&&l.keyboard.listen(k,b),b.dragOrGesture=eventjs.proxy.dragOrGesture({target:h.active,ongesture:{listener:v.select.onGesture},ondrag:{listener:a.onRecord,maxFingers:c.usePointerMax||x.INFINITY,monitor:c.useMonitor||!1}}))};a.disable=function(){var c=a.device.brush||{};c.disable&&c.disable();!0===a.enabled&&(a.enabled=!1,C.disable(),eventjs.bulk(b,"remove"))}})();a.addPointClone=function(a){var b=a.pointerId,c=a.batchRecord,d=a.pathRecord;if(c&&0===c.length){var g={cmd:"L",
x:a.x,y:a.y};c.push(g);d.push(g);a.state="move";k.on.record&&k.emit("record",{op:"TOOL",data:{state:v.cleanState(a.state),pointerId:b,point:z.pointInPeerSceneFromCanvas(g),metaKey:eventjs.metaKey,shiftKey:eventjs.shiftKey}});u(a)}};a.loadResource=function(b,c){function g(){var a=this.type;this.isEraser="destination-out"===y.readBlend(this)||"eraser"===a;this.useAreaTracker=p.useAreaTracker[a]&&"color"!==this.fill.type;return this.renderTo=this.ctx}return new Promise(function(c,h){var e=b.type,f=l.toolkit("brush."+
e);if(null==f)return h({fatal:!0,message:e+" unavailable."});new f(l,k,b,function(e,f){f?h({fatal:!0,message:"&ldquo;"+b.src+"&rdquo; "+b.type+" unavailable."}):(z.copyProperties(a,b,e),e.__env={},e.toolkit=a,e.object=b,e.prepare=e.prepare||g,e.seed=b.seed||e.seed||x.Random.seed(),e.ctx=a.ctx,e.active=a.draw,e.cache=a.cache,k.loadStyle(e).then(function(){b.fill&&(b.fill.__colors=e.fill.__colors);b.stroke&&(b.stroke.__colors=e.stroke.__colors);b.dirtyCheck=!0;b.render=d;b.brush=e;c(b)}))})})};a.createObject=
function(b){var c=b.device;b=b.object;var g=z.copyProperties(a,c);g.firstRecord=b.firstRecord;g.data=x.copy(b.path);g.bbox=x.copyInto(b.bbox,a.updateObjectSize(g));g.interval=c.__interval;return a.loadResource(z.addObject(g))};var C=function(){var b={},c=!1;return{enable:function(){if(r.useGhostMode&&eventjs.isMouse){var g=a.device.brush;g&&!1!==g.useGhostMode&&!1===c&&(c=!0,b.onGhostEnter=eventjs.add(h.active,"mouseover",f),b.onGhostExit=eventjs.add(h.active,"mouseout",e),b.onGhostMove=eventjs.add(h.active,
"mousemove",m))}},disable:function(){!0===c&&(c=!1,eventjs.bulk(b,"remove"),w.removePointer("ghost"))}}}();a.onRecord=function(b,g){var d=g.state,h=g.pointerDown,e=g.pointerStart,f=g.pointerDrag,l=g.pointerMove,q=g.pointerEnd,p=a.editPID||k.eventPID(g),m=isFinite(g.shiftKey)?g.shiftKey:eventjs.shiftKey,t=isFinite(g.metaKey)?g.metaKey:eventjs.metaKey,y=!!b,E=y&&k.on.record,B=y&&e,O=y&&(e||l);k._interacting=h;y&&(q&&(a.device.brush.event=b),e?(C.disable(),eventjs.prevent(b)):q?eventjs.prevent(b):eventjs.cancel(b));
if(h=a.createPointer(p,B)){if(h.then)return g.waitForThenReplay(h).catch(function(){console.error(arguments);w.removePointer(k.eventPID(g))});h.lastModified=Date.now();var p=h.pointerId,V=h.object,h=V.type,Q=V.brush;Q.state=d;Q.pointerId=p;Q.isGhost=!1;Q.isRecording=!0;Q.isFromBrowser=y;var B=Q.batchRecord||(Q.batchRecord=[]),Z=Q.pathRecord||(Q.pathRecord=[]),R=Z.length,aa=k.scrollY,ba=k.scrollX;if(O){var O=g.env,ia=ba+"x"+aa;O.scroll!==ia&&(O.scroll=ia,g.resetBoundingBox(),Q.dirtyRender=!0)}var fa=
k.scale,O=k.zoom,ia=g.x/O/fa,M=g.y/O/fa,da={x:ia,y:M},fa={x:g.start.x/O/fa,y:g.start.y/O/fa};if(E){var ma;e&&(ma=z.copyDeepCompress(z.copyAttributes(a.attributes,Q)));k.emit("record",{op:"TOOL",data:{config:ma,state:v.cleanState(d),pointerId:p,point:z.pointInPeerSceneFromCanvas(g),metaKey:t,shiftKey:m}})}if(e)Q.__snap=void 0,Q.__snapShift=m;else if(Q.__snapShift)if(Q.__snap)d=Q.__snap,da=A.nearestOnLine(da,d.origin,d.end);else if(d=A.distance(fa,da),4<d/O)m=.25*Math.PI,d=A.angle(fa,da),d=Math.round(d/
m)*m,Q.__snap={angle:d,origin:da,end:A.atRadianDistance(da,d,1)};else return;if(!(e&&Q.onPointerStart&&Q.onPointerStart(g,da)||l&&Q.onPointerMove&&Q.onPointerMove(g,da)||f&&Q.onPointerDrag&&Q.onPointerDrag(g,da)))if(q&&Q.onPointerEnd&&Q.onPointerEnd(g,da))w.removePointer(p);else{if(q&&R&&Q.onDoubleTap){l=Date.now();d=Q.__dblTapObject;m=Z[R-1];if(2<R&&d&&(d=A.distance(d,m),500>l-Q.__dblTapTimestamp&&15>=d&&Q.onDoubleTap(g,da)))return;Q.__dblTapObject=A(m);Q.__dblTapTimestamp=l}Q.onPointer&&Q.onPointer(g,
B,da)||(e?(Q.__interval=Q.interval,Q.ghostDistance&&y&&isFinite(D.ghostX+D.ghostY)&&(e=(O-1)/O,da.x=D.ghostX+ba/O+ba*e,da.y=D.ghostY+aa/O+aa*e,delete D.ghostX,delete D.ghostY),da.cmd="M",!0===Q.click?B.splice(0,1,da):(Z.push(da),B.push(da)),Q.ghostDistance&&(f=A(ia,M),f.cmd="L",Z.push(f),B.push(f))):(da.cmd=f?"L":"Z",Q.lineRecord?(da.cmd="L",Z.splice(1,1,da),B.splice(1,1,da),q&&(e=A(da),e.cmd="Z",Z.splice(2,1,e),B.splice(2,1,e),Q.lineRecordRotate&&(e=A(B[0]),f=A(B[1]),d=A.angle(e,f),"objectBoundingBox"===
r.units?e=A.atTimeOnLine(e,f,.5):(f=A(c(V)),e=A.add(e,A.rotate(f,d+Math.PI))),f=new L.Transform,f.rotateAt(-d/2,e),f.flatten(B),f.flatten(Z),B.__rotate=d*x.RAD_DEG))):Q.click?f&&B.splice(0,1,da):(Z.push(da),B.push(da))),q?(y&&(a.gestures--,a.device.interval=Q.interval||1,1===g.fingers&&C.enable()),Z.length?a.createObject({device:Q,object:{firstRecord:!0,toolkitId:"brush",type:h,path:Z,bbox:{rotate:B.__rotate||0}}}).then(function(b){w.removePointer(p);a.renderToScene(b,function(){y&&(a.addToHistory(b),
Q.useAutoSelect&&(z.select(b),k.tool("select")))})}).catch(function(a){console.error(a)}):w.removePointer(p),y&&(a.device.brush.seed=x.Random.seed())):u(Q))}}};a.createPointer=function(b,c,g){var d=a.device.brush||{};d.usePointerThread&&(D.pointerId?b=D.pointerId:D.pointerId=b);var h=w.pointer[b];if(h&&h.object&&h.object.brush)return h;if(c){d.disable&&d.disable();h=w.addPointer(b);h.isFromBrowser=!0;var e=h.object=g||z.copyProperties(a,a.device,new z.SKObject);e.seed=d.seed;e.id=z.createId({id:b});
a.device=e;return a.loadResource(e).then(function(){var a=e.brush;a&&a.enable&&a.enable()},function(a){console.error(a)})}d.useMonitor||console.warn("brush.onRecord - no pointer")};a.closePointerThread=function(){delete D.pointerId};a.renderToScene=function(a,b){if(g.doc.editable)w.objectToScene(a).then(b);else{var c=h.layer0.ctx;c.globalAlpha=1;c.globalCompositeOperation="source-over";c.drawImage(h.draw,0,0);a.dirtyCheck=!1;b&&b()}};a.renderBrush=function(b,c,g){var d=b.length;if(0!==d){var h=c.type,
e="disco"===c.composite,f=c.isRecording,k=c.isGhost,l=isFinite(c.pathSmoothing),q=isFinite(c.pathSimplify);c.dirtyRender=!1;c.interval=c.interval||1;c.path=c.pathRecord||b;var r=c.renderTo||c.ctx;if(r){r.save();p.useLocalAlpha[h]&&(r.globalAlpha=(c.opacity||100)/100*(c.fill.opacity||1));r.globalCompositeOperation=y.readBlend(c,!g);if(c.render){if(l||q)q&&(c.path=L.simplify(c.path,c.pathSimplify,!0)),l&&(c.path=L.catmullRomSpline({amount:c.pathSmoothing,path:c.path}));b=b[d-1];c.cmd=b&&b.cmd;c.render(c)}else{g=
E.pointAtTime;for(var w,m=0;m<d;m++){w=f||k?b.shift():b[m];var t=c.x=w.x,z=c.y=w.y,v=c.cmd=w.cmd;if("M"===v)b.increment=0,c.px=c.__px=h=t,c.py=c.__py=q=z,f&&a.gestures++,c.drawStart&&c.drawStart();else if("Z"===v){c.drawEnd&&c.drawEnd();break}else c.px=h=c.__px,c.py=q=c.__py;if(c.draw){var x=c.spacing,u=x.min,A=x.max,D=t-h,B=z-q,x=Math.sqrt(D*D+B*B)+1;if(!(x<u&&"M"!==v)){v=D/x||0;u=B/x||0;B=A||1;A=A<x-1?A:x-1;if(l=l&&!f){var C=b[m-2]||{x:h,y:q},fa={x:h,y:q},M=w,da=b[m+1]||w;if(!(C&&fa&&M&&da))continue}w=
h;for(D=q;A<x;A+=B)l?(z=g(h,q,fa.x+(M.x-C.x)/6,fa.y+(M.y-C.y)/6,M.x+(fa.x-da.x)/6,M.y+(fa.y-da.y)/6,M.x,M.y,A/x),t=z.x,z=z.y):(t=h+v*A,z=q+u*A),e&&(r.globalCompositeOperation=0===c.interval%2?"lighter":"source-over"),c.x=t,c.y=z,c.px=w,c.py=D,c.draw(b.increment),c.interval++,w=t,D=z;c.__px=t;c.__py=z;b.increment++}}}}r.restore()}else console.warn("undefined rendering context")}};a.onMultiRecord=function(b,c,g){b=[{type:"arrow",composite:"hard-light",opacity:100,diameter:60,curved:!0},{type:"pen",
composite:"normal",opacity:100,diameter:{min:2,max:30}}];c.x-=-5*b.length/2;c.y-=-5*b.length/2;c.interval=1;for(var d=0;d<b.length;d++){if(c.pointerStart){var h=b[d],e=v.brush,f=z.copyAttributes(e.attributes,e.device.brush,new z.SKObject);z.copyAttributes(e.attributes,h,f);createPointer(d,!0,f)}c.x+=-5;c.y+=-5;c.interval+=-5;c.identifier=d;c.isFromBrowser=!0;a.onRecord(null,c,g)}};a.updateObjectSize=function(g){var d=g.bbox,e=d&&d.scale.x||1,f=c(g);if("floodfill"===g.type)var l=h.layer0,f=0,q={x1:0,
y1:0,x2:l.width,y2:l.height};else q=isFinite(g.pathSmoothing)?new L.BBox(L.catmullRomSpline({amount:g.pathSmoothing,path:g.data})):new L.BBox(g.data);if(g.firstRecord)var p=a.units,r=f,l=q.x1,w=q.y1;else p=d.units||"objectBoundingBox",r=(d.padding||0)-f,l=d.x+r*e,w=d.y+r*e,r=0;var m=q.x2-q.x1+2*f,t=q.y2-q.y1+2*f,p={x:l-r*e,y:w-r*e,width:m,height:t,padding:f,units:p,viewBox:[0,0,m,t]};if(g.firstRecord){l=q.x1+f*e-f;w=q.y1+f*e-f;g=g.data;for(d=0;d<g.length;d++)e=g[d],e.x-=l,e.y-=w,isFinite(e.x1+e.y1)&&
(e.x1-=l,e.y1-=w),isFinite(e.x2+e.y2)&&(e.x2-=l,e.y2-=w);l=k.zoom*k.pixelRatio;p.x-=1*b.x/l;p.y-=1*b.y/l;return p}p.scale=d.scale;p.rotate=d.rotate;return g.bbox=p};a.addToHistory=function(a){k.history&&a&&k.history.store({cmd:"add",pointerId:a.pointerId,name:a.type,data:[a]},{userId:q.user.id})}})})(sketch);
(function(m){m.toolkit("brush.arrow",function(l,k,m,f){function e(a,c,d,g){a.moveTo(c.x,c.y);a.lineTo(d.x,d.y);a.lineTo(g.x,g.y);d=b.distance(c,g);c=b.atTimeToRadius(c,g,.5,.25*d);a.lineTo(c.x,c.y);a.closePath()}var u=this,d=k.toolkit,c=l.util;l=l.vector;var a=l.Shape,b=l.Point;u.construct=function(a,b){u.curved=!!a.curved;u.diameter=isFinite(a.diameter)?a.diameter:30;u.ghostDistance=isFinite(a.ghostDistance)?a.ghostDistance:10;u.mode=a.mode;u.pathSimplify=.5;u.pathSmoothing=.5;!1===u.curved&&(u.lineRecord=
!0,u.lineRecordRotate=!0);b(u)};u.render=function(){var h=u.renderTo,f=u.path,l=f.length-1,g=u.mode||1,q=u.diameter,w=q/2;h.save();h.beginPath();h.lineWidth=q/4;if(u.curved){h.lineCap="round";h.lineJoin="round";a.VOBPathOffset(h,f,0,0);g=d.getBBox(u);h.strokeStyle=k.getW3CStyle("fill",h,g.x1,g.y1,g.x2,g.y2,u);h.stroke();var q=f[l],m=f[l];if(q&&m){for(;l--;)if(7<b.distance(m,f[l])){q=f[l];break}var l=1,f=w/b.distance(q,m),t=b.atTimeToRadius(q,m,l-f,w),v=b.atTimeToRadius(q,m,1+f,0),x=b.atTimeToRadius(q,
m,l-f,-w);h.beginPath();e(h,t,v,x);h.fillStyle=h.strokeStyle;h.fill()}}else if(h.lineCap="miter",h.miterLimit=20,q=f[0],m=f[l],q&&m){b.equals(q,m)&&(q.x-=c.ZERO,q.y-=c.ZERO);var l=1,L=.5*w,f=w/b.distance(q,m),E=Math.min(1.5,w/4*.25);if(1===g)var t=b.atTimeToRadius(q,m,l,L),v=b.atTimeToRadius(q,m,l,-L),x=b.atTimeToRadius(q,m,-f,-E),A=b.atTimeToRadius(q,m,-f,E);else 2===g?(A=b.atTimeToRadius(q,m,0,L),x=b.atTimeToRadius(q,m,0,-L),v=b.atTimeToRadius(q,m,l+f,-E),t=b.atTimeToRadius(q,m,l+f,E)):(t=b.atTimeToRadius(q,
m,l,L),v=b.atTimeToRadius(q,m,l,-L),x=b.atTimeToRadius(q,m,0,-L),A=b.atTimeToRadius(q,m,0,L));h.moveTo(t.x,t.y);h.lineTo(v.x,v.y);h.lineTo(x.x,x.y);h.lineTo(A.x,A.y);h.closePath();if(1===g||3===g)t=b.atTimeToRadius(q,m,l-f,w),A=b.atTimeToRadius(q,m,1+f,0),l=b.atTimeToRadius(q,m,l-f,-w),e(h,t,A,l);if(2===g||3===g)t=b.atTimeToRadius(q,m,f,w),A=b.atTimeToRadius(q,m,-f,0),l=b.atTimeToRadius(q,m,f,-w),e(h,l,A,t);d.setStyle(h,u)}h.restore()};u.construct(m,f)})})(sketch);
(function(m){m.toolkit("brush.calligraphy",function(l,k,m,f){var e=this;e.construct=function(f,d){e.diameter=isFinite(f.diameter)?f.diameter:30;e.spacing=f.spacing||[0,0];e.angle=f.angle||0;e.pathSmoothing=0;d(e)};e.draw=function(){var f=e.diameter,d=e.renderTo;d.save();d.beginPath();d.globalCompositeOperation="source-over";d.lineJoin="round";d.lineCap="round";d.translate(-f/2,0);d.moveTo(e.px,e.py);d.lineTo(e.px+f,e.py-f/2);d.lineTo(e.x+f,e.y-f/2);d.lineTo(e.x,e.y);d.closePath();var f=e.fill.__colors||
[],c=f.length,f=f[Math.abs((2*e.interval+1)%(2*c)-c)];d.fillStyle=f;d.fill();d.strokeStyle=f;d.stroke();d.restore()};e.construct(m,f)})})(sketch);
(function(m){m.toolkit(["brush.eraser","brush.paintbrush"],function(l,k,m,f){var e=this,u=k.render,d=k.toolkit,c=l.vector.Shape;e.bitmap={};e.construct=function(a,b){e.diameter=isFinite(a.diameter)?a.diameter:30;e.blur=isFinite(a.blur)?a.blur:10;e.spacing=a.spacing||[0,0];e.pathSimplify=.5;e.pathSmoothing=.5;b(e)};e.render=function(a){var b=e.isRecording,h=e.isEraser,f=e.useAreaTracker,l=e.renderTo,g=k.scale*k.pixelRatio,q=d.getBBox(e),w=e.diameter,m=e.blur*g,t=0,v=0;if(m)if(a&&!a.isRecording){var x=
a.bbox.scale.x,t=Math.ceil(a.bbox.width)*g;a=u.cache.pad/Math.abs(x);t=t-m+a}else{var x=k.zoom,L=k.viewport;a=L.height;var L=L.width,E=w+m;a>L?(t=L/x+w/2,0>e.x*x-L/2?(t-=Math.min(0,q.x1+E),t=-1*t*g):(t-=Math.min(0,t-(q.x2+E)),t*=g)):(v=a/x+w/2,0>e.y*x-a/2?(v-=Math.min(0,q.y1+E),v=-1*v*g):(v-=Math.min(0,v-(q.y2+E)),v*=g))}l.save();l.beginPath();c.VOBPathOffset(l,e.path,-t/g,-v/g);h?(h="#000",b&&l.translate(k.canvas2d.x,k.canvas2d.y)):(b=e.fill.__colors||[0,"#000"],h=b[1%b.length]);m?(l.strokeStyle=
"#000",l.shadowOffsetX=t*x,l.shadowOffsetY=v*x,l.shadowBlur=Math.abs(m*x),l.shadowColor=h&&h.indexOf?h:"#000"):l.strokeStyle=h;l.lineCap="round";l.lineJoin="round";l.lineWidth=w;l.stroke();m&&(l.shadowBlur=null);f&&e.useAreaTracker&&!k.render.highRes&&(f=q.x1,w=q.y1,m=q.x2,q=q.y2,l.globalAlpha=1,l.globalCompositeOperation="source-atop",l.fillStyle=k.getW3CStyle("fill",l,f,w,m,q,e),l.fillRect(f,w,m-f,q-w));l.restore()};e.construct(m,f)})})(sketch);
(function(m){m.toolkit("brush.pencil",function(l,k,m,f){var e=this,u=k.toolkit,d=l.vector.Shape;e.construct=function(c,a){e.diameter=isFinite(c.diameter)?c.diameter:30;e.spacing=c.spacing||[0,0];e.pathSimplify=.5;e.pathSmoothing=.5;a(e)};e.render=function(c){c=e.renderTo;var a=e.path,b=u.getBBox(e);c.save();c.beginPath();c.lineCap="round";c.lineJoin="round";c.lineWidth=e.diameter;d.VOBPathOffset(c,a,0,0);c.strokeStyle=k.getW3CStyle("fill",c,b.x1,b.y1,b.x2,b.y2,e);c.stroke();c.restore()};e.construct(m,
f)})})(sketch);
(function(m){m.toolkit(["brush.streamer","brush.pen"],function(l,k,m,f){function e(a,b,c,d){d=d.renderTo;if(a.hasMoved){var e=1*a.thickness,g=a.cos,f=a.sin;d.arc(b,c,e,0,2*Math.PI,!0);d.moveTo(a.x+g,a.y+f);d.lineTo(b+1*g,c+1*f);d.lineTo(b-1*g,c-1*f);d.lineTo(a.x-g,a.y-f);d.lineTo(a.x+g,a.y+f)}else d.arc(b,c,1.5,0,2*Math.PI,!0);a.useMultiFill&&(d.fillStyle=a.color,d.fill(),d.beginPath())}var u=this,d=Math.PI/2,c={};u.construct=function(a,b){u.spacing=a.spacing||[0,0];u.diameter=a.diameter||10;b(u)};
u.drawStart=function(){var a=u.renderTo;a.lineCap="round";a.lineJoin="round";a.beginPath();a=u.fill;a.mode="cycle";var b=c[u.pointerId]={};b.x=u.x;b.y=u.y;b.px=u.x;b.py=u.y;b.vectorx=0;b.vectory=0;b.cos=0;b.sin=0;b.thickness=0;b.angle=d;b.color="#000";b.hasMoved=!1;b.useMultiFill=u.isRecording||"gradient"===a.type};u.draw=function(){var a=c[u.pointerId];if(null==a)console.warn("Streamer not setup",a);else{var b;b=u.fill.__colors||[];var h=b.length;b=b[Math.abs((2*u.interval+1)%(2*h)-h)];a.color=b;
b=u.x-a.px;h=u.y-a.py;if(!(1>=Math.abs(b)&&1>=Math.abs(h))){a.hasMoved=!0;0>b*a.vectorx+h*a.vectory&&(e(a,u.px,u.py,u),a.x=a.px=u.px,a.y=a.py=u.py,a.angle+=Math.PI,a.thickness*=1);a.x+=.5*(u.x-a.x);a.y+=.5*(u.y-a.y);var f=a.x-a.px,k=a.y-a.py,g=Math.sqrt(f*f+k*k),l=u.diameter,m=Math.max(l.min,Math.min(l.max,g)),f=0===g?0:d+Math.atan2(k,f),l="pen"===u.type?(.5+Math.max(0,l.max-m)+l.min)/2:(.5+m)/2,k=a.thickness,m=a.angle,l=k+.42*(l-k),t=Math.sin(m),y=Math.cos(m),m=k*t,k=k*y,v=l*Math.sin(f),x=l*Math.cos(f),
L=a.x,E=a.y,A=a.px,D=a.py;if(a.useMultiFill)var B=Math.sin(f-d),C=Math.cos(f-d),A=A-.25*C,D=D-.25*B,L=L+.25*C,E=E+.25*B;B=.33*g*t;C=-.33*g*y;g=A+k+B;t=D+m+C;y=A-k+B;B=D-m+C;C=u.renderTo;C.moveTo(A+k,D+m);C.quadraticCurveTo(g,t,L+x,E+v);C.lineTo(L-x,E-v);C.quadraticCurveTo(y,B,A-k,D-m);C.lineTo(A+k,D+m);a.useMultiFill&&(C.fillStyle=a.color,C.fill(),C.beginPath());a.px=a.x;a.py=a.y;a.angle=f;a.thickness=l;a.vectorx=b;a.vectory=h;a.cos=x;a.sin=v}}};u.drawEnd=function(){var a=u.pointerId,b=c[a];b&&(delete c[a],
e(b,u.x,u.y,u),b.useMultiFill||(a=u.renderTo,a.fillStyle=b.color,a.fill()))};u.construct(m,f)})})(sketch);
(function(m){m.toolkit(["brush.crayon","brush.stamp"],function(l,k,m,f){var e=this,u=l.dom,d=l.assets,c=l.util,a=l.vector;e.bitmap={};e.getStampResource=function(a,b,c){d.exists(a)?b(d.getItem(a)):d.add({type:"image",data:a,onerror:c,onsuccess:function(a,c){b(c)}})};e.construct=function(a,d){e.rand=c.Random(e.seed||1);e.diameter=a.diameter||20;e.speed=a.speed||void 0;e.rotate=a.rotate||{min:0,max:0};e.scale=a.scale||{min:1,max:1};e.translate=a.translate||{min:0,max:0};e.spacing=a.spacing||b(e.diameter);
e.pollock=a.pollock||!1;e.src=a.src||void 0;e.resource=new Image;e.src?e.getStampResource(e.src,function(a){e.resource=a;e.resource.loaded=!0;e.resource.error=!1;d(e)},function(){e.resource.loaded=!0;e.resource.error=!0;d(e,"404")}):d(e)};e.drawStart=function(){e.scaleX=e.bbox&&e.bbox.scale.x||1;"crayon"===e.type&&(e.fill.mode="cycle",e.spacing=b(e.diameter),e.src=void 0,e.scale={min:1,max:1},e.rotate={min:1,max:360});var a=e.pointerId,d=e.rand=c.Random(e.seed||1);e.rr=d.toDouble();e.sr=d.toDouble();
e.bitmap[a]=e.create()};e.draw=function(){var b=e.renderTo,d=e.ratio,f=e.pointerId;if(e.bitmap[f]){var f=e.bitmap[f],g=f.canvas.width,k=f.canvas.height,l=g/2,m=k/2;if(l&&m){var t=e.translate.min||1E-5,v=e.translate.max||1E-5;if(0===t&&0===v)var x=0,t=0;else x=(v-t)*e.rand.toDouble()+t,t=(v-t)*e.rand.toDouble()+t;var v=e.scale.min,u=e.scale.max,d=1===v&&1===u?d||1E-5:((u-v)*e.rand.toDouble()+v)*d||1E-5,v=0,E=e.rotate.min,u=e.rotate.max;0<=E&&0<=u&&(E<=u?v=(u-E)*e.rand.toDouble()+E:(v=E-u,E=(360-v)*
e.rand.toDouble(),v=E>u?E+v:E));e.pollock||b.save();"cycle"===e.fill.mode&&(u=e.fill.__colors||[],E=u.length,u=u[Math.abs((2*e.interval+1)%(2*E)-E)],u!==f.fillStyle&&(f.fillStyle=u,f.fillRect(0,0,g,k)));b.translate(e.x-l*d,e.y-m*d);1!==d&&b.scale(d,d);0!==v&&(b.translate(l,m),b.rotate(v*c.DEG_RAD),b.translate(-l,-m));b.translate(1*x/d,1*t/d);b.drawImage(f.canvas,0,0);e.decorate&&(b.beginPath(),b.fillStyle=f.fillStyle,a.Shape.star(b,0,0,10,5,2),b.fill());e.pollock||b.restore()}}};e.drawEnd=function(){delete e.bitmap[e.pointerId]};
e.create=function(){var b=e.pointerId,c=e.diameter*k.pixelRatio,d=Math.round(e.scale.max*c);if(!b||!d)return console.warn("stamp error",b,d);if(e.bitmap[b])var g=e.bitmap[b],f=g.canvas;else f=u.Canvas(),g=f.ctx;if(e.src){c=e.resource;if(c.error)return g;if("clipart"===c.type)var l=c.viewBox,m=l[2],t=m-l[0],l=l[3]-l[1];else t=c.width,l=c.height;t>d&&(l*=d/t,t=d);l>d&&(t*=d/l,l=d);var v=Math.sqrt(t*t+l*l);v>d&&(d/=v,t*=d,l*=d);f.width=t;f.height=l;"clipart"===c.type?(d=t/m,f=(new a.Transform).scale(d),
c.render({ctx:g,matrix:f.matrix})):g.drawImage(c,0,0,t,l)}else{t=f.width=d;l=f.height=d;f=g.getImageData(0,0,t,l);m=f.data;d=25*c;c/=2;for(v=0;v<d;v++){var x=e.rand.toDouble()*c,L=2*e.rand.toDouble()*Math.PI,E=Math.sin(L)*x+c+.5>>0,L=Math.cos(L)*x+c+.5>>0;E>=t||0>=E||L>=l||0>=L||(m[4*(L*t+E)+3]=255*(1.5-x/c))}g.putImageData(f,0,0)}g.globalCompositeOperation="none"===e.fill[e.fill.type]?"source-atop":"source-in";g.fillStyle=k.getW3CStyle("fill",g,0,0,t,l,e);g.fillRect(0,0,t,l);v=Math.sqrt(t*t+l*l);
e.ratio=1/(v/e.diameter);return e.bitmap[b]=g};var b=function(a){a=Math.sqrt(a);return{min:a,max:a}};e.construct(m,f)})})(sketch);
(function(m){function l(k){return function(l,f,e,m){function d(){if(eventjs.isMouse&&I.useMonitor)return M=5,ma=da=7,!1;da=M=10;ma=14;return!0}function c(){I.adding=!1;I.bendingSegment=!1;I.closingPath=!1;I.convertingPoint=!1;I.deletingPoint=!1;I.interacting=!1;I.movingPoint=!1;I.movingPointLocked=!1;I.movingSegment=!1;I.splittingSegment=!1}function a(a){if("down"===a.state){if(1<N())return P(),!0;S()}}function b(){var a=I.self;if(a)I.toolkit.onRecord(a.event,a)}function h(a){"down"===a.state&&I.savePath()}
function p(a){J();K();I.__dblTapObject=void 0}function r(a){if(1<N())return console.log("redo"),!0}function g(a){if(1<N())return P(),!0;S()}function q(){var a=F(),b=a.length,c=a[b-1],a=a[b-2];if(c&&a)return aa.distance(c,a)}function w(a){if(a=a[a.length-2])a.bbox=void 0}function z(a,b){I.convertingPoint=!0;var c=I.selectedPoint;if(null==c)console.warn("no points are selected");else{var d=c.idx,g=c.type;"cp1"===g&&d--;var h=a[d],e=aa.distance(h,b),f=e;"cp2"===g&&(f=e=-e);if("Z"===h.cmd&&!I.isEditing){var g=
a[0],k=a[1],l;l=isFinite(k.x1+k.y1)?aa(k.x1,k.y1):h;null==c.point&&(k=aa.angle(g,l),c.point=aa.atRadianDistance(h,k,.001));f<=da&&(b=c.point);f=aa.distance(g,l)}k=aa.angle(h,b);c=aa.atRadianDistance(h,k,-e);h=aa.atRadianDistance(h,k,+f);k=d;d=F();l=k-1;var f=k,e=k+1,q=d.length-1,p=d[q],g=d[k],g=g.cmd;if("Z"===g||"M"===g&&"Z"===p.cmd||q-1===k&&"Z"===p.cmd)l=q-2,f=q-1,e=1;k=d[l];g=d[f];d=d[e];g&&("M"===g.cmd?I.adding&&(d.x2=c.x,d.y2=c.y):(g.cmd="C",g.x2=c.x,g.y2=c.y,g.bbox=void 0,null!=k.angleLock&&
I.adding||(k.angleLock=!0),isFinite(g.x1+g.y1)||(g.x1=k.x,g.y1=k.y)));d&&(d.cmd="C",d.x1=h.x,d.y1=h.y,d.bbox=void 0,null!=g.angleLock&&I.adding||(g.angleLock=!0),isFinite(d.x2+d.y2)||(d.x2=d.x,d.y2=d.y));k&&(D(d,g),D(g,k))}}function y(a,b){var c=aa.distance(a,b),d=aa.angle(a,b);return aa.atRadianDistance(b,d,c)}function v(a,b){function c(a,b,d){var g=aa(h[b],h[d]),f=g.y-a.y;h[b]-=g.x-a.x;h[d]-=f;h.bbox=void 0;"x1"===b?e.angleLock=!1:h.angleLock=!1}var d=I.selectedPoint,g=d.type,d=d.idx,h=a[d],e=a[d-
1];if("point"===g){var g=h.x-b.x,f=h.y-b.y;I.movingPoint?x(d,g,f):L(d,g,f)}else"cp1"===g?c(b,"x1","y1"):"cp2"===g&&c(b,"x2","y2")}function x(a,b,c){a=F()[a];a.x-=b;a.y-=c;a.angleLock=!1;a.bbox=void 0}function L(a,b,c){var d=F(),g=d.length,h=d[(g+a)%g],e=d[(g+a+1)%g];if(0===a||a===g-2){var f=d[0],k=d[g-1];"Z"===k.cmd&&(k.x-=b,k.y-=c,k.bbox=void 0,f.x-=b,f.y-=c,f.bbox=void 0,0===a?h=d[g-2]:e=d[1])}h.x-=b;h.y-=c;h.bbox=void 0;isFinite(h.x2+h.y2)&&(h.x2-=b,h.y2-=c);e&&isFinite(e.x1+e.y1)&&(e.x1-=b,e.y1-=
c);e.bbox=void 0}function E(a){A(a,"L");I.adding=!0;I.selectedPoint={type:"point",idx:N()-1}}function A(a,b){a=aa(a);a.cmd=b;I.batchRecord.push(a);I.pathRecord.push(a);I.point=a}function D(a,b){a.x1===b.x&&a.y1===b.y&&a.x2===a.x&&a.y2===a.y&&B(a,"L")}function B(a,b){a.cmd=b;delete a.x1;delete a.y1;delete a.x2;delete a.y2}function C(a){if(!1===I.isEditing){var b=fa.pointAtopStart,c=F(),d=c.length-1,g=c[d];g&&(b&&(b=c[0],a.x=b.x,a.y=b.y),g.x=a.x,g.y=a.y,"C"===g.cmd&&(g.x2=a.x,g.y2=a.y),I.ghostPathIdx=
d)}}function H(){if(!0!==I.useClosePath){var a=I.ghostPathIdx;isFinite(a)&&(G(a,1),I.ghostPathIdx=void 0)}}function G(a,b){Array.prototype.splice.apply(I.batchRecord,arguments);Array.prototype.splice.apply(I.pathRecord,arguments);fa.pointAtop=void 0}function F(){return I.path||I.pathRecord||[]}function N(){return(I.path||I.pathRecord||[]).length-1}function K(){I.dirtyRender=!0;Y.dirtyPointer=!0}function J(){if(I.self)I.onPointerMove(I.self,I.point)}function S(){fa={};K();Y.removePointer(I.pointerId);
Y.dirty=!0}function P(){G(-1,1);C(I.point);J();K();I.__dblTapObject=void 0}function T(a,b,c,d,g){a.beginPath();a.arc(b.x,b.y,d,0,2*Math.PI);a.fillStyle=c;a.fill();a.lineWidth=.75;a.strokeStyle="#fff";a.stroke();X.debug&&"number"===typeof g&&(a.font="bold 14px Courier",a.strokeText(g,b.x+10,b.y+5),a.fillText(g,b.x+10,b.y+5))}function U(a,b,c,d){a.beginPath();a.rect(b.x-d,b.y-d,2*d,2*d);a.fillStyle=c;a.fill();a.lineWidth=1;a.strokeStyle="#000";a.stroke()}var I=this,X=l.feature,W=f.keyboard,Y=f.render,
O=l.style,V=f.toolkit,Q=l.util,Z=l.vector,R=Z.Cubic,aa=Z.Point,ba=Z.Shape,ia=X.debug,fa={};I.useCubic=!0;I.useClosePath=!1;I.isEditing=!1;I.isRecording=!1;var M,da,ma;I.construct=function(a,b){I.composite=a.composite||"source-over";I.diameter=a.diameter||0;I.lineWidth=a.lineWidth||1;I.opacity=a.opacity||100;I.spacing=a.spacing||[0,0];I.useAutoClose=!0;I.useGhostMode=!1;I.usePointerMax=1;I.usePointerThread=!0;I.useSnap=!1;I.useMonitor=!0;I.useCubic="path"===k;I.useClosePath="polygon"===k;var d=V.feats({type:k,
toolkitId:"brush"});I.useAddPointAtDistanceOnDrag=d.useAddPointAtDistanceOnDrag;I.useBendable=d.useBendable;c();b(I)};(function(){var c={};I.enabled=!1;I.enable=function(){!1===I.enabled&&(I.enabled=!0,c.resize=l.on("resize",b),c.scroll=l.on("scroll",b),c.escapeKey=W.on("escapeKey",h),c.enterKey=W.on("enterKey",h),c.backspaceKey=W.on("backspaceKey",a),c.deleteKey=W.on("deleteKey",a),c.altKey=W.on("altKey",p),c.metaKey=W.on("metaKey",p),c.shiftKey=W.on("shiftKey",p),c.undo=W.on("undo",g),c.redo=W.on("redo",
r))};I.disable=function(){!0===I.enabled&&(I.enabled=!1,I.savePath(),eventjs.bulk(c,"remove"))}})();I.render=function(a){var b=I.isRecording,c=I.renderTo,g=I.stroke&&I.stroke.lineWidth,h=F();c.beginPath();c.lineCap="round";c.lineJoin="round";if(b)c.globalAlpha=I.opacity/100,c.globalCompositeOperation=O.readBlend(I),c.lineWidth=g,I.isEditing?Z.VOBPath(c,h):Z.VOBPath(c,h.slice(0,-1));else{var e=I.bbox.scale,e=Math.max(Math.abs(e.x),Math.abs(e.y));c.globalAlpha=1;c.lineWidth=g/e;Z.VOBPath(c,h)}window.blah?
(window.blah.brush.isRecording=!0,window.blah.brush.renderTo=c,window.blah.brush.fill=new sk.style.Fill,window.blah.brush.diameter=10,window.blah.brush.pointerId="blah",window.blah.brush.path=h,window.blah.brush.pathSmoothing=!1,window.blah.brush.pathSimplify=!1,window.blah.brush.render(a)):V.setStyle(c,I);if(b){c.globalAlpha=1;c.globalCompositeOperation="source-over";var f=h&&h.length;if(f){var k=I.closingPath,g=I.interacting,l=I.bendingSegment,q=I.isEditing;a=I.selectedPoint||{};b=a.idx||0;"cp1"===
a.type&&b--;k||q||b++;var p=(f+b+0)%f,r=(f+b+1)%f,m=(f+b-1)%f;a=f-1;m===a&&"Z"===h[a].cmd&&(p=f-2);0===m&&"M"===h[0].cmd&&(m=f-2);r===a&&"Z"===h[a].cmd&&(r=1);for(b=0;b<f;b++)if(e=h[b],null!=e){var t=e.cmd;if("C"===t&&(q?p===b||r===b||l&&m===b:b<=p&&b>=p-(l?2:1)||k&&1===b)){var w=h[b-1],t=aa(e.x1,e.y1),y=aa(e.x2,e.y2);aa.equals(t,w)||(T(c,t,"#4f80ff",3),oa.L(c,t,w,"#4f80ff"));aa.equals(y,e)||(T(c,y,"#4f80ff",3),oa.L(c,y,e,"#4f80ff"))}}e=fa.pointAtop;b=fa.pointAtopStart;f=fa.pointOnPath;if(!(d()||
f||e&&(!b||eventjs.metaKey||eventjs.altKey)||!1!==g&&!I.useClosePath)&&(e=h[a],t=e.cmd,oa[t]))if(w=h[a-1],b)oa[t](c,w,e,"#46f224");else oa[t](c,w,e,"#4f80ff"),U(c,e,"#fff",2.5);if(f)if(eventjs.metaKey)b=f.point,c.save(),c.beginPath(),ba.exmark(c,b.x,b.y,3),c.lineWidth=2.5,c.strokeStyle="#000",c.stroke(),c.lineWidth=1.5,c.strokeStyle="#46f224",c.stroke(),c.restore();else if(!1===g&&(t=f.cmd,oa[t]))oa[t](c,f.point0,f.point1,"#4f80ff");for(var g="Z"===h[a].cmd,b=0,z;b<a;b++)if(e=h[b])ia&&(z=e.bbox)&&
(c.save(),c.globalAlpha=z.hovered?1:.15,c.lineWidth=.5,c.strokeStyle="#ff3535",c.strokeRect(z.x1,z.y1,z.x2-z.x1,z.y2-z.y1),c.restore()),g&&b+1===a||(w=c,f=b,0!==f||g?e.hovered?eventjs.metaKey?T(w,e,"#ff3535",5,f):eventjs.altKey?T(w,e,"#bc19fc",5,f):T(w,e,"#4f80ff",5,f):T(w,e,"rgba(0,0,0,0.75)",3,f):e.hovered?eventjs.metaKey?U(w,e,"#ff3535",4.5):eventjs.altKey?U(w,e,"#bc19fc",4.5):U(w,e,"#46f224",4.5):U(w,e,"#fff",4.5))}}};I.calcBBox=function(){if(I.path)return new Z.BBox(F())};I.onDoubleTap=function(a,
b){I.savePath()};I.onPointerMove=function(a,b){if(!a.pointerDrag){I.self=a;I.point=b;for(var c=!1,d=!1,g=I.interacting,h,e=F(),k=e.length,l=0;l<k;l++){var p=e[l],r=p.cmd,m=l<k-1,t=p.bbox;null!=t||!m&&!1!==g||(t=p.bbox=new Z.BBox({data:[h||p,p],expand:ma,convexHull:!0}));p.hovered=!1;t&&(t.hovered=!1,aa.inBBox(b,t)&&(t.hovered=!0,!m||!1!==c&&"point"===c.type||(t=aa.distance(p,b),t<ma&&(p.hovered=!0,c=aa(p),c.idx=l,c.type="point",c.distance=t)),!1===c&&("C"===r?(r=aa(p.x1,p.y1),t=aa.distance(r,b),t<
ma&&(c=r,c.idx=l,c.type="cp1",c.distance=t),m&&(m=aa(p.x2,p.y2),t=aa.distance(m,b),t<ma&&(c=m,c.idx=l,c.type="cp2",c.distance=t),m=R.nearestPointOnCurve(b,[h,r,m,p]),m.distance<M&&(!1===d||m.distance<d.distance)&&(d={cmd:"C",idx:l,time:m.time,distance:m.distance,point:m.point,point0:h,point1:p}))):"L"===r&&m&&(t=aa.toLineDistance(b,h,p),t<M&&(!1===d||t<d.distance)&&(m=aa.nearestOnLine(b,h,p,!0),d={cmd:"L",idx:l,time:m.time,distance:t,point:m,point0:h,point1:p})))));h=p}g?f.emit("tooltip",null):c?
(d=!1,"point"===c.type?eventjs.altKey?f.emit("tooltip","Alter Tension"):eventjs.metaKey?f.emit("tooltip","Remove Point"):eventjs.shiftKey?f.emit("tooltip","Move Point w/o Handles"):0!==c.idx||I.isEditing?f.emit("tooltip","Move Point"):f.emit("tooltip","Close Path"):eventjs.altKey?f.emit("tooltip","Move Handle"):eventjs.metaKey?f.emit("tooltip","Remove Handle"):f.emit("tooltip","Move Handle Mirrored")):d?eventjs.metaKey?f.emit("tooltip","Add Point"):eventjs.altKey?"C"===d.cmd?f.emit("tooltip","Move Curve"):
f.emit("tooltip","Move Line"):"C"===d.cmd?f.emit("tooltip","Bend Curve"):I.useBendable?f.emit("tooltip","Bend Line"):f.emit("tooltip","Move Line"):(t=q())?f.emit("tooltip","D: "+t.toFixed(2)+"px"):f.emit("tooltip",null);fa.pointAtop=c;fa.pointAtopStart=c&&0===c.idx;fa.pointOnPath=d}};I.onPointer=function(a,b,g){I.batchRecord=b;I.self=a;var h=a.pointerStart,e=a.pointerEnd,k=a.pointerDrag,l=a.pointerMove,p=eventjs.altKey,m=eventjs.metaKey,r=eventjs.shiftKey;h&&d()&&(I.point=g,J(),C(g));var t=fa.pointAtop,
x=fa.pointAtopStart;b=fa.pointOnPath;a=I.pathRecord;var u=a.length;I.ghostPathIdx=void 0;if(h){c();f.emit("tooltip",null);I.interacting=!0;I.selectedPoint=void 0;if(0===u)return A(g,"M"),E(g),K(),!0;if(t){I.selectedPoint=t;if(m)if(I.deletingPoint=!0,g=t.idx,a=t.type,"point"===a){b=F();t=b.length;h=b[(t+g-1)%t];e=b[g];if(a=b[g+1])"M"===e.cmd?("Z"===h.cmd&&(b=b[t-2],b.x=a.x,b.y=a.y,b.x2=a.x2,b.y2=a.y2,b.bbox=void 0),B(a,"M")):"C"===a.cmd&&(a.x1=e.x1,a.y1=e.y1),a.bbox=void 0;G(g,1)}else h=F(),b=h[g-
1],t=h[g],g=h[g+1],"cp1"===a?(t.x1=b.x,t.y1=b.y,b.angleLock=t.x1===b.x2&&t.y1===b.y2):(t.x2=t.x,t.y2=t.y,t.angleLock=t.x2===g.x1&&t.y2===g.y1),D(t,b),t.bbox=void 0;else r?I.movingPoint=!0:x?I.isEditing?I.movingPointLocked=!0:(A(t,"Z"),I.closingPath=!0,I.selectedPoint={type:"point",idx:N()}):(g="point"===t.type)&&!p||!g&&p?I.movingPointLocked=!0:z(a,t);K();return!0}if(b){I.selectedPoint=b;if(m)a:switch(I.splittingSegment=!0,g=b.idx,h=b.time,t=a[g-1],a=a[g],b.cmd){case "C":h=R.split(t.x,t.y,a.x1,a.y1,
a.x2,a.y2,a.x,a.y,h);b=R.fromArray(h[0].slice(2));h=R.fromArray(h[1].slice(2));b.angleLock=t.angleLock;h.angleLock=a.angleLock;G(g,1,b,h);break a;case "L":a.bbox=void 0,b=aa.atTimeOnLine(t,a,h),b.cmd="L",G(g,0,b)}else p?I.movingSegment=b:I.useCubic||I.useBendable?I.bendingSegment=b:I.movingSegment=b;K();I.__dblTapObject=void 0;return!0}if(I.isEditing)return!0;E(g);K();return!0}if(e){I.interacting=!1;if(I.useAutoClose){if(I.closingPath)return I.savePath(),!0;b=a[0];t=a[u-2];if(3<a.length&&aa.distance(b,
t)<=da)return I.savePath(!0),!0}w(a);C(g);J();K();return!0}if(k){if(I.adding&&I.useAddPointAtDistanceOnDrag)q()>I.useAddPointAtDistanceOnDrag?(w(a),E(g)):C(g);else{if(I.deletingPoint||I.splittingSegment)return!0;I.movingPoint||I.movingPointLocked?v(a,g):I.movingSegment?(a=I.movingSegment,b=a.idx,h=a.point,t=h.x-g.x,h=h.y-g.y,L(b,t,h),L(b-1,t,h),a.point=g):I.bendingSegment?(b=I.bendingSegment,h=b.point,e=Math.min(.98,Math.max(.02,b.time)),k=1-e,t=3*e*k*k,l=3*e*e*k,m=.5>=e?Math.pow(2*e,3)/2:1-Math.pow(2*
k,3)/2,p=h.x-g.x,u=h.y-g.y,h=(1-m)/t,t=h*p,h*=u,l=m/l,p*=l,u*=l,e<1/3?(p=t*e,u=h*e):e>2/3&&(t=p*k,h=u*k),m=I.selectedPoint.idx,e=a[m],k=a[m-1],l=a[m+1],r=a.length-1,"Z"===a[r].cmd&&(m===r-1?l=a[1]:1===m&&(k=a[r-1])),"L"===e.cmd&&(R.fromLineSegment(k,e,e),e.angleLock=!1),e.x1-=t,e.y1-=h,e.x2-=p,e.y2-=u,e.bbox=void 0,k&&k.angleLock&&isFinite(k.x2+k.y2)&&(a=y(aa(e.x1,e.y1),k),k.x2=a.x,k.y2=a.y,k.bbox=void 0),l&&e.angleLock&&isFinite(l.x1+l.y1)&&(a=y(aa(e.x2,e.y2),e),l.x1=a.x,l.y1=a.y,l.bbox=void 0),
b.point=g):I.convertingPoint||I.useCubic?z(a,g):C(g)}K();return!0}if(l)return C(g),K(),!0};I.closePath=function(){var a;a=F();a=(a=a[a.length-1])?"Z"===a.cmd:void 0;if(!0!==a){a=F();var b=a[0];b&&2<a.length&&(C(b),A(b,"Z"),I.ghostPathIdx=void 0)}};I.savePath=function(a){H();var b=F();1<b.length?((I.useClosePath||a)&&I.closePath(),a=Q.copy(b),G(-b.length),I.toolkit.createObject({device:I,object:{firstRecord:!0,path:a}}).then(function(a){I.toolkit.closePointerThread();I.toolkit.addToHistory(a);I.toolkit.renderToScene(a);
K()}).catch(function(a){console.error(a)})):S()};(function(){var a={bbox:!0,hovered:!0},b=function(b,c){return a[b]?void 0:c};return function(a){console.log(JSON.stringify(a,b,"\t"))}})();var oa={L:function(a,b,c,d){a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.lineWidth=1;a.strokeStyle=d;a.stroke()},C:function(a,b,c,d){a.beginPath();a.moveTo(b.x,b.y);a.bezierCurveTo(c.x1,c.y1,c.x2,c.y2,c.x,c.y);a.lineWidth=1;a.strokeStyle=d;a.stroke()}};I.construct(e,m)}}m.toolkit("brush.path",l("path"));m.toolkit("brush.polygon",
l("polygon"));m.toolkit("brush.polyline",l("polyline"))})(sketch);
(function(m){m.toolkit("text",function(l,k){function m(a){return C.SKObject.is(a)&&"text"===a.type}function f(a){return function(b){m(b=b||k.selection.item)&&a(b)}}function e(a){return k._editing&&a&&a.id===k.selection.id}function u(a){p()}function d(a){return function(b){var c=k.selection.item;if(c)return a.apply(this,[b,c])}}function c(a){var b=k.selection.item;null!=b&&k.on.record&&k.emit("record",{op:"SCENE_UPDATE",data:{pointerId:x.pointerId,state:a,changes:[{id:b.id,content:r()}]}})}function a(a){if(a.clipboardData){var b=
a.clipboardData.getData("text/plain");b&&(b=b.replace(/\t/g,"    "),A.text.paste(J,b),h(!0),eventjs.cancel(a))}}function b(a){setTimeout(function(){h(a)},10)}function h(a){var b=k.selection.item;b&&(a&&x.updateObjectSize(),C._update.transform(b),B.dirtyControls=!0,p())}function p(){var a=k.selection.item;a&&D.useCanvasRenderer&&(a.dirtyCache=!0,B.dirty=!0)}function r(a){a||(a=x.getContent());return a===D.defaultContent[0]+X+D.defaultContent.slice(1)?"":a}function g(a,b){k.history&&a&&b&&a.content!==
b.content&&k.history.store({cmd:"update",name:"update-text",data:{pointerId:x.pointerId,from:[{id:b.id,content:a.content}],to:[{id:b.id,content:b.content}]}})}function q(a){if(D.useHTML){w(a);var b=z(),c=b.parentNode;html2canvas(b,{canvas:a.ctx.canvas,onrendered:function(a){c.style.display="none"}})}else F.text.drawLineBreaks(a)}function w(a){var b=a.bbox,c=b.scale,d=c.x,c=c.y,g=z(),h=g.parentNode,e=eventjs.getDocumentScroll(),f=e.pageXOffset,e=e.pageYOffset,k=0>c?b.height*-c:0;g.style.left=(0>d?
b.width*-d:0)+f+"px";g.style.top=k+e+"px";g.className="sk-dummy-text";F.text.setFontStyle(a,g);y(g,"matrix("+d+", 0, 0, "+c+", -"+f+", -"+e+")","0 0 0");g.style.color=a.fill&&a.fill.color?a.fill.color:"black";g.innerHTML=a.content;h.style.display="block";g.style.display="block";g.style.height="auto";g.style.width="pre-nowrap"===a.whiteSpace?"auto":b.width+"px"}function z(){return x.dummy||(x.dummy=F.text.getMeasureElement())}function y(a,b,c){a=a.style;a.transform=a.msTransform=a.OTransform=a.MozTransform=
a.webkitTransform=b;a.transformOrigin=a.msTransformOrigin=a.OTransformOrigin=a.MozTransformOrigin=a.webkitTransformOrigin=c}function v(a,b,c){var d=e(this);if(!d||D.useCanvasRenderer){this.__env.textMetrics||x.updateObjectSize(this);b=C.copyAttributes(x._attributes,this,{ctx:a,pixelRatio:k.pixelRatio,bbox:G.copy(this.bbox),composite:this.composite,opacity:this.opacity,textMetrics:this.__env.textMetrics});d&&(b.content=x.getContent());this.fill&&this.fill.enabled&&(b.fill=this.fill);this.stroke&&this.stroke.enabled&&
(b.stroke=this.stroke);var g=k.scale,h=b.bbox,f=h.scale.x,l=h.scale.y;h.scale.x=f*g;h.scale.y=l*g;h.rotate=0;h.x=0;h.y=0;d&&(b.scrollTop=Math.abs(J.scrollTop*l),b.scrollLeft=Math.abs(J.scrollLeft*f));c?(h.scale.x=1,h.scale.y=1):!1===D.useHTML&&(c=h.width,h=h.height,f=0>f?-c*f*g:0,g=0>l?-h*l*g:0,(f||g)&&a.translate(f,g));q(b)}}var x=this,L=l.agent,E=k.canvas2d,A=l.dom,D=l.feature.tools.text,B=k.render,C=k.scene,H=k.toolkit,G=l.util,F=l.vector,N,K=A.create('<div class="sk-doc-textarea"></div>'),J;x.id=
"text";x.units=D.units;x._attributes={content:"string",fontFamily:"string",fontSize:"number",fontStyle:"string",fontVariant:"string",fontWeight:"string",letterSpacing:"number",wordSpacing:"number",lineHeight:"number",textAlign:"string",textDecoration:"string",textShadow:"string",textTransform:"string",whiteSpace:"string",useFitText:"boolean"};var S=G.copy(x._attributes);x.attributes=G.copyInto(l.attrs.__styledObject,S);(function(){var a={};x.enabled=!1;x.enable=function(){!1===x.enabled&&(x.enabled=
!0,H.select&&H.select.enable({events:a,searchParam:{toolkitId:D.useSearch}}))};x.disable=function(){!0===x.enabled&&(x.enabled=!1,x.hide(),eventjs.bulk(a,"remove"))}})();(function(){x.show=f(function(a){k.selection.idx!==a.zIndex&&k.selection.select(a.zIndex,!0);a.__env.textContent={id:a.id,content:r(a.content)};x.setContent(a.content);!0!==k._editing&&(k._editing=!0,K.style.opacity=1,K.style.display="block",x.pointerId=k.eventPID(),x.updateObjectSize(a),c("start"),x.focus(),x.selectAll(),x.emit("show",
a));B.dirty=!0;B.dirtyControls=!0});x.hide=function(){!1!==k._editing&&(k._editing=!1,J.scrollTop&&(J.scrollTop=0,p()),K.style.opacity=0,K.style.display="none",c("end"),x.blur(),x.emit("hide"));var a=k.selection.item;if(m(a)&&a.__env.textContent){var b=r();if(b.trim()){var d=a.__env.textContent;a.__env.textContent=void 0;a.dirtyCheck=!0;a.dirtyDimension=!0;a.content=b;d&&g(d,C.getById(d.id))}else b=(b=k.history.getLastCmd())&&"add"===b.cmd&&"text"===b.name?b:void 0,b?(k.history.pop(),C.removeByIdx(a.zIndex,
!1)):C.removeByIdx(a.zIndex,!0)}}})();x.disableArea=function(){K.style.pointerEvents="none";x.blur()};x.enableArea=function(a){K.style.pointerEvents="auto";x.focus()};x.focus=function(){J.focus()};x.blur=function(){J.blur()};x.selectAll=function(){A.text.selectAll(J)};x.hasFocus=function(){return A.text.hasFocus(J)};x.hasSelection=function(){return A.text.hasSelection(J)};x.setCursorPos=function(a){A.text.setCursorPosition(J,a)};x.loadResource=function(a,b){return k.loadStyle(a).then(function(){function b(){a.bbox||
(a.bbox=new C.SKBBox);a.render=v;a.dirtyCheck=!0;x.updateObjectSize(a)}var c=setTimeout(b,300);return x.loadFont(a.fontFamily||"Arial").then(function(d){d.loaded&&(a.__env.hashText=void 0,a.dirtyCache=!0,a.dirtyDimension=!0,B.dirty=!0);clearTimeout(c);b();return a},function(a){return Promise.reject(a)})})};x.loadFont=function(a){return new Promise(function(b,c){function d(a){c({message:"&ldquo;"+h+"&rdquo; font-family unavailable."})}function g(){b({loaded:!0})}"string"===typeof a&&(a={fontFamily:a});
var h=a.fontFamily;if(F.text.detectFont(h))b({detected:!0});else{var e=l.lib.text.byName[h];e?F.text.attach({family:h,filepath:l.lib.text.getSrc(e,{absolute:!0}),useLoader:!0,onerror:d,onsuccess:g}):F.text.attachFromGoogleAPI({family:h,onerror:d,onsuccess:g})}})};var P=d(function(a,c){eventjs.keyTracker(a);if(D.useHTML){b(!0);var d=[];eventjs.metaKey&&d.push("Meta");eventjs.ctrlKey&&d.push("Ctrl");eventjs.shiftKey&&d.push("Shift");eventjs.altKey&&d.push("Alt");d.push(eventjs.fromKeyCode[a.keyCode]);
if(d=T[d.join(" ")])document.execCommand(d[0],d[1],d[2]),eventjs.cancel(a)}else d=a.keyCode,9===d&&(eventjs.prevent(a),A.text.paste(J,"    "),h(!0)),eventjs.metaKey&&(90===d||88===d?b(!0):85===d?(eventjs.prevent(a),x.toggleTextStyle(c,"textDecoration","underline","none"),h()):73===d?(eventjs.prevent(a),x.toggleTextStyle(c,"fontStyle","italic","normal"),h()):66===d&&(eventjs.prevent(a),x.toggleTextStyle(c,"fontWeight","bold","normal"),h(!0)))}),T={"Shift Backspace":["forwardDelete"],"Ctrl Shift [":["justifyLeft"],
"Ctrl Shift ]":["justifyRight"],"Ctrl Shift \\":["justifyCenter"],"Ctrl Shift Alt \\":["justifyFull"],"Meta Shift S":["strikeThrough"],"Meta B":["bold"],"Meta I":["italic"],"Meta U":["underline"]},U=d(function(a,b){if("pre-nowrap"===b.whiteSpace){var c=a.keyCode;10!==c&&13!==c||eventjs.prevent(a)}}),I=d(function(a,b){if(D.useHTML)h(!0);else switch(a.keyCode){case 27:C.deselectAll();break;default:h(!0)}c("change")});x.createObject=function(a){var b=a.object;a=a.useHistory;b=x.config.mergeDefaults(b);
b=C.addObject(b,{useHistory:a});b.dirtyDimension=!0;return x.loadResource(b)};x.onRecord=function(a,b){b.pointerStart&&eventjs.stop(a);L.mobile&&eventjs.prevent(a);var c=b.state,d=b.pointerStart,g=b.pointerDown,h=b.pointerEnd,e=k.eventPID(b),f=isFinite(b.shiftKey)?b.shiftKey:eventjs.shiftKey,l=isFinite(b.metaKey)?b.metaKey:eventjs.metaKey,q=!!a,p=q&&k.on.record;k._interacting=g;q&&(d?eventjs.prevent(a):h?eventjs.prevent(a):eventjs.cancel(a));g=x.gesture.create(b);if(null!=g){g=g.object;if(p){var m;
d&&(m=C.copyDeepCompress(C.copyProperties(x,g)));k.emit("record",{op:"TOOL",data:{config:m,state:H.cleanState(c),pointerId:e,point:C.pointInPeerSceneFromCanvas(b),metaKey:l,shiftKey:f}})}f=k.zoom;c=f*k.scale;m=f*k.pixelRatio;var r=b.start.x/c,p=b.start.y/c;b.x/=c;b.y/=c;f=g.bbox;l=Math.min(r,b.x)-1*E.x/m;m=Math.min(p,b.y)-1*E.y/m;r=Math.abs(r-b.x)||1;p=Math.abs(p-b.y)||1;d&&x.blur();f.x=l;f.y=m;f.width=r;f.height=p;f.units=x.units;g.dirtyCheck=!0;g.dirtyTransform=!0;d=C.getConstraint(g,!1);f.x-=b.x<
b.start.x?d.width-f.width:0;f.y-=b.y<b.start.y?d.height-f.height:0;f.width=d.width;f.height=d.height;if(h){if(r<x.minWidth||p<x.minHeight)if(D.useAddByClick)r=k.viewport.width/3/c,p=2*g.fontSize/c,r=f.width=Math.max(x.defaultWidth,r),p=f.height=Math.max(x.defaultHeight,p);else{B.dirty=!0;B.dirtyControls=!0;x.gesture.cancel(e);return}x.gesture.end(g,q).then(function(a){q?(a.content=D.defaultContent[0]+X+D.defaultContent.slice(1),x.show(a),x.updateCSS()):(B.dirty=!0,B.dirtyControls=!0)})}else B.dirtyPointer=
!0}};x.getContent=function(){return D.useHTML?J.innerHTML:A.text.getPlainText(J)};x.setContent=function(a){a=a.replace(/\t/g,"    ");J.innerHTML=a};x.setForeColor=function(a,b,c,d){function h(a,b){for(var c=0;c<a.length;c++){var d=a[c];d&&(b(d),d.childNodes.length&&h(d.childNodes,b))}}if(D.useHTML){d=eventjs.getPointerState(d)||"end";"start"===d&&(a.__cache=a.content);var f=z();if(e(a))if(x.hasSelection())"change"!==d&&"end"!==d||document.execCommand("undo",!1,null),document.execCommand("foreColor",
!1,b);else{if(a=window.getSelection().focusNode){!1===A.contains(J,a)&&(a=J,A.text.select(a,0,0));c=A.text.getRange(a);var k,l;c&&(k=c.startOffset,l=c.endOffset);A.text.selectAll(a.parentNode);b?document.execCommand("foreColor",!1,b):document.execCommand("removeFormat",!1,"foreColor");c&&A.text.select(a,k,l)}}else k=a.content,c&&-1!==k.indexOf(c)?(J.innerHTML=k,a.content=k.split(c).join(b)):(f.innerHTML=k,h(f.childNodes,function(a){a.style&&(a.style.color="")}),a.content=J.innerHTML=f.innerHTML),
a.dirtyCheck=!0,"end"===d&&g({id:a.id,content:a.__cache},{id:a.id,content:a.content})}};x.measureText=function(a){if(D.useHTML){w(a);a=z();var b={width:a.offsetWidth,height:a.offsetHeight};a.parentNode.style.display="none";return b}return F.text.drawLineBreaks(a)};x.updateCSS=function(a){x.updateCSSStyle(a);x.updateCSSTransform(a)};x.updateCSSTransform=f(function(a){function b(a){if("objectBoundingBox"===a.units){var g=a.x-(m-m*a.scale.x)/2;a=a.y-(r-r*a.scale.y)/2;var h="50% 50%"}else g=a.x,a=a.y,
h="0% 0%";return{left:g*d+E.x/c,top:a*d+E.y/c,origin:h}}if(e(a)){var c=k.pixelRatio,d=k.zoom*k.scale,g=a.bbox,h=isFinite(a.opacity)?a.opacity:100,f=B.cache.pad/2,l=g.rotate,q=g.scale.x+1E-7,p=g.scale.y+1E-7,m=g.width,r=g.height,t=Math.max(0,m)*d,f=Math.max(0,r-f)*d;if(D.useClipBounds)var w=C.getBoundingBox(),z=k.viewport,m=Math.min(t,(z.width-w.x)/q),r=Math.min(f,(z.height-w.y)/p);else m=t,r=f;w=b(g);g=K.style;g.opacity=h/100;g.left=w.left+"px";g.top=w.top+"px";g.width=m+"px";g.height=r+"px";F.text.setFontStyle(a,
K,d);y(K,"rotate("+l+"deg) scale("+q+","+p+")",w.origin);g=J.style;g.display="block"===g.display?"inline-block":"block";g.height=f+"px";g.width=t+"px";J.scrollHeight>J.offsetHeight?(h=k.theme.getControls({type:"text"}),a=A.scrollbarX(J),h=Math.round(h.width/2)+2,g.width=t+a+h+"px",g.paddingRight=h+"px"):g.paddingRight=0}});x.updateCSSStyle=f(function(a){var b=J.style;(a.whiteSpace||"").includes("nowrap")?b.overflow="visible":(b.overflowX="hidden",b.overflowY="auto");if(D.useCanvasRenderer)if(N.innerHTML=
"",D.useHTML)b.color="rgba(0,0,0,0)";else if(L.cssTextFillColor){var c=L.cssTextFillColor;b.color="black";b[c]="rgba(0,0,0,0)"}else b.color="rgba(0,0,0,0)";else{var d=a.fill,g=a.textShadow,c="";if(L.cssBackgroundClip&&L.cssFilter&&!D.useHTML&&!g)c="\t\t\t\t.sketch-api .sk-doc-textarea div.textarea { "+l.style.toCSSBG(d)+" }\t\t\t",J.setAttribute("data-content",J.innerHTML),b.webkitBackgroundClip=b.backgroundClip="text",b.webkitTextFillColor=b.textFillColor="transparent",d=l.style.readBlend(d),b.webkitBackgroundBlendMode=
b.backgroundBlendMode=d;else switch(d.type){case "color":b.color=d.color;break;case "gradient":case "pattern":b.color="#000"}a.textDecoration?(d=a.textDecoration.split(","),b.textDecoration=d[0],K.style.textDecoration=d[1]):(b.textDecoration="",K.style.textDecoration="");b=a.background||{};b.enabled?c+="\t\t\t\t.sketch-api .sk-doc-textarea { "+l.style.toCSSBG(b)+" }\t\t\t":K.style.background="";N.innerHTML=c}});x.toggleTextStyle=function(a,b,c,d){a[b]=a[b]===d?c:d};x.isOutOfBounds=function(a){var b=
a.__env.textMetrics;return b&&b.height>a.bbox.height};x.updateObjectSize=f(function(a){var b=e(a)?x.getContent()||" ":a.content||" ",c=a.bbox,d=C.copyAttributes(x._attributes,a,{type:"text",pixelRatio:k.pixelRatio,bbox:G.copy(c)});d.content=D.useHTML?b:F.text.format(b,a);var g=k.scene.createHash(d);if(g!==a.__env.hashText){a.__env.hashText=g;if(a.useFitText||D.useFitText)a.content=b,g=F.text.fitText({target:F.text.getMeasureElement({font:F.text.getFontStyle(a),content:a.content,textTransform:a.textTransform,
lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,wordSpacing:a.wordSpacing}),targetWidth:a.bbox.width-10,targetHeight:a.bbox.height-10,minFontSize:1,maxFontSize:500}),a.fontSize=g;if("pre-nowrap"===a.whiteSpace){g=c.width;d.bbox.width="auto";var d=x.measureText(d),h=F.text.getFontStyle(a),h=F.text.measureTextWidth("M",h),h=d.width+h;h!==g&&(c.width=h,c.x+=(g-h)/2*c.scale.x,a.dirtyCheck=!0)}else d=x.measureText(d);a.content!==b&&(a.dirtyCheck=!0);D.useAutoHeight&&c.height!==d.height&&(a.dirtyCheck=
!0,a.dirtyTransform=!0,c.height=d.height,e(a)&&(K.style.height=c.height+"px"));a.__env.textMetrics=d}x.updateCSS(a)});var X=String.fromCharCode(65279);(function(){var c="",d="";J?(c=J.style.cssText,d=x.getContent(),J.parentNode.removeChild(J),N.parentNode.removeChild(N)):l.ui.tooltip&&l.ui.tooltip.add(K,"");N=A.append(K,'<style type="text/css"></style>');J=A.append(K,"div");J.className="textarea";J.setAttribute("contentEditable","true");J.style.cssText=c+"; white-space: pre-wrap;";x.setContent(d);
D.useCanvasRenderer&&J.classList.add("CanvasRenderer");eventjs.add(J,"drag",eventjs.stop);eventjs.add(J,"keydown",P);eventjs.add(J,"keypress",U);eventjs.add(J,"keyup",I);eventjs.add(J,"scroll",u);eventjs.add(J,"paste",a);eventjs.add(J,"drop",function(a){b(!0)});K.appendChild(J)})();k.container.appendChild(K)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(a){var b="";a.fontStyle&&(b+=a.fontStyle+" ");a.fontVariant&&(b+=a.fontVariant+" ");a.fontWeight&&(b+=a.fontWeight+" ");b+=(a.fontSize||16)+"px ";return b+='"'+(a.fontFamily||"Arial")+'"'}function k(a){var b;if(!(b=f.elBreaks)){b=document.createElement("span");b.style.cssText="white-space: pre-wrap; word-wrap: break-word;";b.className="lineBreakData";var c=document.createElement("div");c.appendChild(b);c.className="sk-expand";f.container=f.container||d();f.container.appendChild(c);
b=f.elBreaks=b}b.parentNode.style.display="block";if("object"!==typeof a)return b;c=b.style;c.position="absolute";c.display="inline-block";c.width=isFinite(a.width)?a.width+"px":"auto";c.font=a.font||"serif";c.lineHeight="normal"===a.lineHeight?"normal":a.lineHeight+"em";c.letterSpacing="normal"===a.letterSpacing?"normal":a.letterSpacing+"px";c.wordSpacing="normal"===a.wordSpacing?"normal":a.wordSpacing+"px";c.textAlign=a.textAlign||"left";c.textTransform=a.textTransform||"none";b.innerHTML=a.content||
"";return b}var t=m.vector=m.vector||{},f=t.text=t.text||{};f.entities=function(a){return(a||"").split(String.fromCharCode(160)).join(String.fromCharCode(32)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};f.format=function(a,b){var c=b.textTransform,d=b.whiteSpace;if(c)switch(c){case "uppercase":a=a.toUpperCase();break;case "lowercase":a=a.toLowerCase();break;case "capitalize":a=a.replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()})}if(d)switch(d){case "pre-nowrap":a=
a.split("\n").join(" ");break;case "pre-line":case "nowrap":case "normal":a=a.replace(/\s{2,}/g," ")}return a};f.textTransform=function(a,b){switch(b){case "uppercase":return a.toUpperCase();case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()});default:return a}};f.getMetrics=function(a,b){var c="ltr";window.getComputedStyle&&(c=window.getComputedStyle(document.body,"").direction);var g=f.measureTextHeight(a,b),e=f.measureTextWidth(a,
b);return d({marginReset:!0,text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";var d=f.image,h=d.offsetTop+1,k=h-g;a.style.cssText="font: "+b+"; white-space: nowrap; line-height: 0; display: block;";var l=d.offsetTop+1;a.style.verticalAlign="sub";var m=h-(d.offsetTop-g);a.style.verticalAlign="super";return{font:b,direction:c,ascent:h,descent:-k,height:g,width:e,textBaseline:{alphabetic:0,top:h,hanging:8*h/10,middle:l,ideographic:k,bottom:k,subScript:m,
superScript:h-(d.offsetTop-g)},textAlign:{left:0,start:-("ltr"===c)?0:e,end:-("ltr"===c)?e:0,right:-e,center:-e/2}}}})};f.measureText=function(a,b){return{width:f.measureTextWidth(a,b),height:f.measureTextHeight(a,b)}};f.measureTextWidth=function(a,b){return d({text:a+a+a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: inline;";return a.offsetWidth/3}})};f.measureTextHeight=function(a,b){return d({text:"1<br>2<br>3<br>4<br>5<br>6<br>7",callback:function(a){a.style.cssText=
"font: "+b+"; white-space: nowrap; display: inline;";return a.offsetHeight/7+.5>>0}})};f.textAlign=function(a,b){var c=window.getComputedStyle(document.body,"").direction,g=f.measureTextWidth(a,b);return d({text:a,callback:function(a){return{left:0,start:-("ltr"===c)?0:g,end:-("ltr"===c)?g:0,right:-g,center:-g/2}}})};f.textBaseline=function(a,b){var c=f.measureTextHeight(a,b);return d({marginReset:!0,text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";var d=
f.image.offsetTop+1,h=d-c;a.style.cssText="font: "+b+"; white-space: nowrap; line-height: 0; display: block;";return{alphabetic:0,top:d,hanging:8*d/10,middle:f.image.offsetTop+1,ideographic:h,bottom:h}}})};f.textBaselineTop=function(a,b){return d({text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";return 1.315*f.image.offsetTop}})};var e,u,d=function(a){var b=document.body;f.expand||(f.parent=document.createElement("span"),f.text=document.createElement("span"),
f.parent.appendChild(f.text),f.image=document.createElement("img"),f.image.style.cssText="vertical-align: baseline; background: #000; width: 10px; height: 1px; display: inline;",f.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=",f.parent.appendChild(f.image),f.expand=document.createElement("div"),f.expand.className="sk-expand",f.expand.appendChild(f.parent),f.container=document.createElement("div"),f.container.id="sk-text-metrics",
f.container.appendChild(f.expand),b.insertBefore(f.container,b.firstChild));if(a)if(f.text.innerHTML=a.text,f.expand.style.cssText="display: block;",a.marginReset){a.setup&&1!==a.setup||(e=b.style.padding,u=b.style.margin,b.style.padding=0,b.style.margin=0);if(!a.setup)var c=a.callback(f.parent);a.setup&&2!==a.setup||(b.style.padding=e,b.style.margin=u,f.expand.style.display="none");if(!a.setup)return c}else return c=a.callback(f.parent),f.expand.style.display="none",c;return f.container};f.getFontStyle=
l;f.setFontStyle=function(a,b,c){c=c||1;var d=(a.fontSize||30)*c,e=a.textMetrics||a.__env&&a.__env.textMetrics;e&&e.lineHeight&&Math.round(e.lineHeight*c);b=b.style;b.fontStyle=a.fontStyle||"normal";b.fontVariant=a.fontVariant||"normal";b.fontWeight=a.fontWeight||"normal";b.fontSize=d+"px";b.fontFamily=a.fontFamily||"Arial";b.lineHeight="normal"===a.lineHeight?"normal":a.lineHeight+"em";b.letterSpacing="normal"===a.letterSpacing?"normal":a.letterSpacing+"px";b.wordSpacing="normal"===a.wordSpacing?
"normal":a.wordSpacing+"px";b.textAlign=a.textAlign||"center";b.textDecoration=a.textDecoration||"none";b.textTransform=a.textTransform||"none";b.textShadow=a.textShadow||"none"};f.fitText=function(a){var b=a.target,c=(a.targetWidth||b.offsetWidth)>>0,d=(a.targetHeight||b.offsetHeight)>>0,e=a.minFontSize||1,f=a.maxFontSize||500;a=a.widthOnly||!1;b.style.width=c+"px";for(var k,e=e+1,f=f+1;e<=f;)k=parseInt((e+f)/2,10),b.style.fontSize=k+"px",b.offsetWidth<=c&&(a||b.offsetHeight<=d)?e=k+1:f=k-1;b.parentNode.style.display=
"none";return k};var c=1/(180/Math.PI);f.drawLineBreaks=function(d){function e(){v.save();v.translate(-da/u/X,0);B.forEach(function(a){v.shadowColor=a.color;v.shadowOffsetX=a.x*u+da;v.shadowOffsetY=a.y*u;v.shadowBlur=a.blur*u;t()});v.restore()}function t(){for(var a=V.length,b=0;b<a;b++)if(Q){var c=V[b],d=Q[b],h=d.top+O.top,e=J+ma+d.height,f=h*Math.abs(W);if(!(f>e||f<J)){g("underline",d,h);g("overline",d,h);if(M)for(e=c.length,f=0;f<e;f++){var k=d.data[f];k&&q(c[f],k.left,h)}else q(c,d.left,h);g("line-through",
d,h)}}else c=V[b],h=b*I.lineHeight+aa+O.top,v.textAlign=D,q(c,R+Y,h)}function g(a,b,c){c+=Z;if((a=C[a])&&a.length)for(var d=0,g=a.length;d<g;d++){var h=a[d].line;if("none"!==h){var e=b.width,f=b.left;switch(h){case "underline":w(f,c,e,Z);break;case "overline":h=O.alphabetic-O.top;w(f,c+h,e,Z);break;case "line-through":h=.47*b.height-O.top,w(f,c+h,e,Z)}}}}function q(a,b,c){fa?(T&&(v.globalAlpha=ba,v.fillText(a,b,c)),P&&(v.globalAlpha=ia,v.strokeText(a,b,c))):(T&&v.fillText(a,b,c),P&&v.strokeText(a,
b,c))}function w(a,b,c,d){a>>=0;b>>=0;fa?(T&&(v.globalAlpha=ba,v.fillRect(a,b,c,d)),P&&(v.globalAlpha=ia,v.strokeRect(a,b,c,d))):(T&&v.fillRect(a,b,c,d),P&&v.strokeRect(a,b,c,d))}var z=d.content;if(z&&"string"===typeof z){var y=l(d),v=d.ctx,x=d.bbox,u=d.pixelRatio||1,E=d.textMetrics,A=d.fontSize||"medium",D=d.textAlign||"left",B=d.textShadow||"none",C=d.textDecoration||"none",H=d.textTransform||"none",G=0<d.letterSpacing?d.letterSpacing:"normal",F=0<d.wordSpacing?d.wordSpacing:"normal",N=d.lineHeight||
"normal",K=d.scrollLeft||0,J=d.scrollTop||0,S=d.useFitText||!1,P=!!d.stroke&&!!d.stroke.lineWidth&&!1!==d.stroke.enabled,T=!!d.fill&&!1!==d.fill.enabled,U=!!d.clip,z=f.format(z,d),z=f.entities(z);E&&E.data||(E={font:y,content:z,textAlign:D,textTransform:H,lineHeight:N,letterSpacing:G,wordSpacing:F,width:x.width},S&&(d.fontSize=f.fitText({target:k(E),targetWidth:x.width-10,targetHeight:x.height-10,minFontSize:S.minFontSize,maxFontSize:S.maxFontSize,widthOnly:S.widthOnly}),y=E.font=l(d)),E=f.getLineBreaks(E),
E.baseline=f.textBaseline("test",y),E.lineHeight=E.height/E.lines);var I={data:E.data,lines:E.lines,lineMetrics:E.lineMetrics,baseline:E.baseline,lineHeight:E.lineHeight,height:E.height,width:E.width,x:x.x,y:x.y};if(null==v)return I;v.save();v.font=y;var y=x.scale||{x:1,y:1},X=y.x,W=y.y,y=x.rotate*c;v.translate(x.x-(0>X?-K:K),x.y-(0>W?-J:J));y&&v.rotate(y);v.translate(-x.x*X,-x.y*W);1===X&&1===W||v.scale(X,W);var Y=0;switch(D){case "right":Y=x.width;break;case "center":Y=x.width/2}"string"===typeof B&&
(B=b(B));"string"===typeof C&&(C=a(C));var O=E.baseline,V=E.data,Q=E.lineMetrics,Z=Math.max(.5,A/12),R=x.x,aa=x.y,ba=1,ia=1;T&&(ba=d.fill.opacity,v.fillStyle=m.doc.getW3CStyle("fill",v,0,0,x.width,x.height,d));P&&(A=d.stroke,ia=A.opacity,v.lineWidth=A.lineWidth,v.strokeStyle=m.doc.getW3CStyle("stroke",v,0,0,x.width,x.height,d));U&&(v.rect(x.x,x.y,x.width,x.height),v.clip());var fa=ba!==ia,M="normal"!==G||"normal"!==F||"justify"===D,da=v.canvas.width,ma=v.canvas.height;B&&B.length&&e();t();v.restore();
return I}};var a=function(){var a=/\s+/;return function(b){var c=[];b=b.split(",");for(var d=0;d<b.length;d++){var e=b[d].trim().split(a),f=e[0]||"none",k=e[1]||"solid",e=e[2]||"inherit";"none"!==f&&(c[f]=[],c[f].push({line:f,style:k,color:e}))}return c}}(),b=function(){var a=/((#[0-F]+|(rgba|rgb)\([^\)]+\))(\s-?\d+px){0,})/gi,b=/(#[0-F]+)|((rgb|rgba)\(.+\))|(-?\d+px)/gi;return function(c){var d=[];if(c&&"none"!==c&&(c=c.match(a)))for(var e=0;e<c.length;e++){var f=c[e].match(b);d.push({color:f[0],
x:parseFloat(f[1])||0,y:parseFloat(f[2])||0,blur:parseFloat(f[3])||0})}return d.reverse()}}();f.getMeasureElement=k;f.getLineBreaks=function(a){function b(){v.push(t.replace(/[\n\r]/,""));x.push({data:l,top:B,left:D,width:C,height:H});t="";C=0;l=[]}a=k(a);var c=a.firstChild||a,d=document.createRange();d.setStart(c,0);d.setEnd(c,0);var e=d.getClientRects();if(0===e.length)return{data:[],lines:0,height:1,width:1};for(var f=m.agent&&m.agent.firefox,l=[],t="",v=[],x=[],u=0,E=e[e.length-1],A=E.bottom,
D=E.left,B=E.top,C=0,H=E.height,G=0,F=1,N=c.textContent,K=N.length;N;){if(F>K){b();break}d.setStart(c,G);d.setEnd(c,F);var e=d.getClientRects(),J=e.length-1,E=e[J];1>=E.width&&J&&(E=e[J-1]);.001<Math.abs(A-E.bottom)&&((N=N.substr(u))&&!0!==f&&" "===t[t.length-1]&&(t=t.substr(0,t.length-1),(u=l.pop())&&(C-=u.width)),b(),G=F-1,A=E.bottom,D=E.left,B=E.top);u=F-G;(e=N.substr(u-1,1))&&65279!==e.charCodeAt()&&(J=E.width-C)&&(t+=e,C=E.width,H=E.height,l.push({character:e,width:J,height:E.height,left:E.left+
E.width-J,top:E.top}));F++}c=a.offsetHeight;d=a.offsetWidth;a.parentNode.style.display="none";return{data:v,lineMetrics:x,lines:v.length,height:c,width:d}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.dom||(m.dom={}),k=m.lang||(m.lang={}),t=m.util||(m.util={}),f=m.vector||(m.vector={}),e=f.text=f.text||{};e.attach=function(d){var c=d.family,a=d.filepath,b=d.onsuccess,h=d.onerror,e=new u(d);if(e.detectFont(c))b&&b();else{var f=document.createElement("style");f.type="text/css";document.getElementsByTagName("head")[0].appendChild(f);c=a.startsWith("blob:")?'@font-face {\t\t\t\t\tfont-family: "'+c+'";\t\t\t\t\tsrc: url("'+a+'");\t\t\t\t\tsrc: url("'+a+'?#iefix") format("embedded-opentype"),\t\t\t\t\t\turl("'+
a+'") format("woff"),\t\t\t\t\t\turl("'+a+'") format("truetype"),\t\t\t\t\t\turl("'+a+"#"+c+'") format("svg");\t\t\t\t\tfont-weight: normal;\t\t\t\t\tfont-style: normal;\t\t\t\t}':'@font-face {\t\t\t\t\tfont-family: "'+c+'";\t\t\t\t\tsrc: url("'+a+'.eot");\t\t\t\t\tsrc: url("'+a+'.eot?#iefix") format("embedded-opentype"),\t\t\t\t\t\turl("'+a+'.woff") format("woff"),\t\t\t\t\t\turl("'+a+'.ttf") format("truetype"),\t\t\t\t\t\turl("'+a+".svg#"+c+'") format("svg");\t\t\t\t\tfont-weight: normal;\t\t\t\t\tfont-style: normal;\t\t\t\t}';
f.styleSheet?f.styleSheet.cssText=c:f.innerHTML=c;(b||h)&&e.waitForFont(d)}};e.attachFromCSS=function(d){var c=d.family,a=d.onsuccess,b=d.onerror,e=new u(d);if(e.detectFont(c))a&&a();else{var c=d.href.replace(/[^a-zA-Z 0-9]+/g,""),f=document.getElementById(c);f?(d=f.getAttribute("data-error"))?b&&b(d):a&&a():(d.link=f=document.createElement("link"),f.href=d.href,f.id=c,f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.onerror=function(){b&&b({message:"StyleSheet Not Found",code:404});
f.setAttribute("data-error","404")},document.body.appendChild(f),e.waitForFont(d))}};e.attachFromGoogleAPI=function(d){var c=d.family,a=d.onerror;e.attachFromCSS({family:c,href:window.location.protocol+"//fonts.googleapis.com/css?family="+c+":regular",onsuccess:d.onsuccess,onerror:function(b){a&&a({message:"&ldquo;"+c+"&rdquo; font-family unavailable.",code:404})}})};var u=function(d){d=d||{};var c=this;this.metrics=void 0;this.test=d.test||"Thequickbrownfox";this.font=this.missing=this.arial=this.ctx=
this.canvas=void 0;this.createHash=function(a){c.canvas.width=c.canvas.width;c.ctx.font=c.font;c.ctx.fillText(a,0,c.metrics.textBaseline.top);return c.ctx.canvas.toDataURL()};this.getHash=function(a){c.metrics||(c.metrics=e.getMetrics(c.test,"16px Arial, Helvetica"),c.canvas=l.Canvas(c.metrics.width,c.metrics.height),c.font="16px Arial, Helvetica",c.ctx=c.canvas.ctx,c.ctx.font="16px Arial, Helvetica",c.arial=c.createHash(c.test),c.missing=c.createHash(""));c.font='16px "'+a+'", Arial, Helvetica';
return c.createHash(c.test)};this.detectFont=function(a){var b=e.supports,d=b[a];if("boolean"===typeof d)return d;if("arial"===a.toLowerCase())return b[a]=!0;d=c.getHash(a);return d!==c.missing&&d!==c.arial?b[a]=!0:!1};this.waitForFont=function(a){function b(a){clearInterval(v);e.supports[l]=!1;f&&f.setAttribute("data-error","timeout");w("timeout");m&&m.loader&&m.loader.stop(l)}var d=a.timeout||15E3,f=a.link,l=a.family,g=a.filepath,q=a.onsuccess,w=a.onerror;if(c.detectFont(l))q&&q();else{var z=t.now(),
y,v=setInterval(function(){var a=c.getHash(l),f=t.now()-z;a!==c.missing&&a!==c.arial?(clearInterval(v),e.supports[l]=!0,q(),m&&m.loader&&m.loader.stop(l)):f>d?b():g&&2E3<f&&!y&&(y=t.request({url:g,method:"HEAD",onerror:b}))},10);m&&m.loader&&a.useLoader&&m.loader.create(a.family,k.translate("loading")+" &ldquo;"+a.family+"&rdquo;")}}},f=new u;e.supports={};e.detectFont=f.detectFont})(sketch);
(function(m){m.toolkit("eyedropper",function(l,k){var m=galactic.emitter(this),f=k.toolkit,e=k.scene;m.id="eyedropper";m.enabled=!1;m.noGUI=!0;(function(){var e={};m.enable=function(){!1===m.enabled&&(m.enabled=!0,l.keyboard&&l.keyboard.listen(k,e),e.onDrag=eventjs.add({type:"drag",monitor:!0,position:"relative",target:k.contexts.active,listener:m.onPointer,fingers:1}))};m.disable=function(){!0===m.enabled&&(m.enabled=!1,eventjs.bulk(e,"remove"))}})();m.onPointer=function(f,d){var c=e.findPixel(f,
1,1),a=d.pointerMove||d.pointerStart,b=d.pointerEnd;m.state=d.state;a&&m.on.hover?m.emit("hover",c):b&&m.on.select&&m.emit("select",c)};m.createTrigger=function(){function e(a,c){var d=l.color.space(a,"RGBA>HSVA");d.A=255;b.update(d,c)}function d(){r.useBGRender=d.BGRender;p.classList.remove("active");g.style.cursor="default";m.off("hover",c);m.off("select",a);return f.previous()}function c(a){e(a)}function a(a){d().then(function(){e(a,"up")})}var b=l.ui.colorpicker,h=b.element.querySelector(".cp-header"),
p=document.createElement("span");p.className="cp-eyedropper icon-eyedropper";p.tabIndex=100;h.appendChild(p);var r=l.feature.canvas,g=k.contexts.active;eventjs.add(p,"click",function(b){if("eyedropper"===k._tool.type)return d();r.useBGRender?d.BGRender=!0:(d.BGRender=!1,r.useBGRender=!0,k.render.dirty=!0);p.classList.add("active");g.style.cursor="crosshair";m.on("hover",c);m.on("select",a);return f.tool("eyedropper")});eventjs.add(p,"blur",function(){"eyedropper"===k._tool.type&&"down"!==m.state&&
d()});l.ui.tooltip&&l.ui.tooltip.add(p,"eyedropper")}})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.Server=function(l){function k(c){var a=c.url||l.loc.POST,b=c.entries,d=c.onabort,e=c.onerror,k=c.onprogress,g=c.onsave;if(!c||!u.count(b))return console.warn("server sync is not setup");c={action:a,confirm:"text",files:[]};var q=c.files,m;for(m in b)q.push({name:m,data:b[m]});c.onprogress=function(a,b){k&&k(a.transferPercent,"sync")};c.onabort=function(a,b){d&&d(b)};c.onerror=function(a,b){e&&e(b)};c.onupload=function(a,b){f.debug&&console.log(a.transferTotal,
b,a);"false"===b||"<"===b[0]?(console.warn("invalid server response",b),e&&e(b)):((f.sync.json||f.sync.zip||f.sync.svg)&&f.sync.hashId&&l.loc.setHash(f.sync.hashFlag,b),l.emit("save",b,q),g&&g(b,q))};new l.uploader.upload(c)}var m=this,f=l.feature,e=l.lang,u=l.util,d;m.auth=function(c){f.requireAuth?u.request({url:l.loc.host+"check-login.html",format:"text",onsuccess:function(a,b){c("true"===b)}}):c(!0)};m.getResource=function(){if(l.loc.GET)return l.loc.getSketchID()||u.pronounceable();console.warn("GET not setup");
return"new"};m.open=function(c){c=c||{};var a=c.url,b=c.onsuccess,d=c.onerror,k=c.onprogress||function(a){var b=e.translate("downloading")+"...";1>a?(a=Math.max(0,100*a-1)>>0,l.loader&&l.loader.create("thread",b,a)):l.loader&&l.loader.stop("thread")};a?u.request({url:a,format:"text",onerror:function(a){k&&k(1);f.debug?console.warn("server connection error",a):(l.loc.setHash(f.sync.hashFlag,"new"),d&&d({message:"URL could not be reached."}))},onsuccess:function(a,c){if(c.startsWith("<?xml")||c.startsWith("<svg"))k&&
k(.99),l.open.svg(c,b,d);else if(c.startsWith("<"))k&&k(1),f.debug&&console.log("invalid data from server",c),l.loc.setHash(f.sync.hashFlag,"new");else if(c.startsWith("{"))k&&k(.99),l.open.json(c,b,d);else if(l.open.sketch){for(var e=new Uint8Array(c.length),m=0;m<c.length;m++)e[m]=c.charCodeAt(m)&255;e=new Blob([e.buffer],{type:"application/zip"});k&&k(.99);l.open.sketch({blob:e,onerror:d,onsuccess:b})}else k&&k(1),b&&b()},onprogress:function(a,b){k&&k(b)}}):d&&d({message:"URL is invalid."})};m.save=
function(c){c=c||{};var a=c.url,b=c.sync||f.sync,e=c.entries||b.entries||{},p=c.onabort||b.onabort,r=c.onerror||b.onerror,g=c.onprogress||b.onprogress,q=c.onsave||b.onsave;250>u.now()-d||(d=u.now(),m.auth(function(c){c?l.save.sync({sync:b,onprogress:function(a){g&&g(0,"prepare")},onsuccess:function(b){var c=l.doc;c.lastSynced=c.lastModified;u.each(b,function(a,b){"folder"===b?a.forEach(function(a){e[a.filename]=a.blob}):a.filename&&a.blob?e[a.filename]=a.blob:e[b]=a});k({url:a,entries:e,onsave:q,
onabort:p,onerror:r,onprogress:function(a,b){g&&g(a,b)}})}}):l.exec("login")}))};m.saveData=function(c){c=c||{};m.auth(function(a){a?k(c):l.exec("login")})}}})(sketch);
"function"===self.WebKitCSSMatrix?self.CSSMatrix=WebKitCSSMatrix:function(){function m(a){if(void 0===a||"none"===a)return t(this);if(a instanceof m)return l(a);var b=arguments;if(b.length){if(16===b.length)return c(this,b);if(6===b.length)return d(this,b)}return this.setMatrixValue(a)}function l(a){var b=new m;b.m11=b.a=a.m11;b.m12=b.b=a.m12;b.m13=a.m13;b.m14=a.m14;b.m21=b.c=a.m21;b.m22=b.d=a.m22;b.m23=a.m23;b.m24=a.m24;b.m31=a.m31;b.m32=a.m32;b.m33=a.m33;b.m34=a.m34;b.m41=b.e=a.m41;b.m42=b.f=a.m42;
b.m43=a.m43;b.m44=a.m44;return b}function k(a,b){return b instanceof m?new m(b.m11*a.m11+b.m12*a.m21+b.m13*a.m31+b.m14*a.m41,b.m11*a.m12+b.m12*a.m22+b.m13*a.m32+b.m14*a.m42,b.m11*a.m13+b.m12*a.m23+b.m13*a.m33+b.m14*a.m43,b.m11*a.m14+b.m12*a.m24+b.m13*a.m34+b.m14*a.m44,b.m21*a.m11+b.m22*a.m21+b.m23*a.m31+b.m24*a.m41,b.m21*a.m12+b.m22*a.m22+b.m23*a.m32+b.m24*a.m42,b.m21*a.m13+b.m22*a.m23+b.m23*a.m33+b.m24*a.m43,b.m21*a.m14+b.m22*a.m24+b.m23*a.m34+b.m24*a.m44,b.m31*a.m11+b.m32*a.m21+b.m33*a.m31+b.m34*
a.m41,b.m31*a.m12+b.m32*a.m22+b.m33*a.m32+b.m34*a.m42,b.m31*a.m13+b.m32*a.m23+b.m33*a.m33+b.m34*a.m43,b.m31*a.m14+b.m32*a.m24+b.m33*a.m34+b.m34*a.m44,b.m41*a.m11+b.m42*a.m21+b.m43*a.m31+b.m44*a.m41,b.m41*a.m12+b.m42*a.m22+b.m43*a.m32+b.m44*a.m42,b.m41*a.m13+b.m42*a.m23+b.m43*a.m33+b.m44*a.m43,b.m41*a.m14+b.m42*a.m24+b.m43*a.m34+b.m44*a.m44):null}function t(a){a.m11=a.a=1;a.m12=a.b=0;a.m13=0;a.m14=0;a.m21=a.c=0;a.m22=a.d=1;a.m23=0;a.m24=0;a.m31=0;a.m32=0;a.m33=1;a.m34=0;a.m41=a.e=0;a.m42=a.f=0;a.m43=
0;a.m44=1;return a}var f=m.prototype,e=/^matrix\((.*)\)/,u=/^matrix3d\((.*)\)/,d=function(a,b){a.m11=a.a=b[0];a.m12=a.b=b[1];a.m41=a.e=b[4];a.m21=a.c=b[2];a.m22=a.d=b[3];a.m42=a.f=b[5];return a},c=function(a,b){a.m11=a.a=b[0];a.m12=a.b=b[1];a.m13=b[2];a.m14=b[3];a.m21=a.c=b[4];a.m22=a.d=b[5];a.m23=b[6];a.m24=b[7];a.m31=b[8];a.m32=b[9];a.m33=b[10];a.m34=b[11];a.m41=a.e=b[12];a.m42=a.f=b[13];a.m43=b[14];a.m44=b[15];return a};f.setMatrixValue=function(a){if("string"===typeof a){t(this);a=a.trim();if("none"===
a)return this;for(var b=a.replace(/^.*\((.*)\)$/g,"$1").split(/\s*,\s*/),h=b.length;h--;)b[h]=parseFloat(b[h]);if(6===b.length&&e.test(a))return d(this,b);if(16===b.length&&u.test(a))return c(this,b)}throw Error("Failed to execute 'setMatrixValue' on 'CSSMatrix': Failed to parse '"+a+"'");};f.multiply=function(a){return k(this,a)};f.inverse=function(){var a;a=(a=this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+
this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-
this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44)?new m((this.m23*this.m34*this.m42-this.m24*this.m33*this.m42+this.m24*this.m32*this.m43-this.m22*this.m34*this.m43-this.m23*this.m32*this.m44+this.m22*this.m33*this.m44)/a,(this.m14*this.m33*this.m42-this.m13*this.m34*this.m42-this.m14*this.m32*this.m43+this.m12*this.m34*this.m43+this.m13*
this.m32*this.m44-this.m12*this.m33*this.m44)/a,(this.m13*this.m24*this.m42-this.m14*this.m23*this.m42+this.m14*this.m22*this.m43-this.m12*this.m24*this.m43-this.m13*this.m22*this.m44+this.m12*this.m23*this.m44)/a,(this.m14*this.m23*this.m32-this.m13*this.m24*this.m32-this.m14*this.m22*this.m33+this.m12*this.m24*this.m33+this.m13*this.m22*this.m34-this.m12*this.m23*this.m34)/a,(this.m24*this.m33*this.m41-this.m23*this.m34*this.m41-this.m24*this.m31*this.m43+this.m21*this.m34*this.m43+this.m23*this.m31*
this.m44-this.m21*this.m33*this.m44)/a,(this.m13*this.m34*this.m41-this.m14*this.m33*this.m41+this.m14*this.m31*this.m43-this.m11*this.m34*this.m43-this.m13*this.m31*this.m44+this.m11*this.m33*this.m44)/a,(this.m14*this.m23*this.m41-this.m13*this.m24*this.m41-this.m14*this.m21*this.m43+this.m11*this.m24*this.m43+this.m13*this.m21*this.m44-this.m11*this.m23*this.m44)/a,(this.m13*this.m24*this.m31-this.m14*this.m23*this.m31+this.m14*this.m21*this.m33-this.m11*this.m24*this.m33-this.m13*this.m21*this.m34+
this.m11*this.m23*this.m34)/a,(this.m22*this.m34*this.m41-this.m24*this.m32*this.m41+this.m24*this.m31*this.m42-this.m21*this.m34*this.m42-this.m22*this.m31*this.m44+this.m21*this.m32*this.m44)/a,(this.m14*this.m32*this.m41-this.m12*this.m34*this.m41-this.m14*this.m31*this.m42+this.m11*this.m34*this.m42+this.m12*this.m31*this.m44-this.m11*this.m32*this.m44)/a,(this.m12*this.m24*this.m41-this.m14*this.m22*this.m41+this.m14*this.m21*this.m42-this.m11*this.m24*this.m42-this.m12*this.m21*this.m44+this.m11*
this.m22*this.m44)/a,(this.m14*this.m22*this.m31-this.m12*this.m24*this.m31-this.m14*this.m21*this.m32+this.m11*this.m24*this.m32+this.m12*this.m21*this.m34-this.m11*this.m22*this.m34)/a,(this.m23*this.m32*this.m41-this.m22*this.m33*this.m41-this.m23*this.m31*this.m42+this.m21*this.m33*this.m42+this.m22*this.m31*this.m43-this.m21*this.m32*this.m43)/a,(this.m12*this.m33*this.m41-this.m13*this.m32*this.m41+this.m13*this.m31*this.m42-this.m11*this.m33*this.m42-this.m12*this.m31*this.m43+this.m11*this.m32*
this.m43)/a,(this.m13*this.m22*this.m41-this.m12*this.m23*this.m41-this.m13*this.m21*this.m42+this.m11*this.m23*this.m42+this.m12*this.m21*this.m43-this.m11*this.m22*this.m43)/a,(this.m12*this.m23*this.m31-this.m13*this.m22*this.m31+this.m13*this.m21*this.m32-this.m11*this.m23*this.m32-this.m12*this.m21*this.m33+this.m11*this.m22*this.m33)/a):!1;return a};f.translate=function(a,b,c){c=c||0;var d=l(this);d.m41=d.e=d.m11*a+d.m21*b+d.m31*c+d.m41;d.m42=d.f=d.m12*a+d.m22*b+d.m32*c+d.m42;d.m43=d.m13*a+
d.m23*b+d.m33*c+d.m43;d.m44=d.m14*a+d.m24*b+d.m34*c+d.m44;return d};f.scale=function(a,b,c){b!==+b&&(b=a);c!==+c&&(c=1);var d=new m;d.m11=d.a=a;d.m22=d.d=b;d.m33=c;return k(this,d)};f.rotate=function(a,b,c){a!==+a&&(a=0);b!==+b&&c!==+c&&(c=a,b=a=0);b!==+b&&(b=0);c!==+c&&(c=0);var d,e;a*=Math.PI/180;d=Math.PI/180*b;e=Math.PI/180*c;c=Math.cos(a);a=-Math.sin(a);b=Math.cos(d);d=-Math.sin(d);var g=Math.cos(e);e=-Math.sin(e);var f=new m;f.m11=f.a=b*g;f.m12=f.b=-b*e;f.m13=d;f.m21=f.c=a*d*g+c*e;f.m22=f.d=
c*g-a*d*e;f.m23=-a*b;f.m31=a*e-c*d*g;f.m32=a*g+c*d*e;f.m33=c*b;return k(this,f)};f.rotateAxisAngle=function(a,b,c,d){b!==+b&&(b=a);c!==+c&&(c=a);var e;e=Math.PI/360*d;d=Math.sin(e);e=Math.cos(e);var g=d*d,f=Math.sqrt(a*a+b*b+c*c);0===f?(b=a=0,c=1):(a/=f,b/=f,c/=f);var f=a*a,l=b*b,t=c*c,y=new m;y.m11=y.a=1-2*(l+t)*g;y.m12=y.b=2*(a*b*g+c*d*e);y.m13=2*(a*c*g-b*d*e);y.m21=y.c=2*(b*a*g-c*d*e);y.m22=y.d=1-2*(t+f)*g;y.m23=2*(b*c*g+a*d*e);y.m31=2*(c*a*g+b*d*e);y.m32=2*(c*b*g-a*d*e);y.m33=1-2*(f+l)*g;y.m14=
y.m24=y.m34=0;y.m41=y.e=y.m42=y.f=y.m43=0;y.m44=1;return k(this,y)};f.toString=function(){var a=function(a){return a.toFixed(6)},b;b=this.m13||this.m14||this.m23||this.m24||this.m31||this.m32||1!==this.m33||this.m34||this.m43||1!==this.m44?!1:!0;return b?"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].map(a).join(", ")+")":"matrix3d("+[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44].map(a).join(", ")+
")"};f.skewX=function(a){a*=Math.PI/180;var b=new m;b.m21=b.c=Math.tan(a);return k(b,this)};f.skewY=function(a){a*=Math.PI/180;var b=new m;b.m12=b.b=Math.tan(a);return k(b,this)};"undefined"!==typeof exports?("object"===typeof module&&module.exports&&(exports=module.exports=m),exports.CSSMatrix=m):self.CSSMatrix=m}();
(function(){function m(k,f,e,l){this.x=k||0;this.y=f||0;this.z=e||0;this.w=l||0}function l(k){k=k||{};var f={perspective:null,translate:null,skew:null,scale:null,rotate:null},e;for(e in f)this[e]=k[e]?k[e]:new m}var k=m.prototype;k.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};k.normalise=function(){var k=this.length();return new m(this.x/k,this.y/k,this.z/k)};k.dot=function(k){return this.x*k.x+this.y*k.y+this.z*k.z+this.w*k.w};k.cross=function(k){return new m(this.y*
k.z-this.z*k.y,this.z*k.x-this.x*k.z,this.x*k.y-this.y*k.x)};k.combine=function(k,f,e){return new m(f*this.x+e*k.x,f*this.y+e*k.y,f*this.z+e*k.z)};k=CSSMatrix.prototype;k.transformVector=function(k){return new m(this.m11*k.x+this.m12*k.y+this.m13*k.z,this.m21*k.x+this.m22*k.y+this.m23*k.z,this.m31*k.x+this.m32*k.y+this.m33*k.z)};k.point3d=function(k){return new m(this.m11*k.x+this.m21*k.y+this.m31*k.z+this.m41,this.m12*k.x+this.m22*k.y+this.m32*k.z+this.m42,this.m13*k.x+this.m23*k.y+this.m33*k.z+
this.m43,this.m14*k.x+this.m24*k.y+this.m34*k.z+this.m44)};k.transpose=function(){for(var k=new CSSMatrix,f=0,e=0,f=0;2>=f;f++)for(e=f+1;3>=e;e++)k["m"+(f+1)+(e+1)]=this["m"+(e+1)+(f+1)],k["m"+(e+1)+(f+1)]=this["m"+(f+1)+(e+1)];return k};k.determinant=function(){return this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*
this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*
this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44};k.decompose=function(){var k=new CSSMatrix(this.toString()),f,e,u,d,c;if(0===k.m33)return new l((new CSSMatrix).decompose());for(c=1;4>=c;c++)for(j=1;4>=j;j++)k["m"+c+j]/=k.m44;for(c=1;3>=c;c++)k["m"+c+"4"]=0;k.m44=1;if(0===k.determinant())return new l((new CSSMatrix).decompose());0!=k.m14||0!=k.m24||0!=k.m34?(f=new m(k.m14,k.m24,k.m34,k.m44),e=k.inverse(),e=e.transpose(),
f=e.transformVector(f),k.m14=k.m24=k.m34=0,k.m44=1):f=new m(0,0,0,1);e=new m(k.m41,k.m42,k.m43);k.m41=0;k.m42=0;k.m43=0;u=[new m,new m,new m];for(c=1;3>=c;c++)u[c-1].x=k["m"+c+"1"],u[c-1].y=k["m"+c+"2"],u[c-1].z=k["m"+c+"3"];k=new m;d=new m;k.x=u[0].length();u[0]=u[0].normalise();d.x=u[0].dot(u[1]);u[1]=u[1].combine(u[0],1,-d.x);k.y=u[1].length();u[1]=u[1].normalise();d.x/=k.y;d.y=u[0].dot(u[2]);u[2]=u[2].combine(u[0],1,-d.y);d.z=u[1].dot(u[2]);u[2]=u[2].combine(u[1],1,-d.z);k.z=u[2].length();u[2]=
u[2].normalise();d.y/=k.z;d.y/=k.z;c=u[1].cross(u[2]);if(0>u[0].dot(c))for(c=0;3>c;c++)k.x*=-1,u[c].x*=-1,u[c].y*=-1,u[c].z*=-1;c=new m;c.y=Math.asin(-u[0].z);0!=Math.cos(c.y)?(c.x=Math.atan2(u[1].z,u[2].z),c.z=Math.atan2(u[0].y,u[0].x)):(c.x=Math.atan2(-u[2].x,u[1].y),c.z=0);return new l({perspective:f,translate:e,skew:d,scale:k,rotate:c})}})();"undefined"===typeof sketch&&(sketch={});
(function(m){function l(a,b){var c=new e.Transform(b),d=c.point2d(a[0],a[1]),h=c.point2d(a[0],a[3]),f=c.point2d(a[2],a[3]),c=c.point2d(a[2],a[1]);return{x1:Math.min(d.x,h.x,f.x,c.x),y1:Math.min(d.y,h.y,f.y,c.y),x2:Math.max(d.x,h.x,f.x,c.x),y2:Math.max(d.y,h.y,f.y,c.y)}}function k(a){if(a.__style)return a.__style;if(a.getAttribute){var b=a.getAttribute("style");if(b){for(var b=b.split(";"),c={},d=0,e=b.length;d<e;d++){var h=b[d].split(":");h[0]&&h[1]&&(c[h[0].trim()]=h[1].trim())}return a.__style=
c}}return a.__style={}}function t(a){var b=[];if(a)for("string"===typeof a&&(a=-1!==a.indexOf(",")?a.split(","):a.split(" "));a.length;)b.push(parseFloat(a.shift()));return b}function f(a,b){return"undefined"!==typeof XPathResult?a.evaluate('//*[@xml:id="'+b+'"]',a,function(){return"http://www.w3.org/XML/1998/namespace"},XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:a.getElementById?a.getElementById(b):null}var e=m.vector||(m.vector={}),u=m.util||(m.util={}),d={},c={},a=1/(180/Math.PI),
b=["g","switch","a"],h=e.SVG=function(a){if(!(this instanceof h))return new h(a);a=a||{};this.convertMetrics=u.getScreenMetrics?this.convertMetrics||u.toMetrics||(u.toMetrics=u.getScreenMetrics()):{normal_px:16,"xx-small_px":9,"x-small_px":10,small_px:13,medium_px:16,large_px:18,"x-large_px":24,"xx-large_px":32,"%>px":.16,"px>pt":.7500187504687618,"pt>pc":.08333333333333333,"px>in":.010416666666666666,"in>ft":.08333333333333333,"ft>yd":.3333333333333333,"px>mm":.2645833333333333,"mm>cm":.1,"cm>m":.01,
"px>ex":.11951429390955158,"ex>em":.52295,"px>px":1,"px>pc":.06250156253906347,"pt>px":1.3333,"pc>px":15.9996,"pc>pt":12,"px>cm":.02645833333333333,"mm>m":.001,"mm>px":3.779527559055119,"m>mm":1E3,"cm>mm":10,"px>m":2.645833333333333E-4,"cm>px":37.795275590551185,"m>px":3779.527559055118,"m>cm":100,"px>ft":8.680555555555555E-4,"in>yd":.027777777777777776,"in>px":96,"yd>in":36,"ft>in":12,"px>yd":2.8935185185185184E-4,"ft>px":1152,"yd>px":3456,"yd>ft":3,"px>em":.0625,"ex>px":8.3672,"em>px":16,"em>ex":1.9122287025528253};
this.type="svg";this.cors=a.cors||!1;this.debug=a.debug||!1;this.debugSVG=a.debugSVG||!1;this.debugBBox=a.debugBBox||!1;this.debugHitArea=a.debugHitArea||!1;this.placement=a.placement||"bbox";this.defaultStroke=this.defaultFill="#000000";this.state={fillStyle:"#000000"};this.defs={};this.vob={type:"svg"};this.batch=0;this.skipRender=a.skipRender||!1;this.useCache=a.useCache||!1;this.uid=0;a.src&&(this.src=a.src);a.srcs&&(this.srcs=a.srcs);a.data&&(this.data=a.data);a.ctxCache&&(this.ctxCache=a.ctxCache);
a.ctx&&(this.ctx=a.ctx);a.onerror&&(this.onerror=a.onerror);a.onsuccess&&(this.onsuccess=a.onsuccess);a.document&&(this.document=a.document);return a.src||a.document?this.load():this},p=h.prototype;p.load=function(){function a(c,d){var g=b.onerror;g&&g({message:d,code:c})}var b=this;if(this.src||this.data||this.document){if(this.src||this.data){var f=this.src||this.data;if("string"===typeof f){this.__id=u.hashFast(f);if(h.detect(f))return this.fromString(f),this;!1!==this.useCache&&"undefined"!==
typeof document&&(this.document=document.getElementById(this.__id))}else return a(400,"Bad Request"),this}else if(this.document)return this.__id="#",this.onParseReady(),this;if(c[f])a(404,"Not Found");else if(this.document){var k=d[this.__id];if(k&&k.loaded||this.srcs&&this.srcs[f])this.onParseReady();else b.onParseReady()}else this.srcs&&this.srcs[f]?this.fromString(this.srcs[f]):u.request({url:f,format:"text",onerror:function(){c[f]=!0;a(404,"Not Found")},onsuccess:function(c,d){e.SVG.detect(d)?
b.fromString(d):a(422,"Unprocessable Entity")}})}return this};h.decodeDataURL=function(a){a=a.split(/;(.+)/);a.shift();a=a.shift().split(/,(.+)/);var b=a.shift();a=a.shift();return"utf8"===b?a:atob(u.string.decodeUTF8(a))};p.fromString=function(a,b){var c=new DOMParser;0===a.indexOf("data:image/svg")&&(a=h.decodeDataURL(a));this.srcXML=a;a=a.replace(/\<(\?xml|(\!DOCTYPE[^\>\[]+(\[[^\]]+)?))+[^>]+\>/g,"");a=a.replace(/(xmlns(:.*|)='&.*;')/g,"");this.document=c=c.parseFromString("<object>"+a+"</object>",
"text/xml").documentElement;this.svg=c.querySelector?c.querySelector("svg"):c;this.document.id=this.__id;"object"===typeof document&&this.debugSVG&&document.body.appendChild(this.document);this.onParseReady(b);!this.debugSVG&&this.document.style&&(this.document.style.visibility="hidden",this.document.style.opacity=0,this.document.style.zIndex=-1,this.document.style.width="1px",this.document.style.height="1px");return this};p.onParseReady=function(a){var b=this,c=d[b.__id];c?b.onsuccess&&b.onsuccess(c):
(b.debug&&(b.perf=u.perf()),b.loaded=!0,b.element=b.document.contentDocument||b.document,b.parse({document:b.element,skipRender:b.skipRender,node:{childNodes:[]},onsuccess:function(c){if(c&&(b.vob=c[0],b.viewBox=b.getBoundingBox(null),b.viewBoxStroke=b.getBoundingBox(null,!0),b.perf&&b.perf("SVG.parse",!0),b.useCache&&(d[b.__id]=b),a&&a(b),b.onsuccess&&b.onsuccess(b),!b.debug))try{document.body.removeChild(b.document)}catch(e){}}}))};p.rxSplitByUppercase=/([A-Z]?[^A-Z]*)/g;p.rxNumeric=/[+-]?\d*\.?(e[+-]?\d+)*/g;
p.rxTransform=/(\w+\(([+-]?\d*\.?(e[+-]?\d+)*[, ]?)+\))+/gi;p.parse=function(a){function c(){if(0===++f.batch%250)setTimeout(c,0);else if(++F===G)a.onsuccess&&a.onsuccess(m);else{var d=D[F],h=d.type,r="";A&&A.save();if("none"===k(d).display)return c();switch(h){case "svg":f.currentNode=r=f.getAttributes(d,"id,x,y,width,height,viewBox,version,source,author,license,keywords,metadata,brush");r.matrix=e.Transform.getIdentity();r.type="svg";if(void 0!==e.SVGFont){h=f.element.getElementsByTagName("font");
h.length&&(f.vob.type||(f.vob=r),A&&(f.debug&&(A.canvas.style.border="1px solid rgba(0,0,0,0.1)",f.document.style.left=r.width+"px"),A.canvas.width=r.width||1,A.canvas.height=r.height||1),f.typeface=new e.SVGFont(A),f.document.width=r.width||1,f.document.height=r.height||1,t=r);for(var w=0;w<h.length;w++)f.typeface.load(h[w].cloneNode(!0),function(a){})}if(r.viewBox){var w=r.viewBox,z=w[2]-w[0],B=w[3]-w[1],h=r.width||z,C=r.height||B;A&&(A.canvas.width=h,A.canvas.height=C);z=Math.min(h/z,C/B);B=new e.Transform;
B.translate(-w[0],-w[1]);B.translate(h/2,C/2);B.scale(z,z);B.translate(-h/2*1/z,-C/2*1/z);A&&B.apply(A);r.matrix=B.matrix;r.transform=B.matrix;r.transform.type="transform"}else A&&(A.canvas.width=r.width,A.canvas.height=r.height);m.push(r);r.childNodes=[];f.parse({skipRender:a.skipRender,document:d,node:r,svg:t,onsuccess:function(a){r.childNodes=a;A&&A.restore();c()}});return;case "title":if(!t)break;t.title=d.textContent;break;case "desc":if(!t)break;t.desc=d.textContent;break;case "a":case "g":case "switch":if(f.currentNode=
r=f.getAttributes(d,"id,labels"),r.parentNode=a.node,r.type="g",A&&A.beginPath(),f.parseTransform(d,"transform"),f.parseClipPath(d,!0),r.style=f.parseStyle(A,d,!u),d.hasChildNodes){m.push(r);r.childNodes=[];f.parse({skipRender:a.skipRender,document:d,node:r,svg:t,onsuccess:function(a){r.childNodes=a;A&&A.restore();c()}});return}case "use":if(h=f.parseHref(d))if(f.currentNode=r=f.getAttributes(d,"id,xlink:href,labels"),r.parentNode=a.node,r.type="use",h=h.substr(1),!f.defs[h]){A&&A.beginPath();f.parseTransform(d,
"transform");f.parseClipPath(d,!0);h=f.getElementById(h);-1!==b.indexOf(h.nodeName)&&(f.parseTransform(h,"transform",!1),f.parseClipPath(h,!0));r.childNodes=[];f.parse({skipRender:a.skipRender,document:h,node:r,svg:t,onsuccess:function(a){A&&A.restore();m.push(r);c()}});return}break;case "fegaussianblur":f.currentNode=r=f.getAttributes(d,"id,stdDeviation");r.parentNode=a.node;r.type="GaussianBlur";m.push(r);break;case "image":if(h=f.parseHref(d)){if(!t.cors&&"http"===h.substr(0,4))break;f.currentNode=
r=f.getAttributes(d,"id,x,y,width,height,preserveAspectRatio,labels",!0);r.parentNode=a.node;r.type="image";r.x=r.x||0;r.y=r.y||0;A&&A.beginPath();f.parseTransform(d,"transform");f.parseClipPath(d,!0);f.svg.data?(d=f.svg.data.split("/"),d.pop(),(d=d.join("/"))&&(d+="/")):d="";r.image=new Image;r.image.node=r;r.image.onload=function(){var a=this.node,b=this.width,d=this.height,g=a.matrix;A&&A.setTransform(g.a,g.b,g.c,g.d,g.x,g.y);if(a.preserveAspectRatio&&"none"!==a.preserveAspectRatio){var e=a.preserveAspectRatio.split(" ")[0],
g=e.substr(1,3),e=e.substr(5,3);b>a.width&&(d*=a.width/b,b=a.width);d>a.height&&(b*=a.height/d,d=a.height);switch(g){case "Min":g=0;break;case "Mid":g=(a.width-b)/2;break;case "Max":g=a.width-b}switch(e){case "Min":e=0;break;case "Mid":e=(a.height-d)/2;break;case "Max":e=a.height-d}A&&A.drawImage(this,g,e,b,d);r.x=g;r.y=e;r.width=b;r.height=d}else A&&A.drawImage(this,a.x,a.y,a.width,a.height);r.bbox=l([r.x,r.y,r.x+r.width,r.y+r.height],r.matrix);A&&A.restore();a.push(r);c()};r.image.onerror=function(){A&&
A.restore();c()};-1!==h.indexOf("base64")||"http"===h.substr(0,4)?(r.href=h,r.image.src=h):(r.href=d+h,r.image.src=d+h);return}case "text":if(!e.text){console.log("missing text module");break}f.currentNode=r=f.getAttributes(d,"id,x,y,dx,dy,labels",!0);r.parentNode=a.node;r.type="text";r.childNodes=[];A&&A.beginPath();f.parseTransform(d,"transform");f.parseClipPath(d,!0);r.style=f.parseStyle(A,d,!u);for(var z=C=Infinity,I=B=-Infinity,H=r.dx||0+(r.x||0),W=r.dy||0+(r.y||0),d=d.childNodes,w=h=0,Y=d.length;w<
Y;w++){var O=d[w];if("[object Text]"===String(O)){var V={},Q=document.createElement("tspan");Q.textContent=O.textContent;O=Q}else V=f.getAttributes(O,"id,x,y,dx,dy",!0);void 0!==V.x&&(H=0);void 0!==V.y&&(W=0);H=0!==(V.dy||0)?V.dx||0:H+(V.dx||0);W+=V.dy||0;V.x=H+(V.x||0);V.y=W+(V.y||0);V.parentNode=r;V.type="tspan";V.content=O.textContent.trim();f.currentNode=V;V.style=f.parseStyle(A,O,!u);r.childNodes.push(V);Q=f.fontStyleToString(A,V.style);O=e.text.measureText(O.textContent,Q);C>V.x&&(C=V.x);z>
V.y&&(z=V.y-V.style.fontSize);I<V.y+O.height&&(I=V.y+O.height-V.style.fontSize);B<V.x+O.width&&(B=V.x+O.width);H+=O.width;h+=O.width}switch(r.style.textAnchor){case "middle":C-=h/2;B-=h/2;break;case "end":C-=h,B-=h}r.bbox=l([C,z,B,I],r.matrix);m.push(r);break;case "rect":f.currentNode=r=f.getAttributes(d,"id,x,y,rx,ry,width,height,labels");r.parentNode=a.node;r.type="rect";r.x||(r.x=0);r.y||(r.y=0);if(!r.width||!r.height)break;A&&A.beginPath();f.parseTransform(d,"transform");f.parseClipPath(d,!0);
r.bbox=l([r.x,r.y,r.x+r.width,r.y+r.height],r.matrix);void 0===r.rx&&void 0!==r.ry&&(r.rx=r.ry);void 0===r.ry&&void 0!==r.rx&&(r.ry=r.rx);A&&p&&(void 0===r.rx?p.rect(A,r.x,r.y,r.width,r.height):p.roundRect(A,r.x,r.y,r.width,r.height,r.rx,r.ry));r.style=f.parseStyle(A,d,!u);m.push(r);break;case "circle":f.currentNode=r=f.getAttributes(d,"id,cx,cy,r,labels");r.parentNode=a.node;r.type="circle";A&&A.beginPath();f.parseTransform(d,"transform");f.parseClipPath(d,!0);r.bbox=l([r.cx-r.r,r.cy-r.r,r.cx+r.r,
r.cy+r.r],r.matrix);r.cx=r.cx||0;r.cy=r.cy||0;A&&p.ellipse(A,r.cx,r.cy,r.r,r.r);r.style=f.parseStyle(A,d,!u);m.push(r);break;case "ellipse":f.currentNode=r=f.getAttributes(d,"id,cx,cy,rx,ry,labels");r.parentNode=a.node;r.type="ellipse";A&&A.beginPath();f.parseTransform(d,"transform");f.parseClipPath(d,!0);r.cx=r.cx||0;r.cy=r.cy||0;r.bbox=l([r.cx-r.rx,r.cy-r.ry,r.cx+r.rx,r.cy+r.ry],r.matrix);A&&p&&p.ellipse(A,r.cx,r.cy,r.rx,r.ry);r.style=f.parseStyle(A,d,!u);m.push(r);break;case "line":f.currentNode=
r=f.getAttributes(d,"id,x1,y1,x2,y2,labels");r.parentNode=a.node;r.type="line";r.x1=r.x1||0;r.y1=r.y1||0;r.x2=r.x2||0;r.y2=r.y2||0;A&&A.beginPath();f.parseTransform(d,"transform");f.parseClipPath(d,!0);r.bbox=l([r.x1,r.y1,r.x2,r.y2],r.matrix);A&&p&&(A.moveTo(r.x1,r.y1),A.lineTo(r.x2,r.y2));r.style=f.parseStyle(A,d,!u);m.push(r);break;case "pencil":case "polyline":case "polygon":w=f.parsePoints(d,h);C=w.points;f.currentNode=r=f.getAttributes(d,"id,labels");r.parentNode=a.node;r.type=h.toLowerCase();
r.points=C;A&&A.beginPath();f.parseTransform(d,"transform");f.parseClipPath(d,!0);r.data=w.data;r.bbox=new e.BBox(r);A&&p&&p.VOBPath(A,r.data);r.style=f.parseStyle(A,d,!u);m.push(r);break;case "path":f.currentNode=r=f.getAttributes(d,"id,d,labels"),r.parentNode=a.node,r.type="path",A&&A.beginPath(),f.parseTransform(d,"transform"),f.parseClipPath(d,!0),r.data=e.SVGPath.toVOBPath(r.d),r.bbox=new e.BBox(r),r.element=d,A&&p&&p.VOBPath(A,r.data),r.style=f.parseStyle(A,d,!u),m.push(r)}A&&A.restore();c()}}
if(a.node){if(a.document&&a.document.childNodes&&a.document.childNodes.length)var d=a.document.childNodes;else if(a.document){var h=a.document.nodeName.toLowerCase();if(r[h])d=[a.document];else return a.onsuccess&&a.onsuccess([]),this}else return a.onsuccess&&a.onsuccess([]),this;a.defs&&(this.defs=a.defs);for(var f=this,p=e.Shape,m=a.node.childNodes,t=a.svg||f.svg,u=a.skipRender||!1,A=a.ctx||this.ctx,D=[],B=0,C=d.length;B<C;B++){var H=d[B],h=H.nodeName.toLowerCase();"#"!==h[0]&&(0===h.indexOf("svg:")&&
(h=h.substr(4)),0===h.indexOf("scalable_vector_graphics:")&&(h=h.substr(25)),0===h.indexOf("sketchjs:")&&(h=h.substr(9)),H.type=h,D.push(H))}var G=D.length,F=-1;c();return m}};p.parseAttribute=function(a,b,c){void 0===a&&(a=c);"inherit"===a&&(a=this.currentNode,a=a.parentNode&&a.parentNode.style&&a.parentNode.style[b]?a.parentNode.style[b]:c);return a};p.parseStyleAttribute=function(a,b,c){a=b[c]||a.getAttribute(c);b="color"===c?"color":c+"Style";if(a){if(m.color.webcolors[a])a="#"+m.color.webcolors[a];
else if("none"===a)a="transparent";else if("currentColor"===a)a=this.state.color;else if("url"===a.substr(0,3)){a=a.substr(5,a.indexOf(")")-5);var d=this.ctx,e=this.parseDefs(d,a,c);e?d&&this.setStyle(d,e,b):a=""}"inherit"===a&&(d=this.currentNode,d.parentNode&&d.parentNode.style&&d.parentNode.style[b]?a=d.parentNode.style[b]:"stroke"!==c&&(a="#000000"));return a}};p.parseStyle=function(a,b,c){var d=this.currentNode,h=this.state=u.copy(d.parentNode.style||this.state),f=k(b);d.uid=this.uid++;a&&a.save();
var l=this.getAttributes(b,"opacity,fill-rule,fill-opacity,stroke-width,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-dasharray,stroke-dashoffset,stroke-opacity,font-size,font-family,font-weight,font-style,line-height,text-anchor",!0);void 0!==l.opacity?(h.opacity=l.opacity,a&&(a.globalAlpha=h.opacity)):d.parentNode.style?(h.opacity=d.parentNode.style.opacity,a&&(a.globalAlpha=h.opacity)):(h.opacity=1,a&&(a.globalAlpha=1));var p=b.attributes;if(p){var r=p.length;r&&void 0===d.attributes&&
(d.attributes={});for(var m=0;m<r;m++){var t=p[m];if("data-"===t.name.substr(0,5)){var B=t.name.substr(5).split("-");B[1]&&(B[1]=B[1][0].toUpperCase()+B[1].substr(1));B=B.join("");d.attributes[B]=t.value}}(p=f.filter||b.getAttribute("filter"))?(r=p.substr(5,p.length-6),!this.defs[r]&&(p=this.getElementById(r))&&(this.defs[r]=this.getAttributes(p,"id,x,y,width,height"),this.defs[r].type="filter",this.defs[r].filter=this.parse({document:p,node:{childNodes:[]}})),h.filter=r):delete h.filter;l.fontSize&&
(h.fontSize=l.fontSize);if(l.fontFamily)for(h.fontFamily=l.fontFamily,p=l.fontFamily.split(",");r=p.shift();){if(this.typeface&&this.typeface.packages[r]){h.fontRenderer="SVG";break}if(e.text&&e.text.detectFont(r)){h.fontRenderer="native";break}}l.fontWeight&&(h.fontWeight=l.fontWeight);l.fontStyle&&(h.fontStyle=l.fontStyle);l.lineHeight&&(h.lineHeight=l.lineHeight);l.textAnchor&&(h.textAnchor=l.textAnchor);a&&(a.font=this.fontStyleToString(a,h));if(p=this.parseStyleAttribute(b,f,"color"))h.color=
p;if(p=this.parseStyleAttribute(b,f,"fill"))l.fillStyle=p;else if(p=d.parentNode,p.style){p=u.copy(p.style);for(B in l)p[B]=l[B];l=p}else l.fillStyle="default";h.fillStyle=this.parseAttribute(l.fillStyle,"fillStyle","#000000");h.fillRule=this.parseAttribute(l.fillRule,"fillRule","nonzero");h.fillOpacity=Math.max(0,this.parseAttribute(l.fillOpacity,"fillOpacity",1));c&&h&&a&&("default"===h.fillStyle?a.fillStyle=this.defaultFill:h.fillStyle&&(a.fillStyle=h.fillStyle),a.save(),a.globalAlpha*=h.fillOpacity,
d.content?"SVG"===h.fontRenderer?(this.typeface.setFont(a.font),this.typeface.fillText(d.content,d.x,d.y)):a.fillText(d.content,d.x,d.y):a.fill(),a.restore());if(p=this.parseStyleAttribute(b,f,"stroke"))l.strokeStyle=p;else if(p=d.parentNode,p.style){p=u.copy(p.style);for(B in l)p[B]=l[B];l=p}h.strokeWidth=this.parseAttribute(l.strokeWidth,"strokeWidth",1);h.strokeStyle=this.parseAttribute(l.strokeStyle,"strokeStyle","none");h.strokeLinecap=this.parseAttribute(l.strokeLinecap,"strokeLinecap","butt");
h.strokeLinejoin=this.parseAttribute(l.strokeLinejoin,"strokeLinejoin","miter");h.strokeMiterlimit=Math.max(1,this.parseAttribute(l.strokeMiterlimit,"strokeMiterlimit",4));h.strokeDasharray=this.parseAttribute(l.strokeDasharray,"strokeDasharray","none");h.strokeDashoffset=this.parseAttribute(l.strokeDashoffset,"strokeDashoffset",0);h.strokeOpacity=Math.max(0,this.parseAttribute(l.strokeOpacity,"strokeOpacity",1));c&&h&&a&&(a.lineWidth=0===h.strokeWidth?u.ZERO:h.strokeWidth||1,a.lineCap=h.strokeLinecap||
"butt",a.lineJoin=h.strokeLinejoin||"miter",a.miterLimit=h.strokeMiterlimit||a.lineWidth,h.strokeStyle&&"none"!==h.strokeStyle&&(a.strokeStyle=h.strokeStyle,a.save(),a.globalAlpha*=h.strokeOpacity,d.content?"SVG"===h.fontRenderer?(this.typeface.setFont(a.font),this.typeface.strokeText(d.content,d.x,d.y)):a.strokeText(d.content,d.x,d.y):a.stroke(),a.restore()));a&&a.restore();return h}};p.parseDefs=function(a,b,c){if(this.defs[b])return this.defs[b];var d=this.getElementById(b);if(!d)return{};c=d.nodeName.toLowerCase();
switch(c){case "pattern":return this.defs[b]=this.PatternExtract(a,d);case "lineargradient":case "radialgradient":return this.defs[b]=this.GradientExtract(a,d,c)}};p.addDef=function(a){return this.defs[a.id]=a};p.Gradient=function(a){a=a||{};var b={id:a.id||"MyGradient",type:a.type||"linearGradient",gradientTransform:a.gradientTransform,gradientUnits:a.gradientUnits||"objectBoundingBox",spreadMethod:a.spreadMethod||"pad",stops:a.stops||[{color:"#fff",offset:0},{color:"#000",offset:1}]};"radialGradient"===
b.type?(b.cx=isFinite(a.cx)?a.cx:0,b.cy=isFinite(a.cy)?a.cy:1,b.fx=isFinite(a.fx)?a.fx:0,b.fy=isFinite(a.fy)?a.fy:0,b.r=isFinite(a.r)?a.r:1):(b.x1=isFinite(a.x1)?a.x1:0,b.x2=isFinite(a.x2)?a.x2:1,b.y1=isFinite(a.y1)?a.h1:0,b.y2=isFinite(a.y2)?a.y2:0);return b};p.GradientEncode=function(a){var b;b="<"+a.type;b=this.encodeAttributes(b,a);b+=">\n";for(var c=a.stops,d=0;d<c.length;d++){var e=c[d],h=e.color;if("rgba"===h.substr(0,4)){var h=m.color.space(h,"W3>RGBA"),f=h.A/255,h=m.color.space(h,"RGB>W3");
b+='\t<stop offset="'+e.offset+'" style="stop-color:'+h+";stop-opacity:"+f+';"/>\n'}else b+='\t<stop offset="'+e.offset+'" style="stop-color:'+e.color+';"/>\n'}return b+="</"+a.type+">\n"};p.GradientExtract=function(a,b,c){if("lineargradient"===c){var d=this.getAttributes(b,"id,x1,y1,x2,y2,spreadMethod,gradientUnits,gradientTransform");d.type="linearGradient"}else d=this.getAttributes(b,"id,cx,cy,r,fx,fy,spreadMethod,gradientUnits,gradientTransform"),d.type="radialGradient",void 0===d.fx&&(d.fx=d.cx,
d.fy=d.cy);void 0===d.gradientUnits&&(d.gradientUnits="objectBoundingBox");var e=[],h=b.childNodes,f=this.parseHref(b);if(f)return e=this.parseDefs(a,f.substr(1),c),d.stops=e.stops,d;var l=k(b);b=l.color||b.getAttribute("color")||this.state.color;a=0;for(var p in h)if(f=h[p],f.nodeName&&(c=f.nodeName.toLowerCase(),"stop"===c&&(l=k(f),c=l["stop-color"]||f.getAttribute("stop-color"))))m.color.webcolors[c]?c="#"+m.color.webcolors[c]:"none"===c?c="transparent":"currentColor"===c?c=b||"#000000":"inherit"===
c&&(c=b||"#000000"),(l=l["stop-opacity"]||f.getAttribute("stop-opacity"))&&"1"!==l&&("inherit"===l&&(l=1),"#"===c.substr(0,1)?(c=m.color.space(c.substr(1),"W3>HEX24>RGB"),c.A=255*parseFloat(l)):"rgba"===c.substr(0,4)?(c=m.color.space(c,"W3>RGBA"),c.A*=parseFloat(l)):"rgb"===c.substr(0,3)&&(c=m.color.space(c,"W3>RGB"),c.A=255*parseFloat(l)),c=m.color.space.RGBA_W3(c)),f=f.getAttribute("offset")||"0",l=-1!==f.indexOf("%")?100:1,f=parseFloat(f)/l,f<a&&(f=a),e.push({offset:f,color:c}),a=f;d.stops=e;return d};
p.Pattern=function(a){return{id:a.id||"MyPattern",type:a.type||"pattern",pattern:a.pattern||CanvasPattern,patternContentUnits:a.patternContentUnits,patternTransform:a.patternTransform,patternUnits:a.patternUnits||"userSpaceOnUse",width:a.width||100,height:a.height||100}};p.PatternEncode=function(a){var b;b=this.encodeAttributes("<pattern",a);b+=">\n";a=a.childNodes;a.length&&(b+=this.encodeChildNodes(a,"","\t"));return b+="</pattern>\n"};p.PatternExtract=function(a,b){var c=this,d=this.getAttributes(b,
"patternUnits,patternContentUnits,patternTransform,x,y,width,height,preserveAspectRatio,href"),e=this.parseHref(b);e&&(d.href=e);d.type="pattern";d.id=b.id;var f=new h;f.element=b;f.parse({skipRender:!0,document:b,node:{childNodes:[]},onsuccess:function(b){d.childNodes=b;if(b.length){b=c.createContext();var e=c.getBoundingBox(d.childNodes,!1,.5);b.canvas.width=e[2]-e[0];b.canvas.height=e[3]-e[1];f.render({ctx:b,childNodes:d.childNodes,viewBox:e,placement:"crop"});a&&b.canvas.width&&b.canvas.height&&
(d.pattern=a.createPattern(b.canvas,"repeat"))}d.href&&c.parseDefs(a,d.href.substr(1),"pattern")}});return d};p.parseHref=function(a){return a.getAttribute("xlink:href")||a.getAttribute("href")};p.parseTransform=function(b,c,d){var h=this.ctx,f=this.currentNode;if(b){b=b.getAttribute(c);d=!1!==d;var k=(c="transform"===c)?f.matrix?f.matrix:f.parentNode.matrix?f.matrix=e.Transform.cloneMatrix(f.parentNode.matrix):f.matrix=e.Transform.getIdentity():e.Transform.getIdentity();if(b){var k=new e.Transform(k),
l=new e.Transform;if(b=b.match(this.rxTransform))for(var p=0,r=b.length;p<r;p++){var m=b[p].replace(/^\s+|\s+$/,"").split("("),u=m[0].replace(/^\s+|\s+$/,""),m=t(m[1]);switch(u){case "matrix":c&&(h&&h.transform(m[0],m[1],m[2],m[3],m[4],m[5]),l.transform(m[0],m[1],m[2],m[3],m[4],m[5]));k.transform(m[0],m[1],m[2],m[3],m[4],m[5]);break;case "translate":2===m.length?(c&&(h&&h.translate(m[0],m[1]),l.translate(m[0],m[1])),k.translate(m[0],m[1])):(c&&(h&&h.translate(m[0],0),l.translate(m[0],0)),k.translate(m[0]));
break;case "scale":2===m.length?(c&&(h&&h.scale(m[0],m[1]),l.scale(m[0],m[1])),k.scale(m[0],m[1])):(c&&(h&&h.scale(m[0],m),l.scale(m[0],m[0])),k.scale(m[0],m[0]));break;case "rotate":u=m[0]*a;3===m.length?(c&&(h&&(h.translate(m[1],m[2]),h.rotate(u),h.translate(-m[1],-m[2])),l.translate(m[1],m[2]),l.rotate(u),l.translate(-m[1],-m[2])),k.translate(m[1],m[2]),k.rotate(u),k.translate(-m[1],-m[2])):(c&&(h&&h.rotate(u),l.rotate(u)),k.rotate(u));break;case "skewX":u=m[0]*a;c&&(h&&h.transform(1,0,Math.tan(u),
1,0,0),l.skew(u,0));k.skew(u,0);break;case "skewY":u=m[0]*a,c&&(h&&h.transform(1,Math.tan(u),0,1,0,0),l.skew(0,u)),k.skew(0,u)}}d&&(f.transform=l.matrix,f.transform.type="transform",f.matrix=k.matrix);return{matrix:k.matrix,transform:l.matrix}}}};p.parseClipPath=function(a,b){var c=this.ctx,d=this.currentNode;if(a){var e=a.getAttribute("clip-path");if(e){e=e.substr(5,e.length-6);if(this.defs[e])return b&&(d.clipPath=this.defs[e].d),c&&(this.renderChildNodes(c,{},d.clipPath,!0),c.clip(),c.beginPath()),
this.defs[e];var h=this.getElementById(e);if(h)return this.defs[e]=this.getAttributes(h,"id,x,y,width,height,clipPathUnits"),this.defs[e].type="clipPath",h=this.parse({document:h,matrix:this.vob.matrix,node:{childNodes:[]},skipRender:!0}),c&&(c.clip(),c.beginPath()),h.id=e,this.defs[e].d=h,b&&(d.clipPath=h),this.defs[e]}}};p.parsePoints=function(a,b){var c=a.getAttribute("points");if(c){var d=c.replace(/[\s,]+/g," ").trim().split(/[, ]/);if(!(2>d.length)){for(var e=[],c=[],h=0,f=d.length;h<f;h+=2){var k=
d[h],l=d[h+1];e.push({cmd:c.length?"L":"M",x:parseFloat(k),y:parseFloat(l)});c.push([k,l])}d=c.length-1;h=c[d];isFinite(h[1])||(e[d].y=h[1]=c[0][1]);"polygon"===b.toLowerCase()?(c=""+c.join(" ")+"",e.push({cmd:"Z",x:e[0].x,y:e[0].y})):c=""+c.join(" ");return{points:c,data:e}}}};p.getAttributes=function(a,b,c){var d={};if(!a||!a.getAttribute)return{};var e=k(a),h=0;b=b.split(",");for(var f=b.length;h<f;h++){var l=b[h],p=this.__attributes[l],m=!1;if(!p)if(p=this.__attributesNS[l])l=this.__namepace+
":"+l,m=!0;else if(l=l.match(this.rxSplitByUppercase).slice(0,-1).join("-").toLowerCase(),p=this.__attributes[l],!p){console.log(l);continue}p=p.format;if(c){var r=e[l]||a.getAttribute(l);-1!==l.indexOf("-")&&(l=l.split("-"),l[1]&&(l[1]=l[1][0].toUpperCase()+l[1].substr(1)),l=l.join(""))}else r=a.getAttribute(l)||e[l],"id"!==l||r||(r=a.getAttribute("xml:id"));if(r)if("inherit"===r)m=this.currentNode,m.parentNode&&m.parentNode.style&&m.parentNode.style[l]&&(d[l]=m.parentNode.style[l]);else if("none"===
r)d[l]=r;else switch(m&&(l=l.replace(this.__namepace+":","")),p){case "numarray":d[l]=t(r);break;case "coordinate":d[l]=parseFloat(r);(p=r.replace(this.rxNumeric,""))&&"%"!==p&&"px"!==p&&(d[l]*=this.convertMetrics[p+">px"]);Infinity===d[l]&&(d[l]=4294967295);-Infinity===d[l]&&(d[l]=-4294967295);break;case "float":d[l]=parseFloat(r);Infinity===d[l]&&(d[l]=4294967295);-Infinity===d[l]&&(d[l]=-4294967295);break;case "gradientTransform":case "patternTransform":case "transform":m=this.parseTransform(a,
p,!1);d[l]=m.matrix;break;case "string":d[l]=r}}return d};p.getBoundingBox=function(a,b,c){var d=function(a){for(var c,g=a.length,h=0;h<g;h++)if(c=a[h]){if(c.bbox){if(b&&c.style&&c.style.strokeStyle)var f=c.style.strokeWidth||0,k=c.bbox.x1-f,l=c.bbox.x2+f,p=c.bbox.y1-f,f=c.bbox.y2+f;else k=c.bbox.x1,l=c.bbox.x2,p=c.bbox.y1,f=c.bbox.y2;k<e.x1&&(e.x1=k);p<e.y1&&(e.y1=p);l>e.x2&&(e.x2=l);f>e.y2&&(e.y2=f)}c.childNodes&&d(c.childNodes)}},e={x1:Infinity,y1:Infinity,x2:-Infinity,y2:-Infinity};d(a||[this.vob]);
c&&(e.x1-=c,e.y1-=c,e.x2+=c,e.y2+=c);return[e.x1,e.y1,e.x2,e.y2]};p.getElementById=function(a){if(this.element.ownerDocument){var b=this.element.ownerDocument.getElementById(a);b||(b=f(this.element.ownerDocument,a))}else(b=this.element.getElementById(a))||(b=f(this.element,a));return b};p.getLayerById=function(a){var b=function(c){for(var d=0;d<c.length;d++){var e=c[d];if(e.id===a||e.childNodes&&(e=b(e.childNodes)))return e}};return b(this.vob.childNodes)};p.getLayerBy=function(a,b){var c=function(d){for(var e=
0;e<d.length;e++){var h=d[e];if(h[a]===b||h.childNodes&&(h=c(h.childNodes)))return h}};return c(this.vob.childNodes)};p.fontStyleToString=function(a,b){if(a&&b){var c=b.textAnchor||"left";"middle"===c&&(c="center");a.textAlign=c;return(b.fontStyle||"normal")+" "+(b.fontWeight||"normal")+" "+(b.fontSize||"normal")+"px "+(b.fontFamily||"sans-serif")}};p.createContext=function(){var a="undefined"===typeof document?new Canvas:document.createElement("canvas");a.ctx=a.getContext("2d");return a.ctx};p.walk=
function(a,b,c){var d=void 0!==c,e=function(h){for(var f=0;f<h.length;f++){var k=h[f];if(b){if(d&&k[b]===c)return a(k);k[b]&&a(k)}else a(k);if(k.childNodes&&(k=e(k.childNodes)))return k}};if(this.vob)return e(this.vob.childNodes)};var r={text:!0,rect:!0,circle:!0,ellipse:!0,line:!0,polyline:!0,polygon:!0,path:!0};e.SVG.Gradient=p.Gradient;e.SVG.GradientEncode=p.GradientEncode;e.SVG.Pattern=p.Pattern;e.SVG.PatternEncode=p.PatternEncode;e.SVG.cache=d;e.SVG.resetCache=function(){e.SVG.cache=d={}};e.SVG.detect=
function(a){return a.startsWith("data:image/svg")||a.startsWith("<?xml")&&a.includes("<svg")||a.startsWith("<svg")}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m=(m.vector||(m.vector={})).SVG.prototype;m.nodeType=1;m.__dtd="https://sketch.io/dtd/";m.__namepace="sketchjs";m.__version="3.0";m.__attributesNS={labels:{param:"labels",format:"string",value:""},keywords:{param:"labels",format:"string",value:""},license:{param:"license",format:"string",value:""},author:{param:"author",format:"string",value:""},source:{param:"source",format:"string",value:""},version:{param:"version",format:"string",value:""},metadata:{param:"metadata",format:"string",
value:""},brush:{param:"brush",format:"string",value:""},uid:{param:"uid",format:"int",value:""}};m.__attributes={id:{param:"id",format:"string",value:""},src:{param:"src",format:"string",value:""},href:{param:"href",format:"string",value:""},"xlink:href":{param:"xlink:href",format:"string",value:""},display:{param:"display",format:"string",valid:"inline | block | list-item | run-in | compact | marker | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | none | inherit",
value:"inline"},visibility:{param:"visibility",format:"string",valid:"visible | hidden | collapse | inherit",value:"visible"},viewBox:{param:"viewBox",format:"numarray",value:0},preserveAspectRatio:{param:"preserveAspectRatio",format:"string",valid:"[defer] <align> [<meetOrSlice>]",value:"xMidYMid meet"},x:{param:"x",format:"coordinate",value:""},y:{param:"y",format:"coordinate",value:""},width:{param:"width",format:"coordinate",value:""},height:{param:"height",format:"coordinate",value:""},transform:{param:"transform",
format:"transform",value:"matrix(1,0,0,1,0,0)"},dx:{param:"dx",format:"coordinate",value:""},dy:{param:"dy",format:"coordinate",value:""},cx:{param:"cx",format:"coordinate",value:""},cy:{param:"cy",format:"coordinate",value:""},rx:{param:"rx",format:"float",value:""},ry:{param:"ry",format:"float",value:""},r:{param:"r",format:"coordinate",value:""},x1:{param:"x1",format:"float",value:""},y1:{param:"y1",format:"float",value:""},x2:{param:"x2",format:"float",value:""},y2:{param:"y2",format:"float",
value:""},d:{param:"d",format:"string",value:""},points:{param:"points",format:"string",value:""},"font-size":{param:"font-size",format:"float",valid:"<absolute-size> | <relative-size> | <length> | <percentage> | inherit",value:"medium"},"font-style":{param:"font-style",format:"string",valid:"normal | italic | oblique | inherit",value:"normal"},"font-family":{param:"font-family",format:"string",valid:"[[ <family-name> | <generic-family> ],]* [<family-name> | <generic-family>] | inherit",value:"sans-serif"},
"font-weight":{param:"font-weight",format:"string",valid:"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit",value:"normal"},"line-height":{param:"line-height",format:"float",valid:"normal | <number> | <length> | <percentage> | inherit",value:"normal"},"text-decoration":{param:"text-decoration",format:"string",valid:"none | [ underline || overline || line-through || blink ] | inherit",value:"none"},"text-anchor":{param:"text-anchor",format:"string",valid:"start | middle | end | inherit",
value:"start"},kerning:{param:"kerning",format:"float",valid:"auto | <length> | inherit",value:"auto"},"letter-spacing":{param:"letter-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"word-spacing":{param:"word-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"clip-path":{param:"clip-path",format:"string",value:""},clipPathUnits:{param:"clipPathUnits",format:"string",value:"userSpaceOnUse"},opacity:{param:"opacity",format:"float",value:1},fill:{param:"fill",
format:"string",value:"black"},"fill-rule":{param:"fill-rule",format:"string",valid:"nonzero | evenodd | inherit",value:"nonzero"},"fill-opacity":{param:"fill-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},stroke:{param:"stroke",format:"string",value:"black"},"stroke-width":{param:"stroke-width",format:"coordinate",valid:"<percentage> | <length> | inherit",value:1},"stroke-linecap":{param:"stroke-linecap",format:"string",valid:"butt | round | square | inherit",value:"butt"},"stroke-linejoin":{param:"stroke-linejoin",
format:"string",valid:"miter | round | bevel | inherit",value:"miter"},"stroke-miterlimit":{param:"stroke-miterlimit",format:"float",valid:"<miterlimit> | inherit",value:4},"stroke-dasharray":{param:"stroke-dasharray",format:"numarray",valid:"none | <dasharray> | inherit",value:"none"},"stroke-dashoffset":{param:"stroke-dashoffset",format:"coordinate",valid:"<percentage> | <length> | inherit",value:0},"stroke-opacity":{param:"stroke-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},
stops:{param:"stops",format:"string",value:""},gradientUnits:{param:"gradientUnits",format:"string",valid:"userSpace | userSpaceOnUse | objectBoundingBox",value:"userSpace"},gradientTransform:{param:"gradientTransform",format:"gradientTransform",value:"matrix(1,0,0,1,0,0)"},spreadMethod:{param:"spreadMethod",format:"string",valid:"pad | reflect | repeat",value:"pad"},fx:{param:"fx",format:"coordinate",value:""},fy:{param:"fy",format:"coordinate",value:""},patternUnits:{param:"patternUnits",format:"string",
value:""},patternContentUnits:{param:"patternContentUnits",format:"string",value:""},patternTransform:{param:"patternTransform",format:"patternTransform",value:"matrix(1,0,0,1,0,0)"},stdDeviation:{param:"stdDeviation",format:"float",value:0},filter:{param:"filter",format:"string",value:""},color:{param:"color",format:"string",value:""},"color-interpolation-filters":{param:"color-interpolation-filters",format:"string",valid:"auto | sRGB | linearRGB | inherit",value:"sRGB"}}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){function l(f,d,c){if(!e[f]){var a=c.__attributes[f];if(!a)if(a=c.__attributesNS[f])f=c.__namepace+":"+f;else if(f=f.match(c.rxSplitByUppercase).slice(0,-1).join("-").toLowerCase(),a=c.__attributes[f],!a){m.feature.debug&&console.log(f,d);return}if(a.value!==d)switch(a.format){case "string":case "gradientTransform":case "patternTransform":case "transform":if("string"===typeof d)return" "+f+'="'+d+'"';break;case "coordinate":case "float":case "int":if(isFinite(d))return" "+f+'="'+d+'"';
break;case "numarray":return" "+f+'="'+d+'"';default:console.log("unhandled",a)}}}function k(e,d,c){var a=c.__attributes[e];if(a&&a.value!==d){"default"===d&&(d="fill"===e?c.defaultFill:c.defaultStroke);if(c.defs[d])return" "+e+'="url(#'+d+')"';if(d)return" "+e+'="'+d+'"'}}var t=m.vector||(m.vector={}),f=t.SVG.prototype;f.clone=function(e,d){(new t.SVG).fromString(this.toDataURL(),function(c){d&&(c.vob.id="clone"+Math.round(16777215*Math.random()));e&&e(c)})};f.toCanvas=function(e){this.ctx||(this.ctx=
this.createContext(),this.render({ctx:this.ctx,placement:"crop"}));e&&e(this.ctx.canvas)};f.toBlob=function(e){var d=new Blob([this.stringify()],{type:"image/svg+xml"});if(e)e(d);else return d};f.toDataURL=function(){return"data:image/svg+xml;base64,"+this.btoa()};f.btoa=function(){return btoa(this.stringify())};f.toString=f.stringify=function(){var e="",d;for(d in this.defs){var c=this.defs[d];switch(c.type){case "linearGradient":case "radialGradient":e+=this.GradientEncode(c);break;case "pattern":e+=
this.PatternEncode(c);break;case "filter":for(var e=e+"<filter",e=this.encodeAttributes(e,c),e=e+">\n",c=c.filter,a=0;a<c.length;a++)var b=c[a],e=e+("\t<fe"+b.type),e=this.encodeAttributes(e,b),e=e+"/>\n";e+="</filter>\n";break;case "clipPath":e+="<clipPath";e=this.encodeAttributes(e,c);e+=">\n";c=c.d;for(a=0;a<c.length;a++)b=c[a],e+="\t<"+b.type,e=this.encodeAttributes(e,b),e+="/>\n";e+="</clipPath>\n"}}return this.encodeChildNodes([this.vob],e,"")};f.encodeChildNodes=function(e,d,c){var a="";if(!e||
!e.length)return a;for(var b=0,h=e.length;b<h;b++){var f=e[b];if(f){var k=f.type;switch(k){case "circle":case "ellipse":case "image":case "line":case "path":case "polyline":case "polygon":case "rect":a+=c+"<"+k;a=this.encodeAttributes(a,f);a+="></"+k+">\n";break;case "stamp":case "eraser":case "pencil":k=this.__namepace+":"+k;a+=c+"<"+k;a=this.encodeAttributes(a,f);a+="></"+k+">\n";break;case "text":a+=c+"<text";a=this.encodeAttributes(a,f);a+=">";if(f.content)a+=f.content;else if(f=f.childNodes)for(var k=
0,g=f.length;k<g;k++)a+="<tspan",a=this.encodeAttributes(a,f[k]),a+=">"+f[k].content+"</tspan>";a+="</text>\n";break;case "a":case "g":case "switch":a+=c+"<"+k;a=this.encodeAttributes(a,f);a+=">\n";a+=this.encodeChildNodes(f.childNodes,d,c+"\t");a+=c+"</"+k+">\n";break;case "svg":a+='<?xml version="1.0" encoding="utf-8"?>\n';a+="\x3c!-- Generator: sketch.js "+this.__version+" <https://api.sketch.io/> --\x3e\n";a+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"';a+=' xmlns:xlink="http://www.w3.org/1999/xlink"';
a+=" xmlns:"+this.__namepace+'="'+this.__dtd+'"';f.version=f.version||this.__version;a=this.encodeAttributes(a,f);a+=">\n";d&&(a+="<defs>"+d+"</defs>");a+=this.encodeChildNodes(f.childNodes,d,c+"\t");a+="</svg>";break;case "use":a+=c+"<use";a=this.encodeAttributes(a,f);a+=">\n";a+=c+"</use>\n";break;default:a+=this.encodeChildNodes(f.childNodes,d,c+"\t")}}}return a};f.encodeAttributes=function(e,d){for(var c in d){var a=d[c];if(void 0!==a)switch(c){case "href":(a=l("xlink:href",a,this))&&(e+=a);break;
case "clipPath":(a=l("clip-path","url(#"+a.id+")",this))&&(e+=a);break;case "viewBox":(a=l(c,a.join(" "),this))&&(e+=a);break;case "transform":case "gradientTransform":case "patternTransform":a&&(a=l(c,"matrix("+a.a+","+a.b+","+a.c+","+a.d+","+a.x+","+a.y+")",this))&&(e+=a);break;case "fill":case "fillStyle":(a=k("fill",a,this))&&(e+=a);break;case "stroke":case "strokeStyle":(a=k("stroke",a,this))&&(e+=a);break;case "style":e+=this.encodeAttributes("",d.style);break;case "attributes":case "element":break;
default:(a=l(c,a,this))&&(e+=a)}}return e};var e={type:!0,childNodes:!0,parentNode:!0,matrix:!0,data:!0,bbox:!0}})(sketch);
(function(m){function l(f,d){var c=f.bbox,a=f.svg,b=c.width/a.viewBox[2],h=f.trx2D.clone();h.rotate(-c.rotate*e);h.scale(b,b);h.matrix.x=0;h.matrix.y=0;d.trx=h;return a.hitTest(d)}function k(e,d,c,a,b){if(e){e.current_style=e.current_style||{};b?(e.style[d]=e.current_style[d]||e.style[d],delete e.current_style[d]):e.current_style[d]=e.current_style[d]||e.style[d];var h=[],l={};l.uid=e.uid;l[d]=e.style[d];h.push(l);e.orig_style=e.orig_style||{};e.orig_style[d]=e.orig_style[d]||l[d];e.style[d]=c;var m=
a&&e.childNodes;if(m)for(var g=0;g<m.length;g++){e=m[g];var q=e.style;f[q[d]]||(e.childNodes?h=h.concat(k(e,d,c,a,b)):(l={},l.uid=e.uid,l[d]=q[d],h.push(l),e.orig_style=e.orig_style||{},e.orig_style[d]=e.orig_style[d]||l[d],q[d]=c))}return h}}var t=m.vector=m.vector||{};t.setStyleAt=function(e){var d=m.doc,c=d.scene,a=t.Polygon;e=e||{};var b=e.object,h=e.fillMode,f=e.paint||{},k=e.point;e=e.rect;"string"===typeof f&&(f=m.style.create(f));if("object"===typeof b)if("object"!==typeof b.svg)d.setStyle({fill:{dna:f[f.type],
paintType:f.type},selection:c.selection.objects([b],{}),useColorPicker:!0});else if(e?(c=c.pointsIn("pointInObjectFromCanvas",[{x:e.x1,y:e.y1},{x:e.x2,y:e.y1},{x:e.x2,y:e.y2},{x:e.x1,y:e.y2}],b),k=b.bbox.scale,0>k.x*k.y&&c.reverse(),a=l(b,{rect:a.clone(c)})):a=l(b,{point:c.pointInObjectFromCanvas(k,b)}),a.length){if("group"===h){for(h=a.pop();h&&"g"!==h.type;)h=h.parentNode;a=h.childNodes}else"single"===h&&(h=a.pop(),a=[h]);h=m.style.toSVG(f);"string"===typeof h?f=h:(f=h.id,b.svg.addDef(h));t.setObjectStyle({object:b,
nodes:a,dna:f,recursive:!0,useRecord:!0,useRender:!0},d)}else console.log("no nodes")};t.setNodeListStyle=function(e){e=e||{};var d=e.dna||"#000",c=e.nodes||[],a=e.recursive||!1;e=e.useRecord||!1;for(var b=[],h=c.length;h--;){var f=c[h];"stroke"!==f.parentNode.id&&(b=b.concat(k(f,"fillStyle",d,a,e)))}return b};t.setObjectStyle=function(e,d){e=e||{};var c=e.dna||"#000",a=e.object||d.scene.getOneSelected(),b=e.useRecord||!1,c={id:a.id,fillStyle:c,uida:t.setNodeListStyle(e)},h=c.uida.length;h&&(a.dirtyCache=
!0,a.dirtyCheck=!0,a.hasVectorFill=!0,a.svg.__colormap=void 0);b&&(d.history&&h&&d.history.store({cmd:"VOBNodeList",name:"update-clipart-color",data:[c]}),d.render.dirty=!0,d.render.dirtyControls=!0)};t.revertSVG=function(){for(var e=m.doc,d=e.scene.children,c=[],a=0;a<d.length;a++){var b=d[a];b.hasVectorFill&&(b.dirtyCache=!0,b.dirtyRender=!0,b.hasVectorFill=!1,b.svg.walk(function(a){var d=a.orig_style.fillStyle;c.push({id:b.id,fillStyle:d,uida:k(a,"fillStyle",d,!0,!0)})},"orig_style"))}e.history&&
c.length&&e.history.store({cmd:"VOBNodeList",name:"reset-clipart-color",data:c})};var f={"rgba(0,0,0,0)":!0,none:!0},e=Math.PI/180;m.module&&m.module.add(function(e,d){null!=d&&null!=d.history&&d.history.register("VOBNodeList",function(c,a,b){for(c=0;c<a.length;c++){var h=a[c],f=d.scene.getById(h.id);if(null!=f){var k=e.assets.getItem(f.src);if(null!=k){k.__colormap=void 0;var g={},l;for(l in h)"id"!==l&&"uida"!==l&&(g[l]=h[l]);for(var h=h.uida,m=0;m<h.length;m++){var t=h[m],y=k.getLayerBy("uid",
t.uid);if(y)if(b)for(l in t)"uid"!==l&&(y.style[l]=t[l]);else for(l in g)y.style[l]=g[l]}f.dirtyCache=!0;f.dirtyRender=!0}}}})})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.vector=m.vector||{};m.vector.SVGFont=function(e){var u=m.util,d=m.vector;d.fonts=d.fonts||{};var c={direction:"ltr",font:"",fontFamily:"sans-serif",fontSize:"40px",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"alphabetic",textDecoration:"none",textTransform:"none",lineHeight:"1em",letterSpacing:0,whiteSpace:"normal",ctx:e,scaleFactor:1,pkg:{},pkgs:{},load:function(b,c){var e=function(b){var g,e;if(f)e=require("domino").createWindow(b).document;
else{var k=document.createElement("div");"string"===typeof b?k.innerHTML=b:k.appendChild(b);e=k}var p=null,m=e.getElementsByTagName("font")[0],t=e.getElementsByTagName("font-face")[0];b=t.getAttribute("font-family")||b.id;var k=(p=t.getElementsByTagName("font-face-name")[0])?p.getAttribute("name"):b,x=t.getAttribute("font-style")||"all",L=t.getAttribute("font-variant")||"normal",E=t.getAttribute("font-weight")||"all",A=t.getAttribute("font-stretch")||"normal",D=t.getAttribute("unicode-range")||"U+0-10FFFF",
B=t.getAttribute("panose-1")||"0 0 0 0 0 0 0 0 0 0",C=t.getAttribute("cap-height")||0,H=t.getAttribute("x-height")||0,G=parseFloat(t.getAttribute("units-per-em")||1E3,10),p=e.getElementsByTagName("missing-glyph")[0],F={x:parseFloat(m.getAttribute("horiz-adv-x"),10),y:parseFloat(m.getAttribute("vert-adv-y")||0,10)||G};parseFloat(p?p.getAttribute("horiz-adv-x"):F.x,10);var m={horiz:{x:parseFloat(m.getAttribute("horiz-origin-x")||0,10),y:parseFloat(m.getAttribute("horiz-origin-y")||0,10)},vert:{x:parseFloat(m.getAttribute("vert-origin-x")||
0,10),y:parseFloat(m.getAttribute("vert-origin-y")||0,10)}},N=parseFloat(t.getAttribute("ascent")||G-m.vert.y,10),K=parseFloat(t.getAttribute("descent")||m.vert.y,10),J={},p=u.arrayToObject(["alphabetic","ideographic","mathematical","hanging"]);for(g in p)if(p=t.getAttribute(g))J[g]=parseFloat(p,10);t={};e=e.getElementsByTagName("glyph");var S;for(g in e)if((p=e[g]).getAttribute){var P=p.getAttribute("unicode");if(P){if(P.match(l)){S=P;if(S.match(l)){for(var T={amp:"&",apos:"'",quot:'"',lt:"<",gt:">"},
U=void 0,I="";null!==(U=l.exec(S));)I="x"===U[1].charAt(1)?I+String.fromCharCode(U[1].slice(2),16):isNaN(parseInt(U[1].slice(1),10))?I+T(U[1]):I+String.fromCharCode(U[1].slice(1));S=I}S=S.charCodeAt()}else S=P.charCodeAt();var T=parseFloat(p.getAttribute("horiz-adv-x")||F.x,10),U=p.getAttribute("d"),I=d.SVGPath.toVOBPath(U)||[],X=new d.BBox(I);t[S]={unicode:P,name:p.getAttribute("glyph-name"),xadv:T,width:X.x2-X.x1,height:X.y2-X.y1,path:U,data:I}}}g={family:b,name:k,style:x,variant:L,weight:E,stretch:A,
range:D,panose:B.split(" ").map(parseFloat),capHeight:C,unitsPerEm:G,origin:m,advance:F,ascent:N,descent:K,xheight:H,baseline:J,glyphs:t};g=a(g);c&&c(g)};"string"===typeof b&&-1===b.indexOf("<font")&&-1===b.indexOf("<?xml")?u.request({url:b,format:"text",onprogress:function(a,b){},onsuccess:function(a,b){e(b)},onerror:function(a){}}):e(b)}},a=function(a){if("string"===typeof a){var e=a;a=d.fonts[e]}else e=a.family||"unknown",d.fonts[e]=a;c.pkg.family!==e&&(a?c.pkg=c.pkgs[e]=a:e in c.pkgs&&(c.pkg=
c.pkgs[e]));return a};c.measureText=function(a){if(a){a=""+a;for(var d=c.pkg.glyphs,e=a.length,f=0,g=c.pkg.advance.y,k=0,l=0;l<e;l++){var m=d[a.charCodeAt(l)];m&&(f+=m.xadv,k+=m.width)}return{width:f*c.scaleFactor,height:g*c.scaleFactor,actualWidth:k*c.scaleFactor,actualHeight:0*c.scaleFactor}}};c.strokeText=function(a,d,e,f){if(a&&isFinite(d+e))return a=this.drawText(a,d,e,f),d=c.ctx,d.stroke(),d.beginPath(),a};c.fillText=function(a,d,e,f){if(a&&isFinite(d+e))return a=this.drawText(a,d,e,f),d=c.ctx,
d.fill(),d.beginPath(),a};c.getTextBaseline=function(a){switch(a||this.textBaseline){case "alphabetic":return 0;case "top":return c.pkg.ascent*c.scaleFactor;case "hanging":return 8*c.pkg.ascent/10*c.scaleFactor;case "middle":case "absmiddle":return((c.pkg.ascent-c.pkg.descent)/2+c.pkg.descent)*c.scaleFactor;case "ideographic":return c.pkg.descent*c.scaleFactor;case "bottom":return c.pkg.descent*c.scaleFactor;default:return 0}};c.getTextAlign=function(a,d){switch(a){case "left":return 0;case "start":return"ltr"===
c.direction?0:c.measureText(d).width;case "end":return"ltr"===c.direction?c.measureText(d).width:0;case "right":return c.measureText(d).width;case "center":return c.measureText(d).width/2}};c.getScaleFactor=function(){var a=c.fontSize;if("number"===typeof a)var d="px";else d=a.toLowerCase(),a=parseFloat(d),d=d.replace(a,"");isFinite(a)||(a=1);if(u.getScreenMetrics){var e=u.toMetrics||(u.toMetrics=u.getScreenMetrics());2<d.length?a=e[d+"_px"]:"px"!==d&&(a*=e[d+"_px"])}c.scaleFactor=a/c.pkg.unitsPerEm;
return c.scaleFactor};c.drawText=function(a,e,f,l){if(a.length){for(var g=0;g<k.length;g++)a=a.split(k[g]).join(" ");c.getScaleFactor();var q,g=f||0;q=(e||0)-this.getTextAlign(this.textAlign,a);var g=g+this.getTextBaseline(this.textBaseline),m,t,y,v,x;"object"===typeof l&&(m=l,t=m.minWidth,l=m.maxWidth,y=m.maxHeight,x=m.targetWidth,v=m.targetHeight,m=m.getData);e=c.ctx;e.save();e.beginPath();f=this.measureText(a);var u=f.width,E=f.height;f=m?new d.Transform:e;isFinite(x)?(f.scale(x/u,1),q=q*u/x):
(isFinite(l)&&u>l&&(f.scale(l/u,1),q=q*u/l),isFinite(t)&&u<t&&(f.scale(t/u,1),q=q*u/t));isFinite(v)?(f.scale(1,v/E),g=g*E/v):isFinite(y)&&E>y&&(f.scale(1,y/E),g=g*E/y);(q||g)&&f.translate(q||0,g||0);f.scale(c.scaleFactor,-c.scaleFactor);l=c.pkg.glyphs;y=[];"number"===typeof a&&(a=String(a));v=0;for(x=a.length;v<x;v++)t=l[g=a.charCodeAt(v)],10!==g&&13!==g&&(t||(t=l["?".charCodeAt()]),t&&(t.data||(t.data=d.SVGPath.toVOBPath(t.path)||[]),t.data&&(g=t.data,m&&t.path?y.push({d:t.path,data:f.flatten(t.data,
!0)}):(e.beginPath(),d.Shape.VOBPath(e,g),e.fill()),f.translate(t.xadv,0))));e.restore();if(m)return{childNodes:y}}};c.toSVG=function(a,e){new d.SVG({ctx:c.ctx,src:a,onsuccess:function(a){a=a.typeface.pkg.glyphs;var b={},c;for(c in a){var f=a[c];if(f.path){var k=d.SVGPath.toVOBPath(f.path),l=new d.BBox(k),k=(new d.Transform).translate(0,l.y2).scale(1,-1).flatten(k,!0),k=d.SVGPath.fromVOBPath(k),m=l.x2-l.x1,t=l.y2-l.y1,l=l.x1;b[f.unicode.charCodeAt()+".svg"]='<?xml version="1.0" encoding="UTF-8"?>\t<svg version="1.1" width="'+
m+'" height="'+t+'" viewBox="'+l+" 0 "+m+" "+t+'" xmlns="http://www.w3.org/2000/svg">\t<path d="'+k+'"/>\t</svg>'}}e(b)}})};c.setFont=function(b){if(c.font!==b){for(var d=b.trim().split(" "),e=d.length,f=0,g=0,k=Math.min(3,e);f<k;){var l=d[f];if(0===(g&1)&&-1!==" normal italic oblique ".indexOf(" "+l+" "))c.fontStyle=d[f++],g|=1;else if(0===(g&2)&&-1!==" normal small-caps ".indexOf(" "+l+" "))c.fontVariant=d[f++],g|=2;else if(0===(g&4)&&(-1!==" normal bold bolder lighter ".indexOf(" "+l+" ")||3===
l.length&&"1"<=l.charAt(0)&&"9">=l.charAt(0)&&"0"===l.charAt(1)&&"0"===l.charAt(2)))c.fontWeight=t[d[f++]],g|=4;else break}f<e&&(g=d[f],k=g.indexOf("/"),-1===k?f++:(g=g.substring(0,k),d[f]=d[f].substring(k)),c.fontSize=g);f<e&&"/"===d[f].substr(0,1)&&("/"!==d[f]?c.lineHeight=d[f++].substring(1):++f<e&&(c.lineHeight=d[f++]));if(f<e){for(g=d[f++];f<e;)g+=" "+d[f++];c.fontFamily=g;a(g)}c.font=b}};d.font&&(a(d.font),c.fontFamily=d.font.name);return c};var l=/&(quot|apos|lt|gt|amp|#x[^;]+|#\d+);/g,k=["\t",
"\n","\x0B","\f","\r"],t={normal:400,bold:700,lighter:300,bolder:500},f="object"===typeof module&&module.exports;f&&(module.exports.vector=module.exports.vector||{},module.exports.vector.SVGFont=m.vector.SVGFont)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l=m.vector=m.vector||{},k=l.SVGPath={};k.fromVOBPath=function(f,e){isFinite(e)&&l.roundPath&&(f=l.roundPath(f,e));for(var k="",d=0,c,a;d<f.length;d++)if(c=f[d]){switch(c.cmd){case "M":"M"!==a&&(k+="M");k+=c.x+" "+c.y+" ";break;case "L":"L"!==a&&(k+="L");k+=c.x+" "+c.y+" ";break;case "C":"C"!==a&&(k+="C");k+=c.x1+" "+c.y1+" "+c.x2+" "+c.y2+" "+c.x+" "+c.y+" ";break;case "Q":"Q"!==a&&(k+="Q");k+=c.x1+" "+c.y1+" "+c.x+" "+c.y+" ";break;case "Z":case "z":k+="z"}a=c.cmd}"z"!==a&&(k+="z ");
return k.slice(0,-1)};k.fromARRPath=function(f){for(var e="",k={},d=0,c=f.length;d<c;d++)if(k=f[d])switch(k[0]){case "M":e+="M"+k[1]+" "+k[2]+" ";break;case "L":e+="L"+k[1]+" "+k[2]+" ";break;case "C":e+="C"+k[1]+" "+k[2]+", "+k[3]+" "+k[4]+", "+k[5]+" "+k[6]+" ";break;case "Q":e+="Q"+k[1]+" "+k[2]+", "+k[3]+" "+k[4]+" ";break;case "Z":case "z":e+="z"}"z"!==pcmd&&(e+="z ");return e.slice(0,-1)};k.fromVOBPolygon=function(f){for(var e="",k={},d=0,c=f.length;d<c;d++)switch((k=f[d]).cmd){case "Z":case "z":break;
default:e+=k.x+","+k.y+" "}return e.slice(0,-1)};k.toVOBPolygon=function(f){if(f){f=f.match(/[0-9]*/gi);for(var e=[],k=0,d=f.length;k<d;k++)f[k]&&e.push(parseFloat(f[k]));f=[];k=0;for(d=e.length;k<d;k+=2)f.push({cmd:0===k?"M":"L",x:e[k],y:e[k+1]});f.push({cmd:"Z"});return f}};k.toVOBPath=function(f){if(f){f=f.replace(/([^e])([+-])/gi,"$1 $2");f=f.match(/([mlhvcsqtaz])|(([\-0-9]*\.?[0-9]*)|(\.[0-9]+))(e[+-]?[0-9]+)?/gi);for(var e=[],l=0,d=f.length;l<d;l++)f[l]&&e.push(f[l]);f=e;for(var e="",c=l=0,
a=0,b=0,h=0,p,m,g="",q=0,w=[];e=f[l];){var z=t[e.toLowerCase()]+1;if(z){for(var y=1,d=z,v=[];y<d;y++)v.push(parseFloat(f[l+y]));q=z;l+=z}else{y=0;d=q-1;for(v=[];y<d;y++)v.push(parseFloat(f[l+y]));e="m"===g?"l":"M"===g?"L":g;l+=q-1}if(e){switch(e){case "M":c=v[0];a=v[1];b=c;h=a;p=m=null;w.push({cmd:"M",x:c,y:a});break;case "m":c+=v[0];a+=v[1];b=c;h=a;p=m=null;w.push({cmd:"M",x:c,y:a});break;case "L":c=v[0];a=v[1];p=m=null;w.push({cmd:"L",x:c,y:a});break;case "l":c+=v[0];a+=v[1];p=m=null;w.push({cmd:"L",
x:c,y:a});break;case "H":c=v[0];p=m=null;w.push({cmd:"L",x:c,y:a});break;case "h":c+=v[0];p=m=null;w.push({cmd:"L",x:c,y:a});break;case "V":a=v[0];p=m=null;w.push({cmd:"L",x:c,y:a});break;case "v":a+=v[0];p=m=null;w.push({cmd:"L",x:c,y:a});break;case "C":c=v[4];a=v[5];p=v[2];m=v[3];w.push({cmd:"C",x1:v[0],y1:v[1],x2:v[2],y2:v[3],x:v[4],y:v[5]});break;case "c":0===v[4]&&0===v[5]&&(v[4]+=1E-4,v[5]+=1E-4);w.push({cmd:"C",x1:v[0]+c,y1:v[1]+a,x2:v[2]+c,y2:v[3]+a,x:v[4]+c,y:v[5]+a});p=c+v[2];m=a+v[3];c+=
v[4];a+=v[5];break;case "S":null!==p&&g.match(/[sc]/i)||(p=c,m=a);w.push({cmd:"C",x1:c-(p-c),y1:a-(m-a),x2:v[0],y2:v[1],x:v[2],y:v[3]});p=v[0];m=v[1];c=v[2];a=v[3];break;case "s":0===v[2]&&0===v[3]&&(v[2]+=1E-4,v[3]+=1E-4);null!==p&&g.match(/[sc]/i)||(p=c,m=a);w.push({cmd:"C",x1:c-(p-c),y1:a-(m-a),x2:c+v[0],y2:a+v[1],x:c+v[2],y:a+v[3]});p=c+v[0];m=a+v[1];c+=v[2];a+=v[3];break;case "Q":p=v[0];m=v[1];c=v[2];a=v[3];w.push({cmd:"Q",x1:v[0],y1:v[1],x:v[2],y:v[3]});break;case "q":0===v[2]&&0===v[3]&&(v[2]+=
1E-4,v[3]+=1E-4);w.push({cmd:"Q",x1:v[0]+c,y1:v[1]+a,x:v[2]+c,y:v[3]+a});p=c+v[0];m=a+v[1];c+=v[2];a+=v[3];break;case "T":null!==p&&g.match(/[qt]/i)?(p=c-(p-c),m=a-(m-a)):(p=c,m=a);w.push({cmd:"Q",x1:p,y1:m,x:v[0],y:v[1]});c=v[0];a=v[1];break;case "t":0===v[0]&&0===v[1]&&(v[0]+=1E-4,v[1]+=1E-4);null!==p&&g.match(/[qt]/i)?(p=c-(p-c),m=a-(m-a)):(p=c,m=a);w.push({cmd:"Q",x1:p,y1:m,x:c+v[0],y:a+v[1]});c+=v[0];a+=v[1];break;case "A":d=k.arcToBezier(c,a,v[0],v[1],v[2],v[3],v[4],v[5],v[6]);for(c=0;c<d.length;c++)w.push(d[c]);
c=v[5];a=v[6];break;case "a":v[5]+=c;v[6]+=a;d=k.arcToBezier(c,a,v[0],v[1],v[2],v[3],v[4],v[5],v[6]);for(c=0;c<d.length;c++)w.push(d[c]);c=v[5];a=v[6];break;case "Z":w.push({cmd:"Z",x:b,y:h});h=b=0;break;case "z":w.push({cmd:"Z",x:b,y:h}),c=b,a=h}g=e}}return w}};k.arcToBezier=function(f,e,k,d,c,a,b,h,l){var m=c*Math.PI/180;c=Math.sin(m);var m=Math.cos(m),g=[];k=Math.abs(k);d=Math.abs(d);var q=m*(f-h)*.5+c*(e-l)*.5,t=m*(e-l)*.5-c*(f-h)*.5,q=q*q/(k*k)+t*t/(d*d);1<q&&(q=Math.sqrt(q),k*=q,d*=q);var q=
m/k,t=c/k,z=-c/d,y=m/d,v=q*f+t*e;e=z*f+y*e;f=q*h+t*l;h=z*h+y*l;q=1/((f-v)*(f-v)+(h-e)*(h-e))-.25;0>q&&(q=0);q=Math.sqrt(q);b===a&&(q=-q);a=.5*(v+f)-q*(h-e);l=.5*(e+h)+q*(f-v);v=Math.atan2(e-l,v-a);e=Math.atan2(h-l,f-a)-v;0>e&&1===b?e+=2*Math.PI:0<e&&0===b&&(e-=2*Math.PI);b=Math.ceil(Math.abs(e/(.5*Math.PI+.001)));for(var x=0;x<b;x++){h=v+x*e/b;var L=v+(x+1)*e/b,q=m*k,t=-c*d,z=c*k,y=m*d;f=.5*(L-h);var E=8/3*Math.sin(.5*f)*Math.sin(.5*f)/Math.sin(f);f=a+Math.cos(h)-E*Math.sin(h);h=l+Math.sin(h)+E*Math.cos(h);
var A=a+Math.cos(L),D=l+Math.sin(L),B=A+E*Math.sin(L),L=D-E*Math.cos(L);g[x]={cmd:"C",x1:q*f+t*h,y1:z*f+y*h,x2:q*B+t*L,y2:z*B+y*L,x:q*A+t*D,y:z*A+y*D}}return g};var t={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(d,c,a){function b(a,b){e.fillStyle=b;e.beginPath();Array.isArray(a)?Array.isArray(a[0])?a.forEach(function(a){f.Shape.VOBPath(e,a)}):f.Shape.VOBPath(e,a):f.Shape.circle(e,a.x,a.y,5);e.fill()}var e=m.doc?m.doc.contexts.draw.ctx:a.ctx;console.log(4);e&&(e.save(),b(d,"red"),b(c,"green"),e.restore())}function k(d){var c=new f.Path;c.getData=!0;c.dashAdaptive=1;f.Shape.VOBNode(c,d);d=(new f.Transform(d.matrix)).flatten(c.data);for(var c=[],a,b=0;b<d.length;b++){var e=d[b];"M"===
e.cmd?c.push(a=[e]):a.push(e)}return c}function t(d){var c=d.calcStroke,a=d.ctx,b=d.trx||new f.Transform(d.matrix),e=d.viewBox,k=d.viewBoxStroke,c=c?k:e;switch(d.placement){case "crop":b.translate(-c[0],-c[1]);var e=b.matrix,l=c[2]-c[0],g=c[3]-c[1],k=d.width,q=d.height,m=d.pixelRatio||1;k&&q&&("auto"===k&&(k=q/g*l),"auto"===q&&(q=k/l*g),k*=m,q*=m,m=Math.min(k/l,q/g),e.a*=m,e.d*=m,e.x+=c[0]*(1-m),e.y+=c[1]*(1-m),d.center&&(d=(g-l)*m/2,0<d?e.x+=d:e.y-=d),l=k,g=q);if(a){if(d=a.canvas)d.width=l>>0,d.height=
g>>0;b.apply(a,!0)}this.vob&&(this.vob._matrix=e);break;case "bbox":e=b.matrix;d=c[2]*e.a;k=d-c[0]*e.a;b.scale(d/k);b.translate(-c[0],-c[1]);a&&b.apply(a,!0);this.vob&&(this.vob._matrix=b.matrix);break;case "none":a&&(a.canvas.width=this.ctx.canvas.width,a.canvas.height=this.ctx.canvas.height)}}var f=m.vector||(m.vector={}),e=f.SVG.prototype;e.render=function(d){d=d||{};var c=d.ctx||(d.ctx=this.ctx),a=d.childNodes||(d.childNodes=[this.vob]);d.placement||(d.placement=this.placement);d.viewBox||(d.viewBox=
this.viewBox);d.viewBoxStroke||(d.viewBoxStroke=this.viewBoxStroke);d.defaultFill&&(this.defaultFill=d.defaultFill);c&&(c.save(),t.call(this,d),this.renderChildNodes(c,d,a),c.restore());this.perf&&this.perf("SVG.render",!0)};e.hitTest=function(d){var c=d.trx||(d.trx=new f.Transform),a=d.childNodes||(d.childNodes=[this.vob]);d.placement||(d.placement=this.placement);d.viewBox||(d.viewBox=this.viewBox);d.viewBoxStroke||(d.viewBoxStroke=this.viewBoxStroke);this._hitAreas=[];this._transform=new f.Transform;
this._transforms=[];c.save();t.call(this,d);this.hitTestChildNodes(c,d,a);c.restore();return this._hitAreas};e.hitTestChildNodes=function(d,c,a){if(a&&a.length)for(var b=f.Point,e=f.Polygon,m=c.debug,r=a.length,g=0;g<r;g++){var q=a[g];this.currentNode=q;d.save();if(q.matrix){var t=q.matrix;d.transform(t.a,t.b,t.c,t.d,t.x,t.y)}if(q.bbox){var z=d.clone().invert(),t=f.BBox.toRect(q.bbox);if(c.point)z=z.point2d(c.point.x,c.point.y),b.inPolygon(t,z.x,z.y)&&(t=q._vertices||(q._vertices=k(q)),m&&l(z,t,c),
b.inPolygonChain(t,z.x,z.y)&&this._hitAreas.push(q));else if(c.rect&&(z=z.flatten(c.rect,!0),m&&l(z,t,c),e.SAT(z,t))){t=q._vertices||(q._vertices=k(q));m&&l(z,t,c);a:{for(var y=f.Polygon,v=0,x=t.length;v<x;v++)if(y.collision(z,t[v])){t=!0;break a}t=void 0}t&&this._hitAreas.push(q)}}d.restore();q.childNodes&&q.childNodes.length&&this.hitTestChildNodes(d,c,q.childNodes)}};e.renderChildNodes=function(d,c,a,b){if(a&&a.length&&a[0]){var e=f.Shape;this.typeface&&(this.typeface.ctx=d);for(var k=a.length,
l=0;l<k;l++){var g=a[l],q=g.bbox;this.currentNode=g;d.save();d.beginPath();if(g.matrix){var m=g.matrix;d.transform(m.a,m.b,m.c,m.d,m.x,m.y)}g.clipPath&&g.clipPath.length&&(this.renderChildNodes(d,c,g.clipPath,!0),d.clip(),d.beginPath());e.VOBNode(d,g);if((m=g.style)&&!b){d.save();void 0!==m.opacity&&(d.globalAlpha=m.opacity);m.fillStyle&&(d.save(),this.setStyle(d,this.defs[m.fillStyle]||this.defs[this.defaultFill]||m,"fillStyle",this.defaultFill),d.globalAlpha*=m.fillOpacity,g.content?(d.font=this.fontStyleToString(d,
m),"SVG"===m.fontRenderer?(this.typeface.setFont(d.font),this.typeface.fillText(g.content,g.x,g.y)):d.fillText(g.content,g.x,g.y)):d.fill(),d.restore());if(m.strokeStyle&&"none"!==m.strokeStyle){d.save();d.lineWidth=0===m.strokeWidth?u:m.strokeWidth||1;d.lineCap=m.strokeLinecap||"butt";d.lineJoin=m.strokeLinejoin||"miter";d.miterLimit=m.strokeMiterlimit||d.lineWidth;var t=m.strokeDasharray;d.setLineDash&&"none"!==t&&d.setLineDash(t);t=m.strokeDashoffset;0<t&&(d.lineDashOffset=t);this.setStyle(d,this.defs[m.strokeStyle]||
this.defs[this.defaultStroke]||m,"strokeStyle",this.defaultStroke);d.globalAlpha*=m.strokeOpacity;g.content?(d.font=this.fontStyleToString(d,m),"SVG"===m.fontRenderer?(this.typeface.setFont(d.font),this.typeface.strokeText(g.content,g.x,g.y)):d.strokeText(g.content,g.x,g.y)):d.stroke();d.restore()}d.restore()}!b&&q&&this.debugBBox&&(m=this.vob._matrix,d.save(),d.setTransform(m.a,m.b,m.c,m.d,m.x,m.y),d.strokeStyle="red",d.lineWidth=.25,d.strokeRect(q.x1,q.y1,q.x2-q.x1,q.y2-q.y1),d.restore());d.restore();
g.childNodes&&g.childNodes.length&&this.renderChildNodes(d,c,g.childNodes,b)}}};e.setStyle=function(d,c,a,b){void 0!==c.strokeWidth&&(d.lineWidth=c.strokeWidth||u);void 0!==c.strokeLinecap&&(d.lineCap=c.strokeLinecap);void 0!==c.strokeLinejoin&&(d.lineJoin=c.strokeLinejoin);void 0!==c.strokeMiterlimit&&(d.miterLimit=c.strokeMiterlimit);var e;if(c.gradientTransform){var k=c.gradientTransform;this.currentNode&&this.currentNode.matrix&&(e=new f.Transform,e.transform(k.a,k.b,k.c,k.d,k.x,k.y),e=e.matrix)}switch(c.type){case "linearGradient":void 0===
c.x1&&(c.x1=0);void 0===c.y1&&(c.y1=0);void 0===c.x2&&(c.x2=0);void 0===c.y2&&(c.y2=0);if(d){e&&d.transform(e.a,e.b,e.c,e.d,e.x,e.y);if("objectBoundingBox"===c.gradientUnits){0===c.x1+c.y1+c.x2+c.y2&&(c.x2=1);var l=this.currentNode;if(!l.bbox)break;b=l.bbox;var g=b.x1+(b.x2-b.x1)*c.x1,q=b.y1+(b.y2-b.y1)*c.y1,m=b.x1+(b.x2-b.x1)*c.x2,t=b.y1+(b.y2-b.y1)*c.y2;e=d.createLinearGradient(g,q,m,t);e=(new f.Transform(l.matrix)).invert();g=e.point2d(g,q);e=e.point2d(m,t);e=d.createLinearGradient(g.x,g.y,e.x,
e.y)}else e=d.createLinearGradient(c.x1,c.y1,c.x2,c.y2);b=0;for(k=c.stops.length;b<k;b++){var y=c.stops[b];e.addColorStop(y.offset,y.color)}d[a]=e}break;case "radialGradient":void 0===c.cx&&(c.cx=.5);void 0===c.cy&&(c.cy=.5);void 0===c.fx&&(c.fx=.5);void 0===c.fy&&(c.fy=.5);void 0===c.r&&(c.r=.5);if(d){e&&d.transform(e.a,e.b,e.c,e.d,e.x,e.y);if("objectBoundingBox"===c.gradientUnits){l=this.currentNode;b=l.bbox;if(!l.bbox)break;var k=b.x2-b.x1,y=b.y2-b.y1,g=b.x1+k*c.cx,q=b.y1+y*c.cy,m=b.x1+k*c.fx,
t=b.y1+y*c.cy,v=Math.max(k,y)*c.r*1.6;e=(new f.Transform(l.matrix)).invert();g=e.point2d(g,q);e=e.point2d(m,t);e=d.createRadialGradient(g.x,g.y,0,e.x,e.y,v);y<k&&(k=y/k,d.translate(0,b.y2),d.scale(1,k))}else e=d.createRadialGradient(c.cx,c.cy,0,c.fx,c.fy,c.r);b=0;for(k=c.stops.length;b<k;b++)y=c.stops[b],e.addColorStop(y.offset,y.color);d[a]=e}break;case "pattern":d.translate(c.x||0,c.y||0);d[a]=c.pattern||"transparent";break;default:d[a]="default"===c[a]?b||this.defaultFill:c[a]}};var u=1E-10})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){function l(k,l){console.log("callback",k,l)}m.module=m.module||{};m.module.SVG=function(k){function m(c){c=u.toSVG(c);if("string"===typeof c)return c;svg.addDef(c);return c.id}var f=this,e=k.lang,u=k.style,d=k.vector;f.save=function(c){var a=k.doc,b=a.canvas2d,e=a.scene,f=a.toolkit;c=c||{};for(var r=!!c.flattenMatrix,g=c.objects||e.children,q=c.onsuccess||l,w=[],z=new d.SVG,g=e.copyDeep(g),y=0;y<g.length;y++){var v=g[y],x=v.bbox;v.style=v.style||{};var u={a:x.scale.x,b:0,c:0,d:x.scale.y,
x:x.x+b.x,y:x.y+b.y};"pencil"===v.type&&(v.type="polyline",v.stroke=v.fill,v.stroke.lineWidth=v.diameter);var E={id:v.id,type:v.type,parentNode:z.vob},A=E.type,D=k.detect.brush[A],B=k.detect.shape[A];if(D||B){var C=v.data;r&&(u=new d.Transform(u),C=u.flatten(C,!0),u=u.reset().matrix);D&&(A="brush",E.type!==v.type&&(E.brush=E.type));B&&(E.shape=E.type,A="shape");switch(A){case "shape":A=new d.Shape.record;D=Math.max(x.width,x.height)/2;k.toolkit("shape."+E.type)(A,x.x,x.y,D,v);E.d=A.stringify();E.type=
"path";break;case "stamp":case "path":E.d=d.SVGPath.fromVOBPath(C);break;case "brush":case "polygon":case "polyline":E.points=d.SVGPath.fromVOBPolygon(C);break;default:console.warn(A)}v.src&&(E.src=v.src)}else if("text"===A)E.content=v.content,e.copyAttributes(f.text._attributes,v,E),u.y+=x.height;else if("clipart"===A)if(A=k.assets.getItem(v.src))B=v.svg.viewBox,D=B[2]-B[0],B=B[3]-B[1],E.type="image",E["xlink:href"]=A.toDataURL(),u.a*=x.width/D,u.d*=x.height/B,E.width=x.width,E.height=x.height;else continue;
else"image"===A?(E["xlink:href"]=v.src,E.width=x.width,E.height=x.height):console.warn(A,v);E.bbox={x1:x.x,y1:x.y,x2:x.x+x.width,y2:x.y+x.height};E.matrix=u;E.transform=u;x=E;A=v;u={};u.opacity=A.opacity/100;D=u;if(B=A.stroke)D.strokeLinecap=B.lineCap,D.strokeLinejoin=B.lineJoin,D.strokeMiterlimit=B.miterLimit,D.strokeDasharray=B.dashArray,D.strokeDashoffset=B.dashOffset,D.strokeOpacity=B.opacity,D.strokeStyle=m(B),D.strokeWidth=B.lineWidth;D=u;if(A=A.fill)D.fillOpacity=A.opacity,D.fillRule=A.fillRule,
D.fillStyle=m(A);x.style=u;v.author&&(E.author=v.author);v.labels&&(E.labels=v.labels.join(","));v.license&&(E.license=v.license);w.push(E)}b=a.getBounds();z.vob.viewBox=[0,0,b.width,b.height];z.vob.childNodes=w;z.vob.metadata=btoa(JSON.stringify(a.config.json()));c.toDataURL?q(z,z.toDataURL()):q(z,z.stringify())};f.toActions=function(c,a){var b=k.doc,e=b.toolkit,f=c.svg;if(f&&f.vob){f=f.vob.childNodes;if(c.mergeIntoScene)var l=[];else l=[],b.scene.setData(l);var g=function(a){for(var c=0;c<a.length;c++){var f=
a[c];f.childNodes&&g(f.childNodes);if(f.data){for(var k=f.matrix,m=(new CSSMatrix("matrix("+[k.a,k.b,k.c,k.d,k.x,k.y].join()+")")).decompose(),k=m.rotate,p=m.scale,m=m.translate,t=d.bbox(f.data),E=t.x,A=t.y,D=b.scene.copyDeep(f.data),B=0;B<D.length;B++)isFinite(D[B].x)&&(D[B].x-=E,D[B].y-=A),isFinite(D[B].x1)&&(D[B].x1-=E,D[B].y1-=A),isFinite(D[B].x2)&&(D[B].x2-=E,D[B].y2-=A);k={id:b.scene.createId({id:f.id,increment:!0}),toolkitId:e&&e.getToolkitId(f.type),type:f.type,zIndex:c,data:D,opacity:100*
f.style.fillOpacity,stroke:new u.Stroke({lineWidth:f.style.strokeWidth,color:f.style.strokeStyle}),dirtyDimension:!0,bbox:{x:E*p.x+m.x,y:A*p.y+m.y,width:t.width/p.x,height:t.height/p.y,units:"objectBoundingBox",scale:{x:p.x,y:p.y},rotate:k.z}};f.labels&&(k.labels=f.labels.split(","));f.license&&(k.license=f.license);f.author&&(k.author=f.author);l.push(k)}}};g(f);a(l)}else console.error("toActions",c)};f.open=function(c,a,b){var h=k.doc;if(void 0===c)console.error("svg.open",arguments);else{a=a||
c.onsuccess||l;b=b||c.onerror||l;var m;c.data?m=c.data:"string"===typeof c?m=c:c.src&&(m=c.src);0===m.indexOf("<polygon")&&(m='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketchjs="https://sketch.io/dtd/" sketchjs:version="3.0">'+m+"</svg>");0===m.indexOf("<svg")&&(m='<?xml version="1.0" encoding="UTF-8"?>'+m);0===m.indexOf("<?xml")&&(m="data:image/svg+xml;base64,"+btoa(m));k.loader&&k.loader.create("thread",e.translate("reading-format",".SVG..."),0);var t=c.mergeIntoScene;return new d.SVG({skipRender:!0,
placement:"none",src:m,onerror:b,onsuccess:function(b){if(b.vob.metadata){var c=JSON.parse(atob(b.vob.metadata));h.labels=c.labels;h.license=c.license;h.author=c.author}f.toActions({svg:b,mergeIntoScene:t},function(c){k.loader&&k.loader.create("thread",e.translate("rendering")+"...",50);setTimeout(function(){if(t)k.io.json.merge(c),k.loader&&k.loader.create("thread",null,100);else{var d=b.vob.viewBox||b.viewBox||[0,0,window.innerWidth,window.innerHeight];h.setMetrics({width:d[2],height:d[3],units:"px"});
h.history.reset();h.scene.setData(c);h.render.preload({chunkBatch:!0}).then(function(){k.loader&&k.loader.stop("thread");a&&a(c);k.emit("open")})}},0)})}})}}}})(sketch);
(function(m){m.toolkit("media",function(l,k){function m(a){return new Promise(function(b,c){var d=a.asset,e=a.object,g=e.bbox,f;f="default"===d.className?[0,0,g.width,g.height]:[0,0,d.width,d.height];l.assets.isDefault(d)||(g.height=g.width/(f[2]-f[0])*(f[3]-f[1]));e.dirtyTransform=!0;e.render=function(a,b,c){b=this.bbox;var e=b.width,g=b.height,f=b.scale;b=f.x;var f=f.y,h=Math.abs(e*b),k=Math.abs(g*f),e=0>b?e*b:0,g=0>f?g*f:0,l=e?-1:1,q=g?-1:1;a.save();c?(a.scale(1/b,1/f),a.scale(l,q)):(a.scale(l,
q),a.translate(e,g));a.drawImage(d,0,0,h,k);a.restore()};b(e)})}function f(a){return new Promise(function(b,c){if(p.exists("sketch.vector.SVG")){var d=a.asset,e=a.object,g=e.bbox,f=g.width,h=g.height,k=d.viewBox;g.height=g.width/(k[2]-k[0])*(k[3]-k[1]);if("objectBoundingBox"===g.units){var m=g.scale,t=g.height;g.x+=(1-g.width/f)*f/2*m.x;g.y+=(1-t/h)*h/2*m.y}g=d.viewBox||k;f=d.viewBoxStroke||k;e.padding={left:g[0]-f[0],right:f[2]-g[2],top:g[1]-f[1],bottom:f[3]-g[3]};e.svg=d;e.dirtyCheck=!0;e.render=
function(a,b,c){if(null==d.render)console.warn("error",d);else{var e={ctx:a};if("symbol"===this.type){var g=this.fill;g?(g=l.style.toSVG(g),"string"===typeof g?e.defaultFill=g:(g.id="defaultFill",this.svg.addDef(g),e.defaultFill="defaultFill")):e.defaultFill="#000000"}e.trx=c?new r.Transform:b;var f=this.bbox,g=f.width,h=f.height,q=f.scale,f=q.x,q=q.y,m=g/k[2];c?(a.save(),a.scale(m,m),d.render(e),a.restore()):(b.translate(0>f?-g:0,0>q?-h:0),b.scale(m,m),d.render(e))}};b(e)}else c("loadSVGResource(): SVG module is not loaded.")})}
var e=this,u=k.canvas2d,d=l.detect,c=l.feature.tools.media,a=k.render,b=k.scene,h=k.toolkit,p=l.util,r=l.vector;e.id="media";e.units=c.units;e._attributes={brightness:"number",contrast:"number",exposure:"number",hue:"number",saturation:"number",temperature:"number",tint:"number",src:"string"};var g=p.copy(e._attributes);e.attributes=p.copyInto(l.attrs.__styledObject,g);(function(){var a={};e.enabled=!1;e.enable=function(){!0!==e.enabled&&(e.enabled=!0,h.select&&h.select.enable({events:a,searchParam:{toolkitId:c.useSearch}}))};
e.disable=function(){!1!==e.enabled&&(e.enabled=!1,eventjs.bulk(a,"remove"))}})();e.loadResource=function(a,c){return new Promise(function(d,e){c=c||{};var g=c.onprogress,h=a.src,p=a.type;k.toolkit.config[p]&&h||e({fatal:!0,message:p+" unavailable"});a.bbox||(a.bbox=new b.SKBBox);l.assets.add({data:h,type:p,onprogress:function(a){g&&g(a.loaded/a.total)},onerror:function(){e({fatal:!0,message:"&ldquo;"+h.split("/").pop()+"&rdquo; unavailable."})},onsuccess:function(b){("clipart"===this.type?f:m)({asset:this,
hash:b,object:a,src:h}).then(d).catch(function(a){console.error(a)})}})})};e.createObject=function(a){var c=e.config.mergeDefaults(a.object);return e.loadResource(b.addObject(c,{useHistory:a.useHistory}))};e.onRecord=function(g,f){function m(){G.dirtyCheck=!0;a.dirtyPointer=!0}if("string"!==typeof e.device.src)f.pause(),e.gesture.cancel(E),console.error("media.onRecord: src is invalid",G);else{var t=f.state,r=f.pointerStart,x=f.pointerDown,L=f.pointerEnd,E=k.eventPID(f),A=isFinite(f.shiftKey)?f.shiftKey:
eventjs.shiftKey,D=isFinite(f.metaKey)?f.metaKey:eventjs.metaKey,B=!!g,C=B&&k.on.record;k._interacting=x;B&&(r?eventjs.prevent(g):eventjs.cancel(g));var H=e.gesture.create(f);if(null!=H){var G=H.object;if(C){var F;r&&(F=b.copyDeepCompress(b.copyProperties(e,G)));k.emit("record",{op:"TOOL",data:{config:F,state:h.cleanState(t),pointerId:E,point:b.pointInPeerSceneFromCanvas(f),metaKey:D,shiftKey:A}})}var t=k.zoom,C=t*k.scale,N=C*k.pixelRatio,t=(t-1)/t,H=k.scrollX*t;F=k.scrollY*t;var K=f.start,t=0>f.x-
K.x?-1:1,D=0>f.y-K.y?-1:1,J=K.x/C+H,S=K.y/C+F,K=f.x/C+H-J,P=f.y/C+F-S,C=G.bbox,H=2*Math.abs(K||1);F=2*Math.abs(P||1);H/C.width>F/C.height?F=H/C.width*C.height:H=F/C.height*C.width;if(r&&(G.dirtyCheck=!0,G.lastSampleSize=Math.sqrt(H*F),r=l.lib[G.type].byPath[G.src])){if(!1===b.ensureMaxCopies(G)){e.gesture.cancel(E);return}b.copyRules(r,G)}G.dirtyTransform=!0;C.x=J-1*u.x/N;C.y=S-1*u.y/N;C.width=H;C.height=F;C.units=e.units;r=b.getConstraint(G,!0);C.width=r.width;C.height=r.height;N="objectBoundingBox"===
e.units;J=!d.useNonUniform[G.type];J=N||J;A||!1===J?C.rotate=0:(K=-Math.atan2(K,P),C.rotate=(K*p.RAD_DEG+3600)%360);K=C.scale;if(A||!1===J)if(K.x!==t||K.y!==D)r.constrained=!0,K.x=t,K.y=D;J?N?(C.x-=K.x*C.width/2,C.y-=K.y*C.height/2):(K=-C.width/2*C.scale.x,P=-C.height/2*C.scale.y,A=C.rotate*p.DEG_RAD,C.x=Math.cos(A)*K-Math.sin(A)*P+C.x,C.y=Math.sin(A)*K+Math.cos(A)*P+C.y):(C.x-=K.x*C.width/2,C.y-=K.y*C.height/2);A=Math.sqrt(C.width*C.height)/G.lastSampleSize;C.scaleCache={x:A,y:A};if(L&&H*F<e.minWidth*
e.minHeight)if(c.useAddByClick)5>=H&&5>=F?(E=e.defaultWidth,t=e.defaultHeight):(E=e.minWidth,t=e.minHeight),E/H>t/F&&(t=E/H*F),E/H<t/F&&(E=t/F*H),C.width=E,C.height=t,C.x-=(E-H)/2,C.y-=(t-F)/2;else{e.gesture.cancel(E);return}b._update.constrain(G);clearTimeout(G.timeout);E=.5>A||3<A||1!==A&&r.constrained;L||E&&A?L?e.gesture.end(G,B).then(function(c){a.objectToScene(c);B&&(b.select(c),a.dirtyControls=!0)}):m():1<A&&(G.timeout=setTimeout(m,250));x&&(a.dirtyPointer=!0)}}}})})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){function l(m,f){if(!(this instanceof l))return new l(m,f);this.filters={};this.id="ColorMatrix";if(m)if("object"===typeof m){var e=!0,u;for(u in m)e=!1;e&&(this.matrix=k.slice(0));for(var d in m)break;if("number"===typeof m[d])if(isNaN(d))this.update(m);else{e={};for(u in m)e[u]=o[u];this.matrix=e}else"object"===typeof m[d]&&this.combine(m)}else this.update(m,f);else this.matrix=k.slice(0);return this}var k=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];l.prototype={brightness:function(k){return[1,
0,0,0,k,0,1,0,0,k,0,0,1,0,k,0,0,0,1,0]},contrast:function(k,f){f=f||.5;return[++k,0,0,0,f*(1-k),0,k,0,0,f*(1-k),0,0,k,0,f*(1-k),0,0,0,1,0]},sepia:function(){return[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]},exposure:function(k){return[k,0,0,0,0,0,k,0,0,0,0,0,k,0,0,0,0,0,1,0]},colorize:function(l){var f=(l>>>16&255)/255,e=(l>>>8&255)/255,m=(l&255)/255;l=(l>>>24)/255;f=[.212656*f,.715158*f,.072186*f,0,0,.212656*e,.715158*e,.072186*e,0,0,.212656*m,.715158*m,.072186*m,0,0,0,
0,0,1,0];if(1>l)for(e=0;20>e;e++)f[e]=(1-l)*k[e]+l*f[e];return f},monotone:function(l){var f=(l>>>16&255)/255,e=(l>>>8&255)/255,m=(l&255)/255;l=(l>>>24)/255;f=[f,e,m,0,0,f,e,m,0,0,f,e,m,0,0,0,0,0,1,0];if(1>l)for(e=0;20>e;e++)f[e]=(1-l)*k[e]+l*f[e];return f},hue:function(k){k*=sketch.util.DEG_RAD;var f=Math.cos(k);k=Math.sin(k);return[.212656+.787344*f+-.212656*k,.715158+-.715158*f+-.715158*k,.072186+-.072186*f+.927814*k,0,0,.212656+-.212656*f+.143*k,.715158+f*(1-.715158)+.14*k,.072186+-.072186*f+
-.283*k,0,0,.212656+-.212656*f+-.787344*k,.715158+-.715158*f+.715158*k,.072186+.927814*f+.072186*k,0,0,0,0,0,1,0]},invert:function(k,f){f=f||1;k*=-1;return[k,0,0,0,f,0,k,0,0,f,0,0,k,0,f,0,0,0,1,0]},temperature:function(k){return[1+k/256,0,0,0,0,0,1,0,0,0,0,0,1+-k/256,0,0,0,0,0,1,0]},tint:function(k){return[1+k/256,0,0,0,0,0,1+-k/256,0,0,0,0,0,1+k/256,0,0,0,0,0,1,0]},saturation:function(k){var f=.212656*(1-k),e=.715158*(1-k),l=.072186*(1-k);return[f+k,e,l,0,0,f,e+k,l,0,0,f,e,l+k,0,0,0,0,0,1,0]},blend:function(k,
f){for(var e=this.matrix,l=[],d=0;20>d;d++)l[d]=(1-f)*e[d]+f*k[d];this.matrix=l;return this},light:function(k,f,e,l){e=l.highlights;f=-clamp(e.value*(e.max-e.min)+e.min,e.min,e.max);e=l.shadows;l=-clamp(e.value*(e.max-e.min)+e.min,e.min,e.max);var d=Math.PI;e=Math.cos(d);for(var d=Math.sin(d),c=k.data,a=c.length,b=0;b<a;b+=4){var h=c[b],m=c[b+1],r=c[b+2],g=h,q=m,w=r,h=h^255,m=m^255,r=r^255,z=(.299+.701*e+.168*d)*h+(.587-.587*e+.33*d)*m+(.114-.114*e-.497*d)*r,y=(.299-.299*e-.328*d)*h+(.587+.413*e+
.035*d)*m+(.114-.114*e+.292*d)*r,v=(.299-.3*e+1.25*d)*h+(.587-.588*e-1.05*d)*m+(.114+.886*e-.203*d)*r,h=g<z?g:z,m=q<y?q:y,r=w<v?w:v,g=(1-f)*g+f*h,q=(1-f)*q+f*m,w=(1-f)*w+f*r,h=g>z?g:z,m=q>y?q:y,r=w>v?w:v,g=(1-l)*g+l*h,q=(1-l)*q+l*m,w=(1-l)*w+l*r;c[b]=(0>g?0:256>g?g:255)>>0;c[b+1]=(0>q?0:256>q?q:255)>>0;c[b+2]=(0>w?0:256>w?w:255)>>0}return k},duotone:function(k,f,e,l){f=Color.HSV_RGB({H:360*l.hue.value,S:100*l.saturation.value,V:100*l.saturation.value});e=1.5*l.luminance.value;l=l.amount.value;for(var d=
k.data,c=d.length,a=0;a<c;a+=4){var b=d[a],h=d[a+1],m=d[a+2],r=.212656*b+.715158*h+.072186*m,g=(1-r/255)*f.R+r/255*r,q=(1-r/255)*f.G+r/255*r,w=(1-r/255)*f.B+r/255*r,r=r-(g+q+w)/3,g=g+r,q=q+r,w=w+r,r=(g+q+w)/3,z=Math.min(g,q,w);0>z&&(g=r+(g-r)*r/(r-z),q=r+(q-r)*r/(r-z),w=r+(w-r)*r/(r-z));z=Math.max(g,q,w);255<z&&(g=r+(g-r)*(255-r)/(z-r),q=r+(q-r)*(255-r)/(z-r),w=r+(w-r)*(255-r)/(z-r));g=((1-l)*b+l*g)*e;q=((1-l)*h+l*q)*e;w=((1-l)*m+l*w)*e;d[a]=g;d[a+1]=q;d[a+2]=w}return k},combine:function(k){var f=
[];if("number"===typeof k[0])for(var e=0,l=arguments.length;e<l;e++)f[e]=arguments[e];else f=k;var l=this.matrix,d=[];for(e in f)if(l){for(var c=0;5>c;c++)for(var a=0;20>a;a+=5)d[a+c]=l[a]*f[e][c]+l[a+1]*f[e][c+5]+l[a+2]*f[e][c+10]+l[a+3]*f[e][c+15]+(4===c?l[a+4]:0);l=d}else l=f[e];this.matrix=l;return this},update:function(k,f){if("string"===typeof k){if(!this[k])return;"number"===typeof f?this.filters[k]=this[k](f):delete this.filters[k]}else for(var e in k)this[e]&&("number"===typeof k[e]?this.filters[e]=
this[e](k[e]):delete this.filters[e]);delete this.matrix;this.combine(this.filters);return this},getMatrix4x4:function(){var k=this.matrix;return[k[0],k[1],k[2],k[3],k[5],k[6],k[7],k[8],k[10],k[11],k[12],k[13],k[15],k[16],k[17],k[18]]},toString:function(){return this.matrix.join(",")},apply:function(k,f,e,l){var d=k.canvas;l||(l=[0,0]);e||(e=k);f||(f=[0,0,d.width,d.height]);k=k.getImageData(f[0],f[1],f[2],f[3]);f=k.data;for(var c=this.matrix,d=c[0],a=c[1],b=c[2],h=c[3],m=c[4],r=c[5],g=c[6],q=c[7],
w=c[8],z=c[9],y=c[10],v=c[11],x=c[12],L=c[13],E=c[14],A=c[15],D=c[16],B=c[17],C=c[18],c=c[19],H,G,F,N,K,J,S,P=0,T=f.length;P<T;P+=4)H=f[P],G=f[P+1],F=f[P+2],N=f[P+3],K=H*d+G*a+F*b+N*h+m,J=H*r+G*g+F*q+N*w+z,S=H*y+G*v+F*x+N*L+E,H=H*A+G*D+F*B+N*C+c,k.data[P]=(0>K?0:255>K?K:255)>>0,k.data[P+1]=(0>J?0:255>J?J:255)>>0,k.data[P+2]=(0>S?0:255>S?S:255)>>0,k.data[P+3]=(0>H?0:255>H?H:255)>>0;e.putImageData(k,l[0],l[1])},reset:function(){this.matrix=k.slice(0)}};l.isIdentity=function(k){return 1===k.saturation&&
0===k.hue&&0===k.tint&&0===k.temperature&&1===k.exposure&&0===k.brightness&&0===k.contrast};l.setFilter=function(k){var f=new l;isFinite(k.saturation)&&f.update("saturation",k.saturation);!0===k.invert&&f.update("invert",k.invert);isFinite(k.hue)&&f.update("hue",k.hue);!0===k.sepia&&f.update("sepia",k.sepia);isFinite(k.tint)&&f.update("tint",k.tint);isFinite(k.temperature)&&f.update("temperature",k.temperature);isFinite(k.exposure)&&f.update("exposure",k.exposure);isFinite(k.brightness)&&f.update("brightness",
k.brightness);isFinite(k.contrast)&&f.update("contrast",k.contrast,1);isFinite(k.colorize)&&f.update("colorize",4294901760);isFinite(k.monotone)&&f.update("monotone",4283782485);return f};m.gl=m.gl||{};m.gl.ColorMatrix=l})(sketch);"undefined"===typeof PDFJS&&(("undefined"!==typeof window?window:this).PDFJS={});PDFJS.version="1.3.72";PDFJS.build="4d6f3c8";
(function(){function m(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+a)}function l(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+a)}function k(a){l("Deprecated API usage: "+a)}function t(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.errors&&(console.log("Error: "+a),console.log(f()));throw Error(a);}function f(){try{throw Error();}catch(a){return a.stack?a.stack.split("\n").slice(2).join("\n"):""}}function e(a,b){if(!b)return a;if(/^[a-z][a-z0-9+\-.]*:/i.test(b))return b;
var c;if("/"===b.charAt(0))return c=a.indexOf("://"),"/"===b.charAt(1)?++c:c=a.indexOf("/",c+3),a.substring(0,c)+b;var d=a.length;c=a.lastIndexOf("#");d=0<=c?c:d;c=a.lastIndexOf("?",d);c=a.lastIndexOf("/",0<=c?c:d);return a.substring(0,c+1)+b}function u(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1});return c}function d(){PDFJS.openExternalLinksInNewWindow&&(k('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),
PDFJS.externalLinkTarget===D.NONE&&(PDFJS.externalLinkTarget=D.BLANK),PDFJS.openExternalLinksInNewWindow=!1);switch(PDFJS.externalLinkTarget){case D.NONE:return!1;case D.SELF:case D.BLANK:case D.PARENT:case D.TOP:return!0}l("PDFJS.externalLinkTarget is invalid: "+PDFJS.externalLinkTarget);PDFJS.externalLinkTarget=D.NONE;return!1}function c(a){"string"===typeof a||t("Invalid argument for stringToBytes");for(var b=a.length,c=new Uint8Array(b),d=0;d<b;++d)c[d]=a.charCodeAt(d)&255;return c}function a(a){return a instanceof
Array}function b(a){return"object"===typeof a&&null!==a&&void 0!==a.byteLength}function h(){var a={};a.promise=new Promise(function(b,c){a.resolve=b;a.reject=c});return a}function p(a,b,c){this.sourceName=a;this.targetName=b;this.comObj=c;this.callbackIndex=1;this.postMessageTransfers=!0;var d=this.callbacksCapabilities={},e=this.actionHandler={};this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===this.sourceName)if(b.isReply)if(a=b.callbackId,b.callbackId in d){var g=d[a];delete d[a];
"error"in b?g.reject(b.error):g.resolve(b.data)}else t("Cannot resolve callback "+a);else if(b.action in e){var f=e[b.action];if(b.callbackId){var h=this.sourceName,k=b.sourceName;Promise.resolve().then(function(){return f[0].call(f[1],b.data)}).then(function(a){c.postMessage({sourceName:h,targetName:k,isReply:!0,callbackId:b.callbackId,data:a})},function(a){a instanceof Error&&(a+="");c.postMessage({sourceName:h,targetName:k,isReply:!0,callbackId:b.callbackId,error:a})})}else f[0].call(f[1],b.data)}else t("Unknown action from worker: "+
b.action)}.bind(this);c.addEventListener("message",this._onComObjOnMessage)}function r(a,b,c){var d=new Image;d.onload=function(){c.resolve(a,d)};d.onerror=function(){c.resolve(a,null);l("Error during JPEG image loading")};d.src=b}function g(a,b,c,d){if(a.destroyed)return Promise.reject(Error("Worker was destroyed"));b.disableAutoFetch=PDFJS.disableAutoFetch;b.disableStream=PDFJS.disableStream;b.chunkedViewerLoading=!!c;c&&(b.length=c.length,b.initialData=c.initialData);return a.messageHandler.sendWithPromise("GetDocRequest",
{docId:d,source:b,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,cMapUrl:PDFJS.cMapUrl,cMapPacked:PDFJS.cMapPacked,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity}).then(function(b){if(a.destroyed)throw Error("Worker was destroyed");return b})}function q(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;return c}function w(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,
a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],g=a[4],a=a[5],f=b*e-c*d,h=c*d-b*e;return[e/f,c/h,d/
h,b/f,(e*g-d*a)/h,(c*g-b*a)/f]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4];c[5]=c[1]*a+c[3]*b+c[5];this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]*=a;c[1]*=a;c[2]*=b;c[3]*=b;this._originalScale(a,
b)},a.transform=function(b,c,d,e,g,f){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*d+h[3]*e,h[0]*g+h[2]*f+h[4],h[1]*g+h[3]*f+h[5]];a._originalTransform(b,c,d,e,g,f)},a.setTransform=function(b,c,d,e,g,f){this._transformMatrix=[b,c,d,e,g,f];a._originalSetTransform(b,c,d,e,g,f)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,d[0]*-c+d[2]*b,d[1]*-c+d[3]*b,d[4],d[5]];this._originalRotate(a)})}
function z(a){var b=a.width,c=a.height,d,e,g=b+1,f=new Uint8Array(g*(c+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),k=b+7&-8,l=a.data,q=new Uint8Array(k*c),m=0;a=0;for(d=l.length;a<d;a++){e=128;for(var p=l[a];0<e;)q[m++]=p&e?0:255,e>>=1}m=l=0;0!==q[m]&&(f[0]=1,++l);for(d=1;d<b;d++)q[m]!==q[m+1]&&(f[d]=q[m]?2:1,++l),m++;0!==q[m]&&(f[d]=2,++l);for(a=1;a<c;a++){m=a*k;e=a*g;q[m-k]!==q[m]&&(f[e]=q[m]?1:8,++l);p=(q[m]?4:0)+(q[m-k]?8:0);for(d=1;d<b;d++)p=(p>>2)+(q[m+1]?4:0)+(q[m-k+1]?8:0),h[p]&&
(f[e+d]=h[p],++l),m++;q[m-k]!==q[m]&&(f[e+d]=q[m]?2:4,++l);if(1E3<l)return null}m=k*(c-1);e=a*g;0!==q[m]&&(f[e]=8,++l);for(d=1;d<b;d++)q[m]!==q[m+1]&&(f[e+d]=q[m]?4:8,++l),m++;0!==q[m]&&(f[e+d]=4,++l);if(1E3<l)return null;var h=new Int32Array([0,g,-1,0,-g,0,0,0,1]),r=[];for(a=0;l&&a<=c;a++){k=a*g;for(q=k+b;k<q&&!f[k];)k++;if(k!==q){q=[k%g,a];m=f[k];d=k;do{e=h[m];do k+=e;while(!f[k]);e=f[k];5!==e&&10!==e?(m=e,f[k]=0):(m=e&51*m>>4,f[k]&=m>>2|m<<2);q.push(k%g);q.push(k/g|0);--l}while(d!==k);r.push(q);
--a}}return function(a){a.save();a.scale(1/b,-1/c);a.translate(0,-c);a.beginPath();for(var d=0,e=r.length;d<e;d++){var g=r[d];a.moveTo(g[0],g[1]);for(var f=2,h=g.length;f<h;f+=2)a.lineTo(g[f],g[f+1])}a.fill();a.beginPath();a.restore()}}function y(a){var b=fa[a[0]];b||t("Unknown IR type: "+a[0]);return b.fromIR(a)}function v(a){this.docId=a;this.styleElement=null;this.nativeFontFaces=[];this.loadTestFontId=0;this.loadingContext={requests:[],nextRequestId:0}}var x="undefined"===typeof window?this:window,
L="undefined"===typeof window,E=[.001,0,0,.001,0,0];x.PDFJS||(x.PDFJS={});x.PDFJS.pdfBug=!1;PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var A=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,
endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,
setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,
paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};PDFJS.isValidUrl=function(a,b){if(!a)return!1;var c=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(a);if(!c)return b;c=c[0].toLowerCase();switch(c){case "http":case "https":case "ftp":case "mailto":case "tel":return!0;
default:return!1}};PDFJS.shadow=u;var D=PDFJS.LinkTarget={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},B=["","_self","_blank","_parent","_top"];PDFJS.isExternalLinkTargetSet=d;var C=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},H=function(){function a(b,c){this.name="PasswordException";this.message=b;this.code=c}a.prototype=Error();return a.constructor=a}();PDFJS.PasswordException=H;var G=function(){function a(b,c){this.name="UnknownErrorException";this.message=b;this.details=c}a.prototype=
Error();return a.constructor=a}();PDFJS.UnknownErrorException=G;var F=function(){function a(b){this.name="InvalidPDFException";this.message=b}a.prototype=Error();return a.constructor=a}();PDFJS.InvalidPDFException=F;var N=function(){function a(b){this.name="MissingPDFException";this.message=b}a.prototype=Error();return a.constructor=a}();PDFJS.MissingPDFException=N;var K=function(){function a(b,c){this.name="UnexpectedResponseException";this.message=b;this.status=c}a.prototype=Error();return a.constructor=
a}();PDFJS.UnexpectedResponseException=K;(function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="NotImplementedException";return a.constructor=a})();(function(){function a(b,c){this.begin=b;this.end=c;this.message="Missing data ["+b+", "+c+")"}a.prototype=Error();a.prototype.name="MissingDataException";return a.constructor=a})();(function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="XRefParseException";return a.constructor=a})();Object.defineProperty(PDFJS,
"isLittleEndian",{configurable:!0,get:function(){var a=PDFJS,b=new Uint8Array(2);b[0]=1;b=new Uint16Array(b.buffer);return u(a,"isLittleEndian",1===b[0])}});Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:!0,get:function(){var a=PDFJS,b=document.createElement("canvas");b.width=b.height=1;b=b.getContext("2d").createImageData(1,1);return u(a,"hasCanvasTypedArrays","undefined"!==typeof b.data.buffer)}});var J=function(){function a(d,e){this.buffer=d;this.byteLength=d.length;for(var g=
this.length=void 0===e?this.byteLength>>2:e;c<g;)Object.defineProperty(a.prototype,c,b(c)),c++}function b(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},set:function(b){var c=this.buffer,d=a<<2;c[d]=b&255;c[d+1]=b>>8&255;c[d+2]=b>>16&255;c[d+3]=b>>>24&255}}}a.prototype=Object.create(null);var c=0;return a}(),S=[1,0,0,1,0,0],P=PDFJS.Util=function(){function a(){}var b=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(a,c,d){b[1]=a;b[3]=c;b[5]=d;return b.join("")};
a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]};a.applyTransform=function(a,b){return[a[0]*b[0]+a[1]*b[2]+b[4],a[0]*b[1]+a[1]*b[3]+b[5]]};a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2];return[(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c]};a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,
4),c),g=a.applyTransform([b[0],b[3]],c),f=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],g[0],f[0]),Math.min(d[1],e[1],g[1],f[1]),Math.max(d[0],e[0],g[0],f[0]),Math.max(d[1],e[1],g[1],f[1])]};a.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]};a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]};a.singularValueDecompose2dScale=
function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[2]*b[1]+a[3]*b[3],e=(c+d)/2;a=Math.sqrt((c+d)*(c+d)-4*(c*d-(a[2]*b[0]+a[3]*b[2])*(a[0]*b[1]+a[1]*b[3])))/2;b=e-a||1;return[Math.sqrt(e+a||1),Math.sqrt(b)]};a.normalizeRect=function(a){var b=a.slice(0);a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]);a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]);return b};a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),g=[b[1],b[3],c[1],c[3]].sort(d),f=[];b=a.normalizeRect(b);c=a.normalizeRect(c);
if(e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0])f[0]=e[1],f[2]=e[2];else return!1;if(g[0]===b[1]&&g[1]===c[1]||g[0]===c[1]&&g[1]===b[1])f[1]=g[1],f[3]=g[2];else return!1;return f};a.sign=function(a){return 0>a?-1:1};a.appendToArray=function(a,b){Array.prototype.push.apply(a,b)};a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)};a.extendObj=function(a,b){for(var c in b)a[c]=b[c]};a.getInheritableProperty=function(a,b){for(;a&&!a.has(b);)a=a.get("Parent");return a?a.get(b):null};
a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]};a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",a);b&&(c.onload=function(){d||b();d=!0});document.getElementsByTagName("head")[0].appendChild(c)};return a}();PDFJS.PageViewport=function(){function a(b,c,d,e,g,f){this.viewBox=b;this.scale=c;this.rotation=d;this.offsetX=e;this.offsetY=g;var h=(b[2]+b[0])/2,k=(b[3]+b[1])/2,l,q,m;d%=
360;switch(0>d?d+360:d){case 180:d=-1;q=l=0;m=1;break;case 90:d=0;q=l=1;m=0;break;case 270:d=0;q=l=-1;m=0;break;default:d=1,q=l=0,m=-1}f&&(q=-q,m=-m);0===d?(e=Math.abs(k-b[1])*c+e,g=Math.abs(h-b[0])*c+g,f=Math.abs(b[3]-b[1])*c,b=Math.abs(b[2]-b[0])*c):(e=Math.abs(h-b[0])*c+e,g=Math.abs(k-b[1])*c+g,f=Math.abs(b[2]-b[0])*c,b=Math.abs(b[3]-b[1])*c);this.transform=[d*c,l*c,q*c,m*c,e-d*c*h-q*c*k,g-l*c*h-m*c*k];this.width=f;this.height=b;this.fontScale=c}a.prototype={clone:function(b){b=b||{};var c="scale"in
b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return P.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=P.applyTransform([a[0],a[1]],this.transform);a=P.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],a[0],a[1]]},convertToPdfPoint:function(a,b){return P.applyInverseTransform([a,b],this.transform)}};return a}();PDFJS.createPromiseCapability=
h;(function(){function a(b){this._status=0;this._handlers=[];try{b.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(c){this._reject(c)}}if(x.Promise)"function"!==typeof x.Promise.all&&(x.Promise.all=function(a){var b=0,c=[],d,e,g=new x.Promise(function(a,b){d=a;e=b});a.forEach(function(a,g){b++;a.then(function(a){c[g]=a;b--;0===b&&d(c)},e)});0===b&&d(c);return g}),"function"!==typeof x.Promise.resolve&&(x.Promise.resolve=function(a){return new x.Promise(function(b){b(a)})}),"function"!==
typeof x.Promise.reject&&(x.Promise.reject=function(a){return new x.Promise(function(b,c){c(a)})}),"function"!==typeof x.Promise.prototype.catch&&(x.Promise.prototype.catch=function(a){return x.Promise.prototype.then(void 0,a)});else{var b={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(a){0!==a._status&&(this.handlers=this.handlers.concat(a._handlers),a._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var a=
Date.now()+1;0<this.handlers.length;){var b=this.handlers.shift(),c=b.thisPromise._status,d=b.thisPromise._value;try{1===c?"function"===typeof b.onResolve&&(d=b.onResolve(d)):"function"===typeof b.onReject&&(d=b.onReject(d),c=1,b.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(b.thisPromise))}catch(e){c=2,d=e}b.nextPromise._updateStatus(c,d);if(Date.now()>=a)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,
time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=!1;for(var b=0;b<this.unhandledRejections.length;b++)this.unhandledRejections[b].promise===a&&(this.unhandledRejections.splice(b),b--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var a=Date.now(),b=0;b<this.unhandledRejections.length;b++)if(500<a-this.unhandledRejections[b].time){var c=
this.unhandledRejections[b].promise._value,d="Unhandled rejection: "+c;c.stack&&(d+="\n"+c.stack);l(d);this.unhandledRejections.splice(b);b--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};a.all=function(b){function c(a){2!==g._status&&(h=[],e(a))}var d,e,g=new a(function(a,b){d=a;e=b}),f=b.length,h=[];if(0===f)return d(h),g;for(var k=0,l=b.length;k<l;++k){var q=b[k],m=function(a){return function(b){2!==g._status&&(h[a]=b,f--,0===f&&d(h))}}(k);a.isPromise(q)?q.then(m,
c):m(q)}return g};a.isPromise=function(a){return a&&"function"===typeof a.then};a.resolve=function(b){return new a(function(a){a(b)})};a.reject=function(b){return new a(function(a,c){c(b)})};a.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(c,d){1!==this._status&&2!==this._status&&(1===c&&a.isPromise(d)?d.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=c,this._value=d,2===c&&0===this._handlers.length&&(this._unhandledRejection=
!0,b.addUnhandledRejection(this)),b.scheduleHandlers(this)))},_resolve:function(a){this._updateStatus(1,a)},_reject:function(a){this._updateStatus(2,a)},then:function(c,d){var e=new a(function(a,b){this.resolve=a;this.reject=b});this._handlers.push({thisPromise:this,onResolve:c,onReject:d,nextPromise:e});b.scheduleHandlers(this);return e},catch:function(a){return this.then(void 0,a)}};x.Promise=a}})();var T=function(){function a(){this.started={};this.times=[];this.enabled=!0}a.prototype={time:function(a){this.enabled&&
(a in this.started&&l("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||l("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])},toString:function(){var a,b,c=this.times,d="",e=0;a=0;for(b=c.length;a<b;++a){var g=c[a].name;g.length>e&&(e=g.length)}a=0;for(b=c.length;a<b;++a){for(var f=c[a],g=f.end-f.start,f=f.name;f.length<e;)f+=" ";d+=f+" "+g+"ms\n"}return d}};
return a}();PDFJS.createBlob=function(a,b){if("undefined"!==typeof Blob)return new Blob([a],{type:b});var c=new MozBlobBuilder;c.append(a);return c.getBlob(b)};PDFJS.createObjectURL=function(){return function(a,b){if(!PDFJS.disableCreateObjectURL&&"undefined"!==typeof URL&&URL.createObjectURL){var c=PDFJS.createBlob(a,b);return URL.createObjectURL(c)}for(var c="data:"+b+";base64,",d=0,e=a.length;d<e;d+=3)var g=a[d]&255,f=a[d+1]&255,h=a[d+2]&255,c=c+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[g>>
2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(g&3)<<4|f>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+1<e?(f&15)<<2|h>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+2<e?h&63:64]);return c}}();p.prototype={on:function(a,b,c){var d=this.actionHandler;d[a]&&t('There is already an actionName called "'+a+'"');d[a]=[b,c]},send:function(a,b,c){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,
data:b},c)},sendWithPromise:function(a,b,c){var d=this.callbackIndex++;a={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:d};b=h();this.callbacksCapabilities[d]=b;try{this.postMessage(a,c)}catch(e){b.reject(e)}return b.promise},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}};PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?
-1:PDFJS.maxImageSize;PDFJS.cMapUrl=void 0===PDFJS.cMapUrl?null:PDFJS.cMapUrl;PDFJS.cMapPacked=void 0===PDFJS.cMapPacked?!1:PDFJS.cMapPacked;PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace;PDFJS.imageResourcesPath=void 0===PDFJS.imageResourcesPath?"":PDFJS.imageResourcesPath;PDFJS.disableWorker=void 0===PDFJS.disableWorker?!1:PDFJS.disableWorker;PDFJS.workerSrc=void 0===PDFJS.workerSrc?null:PDFJS.workerSrc;PDFJS.disableRange=void 0===PDFJS.disableRange?!1:PDFJS.disableRange;
PDFJS.disableStream=void 0===PDFJS.disableStream?!1:PDFJS.disableStream;PDFJS.disableAutoFetch=void 0===PDFJS.disableAutoFetch?!1:PDFJS.disableAutoFetch;PDFJS.pdfBug=void 0===PDFJS.pdfBug?!1:PDFJS.pdfBug;PDFJS.postMessageTransfers=void 0===PDFJS.postMessageTransfers?!0:PDFJS.postMessageTransfers;PDFJS.disableCreateObjectURL=void 0===PDFJS.disableCreateObjectURL?!1:PDFJS.disableCreateObjectURL;PDFJS.disableWebGL=void 0===PDFJS.disableWebGL?!0:PDFJS.disableWebGL;PDFJS.disableFullscreen=void 0===PDFJS.disableFullscreen?
!1:PDFJS.disableFullscreen;PDFJS.useOnlyCssZoom=void 0===PDFJS.useOnlyCssZoom?!1:PDFJS.useOnlyCssZoom;PDFJS.verbosity=void 0===PDFJS.verbosity?PDFJS.VERBOSITY_LEVELS.warnings:PDFJS.verbosity;PDFJS.maxCanvasPixels=void 0===PDFJS.maxCanvasPixels?16777216:PDFJS.maxCanvasPixels;PDFJS.openExternalLinksInNewWindow=void 0===PDFJS.openExternalLinksInNewWindow?!1:PDFJS.openExternalLinksInNewWindow;PDFJS.externalLinkTarget=void 0===PDFJS.externalLinkTarget?PDFJS.LinkTarget.NONE:PDFJS.externalLinkTarget;PDFJS.isEvalSupported=
void 0===PDFJS.isEvalSupported?!0:PDFJS.isEvalSupported;PDFJS.getDocument=function(a,d,f,h){var l=new U;1<arguments.length&&k("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument");d&&(d instanceof I||(d=Object.create(d),d.length=a.length,d.initialData=a.initialData,d.abort||(d.abort=function(){})),a=Object.create(a),a.range=d);l.onPassword=f||null;l.onProgress=h||null;var q;"string"===typeof a?q={url:a}:b(a)?q={data:a}:a instanceof I?q={range:a}:("object"!==
typeof a&&t("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),a.url||a.data||a.range||t("Invalid parameter object: need either .data, .range or .url"),q=a);var m={},r=null,w=null,v;for(v in q)if("url"===v&&"undefined"!==typeof window)m[v]=e(window.location.href,q[v]);else if("range"===v)r=q[v];else if("worker"===v)w=q[v];else if("data"!==v||q[v]instanceof Uint8Array)m[v]=q[v];else{var x=q[v];"string"===typeof x?m[v]=c(x):"object"!==typeof x||null===x||isNaN(x.length)?
b(x)?m[v]=new Uint8Array(x):t("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property."):m[v]=new Uint8Array(x)}m.rangeChunkSize=m.rangeChunkSize||65536;w||(w=new Y,l._worker=w);var y=l.docId;w.promise.then(function(){if(l.destroyed)throw Error("Loading aborted");return g(w,m,r,y).then(function(a){if(l.destroyed)throw Error("Loading aborted");a=new p(y,a,w.port);a.send("Ready",null);a=new O(a,l,r);l._transport=a})},l._capability.reject);return l};
var U=function(){function a(){this._capability=h();this._worker=this._transport=null;this.docId="d"+b++;this.destroyed=!1;this.onUnsupportedFeature=this.onProgress=this.onPassword=null}var b=0;a.prototype={get promise(){return this._capability.promise},destroy:function(){this.destroyed=!0;return(this._transport?this._transport.destroy():Promise.resolve()).then(function(){this._transport=null;this._worker&&(this._worker.destroy(),this._worker=null)}.bind(this))},then:function(a,b){return this.promise.then.apply(this.promise,
arguments)}};return a}(),I=function(){function a(b,c){this.length=b;this.initialData=c;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._readyCapability=h()}a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},onDataRange:function(a,b){for(var c=this._rangeListeners,d=0,e=c.length;d<e;++d)c[d](a,
b)},onDataProgress:function(a){this._readyCapability.promise.then(function(){for(var b=this._progressListeners,c=0,d=b.length;c<d;++c)b[c](a)}.bind(this))},onDataProgressiveRead:function(a){this._readyCapability.promise.then(function(){for(var b=this._progressiveReadListeners,c=0,d=b.length;c<d;++c)b[c](a)}.bind(this))},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(a,b){throw Error("Abstract method PDFDataRangeTransport.requestDataRange");},abort:function(){}};
return a}();PDFJS.PDFDataRangeTransport=I;var X=function(){function a(b,c,d){this.pdfInfo=b;this.transport=c;this.loadingTask=d}a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(a){return this.transport.getDestination(a)},getAttachments:function(){return this.transport.getAttachments()},
getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}};return a}(),W=function(){function a(b,
c,d){this.pageIndex=b;this.pageInfo=c;this.transport=d;this.stats=new T;this.stats.enabled=!!x.PDFJS.enableStats;this.commonObjs=d.commonObjs;this.objs=new V;this.pendingCleanup=this.cleanupAfterRender=!1;this.intentStates={};this.destroyed=!1}a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(a,b){2>arguments.length&&(b=this.rotate);return new PDFJS.PageViewport(this.view,
a,b,0,0)},getAnnotations:function(a){a=a&&a.intent||null;this.annotationsPromise&&this.annotationsIntent===a||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,a),this.annotationsIntent=a);return this.annotationsPromise},render:function(a){function b(a){var d=e.renderTasks.indexOf(g);0<=d&&e.renderTasks.splice(d,1);f.cleanupAfterRender&&(f.pendingCleanup=!0);f._tryCleanup();a?g.capability.reject(a):g.capability.resolve();c.timeEnd("Rendering");c.timeEnd("Overall")}var c=this.stats;
c.time("Overall");this.pendingCleanup=!1;var d="print"===a.intent?"print":"display";this.intentStates[d]||(this.intentStates[d]={});var e=this.intentStates[d];e.displayReadyCapability||(e.receivingOperatorList=!0,e.displayReadyCapability=h(),e.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d}));var g=new Z(b,a,this.objs,this.commonObjs,e.operatorList,this.pageNumber);g.useRequestAnimationFrame=
"print"!==d;e.renderTasks||(e.renderTasks=[]);e.renderTasks.push(g);d=g.task;a.continueCallback&&(k("render is used with continueCallback parameter"),d.onContinue=a.continueCallback);var f=this;e.displayReadyCapability.promise.then(function(a){f.pendingCleanup?b():(c.time("Rendering"),g.initalizeGraphics(a),g.operatorListChanged())},function(a){b(a)});return d},getOperatorList:function(){function a(){b.operatorList.lastChunk&&b.opListReadCapability.resolve(b.operatorList)}this.intentStates.oplist||
(this.intentStates.oplist={});var b=this.intentStates.oplist;if(!b.opListReadCapability){var c={};c.operatorListChanged=a;b.receivingOperatorList=!0;b.opListReadCapability=h();b.renderTasks=[];b.renderTasks.push(c);b.operatorList={fnArray:[],argsArray:[],lastChunk:!1};this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return b.opListReadCapability.promise},getTextContent:function(a){return this.transport.messageHandler.sendWithPromise("GetTextContent",
{pageIndex:this.pageNumber-1,normalizeWhitespace:a&&a.normalizeWhitespace||!1})},_destroy:function(){this.destroyed=!0;this.transport.pageCache[this.pageIndex]=null;var a=[];Object.keys(this.intentStates).forEach(function(b){this.intentStates[b].renderTasks.forEach(function(b){var c=b.capability.promise.catch(function(){});a.push(c);b.cancel()})},this);this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=!1;return Promise.all(a)},destroy:function(){k("page destroy method, use cleanup() instead");
this.cleanup()},cleanup:function(){this.pendingCleanup=!0;this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return 0!==a.renderTasks.length||a.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(a,b){var c=this.intentStates[b];c.displayReadyCapability&&
c.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var c=this.intentStates[b],d,e;d=0;for(e=a.length;d<e;d++)c.operatorList.fnArray.push(a.fnArray[d]),c.operatorList.argsArray.push(a.argsArray[d]);c.operatorList.lastChunk=a.lastChunk;for(d=0;d<c.renderTasks.length;d++)c.renderTasks[d].operatorListChanged();a.lastChunk&&(c.receivingOperatorList=!1,this._tryCleanup())}};return a}(),Y=function(){function a(){PDFJS.fakeWorkerFilesLoadedCapability||(PDFJS.fakeWorkerFilesLoadedCapability=
h(),P.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedCapability.resolve()}));return PDFJS.fakeWorkerFilesLoadedCapability.promise}function b(a){this.name=a;this.destroyed=!1;this._readyCapability=h();this._messageHandler=this._webWorker=this._port=null;this._initialize()}var c=0;b.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initialize:function(){if(!x.PDFJS.disableWorker&&"undefined"!==
typeof Worker){var a=PDFJS.workerSrc;a||t("No PDFJS.workerSrc specified");try{var b=new Worker(a),c=new p("main","worker",b);c.on("test",function(a){this.destroyed?(this._readyCapability.reject(Error("Worker was destroyed")),c.destroy(),b.terminate()):a&&a.supportTypedArray?(this._messageHandler=c,this._webWorker=this._port=b,a.supportTransfers||(PDFJS.postMessageTransfers=!1),this._readyCapability.resolve()):(this._setupFakeWorker(),c.destroy(),b.terminate())}.bind(this));c.on("console_log",function(a){console.log.apply(console,
a)});c.on("console_error",function(a){console.error.apply(console,a)});var d=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{c.send("test",d,[d.buffer])}catch(e){m("Cannot use postMessage transfers"),d[0]=0,c.send("test",d)}return}catch(g){m("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){l("Setting up fake worker.");x.PDFJS.disableWorker=!0;a().then(function(){if(this.destroyed)this._readyCapability.reject(Error("Worker was destroyed"));else{var a={_listeners:[],
postMessage:function(a){var b={data:a};this._listeners.forEach(function(a){a.call(this,b)},this)},addEventListener:function(a,b){this._listeners.push(b)},removeEventListener:function(a,b){var c=this._listeners.indexOf(b);this._listeners.splice(c,1)},terminate:function(){}};this._port=a;var b="fake"+c++,d=new p(b+"_worker",b,a);PDFJS.WorkerMessageHandler.setup(d,a);this._messageHandler=new p(b,b+"_worker",a);this._readyCapability.resolve()}}.bind(this))},destroy:function(){this.destroyed=!0;this._webWorker&&
(this._webWorker.terminate(),this._webWorker=null);this._port=null;this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}};return b}();PDFJS.PDFWorker=Y;var O=function(){function a(b,c,d){this.messageHandler=b;this.loadingTask=c;this.pdfDataRangeTransport=d;this.commonObjs=new V;this.fontLoader=new v(c.docId);this.destroyed=!1;this.destroyCapability=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=h();this.setupMessageHandler()}a.prototype={destroy:function(){if(this.destroyCapability)return this.destroyCapability.promise;
this.destroyed=!0;this.destroyCapability=h();var a=[];this.pageCache.forEach(function(b){b&&a.push(b._destroy())});this.pageCache=[];this.pagePromises=[];var b=this,c=this.messageHandler.sendWithPromise("Terminate",null);a.push(c);Promise.all(a).then(function(){b.fontLoader.clear();b.pdfDataRangeTransport&&(b.pdfDataRangeTransport.abort(),b.pdfDataRangeTransport=null);b.messageHandler&&(b.messageHandler.destroy(),b.messageHandler=null);b.destroyCapability.resolve()},this.destroyCapability.reject);
return this.destroyCapability.promise},setupMessageHandler:function(){function a(c){b.send("UpdatePassword",c)}var b=this.messageHandler,c=this.pdfDataRangeTransport;c&&(c.addRangeListener(function(a,c){b.send("OnDataRange",{begin:a,chunk:c})}),c.addProgressListener(function(a){b.send("OnDataProgress",{loaded:a})}),c.addProgressiveReadListener(function(a){b.send("OnDataRange",{chunk:a})}),b.on("RequestDataRange",function(a){c.requestDataRange(a.begin,a.end)},this));b.on("GetDoc",function(a){var b=
a.pdfInfo;this.numPages=a.pdfInfo.numPages;a=this.loadingTask;this.pdfDocument=b=new X(b,this,a);a._capability.resolve(b)},this);b.on("NeedPassword",function(b){var c=this.loadingTask;if(c.onPassword)return c.onPassword(a,C.NEED_PASSWORD);c._capability.reject(new H(b.message,b.code))},this);b.on("IncorrectPassword",function(b){var c=this.loadingTask;if(c.onPassword)return c.onPassword(a,C.INCORRECT_PASSWORD);c._capability.reject(new H(b.message,b.code))},this);b.on("InvalidPDF",function(a){this.loadingTask._capability.reject(new F(a.message))},
this);b.on("MissingPDF",function(a){this.loadingTask._capability.reject(new N(a.message))},this);b.on("UnexpectedResponse",function(a){this.loadingTask._capability.reject(new K(a.message,a.status))},this);b.on("UnknownError",function(a){this.loadingTask._capability.reject(new G(a.message,a.details))},this);b.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this);b.on("PDFManagerReady",function(a){this.pdfDataRangeTransport&&this.pdfDataRangeTransport.transportReady()},this);b.on("StartRenderPage",
function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request");b._startRenderPage(a.transparency,a.intent)}},this);b.on("RenderPageChunk",function(a){this.destroyed||this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);b.on("commonobj",function(a){if(!this.destroyed){var b=a[0],c=a[1];if(!this.commonObjs.hasData(b))switch(c){case "Font":a=a[2];var d;if("error"in a){var e=a.error;l("Error during font loading: "+e);this.commonObjs.resolve(b,
e);break}else d=new ma(a);this.fontLoader.bind([d],function(a){this.commonObjs.resolve(b,d)}.bind(this));break;case "FontPath":this.commonObjs.resolve(b,a[2]);break;default:e("Got unknown common object type "+c)}}},this);b.on("obj",function(a){if(!this.destroyed){var b=a[0],c=a[2],d=this.pageCache[a[1]];if(!d.objs.hasData(b))switch(c){case "JpegStream":a=a[3];r(b,a,d.objs);break;case "Image":a=a[3];d.objs.resolve(b,a);a&&"data"in a&&8E6<a.data.length&&(d.cleanupAfterRender=!0);break;default:t("Got unknown object type "+
c)}}},this);b.on("DocProgress",function(a){if(!this.destroyed){var b=this.loadingTask;if(b.onProgress)b.onProgress({loaded:a.loaded,total:a.total})}},this);b.on("PageError",function(a){if(!this.destroyed){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];b.displayReadyCapability?b.displayReadyCapability.reject(a.error):t(a.error)}},this);b.on("UnsupportedFeature",function(a){if(!this.destroyed){a=a.featureId;var b=this.loadingTask;if(b.onUnsupportedFeature)b.onUnsupportedFeature(a);PDFJS.UnsupportedManager.notify(a)}},
this);b.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject("Worker was terminated");var b=a[0],c=a[1];return 3!==c&&1!==c?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){var e=new Image;e.onload=function(){var b=e.width,d=e.height,g=b*d,f=4*g,g=new Uint8Array(g*c),h=q(b,d).getContext("2d");h.drawImage(e,0,0);var h=h.getImageData(0,0,b,d).data,k,l;if(3===c)for(l=k=0;k<f;k+=4,l+=3)g[l]=h[k],g[l+1]=h[k+1],g[l+2]=h[k+2];else if(1===
c)for(l=k=0;k<f;k+=4,l++)g[l]=h[k];a({data:g,width:b,height:d})};e.onerror=function(){d(Error("JpegDecode failed to load image"))};e.src=b})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(a,b){if(0>=a||a>this.numPages||(a|0)!==a)return Promise.reject(Error("Invalid page request"));var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];var d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){if(this.destroyed)throw Error("Transport destroyed");
a=new W(c,a,this);return this.pageCache[c]=a}.bind(this));return this.pagePromises[c]=d},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})},getAnnotations:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(a){return this.messageHandler.sendWithPromise("GetDestination",{id:a})},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",
null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?new PDFJS.Metadata(a[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",
null).then(function(){for(var a=0,b=this.pageCache.length;a<b;a++){var c=this.pageCache[a];c&&c.cleanup()}this.commonObjs.clear();this.fontLoader.clear()}.bind(this))}};return a}(),V=function(){function a(){this.objs={}}a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:h(),data:null,resolved:!1};return this.objs[a]=b},get:function(a,b){if(b)return this.ensureObj(a).capability.promise.then(b),null;var c=this.objs[a];c&&c.resolved||t("Requesting object that isn't resolved yet "+
a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=!0;c.data=b;c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:!1},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs={}}};return a}(),Q=function(){function a(b){this._internalRenderTask=b;this.onContinue=null}a.prototype={get promise(){return this._internalRenderTask.capability.promise},
cancel:function(){this._internalRenderTask.cancel()},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}};return a}(),Z=function(){function a(b,c,d,e,g,f){this.callback=b;this.params=c;this.objs=d;this.commonObjs=e;this.operatorListIdx=null;this.operatorList=g;this.pageNumber=f;this.running=!1;this.graphicsReadyCallback=null;this.cancelled=this.useRequestAnimationFrame=this.graphicsReady=!1;this.capability=h();this.task=new Q(this);this._continueBound=this._continue.bind(this);
this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this)}a.prototype={initalizeGraphics:function(a){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in x&&x.StepperManager.enabled&&(this.stepper=x.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var b=this.params;this.gfx=new ba(b.canvasContext,this.commonObjs,this.objs,b.imageLayer);this.gfx.beginDrawing(b.transform,b.viewport,
a);this.operatorListIdx=0;this.graphicsReady=!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1;this.cancelled=!0;this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0;this.cancelled||(this.task.onContinue?this.task.onContinue.call(this.task,
this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}};
return a}();PDFJS.UnsupportedManager=function(){var a=[];return{listen:function(b){k("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead");a.push(b)},notify:function(b){for(var c=0,d=a.length;c<d;c++)a[c](b)}}}();PDFJS.Metadata=function(){function a(b){return b.replace(/>\\376\\377([^<]+)/g,function(a,b){for(var c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}),d="",e=0;e<c.length;e+=2)var g=256*c.charCodeAt(e)+
c.charCodeAt(e+1),d=d+("&#x"+(65536+g).toString(16).substring(1)+";");return">"+d})}function b(c){"string"===typeof c?(c=a(c),c=(new DOMParser).parseFromString(c,"application/xml")):c instanceof Document||t("Metadata: Invalid metadata object");this.metaDocument=c;this.metadata={};this.parse()}b.prototype={parse:function(){var a=this.metaDocument.documentElement;if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():
null;if(a&&"rdf:rdf"===b&&a.hasChildNodes()){var a=a.childNodes,c,d,e,g,f,h;e=0;for(f=a.length;e<f;e++)if(b=a[e],"rdf:description"===b.nodeName.toLowerCase())for(g=0,h=b.childNodes.length;g<h;g++)"#text"!==b.childNodes[g].nodeName.toLowerCase()&&(c=b.childNodes[g],d=c.nodeName.toLowerCase(),this.metadata[d]=c.textContent.trim())}},get:function(a){return this.metadata[a]||null},has:function(a){return"undefined"!==typeof this.metadata[a]}};return b}();var R=function(){function a(){this.cache=Object.create(null)}
a.prototype={getCanvas:function(a,b,c,d){void 0!==this.cache[a]?(a=this.cache[a],a.canvas.width=b,a.canvas.height=c,a.context.setTransform(1,0,0,1,0,0)):(b=q(b,c),c=b.getContext("2d"),d&&w(c),this.cache[a]=a={canvas:b,context:c});return a},clear:function(){for(var a in this.cache){var b=this.cache[a];b.canvas.width=0;b.canvas.height=0;delete this.cache[a]}}};return a}(),aa=function(){function a(b){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=S;this.textMatrixScale=1;this.fontMatrix=
E;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=this.textRenderingMode=0;this.strokeColor=this.fillColor="#000000";this.patternFill=!1;this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.activeSMask=null;this.old=b}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),ba=function(){function b(a,c,d,e){this.ctx=a;this.current=new aa;this.stateStack=[];this.pendingClip=
null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=c;this.objs=d;this.imageLayer=e;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new R;a&&w(a);this.cachedGetSinglePixelWidth=null}function c(a,b){if("undefined"!==typeof ImageData&&b instanceof ImageData)a.putImageData(b,0,0);else{var d=b.height,e=b.width,g=d%16,d=(d-g)/16,f=0===g?d:d+1,h=a.createImageData(e,
16),k=0,l,q=b.data,m=h.data,p,r,w;if(1===b.kind){var v=q.byteLength,m=PDFJS.hasCanvasTypedArrays?new Uint32Array(m.buffer):new J(m),x=m.length,y=e+7>>3,z=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255;for(p=0;p<f;p++){w=p<d?16:g;for(r=l=0;r<w;r++){for(var u=v-k,A=0,u=u>y?e:8*u-7,E=u&-8,D=0,B=0;A<E;A+=8)B=q[k++],m[l++]=B&128?4294967295:z,m[l++]=B&64?4294967295:z,m[l++]=B&32?4294967295:z,m[l++]=B&16?4294967295:z,m[l++]=B&8?4294967295:z,m[l++]=B&4?4294967295:z,m[l++]=B&2?4294967295:
z,m[l++]=B&1?4294967295:z;for(;A<u;A++)0===D&&(B=q[k++],D=128),m[l++]=B&D?4294967295:z,D>>=1}for(;l<x;)m[l++]=0;a.putImageData(h,0,16*p)}}else if(3===b.kind){r=0;w=64*e;for(p=0;p<d;p++)m.set(q.subarray(k,k+w)),k+=w,a.putImageData(h,0,r),r+=16;p<f&&(m.set(q.subarray(k,k+e*g*4)),a.putImageData(h,0,r))}else if(2===b.kind)for(w=16*e,p=0;p<f;p++){p>=d&&(w=g,w*=e);l=0;for(r=w;r--;)m[l++]=q[k++],m[l++]=q[k++],m[l++]=q[k++],m[l++]=255;a.putImageData(h,0,16*p)}else t("bad image kind: "+b.kind)}}function d(a,
b){for(var c=b.height,e=b.width,g=c%16,c=(c-g)/16,f=0===g?c:c+1,h=a.createImageData(e,16),k=0,l=b.data,q=h.data,m=0;m<f;m++){for(var p=m<c?16:g,r=3,t=0;t<p;t++)for(var w=0,v=0;v<e;v++){if(!w)var x=l[k++],w=128;q[r]=x&w?0:255;r+=4;w>>=1}a.putImageData(h,0,16*m)}}function e(a,b){for(var c="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,g=c.length;d<g;d++){var f=c[d];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash?(b.setLineDash(a.getLineDash()),
b.lineDashOffset=a.lineDashOffset):void 0!==a.mozDashOffset&&(b.mozDash=a.mozDash,b.mozDashOffset=a.mozDashOffset)}function g(a,b,c){for(var d=a.length,e=1/255,f=3;f<d;f+=4)b[f]=b[f]*(c?c[a[f]]:a[f])*e|0}function f(a,b,c){for(var d=a.length,e=3;e<d;e+=4){var g=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[g>>8]>>8:b[e]*g>>16}}var h=["butt","round","square"],k=["miter","round","bevel"],q={},p={};b.prototype={beginDrawing:function(a,b,c){var d=this.ctx.canvas.width,e=this.ctx.canvas.height;this.ctx.save();
this.ctx.fillStyle="rgb(255, 255, 255)";this.ctx.fillRect(0,0,d,e);this.ctx.restore();c&&(c=this.cachedCanvases.getCanvas("transparent",d,e,!0),this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform));this.ctx.save();a&&this.ctx.transform.apply(this.ctx,a);this.ctx.transform.apply(this.ctx,b.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},
executeOperatorList:function(a,b,c,d){var e=a.argsArray;a=a.fnArray;b=b||0;var g=e.length;if(g===b)return b;for(var f=10<g-b&&"function"===typeof c,h=f?Date.now()+15:0,k=0,l=this.commonObjs,q=this.objs,m;;){if(void 0!==d&&b===d.nextBreakPoint)return d.breakIt(b,c),b;m=a[b];if(m!==A.dependency)this[m].apply(this,e[b]);else{m=e[b];for(var p=0,r=m.length;p<r;p++){var t=m[p],w="g"===t[0]&&"_"===t[1]?l:q;if(!w.isResolved(t))return w.get(t,c),b}}b++;if(b===g)return b;if(f&&10<++k){if(Date.now()>h)return c(),
b;k=0}}},endDrawing:function(){this.ctx.restore();this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.drawImage(this.transparentCanvas,0,0),this.transparentCanvas=null);this.cachedCanvases.clear();ia.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=h[a]},setLineJoin:function(a){this.ctx.lineJoin=k[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=
this.ctx;void 0!==c.setLineDash?(c.setLineDash(a),c.lineDashOffset=b):(c.mozDash=a,c.mozDashOffset=b)},setRenderingIntent:function(a){},setFlatness:function(a){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);
break;case "Font":this.setFont(e[0],e[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":e&&e.name&&"Normal"!==e.name?(d=e.name.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).substring(1),this.ctx.globalCompositeOperation=d,this.ctx.globalCompositeOperation!==d&&l('globalCompositeOperation "'+d+'" is not supported')):this.ctx.globalCompositeOperation="source-over";break;case "SMask":this.current.activeSMask&&
this.endSMaskGroup(),this.current.activeSMask=e?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),c=this.ctx,d=c.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,d);e(c,b);this.ctx=b;this.setGState([["BM","Normal"],["ca",
1],["CA",1]]);this.groupStack.push(c);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;var b=this.ctx=this.groupStack.pop(),c=this.current.activeSMask,d=c.canvas,h=c.context;b.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var k=c.backdrop||null;if(!c.transferMap&&ia.isEnabled)d=ia.composeSMask(a.canvas,d,{subtype:c.subtype,backdrop:k}),b.setTransform(1,0,0,1,0,0),b.drawImage(d,c.offsetX,c.offsetY);else{for(var l=d.width,q=d.height,m=c.transferMap,p=!!k,r=p?k[0]:
0,t=p?k[1]:0,k=p?k[2]:0,c="Luminosity"===c.subtype?f:g,w=Math.min(q,Math.ceil(1048576/l)),v=0;v<q;v+=w){var x=Math.min(w,q-v),y=h.getImageData(0,v,l,x),x=a.getImageData(0,v,l,x);if(p)for(var z=y.data,u=r,A=t,E=k,D=z.length,B=3;B<D;B+=4){var F=z[B];if(0===F)z[B-3]=u,z[B-2]=A,z[B-1]=E;else if(255>F){var L=255-F;z[B-3]=z[B-3]*F+u*L>>8;z[B-2]=z[B-2]*F+A*L>>8;z[B-1]=z[B-1]*F+E*L>>8}}c(y.data,x.data,m);h.putImageData(x,0,v)}b.drawImage(d,0,0)}this.ctx.restore();e(a,this.ctx)},save:function(){this.ctx.save();
var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.activeSMask=null},restore:function(){0!==this.stateStack.length&&(null!==this.current.activeSMask&&this.endSMaskGroup(),this.current=this.stateStack.pop(),this.ctx.restore(),this.cachedGetSinglePixelWidth=this.pendingClip=null)},transform:function(a,b,c,d,e,g){this.ctx.transform(a,b,c,d,e,g);this.cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,d=this.current,e=d.x,g=d.y,f=0,h=0,k=a.length;f<
k;f++)switch(a[f]|0){case A.rectangle:var e=b[h++],g=b[h++],l=b[h++],q=b[h++];0===l&&(l=this.getSinglePixelWidth());0===q&&(q=this.getSinglePixelWidth());l=e+l;q=g+q;this.ctx.moveTo(e,g);this.ctx.lineTo(l,g);this.ctx.lineTo(l,q);this.ctx.lineTo(e,q);this.ctx.lineTo(e,g);this.ctx.closePath();break;case A.moveTo:e=b[h++];g=b[h++];c.moveTo(e,g);break;case A.lineTo:e=b[h++];g=b[h++];c.lineTo(e,g);break;case A.curveTo:e=b[h+4];g=b[h+5];c.bezierCurveTo(b[h],b[h+1],b[h+2],b[h+3],e,g);h+=6;break;case A.curveTo2:c.bezierCurveTo(e,
g,b[h],b[h+1],b[h+2],b[h+3]);e=b[h+2];g=b[h+3];h+=4;break;case A.curveTo3:e=b[h+2];g=b[h+3];c.bezierCurveTo(b[h],b[h+1],e,g,e,g);h+=4;break;case A.closePath:c.closePath()}d.setCurrentPoint(e,g)},closePath:function(){this.ctx.closePath()},stroke:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,c=this.current.strokeColor;b.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth);b.globalAlpha=this.current.strokeAlpha;c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),
b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,c=this.current.fillColor,d=!1;this.current.patternFill&&(b.save(),b.fillStyle=c.getPattern(b,this),d=!0);this.pendingEOFill?(void 0!==b.mozFillRule?(b.mozFillRule="evenodd",b.fill(),b.mozFillRule="nonzero"):b.fill("evenodd"),this.pendingEOFill=!1):b.fill();
d&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=q},eoClip:function(){this.pendingClip=p},beginText:function(){this.current.textMatrix=
S;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)b.beginPath();else{b.save();b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform);b.translate(d.x,d.y);d.addToPath(b,d.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=
a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),d=this.current;c||t("Can't find font for "+a);d.fontMatrix=c.fontMatrix?c.fontMatrix:E;0!==d.fontMatrix[0]&&0!==d.fontMatrix[3]||l("Invalid font matrix for font "+a);0>b?(b=-b,d.fontDirection=-1):d.fontDirection=1;this.current.font=c;this.current.fontSize=b;if(!c.isType3Font){var d=c.black?c.bold?"900":"bold":c.bold?"bold":"normal",e=c.italic?"italic":
"normal",c='"'+(c.loadedName||"sans-serif")+'", '+c.fallbackName,g=16>b?16:100<b?100:b;this.current.fontSizeScale=b/g;this.ctx.font=e+" "+d+" "+g+"px "+c}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,g){this.current.textMatrix=
[a,b,c,d,e,g];this.current.textMatrixScale=Math.sqrt(a*a+b*b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c){var d=this.ctx,e=this.current,g=e.font,f=e.textRenderingMode,e=e.fontSize/e.fontSizeScale,h=f&3,f=!!(f&4),k;if(g.disableFontFace||f)k=g.getPathGenerator(this.commonObjs,a);g.disableFontFace?(d.save(),d.translate(b,c),d.beginPath(),k(d,e),0!==h&&2!==h||d.fill(),1!==h&&2!==h||d.stroke(),
d.restore()):(0!==h&&2!==h||d.fillText(a,b,c),1!==h&&2!==h||d.strokeText(a,b,c));f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:b,y:c,fontSize:e,addToPath:k})},get isFontSubpixelAAEnabled(){var a=document.createElement("canvas").getContext("2d");a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,b=!1,c=3;c<a.length;c+=4)if(0<a[c]&&255>a[c]){b=!0;break}return u(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.current,
c=b.font;if(c.isType3Font)return this.showType3Text(a);var d=b.fontSize;if(0!==d){var e=this.ctx,g=b.fontSizeScale,f=b.charSpacing,h=b.wordSpacing,k=b.fontDirection,l=b.textHScale*k,q=a.length,m=c.vertical,p=m?1:-1,r=c.defaultVMetrics,t=d*b.fontMatrix[0],w=0===b.textRenderingMode&&!c.disableFontFace;e.save();e.transform.apply(e,b.textMatrix);e.translate(b.x,b.y+b.textRise);0<k?e.scale(l,-1):e.scale(l,1);var v=b.lineWidth,x=b.textMatrixScale;if(0===x||0===v){if(x=b.textRenderingMode&3,1===x||2===x)this.cachedGetSinglePixelWidth=
null,v=.65*this.getSinglePixelWidth()}else v/=x;1!==g&&(e.scale(g,g),v/=g);e.lineWidth=v;for(x=v=0;x<q;++x){var y=a[x];if("number"===typeof y)v+=p*y*d/1E3;else{var z=!1,u=(y.isSpace?h:0)+f,A=y.fontChar,E=y.accent,D,B=y.width;if(m){var F;D=y.vmetric||r;F=y.vmetric?D[1]:.5*B;F=-F*t;y=D[2]*t;B=D?-D[0]:B;D=F/g;y=(v+y)/g}else D=v/g,y=0;c.remeasure&&0<B&&(F=1E3*e.measureText(A).width/d*g,B<F&&this.isFontSubpixelAAEnabled?(F=B/F,z=!0,e.save(),e.scale(F,1),D/=F):B!==F&&(D+=(B-F)/2E3*d/g));w&&!E?e.fillText(A,
D,y):(this.paintChar(A,D,y),E&&(A=D+E.offset.x/g,D=y-E.offset.y/g,this.paintChar(E.fontChar,A,D)));v+=B*t+u*k;z&&e.restore()}}m?b.y-=v*l:b.x+=v*l;e.restore()}},showType3Text:function(a){var b=this.ctx,c=this.current,d=c.font,e=c.fontSize,g=c.fontDirection,f=d.vertical?1:-1,h=c.charSpacing,k=c.wordSpacing,q=c.textHScale*g,m=c.fontMatrix||E,p=a.length,r;if(3!==c.textRenderingMode&&0!==e){this.cachedGetSinglePixelWidth=null;b.save();b.transform.apply(b,c.textMatrix);b.translate(c.x,c.y);b.scale(q,g);
for(g=0;g<p;++g)if(r=a[g],"number"===typeof r)r=f*r*e/1E3,this.ctx.translate(r,0),c.x+=r*q;else{var t=(r.isSpace?k:0)+h,w=d.charProcOperatorList[r.operatorListId];w?(this.processingType3=r,this.save(),b.scale(e,e),b.transform.apply(b,m),this.executeOperatorList(w),this.restore(),r=P.applyTransform([r.width,0],m)[0]*e+t,b.translate(r,0),c.x+=r*q):l('Type3 character "'+r.operatorListId+'" is not available')}b.restore();this.processingType3=null}},setCharWidth:function(a,b){},setCharWidthAndBounds:function(a,
b,c,d,e,g){this.ctx.rect(c,d,e-c,g-d);this.clip();this.endPath()},getColorN_Pattern:function(a){if("TilingPattern"===a[0]){var b=a[1],c=this.baseTransform||this.ctx.mozCurrentTransform.slice();a=new da(a,b,this.ctx,this.objs,this.commonObjs,c)}else a=y(a);return a},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){a=P.makeCssRgb(a,
b,c);this.ctx.strokeStyle=a;this.current.strokeColor=a},setFillRGBColor:function(a,b,c){a=P.makeCssRgb(a,b,c);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();a=y(a);b.fillStyle=a.getPattern(b,this,!0);var c=b.mozCurrentTransformInverse;if(c){var b=b.canvas,d=b.width,e=b.height,b=P.applyTransform([0,0],c);a=P.applyTransform([0,e],c);var g=P.applyTransform([d,0],c),f=P.applyTransform([d,e],c),c=Math.min(b[0],a[0],g[0],f[0]),
d=Math.min(b[1],a[1],g[1],f[1]),e=Math.max(b[0],a[0],g[0],f[0]),b=Math.max(b[1],a[1],g[1],f[1]);this.ctx.fillRect(c,d,e-c,b-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){t("Should not call beginInlineImage")},beginImageData:function(){t("Should not call beginImageData")},paintFormXObjectBegin:function(b,c){this.save();this.baseTransformStack.push(this.baseTransform);a(b)&&6===b.length&&this.transform.apply(this,b);this.baseTransform=this.ctx.mozCurrentTransform;
a(c)&&4===c.length&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||m("TODO: Support non-isolated groups.");a.knockout&&l("Knockout groups not supported.");var c=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);a.bbox||t("Bounding box is required.");var d=P.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),
d=P.intersect(d,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0],g=Math.floor(d[0]),f=Math.floor(d[1]),h=Math.max(Math.ceil(d[2])-g,1),k=Math.max(Math.ceil(d[3])-f,1),q=d=1;4096<h&&(d=h/4096,h=4096);4096<k&&(q=k/4096,k=4096);var p="groupAt"+this.groupLevel;a.smask&&(p+="_smask_"+this.smaskCounter++%2);h=this.cachedCanvases.getCanvas(p,h,k,!0);k=h.context;k.scale(1/d,1/q);k.translate(-g,-f);k.transform.apply(k,c);a.smask?this.smaskStack.push({canvas:h.canvas,context:k,offsetX:g,offsetY:f,scaleX:d,
scaleY:q,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null}):(b.setTransform(1,0,0,1,0,0),b.translate(g,f),b.scale(d,q));e(b,k);this.ctx=k;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():
this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.current=new aa},endAnnotations:function(){this.restore()},beginAnnotation:function(b,c,d){this.save();a(b)&&4===b.length&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath());this.transform.apply(this,c);this.transform.apply(this,d)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(d){this.save();var e=this.ctx;e.scale(1/b,-1/c);e.drawImage(d,
0,0,d.width,d.height,0,-c,b,c);this.imageLayer&&(d=e.mozCurrentTransformInverse,e=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:e[0],top:e[1],width:b/d[0],height:c/d[3]}));this.restore()}else l("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,c=a.width,e=a.height,g=this.current.fillColor,f=this.current.patternFill,h=this.processingType3;h&&void 0===h.compiled&&(h.compiled=1E3>=c&&1E3>=e?z({data:a.data,width:c,height:e}):null);h&&h.compiled?
h.compiled(b):(b=this.cachedCanvases.getCanvas("maskCanvas",c,e),h=b.context,h.save(),d(h,a),h.globalCompositeOperation="source-in",h.fillStyle=f?g.getPattern(h,this):g,h.fillRect(0,0,c,e),h.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,c,e){var g=a.width,f=a.height,h=this.current.fillColor,k=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",g,f),q=l.context;q.save();d(q,a);q.globalCompositeOperation="source-in";q.fillStyle=k?h.getPattern(q,
this):h;q.fillRect(0,0,g,f);q.restore();a=this.ctx;h=0;for(k=e.length;h<k;h+=2)a.save(),a.transform(b,0,0,c,e[h],e[h+1]),a.scale(1,-1),a.drawImage(l.canvas,0,0,g,f,0,-1,1,1),a.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,c=this.current.fillColor,e=this.current.patternFill,g=0,f=a.length;g<f;g++){var h=a[g],k=h.width,l=h.height,q=this.cachedCanvases.getCanvas("maskCanvas",k,l),m=q.context;m.save();d(m,h);m.globalCompositeOperation="source-in";m.fillStyle=e?c.getPattern(m,this):
c;m.fillRect(0,0,k,l);m.restore();b.save();b.transform.apply(b,h.transform);b.scale(1,-1);b.drawImage(q.canvas,0,0,k,l,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):l("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){if(a=this.objs.get(a)){for(var e=a.width,g=a.height,f=[],h=0,k=d.length;h<k;h+=2)f.push({transform:[b,0,0,c,d[h],d[h+1]],x:0,y:0,w:e,h:g});this.paintInlineImageXObjectGroup(a,f)}else l("Dependent image isn't ready yet")},
paintInlineImageXObject:function(a){var b=a.width,d=a.height,e=this.ctx;this.save();e.scale(1/b,-1/d);var g=e.mozCurrentTransformInverse,f=g[0],h=g[1],f=Math.max(Math.sqrt(f*f+h*h),1),h=g[2],k=g[3],h=Math.max(Math.sqrt(h*h+k*k),1),l;if(a instanceof HTMLElement||!a.data)k=a;else{l=this.cachedCanvases.getCanvas("inlineImage",b,d);var q=l.context;c(q,a);k=l.canvas}for(var m=b,p=d,r="prescale1";2<f&&1<m||2<h&&1<p;){var t=m,w=p;2<f&&1<m&&(t=Math.ceil(m/2),f/=m/t);2<h&&1<p&&(w=Math.ceil(p/2),h/=p/w);l=
this.cachedCanvases.getCanvas(r,t,w);q=l.context;q.clearRect(0,0,t,w);q.drawImage(k,0,0,m,p,0,0,t,w);k=l.canvas;m=t;p=w;r="prescale1"===r?"prescale2":"prescale1"}e.drawImage(k,0,0,m,p,0,-d,b,d);this.imageLayer&&(e=this.getCanvasPosition(0,-d),this.imageLayer.appendImage({imgData:a,left:e[0],top:e[1],width:b/g[0],height:d/g[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,b){var d=this.ctx,e=a.width,g=a.height,f=this.cachedCanvases.getCanvas("inlineImage",e,g);c(f.context,a);for(var h=
0,k=b.length;h<k;h++){var l=b[h];d.save();d.transform.apply(d,l.transform);d.scale(1,-1);d.drawImage(f.canvas,l.x,l.y,l.w,l.h,0,-1,1,1);this.imageLayer&&(l=this.getCanvasPosition(l.x,l.y),this.imageLayer.appendImage({imgData:a,left:l[0],top:l[1],width:e,height:g}));d.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){l("Unsupported 'paintXObject' command.")},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,
b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===p?void 0!==a.mozFillRule?(a.mozFillRule="evenodd",a.clip(),a.mozFillRule="nonzero"):a.clip("evenodd"):a.clip(),this.pendingClip=null);a.beginPath()},getSinglePixelWidth:function(a){null===this.cachedGetSinglePixelWidth&&(a=this.ctx.mozCurrentTransformInverse,this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*
a[3])));return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var r in A)b.prototype[A[r]]=b.prototype[r];return b}(),ia=function(){function a(b,c,d){d=b.createShader(d);b.shaderSource(d,c);b.compileShader(d);if(!b.getShaderParameter(d,b.COMPILE_STATUS))throw b=b.getShaderInfoLog(d),Error("Error during shader compilation: "+b);return d}function b(a,c){for(var d=a.createProgram(),e=0,g=c.length;e<
g;++e)a.attachShader(d,c[e]);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))throw d=a.getProgramInfoLog(d),Error("Error during program linking: "+d);return d}function c(a,b,d){a.activeTexture(d);d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);
a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return d}function d(){e||(g=document.createElement("canvas"),e=g.getContext("webgl",{premultipliedalpha:!1}))}var e,g,f=null,h=null;return{get isEnabled(){if(PDFJS.disableWebGL)return!1;var a=!1;try{d(),a=!!e}catch(b){}return u(this,"isEnabled",a)},composeSMask:function(h,k,l){var q=h.width,m=h.height;if(!f){var p,r;d();p=g;g=null;r=e;e=null;var t=a(r,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
r.VERTEX_SHADER),w=a(r,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
r.FRAGMENT_SHADER),v=b(r,[t,w]);r.useProgram(v);t={};t.gl=r;t.canvas=p;t.resolutionLocation=r.getUniformLocation(v,"u_resolution");t.positionLocation=r.getAttribLocation(v,"a_position");t.backdropLocation=r.getUniformLocation(v,"u_backdrop");t.subtypeLocation=r.getUniformLocation(v,"u_subtype");p=r.getAttribLocation(v,"a_texCoord");var w=r.getUniformLocation(v,"u_image"),v=r.getUniformLocation(v,"u_mask"),x=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,x);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW);r.enableVertexAttribArray(p);r.vertexAttribPointer(p,2,r.FLOAT,!1,0,0);r.uniform1i(w,0);r.uniform1i(v,1);f=t}r=f;t=r.canvas;p=r.gl;t.width=q;t.height=m;p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);p.uniform2f(r.resolutionLocation,q,m);l.backdrop?p.uniform4f(r.resolutionLocation,l.backdrop[0],l.backdrop[1],l.backdrop[2],1):p.uniform4f(r.resolutionLocation,0,0,0,0);p.uniform1i(r.subtypeLocation,"Luminosity"===l.subtype?1:0);h=c(p,h,p.TEXTURE0);k=
c(p,k,p.TEXTURE1);l=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,l);p.bufferData(p.ARRAY_BUFFER,new Float32Array([0,0,q,0,0,m,0,m,q,0,q,m]),p.STATIC_DRAW);p.enableVertexAttribArray(r.positionLocation);p.vertexAttribPointer(r.positionLocation,2,p.FLOAT,!1,0,0);p.clearColor(0,0,0,0);p.enable(p.BLEND);p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA);p.clear(p.COLOR_BUFFER_BIT);p.drawArrays(p.TRIANGLES,0,6);p.flush();p.deleteTexture(h);p.deleteTexture(k);p.deleteBuffer(l);return t},drawFigures:function(c,f,k,
l,q){if(!h){var m,p;d();m=g;g=null;p=e;e=null;var r=a(p,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
p.VERTEX_SHADER),t=a(p,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",p.FRAGMENT_SHADER),r=b(p,[r,
t]);p.useProgram(r);t={};t.gl=p;t.canvas=m;t.resolutionLocation=p.getUniformLocation(r,"u_resolution");t.scaleLocation=p.getUniformLocation(r,"u_scale");t.offsetLocation=p.getUniformLocation(r,"u_offset");t.positionLocation=p.getAttribLocation(r,"a_position");t.colorLocation=p.getAttribLocation(r,"a_color");h=t}m=h;p=m.canvas;r=m.gl;p.width=c;p.height=f;r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight);r.uniform2f(m.resolutionLocation,c,f);c=0;var w,v,x;w=0;for(v=l.length;w<v;w++)switch(l[w].type){case "lattice":x=
l[w].coords.length/l[w].verticesPerRow|0;c+=(x-1)*(l[w].verticesPerRow-1)*6;break;case "triangles":c+=l[w].coords.length}t=new Float32Array(2*c);f=new Uint8Array(3*c);var y=q.coords,z=q.colors,u=0,A=0;w=0;for(v=l.length;w<v;w++){x=l[w];var E=x.coords,D=x.colors;switch(x.type){case "lattice":var B=x.verticesPerRow;x=E.length/B|0;for(var F=1;F<x;F++)for(var L=F*B+1,C=1;C<B;C++,L++)t[u]=y[E[L-B-1]],t[u+1]=y[E[L-B-1]+1],t[u+2]=y[E[L-B]],t[u+3]=y[E[L-B]+1],t[u+4]=y[E[L-1]],t[u+5]=y[E[L-1]+1],f[A]=z[D[L-
B-1]],f[A+1]=z[D[L-B-1]+1],f[A+2]=z[D[L-B-1]+2],f[A+3]=z[D[L-B]],f[A+4]=z[D[L-B]+1],f[A+5]=z[D[L-B]+2],f[A+6]=z[D[L-1]],f[A+7]=z[D[L-1]+1],f[A+8]=z[D[L-1]+2],t[u+6]=t[u+2],t[u+7]=t[u+3],t[u+8]=t[u+4],t[u+9]=t[u+5],t[u+10]=y[E[L]],t[u+11]=y[E[L]+1],f[A+9]=f[A+3],f[A+10]=f[A+4],f[A+11]=f[A+5],f[A+12]=f[A+6],f[A+13]=f[A+7],f[A+14]=f[A+8],f[A+15]=z[D[L]],f[A+16]=z[D[L]+1],f[A+17]=z[D[L]+2],u+=12,A+=18;break;case "triangles":for(x=0,B=E.length;x<B;x++)t[u]=y[E[x]],t[u+1]=y[E[x]+1],f[A]=z[D[x]],f[A+1]=
z[D[x]+1],f[A+2]=z[D[x]+2],u+=2,A+=3}}k?r.clearColor(k[0]/255,k[1]/255,k[2]/255,1):r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT);k=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,k);r.bufferData(r.ARRAY_BUFFER,t,r.STATIC_DRAW);r.enableVertexAttribArray(m.positionLocation);r.vertexAttribPointer(m.positionLocation,2,r.FLOAT,!1,0,0);l=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,l);r.bufferData(r.ARRAY_BUFFER,f,r.STATIC_DRAW);r.enableVertexAttribArray(m.colorLocation);r.vertexAttribPointer(m.colorLocation,
3,r.UNSIGNED_BYTE,!1,0,0);r.uniform2f(m.scaleLocation,q.scaleX,q.scaleY);r.uniform2f(m.offsetLocation,q.offsetX,q.offsetY);r.drawArrays(r.TRIANGLES,0,c);r.flush();r.deleteBuffer(k);r.deleteBuffer(l);return p},clear:function(){f&&f.canvas&&(f.canvas.width=0,f.canvas.height=0);h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0);h=f=null}}}(),fa={RadialAxial:{fromIR:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],g=a[5],f=a[6];return{type:"Pattern",getPattern:function(a){var h;"axial"===b?h=a.createLinearGradient(d[0],
d[1],e[0],e[1]):"radial"===b&&(h=a.createRadialGradient(d[0],d[1],g,e[0],e[1],f));a=0;for(var k=c.length;a<k;++a){var l=c[a];h.addColorStop(l[0],l[1])}return h}}}}},M=function(){function a(b,c,d,e,g,f,h,k){var l=c.coords,q=c.colors,m=b.data;b=4*b.width;var p;l[d+1]>l[e+1]&&(p=d,d=e,e=p,p=f,f=h,h=p);l[e+1]>l[g+1]&&(p=e,e=g,g=p,p=h,h=k,k=p);l[d+1]>l[e+1]&&(p=d,d=e,e=p,p=f,f=h,h=p);p=(l[d]+c.offsetX)*c.scaleX;d=(l[d+1]+c.offsetY)*c.scaleY;var r=(l[e]+c.offsetX)*c.scaleX;e=(l[e+1]+c.offsetY)*c.scaleY;
var t=(l[g]+c.offsetX)*c.scaleX;c=(l[g+1]+c.offsetY)*c.scaleY;if(!(d>=c)){g=q[f];l=q[f+1];f=q[f+2];var w=q[h],v=q[h+1];h=q[h+2];var x=q[k],y=q[k+1];k=q[k+2];for(var z=Math.round(d),q=Math.round(c),u,A,E,D,B,F,L,C,J=z;J<=q;J++){J<e?(C=J<d?0:d===e?1:(d-J)/(d-e),z=p-(p-r)*C,u=g-(g-w)*C,A=l-(l-v)*C,E=f-(f-h)*C):(C=J>c?1:e===c?0:(e-J)/(e-c),z=r-(r-t)*C,u=w-(w-x)*C,A=v-(v-y)*C,E=h-(h-k)*C);C=J<d?0:J>c?1:(d-J)/(d-c);D=p-(p-t)*C;B=g-(g-x)*C;F=l-(l-y)*C;L=f-(f-k)*C;C=Math.round(Math.min(z,D));for(var N=Math.round(Math.max(z,
D)),K=b*J+4*C,G=C;G<=N;G++)C=(z-G)/(z-D),C=0>C?0:1<C?1:C,m[K++]=u-(u-B)*C|0,m[K++]=A-(A-F)*C|0,m[K++]=E-(E-L)*C|0,m[K++]=255}}}return function(b,c,d,e,g,f,h){var k=Math.floor(b[0]),l=Math.floor(b[1]),q=Math.ceil(b[2])-k;b=Math.ceil(b[3])-l;var m=Math.min(Math.ceil(Math.abs(q*c[0]*1.1)),3E3);c=Math.min(Math.ceil(Math.abs(b*c[1]*1.1)),3E3);q/=m;b/=c;d={coords:d,colors:e,offsetX:-k,offsetY:-l,scaleX:1/q,scaleY:1/b};var p;if(ia.isEnabled)g=ia.drawFigures(m,c,f,g,d),h=h.getCanvas("mesh",m,c,!1),h.context.drawImage(g,
0,0);else{h=h.getCanvas("mesh",m,c,!1);e=h.context;c=e.createImageData(m,c);if(f){var r=c.data,m=0;for(p=r.length;m<p;m+=4)r[m]=f[0],r[m+1]=f[1],r[m+2]=f[2],r[m+3]=255}for(m=0;m<g.length;m++){f=c;var w=g[m];p=d;var r=w.coords,v=w.colors,x=void 0,y=void 0;switch(w.type){case "lattice":for(var w=w.verticesPerRow,y=Math.floor(r.length/w)-1,z=w-1,x=0;x<y;x++)for(var u=x*w,A=0;A<z;A++,u++)a(f,p,r[u],r[u+1],r[u+w],v[u],v[u+1],v[u+w]),a(f,p,r[u+w+1],r[u+1],r[u+w],v[u+w+1],v[u+1],v[u+w]);break;case "triangles":x=
0;for(y=r.length;x<y;x+=3)a(f,p,r[x],r[x+1],r[x+2],v[x],v[x+1],v[x+2]);break;default:t("illigal figure")}}e.putImageData(c,0,0)}g=h.canvas;return{canvas:g,offsetX:k,offsetY:l,scaleX:q,scaleY:b}}}();fa.Mesh={fromIR:function(a){var b=a[2],c=a[3],d=a[4],e=a[5],g=a[6],f=a[8];return{type:"Pattern",getPattern:function(a,h,k){var l;if(k)l=P.singularValueDecompose2dScale(a.mozCurrentTransform);else if(l=P.singularValueDecompose2dScale(h.baseTransform),g){var q=P.singularValueDecompose2dScale(g);l=[l[0]*q[0],
l[1]*q[1]]}l=M(e,l,b,c,d,k?null:f,h.cachedCanvases);k||(a.setTransform.apply(a,h.baseTransform),g&&a.transform.apply(a,g));a.translate(l.offsetX,l.offsetY);a.scale(l.scaleX,l.scaleY);return a.createPattern(l.canvas,"no-repeat")}}}};fa.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var da=function(){function b(a,c,d,e,g,f){this.operatorList=a[2];this.matrix=a[3]||[1,0,0,1,0,0];this.bbox=a[4];this.xstep=a[5];this.ystep=a[6];this.paintType=a[7];this.tilingType=
a[8];this.color=c;this.objs=e;this.commonObjs=g;this.baseTransform=f;this.type="Pattern";this.ctx=d}b.prototype={createPatternCanvas:function(a){var b=this.operatorList,c=this.bbox,d=this.xstep,e=this.ystep,g=this.paintType,f=this.color,h=this.objs,k=this.commonObjs;m("TilingType: "+this.tilingType);var l=c[0],q=c[1],p=c[2],r=c[3],t=[l,q],w=[l+d,q+e],v=w[0]-t[0],w=w[1]-t[1],x=P.singularValueDecompose2dScale(this.matrix),y=P.singularValueDecompose2dScale(this.baseTransform),x=[x[0]*y[0],x[1]*y[1]],
v=Math.min(Math.ceil(Math.abs(v*x[0])),3E3),w=Math.min(Math.ceil(Math.abs(w*x[1])),3E3),x=a.cachedCanvases.getCanvas("pattern",v,w,!0),y=x.context,h=new ba(y,k,h);h.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(y,g,f);this.setScale(v,w,d,e);this.transformToScale(h);h.transform.apply(h,[1,0,0,1,-t[0],-t[1]]);this.clipBbox(h,c,l,q,p,r);h.executeOperatorList(b);return x.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale;a.transform.apply(a,
[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(b,c,d,e,g,f){c&&a(c)&&4===c.length&&(b.ctx.rect(d,e,g-d,f-e),b.clip(),b.endPath())},setFillAndStrokeStyleToContext:function(a,b,c){switch(b){case 1:b=this.ctx;a.fillStyle=b.fillStyle;a.strokeStyle=b.strokeStyle;break;case 2:b=P.makeCssRgb(c[0],c[1],c[2]);a.fillStyle=b;a.strokeStyle=b;break;default:t("Unsupported paint type: "+b)}},getPattern:function(a,b){var c=this.createPatternCanvas(b);
a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(c,"repeat")}};return b}();PDFJS.disableFontFace=!1;v.prototype={insertRule:function(a){var b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(b));b=b.sheet;b.insertRule(a,b.cssRules.length)},clear:function(){var a=this.styleElement;a&&
a.parentNode.removeChild(a);this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)});this.nativeFontFaces.length=0},get loadTestFont(){return u(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
addNativeFontFace:function(a){this.nativeFontFaces.push(a);document.fonts.add(a)},bind:function(a,b){!L||t("bind() shall be called from main thread");for(var c=[],d=[],e=[],g=function(a){return a.loaded.catch(function(b){l('Failed to load font "'+a.family+'": '+b)})},f=0,h=a.length;f<h;f++){var k=a[f];if(!k.attached&&!1!==k.loading)if(k.attached=!0,v.isFontLoadingAPISupported){if(k=k.createNativeFontFace())this.addNativeFontFace(k),e.push(g(k))}else{var q=k.createFontFaceRule();q&&(this.insertRule(q),
c.push(q),d.push(k))}}var m=this.queueLoadingCallback(b);v.isFontLoadingAPISupported?Promise.all(e).then(function(){m.complete()}):0<c.length&&!v.isSyncFontLoadingSupported?this.prepareFontLoadEvent(c,d,m):m.complete()},queueLoadingCallback:function(a){var b=this.loadingContext,c={id:"pdfjs-font-loading-"+b.nextRequestId++,complete:function(){!c.end||t("completeRequest() cannot be called twice");for(c.end=Date.now();0<b.requests.length&&b.requests[0].end;){var a=b.requests.shift();setTimeout(a.callback,
0)}},callback:a,started:Date.now()};b.requests.push(c);return c},prepareFontLoadEvent:function(a,b,c){function d(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function e(a,b,c,d){var g=a.substr(0,b);a=a.substr(b+c);return g+d+a}function g(a,b){q++;30<q?(l("Load test font never loaded."),b()):(k.font="30px "+a,k.fillText(".",0,20),0<k.getImageData(0,0,1,1).data[3]?b():setTimeout(g.bind(null,a,b)))}var f,h;a=document.createElement("canvas");a.width=
1;a.height=1;var k=a.getContext("2d"),q=0;a="lt"+Date.now()+this.loadTestFontId++;var m=this.loadTestFont,m=e(m,976,a.length,a),p=d(m,16);f=0;for(h=a.length-3;f<h;f+=4)p=p-1482184792+d(a,f)|0;f<a.length&&(p=p-1482184792+d(a+"XXX",f)|0);m=e(m,16,4,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,p&255));f="url(data:font/opentype;base64,"+btoa(m)+");";this.insertRule('@font-face { font-family:"'+a+'";src:'+f+"}");m=[];f=0;for(h=b.length;f<h;f++)m.push(b[f].loadedName);m.push(a);var r=document.createElement("div");
r.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");f=0;for(h=m.length;f<h;++f)b=document.createElement("span"),b.textContent="Hi",b.style.fontFamily=m[f],r.appendChild(b);document.body.appendChild(r);g(a,function(){document.body.removeChild(r);c.complete()})}};v.isFontLoadingAPISupported=!L&&"undefined"!==typeof document&&!!document.fonts;Object.defineProperty(v,"isSyncFontLoadingSupported",{get:function(){var a=!1,b=window.navigator.userAgent,
c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(b);c&&14<=c[1]&&(a=!0);"node"===b&&(a=!0);return u(v,"isSyncFontLoadingSupported",a)},enumerable:!0,configurable:!0});var ma=function(){function a(b){this.compiledGlyphs={};for(var c in b)this[c]=b[c]}Object.defineProperty(a,"isEvalSupported",{get:function(){var a=!1;if(PDFJS.isEvalSupported)try{new Function(""),a=!0}catch(b){}return u(this,"isEvalSupported",a)},enumerable:!0,configurable:!0});a.prototype={createNativeFontFace:function(){if(!this.data)return null;
if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var a=new FontFace(this.loadedName,this.data,{});PDFJS.pdfBug&&"FontInspector"in x&&x.FontInspector.enabled&&x.FontInspector.fontAdded(this);return a},createFontFaceRule:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var a,b=new Uint8Array(this.data);null!==b&&"object"===typeof b&&void 0!==b.length||t("Invalid argument for bytesToString");a=b.length;if(8192>a)a=String.fromCharCode.apply(null,
b);else{for(var c=[],d=0;d<a;d+=8192){var e=Math.min(d+8192,a),e=b.subarray(d,e);c.push(String.fromCharCode.apply(null,e))}a=c.join("")}b=this.loadedName;a="url(data:"+this.mimetype+";base64,"+window.btoa(a)+");";b='@font-face { font-family:"'+b+'";src:'+a+"}";PDFJS.pdfBug&&"FontInspector"in x&&x.FontInspector.enabled&&x.FontInspector.fontAdded(this,a);return b},getPathGenerator:function(b,c){if(!(c in this.compiledGlyphs)){var d=b.get(this.loadedName+"_path_"+c),e,g,f;if(a.isEvalSupported){var h,
k="";g=0;for(f=d.length;g<f;g++)e=d[g],h=void 0!==e.args?e.args.join(","):"",k+="c."+e.cmd+"("+h+");\n";this.compiledGlyphs[c]=new Function("c","size",k)}else this.compiledGlyphs[c]=function(a,b){g=0;for(f=d.length;g<f;g++)e=d[g],"scale"===e.cmd&&(e.args=[b,-b]),a[e.cmd].apply(a,e.args)}}return this.compiledGlyphs[c]}};return a}(),oa=function(){function a(){}var b=["ms","Moz","Webkit","O"],c={};a.getProp=function(a,d){if(1===arguments.length&&"string"===typeof c[a])return c[a];d=d||document.documentElement;
var e=d.style,g,f;if("string"===typeof e[a])return c[a]=a;f=a.charAt(0).toUpperCase()+a.slice(1);for(var h=0,k=b.length;h<k;h++)if(g=b[h]+f,"string"===typeof e[g])return c[a]=g;return c[a]="undefined"};a.setProp=function(a,b,c){a=this.getProp(a);"undefined"!==a&&(b.style[a]=c)};return a}();PDFJS.CustomStyle=oa;var na=function(){function a(b){var c=document.createElement("section"),d=c.style,e=b.rect[2]-b.rect[0],g=b.rect[3]-b.rect[1];if(0<b.borderStyle.width){c.style.borderWidth=b.borderStyle.width+
"px";5!==b.borderStyle.style&&(e-=2*b.borderStyle.width,g-=2*b.borderStyle.width);var f=b.borderStyle.horizontalCornerRadius,h=b.borderStyle.verticalCornerRadius;(0<f||0<h)&&oa.setProp("borderRadius",c,f+"px / "+h+"px");switch(b.borderStyle.style){case 1:c.style.borderStyle="solid";break;case 2:c.style.borderStyle="dashed";break;case 3:l("Unimplemented border style: beveled");break;case 4:l("Unimplemented border style: inset");break;case 5:c.style.borderBottomStyle="solid"}b.color?c.style.borderColor=
P.makeCssRgb(b.color[0]|0,b.color[1]|0,b.color[2]|0):c.style.borderWidth=0}d.width=e+"px";d.height=g+"px";return c}function b(c){var d=c.rect;10>d[3]-d[1]&&(d[3]=d[1]+10);10>d[2]-d[0]&&(d[2]=d[0]+(d[3]-d[1]));var e=a(c);e.className="annotText";var g=document.createElement("img");g.style.height=e.style.height;g.style.width=e.style.width;var f=c.name;g.src=PDFJS.imageResourcesPath+"annotation-"+f.toLowerCase()+".svg";g.alt="[{{type}} Annotation]";g.dataset.l10nId="text_annotation_type";g.dataset.l10nArgs=
JSON.stringify({type:f});f=document.createElement("div");f.className="annotTextContentWrapper";f.style.left=Math.floor(d[2]-d[0]+5)+"px";f.style.top="-10px";var h=document.createElement("div");h.className="annotTextContent";h.setAttribute("hidden",!0);var k;c.hasBgColor&&c.color&&(d=c.color,h.style.backgroundColor=P.makeCssRgb(.7*(255-d[0])+d[0]|0,.7*(255-d[1])+d[1]|0,.7*(255-d[2])+d[2]|0));var d=document.createElement("h1"),l=document.createElement("p");d.textContent=c.title;if(c.content||c.title){var q=
document.createElement("span"),m=c.content.split(/(?:\r\n?|\n)/);c=0;for(k=m.length;c<k;++c)q.appendChild(document.createTextNode(m[c])),c<k-1&&q.appendChild(document.createElement("br"));l.appendChild(q);var p=!1,r=function(a){a&&(p=!0);h.hasAttribute("hidden")&&(e.style.zIndex+=1,h.removeAttribute("hidden"))},t=function(a){a&&(p=!1);h.hasAttribute("hidden")||p||(--e.style.zIndex,h.setAttribute("hidden",!0))};g.addEventListener("click",function(){p?t(!0):r(!0)},!1);g.addEventListener("mouseover",
function(){r()},!1);g.addEventListener("mouseout",function(){t()},!1);h.addEventListener("click",function(){t(!0)},!1)}else h.setAttribute("hidden",!0);h.appendChild(d);h.appendChild(l);f.appendChild(h);e.appendChild(g);e.appendChild(f);return e}return{getHtmlElement:function(c,e){switch(c.annotationType){case 1:var g=document.createElement("div"),f=c.rect[3]-c.rect[1];g.style.width=c.rect[2]-c.rect[0]+"px";g.style.height=f+"px";g.style.display="table";f=document.createElement("div");f.textContent=
c.fieldValue;f.style.textAlign=["left","center","right"][c.textAlignment];f.style.verticalAlign="middle";f.style.display="table-cell";var h=c.fontRefName?e.getData(c.fontRefName):null,k=f.style;k.fontSize=c.fontSize+"px";k.direction=0>c.fontDirection?"rtl":"ltr";if(h){k.fontWeight=h.black?h.bold?"bolder":"bold":h.bold?"bold":"normal";k.fontStyle=h.italic?"italic":"normal";var l=h.loadedName;k.fontFamily=(l?'"'+l+'", ':"")+(h.fallbackName||"Helvetica, sans-serif")}g.appendChild(f);return g;case 2:return b(c);
case 3:return g=a(c),g.className="annotLink",f=document.createElement("a"),f.href=f.title=c.url||"",c.url&&d()&&(f.target=B[PDFJS.externalLinkTarget]),g.appendChild(f),g;default:throw Error("Unsupported annotationType: "+c.annotationType);}}}}();PDFJS.AnnotationUtils=na;na=function(){function a(b,c,e,g){g=g[e.fontName];var f=document.createElement("div");b.push(f);if(d.test(e.str)){var h=PDFJS.Util.transform(c.transform,e.transform);b=Math.atan2(h[1],h[0]);g.vertical&&(b+=Math.PI/2);var k=Math.sqrt(h[2]*
h[2]+h[3]*h[3]),l=k;g.ascent?l*=g.ascent:g.descent&&(l*=1+g.descent);var q;0===b?(q=h[4],h=h[5]-l):(q=h[4]+l*Math.sin(b),h=h[5]-l*Math.cos(b));f.style.left=q+"px";f.style.top=h+"px";f.style.fontSize=k+"px";f.style.fontFamily=g.fontFamily;f.textContent=e.str;PDFJS.pdfBug&&(f.dataset.fontName=e.fontName);0!==b&&(f.dataset.angle=180/Math.PI*b);1<e.str.length&&(f.dataset.canvasWidth=g.vertical?e.height*c.scale:e.width*c.scale)}else f.dataset.isWhitespace=!0}function b(a){if(!a._canceled){var c=a._container,
d=a._textDivs;a=a._capability;var e=d.length;if(!(1E5<e)){var g=document.createElement("canvas");g.mozOpaque=!0;for(var g=g.getContext("2d",{alpha:!1}),f,h,k=0;k<e;k++){var l=d[k];if(void 0===l.dataset.isWhitespace){var q=l.style.fontSize,m=l.style.fontFamily;if(q!==f||m!==h)g.font=q+" "+m,f=q,h=m;q=g.measureText(l.textContent).width;0<q&&(c.appendChild(l),q=void 0!==l.dataset.canvasWidth?"scaleX("+l.dataset.canvasWidth/q+")":"",(m=l.dataset.angle)&&(q="rotate("+m+"deg) "+q),q&&PDFJS.CustomStyle.setProp("transform",
l,q))}}}a.resolve()}}function c(a,b,d,e){this._textContent=a;this._container=b;this._viewport=d;this._textDivs=e||[];this._canceled=!1;this._capability=h();this._renderTimer=null}var d=/\S/;c.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0;null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null);this._capability.reject("canceled")},_render:function(c){for(var d=this._textContent.items,e=this._textContent.styles,g=this._textDivs,
f=this._viewport,h=0,k=d.length;h<k;h++)a(g,f,d[h],e);if(c){var l=this;this._renderTimer=setTimeout(function(){b(l);l._renderTimer=null},c)}else b(this)}};return function(a){var b=new c(a.textContent,a.container,a.viewport,a.textDivs);b._render(a.timeout);return b}}();PDFJS.renderTextLayer=na;var ua=function(){function a(b,d,e,g){var f=g,h=d.length;e[f]=h>>24&255;e[f+1]=h>>16&255;e[f+2]=h>>8&255;e[f+3]=h&255;f+=4;e[f]=b.charCodeAt(0)&255;e[f+1]=b.charCodeAt(1)&255;e[f+2]=b.charCodeAt(2)&255;e[f+3]=
b.charCodeAt(3)&255;f+=4;e.set(d,f);f+=d.length;b=-1;for(g+=4;g<f;g++)b=b>>>8^c[(b^e[g])&255];g=b^-1;e[f]=g>>24&255;e[f+1]=g>>16&255;e[f+2]=g>>8&255;e[f+3]=g&255}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),c=new Int32Array(256),d=0;256>d;d++){for(var e=d,g=0;8>g;g++)e=e&1?3988292384^e>>1&2147483647:e>>1&2147483647;c[d]=e}return function(c){var d=void 0===c.kind?1:c.kind,e=c.width,g=c.height,f,h,k,l=c.data;switch(d){case 1:h=0;f=1;k=e+7>>3;break;case 2:h=2;f=8;k=3*e;break;case 3:h=6;f=8;k=
4*e;break;default:throw Error("invalid format");}c=new Uint8Array((1+k)*g);var q=0,m=0,p;for(p=0;p<g;++p)c[q++]=0,c.set(l.subarray(m,m+k),q),m+=k,q+=k;if(1===d)for(p=q=0;p<g;p++)for(q++,d=0;d<k;d++)c[q++]^=255;e=new Uint8Array([e>>24&255,e>>16&255,e>>8&255,e&255,g>>24&255,g>>16&255,g>>8&255,g&255,f,h,0,0,0]);f=c.length;g=Math.ceil(f/65535);g=new Uint8Array(2+f+5*g+4);d=0;g[d++]=120;g[d++]=156;for(h=0;65535<f;)g[d++]=0,g[d++]=255,g[d++]=255,g[d++]=0,g[d++]=0,g.set(c.subarray(h,h+65535),d),d+=65535,
h+=65535,f-=65535;g[d++]=1;g[d++]=f&255;g[d++]=f>>8&255;g[d++]=~f&255;g[d++]=(~f&65535)>>8&255;g.set(c.subarray(h),d);d+=c.length-h;f=1;for(k=h=0;k<c.length;++k)f=(f+(c[k]&255))%65521,h=(h+f)%65521;c=h<<16|f;g[d++]=c>>24&255;g[d++]=c>>16&255;g[d++]=c>>8&255;g[d++]=c&255;c=new Uint8Array(b.length+36+e.length+g.length);d=0;c.set(b,d);d+=b.length;a("IHDR",e,c,d);d+=12+e.length;a("IDATA",g,c,d);d+=12+g.length;a("IEND",new Uint8Array(0),c,d);return PDFJS.createObjectURL(c,"image/png")}}(),va=function(){function a(){this.fontSizeScale=
1;this.fontWeight="normal";this.fontSize=0;this.textMatrix=S;this.fontMatrix=E;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=0;this.strokeColor=this.fillColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.lineCap=this.lineJoin="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.clipId="";this.pendingClip=!1;this.maskId=""}a.prototype={clone:function(){return Object.create(this)},
setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),na=function(){function b(a,c){var d=document.createElementNS("http://www.w3.org/2000/svg","svg:svg");d.setAttributeNS(null,"version","1.1");d.setAttributeNS(null,"width",a+"px");d.setAttributeNS(null,"height",c+"px");d.setAttributeNS(null,"viewBox","0 0 "+a+" "+c);return d}function c(a){if(a===(a|0))return a.toString();a=a.toFixed(10);var b=a.length-1;if("0"!==a[b])return a;do b--;while("0"===a[b]);return a.substr(0,"."===a[b]?b:b+1)}function d(a){if(0===
a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale("+c(a[0])+" "+c(a[3])+")";if(a[0]===a[3]&&a[1]===-a[2])return a=180*Math.acos(a[0])/Math.PI,"rotate("+c(a)+")"}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate("+c(a[4])+" "+c(a[5])+")";return"matrix("+c(a[0])+" "+c(a[1])+" "+c(a[2])+" "+c(a[3])+" "+c(a[4])+" "+c(a[5])+")"}function e(a,b){this.current=new va;this.transformMatrix=S;this.transformStack=[];this.extraStack=[];this.commonObjs=a;this.objs=b;this.embedFonts=
this.pendingEOFill=!1;this.embeddedFonts={};this.cssStyle=null}var g=["butt","round","square"],f=["miter","round","bevel"],h=0,k=0;e.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a);this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix));
this.pgrp.appendChild(this.tgrp)},group:function(a){this.save();this.executeOpTree(a);this.restore()},loadDependencies:function(a){var b=a.fnArray,c=b.length;a=a.argsArray;for(var d=this,e=0;e<c;e++)if(A.dependency===b[e])for(var g=a[e],f=0,h=g.length;f<h;f++){var k=g[f],l;l="g_"===k.substring(0,2)?new Promise(function(a){d.commonObjs.get(k,a)}):new Promise(function(a){d.objs.get(k,a)});this.current.dependencies.push(l)}return Promise.all(this.current.dependencies)},transform:function(a,b,c,e,g,f){this.transformMatrix=
PDFJS.Util.transform(this.transformMatrix,[a,b,c,e,g,f]);this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix))},getSVG:function(a,c){this.svg=b(c.width,c.height);this.viewport=c;return this.loadDependencies(a).then(function(){this.transformMatrix=S;this.pgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.pgrp.setAttributeNS(null,"transform",d(c.transform));this.tgrp=document.createElementNS("http://www.w3.org/2000/svg",
"svg:g");this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix));this.defs=document.createElementNS("http://www.w3.org/2000/svg","svg:defs");this.pgrp.appendChild(this.defs);this.pgrp.appendChild(this.tgrp);this.svg.appendChild(this.pgrp);var b=this.convertOpList(a);this.executeOpTree(b);return this.svg}.bind(this))},convertOpList:function(a){var b=a.argsArray,c=a.fnArray,d=c.length,e=[];a=[];for(var g in A)e[A[g]]=g;for(g=0;g<d;g++){var f=c[g];a.push({fnId:f,fn:e[f],args:b[g]})}b=[];c=
[];d=a.length;for(e=0;e<d;e++)"save"===a[e].fn?(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-1].items):"restore"===a[e].fn?b=c.pop():b.push(a[e]);return b},executeOpTree:function(a){for(var b=a.length,c=0;c<b;c++){var d=a[c].fn,e=a[c].args;switch(a[c].fnId|0){case A.beginText:this.beginText();break;case A.setLeading:this.setLeading(e);break;case A.setLeadingMoveText:this.setLeadingMoveText(e[0],e[1]);break;case A.setFont:this.setFont(e);break;case A.showText:this.showText(e[0]);break;
case A.showSpacedText:this.showText(e[0]);break;case A.endText:this.endText();break;case A.moveText:this.moveText(e[0],e[1]);break;case A.setCharSpacing:this.setCharSpacing(e[0]);break;case A.setWordSpacing:this.setWordSpacing(e[0]);break;case A.setHScale:this.setHScale(e[0]);break;case A.setTextMatrix:this.setTextMatrix(e[0],e[1],e[2],e[3],e[4],e[5]);break;case A.setLineWidth:this.setLineWidth(e[0]);break;case A.setLineJoin:this.setLineJoin(e[0]);break;case A.setLineCap:this.setLineCap(e[0]);break;
case A.setMiterLimit:this.setMiterLimit(e[0]);break;case A.setFillRGBColor:this.setFillRGBColor(e[0],e[1],e[2]);break;case A.setStrokeRGBColor:this.setStrokeRGBColor(e[0],e[1],e[2]);break;case A.setDash:this.setDash(e[0],e[1]);break;case A.setGState:this.setGState(e[0]);break;case A.fill:this.fill();break;case A.eoFill:this.eoFill();break;case A.stroke:this.stroke();break;case A.fillStroke:this.fillStroke();break;case A.eoFillStroke:this.eoFillStroke();break;case A.clip:this.clip("nonzero");break;
case A.eoClip:this.clip("evenodd");break;case A.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case A.paintJpegXObject:this.paintJpegXObject(e[0],e[1],e[2]);break;case A.paintImageXObject:this.paintImageXObject(e[0]);break;case A.paintInlineImageXObject:this.paintInlineImageXObject(e[0]);break;case A.paintImageMaskXObject:this.paintImageMaskXObject(e[0]);break;case A.paintFormXObjectBegin:this.paintFormXObjectBegin(e[0],e[1]);break;case A.paintFormXObjectEnd:this.paintFormXObjectEnd();
break;case A.closePath:this.closePath();break;case A.closeStroke:this.closeStroke();break;case A.closeFillStroke:this.closeFillStroke();break;case A.nextLine:this.nextLine();break;case A.transform:this.transform(e[0],e[1],e[2],e[3],e[4],e[5]);break;case A.constructPath:this.constructPath(e[0],e[1]);break;case A.endPath:this.endPath();break;case 92:this.group(a[c].items);break;default:l("Unimplemented method "+d)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=
a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(a,b,d,e,g,f){var h=this.current;this.current.textMatrix=this.current.lineMatrix=[a,b,d,e,g,f];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;h.xcoords=[];h.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");h.tspan.setAttributeNS(null,"font-family",h.fontFamily);h.tspan.setAttributeNS(null,"font-size",c(h.fontSize)+"px");h.tspan.setAttributeNS(null,"y",c(-h.y));h.txtElement=
document.createElementNS("http://www.w3.org/2000/svg","svg:text");h.txtElement.appendChild(h.tspan)},beginText:function(){this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0;this.current.textMatrix=S;this.current.lineMatrix=S;this.current.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");this.current.txtElement=document.createElementNS("http://www.w3.org/2000/svg","svg:text");this.current.txtgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");
this.current.xcoords=[]},moveText:function(a,b){var d=this.current;this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b;d.xcoords=[];d.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");d.tspan.setAttributeNS(null,"font-family",d.fontFamily);d.tspan.setAttributeNS(null,"font-size",c(d.fontSize)+"px");d.tspan.setAttributeNS(null,"y",c(-d.y))},showText:function(a){var b=this.current,e=b.font,g=b.fontSize;if(0!==g){var f=b.charSpacing,h=b.wordSpacing,k=b.fontDirection,
l=b.textHScale*k,q=a.length,e=e.vertical,m=g*b.fontMatrix[0],p=0,r;for(r=0;r<q;++r){var t=a[r];if(null===t)p+=k*h;else if("number"===typeof t)p+=-t*g*.001;else{b.xcoords.push(b.x+p*l);var w=t.fontChar,p=p+(t.width*m+f*k);b.tspan.textContent+=w}}e?b.y-=p*l:b.x+=p*l;b.tspan.setAttributeNS(null,"x",b.xcoords.map(c).join(" "));b.tspan.setAttributeNS(null,"y",c(-b.y));b.tspan.setAttributeNS(null,"font-family",b.fontFamily);b.tspan.setAttributeNS(null,"font-size",c(b.fontSize)+"px");"normal"!==b.fontStyle&&
b.tspan.setAttributeNS(null,"font-style",b.fontStyle);"normal"!==b.fontWeight&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);"#000000"!==b.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor);b.txtElement.setAttributeNS(null,"transform",d(b.textMatrix)+" scale(1, -1)");b.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");b.txtElement.appendChild(b.tspan);b.txtgrp.appendChild(b.txtElement);this.tgrp.appendChild(b.txtElement)}},setLeadingMoveText:function(a,
b){this.setLeading(-b);this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=document.createElementNS("http://www.w3.org/2000/svg","svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=PDFJS.createObjectURL(a.data,a.mimetype);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(a){var b=this.current,d=this.commonObjs.get(a[0]);a=a[1];this.current.font=d;this.embedFonts&&
d.data&&!this.embeddedFonts[d.loadedName]&&(this.addFontStyle(d),this.embeddedFonts[d.loadedName]=d);b.fontMatrix=d.fontMatrix?d.fontMatrix:E;var e=d.black?d.bold?"bolder":"bold":d.bold?"bold":"normal",g=d.italic?"italic":"normal";0>a?(a=-a,b.fontDirection=-1):b.fontDirection=1;b.fontSize=a;b.fontFamily=d.loadedName;b.fontWeight=e;b.fontStyle=g;b.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");b.tspan.setAttributeNS(null,"y",c(-b.y));b.xcoords=[]},endText:function(){this.current.pendingClip?
(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp);this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix))},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=g[a]},setLineJoin:function(a){this.current.lineJoin=f[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeRGBColor:function(a,b,c){a=P.makeCssRgb(a,b,
c);this.current.strokeColor=a},setFillRGBColor:function(a,b,c){a=P.makeCssRgb(a,b,c);this.current.fillColor=a;this.current.tspan=document.createElementNS("http://www.w3.org/2000/svg","svg:tspan");this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a;this.current.dashPhase=b},constructPath:function(a,b){var d=this.current,e=d.x,g=d.y;d.path=document.createElementNS("http://www.w3.org/2000/svg","svg:path");for(var f=[],h=a.length,k=0,l=0;k<h;k++)switch(a[k]|0){case A.rectangle:var e=
b[l++],g=b[l++],q=b[l++],m=b[l++],q=e+q,m=g+m;f.push("M",c(e),c(g),"L",c(q),c(g),"L",c(q),c(m),"L",c(e),c(m),"Z");break;case A.moveTo:e=b[l++];g=b[l++];f.push("M",c(e),c(g));break;case A.lineTo:e=b[l++];g=b[l++];f.push("L",c(e),c(g));break;case A.curveTo:e=b[l+4];g=b[l+5];f.push("C",c(b[l]),c(b[l+1]),c(b[l+2]),c(b[l+3]),c(e),c(g));l+=6;break;case A.curveTo2:e=b[l+2];g=b[l+3];f.push("C",c(e),c(g),c(b[l]),c(b[l+1]),c(b[l+2]),c(b[l+3]));l+=4;break;case A.curveTo3:e=b[l+2];g=b[l+3];f.push("C",c(b[l]),
c(b[l+1]),c(e),c(g),c(e),c(g));l+=4;break;case A.closePath:f.push("Z")}d.path.setAttributeNS(null,"d",f.join(" "));d.path.setAttributeNS(null,"stroke-miterlimit",c(d.miterLimit));d.path.setAttributeNS(null,"stroke-linecap",d.lineCap);d.path.setAttributeNS(null,"stroke-linejoin",d.lineJoin);d.path.setAttributeNS(null,"stroke-width",c(d.lineWidth)+"px");d.path.setAttributeNS(null,"stroke-dasharray",d.dashArray.map(c).join(" "));d.path.setAttributeNS(null,"stroke-dashoffset",c(d.dashPhase)+"px");d.path.setAttributeNS(null,
"fill","none");this.tgrp.appendChild(d.path);d.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp);d.element=d.path;d.setCurrentPoint(e,g)},endPath:function(){this.current.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp);this.tgrp=document.createElementNS("http://www.w3.org/2000/svg","svg:g");this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix))},clip:function(a){var b=
this.current;b.clipId="clippath"+h;h++;this.clippath=document.createElementNS("http://www.w3.org/2000/svg","svg:clipPath");this.clippath.setAttributeNS(null,"id",b.clipId);var c=b.element.cloneNode();"evenodd"===a?c.setAttributeNS(null,"clip-rule","evenodd"):c.setAttributeNS(null,"clip-rule","nonzero");this.clippath.setAttributeNS(null,"transform",d(this.transformMatrix));this.clippath.appendChild(c);this.defs.appendChild(this.clippath);b.pendingClip=!0;this.cgrp=document.createElementNS("http://www.w3.org/2000/svg",
"svg:g");this.cgrp.setAttributeNS(null,"clip-path","url(#"+b.clipId+")");this.pgrp.appendChild(this.cgrp)},closePath:function(){var a=this.current,b=a.path.getAttributeNS(null,"d");a.path.setAttributeNS(null,"d",b+"Z")},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);
break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],e[1]);break;case "Font":this.setFont(e)}}},fill:function(){var a=this.current;a.element.setAttributeNS(null,"fill",a.fillColor)},stroke:function(){var a=this.current;a.element.setAttributeNS(null,"stroke",a.strokeColor);a.element.setAttributeNS(null,"fill","none")},eoFill:function(){var a=this.current;a.element.setAttributeNS(null,"fill",a.fillColor);a.element.setAttributeNS(null,"fill-rule",
"evenodd")},fillStroke:function(){this.stroke();this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd");this.fillStroke()},closeStroke:function(){this.closePath();this.stroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");b.setAttributeNS(null,"x","0");b.setAttributeNS(null,"y","0");b.setAttributeNS(null,"width",
"1px");b.setAttributeNS(null,"height","1px");b.setAttributeNS(null,"fill",a.fillColor);this.tgrp.appendChild(b)},paintJpegXObject:function(a,b,d){var e=this.current;a=this.objs.get(a);var g=document.createElementNS("http://www.w3.org/2000/svg","svg:image");g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);g.setAttributeNS(null,"width",a.width+"px");g.setAttributeNS(null,"height",a.height+"px");g.setAttributeNS(null,"x","0");g.setAttributeNS(null,"y",c(-d));g.setAttributeNS(null,
"transform","scale("+c(1/b)+" "+c(-1/d)+")");this.tgrp.appendChild(g);e.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):l("Dependent image isn't ready yet")},paintInlineImageXObject:function(a,b){var d=this.current,e=a.width,g=a.height,f=ua(a),h=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");h.setAttributeNS(null,"x","0");h.setAttributeNS(null,
"y","0");h.setAttributeNS(null,"width",c(e));h.setAttributeNS(null,"height",c(g));d.element=h;this.clip("nonzero");h=document.createElementNS("http://www.w3.org/2000/svg","svg:image");h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y",c(-g));h.setAttributeNS(null,"width",c(e)+"px");h.setAttributeNS(null,"height",c(g)+"px");h.setAttributeNS(null,"transform","scale("+c(1/e)+" "+c(-1/g)+")");b?b.appendChild(h):this.tgrp.appendChild(h);
d.pendingClip?(this.cgrp.appendChild(this.tgrp),this.pgrp.appendChild(this.cgrp)):this.pgrp.appendChild(this.tgrp)},paintImageMaskXObject:function(a){var b=this.current,d=a.width,e=a.height,g=b.fillColor;b.maskId="mask"+k++;var f=document.createElementNS("http://www.w3.org/2000/svg","svg:mask");f.setAttributeNS(null,"id",b.maskId);var h=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");h.setAttributeNS(null,"x","0");h.setAttributeNS(null,"y","0");h.setAttributeNS(null,"width",c(d));
h.setAttributeNS(null,"height",c(e));h.setAttributeNS(null,"fill",g);h.setAttributeNS(null,"mask","url(#"+b.maskId+")");this.defs.appendChild(f);this.tgrp.appendChild(h);this.paintInlineImageXObject(a,f)},paintFormXObjectBegin:function(b,d){this.save();a(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);if(a(d)&&4===d.length){var e=d[2]-d[0],g=d[3]-d[1],f=document.createElementNS("http://www.w3.org/2000/svg","svg:rect");f.setAttributeNS(null,"x",d[0]);f.setAttributeNS(null,"y",d[1]);
f.setAttributeNS(null,"width",c(e));f.setAttributeNS(null,"height",c(g));this.current.element=f;this.clip("nonzero");this.endPath()}},paintFormXObjectEnd:function(){this.restore()}};return e}();PDFJS.SVGGraphics=na}).call("undefined"===typeof window?this:window);PDFJS.workerSrc||"undefined"===typeof document||(PDFJS.workerSrc=function(){var m=document.currentScript&&document.currentScript.src;return m&&m.replace(/\.js$/i,".worker.js")}());
!function(m,l){l["true"]=m;var k=function(d){function c(a){var b={};this.subscribe=function(a,c,d){if("function"!=typeof c)return!1;b.hasOwnProperty(a)||(b[a]={});var e=Math.random().toString(35);return b[a][e]=[c,!!d],e};this.unsubscribe=function(a){for(var c in b)if(b[c][a])return delete b[c][a],!0;return!1};this.publish=function(c){if(b.hasOwnProperty(c)){var e=Array.prototype.slice.call(arguments,1),f=[],h;for(h in b[c]){var k=b[c][h];try{k[0].apply(a,e)}catch(l){d.console&&console.error("jsPDF PubSub Error",
l.message,l)}k[1]&&f.push(h)}f.length&&f.forEach(this.unsubscribe)}}}function a(k,l,g,q){var m={};"object"==typeof k&&(m=k,k=m.orientation,l=m.unit||l,g=m.format||g,q=m.compress||m.compressPdf||q);l=l||"mm";g=g||"a4";k=(""+(k||"P")).toLowerCase();var z,y,v,x,u,E=(""+g).toLowerCase(),A=!!q&&"function"==typeof Uint8Array,D=m.textColor||"0 g",B=m.drawColor||"0 G",C=m.fontSize||16,H=m.lineHeight||1.15,G=m.lineWidth||.200025,F=2,N=!1,K=[],J={},S={},P=0,T=[],U=[],I=0,X=0,W=0,Y={title:"",subject:"",author:"",
keywords:"",creator:""},O={},V=new c(O),Q=function(a){return a.toFixed(2)},Z=function(a){return("0"+parseInt(a)).slice(-2)},R=function(a){N?T[P].push(a):(W+=a.length+1,U.push(a))},aa=function(){return F++,K[F]=W,R(F+" 0 obj"),F},ba=function(a){R("stream");R(a);R("endstream")},ia=function(a,b){var c;c=a;var d=b,e,g,f,h,k,l,q;if(d=d||{},e=d.sourceEncoding||"Unicode",f=d.outputEncoding,(d.autoencode||f)&&J[z].metadata&&J[z].metadata[e]&&J[z].metadata[e].encoding&&(g=J[z].metadata[e].encoding,!f&&J[z].encoding&&
(f=J[z].encoding),!f&&g.codePages&&(f=g.codePages[0]),"string"==typeof f&&(f=g[f]),f)){k=!1;h=[];e=0;for(g=c.length;g>e;e++)(l=f[c.charCodeAt(e)])?h.push(String.fromCharCode(l)):h.push(c[e]),h[e].charCodeAt(0)>>8&&(k=!0);c=h.join("")}for(e=c.length;void 0===k&&0!==e;)c.charCodeAt(e-1)>>8&&(k=!0),e--;if(k){h=d.noBOM?[]:[254,255];e=0;for(g=c.length;g>e;e++){if(l=c.charCodeAt(e),q=l>>8,q>>8)throw Error("Character at position "+e+" of string '"+c+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");h.push(q);
h.push(l-(q<<8))}c=String.fromCharCode.apply(void 0,h)}return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fa=function(){P++;N=!0;T[P]=[];R(Q(G*y)+" w");R(B);0!==I&&R(I+" J");0!==X&&R(X+" j");V.publish("addPage",{pageNumber:P})},M=function(a,b){var c;a=void 0!==a?a:J[z].fontName;b=void 0!==b?b:J[z].fontStyle;try{c=S[a][b]}catch(d){}if(!c)throw Error("Unable to look up font label for font '"+a+"', '"+b+"'. Refer to getFontList() for available fonts.");return c},da=function(){N=
!1;F=2;U=[];K=[];R("%PDF-"+b);var c,e,g,h,k,l=x*y,q=u*y;k=d.adler32cs||a.adler32cs;A&&"undefined"==typeof k&&(A=!1);for(c=1;P>=c;c++){if(aa(),R("<</Type /Page"),R("/Parent 1 0 R"),R("/Resources 2 0 R"),R("/Contents "+(F+1)+" 0 R>>"),R("endobj"),e=T[c].join("\n"),aa(),A){g=[];for(h=e.length;h--;)g[h]=e.charCodeAt(h);h=k.from(e);e=new f(6);e.append(new Uint8Array(g));e=e.flush();g=new Uint8Array(e.length+6);g.set(new Uint8Array([120,156]));g.set(e,2);g.set(new Uint8Array([255&h,h>>8&255,h>>16&255,h>>
24&255]),e.length+2);e=String.fromCharCode.apply(null,g);R("<</Length "+e.length+" /Filter [/FlateDecode]>>")}else R("<</Length "+e.length+">>");ba(e);R("endobj")}K[1]=W;R("1 0 obj");R("<</Type /Pages");c="/Kids [";for(h=0;P>h;h++)c+=3+2*h+" 0 R ";R(c+"]");R("/Count "+P);R("/MediaBox [0 0 "+Q(l)+" "+Q(q)+"]");R(">>");R("endobj");for(var m in J)J.hasOwnProperty(m)&&(l=J[m],l.objectNumber=aa(),R("<</BaseFont/"+l.PostScriptName+"/Type/Font"),"string"==typeof l.encoding&&R("/Encoding/"+l.encoding),R("/Subtype/Type1>>"),
R("endobj"));V.publish("putResources");K[2]=W;R("2 0 obj");R("<<");R("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");R("/Font <<");for(var p in J)J.hasOwnProperty(p)&&R("/"+p+" "+J[p].objectNumber+" 0 R");R(">>");R("/XObject <<");V.publish("putXobjectDict");R(">>");R(">>");R("endobj");V.publish("postPutResources");aa();R("<<");R("/Producer (jsPDF "+a.version+")");for(var r in Y)Y.hasOwnProperty(r)&&Y[r]&&R("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+ia(Y[r])+")");m=new Date;R(["/CreationDate (D:",
m.getFullYear(),Z(m.getMonth()+1),Z(m.getDate()),Z(m.getHours()),Z(m.getMinutes()),Z(m.getSeconds()),")"].join(""));R(">>");R("endobj");aa();R("<<");R("/Type /Catalog");R("/Pages 1 0 R");R("/OpenAction [3 0 R /FitH null]");R("/PageLayout /OneColumn");V.publish("putCatalog");R(">>");R("endobj");p=W;R("xref");R("0 "+(F+1));R("0000000000 65535 f ");for(m=1;F>=m;m++)R(("0000000000"+K[m]).slice(-10)+" 00000 n ");R("trailer");R("<<");R("/Size "+(F+1));R("/Root "+F+" 0 R");R("/Info "+(F-1)+" 0 R");return R(">>"),
R("startxref"),R(p),R("%%EOF"),N=!0,U.join("\n")},ma=function(a){var b="S";return"F"===a?b="f":"FD"===a||"DF"===a?b="B":("f"===a||"f*"===a||"B"===a||"B*"===a)&&(b=a),b},oa=function(){for(var a=da(),b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c);b--;)d[b]=a.charCodeAt(b);return c},na=function(){return new Blob([oa()],{type:"application/pdf"})},ua=function(a){return a.foo=function(){try{return a.apply(this,arguments)}catch(b){var c=b.stack||"";~c.indexOf(" at ")&&(c=c.split(" at ")[1]);c="Error in function "+
c.split("\n")[0].split("<")[0]+": "+b.message;if(!d.console)throw Error(c);d.console.error(c,b);d.alert&&alert(c)}},a.foo.bar=a,a.foo}(function(a,b){var c="dataur"===(""+a).substr(0,6)?"data:application/pdf;base64,"+btoa(da()):0;switch(a){case void 0:return da();case "save":if(navigator.getUserMedia&&(void 0===d.URL||void 0===d.URL.createObjectURL))return O.output("dataurlnewwindow");t(na(),b);"function"==typeof t.unload&&d.setTimeout&&setTimeout(t.unload,911);break;case "arraybuffer":return oa();
case "blob":return na();case "bloburi":case "bloburl":return d.URL&&d.URL.createObjectURL(na())||void 0;case "datauristring":case "dataurlstring":return c;case "dataurlnewwindow":var e=d.open(c);if(e||"undefined"==typeof safari)return e;case "datauri":case "dataurl":return d.document.location.href=c;default:throw Error('Output type "'+a+'" is not supported.');}});switch(l){case "pt":y=1;break;case "mm":y=72/25.4;break;case "cm":y=72/2.54;break;case "in":y=72;break;case "px":y=96/72;break;case "pc":y=
12;break;case "em":y=12;break;case "ex":y=6;break;default:throw"Invalid unit: "+l;}if(e.hasOwnProperty(E))u=e[E][1]/y,x=e[E][0]/y;else try{u=g[1],x=g[0]}catch(va){throw Error("Invalid format: "+g);}if("p"===k||"portrait"===k)k="p",x>u&&(v=x,x=u,u=v);else{if("l"!==k&&"landscape"!==k)throw"Invalid orientation: "+k;k="l";u>x&&(v=x,x=u,u=v)}O.internal={pdfEscape:ia,getStyle:ma,getFont:function(){return J[M.apply(O,arguments)]},getFontSize:function(){return C},getLineHeight:function(){return C*H},write:function(a){R(1===
arguments.length?a:Array.prototype.join.call(arguments," "))},getCoordinateString:function(a){return Q(a*y)},getVerticalCoordinateString:function(a){return Q((u-a)*y)},collections:{},newObject:aa,putStream:ba,events:V,scaleFactor:y,pageSize:{width:x,height:u},output:function(a,b){return ua(a,b)},getNumberOfPages:function(){return T.length-1},pages:T};O.addPage=function(){return fa(),this};O.text=function(a,b,c,d,e){function g(a){return a=a.split("\t").join(Array(m.TabLen||9).join(" ")),ia(a,d)}"number"==
typeof a&&(v=c,c=b,b=a,a=v);"string"==typeof a&&a.match(/[\n\r]/)&&(a=a.split(/\r\n|\r|\n/g));"number"==typeof d&&(e=d,d=null);var f="",h="Td";e&&(e*=Math.PI/180,f=Math.cos(e),h=Math.sin(e),f=[Q(f),Q(h),Q(-1*h),Q(f),""].join(" "),h="Tm");if(d=d||{},"noBOM"in d||(d.noBOM=!0),"autoencode"in d||(d.autoencode=!0),"string"==typeof a)a=g(a);else{if(!(a instanceof Array))throw Error('Type of text must be string or Array. "'+a+'" is not recognized.');a=a.concat();e=[];for(var k=a.length;k--;)e.push(g(a.shift()));
a=e.join(") Tj\nT* (")}return R("BT\n/"+z+" "+C+" Tf\n"+C*H+" TL\n"+D+"\n"+f+Q(b*y)+" "+Q((u-c)*y)+" "+h+"\n("+a+") Tj\nET"),this};O.line=function(a,b,c,d){return this.lines([[c-a,d-b]],a,b)};O.lines=function(a,b,c,d,e,g){var f,h,k,l,q,m,p,r;"number"==typeof a&&(v=c,c=b,b=a,a=v);d=d||[1,1];R((b*y).toFixed(3)+" "+((u-c)*y).toFixed(3)+" m ");f=d[0];d=d[1];h=a.length;r=c;for(c=0;h>c;c++)k=a[c],2===k.length?(b=k[0]*f+b,r=k[1]*d+r,R((b*y).toFixed(3)+" "+((u-r)*y).toFixed(3)+" l")):(l=k[0]*f+b,q=k[1]*d+
r,m=k[2]*f+b,p=k[3]*d+r,b=k[4]*f+b,r=k[5]*d+r,R((l*y).toFixed(3)+" "+((u-q)*y).toFixed(3)+" "+(m*y).toFixed(3)+" "+((u-p)*y).toFixed(3)+" "+(b*y).toFixed(3)+" "+((u-r)*y).toFixed(3)+" c"));return g&&R(" h"),null!==e&&R(ma(e)),this};O.rect=function(a,b,c,d,e){ma(e);return R([Q(a*y),Q((u-b)*y),Q(c*y),Q(-d*y),"re"].join(" ")),null!==e&&R(ma(e)),this};O.triangle=function(a,b,c,d,e,g,f){return this.lines([[c-a,d-b],[e-c,g-d],[a-e,b-g]],a,b,[1,1],f,!0),this};O.roundedRect=function(a,b,c,d,e,g,f){var h=
4/3*(Math.SQRT2-1);return this.lines([[c-2*e,0],[e*h,0,e,g-g*h,e,g],[0,d-2*g],[0,g*h,-(e*h),g,-e,g],[-c+2*e,0],[-(e*h),0,-e,-(g*h),-e,-g],[0,-d+2*g],[0,-(g*h),e*h,-g,e,-g]],a+e,b,[1,1],f),this};O.ellipse=function(a,b,c,d,e){var g=4/3*(Math.SQRT2-1)*c,f=4/3*(Math.SQRT2-1)*d;return R([Q((a+c)*y),Q((u-b)*y),"m",Q((a+c)*y),Q((u-(b-f))*y),Q((a+g)*y),Q((u-(b-d))*y),Q(a*y),Q((u-(b-d))*y),"c"].join(" ")),R([Q((a-g)*y),Q((u-(b-d))*y),Q((a-c)*y),Q((u-(b-f))*y),Q((a-c)*y),Q((u-b)*y),"c"].join(" ")),R([Q((a-
c)*y),Q((u-(b+f))*y),Q((a-g)*y),Q((u-(b+d))*y),Q(a*y),Q((u-(b+d))*y),"c"].join(" ")),R([Q((a+g)*y),Q((u-(b+d))*y),Q((a+c)*y),Q((u-(b+f))*y),Q((a+c)*y),Q((u-b)*y),"c"].join(" ")),null!==e&&R(ma(e)),this};O.circle=function(a,b,c,d){return this.ellipse(a,b,c,c,d)};O.setProperties=function(a){for(var b in Y)Y.hasOwnProperty(b)&&a[b]&&(Y[b]=a[b]);return this};O.setFontSize=function(a){return C=a,this};O.setFont=function(a,b){return z=M(a,b),this};O.setFontStyle=O.setFontType=function(a){return z=M(void 0,
a),this};O.getFontList=function(){var a,b,c,d={};for(a in S)if(S.hasOwnProperty(a))for(b in d[a]=c=[],S[a])S[a].hasOwnProperty(b)&&c.push(b);return d};O.setLineWidth=function(a){return R((a*y).toFixed(2)+" w"),this};O.setDrawColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" G":Q(a/255)+" G":void 0===d?"string"==typeof a?[a,b,c,"RG"].join(" "):[Q(a/255),Q(b/255),Q(c/255),"RG"].join(" "):"string"==typeof a?[a,b,c,d,"K"].join(" "):[Q(a),Q(b),Q(c),Q(d),"K"].join(" "),
R(e),this};O.setFillColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" g":Q(a/255)+" g":void 0===d?"string"==typeof a?[a,b,c,"rg"].join(" "):[Q(a/255),Q(b/255),Q(c/255),"rg"].join(" "):"string"==typeof a?[a,b,c,d,"k"].join(" "):[Q(a),Q(b),Q(c),Q(d),"k"].join(" "),R(e),this};O.setTextColor=function(a,b,c){"string"==typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)&&(c=parseInt(a.substr(1),16),a=c>>16&255,b=c>>8&255,c&=255);return D=0===a&&0===b&&0===c||"undefined"==
typeof b?(a/255).toFixed(3)+" g":[(a/255).toFixed(3),(b/255).toFixed(3),(c/255).toFixed(3),"rg"].join(" "),this};O.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};O.setLineCap=function(a){var b=this.CapJoinStyles[a];if(void 0===b)throw Error("Line cap style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return I=b,R(b+" J"),this};O.setLineJoin=function(a){var b=this.CapJoinStyles[a];if(void 0===
b)throw Error("Line join style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return X=b,R(b+" j"),this};O.output=ua;O.save=function(a){O.output("save",a)};for(var za in a.API)a.API.hasOwnProperty(za)&&("events"===za&&a.API.events.length?!function(a,b){var c,d,e;for(e=b.length-1;-1!==e;e--)c=b[e][0],d=b[e][1],a.subscribe.apply(a,[c].concat("function"==typeof d?[d]:d))}(V,a.API.events):O[za]=a.API[za]);return function(){for(var a=[["Helvetica","helvetica","normal"],
["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"]],b=0,c=a.length;c>b;b++){var d,e=a[b][0],g=a[b][1];d=a[b][2];var f="F"+(Object.keys(J).length+
1).toString(10),e=J[f]={id:f,PostScriptName:e,fontName:g,fontStyle:d,encoding:"StandardEncoding",metadata:{}},h=f;S.hasOwnProperty(g)||(S[g]={});S[g][d]=h;d=(V.publish("addFont",e),f);f=a[b][0].split("-");e=f[0];f=f[1]||"";S.hasOwnProperty(e)||(S[e]={});S[e][f]=d}V.publish("addFonts",{fonts:J,dictionary:S})}(),z="F1",fa(),V.publish("initialized"),O}var b="1.3",e={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],
a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],
dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return a.API={events:[]},a.version="1.0.209-git 2014-07-28T16:27:diegocr","function"==typeof define&&define.amd?define("jsPDF",function(){return a}):d.jsPDF=a,a}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);!function(d){d.addHTML=function(c,a,b,d,e){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");
"number"!=typeof a&&(d=a,e=b);"function"==typeof d&&(e=d,d=null);var f=this.internal,g=f.scaleFactor,k=f.pageSize.width,l=f.pageSize.height;return(d=d||{},d.onrendered=function(c){a=parseInt(a)||0;b=parseInt(b)||0;var f=d.dim||{},m=f.h||0,r=f.w||Math.min(k,c.width/g)-a,t="JPEG";if(d.format&&(t=d.format),c.height>l&&d.pagesplit)m=function(){for(var d=0;;){var f=document.createElement("canvas");f.width=Math.min(k*g,c.width);f.height=Math.min(l*g,c.height-d);f.getContext("2d").drawImage(c,0,d,c.width,
f.height,0,0,f.width,f.height);var h=[f,a,d?0:b,f.width/g,f.height/g,t,null,"SLOW"];if(this.addImage.apply(this,h),d+=f.height,d>=c.height)break;this.addPage()}e(r,d,null,h)}.bind(this),"CANVAS"===c.nodeName?(f=new Image,f.onload=m,f.src=c.toDataURL("image/png"),c=f):m();else{var f=Math.random().toString(35),u=[c,a,b,r,m,t,f,"SLOW"];this.addImage.apply(this,u);e(r,m,f,u)}}.bind(this),"undefined"==typeof html2canvas||d.rstz)?"undefined"!=typeof rasterizeHTML?(f="drawDocument","string"==typeof c&&(f=
/^http/.test(c)?"drawURL":"drawHTML"),d.width=d.width||k*g,rasterizeHTML[f](c,void 0,d).then(function(a){d.onrendered(a.image)},function(a){e(null,a)})):null:html2canvas(c,d)}}(k.API);(function(d){var c=["jpeg","jpg","png"],a=function(b){var c=this.internal.newObject(),d=this.internal.write,e=this.internal.putStream;if(b.n=c,d("<</Type /XObject"),d("/Subtype /Image"),d("/Width "+b.w),d("/Height "+b.h),b.cs===this.color_spaces.INDEXED?d("/ColorSpace [/Indexed /DeviceRGB "+(b.pal.length/3-1)+" "+("smask"in
b?c+2:c+1)+" 0 R]"):(d("/ColorSpace /"+b.cs),b.cs===this.color_spaces.DEVICE_CMYK&&d("/Decode [1 0 1 0 1 0 1 0]")),d("/BitsPerComponent "+b.bpc),"f"in b&&d("/Filter /"+b.f),"dp"in b&&d("/DecodeParms <<"+b.dp+">>"),"trns"in b&&b.trns.constructor==Array){for(var g="",f=0,h=b.trns.length;h>f;f++)g+=b.trns[f]+" "+b.trns[f]+" ";d("/Mask ["+g+"]")}if("smask"in b&&d("/SMask "+(c+1)+" 0 R"),d("/Length "+b.data.length+">>"),e(b.data),d("endobj"),"smask"in b)c={w:b.w,h:b.h,cs:"DeviceGray",bpc:b.bpc,dp:"/Predictor 15 /Colors 1 /BitsPerComponent "+
b.bpc+" /Columns "+b.w,data:b.smask},"f"in b&&(c.f=b.f),a.call(this,c);b.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),d("<< /Length "+b.pal.length+">>"),e(this.arrayBufferToBinaryString(new Uint8Array(b.pal))),d("endobj"))},b=function(){var b=this.internal.collections.addImage_images,c;for(c in b)a.call(this,b[c])},e=function(){var a,b=this.internal.collections.addImage_images,c=this.internal.write,d;for(d in b)a=b[d],c("/I"+a.i,a.n,"0","R")},f=function(a){return a&&"string"==typeof a&&
(a=a.toUpperCase()),a in d.image_compression?a:d.image_compression.NONE},k=function(a){var b=0;if(a){if(Object.keys)a=Object.keys(a).length;else{var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;a=b}b=a}return b},g=function(a){return"string"==typeof a&&Array.prototype.reduce&&a.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)},l=function(a,b){var c;if(b)for(var d in b)if(a===b[d].alias){c=b[d];break}return c};d.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",
CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPERATION:"Seperation",DEVICE_N:"DeviceN"};d.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};d.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};d.isString=
function(a){return"string"==typeof a};d.extractInfoFromBase64DataURI=function(a){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(a)};d.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};d.isArrayBuffer=function(a){return this.supportsArrayBuffer()?a instanceof ArrayBuffer:!1};d.isArrayBufferView=function(a){return this.supportsArrayBuffer()?"undefined"==typeof Uint32Array?!1:a instanceof Int8Array||a instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&
a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array:!1};d.binaryStringToUint8Array=function(a){for(var b=a.length,c=new Uint8Array(b),d=0;b>d;d++)c[d]=a.charCodeAt(d);return c};d.arrayBufferToBinaryString=function(a){this.isArrayBuffer(a)&&(a=new Uint8Array(a));for(var b="",c=a.byteLength,d=0;c>d;d++)b+=String.fromCharCode(a[d]);return b};d.arrayBufferToBase64=function(a){var b,
c,d,e,g,f="";a=new Uint8Array(a);e=a.byteLength;for(var h=e%3,k=e-h,l=0;k>l;l+=3)g=a[l]<<16|a[l+1]<<8|a[l+2],b=(16515072&g)>>18,c=(258048&g)>>12,d=(4032&g)>>6,e=63&g,f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e];return 1==h?(g=a[k],b=(252&g)>>2,c=(3&g)<<4,f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"=="):2==h&&(g=a[k]<<8|a[k+1],b=(64512&g)>>10,c=(1008&g)>>4,d=(15&g)<<2,f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]+"="),f};d.createImageInfo=function(a,b,c,d,e,g,f,h,k,l,q,m){a={alias:h,w:b,h:c,cs:d,bpc:e,i:f,data:a};return g&&(a.f=g),k&&(a.dp=k),l&&(a.trns=l),
q&&(a.pal=q),m&&(a.smask=m),a};d.addImage=function(a,m,t,v,x,u,E,A){if("number"==typeof m){var D=u;u=x;x=v;v=t;t=m;m=D}var B;B=this.internal.collections.addImage_images;D=(B||(this.internal.collections.addImage_images=B={},this.internal.events.subscribe("putResources",b),this.internal.events.subscribe("putXobjectDict",e)),B);if(!(B=l(a,D))){var C;if("object"==typeof a&&1===a.nodeType){a:{B=a;a=m;if("IMG"===B.nodeName&&B.hasAttribute("src")){var H=""+B.getAttribute("src");if(0===H.indexOf("data:image/")){B=
H;break a}!a&&/\.png(?:[?#].*)?$/i.test(H)&&(a="png")}if("CANVAS"===B.nodeName)H=B;else{H=document.createElement("canvas");H.width=B.clientWidth||B.width;H.height=B.clientHeight||B.height;var G=H.getContext("2d");if(!G)throw"addImage requires canvas to be supported by browser.";G.drawImage(B,0,0,H.width,H.height)}B=H.toDataURL("png"==(""+a).toLowerCase()?"image/png":"image/jpeg")}a=B}if(("undefined"==typeof E||null===E)&&(E=g(a)),!(B=l(E,D))){this.isString(a)&&((H=this.extractInfoFromBase64DataURI(a))?
(m=H[2],a=atob(H[3])):137===a.charCodeAt(0)&&80===a.charCodeAt(1)&&78===a.charCodeAt(2)&&71===a.charCodeAt(3)&&(m="png"));if(m=(m||"JPEG").toLowerCase(),-1===c.indexOf(m))throw Error("addImage currently only supports formats "+c+", not '"+m+"'");if("function"!=typeof d["process"+m.toUpperCase()])throw Error("please ensure that the plugin for '"+m+"' support is added");if(this.supportsArrayBuffer()&&(C=a,a=this.binaryStringToUint8Array(a)),B=this["process"+m.toUpperCase()](a,k(D),E,f(A),C),!B)throw Error("An unkwown error occurred whilst processing the image");
}}m=t;t=B;E=B.i;A=u;u=(x||A||(x=-96,A=-96),0>x&&(x=-72*t.w/x/this.internal.scaleFactor),0>A&&(A=-72*t.h/A/this.internal.scaleFactor),0===x&&(x=A*t.w/t.h),0===A&&(A=x*t.h/t.w),[x,A]);A=this.internal.getCoordinateString;C=this.internal.getVerticalCoordinateString;x=u[0];u=u[1];D[E]=t;this.internal.write("q",A(x),"0 0",A(u),A(m),C(v+u),"cm /I"+t.i,"Do Q");return this};d.processJPEG=function(a,b,c,d,e){var g;d=this.color_spaces.DEVICE_RGB;var f=this.decode.DCT_DECODE;if(this.isString(a)){a:{e=a;var h,
k,l;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||74===!e.charCodeAt(6)||70===!e.charCodeAt(7)||73===!e.charCodeAt(8)||70===!e.charCodeAt(9)||0===!e.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");for(var q=256*e.charCodeAt(4)+e.charCodeAt(5),m=4,p=e.length;p>m;){if(m+=q,255!==e.charCodeAt(m))throw Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(m+1)||193===e.charCodeAt(m+1)||194===e.charCodeAt(m+
1)||195===e.charCodeAt(m+1)||196===e.charCodeAt(m+1)||197===e.charCodeAt(m+1)||198===e.charCodeAt(m+1)||199===e.charCodeAt(m+1)){e=(k=256*e.charCodeAt(m+5)+e.charCodeAt(m+6),h=256*e.charCodeAt(m+7)+e.charCodeAt(m+8),l=e.charCodeAt(m+9),[h,k,l]);break a}m+=2;q=256*e.charCodeAt(m)+e.charCodeAt(m+1)}e=void 0}a=(g=e,this.createImageInfo(a,g[0],g[1],1==g[3]?this.color_spaces.DEVICE_GRAY:d,8,f,b,c))}else{this.isArrayBuffer(a)&&(a=new Uint8Array(a));if(this.isArrayBufferView(a)){a:{h=a;if(65496!==(h[0]<<
8|h[1]))throw Error("Supplied data is not a JPEG");var r;k=h.length;l=(h[4]<<8)+h[5];for(var t=4;k>t;){if(t+=l,q=h.subarray(t,t+5),l=(q[2]<<8)+q[3],(192===q[1]||194===q[1])&&255===q[0]&&7<l){k=t+5;h=(q=h.subarray(k,k+5),m=(q[2]<<8)+q[3],p=(q[0]<<8)+q[1],r=q[4],{width:m,height:p,numcomponents:r});break a}t+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");}b=(g=h,a=e||this.arrayBufferToBinaryString(a),this.createImageInfo(a,g.width,g.height,1==g.numcomponents?this.color_spaces.DEVICE_GRAY:
d,8,f,b,c))}else b=null;a=b}return a};d.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(k.API);(function(d){d.autoPrint=function(){var c;return this.internal.events.subscribe("postPutResources",function(){c=this.internal.newObject();this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+c+" 0 R")}),this}})(k.API);(function(d){var c,a,b,e,f={x:void 0,y:void 0,w:void 0,h:void 0,
ln:void 0},k=1,g={left:0,top:0,bottom:0};d.setHeaderFunction=function(a){e=a};d.getTextDimensions=function(d){c=this.internal.getFont().fontName;a=this.table_font_size||this.internal.getFontSize();b=this.internal.getFont().fontStyle;var e,g,f=19.049976/25.4;return g=document.createElement("font"),g.id="jsPDFCell",g.style.fontStyle=b,g.style.fontName=c,g.style.fontSize=a+"pt",g.innerText=d,document.body.appendChild(g),e={w:(g.offsetWidth+1)*f,h:(g.offsetHeight+1)*f},document.body.removeChild(g),e};
d.cellAddPage=function(){var a=this.margins||g;this.addPage();f={x:a.left,y:a.top,w:void 0,h:void 0,ln:void 0};k+=1};d.cellInitialize=function(){f={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};k=1};d.cell=function(a,b,c,d,e,h,k){var l=f;void 0!==l.ln&&(l.ln===h?(a=l.x+l.w,b=l.y):(l.y+l.h+d+13>=this.internal.pageSize.height-(this.margins||g).bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(h,!0)),b=f.y+f.h));if(void 0!==e[0])if(this.printingHeaderRow?this.rect(a,
b,c,d,"FD"):this.rect(a,b,c,d),"right"===k){if(e instanceof Array)for(k=0;k<e.length;k++){var l=e[k],m=this.getStringUnitWidth(l)*this.internal.getFontSize();this.text(l,a+c-m-3,b+this.internal.getLineHeight()*(k+1))}}else this.text(e,a+3,b+this.internal.getLineHeight());f={x:a,y:b,w:c,h:d,ln:h};return this};d.arrayMax=function(a,b){var c,d,e,g=a[0];c=0;for(d=a.length;d>c;c+=1)e=a[c],b?-1===b(g,e)&&(g=e):e>g&&(g=e);return g};d.table=function(a,b,c,e,h){if(!c)throw"No data for PDF table";var l,m,t,
u,D,B,C,H,G=[];B=[];var F={},N={},K=[];C=[];t=!1;var J=!0;m=12;u=g;if(u.width=this.internal.pageSize.width,h&&(!0===h.autoSize&&(t=!0),!1===h.printHeaders&&(J=!1),h.fontSize&&(m=h.fontSize),h.margins&&(u=h.margins)),this.lnMod=0,f={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},k=1,this.printHeaders=J,this.margins=u,this.setFontSize(m),this.table_font_size=m,void 0===e||null===e)G=Object.keys(c[0]);else if(e[0]&&"string"!=typeof e[0])for(u=19.049976/25.4,h=0,m=e.length;m>h;h+=1)l=e[h],G.push(l.name),
B.push(l.prompt),N[l.name]=l.width*u;else G=e;if(t)for(H=function(a){return a[l]},h=0,m=G.length;m>h;h+=1){l=G[h];F[l]=c.map(H);K.push(this.getTextDimensions(B[h]||l).w);D=F[l];e=0;for(t=D.length;t>e;e+=1)u=D[e],K.push(this.getTextDimensions(u).w);N[l]=d.arrayMax(K)}if(J){F=this.calculateLineHeight(G,N,B.length?B:G);h=0;for(m=G.length;m>h;h+=1)l=G[h],C.push([a,b,N[l],F,String(B.length?B[h]:l)]);this.setTableHeaderRow(C);this.printHeaderRow(1,!1)}h=0;for(m=c.length;m>h;h+=1)for(B=c[h],F=this.calculateLineHeight(G,
N,B),e=0,C=G.length;C>e;e+=1)l=G[e],this.cell(a,b,N[l],F,B[l],h+2,l.align);return this.lastCellPos=f,this.table_x=a,this.table_y=b,this};d.calculateLineHeight=function(a,b,c){for(var d,e=0,g=0;g<a.length;g++)d=a[g],c[d]=this.splitTextToSize(String(c[d]),b[d]-3),d=this.internal.getLineHeight()*c[d].length+3,d>e&&(e=d);return e};d.setTableHeaderRow=function(a){this.tableHeaderRow=a};d.printHeaderRow=function(a,b){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var c,d,g;if(this.printingHeaderRow=
!0,void 0!==e)d=e(this,k),f={x:d[0],y:d[1],w:d[2],h:d[3],ln:-1};this.setFontStyle("bold");var l=[];d=0;for(g=this.tableHeaderRow.length;g>d;d+=1)this.setFillColor(200,200,200),c=this.tableHeaderRow[d],b&&(c[1]=this.margins&&this.margins.top||0,l.push(c)),c=[].concat(c),this.cell.apply(this,c.concat(a));0<l.length&&this.setTableHeaderRow(l);this.setFontStyle("normal");this.printingHeaderRow=!1}})(k.API);(function(d){var c,a,b,e,f,k,g,l,m,t,u,v,x,L,E,A,D,B,C;c=function(){function a(){}return function(b){return a.prototype=
b,new a}}();m=function(a){var b,c,d,e,g;c=0;d=a.length;for(g=e=!1;!e&&c!==d;)(b=a[c]=a[c].trimLeft())&&(e=!0),c++;for(c=d-1;d&&!g&&-1!==c;)(b=a[c]=a[c].trimRight())&&(g=!0),c--;e=/\s+$/g;g=!0;for(c=0;c!==d;)b=a[c].replace(/\s+/g," "),g&&(b=b.trimLeft()),b&&(g=e.test(b)),a[c]=b,c++;return a};t=function(a,b,c,d){return this.pdf=a,this.x=b,this.y=c,this.settings=d,this.watchFunctions=[],this.init(),this};u=function(a){var c,d;c=void 0;d=a.split(",");for(a=d.shift();!c&&a;)c=b[a.trim().toLowerCase()],
a=d.shift();return c};v=function(a){a="auto"===a?"0px":a;-1<a.indexOf("em")&&!isNaN(Number(a.replace("em","")))&&(a=18.719*Number(a.replace("em",""))+"px");-1<a.indexOf("pt")&&!isNaN(Number(a.replace("pt","")))&&(a=1.333*Number(a.replace("pt",""))+"px");var b;return(b=x[a])?b:(b={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:a}],void 0!==b?x[a]=b/16:(b=parseFloat(a))?x[a]=b/16:(b=a.match(/([\d\.]+)(px)/),x[a]=3===b.length?parseFloat(b[1])/
16:1))};l=function(a){var b,c,d;return d=function(a){var b;return b=function(a){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle?a.currentStyle:a.style}(a),function(a){return a=a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()}),b[a]}}(a),b={},c=void 0,b["font-family"]=u(d("font-family"))||"times",b["font-style"]=e[d("font-style")]||"normal",b["text-align"]=TextAlignMap[d("text-align")]||"left",c=f[d("font-weight")]||
"normal","bold"===c&&(b["font-style"]="normal"===b["font-style"]?c:c+b["font-style"]),b["font-size"]=v(d("font-size"))||1,b["line-height"]=v(d("line-height"))||1,b.display="inline"===d("display")?"inline":"block","block"===b.display&&(b["margin-top"]=v(d("margin-top"))||0,b["margin-bottom"]=v(d("margin-bottom"))||0,b["padding-top"]=v(d("padding-top"))||0,b["padding-bottom"]=v(d("padding-bottom"))||0,b["margin-left"]=v(d("margin-left"))||0,b["margin-right"]=v(d("margin-right"))||0,b["padding-left"]=
v(d("padding-left"))||0,b["padding-right"]=v(d("padding-right"))||0),b["float"]=k[d("cssFloat")]||"none",b.clear=g[d("clear")]||"none",b};L=function(a,b,c){var d,e,g,f;if(g=!1,d=c["#"+a.id])if("function"==typeof d)g=d(a,b);else for(e=0,f=d.length;!g&&e!==f;)g=d[e](a,b),e++;if(d=c[a.nodeName],!g&&d)if("function"==typeof d)g=d(a,b);else for(e=0,f=d.length;!g&&e!==f;)g=d[e](a,b),e++;return g};C=function(a,b){var c,d,e,g,f,h;c=[];d=[];e=0;h=a.rows[0].cells.length;for(g=a.clientWidth;h>e;)f=a.rows[0].cells[e],
d[e]={name:f.textContent.toLowerCase().replace(/\s+/g,""),prompt:f.textContent.replace(/\r?\n/g,""),width:f.clientWidth/g*b.pdf.internal.pageSize.width},e++;for(e=1;e<a.rows.length;){h=a.rows[e];f={};for(g=0;g<h.cells.length;)f[d[g].name]=h.cells[g].textContent.replace(/\r?\n/g,""),g++;c.push(f);e++}return{rows:c,headers:d}};var H={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},G=1;a=function(b,c,d){var e,g,f,h,k,m,p;g=b.childNodes;e=void 0;b=l(b);(h="block"===b.display)&&(c.setBlockBoundary(),
c.setBlockStyle(b));f=0;for(k=g.length;k>f;){if(e=g[f],"object"==typeof e){if(c.executeWatchFunctions(e),1===e.nodeType&&"HEADER"===e.nodeName){var r=e,t=c.pdf.margins_doc.top;c.pdf.internal.events.subscribe("addPage",function(){c.y=t;a(r,c,d);c.pdf.margins_doc.top=c.y+10;c.y+=10},!1)}if(8===e.nodeType&&"#comment"===e.nodeName)~e.textContent.indexOf("ADD_PAGE")&&(c.pdf.addPage(),c.y=c.pdf.margins_doc.top);else if(1!==e.nodeType||H[e.nodeName])if(3===e.nodeType){if((m=e.nodeValue)&&"LI"===e.parentNode.nodeName)if("OL"===
e.parentNode.parentNode.nodeName)m=G++ +". "+m;else{var w=2;20<16*b["font-size"]&&(w=3);p=function(a,b){this.pdf.circle(a,b,w,"FD")}}c.addText(m,b)}else"string"==typeof e&&c.addText(e,b);else if("IMG"===e.nodeName&&E[e.getAttribute("src")]){c.pdf.internal.pageSize.height-c.pdf.margins_doc.bottom<c.y+e.height&&c.y>c.pdf.margins_doc.top&&(c.pdf.addPage(),c.y=c.pdf.margins_doc.top,c.executeWatchFunctions(e));m=l(e);var v=c.x,x=12/c.pdf.internal.scaleFactor,u=(m["margin-left"]+m["padding-left"])*x,y=
(m["margin-right"]+m["padding-right"])*x,z=(m["margin-top"]+m["padding-top"])*x,x=(m["margin-bottom"]+m["padding-bottom"])*x,v=v+(void 0!==m["float"]&&"right"===m["float"]?c.settings.width-e.width-y:u);c.pdf.addImage(E[e.getAttribute("src")],v,c.y+z,e.width,e.height);void 0!==m["float"]?("right"===m["float"]||"left"===m["float"])&&(c.watchFunctions.push(function(a,b,d,e){return c.y>=b?(c.x+=a,c.settings.width+=d,!0):e&&1===e.nodeType&&!H[e.nodeName]&&c.x+e.width>c.pdf.margins_doc.left+c.pdf.margins_doc.width?
(c.x+=a,c.y=b,c.settings.width+=d,!0):!1}.bind(this,"left"===m["float"]?-e.width-u-y:0,c.y+e.height+z+x,e.width)),c.watchFunctions.push(function(a,b,d){return c.y<a&&b===c.pdf.internal.getNumberOfPages()?1===d.nodeType&&"both"===l(d).clear?(c.y=a,!0):!1:!0}.bind(this,c.y+e.height,c.pdf.internal.getNumberOfPages())),c.settings.width-=e.width+u+y,"left"===m["float"]&&(c.x+=e.width+u+y)):c.y+=e.height+x}else"TABLE"===e.nodeName?(m=C(e,c),c.y+=10,c.pdf.table(c.x,c.y,m.rows,m.headers,{autoSize:!1,printHeaders:!0,
margins:c.pdf.margins_doc}),c.y=c.pdf.lastCellPos.y+c.pdf.lastCellPos.h+20):"OL"===e.nodeName||"UL"===e.nodeName?(G=1,L(e,c,d)||a(e,c,d),c.y+=10):"LI"===e.nodeName?(m=c.x,c.x+="UL"===e.parentNode.nodeName?22:10,c.y+=3,L(e,c,d)||a(e,c,d),c.x=m):L(e,c,d)||a(e,c,d)}f++}return h?c.setBlockBoundary(p):void 0};E={};A=function(a,b,c,d){function e(){b.pdf.internal.events.publish("imagesLoaded");d()}function g(a,b,c){if(a){var d=new Image;++f;d.crossOrigin="";d.onerror=d.onload=function(){d.complete&&(0===
d.src.indexOf("data:image/")&&(d.width=b||d.width||0,d.height=c||d.height||0),d.width+d.height&&(E[a]=E[a]||d));--f||e()};d.src=a}}a=a.getElementsByTagName("img");c=a.length;for(var f=0;c--;)g(a[c].getAttribute("src"),a[c].width,a[c].height);return f||e()};D=function(b,c,d,e){var g=b.getElementsByTagName("footer");if(0<g.length){g=g[0];b=c.pdf.internal.write;var f=c.y;c.pdf.internal.write=function(){};a(g,c,d);var h=Math.ceil(c.y-f)+5;c.y=f;c.pdf.internal.write=b;c.pdf.margins_doc.bottom+=h;b=function(b){b=
void 0!==b?b.pageNumber:1;var e=c.y;c.y=c.pdf.internal.pageSize.height-c.pdf.margins_doc.bottom;c.pdf.margins_doc.bottom-=h;for(var f=g.getElementsByTagName("span"),k=0;k<f.length;++k)-1<(" "+f[k].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(f[k].innerHTML=b),-1<(" "+f[k].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(f[k].innerHTML="###jsPDFVarTotalPages###");a(g,c,d);c.pdf.margins_doc.bottom+=h;c.y=e};for(var f=g.getElementsByTagName("span"),k=0;k<f.length;++k)-1<
(" "+f[k].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&c.pdf.internal.events.subscribe("htmlRenderingFinished",c.pdf.putTotalPages.bind(c.pdf,"###jsPDFVarTotalPages###"),!0);c.pdf.internal.events.subscribe("addPage",b,!1);b();H.FOOTER=1}e()};B=function(b,c,d,e,g,f){if(!c)return!1;"string"==typeof c||c.parentNode||(c=""+c.innerHTML);"string"==typeof c&&(c=function(a){var b,c,d;return d="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0),c=document.createElement("div"),
c.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",c.innerHTML='<iframe style="height:1px;width:1px" name="'+d+'" />',document.body.appendChild(c),b=window.frames[d],b.document.body.innerHTML=a,b.document.body}(c.replace(/<\/?script[^>]*?>/gi,"")));var h=new t(b,d,e,g);return f=f||function(){},A.call(this,
c,h,g.elementHandlers,function(){D.call(this,c,h,g.elementHandlers,function(){a(c,h,g.elementHandlers);h.pdf.internal.events.publish("htmlRenderingFinished");f(h.dispose())})}),h.dispose()};t.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")};t.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y}};t.prototype.executeWatchFunctions=function(a){var b=!1,c=[];if(0<this.watchFunctions.length){for(var d=0;d<this.watchFunctions.length;++d)!0===
this.watchFunctions[d](a)?b=!0:c.push(this.watchFunctions[d]);this.watchFunctions=c}return b};t.prototype.splitFragmentsIntoLines=function(a,b){var d,e,g,f,h,k,l,q,m,p,r,t,w;m=this.pdf.internal.scaleFactor;f={};k=l=w=h=g=q=e=void 0;p=[];r=[p];d=0;for(t=this.settings.width;a.length;)if(h=a.shift(),w=b.shift(),h)if(e=w["font-family"],q=w["font-style"],g=f[e+q],g||(g=this.pdf.internal.getFont(e,q).metadata.Unicode,f[e+q]=g),l={widths:g.widths,kerning:g.kerning,fontSize:12*w["font-size"],textIndent:d},
k=this.pdf.getStringUnitWidth(h,l)*l.fontSize/m,d+k>t){d=this.pdf.splitTextToSize(h,t,l);for(p.push([d.shift(),w]);d.length;)p=[[d.shift(),w]],r.push(p);d=this.pdf.getStringUnitWidth(p[0][0],l)*l.fontSize/m}else p.push([h,w]),d+=k;if(void 0!==w["text-align"]&&("center"===w["text-align"]||"right"===w["text-align"]||"justify"===w["text-align"]))for(e=0;e<r.length;++e)g=this.pdf.getStringUnitWidth(r[e][0][0],l)*l.fontSize/m,0<e&&(r[e][0][1]=c(r[e][0][1])),g=t-g,"right"===w["text-align"]?r[e][0][1]["margin-left"]=
g:"center"===w["text-align"]?r[e][0][1]["margin-left"]=g/2:"justify"===w["text-align"]&&(f=r[e][0][0].split(" ").length-1,r[e][0][1]["word-spacing"]=g/f,e===r.length-1&&(r[e][0][1]["word-spacing"]=0));return r};t.prototype.RenderTextFragment=function(a,b){var c;c=0;this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.pdf.internal.getCoordinateString(this.x),
this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),c=Math.max(c,b["line-height"],b["font-size"]),this.pdf.internal.write(0,(-12*c).toFixed(2),"Td"));c=this.pdf.internal.getFont(b["font-family"],b["font-style"]);void 0!==b["word-spacing"]&&0<b["word-spacing"]&&this.pdf.internal.write(b["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+c.id,(12*b["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(a)+") Tj");void 0!==b["word-spacing"]&&this.pdf.internal.write(0,"Tw")};
t.prototype.renderParagraph=function(a){var b,c,d,e,g,f,h,k,l;if(c=m(this.paragraph.text),f=this.paragraph.style,b=this.paragraph.blockstyle,k=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:b},c.join("").trim()){f=this.splitFragmentsIntoLines(c,f);h=g=void 0;c=12/this.pdf.internal.scaleFactor;g=(Math.max((b["margin-top"]||0)-(k["margin-bottom"]||0),0)+(b["padding-top"]||0))*c;k=((b["margin-bottom"]||0)+(b["padding-bottom"]||0))*c;b=this.pdf.internal.write;
e=d=void 0;this.y+=g;b("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var q=0;f.length;){g=f.shift();d=h=0;for(e=g.length;d!==e;)g[d][0].trim()&&(h=Math.max(h,g[d][1]["line-height"],g[d][1]["font-size"]),l=7*g[d][1]["font-size"]),d++;d=0;void 0!==g[0][1]["margin-left"]&&0<g[0][1]["margin-left"]&&(wantedIndent=this.pdf.internal.getCoordinateString(g[0][1]["margin-left"]),d=wantedIndent-q,q=wantedIndent);b(d,(-12*h).toFixed(2),
"Td");d=0;for(e=g.length;d!==e;)g[d][0]&&this.RenderTextFragment(g[d][0],g[d][1]),d++;if(this.y+=h*c,this.executeWatchFunctions(g[0][1])&&0<f.length){var p=[],r=[];f.forEach(function(a){for(var b=0,c=a.length;b!==c;)a[b][0]&&(p.push(a[b][0]+" "),r.push(a[b][1])),++b});f=this.splitFragmentsIntoLines(m(p),r);b("ET","Q");b("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return a&&"function"==typeof a&&a.call(this,this.x-9,this.y-l/2),
b("ET","Q"),this.y+=k}};t.prototype.setBlockBoundary=function(a){return this.renderParagraph(a)};t.prototype.setBlockStyle=function(a){return this.paragraph.blockstyle=a};t.prototype.addText=function(a,b){return this.paragraph.text.push(a),this.paragraph.style.push(b)};b={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};f={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",
800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};e={normal:"normal",italic:"italic",oblique:"italic"};TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"};k={none:"none",right:"right",left:"left"};g={none:"none",both:"both"};x={normal:1};d.fromHTML=function(a,b,c,d,e,g){return this.margins_doc=g||{top:0,bottom:0},d||(d={}),d.elementHandlers||(d.elementHandlers={}),B(this,a,isNaN(b)?4:b,isNaN(c)?4:c,d,e)}})(k.API);(function(d){var c,a,b;d.addJS=
function(d){return b=d,this.internal.events.subscribe("postPutResources",function(){c=this.internal.newObject();this.internal.write("<< /Names [(EmbeddedJS) "+(c+1)+" 0 R] >>","endobj");a=this.internal.newObject();this.internal.write("<< /S /JavaScript /JS (",b,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==c&&void 0!==a&&this.internal.write("/Names <</JavaScript "+c+" 0 R>>")}),this}})(k.API);(function(d){var c=function(c,q,m,t){var u=5,v=e;switch(t){case d.image_compression.FAST:u=
3;v=b;break;case d.image_compression.MEDIUM:u=6;v=k;break;case d.image_compression.SLOW:u=9,v=l}for(var x,L,E=c.length/q,A=new Uint8Array(c.length+E),D=[a,b,e,k,l],B=0;E>B;B++){if(L=B*q,t=c.subarray(L,L+q),v)A.set(v(t,m,x),L+B);else{for(var C=0,H=D.length,G=[];H>C;C++)G[C]=D[C](t,m,x);x=G.concat();for(var F=void 0,H=C=void 0,N=0,K=x.length;K>N;){for(var F=x[N].slice(1),J=0,S=F.length,P=0;S>J;)P+=Math.abs(F[J++]);F=P;(C>F||!C)&&(C=F,H=N);N++}A.set(G[H],L+B)}x=t}c=A;q=Uint8Array;L=Math.LOG2E*Math.log(32768)-
8<<4|8;m=L<<8;v=Math.min(3,0);L=(m|=v<<6,m|=0,m+=31-m%31,[L,m&255]);q=new q(L);L=1;v=0;t=c.length;for(E=0;0<t;){m=void 0<t?void 0:t;t-=m;do L+=c[E++],v+=L;while(--m);L%=65521;v%=65521}m=(v<<16|L)>>>0;L=new f(u);u=L.append(c);L=L.flush();c=q.length+u.length+L.length;v=new Uint8Array(c+4);return v.set(q),v.set(u,q.length),v.set(L,q.length+u.length),v[c++]=m>>>24&255,v[c++]=m>>>16&255,v[c++]=m>>>8&255,v[c++]=255&m,d.arrayBufferToBinaryString(v)},a=function(a){a=Array.apply([],a);return a.unshift(0),
a},b=function(a,b){var c,d=[],e=0,f=a.length;for(d[0]=1;f>e;e++)c=a[e-b]||0,d[e+1]=a[e]-c+256&255;return d},e=function(a,b,c){var d=[],e=0,f=a.length;for(d[0]=2;f>e;e++)b=c&&c[e]||0,d[e+1]=a[e]-b+256&255;return d},k=function(a,b,c){var d,e,f=[],h=0,k=a.length;for(f[0]=3;k>h;h++)d=a[h-b]||0,e=c&&c[h]||0,f[h+1]=a[h]+256-(d+e>>>1)&255;return f},l=function(a,b,c){var d,e,f,h=[],k=0,l=a.length;for(h[0]=4;l>k;k++){d=a[k-b]||0;e=c&&c[k]||0;f=c&&c[k-b]||0;var m=d+e-f,p=Math.abs(m-d),r=Math.abs(m-e),m=Math.abs(m-
f);d=r>=p&&m>=p?d:m>=r?e:f;h[k+1]=a[k]-d+256&255}return h};d.processPNG=function(a,b,e,h){var k,l,m,p,r,t,D=this.color_spaces.DEVICE_RGB,B=this.decode.FLATE_DECODE,C=8;if(this.isArrayBuffer(a)&&(a=new Uint8Array(a)),this.isArrayBufferView(a)){if("function"!=typeof PNG||"function"!=typeof u)throw Error("PNG support requires png.js and zlib.js");if(k=new PNG(a),a=k.imgData,C=k.bits,D=k.colorSpace,p=k.colors,-1!==[4,6].indexOf(k.colorType)){if(8===k.bits)for(var H,G,F=new window["Uint"+k.pixelBitlength+
"Array"](k.decodePixels().buffer),N=F.length,K=new Uint8Array(N*k.colors),J=new Uint8Array(N),S=k.pixelBitlength-k.bits,P=0,T=0;N>P;P++){H=F[P];for(G=0;S>G;)K[T++]=H>>>G&255,G+=k.bits;J[P]=H>>>G&255}if(16===k.bits){F=new Uint32Array(k.decodePixels().buffer);N=F.length;K=new Uint8Array(32/k.pixelBitlength*N*k.colors);J=new Uint8Array(32/k.pixelBitlength*N);C=1<k.colors;for(G=T=P=0;N>P;)H=F[P++],K[T++]=H>>>0&255,C&&(K[T++]=H>>>16&255,H=F[P++],K[T++]=H>>>0&255),J[G++]=H>>>16&255;C=8}if(N=h!==d.image_compression.NONE)if(N=
"function"==typeof f,!N)throw Error("requires deflate.js for compression");N?(a=c(K,k.width*k.colors,k.colors,h),t=c(J,k.width,1,h)):(a=K,t=J,B=null)}if(3===k.colorType&&(D=this.color_spaces.INDEXED,r=k.palette,k.transparency.indexed)){h=k.transparency.indexed;P=J=0;for(N=h.length;N>P;++P)J+=h[P];if(J/=255,J===N-1&&-1!==h.indexOf(0))m=[h.indexOf(0)];else if(J!==N){F=k.decodePixels();J=new Uint8Array(F.length);P=0;for(N=F.length;N>P;P++)J[P]=h[F[P]];t=c(J,k.width,1)}}return l=B===this.decode.FLATE_DECODE?
"/Predictor 15 /Colors "+p+" /BitsPerComponent "+C+" /Columns "+k.width:"/Colors "+p+" /BitsPerComponent "+C+" /Columns "+k.width,(this.isArrayBuffer(a)||this.isArrayBufferView(a))&&(a=this.arrayBufferToBinaryString(a)),(t&&this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),this.createImageInfo(a,k.width,k.height,D,C,B,b,e,l,m,r,t)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(k.API);(function(d){d.addSVG=function(c,a,b,d,e){function f(a){for(var b=
parseFloat(a[1]),c=parseFloat(a[2]),d=[],e=3,g=a.length;g>e;)"c"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2]),parseFloat(a[e+3]),parseFloat(a[e+4]),parseFloat(a[e+5]),parseFloat(a[e+6])]),e+=7):"l"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2])]),e+=3):e+=1;return[b,c,d]}if(void 0===a||void 0===b)throw Error("addSVG needs values for 'x' and 'y'");var g=function(a){var b=a.createElement("iframe"),c=a.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":
c.appendChild(a.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));a.getElementsByTagName("head")[0].appendChild(c);return b.name="childframe",b.setAttribute("width",0),b.setAttribute("height",0),b.setAttribute("frameborder","0"),b.setAttribute("scrolling","no"),b.setAttribute("seamless","seamless"),b.setAttribute("class","jsPDF_sillysvg_iframe"),a.body.appendChild(b),b}(document),g=function(a,b){var c=(b.contentWindow||b.contentDocument).document;return c.write(a),c.close(),
c.getElementsByTagName("svg")[0]}(c,g);c=[1,1];var k=parseFloat(g.getAttribute("width")),l=parseFloat(g.getAttribute("height"));k&&l&&(d&&e?c=[d/k,e/l]:d?c=[d/k,d/k]:e&&(c=[e/l,e/l]));var m,k=g.childNodes;d=0;for(e=k.length;e>d;d++)g=k[d],g.tagName&&"PATH"===g.tagName.toUpperCase()&&(m=f(g.getAttribute("d").split(" ")),m[0]=m[0]*c[0]+a,m[1]=m[1]*c[1]+b,this.lines.call(this,m[2],m[0],m[1],c));return this}})(k.API);(function(d){var c=d.getCharWidthsArray=function(a,b){b||(b={});var c,d,e,f=b.widths?
b.widths:this.internal.getFont().metadata.Unicode.widths,h=f.fof?f.fof:1,k=b.kerning?b.kerning:this.internal.getFont().metadata.Unicode.kerning,l=k.fof?k.fof:1,m=0,p=f[0]||h,t=[];c=0;for(d=a.length;d>c;c++)e=a.charCodeAt(c),t.push((f[e]||p)/h+(k[e]&&k[e][m]||0)/l),m=e;return t},a=function(a){for(var b=a.length,c=0;b;)b--,c+=a[b];return c},b=d.getStringUnitWidth=function(b,d){return a(c.call(this,b,d))},e=function(a,b,c,d){for(var e=[],f=0,h=a.length,k=0;f!==h&&k+b[f]<c;)k+=b[f],f++;e.push(a.slice(0,
f));c=f;for(k=0;f!==h;)k+b[f]>d&&(e.push(a.slice(c,f)),k=0,c=f),k+=b[f],f++;return c!==f&&e.push(a.slice(c,f)),e},f=function(d,g,f){f||(f={});var k,l,m,p,t,u=[],E=[u];p=f.textIndent||0;var A=0,D=0,B=d.split(" "),C=c(" ",f)[0];if(t=-1===f.lineIndent?B[0].length+2:f.lineIndent||0){var H=Array(t).join(" "),G=[];B.map(function(a){a=a.split(/\s*\n/);1<a.length?G=G.concat(a.map(function(a,b){return(b&&a.length?"\n":"")+a})):G.push(a[0])});B=G;t=b(H,f)}d=0;for(m=B.length;m>d;d++){var F=0;if(k=B[d],t&&"\n"==
k[0]&&(k=k.substr(1),F=1),l=c(k,f),D=a(l),p+A+D>g||F){if(D>g){p=e(k,l,g-(p+A),g);u.push(p.shift());for(u=[p.pop()];p.length;)E.push([p.shift()]);D=a(l.slice(k.length-u[0].length))}else u=[k];E.push(u);p=D+t}else u.push(k),p+=A+D;A=C}return E.map(t?function(a,b){return(b?H:"")+a.join(" ")}:function(a){return a.join(" ")})};d.splitTextToSize=function(a,b,c){c||(c={});var d=c.fontSize||this.internal.getFontSize(),e;e={0:1};var h={};if(c.widths&&c.kerning)e={widths:c.widths,kerning:c.kerning};else{var k=
this.internal.getFont(c.fontName,c.fontStyle);e=k.metadata.Unicode?{widths:k.metadata.Unicode.widths||e,kerning:k.metadata.Unicode.kerning||h}:{widths:e,kerning:h}}a=Array.isArray(a)?a:a.split(/\r?\n/);b=1*this.internal.scaleFactor*b/d;e.textIndent=c.textIndent?1*c.textIndent*this.internal.scaleFactor/d:0;e.lineIndent=c.lineIndent;h=[];c=0;for(d=a.length;d>c;c++)h=h.concat(f(a[c],b,e));return h}})(k.API);(function(d){var c=function(a){for(var b={},c=0;16>c;c++)b["klmnopqrstuvwxyz"[c]]="0123456789abcdef"[c];
for(var d,e,f,h,k={},l=1,m=k,t=[],u="",D="",B=a.length-1,c=1;c!=B;)h=a[c],c+=1,"'"==h?d?(f=d.join(""),d=void 0):d=[]:d?d.push(h):"{"==h?(t.push([m,f]),m={},f=void 0):"}"==h?(e=t.pop(),e[0][e[1]]=m,f=void 0,m=e[0]):"-"==h?l=-1:void 0===f?b.hasOwnProperty(h)?(u+=b[h],f=parseInt(u,16)*l,l=1,u=""):u+=h:b.hasOwnProperty(h)?(D+=b[h],m[f]=parseInt(D,16)*l,l=1,f=void 0,D=""):D+=h;return k},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},
b={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},e={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
d.events.push(["addFonts",function(a){var c,d,f,k,l;for(d in a.fonts)a.fonts.hasOwnProperty(d)&&(c=a.fonts[d],f=e.Unicode[c.PostScriptName],f&&(k=c.metadata.Unicode?c.metadata.Unicode:c.metadata.Unicode={},k.widths=f.widths,k.kerning=f.kerning),l=b.Unicode[c.PostScriptName],l&&(k=c.metadata.Unicode?c.metadata.Unicode:c.metadata.Unicode={},k.encoding=l,l.codePages&&l.codePages.length&&(c.encoding=l.codePages[0])))}])})(k.API);(function(d){d.putTotalPages=function(c){c=new RegExp(c,"g");for(var a=1;a<=
this.internal.getNumberOfPages();a++)for(var b=0;b<this.internal.pages[a].length;b++)this.internal.pages[a][b]=this.internal.pages[a][b].replace(c,this.internal.getNumberOfPages());return this}})(k.API);(function(d){if(d.URL=d.URL||d.webkitURL,d.Blob&&d.URL)try{return new Blob,void 0}catch(c){}var a=d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||function(a){var c=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},d=function(){this.data=[]},e=function(a,b,c){this.data=
a;this.size=a.length;this.type=b;this.encoding=c},g=d.prototype,f=e.prototype,k=a.FileReaderSync,l=function(a){this.code=this[this.name=a]},m="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),t=m.length,u=a.URL||a.webkitURL||a,L=u.createObjectURL,E=u.revokeObjectURL,A=u,D=a.btoa,B=a.atob,C=a.ArrayBuffer,H=a.Uint8Array,G=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(e.fake=f.fake=!0;t--;)l.prototype[m[t]]=t+1;return u.createObjectURL||
(A=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(G),c.origin=b&&b[1])),c}),A.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof e?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):D?b+";base64,"+D(a.data):b+","+encodeURIComponent(a.data)):L?L.call(u,a):void 0},
A.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&E&&E.call(u,a)},g.append=function(a){var b=this.data;if(H&&(a instanceof C||a instanceof H)){var d="";a=new H(a);for(var g=0,f=a.length;f>g;g++)d+=String.fromCharCode(a[g]);b.push(d)}else if("Blob"===c(a)||"File"===c(a)){if(!k)throw new l("NOT_READABLE_ERR");d=new k;b.push(d.readAsBinaryString(a))}else a instanceof e?"base64"===a.encoding&&B?b.push(B(a.data)):"URI"===a.encoding?b.push(decodeURIComponent(a.data)):"raw"===a.encoding&&b.push(a.data):
("string"!=typeof a&&(a+=""),b.push(unescape(encodeURIComponent(a))))},g.getBlob=function(a){return arguments.length||(a=null),new e(this.data.join(""),a,"raw")},g.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var d=arguments.length;return 3>d&&(c=null),new e(this.data.slice(a,1<d?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0;delete this.data},d}(d);d.Blob=function(b,c){var d=c?c.type||"":"",e=new a;if(b)for(var g=
0,f=b.length;f>g;g++)e.append(b[g]);return e.getBlob(d)}})("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var t=t||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(d){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var c=d.document,a=c.createElementNS("http://www.w3.org/1999/xhtml","a"),b=!d.externalHost&&"download"in a,e=function(a){var b=c.createEvent("MouseEvents");
b.initMouseEvent("click",!0,!1,d,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)},f=d.webkitRequestFileSystem,k=d.requestFileSystem||f||d.mozRequestFileSystem,g=function(a){(d.setImmediate||d.setTimeout)(function(){throw a;},0)},l=0,m=function(a){var b=function(){"string"==typeof a?(d.URL||d.webkitURL||d).revokeObjectURL(a):a.remove()};d.chrome?b():setTimeout(b,10)},t=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){g(f)}}},
u=function(c,g){var u,v,y,B=this,C=c.type,H=!1,G=function(){t(B,["writestart","progress","write","writeend"])},F=function(){((H||!u)&&(u=(d.URL||d.webkitURL||d).createObjectURL(c)),v)?v.location.href=u:void 0==d.open(u,"_blank")&&"undefined"!=typeof safari&&(d.location.href=u);B.readyState=B.DONE;G();m(u)},N=function(a){return function(){return B.readyState!==B.DONE?a.apply(this,arguments):void 0}},K={create:!0,exclusive:!1};return B.readyState=B.INIT,g||(g="download"),b?(u=(d.URL||d.webkitURL||d).createObjectURL(c),
a.href=u,a.download=g,e(a),B.readyState=B.DONE,G(),m(u),void 0):(d.chrome&&C&&"application/octet-stream"!==C&&(y=c.slice||c.webkitSlice,c=y.call(c,0,c.size,"application/octet-stream"),H=!0),f&&"download"!==g&&(g+=".download"),("application/octet-stream"===C||f)&&(v=d),k?(l+=c.size,k(d.TEMPORARY,l,N(function(a){a.root.getDirectory("saved",K,N(function(a){var b=function(){a.getFile(g,K,N(function(a){a.createWriter(N(function(b){b.onwriteend=function(b){v.location.href=a.toURL();B.readyState=B.DONE;
t(B,"writeend",b);m(a)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&F()};["writestart","progress","write","abort"].forEach(function(a){b["on"+a]=B["on"+a]});b.write(c);B.abort=function(){b.abort();B.readyState=B.DONE};B.readyState=B.WRITING}),F)}),F)};a.getFile(g,{create:!1},N(function(a){a.remove();b()}),N(function(a){a.code===a.NOT_FOUND_ERR?b():F()}))}),F)}),F),void 0):(F(),void 0))},v=u.prototype;return v.abort=function(){this.readyState=this.DONE;t(this,"abort")},v.readyState=v.INIT=
0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(a,b){return new u(a,b)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module&&(module.exports=t);void function(d,c){"object"==typeof module?module.exports=c():d.adler32cs=c()}(k,function(){var d="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,c=null,a=function(){if(!d)return function(){return!1};try{var a=
require("buffer");"function"==typeof a.Buffer&&(c=a.Buffer)}catch(b){}return function(a){return a instanceof ArrayBuffer||null!==c&&a instanceof c}}(),b=function(){return null!==c?function(a){return(new c(a,"utf8")).toString("binary")}:function(a){return unescape(encodeURIComponent(a))}}(),e=function(a,b){for(var c=65535&a,d=a>>>16,e=0,g=b.length;g>e;e++)c=(c+(255&b.charCodeAt(e)))%65521,d=(d+c)%65521;return(d<<16|c)>>>0},f=function(a,b){for(var c=65535&a,d=a>>>16,e=0,g=b.length;g>e;e++)c=(c+b[e])%
65521,d=(d+c)%65521;return(d<<16|c)>>>0},k={},g=k.Adler32=function(){var c=function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(a=null==a?1:+a))throw Error("First arguments needs to be a finite number.");this.checksum=a>>>0},k=c.prototype={};return k.constructor=c,c.from=function(a){return a.prototype=k,a}(function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw Error("First argument needs to be a string.");
this.checksum=e(1,a.toString())}),c.fromUtf8=function(a){return a.prototype=k,a}(function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw Error("First argument needs to be a string.");a=b(a.toString());this.checksum=e(1,a)}),d&&(c.fromBuffer=function(a){return a.prototype=k,a}(function(b){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(!a(b))throw Error("First argument needs to be ArrayBuffer.");
b=new Uint8Array(b);return this.checksum=f(1,b)})),k.update=function(a){if(null==a)throw Error("First argument needs to be a string.");return a=a.toString(),this.checksum=e(this.checksum,a)},k.updateUtf8=function(a){if(null==a)throw Error("First argument needs to be a string.");a=b(a.toString());return this.checksum=e(this.checksum,a)},d&&(k.updateBuffer=function(b){if(!a(b))throw Error("First argument needs to be ArrayBuffer.");b=new Uint8Array(b);return this.checksum=f(this.checksum,b)}),k.clone=
function(){return new g(this.checksum)},c}();return k.from=function(a){if(null==a)throw Error("First argument needs to be a string.");return e(1,a.toString())},k.fromUtf8=function(a){if(null==a)throw Error("First argument needs to be a string.");a=b(a.toString());return e(1,a)},d&&(k.fromBuffer=function(b){if(!a(b))throw Error("First argument need to be ArrayBuffer.");b=new Uint8Array(b);return f(1,b)}),k});var f=function(){function d(){var a=this;a.build_tree=function(b){var c,d,e,g=a.dyn_tree;d=
a.stat_desc.static_tree;var f=a.stat_desc.elems,h=-1;b.heap_len=0;b.heap_max=u;for(c=0;f>c;c++)0!==g[2*c]?(b.heap[++b.heap_len]=h=c,b.depth[c]=0):g[2*c+1]=0;for(;2>b.heap_len;)e=b.heap[++b.heap_len]=2>h?++h:0,g[2*e]=1,b.depth[e]=0,b.opt_len--,d&&(b.static_len-=d[2*e+1]);a.max_code=h;for(c=Math.floor(b.heap_len/2);1<=c;c--)b.pqdownheap(g,c);e=f;do c=b.heap[1],b.heap[1]=b.heap[b.heap_len--],b.pqdownheap(g,1),d=b.heap[1],b.heap[--b.heap_max]=c,b.heap[--b.heap_max]=d,g[2*e]=g[2*c]+g[2*d],b.depth[e]=Math.max(b.depth[c],
b.depth[d])+1,g[2*c+1]=g[2*d+1]=e,b.heap[1]=e++,b.pqdownheap(g,1);while(2<=b.heap_len);b.heap[--b.heap_max]=b.heap[1];var l,m,f=a.dyn_tree,h=a.stat_desc.static_tree,q=a.stat_desc.extra_bits,p=a.stat_desc.extra_base,t=a.stat_desc.max_length,w=0;for(d=0;k>=d;d++)b.bl_count[d]=0;f[2*b.heap[b.heap_max]+1]=0;for(c=b.heap_max+1;u>c;c++)e=b.heap[c],d=f[2*f[2*e+1]+1]+1,d>t&&(d=t,w++),f[2*e+1]=d,e>a.max_code||(b.bl_count[d]++,l=0,e>=p&&(l=q[e-p]),m=f[2*e],b.opt_len+=m*(d+l),h&&(b.static_len+=m*(h[2*e+1]+l)));
if(0!==w){do{for(d=t-1;0===b.bl_count[d];)d--;b.bl_count[d]--;b.bl_count[d+1]+=2;b.bl_count[t]--;w-=2}while(0<w);for(d=t;0!==d;d--)for(e=b.bl_count[d];0!==e;)l=b.heap[--c],l>a.max_code||(f[2*l+1]!=d&&(b.opt_len+=(d-f[2*l+1])*f[2*l],f[2*l+1]=d),e--)}l=a.max_code;m=b.bl_count;b=[];e=0;for(c=1;k>=c;c++)b[c]=e=e+m[c-1]<<1;for(m=0;l>=m;m++)if(d=g[2*m+1],0!==d){c=2*m;e=b[d]++;f=0;do f|=1&e,e>>>=1,f<<=1;while(0<--d);g[c]=f>>>1}}}function c(a,b,c,d,e){this.static_tree=a;this.extra_bits=b;this.extra_base=
c;this.elems=d;this.max_length=e}function a(a,b,c,d,e){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=d;this.func=e}function b(a,b,c,d){var e=a[2*b];a=a[2*c];return a>e||e==a&&d[b]<=d[c]}function e(){function a(){var b;for(b=0;t>b;b++)Ha[2*b]=0;for(b=0;g>b;b++)Ta[2*b]=0;for(b=0;l>b;b++)ya[2*b]=0;Ha[2*v]=1;Da=rb=ga.opt_len=ga.static_len=0}function f(a,b){var c,d,e=-1,g=a[1],h=0,k=7,l=4;0===g&&(k=138,l=3);a[2*(b+1)+1]=65535;for(c=0;b>=c;c++)d=g,g=a[2*(c+1)+1],++h<k&&d==g||(l>h?
ya[2*d]+=h:0!==d?(d!=e&&ya[2*d]++,ya[2*x]++):10>=h?ya[2*L]++:ya[2*E]++,h=0,e=d,0===g?(k=138,l=3):d==g?(k=6,l=3):(k=7,l=4))}function h(a){ga.pending_buf[ga.pending++]=a}function k(a){h(255&a);h(a>>>8&255)}function p(a,b){ta>A-b?(Aa|=a<<ta&65535,k(Aa),Aa=a>>>A-ta,ta+=b-A):(Aa|=a<<ta&65535,ta+=b)}function r(a,b){var c=2*a;p(65535&b[c],65535&b[c+1])}function u(a,b){var c,d,e=-1,g=a[1],f=0,h=7,k=4;0===g&&(h=138,k=3);for(c=0;b>=c;c++)if(d=g,g=a[2*(c+1)+1],!(++f<h&&d==g)){if(k>f){do r(d,ya);while(0!==--f)
}else 0!==d?(d!=e&&(r(d,ya),f--),r(x,ya),p(f-3,2)):10>=f?(r(L,ya),p(f-3,3)):(r(E,ya),p(f-11,7));f=0;e=d;0===g?(h=138,k=3):d==g?(h=6,k=3):(h=7,k=4)}}function y(){16==ta?(k(Aa),Aa=0,ta=0):8<=ta&&(h(255&Aa),Aa>>>=8,ta-=8)}function X(a,b){var c,e,f;if(ga.pending_buf[db+2*Da]=a>>>8&255,ga.pending_buf[db+2*Da+1]=255&a,ga.pending_buf[qb+Da]=255&b,Da++,0===a?Ha[2*b]++:(rb++,a--,Ha[2*(d._length_code[b]+m+1)]++,Ta[2*d.d_code(a)]++),0===(8191&Da)&&2<xa){c=8*Da;e=ea-Ga;for(f=0;g>f;f++)c+=Ta[2*f]*(5+d.extra_dbits[f]);
if(c>>>=3,rb<Math.floor(Da/2)&&c<Math.floor(e/2))return!0}return Da==Za-1}function Ra(a,b){var c,e,g,f,h=0;if(0!==Da){do c=ga.pending_buf[db+2*h]<<8&65280|255&ga.pending_buf[db+2*h+1],e=255&ga.pending_buf[qb+h],h++,0===c?r(e,a):(g=d._length_code[e],r(g+m+1,a),f=d.extra_lbits[g],0!==f&&(e-=d.base_length[g],p(e,f)),c--,g=d.d_code(c),r(g,b),f=d.extra_dbits[g],0!==f&&(c-=d.base_dist[g],p(c,f)));while(Da>h)}r(v,a);eb=a[2*v+1]}function ub(){8<ta?k(Aa):0<ta&&h(255&Aa);ta=Aa=0}function vb(a,b,c){ub();eb=
8;c&&(k(b),k(~b));ga.pending_buf.set(ca.subarray(a,a+b),ga.pending);ga.pending+=b}function Sa(b){var e=0<=Ga?Ga:-1,g=ea-Ga,h,k,m=0;if(0<xa){cb.build_tree(ga);Ya.build_tree(ga);f(Ha,cb.max_code);f(Ta,Ya.max_code);pb.build_tree(ga);for(m=l-1;3<=m&&0===ya[2*d.bl_order[m]+1];m--);m=(ga.opt_len+=3*(m+1)+14,m);h=ga.opt_len+3+7>>>3;k=ga.static_len+3+7>>>3;h>=k&&(h=k)}else h=k=g+5;if(h>=g+4&&-1!=e)p((ua<<1)+(b?1:0),3),vb(e,g,!0);else if(k==h)p((va<<1)+(b?1:0),3),Ra(c.static_ltree,c.static_dtree);else{p((za<<
1)+(b?1:0),3);e=cb.max_code+1;g=Ya.max_code+1;m+=1;p(e-257,5);p(g-1,5);p(m-4,4);for(h=0;m>h;h++)p(ya[2*d.bl_order[h]+1],3);u(Ha,e-1);u(Ta,g-1);Ra(Ha,Ta)}a();b&&ub();Ga=ea;qa.flush_pending()}function jb(){var a,b,c,d;do{if(d=xb-ja-ea,0===d&&0===ea&&0===ja)d=ka;else if(-1==d)d--;else if(ea>=ka+ka-ra){ca.set(ca.subarray(ka,ka+ka),0);Pa-=ka;ea-=ka;Ga-=ka;c=a=Wa;do b=65535&pa[--c],pa[c]=b>=ka?b-ka:0;while(0!==--a);c=a=ka;do b=65535&Fa[--c],Fa[c]=b>=ka?b-ka:0;while(0!==--a);d+=ka}if(0===qa.avail_in)break;
a=qa.read_buf(ca,ea+ja,d);ja+=a;ja>=ha&&(la=255&ca[ea],la=(la<<Oa^255&ca[ea+1])&Na)}while(ra>ja&&0!==qa.avail_in)}function lb(a){var b,c,d=nb,e=ea,g=Ca,f=ea>ka-ra?ea-(ka-ra):0,h=bb,k=Ea,l=ea+Ua,m=ca[e+g-1],q=ca[e+g];Ca>=ob&&(d>>=2);h>ja&&(h=ja);do if(b=a,ca[b+g]==q&&ca[b+g-1]==m&&ca[b]==ca[e]&&ca[++b]==ca[e+1]){e+=2;for(b++;ca[++e]==ca[++b]&&ca[++e]==ca[++b]&&ca[++e]==ca[++b]&&ca[++e]==ca[++b]&&ca[++e]==ca[++b]&&ca[++e]==ca[++b]&&ca[++e]==ca[++b]&&ca[++e]==ca[++b]&&l>e;);if(c=Ua-(l-e),e=l-Ua,c>g){if(Pa=
a,g=c,c>=h)break;m=ca[e+g-1];q=ca[e+g]}}while((a=65535&Fa[a&k])>f&&0!==--d);return ja>=g?g:ja}function wb(a){for(var b,c,d=0;;){if(ra>ja){if(jb(),ra>ja&&a==G)return aa;if(0===ja)break}if(ja>=ha&&(la=(la<<Oa^255&ca[ea+(ha-1)])&Na,d=65535&pa[la],Fa[ea&Ea]=pa[la],pa[la]=ea),Ca=sa,yb=Pa,sa=ha-1,0!==d&&kb>Ca&&ka-ra>=(ea-d&65535)&&(ab!=C&&(sa=lb(d)),5>=sa&&(ab==B||sa==ha&&4096<ea-Pa)&&(sa=ha-1)),Ca>=ha&&Ca>=sa){c=ea+ja-ha;b=X(ea-1-yb,Ca-ha);ja-=Ca-1;Ca-=2;do++ea<=c&&(la=(la<<Oa^255&ca[ea+(ha-1)])&Na,d=
65535&pa[la],Fa[ea&Ea]=pa[la],pa[la]=ea);while(0!==--Ca);if(Xa=0,sa=ha-1,ea++,b&&(Sa(!1),0===qa.avail_out))return aa}else if(0!==Xa){if(b=X(0,255&ca[ea-1]),b&&Sa(!1),ea++,ja--,0===qa.avail_out)return aa}else Xa=1,ea++,ja--}return 0!==Xa&&(X(0,255&ca[ea-1]),Xa=0),Sa(a==K),0===qa.avail_out?a==K?ia:aa:a==K?fa:ba}var qa,Ba,La,wa,ka,Ma,Ea,ca,xb,Fa,pa,la,Wa,mb,Na,Oa,Ga,sa,yb,Xa,ea,Pa,ja,Ca,nb,kb,xa,ab,ob,bb,Ha,Ta,ya,ga=this,cb=new d,Ya=new d,pb=new d;ga.depth=[];var qb,Za,Da,db,rb,eb,Aa,ta;ga.bl_count=
[];ga.heap=[];Ha=[];Ta=[];ya=[];ga.pqdownheap=function(a,c){for(var d=ga.heap,e=d[c],g=c<<1;g<=ga.heap_len&&(g<ga.heap_len&&b(a,d[g+1],d[g],ga.depth)&&g++,!b(a,e,d[g],ga.depth));)d[c]=d[g],c=g,g<<=1;d[c]=e};ga.deflateInit=function(b,d,e,g,f,h){g||(g=na);f||(f=Y);h||(h=H);b.msg=null;d==D&&(d=6);if(1>f||f>W||g!=na||9>e||15<e||0>d||9<d||0>h||h>C)b=T;else{b.dstate=ga;Ma=e;ka=1<<Ma;Ea=ka-1;mb=f+7;Wa=1<<mb;Na=Wa-1;Oa=Math.floor((mb+ha-1)/ha);ca=new Uint8Array(2*ka);Fa=[];pa=[];Za=1<<f+6;ga.pending_buf=
new Uint8Array(4*Za);La=4*Za;db=Math.floor(Za/2);qb=3*Za;xa=d;ab=h;b.total_in=b.total_out=0;b.msg=null;ga.pending=0;ga.pending_out=0;Ba=ma;wa=G;cb.dyn_tree=Ha;cb.stat_desc=c.static_l_desc;Ya.dyn_tree=Ta;Ya.stat_desc=c.static_d_desc;pb.dyn_tree=ya;pb.stat_desc=c.static_bl_desc;ta=Aa=0;eb=8;a();xb=2*ka;for(b=pa[Wa-1]=0;Wa-1>b;b++)pa[b]=0;kb=Z[xa].max_lazy;ob=Z[xa].good_length;bb=Z[xa].nice_length;nb=Z[xa].max_chain;ja=Ga=ea=0;sa=Ca=ha-1;la=Xa=0;b=J}return b};ga.deflateEnd=function(){return Ba!=da&&
Ba!=ma&&Ba!=oa?T:(ga.pending_buf=null,pa=null,Fa=null,ca=null,ga.dstate=null,Ba==ma?U:J)};ga.deflateParams=function(a,b,c){var d=J;return b==D&&(b=6),0>b||9<b||0>c||c>C?T:(Z[xa].func!=Z[b].func&&0!==a.total_in&&(d=a.deflate(F)),xa!=b&&(xa=b,kb=Z[xa].max_lazy,ob=Z[xa].good_length,bb=Z[xa].nice_length,nb=Z[xa].max_chain),ab=c,d)};ga.deflateSetDictionary=function(a,b,c){a=c;var d=0;if(!b||Ba!=da)return T;if(ha>a)return J;a>ka-ra&&(a=ka-ra,d=c-a);ca.set(b.subarray(d,d+a),0);Ga=ea=a;la=255&ca[0];la=(la<<
Oa^255&ca[1])&Na;for(b=0;a-ha>=b;b++)la=(la<<Oa^255&ca[b+(ha-1)])&Na,Fa[b&Ea]=pa[la],pa[la]=b;return J};ga.deflate=function(a,b){var d,e,g,f;if(b>K||0>b)return T;if(!a.next_out||!a.next_in&&0!==a.avail_in||Ba==oa&&b!=K)return a.msg=R[P-T],T;if(0===a.avail_out)return a.msg=R[P-I],I;qa=a;f=wa;wa=b;Ba==da&&(e=na+(Ma-8<<4)<<8,g=(xa-1&255)>>1,3<g&&(g=3),e|=g<<6,0!==ea&&(e|=M),Ba=ma,e+=31-e%31,h(e>>8&255),h(e&255));if(0!==ga.pending){if(qa.flush_pending(),0===qa.avail_out)return wa=-1,J}else if(0===qa.avail_in&&
f>=b&&b!=K)return qa.msg=R[P-I],I;if(Ba==oa&&0!==qa.avail_in)return a.msg=R[P-I],I;if(0!==qa.avail_in||0!==ja||b!=G&&Ba!=oa){switch(f=-1,Z[xa].func){case O:a:{f=65535;for(f>La-5&&(f=La-5);;){if(1>=ja){if(jb(),0===ja&&b==G){f=aa;break a}if(0===ja)break}if((ea+=ja,ja=0,d=Ga+f,(0===ea||ea>=d)&&(ja=ea-d,ea=d,Sa(!1),0===qa.avail_out))||ea-Ga>=ka-ra&&(Sa(!1),0===qa.avail_out)){f=aa;break a}}f=(Sa(b==K),0===qa.avail_out?b==K?ia:aa:b==K?fa:ba)}break;case V:a:{for(f=0;;){if(ra>ja){if(jb(),ra>ja&&b==G){f=aa;
break a}if(0===ja)break}if(ja>=ha&&(la=(la<<Oa^255&ca[ea+(ha-1)])&Na,f=65535&pa[la],Fa[ea&Ea]=pa[la],pa[la]=ea),0!==f&&ka-ra>=(ea-f&65535)&&ab!=C&&(sa=lb(f)),sa>=ha)if(d=X(ea-Pa,sa-ha),ja-=sa,kb>=sa&&ja>=ha){sa--;do ea++,la=(la<<Oa^255&ca[ea+(ha-1)])&Na,f=65535&pa[la],Fa[ea&Ea]=pa[la],pa[la]=ea;while(0!==--sa);ea++}else ea+=sa,sa=0,la=255&ca[ea],la=(la<<Oa^255&ca[ea+1])&Na;else d=X(0,255&ca[ea]),ja--,ea++;if(d&&(Sa(!1),0===qa.avail_out)){f=aa;break a}}f=(Sa(b==K),0===qa.avail_out?b==K?ia:aa:b==K?
fa:ba)}break;case Q:f=wb(b)}if((f==ia||f==fa)&&(Ba=oa),f==aa||f==ia)return 0===qa.avail_out&&(wa=-1),J;if(f==ba){if(b==F)p(va<<1,3),r(v,c.static_ltree),y(),9>1+eb+10-ta&&(p(va<<1,3),r(v,c.static_ltree),y()),eb=7;else if(p((ua<<1)+0,3),vb(0,0,!0),b==N)for(d=0;Wa>d;d++)pa[d]=0;if(qa.flush_pending(),0===qa.avail_out)return wa=-1,J}}return b!=K?J:S}}function f(){this.total_out=this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var k=15,g=30,l=19,m=256,t=m+1+29,u=2*t+1,
v=256,x=16,L=17,E=18,A=16,D=-1,B=1,C=2,H=0,G=0,F=1,N=3,K=4,J=0,S=1,P=2,T=-2,U=-3,I=-5,X=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,
25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,
29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];d._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,
24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];d.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];d.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,
96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];d.d_code=function(a){return 256>a?X[a]:X[256+(a>>>7)]};d.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];d.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];d.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];d.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];c.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,
8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,
8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,
9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,
8,67,8,195,8,35,8,163,8,99,8,227,8];c.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];c.static_l_desc=new c(c.static_ltree,d.extra_lbits,m+1,t,k);c.static_d_desc=new c(c.static_dtree,d.extra_dbits,0,g,k);c.static_bl_desc=new c(null,d.extra_blbits,0,l,7);var W=9,Y=8,O=0,V=1,Q=2,Z=[new a(0,0,0,0,O),new a(4,4,8,4,V),new a(4,5,16,8,V),new a(4,6,32,32,V),new a(4,4,16,16,Q),new a(8,16,32,32,Q),new a(8,
16,128,128,Q),new a(8,32,128,256,Q),new a(32,128,258,1024,Q),new a(32,258,258,4096,Q)],R="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";"),aa=0,ba=1,ia=2,fa=3,M=32,da=42,ma=113,oa=666,na=8,ua=0,va=1,za=2,ha=3,Ua=258,ra=Ua+ha+1;return f.prototype={deflateInit:function(a,b){return this.dstate=new e,b||(b=k),this.dstate.deflateInit(this,a,b)},deflate:function(a){return this.dstate?this.dstate.deflate(this,a):T},deflateEnd:function(){if(!this.dstate)return T;var a=this.dstate.deflateEnd();
return this.dstate=null,a},deflateParams:function(a,b){return this.dstate?this.dstate.deflateParams(this,a,b):T},deflateSetDictionary:function(a,b){return this.dstate?this.dstate.deflateSetDictionary(this,a,b):T},read_buf:function(a,b,c){var d=this.avail_in;return d>c&&(d=c),0===d?0:(this.avail_in-=d,a.set(this.next_in.subarray(this.next_in_index,this.next_in_index+d),b),this.next_in_index+=d,this.total_in+=d,d)},flush_pending:function(){var a=this.dstate.pending;a>this.avail_out&&(a=this.avail_out);
0!==a&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+a),this.next_out_index),this.next_out_index+=a,this.dstate.pending_out+=a,this.total_out+=a,this.avail_out-=a,this.dstate.pending-=a,0===this.dstate.pending&&(this.dstate.pending_out=0))}},function(a){var b=new f,c=G,d=new Uint8Array(512);"undefined"==typeof a&&(a=D);b.deflateInit(a);b.next_out=d;this.append=function(a,e){var g,f,h=[],k=0,l=0,m=0;if(a.length){b.next_in_index=0;b.next_in=a;b.avail_in=
a.length;do{if(b.next_out_index=0,b.avail_out=512,g=b.deflate(c),g!=J)throw"deflating: "+b.msg;b.next_out_index&&(512==b.next_out_index?h.push(new Uint8Array(d)):h.push(new Uint8Array(d.subarray(0,b.next_out_index))));m+=b.next_out_index;e&&0<b.next_in_index&&b.next_in_index!=k&&(e(b.next_in_index),k=b.next_in_index)}while(0<b.avail_in||0===b.avail_out);return f=new Uint8Array(m),h.forEach(function(a){f.set(a,l);l+=a.length}),f}};this.flush=function(){var a,c,e=[],g=0,f=0;do{if(b.next_out_index=0,
b.avail_out=512,a=b.deflate(K),a!=S&&a!=J)throw"deflating: "+b.msg;0<512-b.avail_out&&e.push(new Uint8Array(d.subarray(0,b.next_out_index)));f+=b.next_out_index}while(0<b.avail_in||0===b.avail_out);return b.deflateEnd(),c=new Uint8Array(f),e.forEach(function(a){c.set(a,g);g+=a.length}),c}}}(this);!function(d){var c;c=function(){function a(a){var b,c,d,e,f,h;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(e=null;;){b=this.readUInt32();
h=a=void 0;h=[];for(a=0;4>a;++a)h.push(String.fromCharCode(this.data[this.pos++]));switch(a=h.join("")){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case "PLTE":this.palette=
this.read(b);break;case "fcTL":e&&this.animation.frames.push(e);this.pos+=4;e={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};a=this.readUInt16();b=this.readUInt16()||100;e.delay=1E3*a/b;e.disposeOp=this.data[this.pos++];e.blendOp=this.data[this.pos++];e.data=[];break;case "IDAT":case "fdAT":"fdAT"===a&&(this.pos+=4,b-=4);a=(null!=e?e.data:void 0)||this.imgData;for(h=0;0<=b?b>h:h>b;0<=b?++h:--h)a.push(this.data[this.pos++]);break;case "tRNS":switch(this.transparency=
{},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(b),this.transparency.indexed.length>d)throw Error("More transparent colors than palette size");if(f=d-this.transparency.indexed.length,0<f)for(b=0;0<=f?f>b:b>f;0<=f?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(b)[0];break;case 2:this.transparency.rgb=this.read(b)}break;case "tEXt":h=this.read(b);b=h.indexOf(0);a=String.fromCharCode.apply(String,h.slice(0,b));this.text[a]=
String.fromCharCode.apply(String,h.slice(b+1));break;case "IEND":e&&this.animation.frames.push(e);a:{switch(this.colorType){case 0:case 3:case 4:d=1;break a;case 2:case 6:d=3;break a}d=void 0}this.colors=d;this.hasAlphaChannel=4===(c=this.colorType)||6===c;c=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*c;a:{switch(this.colors){case 1:c="DeviceGray";break a;case 3:c="DeviceRGB";break a}c=void 0}return this.colorSpace=c,this.imgData=new Uint8Array(this.imgData),void 0;default:this.pos+=
b}if(this.pos+=4,this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}var b,c,e;a.load=function(b,c,d){var e;return"function"==typeof c&&(d=c),e=new XMLHttpRequest,e.open("GET",b,!0),e.responseType="arraybuffer",e.onload=function(){var b,g;return b=new Uint8Array(e.response||e.mozResponseArrayBuffer),g=new a(b),"function"==typeof(null!=c?c.getContext:void 0)&&g.render(c),"function"==typeof d?d(g):void 0},e.send(null)};a.prototype.read=function(a){var b,c;c=[];for(b=0;0<=a?a>b:
b>a;0<=a?++b:--b)c.push(this.data[this.pos++]);return c};a.prototype.readUInt32=function(){var a,b,c,d;return a=this.data[this.pos++]<<24,b=this.data[this.pos++]<<16,c=this.data[this.pos++]<<8,d=this.data[this.pos++],a|b|c|d};a.prototype.readUInt16=function(){var a,b;return a=this.data[this.pos++]<<8,b=this.data[this.pos++],a|b};a.prototype.decodePixels=function(a){var b,c,d,e,f,h,k,l,m,p,r,t,H,G,F;if(null==a&&(a=this.imgData),0===a.length)return new Uint8Array(0);a=new u(a);a=a.getBytes();l=this.pixelBitlength/
8;t=l*this.width;m=new Uint8Array(t*this.height);h=a.length;for(c=p=r=0;h>p;){switch(a[p++]){case 0:for(b=0;t>b;b+=1)m[c++]=a[p++];break;case 1:for(e=F=0;t>F;e=F+=1)b=a[p++],f=l>e?0:m[c-l],m[c++]=(b+f)%256;break;case 2:for(e=f=0;t>f;e=f+=1)b=a[p++],d=(e-e%l)/l,H=r&&m[(r-1)*t+d*l+e%l],m[c++]=(H+b)%256;break;case 3:for(e=F=0;t>F;e=F+=1)b=a[p++],d=(e-e%l)/l,f=l>e?0:m[c-l],H=r&&m[(r-1)*t+d*l+e%l],m[c++]=(b+Math.floor((f+H)/2))%256;break;case 4:for(e=F=0;t>F;e=F+=1)b=a[p++],d=(e-e%l)/l,f=l>e?0:m[c-l],
0===r?H=G=0:(H=m[(r-1)*t+d*l+e%l],G=d&&m[(r-1)*t+(d-1)*l+e%l]),k=f+H-G,e=Math.abs(k-f),d=Math.abs(k-H),k=Math.abs(k-G),f=d>=e&&k>=e?f:k>=d?H:G,m[c++]=(b+f)%256;break;default:throw Error("Invalid filter algorithm: "+a[p-1]);}r++}return m};a.prototype.decodePalette=function(){var a,b,c,d,e,f,h,k,l;c=this.palette;f=this.transparency.indexed||[];e=new Uint8Array((f.length||0)+c.length);b=h=a=d=0;for(k=c.length;k>h;b=h+=3)e[d++]=c[b],e[d++]=c[b+1],e[d++]=c[b+2],e[d++]=null!=(l=f[a++])?l:255;return e};
a.prototype.copyToImageData=function(a,b){var c,d,e,f,h,k,l,m,p;if(d=this.colors,m=null,c=this.hasAlphaChannel,this.palette.length&&(m=null!=(p=this._decodedPalette)?p:this._decodedPalette=this.decodePalette(),d=4,c=!0),e=a.data||a,l=e.length,h=m||b,f=k=0,1===d)for(;l>f;)d=m?4*b[f/4]:k,k=h[d++],e[f++]=k,e[f++]=k,e[f++]=k,e[f++]=c?h[d++]:255,k=d;else for(;l>f;)d=m?4*b[f/4]:k,e[f++]=h[d++],e[f++]=h[d++],e[f++]=h[d++],e[f++]=c?h[d++]:255,k=d};a.prototype.decode=function(){var a;return a=new Uint8Array(this.width*
this.height*4),this.copyToImageData(a,this.decodePixels()),a};try{c=d.document.createElement("canvas"),e=c.getContext("2d")}catch(f){return-1}return b=function(a){var b;return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),b=new Image,b.src=c.toDataURL(),b},a.prototype.decodeFrames=function(a){var c,d,e,f,h,k,l;if(this.animation){k=this.animation.frames;l=[];c=f=0;for(h=k.length;h>f;c=++f)c=k[c],d=a.createImageData(c.width,c.height),e=this.decodePixels(new Uint8Array(c.data)),
this.copyToImageData(d,e),c.imageData=d,l.push(c.image=b(d));return l}},a.prototype.renderFrame=function(a,b){var c,d,e;return d=this.animation.frames,c=d[b],e=d[b-1],0===b&&a.clearRect(0,0,this.width,this.height),1===(null!=e?e.disposeOp:void 0)?a.clearRect(e.xOffset,e.yOffset,e.width,e.height):2===(null!=e?e.disposeOp:void 0)&&a.putImageData(e.imageData,e.xOffset,e.yOffset),0===c.blendOp&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},a.prototype.animate=
function(a){var b,c,d,e,f,h,k=this;return c=0,h=this.animation,e=h.numFrames,d=h.frames,f=h.numPlays,(b=function(){var h,l;return h=c++%e,l=d[h],k.renderFrame(a,h),1<e&&f>c/e?k.animation._timeout=setTimeout(b,l.delay):void 0})()},a.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)},a.prototype.render=function(a){var b,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,b=a.getContext("2d"),this.animation?
(this.decodeFrames(b),this.animate(b)):(c=b.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),b.putImageData(c,0,0))},a}();d.PNG=c}("undefined"!=typeof window&&window||this);var e=function(){function d(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}return d.prototype={ensureBuffer:function(c){var a=this.buffer,b=a?a.byteLength:0;if(b>c)return a;for(var d=512;c>d;)d<<=1;c=new Uint8Array(d);for(d=0;b>d;++d)c[d]=a[d];return this.buffer=c},getByte:function(){for(var c=
this.pos;this.bufferLength<=c;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(c){var a=this.pos;if(c){this.ensureBuffer(a+c);for(c=a+c;!this.eof&&this.bufferLength<c;)this.readBlock();var b=this.bufferLength;c>b&&(c=b)}else{for(;!this.eof;)this.readBlock();c=this.bufferLength}return this.pos=c,this.buffer.subarray(a,c)},lookChar:function(){for(var c=this.pos;this.bufferLength<=c;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},
getChar:function(){for(var c=this.pos;this.bufferLength<=c;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(c,a,b){for(var d=c+a;this.bufferLength<=d&&!this.eof;)this.readBlock();return new Stream(this.buffer,c,a,b)},skip:function(c){c||(c=1);this.pos+=c},reset:function(){this.pos=0}},d}(),u=function(){function d(a){throw Error(a);}function c(a){var b=0,c=a[b++],f=a[b++];-1!=c&&-1!=f||d("Invalid header in flate stream");8!=(15&
c)&&d("Unknown compression method in flate stream");0!=((c<<8)+f)%31&&d("Bad FCHECK in flate stream");32&f&&d("FDICT bit set in flate stream");this.bytes=a;this.bytesPos=b;this.codeBuf=this.codeSize=0;e.call(this)}if("undefined"!=typeof Uint32Array){var a=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,
258]),f=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),k=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,
590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,
590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,
590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,
590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,
590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,
590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,
590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],l=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,
327687,327703,327695,0]),5];return c.prototype=Object.create(e.prototype),c.prototype.getBits=function(a){for(var b,c=this.codeSize,e=this.codeBuf,f=this.bytes,h=this.bytesPos;a>c;)"undefined"==typeof(b=f[h++])&&d("Bad encoding in flate stream"),e|=b<<c,c+=8;return b=e&(1<<a)-1,this.codeBuf=e>>a,this.codeSize=c-a,this.bytesPos=h,b},c.prototype.getCode=function(a){var b=a[0],c=a[1];a=this.codeSize;for(var e=this.codeBuf,f=this.bytes,h=this.bytesPos;c>a;){var k;"undefined"==typeof(k=f[h++])&&d("Bad encoding in flate stream");
e|=k<<a;a+=8}c=b[e&(1<<c)-1];b=c>>16;c&=65535;return(0==a||b>a||0==b)&&d("Bad encoding in flate stream"),this.codeBuf=e>>b,this.codeSize=a-b,this.bytesPos=h,c},c.prototype.generateHuffmanTable=function(a){for(var b=a.length,c=0,d=0;b>d;++d)a[d]>c&&(c=a[d]);for(var e=1<<c,f=new Uint32Array(e),h=1,k=0,l=2;c>=h;++h,k<<=1,l<<=1)for(var m=0;b>m;++m)if(a[m]==h){for(var p=0,r=k,d=0;h>d;++d)p=p<<1|1&r,r>>=1;for(d=p;e>d;d+=l)f[d]=h<<16|m;++k}return[f,c]},c.prototype.readBlock=function(){function c(a,b,d,e,
g){for(a=a.getBits(d)+e;0<a--;)b[L++]=g}var e=this.getBits(3);if(1&e&&(this.eof=!0),e>>=1,0==e){var m,t=this.bytes,u=this.bytesPos;"undefined"==typeof(m=t[u++])&&d("Bad block header in flate stream");var v=m;"undefined"==typeof(m=t[u++])&&d("Bad block header in flate stream");v|=m<<8;"undefined"==typeof(m=t[u++])&&d("Bad block header in flate stream");e=m;"undefined"==typeof(m=t[u++])&&d("Bad block header in flate stream");(e|m<<8)!=(65535&~v)&&d("Bad uncompressed block length in flate stream");this.codeSize=
this.codeBuf=0;m=this.bufferLength;e=this.ensureBuffer(m+v);this.bufferLength=v=m+v;for(var x=m;v>x;++x){if("undefined"==typeof(m=t[u++])){this.eof=!0;break}e[x]=m}return this.bytesPos=u,void 0}if(1==e)u=k,m=l;else if(2==e){e=this.getBits(5)+257;m=this.getBits(5)+1;for(var t=this.getBits(4)+4,u=Array(a.length),L=0;t>L;)u[a[L++]]=this.getBits(3);u=this.generateHuffmanTable(u);L=t=0;m=e+m;for(v=Array(m);m>L;)x=this.getCode(u),16==x?c(this,v,2,3,t):17==x?c(this,v,3,3,t=0):18==x?c(this,v,7,11,t=0):v[L++]=
t=x;u=this.generateHuffmanTable(v.slice(0,e));m=this.generateHuffmanTable(v.slice(e,m))}else d("Unknown block type in flate stream");v=(e=this.buffer)?e.length:0;for(x=this.bufferLength;;){var E=this.getCode(u);if(256>E)x+1>=v&&(e=this.ensureBuffer(x+1),v=e.length),e[x++]=E;else{if(256==E)return this.bufferLength=x,void 0;var E=E-257,E=b[E],A=E>>16;0<A&&(A=this.getBits(A));t=(65535&E)+A;E=this.getCode(m);E=f[E];A=E>>16;0<A&&(A=this.getBits(A));E=(65535&E)+A;x+t>=v&&(e=this.ensureBuffer(x+t),v=e.length);
for(A=0;t>A;++A,++x)e[x]=e[x-E]}}},c}}();!function(d){"undefined"==typeof d.btoa&&(d.btoa=function(c){var a,b,d,e,f=0,g=0,k="",k=[];if(!c)return c;do a=c.charCodeAt(f++),b=c.charCodeAt(f++),d=c.charCodeAt(f++),e=a<<16|b<<8|d,a=e>>18&63,b=e>>12&63,d=e>>6&63,e&=63,k[g++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e);while(f<c.length);k=k.join("");c=c.length%3;return(c?k.slice(0,c-3):k)+"===".slice(c||3)});"undefined"==typeof d.atob&&(d.atob=function(c){var a,b,d,e,f,g=0,k=0,l=[];if(!c)return c;c+="";do a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(g++)),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(g++)),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(g++)),
f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(g++)),d=a<<18|b<<12|e<<6|f,a=d>>16&255,b=d>>8&255,d&=255,l[k++]=64==e?String.fromCharCode(a):64==f?String.fromCharCode(a,b):String.fromCharCode(a,b,d);while(g<c.length);return l.join("")});Array.prototype.map||(Array.prototype.map=function(c){if(void 0===this||null===this||"function"!=typeof c)throw new TypeError;for(var a=Object(this),b=a.length>>>0,d=Array(b),e=1<arguments.length?arguments[1]:void 0,f=0;b>f;f++)f in
a&&(d[f]=c.call(e,a[f],f,a));return d});Array.isArray||(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)});Array.prototype.forEach||(Array.prototype.forEach=function(c,a){if(void 0===this||null===this||"function"!=typeof c)throw new TypeError;for(var b=Object(this),d=b.length>>>0,e=0;d>e;e++)e in b&&c.call(a,b[e],e,b)});Object.keys||(Object.keys=function(){var c=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),b="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
d=b.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError;var f,g=[];for(f in e)c.call(e,f)&&g.push(f);if(a)for(f=0;d>f;f++)c.call(e,b[f])&&g.push(b[f]);return g}}());String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,
"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this)}({},function(){return this}());"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.PDF=function(l){var k=l.dom,m=l.util;this.save=function(f){f=f||{};var e=f.dpi||72,k=f.quality||1,d=f.onsuccess||console.warn.bind(console);f.onerror||console.warn.bind(console);var c=f.onprogress,a=l.doc,b=a.pages.data,h=m.count(b)||1,p=0,r=0;0===b.length?(p=a.computed.width,r=a.computed.height):m.each(b,function(a){p=Math.max(p,a.width);r=Math.max(r,a.height)});var g=m.toMetrics["px>mm"],q=new jsPDF(p>r?"landscape":"portrait","mm",[p*g,r*g]),w=q.internal.pageSize.width,
z=q.internal.pageSize.height,y=0,v=m.Queue({delayStart:!0,range:{from:0,to:h-1},oncomplete:function(){c&&c(100);d(q.output("blob"))},next:function(d,g,m){0!==m&&q.addPage();var p=b[m]||a.computed;Array.isArray(b)?(f.x=0,f.y=y):(l.doc=p,f.x=0,f.y=0);f.width=p.width;f.height=p.height;l.save.canvas(f,function(a){var b=a.ctx;b.globalCompositeOperation="destination-atop";b.fillStyle="#fff";b.fillRect(0,0,a.width,a.height);var b=a.toDataURL("image/jpeg",k),d=72/e;a=Math.max(a.width*d/w,a.height*d/z);q.addImage(b,
"JPEG",0,0,p.width/a,p.height/a);y+=p.height;c&&c(m/h*100);l.agent.ios?v.next():setTimeout(v.next,1)})}})};this.open=function(f){var e=l.doc,u=l.feature,d=e.scene,c=f.point,a=f.openAsNew,b=f.onprogress,h=f.onsuccess;PDFJS.getDocument(f.file).then(function(f){var r=[],g=0,q=0,w=m.Queue({delayStart:!0,range:{from:1,to:f.numPages},oncomplete:function(){b&&b(100);if(a){l.exec("new");e.setSize(q,g);e.pages={};e.pages.data=[];e.pages.length=r.length;var f=0,k=m.Queue({items:r,delayStart:!0,oncomplete:function(){e.tool("select");
l.exec("zoom-reset");d.selectByIdx(E,!1);h&&h()},next:function(a,b,c){a=r[c];e.pages.data[c]={src:a.src,width:a.width,height:a.height};c=0;b=f;"objectBoundingBox"===u.tools.media.units&&(c+=a.width/2,b+=a.height/2);d.add({type:"image",src:a.src,width:a.width,height:a.height,x:c,y:b},this.next);f+=a.height}})}else{var p=u.io.translateX,w=u.io.translateY,L=r.length-1;c.x-=L/2*p;c.y-=L/2*w;var E={},k=m.Queue({items:r,delayStart:!0,oncomplete:function(){e.tool("select");d.selectByIdx(E,!1);e.render.dirty=
!0;h&&h()},next:function(a,b,e){d.add({centerOnPoint:!0,type:"image",src:a.src,x:c.x+e*p,y:c.y+e*w},function(a){E[a.zIndex]=!0;k.next()})}})}},next:function(a){f.getPage(a).then(function(c){var d=c.getViewport(1.5),e=k.Canvas(d.width,d.height);c.render({canvasContext:e.ctx,viewport:d}).then(function(){q=Math.max(e.width,q);g+=e.height;e.toBlobURL(function(c){b&&b(Math.round(a/f.numPages*100));r.push({src:c,width:e.width,height:e.height});w.next()})})})}})}).catch(function(a){console.error(a)})}}})(sketch);
(function(m){function l(a){function b(c){function d(){g();if(C&&C.length)for(var b=0;b<C.length;b++){var c=C[b];c.id?m[c.id]=c.value:m.push(c.value)}"function"===typeof a&&(C&&C.length?a(!0,m):a(!0))}w.verify?w.verify(C,function(a){a&&d()}):d()}function d(b){eventjs.prevent(b);g();"function"===typeof a&&a(-1)}function e(b){eventjs.prevent(b);g();"function"===typeof a&&a(!1)}function g(){p.hide();t(document.body,"keyup",f);t(x,"focus",h);v&&t(v,"click",b);z&&t(z,"click",e);y&&t(y,"click",d)}function f(a){var c=
a.keyCode;c===H.ESC&&z&&e(a);c===H.ENTER&&v===document.activeElement&&b(a)}function h(a){l?C[0].focus():z?z.focus():v.focus()}var l=C&&C.length,m=[];k(x,"focus",h);v&&k(v,"click",b);z&&k(z,"click",e);y&&k(y,"click",d);k(document.body,"keyup",f);q.supported||c()}function k(a,b,c){"object"===typeof eventjs?eventjs.add(a,b,c):"function"===typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function t(a,b,c){"object"===typeof eventjs?eventjs.remove(a,b,c):"function"===
typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function f(a,b){function c(a){if(p.labels[a]){var b=document.createElement("button");b.className="alertify-button alertify-button-"+a;b.id="alertify-"+a;b.innerHTML=p.labels[a];m.appendChild(b)}}function d(a,b){"object"===typeof b?a.appendChild(b):a.innerHTML=b}var e=b.type,g=b.content||"",f=b.src||"",h=document.createElement("div");h.className="alertify-dialog";if(f){var k=document.createElement("iframe");
k.src=f}else k=document.createElement("p"),k.className="alertify-message",d(k,g);h.appendChild(k);if("prompt"===e){var g=b.fields,l=document.createElement("div");l.className="alertify-text-wrapper";g.forEach(function(a){var b=a.value||"",c;"textarea"===a.type?(c=document.createElement("textarea"),c.innerHTML=b):(c=document.createElement("input"),c.value=b,c.type=a.type);c.id=a.id;c.title=a.title;c.className="alertify-text";c.setAttribute("data-value",b);b=document.createElement("span");b.textContent=
a.title;l.appendChild(b);l.appendChild(c)});k.appendChild(l)}var m,g=document.createElement("button");g.className="alertify-resetFocus";h.appendChild(g);switch(e){case "confirm":case "prompt":m=document.createElement("div");m.className="alertify-footer";h.appendChild(m);c("cancel");c("disregard");c("ok");break;case "alert":case "notify":case "overlay":g=document.createElement("span"),g.className="icon-close",g.id="alertify-ok",h.appendChild(g)}var q=!1!==b.showCover;D.classList.remove("alertify-hidden");
q&&A.classList.remove("alertify-hidden");a.innerHTML="";a.appendChild(h);requestAnimationFrame(function(){D.className="alertify alertify-"+e;q&&(A.className="alertify-cover");eventjs.add(a,"mousedown",eventjs.stop);p.resize()});p.resize=function(){function c(b){a.style.width=b;a.style.maxWidth="auto"===b?"":b}function d(b){a.style.height=b;a.style.maxHeight="auto"===b?"":b}if(b.width&&b.height)c(b.width),d(b.height);else{c("auto");k.style.display="inline-block";var e=k.offsetWidth+20,g=40;if(m)for(var f=
m.childNodes,h=0;h<f.length;h++)g+=f[h].offsetWidth;e=Math.max(e,g);k.style.display="";c(e+"px");k.style.maxHeight="";d("auto");e=k.scrollHeight;g=Math.min((m&&m.offsetHeight||0)+e,window.innerHeight-50);k.style.maxHeight=e+"px";d(g+"px")}}}function e(){document.createElement("div");document.createElement("div");document.createElement("div");A=document.createElement("div");A.className="alertify-cover alertify-cover-hide alertify-hidden";document.body.appendChild(A);D=document.createElement("div");
D.id="alertify";D.className="alertify alertify-hide alertify-hidden";document.body.appendChild(D);B=document.createElement("div");B.id="alertify-logs";B.className="alertify-logs alertify-hidden";document.body.appendChild(B);document.body.setAttribute("tabindex","0");var a,b=!1,c=document.createElement("fakeelement"),d={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},g;for(g in d)if(void 0!==c.style[g]){a=d[g];b=!0;break}q=
{type:a,supported:b};e=void 0}function u(a,b,c){e&&e();B.className="alertify-logs";d(a,b,c);return{lastItem:p.lastItem,close:p.close,hide:p.hide}}function d(a,b,c){var d=document.createElement("div");d.className="alertify-log alertify-log-hide"+("string"===typeof b&&b?" alertify-log-"+b:"");d.innerHTML=a;B.appendChild(d);p.close(d,c);p.lastItem=d;setTimeout(function(){d.classList.remove("alertify-log-hide")},40)}function c(){C&&C.length?(C[0].focus(),C[0].select()):L&&L.focus()}function a(a){var d=
g[0],e=d.callback;r=!0;q.supported&&!a&&b(D,function(){c()});f(D,d);eventjs.add(D.firstChild,"click",eventjs.stop);eventjs.add(A,"click",function(){p.hide();e&&e(!1)});x=h(".alertify-resetFocus");v=h("#alertify-ok");z=h("#alertify-cancel");y=h("#alertify-disregard");L="cancel"===p.buttonFocus?z||document.body:"none"===p.buttonFocus?document.body:v||document.body;C=document.querySelectorAll(".alertify-text-wrapper .alertify-text")||void 0;w=d;C&&C.length&&d.fields.forEach(function(a,b){C[b].placeholder=
a.placeholder||""});c();l(e);return this}function b(a,b){var c=q.type;k(a,c,function J(a){a.stopPropagation();t(this,c,J);b&&b.call(this)})}function h(a){return document.querySelector(a)||void 0}var p=m.alertify={},r=!1,g=[],q,w,z,y,v,x,L,E,A,D,B,C,H={ENTER:13,ESC:27};p.buttonFocus="ok";p.delay=1500;p.labels={ok:"OK",cancel:"Cancel"};p.resize=function(){};p.close=function(a,c){function d(){B.hasChildNodes()||(q.supported?(b(B,function(){B.classList.add("alertify-hidden")}),B.classList.add("alertify-logs-hide")):
B.classList.add("alertify-hidden"))}function e(a){void 0!==a&&(q.supported?(b(a,function(){a.parentNode===B&&B.removeChild(a);d()}),a.classList.add("alertify-log-hide")):(a.parentNode===B&&B.removeChild(a),d()))}a=a||p.lastItem;var g=isFinite(c)?c:p.delay;k(a,"click",function(){e(a)});0!==c&&setTimeout(function(){e(a)},g)};p.dialog=function(){return function(b,c,d,f,h){var k={};"[object Object]"===Object.prototype.toString.call(c)?(k=c).labels&&(p.labels=k.labels):(k.content=c,k.callback=d,k.fields=
f,k.className=h);k.type=b;if(k.fields){c=k;d=k.fields;f=[];"string"===typeof d&&(d=[d]);if(Array.isArray(d)){h={string:"text",number:"number","boolean":"checkbox"};for(var l=0;l<d.length;l++){var m=d[l],q=typeof m;"object"===q?f.push(m):(q=h[q])&&f.push({type:q,placeholder:m})}}0===f.length&&f.push({type:"text",placeholder:""});c.fields=f}k.id=Date.now();E=document.activeElement;if("string"!==typeof b)throw Error("type must be a string");if("undefined"!==typeof k.callback&&"function"!==typeof k.callback)throw Error("callback must be a function");
e&&e();g.push(k);!r&&a();return k.id}}();p.extend=function(a){if("string"!==typeof a)throw Error("extend method must have exactly one paramter");return function(b,c){u(b,a,c);return this}};p.hide=function(){function c(a){for(var b=0;b<g.length;b++)if(g[b].id===a)return g.splice(b,1)[0]}return function(d){if(E){if(isFinite(d)){if(!c(d))return}else g.splice(0,1);if(0<g.length)a(!0);else{r=!1;var e=A.classList,f=D.classList;q.supported?(b(D,function(){f.contains("alertify-hide")&&(f.add("alertify-hidden"),
e.add("alertify-hidden"))}),f.add("alertify-hide"),e.add("alertify-cover-hide")):(f.add("alertify-hide","alertify-hidden"),e.add("alertify-cover-hide","alertify-hidden"));E.focus()}}}}();p.set=function(a){if("object"!==typeof a&&a instanceof Array)throw Error("args must be an object");for(var b in a)a.hasOwnProperty(b)&&(p[b]=a[b])};p.isLogVisible=function(){return!(!h(".alertify-logs")||h(".alertify-logs.alertify-hidden"))};p.alert=function(a,b,c){return p.dialog("alert",a,b,"",c)};p.confirm=function(a,
b,c){return p.dialog("confirm",a,b,"",c)};p.log=function(a,b){return u(a,"",b)};p.prompt=function(a,b,c,d){return p.dialog("prompt",a,b,c,d)};p.success=function(a,b){return u(a,"success",b)};p.error=function(a,b){return u(a,"error",b)};p.warn=function(a,b){return u(a,"warn",b)}})(this);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.UISidebar=function(l,k){function m(a,b){eventjs.cancel(a);var d=b.pointerEnd;b.pointerStart&&(b.delta(),b.env.$scroll=c.querySelector(".sk-pane.selected .sk-pane-content"),b.env.axis=null,b.env.timestamp=u.now(),document.activeElement&&document.activeElement.blur());var e=b.start;if("right"===k)var h=e.x-b.x,p=e.y-b.y;else h=b.x-e.x,p=b.y-e.y;e=c.offsetWidth;if(!1===f.disabled){var t=Math.min(0,h);Math.min(0,p);f.opened?null==b.env.axis&&(20>=Math.abs(p)||
(b.env.axis="y"),20>=Math.abs(h)?t=0:b.env.axis="x"):(t=Math.min(0,Math.max(0,h)-e),t<=-e+20&&!b.env.axis?t=-e:b.env.axis="y");if(d)if(eventjs.prevent(a),d=u.now()-b.env.timestamp,d=Math.min(350,d)/1E3,h=!b.env.axis&&b.isArrow,f.opened){if(-50>=t||h){f.setAnimate(!0,d);f.close();return}t=0}else{if(t>=-e+50||h){f.setAnimate(!0,d);f.open();return}t=-e}switch(b.env.axis){case "x":f.setAnimate(!1);f.setPosition(t);break;case "y":l.agent.mobile&&(e=b.delta(),b.env.$scroll.scrollTop-=e.y)}}}var f=galactic.emitter(this),
e=l.dom,u=l.util;f.opened=!1;f.disabled=!0;var d="sk-sidebar-"+k,c=e.$("."+d),a=document.documentElement;if(c&&c.parentNode){for(var b,h=["transform","webkitTransform","MozTransform","OTransform","msTransform"],e=0;e<h.length;e++)if("string"===typeof c.style[h[e]]){b=!0;h=h[e];break}var p="sk-sidebar-active-"+k;f.setAnimate=function(a,b){c.style.cssText="transition: "+(a?"all":"none")+" "+(b||.35)+"s;"};f.setPosition=function(a){var d="right"===k?-1:1;b?(c.style[h]="translate3d("+a*d+"px, 0, 0)",
c.style[k]=0):c.style[k]=a+"px"};f.open=function(){u.cookie.set("show-sidebar-"+k,"true");!1===f.disabled&&!1===f.opened&&(f.opened=!0,clearTimeout(f.timeoutClose),f.timeoutOpen=setTimeout(function(){f.setPosition(0);a.classList.add(p);setTimeout(function(){f.emit("open")},350)},1))};f.close=function(){u.cookie.set("show-sidebar-"+k,"false");!1===f.disabled&&!0===f.opened&&(f.opened=!1,clearTimeout(f.timeoutOpen),f.setPosition(-c.offsetWidth),a.classList.remove(p),f.emit("close"))};f.toggle=function(){f.setAnimate(!0,
.35);!0===f.opened?f.close():f.open()};f.disable=function(){f.disabled||(f.disabled=!0,eventjs.remove(c,"drag",m))};f.enable=function(){f.disabled&&(f.disabled=!1,eventjs.add(c,"drag",m))};l.ui.scrollable(c,!0);a.classList.add("sk-sidebar-ready");f.enable()}else console.error(d+" does not exist")}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.UITooltip=function(l){function k(c){var d,e;eventjs.isTouch?(d=22,e=-15):(d=10,e=-10);d=Math.max(0,c.x+15+d);c=Math.max(0,c.y+0+e);var g=Math.max(0,h-(window.innerWidth+window.pageXOffset-d));e=Math.max(0,b-(window.innerHeight+window.pageYOffset-c));g?(g=h+30,a.classList.remove("right")):a.classList.add("right");d=Math.round(d-g);c=Math.round(c-e);a.style.transform="translate("+d+"px, "+c+"px)"}function m(a){g&&k(eventjs.getPageXY(a))}function f(a,b,c,d){eventjs[b](a,
"mouseover",function(b){eventjs.stop(b);u.update(c,null,d,a)});eventjs[b](a,"mouseout",e)}function e(a){eventjs.stop(a);u.hide()}var u=this,d=l.agent||{},c=l.lang,a,b,h,p=!1,r={},g=!1,q=void 0;u.add=function(a,b,c){d.mobile||("string"===typeof a&&(a=document.querySelector(a)),f(a,"add",b,c))};u.remove=function(a){f(a,"remove")};u.update=function(a,b,c,d){a=a||"";(a!==q||w.throttle.fired)&&u.show(a,b,c,d)};u.create=function(){a=document.createElement("div");a.setAttribute("id","sk-tooltip");a.style.opacity=
0;a.style.filter="alpha(opacity=0)";r.move=eventjs.add(document,"mousemove",m);r.down=eventjs.add(a,"mousedown",eventjs.cancel);document.body.appendChild(a);window.event&&(g=!0,h=a.offsetWidth,b=a.offsetHeight,m(window.event));return a};u.destroy=function(){a&&(eventjs.bulk(r,"remove"),a.parentNode.removeChild(a),a=null)};u.show=function(e,f,l,m){d.mobile||(q=e,(e="function"===typeof e?c.translate(e.call(m)):c.translate(e))?(a=a||u.create(),a.innerHTML=e,a.style.width="auto",a.style.display="block",
w.throttle.abort(),p||(p=!0),a.style.opacity=1,g=!0,h=a.offsetWidth,b=a.offsetHeight,f&&(g=!1,k(f))):u.hide())};u.hide=function(){p&&(a=a||u.create(),a.style.opacity=0,w())};u.refresh=function(){u.show(q)};var w=l.util.throttle(function(){q=void 0;p=g=!1;a.style.display="none"},250)}})(sketch);
(function(m){m.module=m.module||{};m.module.TreeMenu=function(l,k,m,f){function e(){var a=y.length,b=A.vector.current,c=a,d=v.$(".file.enabled",F);d&&(d.classList.remove("enabled"),c=parseInt(d.getAttribute("data-layer")));for(c=Math.min(c,b);c<a;c++)if(d=v.$(".file"+c,F))c===b?(d.classList.add("enabled"),u(d)):c>b?u(d):d.classList.remove("selected")}function u(a,b){if(a=v.$(a))v.setClass(a,"selected",b),y.selected=a}function d(a,b,c){var d=v.create('<span class="divider '+c+'"></span>');d.setAttribute("data-layer",
b);d.setAttribute("data-command",c);a.insertBefore(d,a.firstChild)}function c(c,e,g,f){var h=v.create('<li data-layer="'+g+'"></li>');if(f){f=v.append(h,"ul");var l=String(e.groupId).split(".").pop();a(e,h,l,g+1);c.insertBefore(h,c.firstChild);d(f,g-1,"before");d(c,g+1,"after");return f}f=e.name||e.type||"";l=v.create('<span class="content"></span>');h.appendChild(l);h.className="file file"+g;if(C){if(!1===e.selectable)return;k.selection.items[g]&&u(h);var m=new Image;m.width=18;m.height=29;w(m,e);
l.appendChild(m)}else m=v.create("b"),m.className="icon-"+(N[e.name]||"infinity"),l.appendChild(m),-1!==g&&(m=v.create("i"),m.style.cssText="float: right; padding-right: 10px;",m.textContent="#"+(g+1),l.appendChild(m));b(e,h,l,f);c.insertBefore(h,c.firstChild);B.tooltip.add(h,function(){if(this&&this.classList&&H)return this.classList.contains("enabled")?"Now":this.classList.contains("selected")?"The future":"The past"});eventjs.add(h,"mousedown",p(e,h));d(c,g+1,"after");return c}function a(a,c,d,
e){e=v.create("input");e.className="checkbox";e.type="checkbox";e.checked=!0;c.appendChild(e);e=v.create("label");var g=v.create('<span class="carret"></span>');e.appendChild(g);c.appendChild(e);b(a,c,e,d,!0);eventjs.add(g,"mousedown",function(a,b){input.checked=!input.checked});eventjs.add({target:e,mousedown:eventjs.prevent,dblclick:function(a,b){input.checked=!input.checked}})}function b(a,b,c,d,e){function g(a){return!1===a?"icon-eye-close":"icon-eye-open"}e=v.create("font");e.innerHTML=x.translate(d);
c.appendChild(e);if(C){eventjs.add(c,"contextmenu",h);eventjs.add(c,"drag",q(b),{position:"difference"});var f=v.create("span");f.className=g(a.visible);eventjs.add(f,"mousedown",function(b){eventjs.cancel(b);b=!(a.visible=!1!==a.visible);f.className=g(b);k.toolConfig({selection:[a],param:"visible",value:b})});d=v.create('<span class="icon-contextmenu"></span>');eventjs.add(d,"mousedown",p(a,b));eventjs.add(d,"mousedown",h);b=v.create("div");b.className="right";b.appendChild(f);b.appendChild(d);c.appendChild(b)}}
function h(a){eventjs.cancel(a);B.contextMenu.show({at:{element:this,align:"top left to bottom left"},menu:"layers"})}function p(a,b){return C?g(a,b):r(a,b)}function r(a,b){return function(a){eventjs.cancel(a);a=A.vector.current;var c=z(b);(a-=c)&&(0>a?A.redo({steps:Math.abs(a)}):A.undo({steps:a}));y.selected=b}}function g(a,b){return function(c){eventjs.cancel(c);if(eventjs.shiftKey){var d=y.selected;c=z(b);var e=z(d||b),d=Math.min(c,e);for(c=Math.max(c,e);d<=c;d++)(e=k.scene.children[d])&&(eventjs.metaKey?
e.selected?k.scene.deselect(d):k.scene.selectByIdx(d,!1):k.scene.selectByIdx(d,!1))}else eventjs.metaKey?a.selected?k.scene.deselect(a.zIndex):k.scene.selectByIdx(a.zIndex,!1):!1===b.classList.contains("selected")&&k.scene.selectByIdx(a.zIndex,!0);y.selected=b;k.render.dirty=!0;k.render.dirtyControls=!0}}function q(a){var b=null,c=null,d=z(a),e=function(){if(c){var a=z(c),e=c.getAttribute("data-command");console.log("send",d,a,e);k.scene.sendTo({idx:a,record:!0});k.render.dirty=!0;k.render.dirtyControls=
!0;y.render();v.setClass({target:c,name:"hover",on:!1,list:v.$$("span.divider",F)})}F.classList.remove("dragging");b&&(b=null)};return function(g,f){if(!eventjs.metaKey&&!eventjs.shiftKey){var h="up"===f.state;"down"===f.state&&(F.classList.add("dragging"),f.selected=a.classList.contains("selected"),f.offsetTop=a.offsetTop);if(5>=f.distance()){if(h)return f.selected&&k.scene.selectByIdx(d,!0),e()}else{eventjs.cancel(g);null===b&&(b=a.cloneNode(!0),b.classList.add("moving"),F.appendChild(b));var l=
b.style;l.display="none";var m=eventjs.getPageXY(g),q=eventjs.getBBox(F),m=document.elementFromPoint(m.x-q.pageXOffset,m.y-q.pageYOffset);l.top=f.y+f.offsetTop-F.scrollTop+"px";for(l.display="";m;){if(m===F||m===document)return h&&e();if(m.classList.contains("divider")){c=m;break}else m=m.parentNode}m&&v.setClass({target:m,name:"hover",on:!0,list:v.$$("span.divider",m.parentNode)});h&&e()}}}}function w(a,b){if(b.ctx){var c=b.ctx.canvas,d;L.cache257&&E.useCache257[b.type]&&(d=[0,0,b.bbox.width,b.bbox.height]);
var e=c.thumb=c.thumb||D.thumbnailer({crop:"edge",croparea:d,center:!0,background:"#fff",src:c,width:18,height:28});e.blobURL?a.src=e.blobURL:e.toBlobURL(function(b){e.blobURL=b;a.src=b})}else a.src=B.media.get("clear"),a.style.background="#04a";B.tooltip&&B.tooltip.add(a,function(){return c?'<img src="'+D.thumbnailer({crop:"edge",croparea:d,center:!0,background:"#fff",src:c,width:100,height:100}).toDataURL()+'">':"out of bounds"},50)}function z(a){return parseFloat(a.getAttribute("data-layer"))}
var y=this,v=l.dom,x=l.lang,L=l.feature,E=l.detect,A=k.history,D=l.util,B=l.ui,C="#sk-layers .sk-pane-content"===m,H="#sk-history .sk-pane-content"===m,G=f,F=null;y.setData=function(a){G=a};y.length=-1;y.render=function(){return function(){F=v.$(m);if(y.length===G.length&&H)e();else{v.empty(F);y.shifted=null;y.selected=null;var a=F,b=void 0,g={},f=0,h=G.length;if(f||h)for(y.length=h,d(F,0,"before");f<h;f++){var k=G[f],l=String(k.groupId);"undefined"===l?(b=void 0,a=c(F,k,f)):g[l]?(b=l,c(g[b],k,f)):
l!==b&&(b=l,-1===b.indexOf(".")&&(a=F),a=g[b]=c(a,k,f,!0))}else v.append(F,'<span style="padding: 15px; display: inline-block;">'+x.translate(C?"no-layers":"no-history")+"</span>");H&&e()}}}();y.select=function(a){a.forEach(function(a){a&&u(".file"+a.zIndex,!0)})};y.deselect=function(a){a.forEach(function(a){a&&u(".file"+a.zIndex,!1)})};var N=function(){var a={},b;for(b in k.toolkit.config)a[b]=b;return D.copyInto(a,{"reset-clipart-color":"remove","update-clipart-color":"palette","remove-objects":"infinity",
background:"screen","change-media":"image","Resize Text":"infinity",VOBNodeList:"infinity","cut-objects":"clipboard","paste-objects":"clipboard","merge-objects":"merge","merge-paths":"merge","split-path":"scissors","update-style":"palette","crop-draw":"crop",crop:"crop","update-text":"text","resize-canvas":"crop","set-background":"crop"})}();y.render()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(k){return function(){console.warn(k,arguments)}}m.util=m.util||{};m.util.Uploader=function(k){function t(a){var b={};b.name=a.name||a.fileName;b.src=a.src;b.size=a.size||a.fileSize;b.type=a.type;a=JSON.stringify(b);for(var b=5381,c=0,d=a.length;c<d;c++)var e=a.substr(c,1).charCodeAt(),b=(b<<5)+b+e;return b}function f(a,b){var c=Object.prototype.toString.call(a);"[object Object]"===c&&a.src&&(c="");switch(c){case "[object Array]":for(var c=0,d=a.length;c<d;c++)b(a[c]);break;
case "[object Object]":for(d in a)b(a[d],d);break;default:b(a)}}function e(b){if("[object Blob]"===String(b.files))var c=b.files;else c=new FormData,f(b.files,function(a,b){if("undefined"!==typeof a.data)c.append(b||a.name||a.fileName,a.data);else if(a.src&&"data:"===a.src.substr(0,5)){var d=JSON.stringify(a);c.append(b||a.name||a.fileName,d)}else c.append(b||a.hash,a)});var d=new XMLHttpRequest;d.upload.onprogress=function(c){if(c.lengthComputable){var d=c.loaded;b.lengthComputable=!0;b.transferPercent=
Math.round(100*d/c.total);b.transferTotal=h.bytesToSize(d);var e=2*(d-b.bytes);0!==e&&(b.bytes=d,b.transferSpeed=h.bytesToSize(e),b.timeRemaining=h.getTimeFormat((c.total-b.bytes)/e*1E3,!0),b.timeLapse=h.getTimeFormat(Date.now()-c.timeStamp,!0));if(b.onProgress)b.onProgress(b,c);else if(a.onProgress)a.onProgress(b,c)}else b.lengthComputable=!1,b.transferSpeed=0,b.transferTotal=0,b.transferPercent=0,b.timeRemaining=0};d.onload=function(c){"[object Blob]"!==String(b.files)&&f(b.files,function(a,b){"undefined"===
typeof a.date&&(a.isUploaded=!0)});var d=c.target.responseText;if("json"===b.confirm)try{d=JSON.parse(d)}catch(e){console.log(c.target.responseText)}if(a.UPLOAD_ERR[d]){if(a.onError)a.onError(a,d);if(b.onError)b.onError(a,d)}else{if(a.onLoad)a.onLoad(b,d);if(b.onUpload)b.onUpload(b,d)}};d.onerror=function(c){if(a.onError)a.onError(a,"UPLOAD_ERR_XHTTP",c);if(b.onError)b.onError(a,"UPLOAD_ERR_XHTTP",c)};d.onabort=function(c){if(a.onAbort)a.onAbort(a,"UPLOAD_ERR_XHTTP",c);if(b.onAbort)b.onAbort(a,"UPLOAD_ERR_XHTTP",
c)};d.open("POST",b.action,!0);d.send(c)}function u(c){var d=b.create("form");document.body.appendChild(d);var e=b.create("iframe");e.setAttribute("id","upload_iframe");e.setAttribute("name","upload_iframe");e.setAttribute("width","0");e.setAttribute("height","0");e.setAttribute("border","0");e.setAttribute("style","width: 0; height: 0; border: none;");var g=function(){try{var b=e.contentDocument.body}catch(g){try{b=e.contentWindow.document.body}catch(h){b=e.document.body}}if(b.innerHTML){f(c.files,
function(a){"undefined"===typeof a.date&&(a.isUploaded=!0)});b=b.innerHTML;if("json"===c.confirm)try{b=JSON.parse(b)}catch(k){console.log&&console.log(b)}if(a.UPLOAD_ERR[b]){if(a.onError)a.onError(a,b);if(c.onError)c.onError(a,b)}else{if(a.onLoad)a.onLoad(a,b);if(c.onUpload)c.onUpload(a,b)}}setTimeout(function(){d.parentNode&&d.parentNode.removeChild(d);a.fileInput.parent&&a.fileInput.parent.appendChild(a.fileInput)},250)};e.addEventListener?e.addEventListener("load",g,!0):e.attachEvent&&e.attachEvent("onload",
g);d.appendChild(e);window.frames.upload_iframe.name="upload_iframe";f(c.files,function(c,e){if("undefined"!==typeof c.data){var g=b.create("input");g.type="hidden";g.value=c.data;g.name=e||c.name||c.fileName}else c.src&&"data:image/"===c.src.substr(0,11)?(g=b.create("input"),g.type="hidden",g.value=JSON.stringify(c),g.name=e||c.name||c.fileName):"string"===typeof c?(g=b.create("input"),g.type="hidden",g.value=c,g.name=e):(g=a.fileInput,g.parent=g.parentNode,g.name=e||c.hash);d.appendChild(g)});d.setAttribute("target",
"upload_iframe");d.setAttribute("action",c.action);d.setAttribute("method","post");d.setAttribute("enctype","multipart/form-data");d.setAttribute("encoding","multipart/form-data");d.submit()}function d(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}function c(a,b,c){c=isFinite(c)?c:Infinity;var d=this;this.files=[];this.pending=0;this.recurse=function(a,b,c){this.pending++;if(!a)return d.runCallback();a.isFile?a.file(function(a){a.path=b+a.name;d.files.push(a);d.runCallback()}):a.isDirectory&&
a.createReader().readEntries(function(e){for(var g=0;g<e.length;g++)d.recurse(e[g],b+a.name+"/",c+1);d.runCallback()})};this.runCallback=function(){--this.pending||b(this.files)};for(c=0;c<a.length;c++)if(a[c].webkitGetAsEntry){var e=a[c].webkitGetAsEntry();this.recurse(e,"",0)}}var a=this,b=m.dom,h=m.util;k=k||{};a.debug=!1;a.mode=k.mode||"read";a.action=k.action||"./filesystem.php?upload=true";a.confirm=k.confirm||"text";a.onUpload=k.onupload;a.onProgress=k.onprogress;a.onLoad=k.onload;a.onError=
k.onerror;a.onAbort=k.onabort;a.onChange=k.onchange||l("onchange");a.onChangeDefault=a.onChange;a.directory=k.directory||!1;a.maxFiles=k.maxFiles||1;a.maxFileSize=k.maxFileSize||104857600;"object"===typeof k.fakeInput?(a.fakeInput=k.fakeInput,a.fakeInputParent=k.fakeInputParent||null):"object"===typeof k.fileInput&&(a.fileInput=k.fileInput);a.dropAreaContainer=k.dropArea;a.dropAreaMessage=k.dropAreaMessage||"Drop File(s) Here";a.dropAreaStyle=k.dropAreaStyle||"";a.files={};a.filesByName={};a.filesByPath=
{};a.formats={};var p=(k.formats||"jpg,jpeg,gif,png").split(",");for(k=0;k<p.length;k++)a.formats[p[k].trim().toLowerCase()]=!0;a.addFileInput=function(c){c=c||{};c.nodeName&&(c={target:c});var d=b.$(c.target),e=c.wrapper,g=c.onchange||a.onChange;if(c=d&&d.parentNode){if("sk-fileWrapper"===c.className)return;a.fileInput=null}if(!d||!d.querySelector(".sk-fileInput")){var f=a.fakeInput=d;if(a.fileInput)a.initFileInput(a.fileInput);else if(f||e){var h=a.fileInput=b.create("input");h.style.cssText="position: absolute; top: 0; z-index: 99999; font-size: 1000px; text-align: right; cursor: pointer; right: 0; filter: alpha(opacity: 0); opacity: 0.01;";
h.style.width="100%";h.style.height="100%";h.className="sk-fileInput";var k=function(b,c){a.onChange=a.onChangeDefault||a.onChange;eventjs.remove(document.body,"focus",k)};eventjs.add(h,"mouseover",function(a){var b=eventjs.elementsFromEvent(a)[1];b&&b.dispatchEvent&&b.dispatchEvent(new MouseEvent(a.type,a))});eventjs.add(h,"mousedown",function(b){eventjs.stop(b);a.onChange=g});eventjs.add(h,"click",function(a,b){eventjs.add(document.body,"focus",k)});p.length&&m.agent&&m.agent.chooseEntry?eventjs.add(h,
"click",function(b){eventjs.cancel(b);m.open.chooseEntry({onsuccess:function(b){a.handleFiles([b])}})}):(h.setAttribute("type","file"),h.setAttribute("capture","camera"));1<a.maxFiles?(h.setAttribute("name","files[]"),h.setAttribute("multiple","multiple")):h.setAttribute("name","file");a.directory&&(h.setAttribute("directory",""),h.setAttribute("mozdirectory",""),h.setAttribute("webkitdirectory",""));if(e)e.appendChild(h);else{c=a.fakeInputParent||f.parentNode;e=b.create("span");e.className="sk-fileWrapper";
e.style.cssText="position: relative; overflow: hidden; z-index: 0;";f.style.cssText&&(e.style.cssText+=f.style.cssText);r[f.nodeName]&&(e.style.display="inline-block");var l=!0,d=function(){l&&(l=!1,a.fakeInputParent?a.fakeInputParent.appendChild(e):f.parentNode&&f.parentNode.replaceChild(e,f),e.appendChild(f),e.appendChild(h));var c=b.measure(f),d=c.width,c=c.height;!r[f.nodeName]&&d&&c&&(e.style.width=d+"px",e.style.height=c+"px")};c=b.measure(f);var t=c.height;c.width||t?d():setTimeout(d,250)}a.initFileInput(h)}}};
var r={A:!0,SPAN:!0};a.initFileInput=function(b){b&&(b.onchange=function(c){if(b.files&&b.files.length)a.handleFiles(c.target.files,function(){b.value=""},c);else{var d=b.value,e=d.replace(/\\/g,"/").replace(/.*\//,"");a.handleFiles([{src:d,name:e}],null,c)}})};var g=b.create('<form class="sk-uploader"></form>');a.addDropArea=function(b){function e(){g.classList.remove("visible");e.timeout=setTimeout(function(){g.style.display="none"},250)}b=b||{};b.nodeName&&(b={target:b});var f=f||a.dropAreaContainer;
b=!b.target;g.innerHTML=a.dropAreaMessage;a.dropAreaStyle&&(g.style.cssText+=a.dropAreaStyle);g.onclick=function(){e()};g.ondragenter=function(a){eventjs.cancel(a);return!1};g.ondragover=function(a){eventjs.cancel(a);return!1};g.ondrop=function(b){eventjs.cancel(b);e();var d=b.dataTransfer;d&&(d.items?new c(d.items,function(c){c.length&&a.handleFiles(c,null,b)}):d.files&&(d=d.files,d.length&&a.handleFiles(d,null,b)))};g.ondragleave=function(a){var b=eventjs.getPageXY(a);if(0!==b.x||0!==b.y)for(b=
document.elementFromPoint(b.x,b.y);b!==document&&b;){if(b.classList.contains("sk-uploader"))return;b=b.parentNode}eventjs.cancel(a);setTimeout(e,100)};f===window&&(f=document.body);b&&f.appendChild(g);f.ondragenter=function(a){(a=a.dataTransfer)&&a.types&&d(a.types,"Files")&&(clearTimeout(e.timeout),g.style.display="block",setTimeout(function(){g.classList.add("visible");g.style.display="table"},10))};f===document.body&&eventjs.add(window,"resize",function(a){window.innerWidth&&window.innerHeight&&
(g.style.width=window.innerWidth+"px",g.style.height=window.innerHeight+"px")})};a.handleFiles=function(b,c,d){function e(b,c){c.src&&(c=[c]);for(var d in c){var f=a.files[d],h=c[d];f.src=h.src;f.size=h.size;f.type=h.type;f.name=h.name}g()}function g(a){a?f():setTimeout(f,30)}function f(){if(a.onProgress)a.onProgress({transferPercent:h/b.length*100>>0},d);var k=b[h];if(++h>a.maxFiles||!k){if(a.onLoad)a.onLoad();if(1===a.maxFiles){if("undefined"===typeof b[0]){if(a.onError)a.onError(a,"UPLOAD_ERR_FORMAT");
c&&c();return}var l=t(b[0]);a.file=a.files[l]||b[0];c&&c();return a.onChange(a,d||{})}for(var m in a.files);c&&c();return a.files[m]?a.onChange(a,d||{}):void 0}m=k.name||k.fileName||"";var p=k.path||m,l=k.type||"",r;l&&(r=l.split("/").pop());a.formats[r]||(r=m.split(".").pop().toLowerCase());var l=t(k),u=a.files[l];if(u&&(a.changedFiles[l]=u,a.changedFilesByName[m]=u,a.changedFilesByPath[p]=u,"upload"===a.mode&&u.isUploaded||"read"===a.mode&&u.isRead))return g(!0);if(!a.formats[r]){if(a.onError)a.onError(a,
"UPLOAD_ERR_FORMAT");return g(!0)}r=k.fileSize||k.size;if(0===r){if(a.onError)a.onError(a,"UPLOAD_ERR_NO_FILE");return g(!0)}if(r&&r>a.maxFileSize){if(a.onError)a.onError(a,"UPLOAD_ERR_FORM_SIZE");return g(!0)}k.hash=l;a.files[l]=k;a.filesByName[m]=k;a.filesByPath[p]=k;a.changedFiles[l]=k;a.changedFilesByName[m]=k;a.changedFilesByPath[p]=k;if("upload"===a.mode)k.upload=new a.upload({file:k,onupload:e});else if("read"===a.mode)try{var x=k.hash,F=URL.createObjectURL(k);a.files[x].src=F;a.files[x].isRead=
!0;g()}catch(N){k.upload=new a.upload({file:k,onupload:e})}else return g(!0)}if(a.onProgress)a.onProgress({transferPercent:0},d);var h=0;a.changedFiles={};a.changedFilesByName={};a.changedFilesByPath={};g()};a.UPLOAD_ERR={UPLOAD_ERR_INI_SIZE:"The uploaded file exceeds the upload_max_filesize directive",UPLOAD_ERR_FORM_SIZE:"The uploaded file exceeds the MAX_FILE_SIZE directive",UPLOAD_ERR_PARTIAL:"The uploaded file was only partially uploaded",UPLOAD_ERR_NO_FILE:"No file was uploaded",UPLOAD_ERR_NO_TMP_DIR:"Missing a temporary folder",
UPLOAD_ERR_CANT_WRITE:"Failed to write file to disk",UPLOAD_ERR_EXTENSION:"A PHP extension stopped the file upload",UPLOAD_ERR_FORMAT:"The uploaded file was an invalid format",UPLOAD_ERR_XHTTP:""};a.upload=function(b){this.onAbort=b.onabort;this.onUpload=b.onupload;this.onProgress=b.onprogress;this.onError=b.onerror;this.action=b.action||a.action;this.confirm=b.confirm||a.confirm;this.files=0===String(b.file).indexOf("[object")?[b.file]:b.files;this.bytes=this.timeLapse=this.timeRemaining=this.transferPercent=
this.transferTotal=this.transferSpeed=0;window.FormData?e(this,this.onUpload):u(this,this.onUpload)};a.dropAreaContainer&&a.addDropArea();(a.fakeInput||a.fileInput)&&a.addFileInput()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){m.module.add(function(l){function k(a){function b(){f.x+=m.io.translateX;f.y+=m.io.translateY;m.doc.editable?isFinite(c.selection.idx)&&u.push(c.selection.idx):d.deselectAll();setTimeout(z.next,50)}var c=l.doc,d=l.doc.scene;if(c.addMedia){var f=a.pt||{},g=a.self,k=a.openAsNew;c.toolkit.config.get("image").reset();var u=[];a=g.changedFilesByName;if(a["sketch.json"])l.open.folder({entries:a});else var z=e.Queue({flatten:!1,items:g.changedFiles,oncomplete:function(){1===u.length?l.ui.configurePane&&
l.ui.configurePane(d.children[u[0]].type,!0):(d.deselectAll(),d.selectByIdx(u,!1),c.render.dirty=!0,c.render.dirtyControls=!0)},next:function(a){z=this;var e=0===(a.type||"").indexOf("image/"),g={openAsNew:k,data:a,x:f.x,y:f.y,onsuccess:b};l.vortex&&e&&f.x&&f.y?l.vortex.create({pid:a.src,point:d.pointInWindowFromScene(f),message:a.name||"adding image",callback:function(a){l.vortex.destroy(a);c.addMedia(g)}}):c.addMedia(g)}})}else console.warn("doc.addMedia undefined")}var m=l.feature,f=l.io,e=l.util,
u=["jpg","jpeg","gif","png","svg"];f.json&&u.push("json");f.zip&&u.push("zip");f.json&&f.zip&&u.push("sketchpad");m.io.pdf&&u.push("pdf");m.io.psd&&u.push("psd");f.abr&&u.push("abr");f.gbr&&u.push("gbr");e.exists("Color.open.GGR")&&u.push("ggr");e.exists("Color.open.GPL")&&u.push("gpl");var d,c;m.uploader.DnD&&(d=m.uploader.DnDArea||document.body,c=m.uploader.DnDMessage||'\t\t\t<div class="sk-uploader-anim"></div>\t\t\t  <div class="sk-uploader-text">Drop files here<br>\t\t\t\t  <div><i>Accepted formats: </i><br>.'+
u.join(" .")+"</div>\t\t\t  </div>\t\t\t</div>\t\t");(l.uploader=new e.Uploader({confirm:"json",action:l.loc.POST,mode:"read",maxFiles:l.agent.ios?1:Infinity,formats:u.join(","),dropArea:d,dropAreaMessage:c,onchange:function(a,b){var c=l.doc,d=l.doc.scene;if(isFinite(b.pageX)){for(var e=eventjs.elementsFromEvent(b),g=0;g<e.length;g++){var f=e[g];if(f.matches(".sk-doc")){l.docs.focus(f.getAttribute("data-uuid"));c=l.doc;d=l.doc.scene;break}}d=d.pointInSceneFromEvent(b);k({self:a,pt:{x:d.x-c.originX,
y:d.y-c.originY}})}else k({self:a})},onprogress:function(a){l.loader&&l.loader.create("thread","Uploading...",a.transferPercent)},onerror:function(a,b,c){l.loader&&l.loader.stop("thread");l.ui.log("upload-invalid")}})).initElement=function(a,b){l.uploader.addFileInput({target:a,onchange:function(a){a.fileInput.value="";k({openAsNew:b,self:l.uploader})}})}})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){var l={id:"loader",bars:12,radius:0,lineWidth:14,lineHeight:40,timeout:0,display:!0};m.ui=m.ui||{};m.ui.Loader=function(f){var e=this,u=m.ui.Loader.threads;"string"===typeof f&&(f={message:f});"boolean"===typeof f&&(f={display:!1});"undefined"===typeof f&&(f={});f.container=f.container||document.body;if(f.container){for(var d in l)"undefined"===typeof f[d]&&(f[d]=l[d]);var c=function(a){for(var b in u)if(u[b]===a)return b},a=document.getElementById(f.id);if(a)this.span=a.parentNode.getElementsByTagName("span")[0];
else{var b=document.createElement("div");d=document.createElement("span");d.className="message";b.className=l.id;b.style.cssText=k("opacity",400);this.span=d;this.div=b;a=document.createElement("canvas");a.id=f.id;a.style.cssText="opacity: 1; position: absolute; z-index: 10000;";b.appendChild(a);b.appendChild(d);var h=document.createElement("div");h.className="meter";h.style.padding="10px";d=document.createElement("span");d.style.width="3%";h.appendChild(d);this.meter=d;this.meterContainer=h;this.span.appendChild(h);
f.container.appendChild(b)}var p=f.bars,r=f.radius,g=2*(f.lineHeight+20)+2*f.radius;t(f.container);var q=window.devicePixelRatio||1;a.width=g*q;a.height=g*q;var w=0,z=a.getContext("2d");z.globalCompositeOperation="lighter";z.shadowOffsetX=1;z.shadowOffsetY=1;z.shadowBlur=0;z.shadowColor="rgba(0,0,0,0.5)";this.messages={};this.threads=m.ui.Loader.threads;this.create=function(a,b,c){a=u[a]=u[a]||e.add(b);isFinite(a)&&b&&"string"===typeof(b.message||b)?e.update(a,b.message||b,b.percent||c):isFinite(c)&&
e.update(a,null,c)};this.update=function(a,b,c){"object"===typeof a&&(c=a.percent,b=a.message,a=a.id);if(!isFinite(a))for(a in e.messages);if(a=e.messages[a])a.message=b=b||a.message,"number"===typeof c&&(a.span.innerHTML=c+"%"),"..."===b.substr(-3)?(a._message=b.substr(0,b.length-3),a.messageAnimate=[".&nbsp;&nbsp;","..&nbsp;","..."].reverse()):(a._message=b,a.messageAnimate=!1),a.element.innerHTML=b};this.add=function(a){a||(a={message:""});"string"===typeof a&&(a={message:a});this.span.style.cssText=
"background: "+(f.background?f.background:"rgba(0,0,0,1)")+";";this.div.style.cssText=k("opacity",400);this.stopPropagation?this.div.style.cssText+="background: rgba(0,0,0,0.25);":(this.div.style.pointerEvents="none",this.div.style.height=0);this.div.style.opacity=1;this.div.style.display="block";f.background&&(this.div.style.background=f.backgrond);var b=Date.now(),c=Math.abs(b*Math.random()>>0),d=a.message,e=document.createElement("div");e.style.cssText=k("opacity",500);var g=document.createElement("span");
g.style.cssText="float: right; width: 50px;";var h=document.createElement("span");h.innerHTML=d;e.appendChild(h);e.appendChild(g);e.appendChild(document.createElement("br"));b=this.messages[c]={seed:c,container:e,element:h,span:g,message:d,timeout:1E3*(a.timeout||f.timeout),timestamp:b,getProgress:a.getProgress};this.span.appendChild(e);this.span.style.display="block";this.update(b.seed,d);a.onstart&&setTimeout(a.onstart,150);this.center();this.interval||a.delay||v();clearInterval(this.interval);
this.interval=setInterval(v,30);return c};this.remove=function(a){w+=.07;Date.now();"object"===typeof a&&(a=a.join(":"));a&&(a=":"+a+":");for(var b in this.messages){var d=this.messages[b];if(!a||-1!==a.indexOf(":"+d.seed+":")){var e=c(d.seed);e&&delete u[e];delete this.messages[d.seed];d.container.style.color="#99ff88";y(d);d.getProgress&&(d.span.innerHTML="100%")}}};this.stop=function(d){"string"===typeof d&&(d=c(d));if(isFinite(d))this.update(d,null,100);else{e.remove();clearInterval(e.interval);
delete e.interval;if(f.oncomplete)f.oncomplete();a&&a.style&&(setTimeout(function(){e.div.style.opacity=0},1),setTimeout(function(){e.interval||(e.stopPropagation=!1,b.style.display="none",z.clearRect(0,0,g,g))},400))}};this.center=function(){var b=t(f.container),c=b.width-g,b=(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)+(b.height-g)/2-Math.max(70,e.span.offsetHeight/2)+g;a.style.left=c/2+"px";a.style.top=b-g+"px";a.style.width=g+"px";a.style.height=g+"px";
e.span.style.top=b+"px"};d=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(d);d.styleSheet?d.styleSheet.cssText=".loader { color: #fff; position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 100000; opacity: 0; display: none; font-size: 1em; }.loader span { overflow: hidden; white-space: nowrap; }.loader span.message { margin: auto; opacity: 1; display: none; border-radius: 10px; padding: 0; width: 300px; text-align: center; position: absolute; z-index: 10000; left: 0; right: 0; }.loader span.message div { border-bottom: 1px solid rgba(255,255,255,0.15); padding: 7px 10px; clear: both; text-align: left; opacity: 1; }.loader span.message span { text-overflow: ellipsis; -o-text-overflow: ellipsis; width: 80%; float: left }.loader span.message div:last-child { border-bottom: none; }":
d.innerHTML=".loader { color: #fff; position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 100000; opacity: 0; display: none; font-size: 1em; }.loader span { overflow: hidden; white-space: nowrap; }.loader span.message { margin: auto; opacity: 1; display: none; border-radius: 10px; padding: 0; width: 300px; text-align: center; position: absolute; z-index: 10000; left: 0; right: 0; }.loader span.message div { border-bottom: 1px solid rgba(255,255,255,0.15); padding: 7px 10px; clear: both; text-align: left; opacity: 1; }.loader span.message span { text-overflow: ellipsis; -o-text-overflow: ellipsis; width: 80%; float: left }.loader span.message div:last-child { border-bottom: none; }";
var y=function(a){setTimeout(function(){a.container.style.opacity=0},1);setTimeout(function(){a.container.parentNode.removeChild(a.container)},250)},v=function(){var a=Date.now();e.center();for(var b in e.messages){var c=e.messages[b],d=w/.07>>0,h=parseInt(c.span.innerHTML);if(isFinite(h)&&100<=h)e.remove(c.seed);else{if(0===d%5&&c.getProgress){if(c.timeout&&c.timestamp&&a-c.timestamp>c.timeout){e.remove(c.seed);continue}h=c.getProgress();if(100<=h){e.remove(c.seed);continue}c.span.innerHTML=(h>>
0)+"%"}0===d%10&&c.messageAnimate&&(c.element.innerHTML=c._message+c.messageAnimate[d/10%c.messageAnimate.length])}}b||e.stop();if(isFinite(e.percent))e.meterContainer.style.display="",e.meter.style.width=e.percent+"%";else{e.meterContainer.style.display="none";z.save();z.clearRect(0,0,g*q,g*q);z.scale(q,q);z.translate(g/2,g/2);a=360-360/p;for(b=0;b<p;b++){c=b/p*2*Math.PI+w;z.save();z.translate(r*Math.sin(-c),r*Math.cos(-c));z.rotate(c);var c=-f.lineWidth/2,d=f.lineWidth,h=f.lineHeight,k=d/2;z.beginPath();
z.moveTo(c+k,0);z.lineTo(c+d-k,0);z.quadraticCurveTo(c+d,0,c+d,0+k);z.lineTo(c+d,0+h-k);z.quadraticCurveTo(c+d,0+h,c+d-k,0+h);z.lineTo(c+k,0+h);z.quadraticCurveTo(c,0+h,c,0+h-k);z.lineTo(c,0+k);z.quadraticCurveTo(c,0,c+k,0);z.fillStyle="hsla("+b/(p-1)*a+", 100%, 50%, 0.85)";z.fill();z.restore()}z.restore();w+=.07}};if(!1===f.display)return this;f.message&&e.add(f.message);return this}};m.ui.Loader.threads={};var k=function(f,e){return"\t\t-webkit-transition-property: "+f+";\t\t-webkit-transition-duration: "+
e+"ms;\t\t-moz-transition-property: "+f+";\t\t-moz-transition-duration: "+e+"ms;\t\t-o-transition-property: "+f+";\t\t-o-transition-duration: "+e+"ms;\t\t-ms-transition-property: "+f+";\t\t-ms-transition-duration: "+e+"ms;"},t=function(f){if(window.innerWidth&&window.innerHeight)var e=window.innerWidth,k=window.innerHeight;else"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(e=document.documentElement.offsetWidth,k=document.documentElement.offsetHeight):
document.body&&document.body.offsetWidth&&(e=document.body.offsetWidth,k=document.body.offsetHeight);f&&(e=f.offsetWidth);return{width:e,height:k}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(k,f,e){return k<f?f:k>e?e:k}m.color=m.color||{};m.color.picker=function(t){function f(a,c,d){var f=g.satval,k=g.hue,l=g.alpha,m=b.canvas,p=b.ctx;p.clearRect(0,0,m.width,m.height);var m=b.ctx,r=h({H:b.color.H,S:100,V:100},"HSV>RGB>HEX24>W3");h.HEX_RGB("0x"+r);var t=b.offset,u=g.satval.width,C=g.satval.height;m.save();m.fillStyle=b.interlace;m.fillRect(t,b.offset,g.satval.width,g.satval.height);m.globalAlpha=b.color.A/255;m.fillStyle=e(r,"satval");m.fillRect(t,t,u,C);r=m.createLinearGradient(t,
t,u+t,0);r.addColorStop(0,e("rgba(255, 255, 255, 1)","satval"));r.addColorStop(1,e("rgba(255, 255, 255, 0)","satval"));m.fillStyle=r;m.fillRect(t,t,u,C);r=m.createLinearGradient(0,t,0,C+t);r.addColorStop(0,"rgba(0, 0, 0, 0)");r.addColorStop(1,"rgba(0, 0, 0, 1)");m.fillStyle=r;m.fillRect(t,t,u,C);m.strokeStyle=e(b.strokeColor,"satval");m.strokeRect(t+.5,t+.5,u-1,C-1);m.restore();m=b.ctx;t=g.satval.width+b.margin+b.offset;m.fillStyle=b.interlace;m.fillRect(t,b.offset,g.hue.width,g.hue.height);u=m.createLinearGradient(0,
0,0,g.hue.height+b.offset);u.addColorStop(0,e("rgba(255, 0, 0, 1)","hue"));u.addColorStop(5/6,e("rgba(255, 255, 0, 1)","hue"));u.addColorStop(4/6,e("rgba(0, 255, 0, 1)","hue"));u.addColorStop(.5,e("rgba(0, 255, 255, 1)","hue"));u.addColorStop(2/6,e("rgba(0, 0, 255, 1)","hue"));u.addColorStop(1/6,e("rgba(255, 0, 255, 1)","hue"));u.addColorStop(1,e("rgba(255, 0, 0, 1)","hue"));m.save();m.globalAlpha=b.color.A/255;m.fillStyle=u;m.fillRect(t,b.offset,g.hue.width,g.hue.height);m.strokeStyle=e(b.strokeColor,
"hue");m.strokeRect(t+.5,b.offset+.5,g.hue.width-1,g.hue.height-1);m.restore();l.enable&&(m=b.ctx,t=g.satval.width+2*b.margin+g.hue.width+b.offset,m.fillStyle=b.interlace,m.fillRect(t,b.offset,g.alpha.width,g.satval.height),u=h.HSV_RGB({H:b.color.H,S:b.color.S,V:b.color.V}),C=m.createLinearGradient(0,0,0,g.satval.height),u.A=255,C.addColorStop(0,e(h.RGBA_W3(u),"alpha")),u.A=0,C.addColorStop(1,e(h.RGBA_W3(u),"alpha")),m.fillStyle=C,m.fillRect(t,b.offset,g.alpha.width,g.satval.height),m.strokeStyle=
b.strokeColor,m.strokeRect(t+.5,b.offset+.5,g.alpha.width-1,g.satval.height-1));m=h(b.color,"HSVA>RGBA");t=h(m,"RGB>HEX24>W3");b.feature.hexInput&&(sketch.dom.text.setValue(b.$input,t.substr(1)),b.hexCode.style.backgroundColor=h(m,"RGBA>W3"));p.save();l.enable&&(p.globalAlpha=l.enable?1:0,l=f.width+2*b.margin+k.width+l.width+b.offset,t=(255-b.color.A)/255*f.height-2,p.drawImage(b.arrow,l+2,Math.round(t)+b.offset-1));k&&(p.globalAlpha=k.enable?1:0,l=f.width+b.margin+b.offset+k.width,t=(360-b.color.H)/
362*f.height-2,t=Math.round(t)+b.offset-1,p.drawImage(b.arrow,l+2,t),p.beginPath(),p.moveTo(l-k.width,t+3.5),p.lineTo(l,t+3.5),p.strokeStyle="rgba(255,255,255,0.5)",p.stroke(),p.beginPath(),p.moveTo(l-k.width,t+4.5),p.lineTo(l,t+4.5),p.strokeStyle="rgba(0,0,0,0.5)",p.stroke());f&&(p.globalAlpha=f.enable?1:0,l=b.color.S/100*f.width,t=(1-b.color.V/100)*f.height,l-=b.circle.width/2,t-=b.circle.height/2,p.drawImage(b.circle,Math.round(l)+b.offset,Math.round(t)+b.offset));p.restore();if(b.onchange&&c&&
d)b.onchange(b.toString(m),c,a)}function e(a,b){if(!0===g[b].enable)return a;a="rgba"===a.substr(0,4)?h(a,"W3>RGBA"):h(a,"W3>HEX32>RGBA");var c=Math.round(.33*a.R+.33*a.G+.33*a.B);return"rgba("+c+","+c+","+c+","+a.A/255*.42+")"}function u(a){function b(a,d){a.proxy(function(a,b){eventjs.prevent(a);d(a,b);b.pointerStart?(eventjs.stop(a),c.style.cursor="crosshair"):b.pointerEnd&&(c.style.cursor="default")})}var c=a.element,d=a.config,e=document.createElement("canvas"),g=e.getContext("2d");a.canvas=
e;a.ctx=g;c.appendChild(e);a.draggable&&eventjs.proxy.dragElement(c);eventjs.add(e,"drag",function(g,h){eventjs.prevent(g);h.pointerStart&&eventjs.blur();var k=a.margin/2,m=h.y-k,k=l(h.x-k,0,e.width);l(m,0,e.height);if("cp-input"===h.target.className)h.pointerStart&&eventjs.stop(g),c.style.cursor="text";else{if(k<=d.satval.width)return d.satval.enable&&h.proxy(function(b,e){eventjs.prevent(b);var g=l(e.x-a.offset,0,d.satval.width),h=l(e.y-a.offset,0,d.satval.height);a.color.S=g/d.satval.width*100;
a.color.V=100-h/d.satval.height*100;f(e,e.state,!0);e.pointerStart?(eventjs.stop(b),c.style.cursor="crosshair"):e.pointerEnd&&(c.style.cursor="default")}),!1;if(k>d.satval.width+a.margin&&k<=d.satval.width+a.margin+a.offset+d.hue.width)return d.hue.enable&&b(h,function(b,c){var e=d.satval.height,g=l(c.y-a.offset,0,e);a.color.H=360-360*Math.min(1,g/e);f(c,c.state,!0)}),!1;if(d.alpha&&k>d.satval.width+d.alpha.width+2*a.margin&&k<=d.satval.width+2*a.margin+a.offset+2*d.alpha.width)return d.alpha.enable&&
b(h,function(b,c){var e=d.satval.height,g=l(c.y-a.offset,0,e);a.color.A=255*(1-Math.min(1,g/e));f(c,c.state,!0)}),!1;if(a.draggable)return h.proxy(function(a,b){eventjs.prevent(a);if(b.pointerStart){var d=eventjs.getBBox(c);b.env.x=b.x-d.x1;b.env.y=b.y-d.y1}var d=b.x-b.env.x,e=b.y-b.env.y,g=window.innerWidth,f=window.innerHeight,h=c.offsetWidth,k=c.offsetHeight;d+h>g&&(d=g-h);e+k>f&&(e=f-k);0>d&&(d=0);0>e&&(e=0);c.style.left=d+"px";c.style.top=e+"px";b.pointerStart?c.style.cursor="move":b.pointerEnd&&
(c.style.cursor="default")}),!1;h.pointerEnd&&(c.style.cursor="default")}})}function d(a){var c=b.$indicator=document.createElement("div");c.className="cp-indicator";b.interlace.data&&(c.style.backgroundImage="url("+b.interlace.data+")");a.appendChild(c);var d=b.hexCode=document.createElement("div");c.appendChild(d);var e=/[^a-f0-9]/gi,g=b.$input=document.createElement("input");g.className="cp-input";g.size=6;g.type="text";a.appendChild(g);eventjs.add(g,"mousedown",eventjs.stop);eventjs.add(g,"keydown keyup change",
function(a){var c=a.keyCode;eventjs.keyTracker(a);eventjs.stop(a);setTimeout(function(){var d=g.value.replace(e,""),f=h(d.substr(0,6),"W3>HEX24");16777215<f&&(f=16777215);0>f&&(f=0);if(!isNaN(f)){var k=h(f,"HEX24>RGB");if("keydown"===a.type||"keyup"===a.type)if(40===c)f=Math.max(0,f-(a.shiftKey?10:1)),sketch.dom.text.setValue(g,h(f,"HEX24>W3").substr(1));else if(38===c)f=Math.min(16777215,f+(a.shiftKey?10:1)),sketch.dom.text.setValue(g,h(f,"HEX24>W3").substr(1));else if(!eventjs.metaKey||86!==c){6===
d.length&&b.update(k);return}b.update(k,"up")}},50);27===c&&b.blur()})}function c(a){var c=document.createElement("div");c.className="cp-close icon-close";m.ui.tooltip&&m.ui.tooltip.add(c,"Close Color Picker");eventjs.add(c,"mousedown",eventjs.cancel);eventjs.add(c,"click",b.onclose||function(a){eventjs.cancel(a);b.hide()});a.appendChild(c)}function a(a){"string"===typeof a?a="hsla"===a.substr(0,4)?h(a,"W3>HSLA>RGBA>HSVA"):"rgba"===a.substr(0,4)?h(a,"W3>RGBA>HSVA"):"rgb"===a.substr(0,3)?h(a,"W3>RGB>HSV"):
m.color.webcolors[a]?h(m.color.webcolors[a],"W3>HEX24>RGB>HSV"):h(a,"W3>HEX24>RGB>HSV"):"undefined"!==typeof a.R&&(a=h(a,"RGB>HSV"));"undefined"===typeof a.A&&(a.A=255);return a}t=t||{};var b=galactic.emitter(this),h=m.color.space,p={light:{arrow:"000",interlace:{size:8,color1:"#fff",color2:"#eee"}},dark:{arrow:"#fff",interlace:{size:8,color1:"#fff",color2:"#eee"}}};b.init=function(){m.ui=m.ui||{};b.state="colorPicker";b.pixelRatio=1;b.color=a(t.color||"#000000");b.container=k.$(t.container||document.body);
b.margin=t.margin||10;b.offset=b.margin/2;b.strokeColor=t.strokeColor||"rgba(255,255,255,0.15)";b.feature=t.feature||{};b.draggable=t.draggable||!1;b.format=t.format||"rgba";b.theme=p[t.theme||"dark"];var e=b.theme.arrow,g=document.createElement("canvas"),f=g.getContext("2d"),h=16/3;g.width=16;g.height=16;for(var l=0;20>l;l++)f.beginPath(),f.fillStyle=e,f.moveTo(0,4),f.lineTo(4,0),f.lineTo(4,8),f.fill();f.translate(-h,-16);b.arrow=g;e=document.createElement("canvas");e.width=10;e.height=10;g=e.getContext("2d");
g.lineWidth=1;g.beginPath();f=e.width/2;h=e.width/2;g.arc(f,h,4.5,0,2*Math.PI,!0);g.strokeStyle="#000000";g.stroke();g.beginPath();g.arc(f,h,3.5,0,2*Math.PI,!0);g.strokeStyle="#FFFFFF";g.stroke();b.circle=e;f=b.theme.interlace;e=f.size;g=f.color1;h=f.color2;f=document.createElement("canvas").getContext("2d");f.canvas.width=2*e;f.canvas.height=2*e;f.fillStyle=g;f.fillRect(0,0,e,e);f.fillStyle=h;f.fillRect(e,0,e,e);f.fillStyle=h;f.fillRect(0,e,e,e);f.fillStyle=g;f.fillRect(e,e,e,e);e=f.createPattern(f.canvas,
"repeat");try{e.data=f.canvas.toDataURL()}catch(r){}b.interlace=e;b.onchange=t.onchange;b.onclose=t.onclose;e=b.modules=t.modules||{hue:!0,satval:!0,alpha:!0};g=b.config={};e.hue&&(f=e.hue,g.hue={column:0,enable:!t.modules||f.enable||!1,width:isFinite(f.width)?f.width:30,height:isFinite(f.height)?f.height:150});e.satval&&(f=e.satval,g.satval={column:1,enable:!t.modules||f.enable||!1,width:isFinite(f.width)?f.width:150,height:isFinite(f.height)?f.height:150});e.alpha&&(f=e.alpha,g.alpha={column:2,
enable:!t.modules||f.enable||!1,width:isFinite(f.width)?f.width:30,height:isFinite(f.height)?f.height:150});e=b.element=document.createElement("div");e.classList.add("sk-colorpicker");t.className&&(e.className=t.className);t.style&&(e.style.cssText=t.style);b.container.appendChild(e);g=document.createElement("div");g.className="cp-header";b.feature.hexInput&&d(g);b.feature.closeButton&&c(g);e.appendChild(g);u(b);return b};b.update=function(c,d){d=d||"update";c&&(b.color=a(c));r.alpha.enable||(b.color.A=
255);var e=0,h=0,k=-1,l;for(l in g){var m=g[l];!1!==m.enable&&(e+=m.width+b.margin+b.offset-5,k!==m.row&&(h+=m.height+b.margin,k=m.row))}e*=b.pixelRatio;h*=b.pixelRatio;k=b.canvas;if(k.width!==e||k.height!==h)k.width=e,k.height=h,k.style.marginLeft=-b.offset+"px";f(null,d,!!c)};b.toggle=function(a){return"boolean"===typeof a?a?b.show():b.hide():b.element.classList.contains("opened")?b.hide():b.show()};b.show=function(){var a=b.element;a.classList.add("opened");a.style.display="block";window.clearTimeout(a.interval)};
b.hide=function(){var a=b.element;a.classList.remove("opened");a.interval=setTimeout(function(){a.style.display="none"},250)};b.destroy=function(){var a=b.element,c=a.parentNode;c&&c.removeChild(a)};b.toString=function(a){a=a||b.color;isFinite(a.H)&&(a=h(a,"HSVA>RGBA"));return 255===a.A?h(a,"RGB>HEX24>W3"):h(a,"RGBA>W3")};b.init();var r=b.modules,g=b.config;b.update()};var k={$:function(k,f){return"object"===typeof k?k:(f||document).querySelector(k)}}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(m){m.module=m.module||{};m.module.UIPaletteEditor=function(l,k){function m(a){var b=a.paint,c=a.paintMethod,e={};e.event=a.event;e[c]=b;l.doc.setStyle(e);d.emit("setStyle",e)}function f(a,c,d,e,g){l.style[a+"Official"][d]&&(v.style.display="block",b.setClass(c,"official",!0));g===e&&b.setClass(c,"selected",!0)}function e(a,b){var c={};c[a]=b;c.type=a;return c}function u(a,b){w.colorpicker.update?"none"!==a&&w.colorpicker.update(a,b):d.setSelected({type:"color",color:a})}var d=this,c=l.agent,
a=l.detect,b=l.dom,h=l.feature,p=l.lang,r=l.style,g=l.util,q=l.windows,w=l.ui;galactic.emitter(d);var z,y,v,x={};d.getColor=function(){return x.color};d.getPaintMethod=function(){return x.method};d.setListener=function(a){m=a||L};var L=m;d.createTrigger=function(){function c(a){var d=b.$(".sk-pane-content",a);return d?b.empty(d):b.append(a,'<div class="sk-pane-content"></div>')}function e(a,b,c,g){if("boolean"===typeof g){var f=b[c],h=g&&.01>=f.opacity?1:f.opacity;b=b[l[c]];m({paintMethod:c,paint:{opacity:h,
enabled:g}});f.opacity=h;f.enabled=g;d.renderIndicator(a,f);a=f&&f.__cache;c=b&&b.__cache;a&&c&&!1===a.attr.checked&&!1===c.attr.checked&&(c.attr.setValue(!0),c.input.classList.add("sk-checked"))}}function g(b,c,d){var e=d[c];"stroke"===c&&(w.appendRange(b,{label:"lineWidth",param:"lineWidth",title:"lineWidth",value:e.lineWidth,min:.001,max:"text"===d.toolkitId?10:50,format:"px",onchange:function(a,b){m({paint:{enabled:!0,lineWidth:b.value},paintMethod:"stroke",event:a.event})}}),c=d.type,h.style.lineJoin&&
a.shape[c]&&-1===["circle","ellipse","ring"].indexOf(c)&&w.appendSelect(b,{label:"lineJoin",param:"lineJoin",title:"lineJoin",selected:e.lineJoin,options:["round","bevel","miter"],onchange:function(a,b){m({paint:{enabled:!0,lineJoin:b},paintMethod:"stroke"})}}))}function f(a,b,c){w.appendRange(a,{label:"opacity",param:"opacity",title:"opacity",value:c[b].opacity,min:.01,max:1,format:"%",onchange:function(a,c){m({paint:{enabled:!0,opacity:c.value},paintMethod:b,event:a.event})}})}function k(b,c,d,
e,g){c=e.type;var f=e[d];e=a.useColorModeCycle[c];h.style.colorMode&&!e&&(a.useColorModeAll[c]?e=["cycle","linear","radial"]:(e=["linear","radial"],"cycle"===f.mode&&(f.mode="linear")),w.appendSelect(b,{label:"colorMode",param:"colorMode",title:"colorMode",selected:f.mode,options:e,onchange:function(a,b){f.mode=b;m({paint:{enabled:!0,mode:b},paintMethod:d});g()}}),"linear"===f.mode&&"floodfill"!==c&&w.appendRange(b,{label:"angle",param:"angle",title:"angle",value:f.angle,min:0,max:360,format:"degree",
onchange:function(a,b){m({paint:{enabled:!0,angle:b.value>>0},paintMethod:d,event:a.event})}}));h.style.colorNoise&&w.appendCheckbox(b,{label:"colorNoise",param:"colorNoise",title:"colorNoise",checked:!!f.noise,onchange:function(a){f.noise=a;m({paint:{enabled:!0,noise:a},paintMethod:d})}})}var l={stroke:"fill",fill:"stroke"};return function(a){function l(){function a(b){var c=b.color;b=b.type;G.style.display="gradient"===b?"block":"none";"color"===b&&u(c,!1)}d.off("setPane");d.on("setPane",a);w.ranges=
{};if(v)var h=m,h=c(h);else{var r=w.pages.getPageId(),h=b.empty("#sk-"+r);w.pages.pageId=r+":"+y;w.appendHeader(h,{title:t,left:{icon:"icon-left",onclick:function(){w.setPane(r,{force:!0})}}});h=c(h);d.append(h,p,q)}d.setPaint(q);d.setListener(x);v||e(z,p,y,!0);f(h,y,p);g(h,y,p);var G=b.append(h,'<div class="sk-gradient-args"></div>');k(G,h,y,p,l);p.footer&&(b.append(h,'<div style="clear:both; height: 40px;"></div>'),w.appendHTML(h,p,p.footer));a(q)}a=a||{};var m=a.container,p=a.configure,q=a.paint,
r=a.label,t=a.title,v=!!a.instant,x=a.onchange,y=q.method||q.constructor.method,z=b.create("canvas",{class:y+"-indicator"});if(m&&!0!==v){var H=b.create("div");H.classList.add("sk-style-node");H.appendChild(z);q.enabled&&H.classList.add("sk-enabled");p.fill&&!p.fill.hidden&&p.stroke&&!p.stroke.hidden&&(a=w.Checkbox({container:H,label:"enable",param:"enable",checked:q.enabled,tooltip:function(){return this.checked?"enabled":"disabled"},onchange:function(a){H.classList.toggle("sk-enabled");e(z,p,y,
a)}}),q.__cache={},q.__cache.attr=a.attr,q.__cache.input=a.element);if(3===h.palette.version)w.on("click",z,function(a,b){d.setPaint(q);d.show({autoclose:!0,at:{element:b.target,align:"left top",offset:{x:10,y:-10}}})});else w.on("click",z,function(){w.tooltip&&w.tooltip.hide();l()});w.tooltip&&w.tooltip.add(z,"choose-"+y);r?w.appendLabel(m,H,r):m.appendChild(H);d.renderIndicator(z,q)}else l();d.setListener(x)}}();d.append=function(a,c){c.useBackgroundOverlay||(d.$element?a.appendChild(d.$element):
(b.append(a,'<div id="sk-palette"></div>'),d.init({paint:c.fill})))};(function(){function a(){var c=b.empty("#sk-palette");if(null===c)console.error("#sk-palette does not exist");else{var e=b.append(c,'<div class="sk-header"></div>');h.palette.header&&(d.$title=b.append(e,'<div class="sk-header-content"></div>'),h.palette.closeButton&&eventjs.add({target:b.append(e,'<span class="sk-close icon-remove"></span>'),mousedown:eventjs.cancel,click:function(a,b){eventjs.cancel(a);requestAnimationFrame(function(){q.hide(c.getAttribute("data-selector"))})}}));
var g=b.append(c,'<div class="sk-palette-content"></div>');h.palette.grid&&(v=b.append(g,'<div class="sk-scroller sk-scroller-official sk-scroller-palette"></div>'),w.scrollable(v),b.append(g,'<div class="sk-palette-break"></div>'),y=b.append(g,'<div class="sk-scroller sk-scroller-palette"></div>'),w.scrollable(y),b.append(g,'<div class="sk-palette-break"></div>'));z=b.append(g,'<div class="editor"></div>');z.style.display="none";if(h.style.gradient||h.style.pattern){var f=b.append(e,'<ol class="tabs"></ol>'),
e=function(a){var c=b.Canvas(1,1);c.className=a+"-indicator";var e=b.append(f,"span");e.appendChild(c);eventjs.add(e,"click",function(b){eventjs.prevent(b);d.updateAndRecord(a)});b.append(e,"span").textContent=p.translate(a)};h.style.color&&e("color");h.style.gradient&&e("gradient");h.style.pattern&&e("pattern")}d.$element=c}}function c(a){a=a||{};var b=a.height||165;w.colorpicker=new l.color.picker({onchange:a.onchange||function(a,b,c){"down"!==b&&!0!==b||d.deselect("color");m({paint:{enabled:!0,
paintType:"color",dna:a},paintMethod:x.method,event:c})},onclose:a.onclose,theme:a.theme,container:"#sk-palette .editor",feature:{closeButton:!1,hexInput:a.hexInput},modules:{hue:{column:2,enable:!0,width:30,height:b},satval:{column:1,enable:!0,width:(a.width||206)-40,height:b},alpha:{column:3,enable:!1,width:30,height:b}}});l.doc.toolkit.eyedropper.createTrigger()}d.init=function(b){b=b||{};var e=b.colorPicker||h.palette.colorPicker;b=b.paint||r.fill;a();e&&(g.exists("sk.color.picker")?c(e):console.warn("sk.color.picker is not loaded"));
d.setPaint(b)}})();d.setPane=function(a,b){d.setPaintType(a,!1,!1,b);d.emit("setPane",x)};d.setPaint=function(){return function(a){a:{switch(typeof a){case "string":a=r.validate(a)?r.create(a,x.method):void 0;break a;case "object":break a}a=void 0}if(a){var c=a.type,e=x.type!==c;x=a;var g=h.palette.header,f=d.$title;if(f)if(b.empty(f),"function"===typeof g){var k=l.doc.toolkit.getConfigFallback();b.append(f,g(x,k))}else b.append(f,g);d.setPaintType(c,e);d.setIndicator(a);"color"===c&&u(x[c])}}}();
d.setPaintType=function(){function a(c,d){var e=l.doc;d.pointerStart&&eventjs.blur();eventjs.cancel(c);var g=d.target;d.pointerStart&&(d.clone=b.clone(g,"sk-palette-clone"),d.measure=b.measure(g),document.body.appendChild(d.clone));var f=d.x-d.start.x,h=d.y-d.start.y;10<Math.max(Math.abs(f),Math.abs(h))&&e.selection.empty();d.pointerEnd?(b.remove(d.clone),p(c,d),f=eventjs.getPageXY(c),document.elementFromPoint(f.x,f.y)===e.contexts.active&&(g=g.parentNode,f=e.scene.pointInSceneFromEvent(c),f=e.scene.findAtPoint({point:f}),
(e=e.scene.children[f])&&l.vector.setStyleAt({object:e,paint:g.getAttribute("data-dna"),point:c}))):(g=d.clone.style,f+=d.measure.x1,h+=d.measure.y1,g.transform="translate("+f+"px, "+h+"px)",g.position="absolute",g.cursor="crosshair")}function p(a,c){eventjs.prevent(a);var e=c.target.parentNode,g=e.getAttribute("data-type"),f=e.getAttribute("data-dna");d.deselect(g,y);d.deselect(g,v);b.setClass(e,"selected",!0);requestAnimationFrame(function(){"pattern"===g?r.loadPattern(f,function(a){m({paint:{enabled:!0,
paintType:g,dna:f},paintMethod:x.method})}):"color"===g&&w.colorpicker.update?u(f,!0):m({paint:{enabled:!0,paintType:g,dna:f},paintMethod:x.method});h.debug&&console.log("dna",f)})}return function(m,q,t,u){var G=l.perf();if(z&&("color"===m?h.palette.colorPicker&&(z.style.display="block"):z.style.display="none",m&&(q||x.type!==m)&&(x.type=m,h.palette.grid))){d.queue&&d.queue.cancel();(q=b.$("."+m+"-indicator"))&&b.setClass(q.parentNode,"selected",!0,"span");q="color"===m;var F="gradient"===m,L="pattern"===
m,K=m+r.hashDNA(x[m]);v.style.display="none";b.setClass(v,"color",q);b.setClass(v,"gradient",F);b.setClass(v,"pattern",L);b.setClass(y,"color",q);b.setClass(y,"gradient",F);b.setClass(y,"pattern",L);t&&(b.empty(y),b.empty(v));var J=l.style[m];if(J){var S,P,T=h.palette.drag&&!c.mobile,U="color"===m&&w.tooltip;d.queue=g.Queue({items:J,oncancel:u,oncomplete:function(){h.perf&&console.log("build palette",m,G());d.setIndicator(x);u&&u()},next:function(c,d,g){c=J[g];d=r.hashDNA(c);var q=m+d,u=l.style[m+
"Official"][d]?v:y,x=document.getElementById(q);if(x&&!t)f(m,x,d,K,q),this.next();else{var x=b.Canvas(1,1),z=document.createElement("li");z.id=q;z.className=m;z.setAttribute("data-type",m);z.setAttribute("data-dna",c);z.appendChild(x);S||P||(u.appendChild(z),P=(S=x.offsetWidth)||x.offsetHeight);r.renderSwatch(x,e(m,c),S,P,k.pixelRatio);f(m,z,d,K,q);u.appendChild(z);U&&w.tooltip.add(x,c);T&&eventjs.add(x,"drag",a);eventjs.add(x,"click",p);h.palette.buildInstant?this.next():0!==g%10?this.next():setTimeout(this.next,
0)}}})}}}}();d.rebuild=function(a){a=b.$$("#sk-palette .sk-scroller-palette "+(a?"."+a:"li"));b.remove(a);d.setPaintType(x.type,!0)};d.deselect=function(a,c){c=c||y;a=a||x.type;var d=b.$$("."+a+".selected",c);g.each(d,function(a){a.classList.remove("selected")})};d.updateAndRecord=function(a){d.setPane(a);m({paint:{enabled:!0,paintType:a,dna:x[a]},paintMethod:x.method})};d.setSelected=function(a){a=a||x;var c=a.type;a=a[c];l.color.webcolors[a]&&(a="#"+l.color.webcolors[a]);a=r.hashDNA(a);(c=b.$("#"+
c+a))&&b.setClass({target:c,list:"li",name:"selected",on:!0})};d.setIndicator=function(){function a(c,e,g){c=b.$$(c);for(var f=0;f<c.length;f++)d.renderIndicator(c[f],e,g)}function c(b){b=b||x;a(".color-indicator",b,"color");a(".gradient-indicator",b,"gradient");a(".pattern-indicator",b,"pattern");var e=l.doc.toolkit.getConfigFallback();a(".fill-indicator",e?e.fill:r.fill);a(".stroke-indicator",e?e.stroke:r.stroke);a(".background-indicator",e?e.background:r.background);d.setSelected(b)}return function(a){g.throttle(c,
100)(a)}}();d.renderIndicator=function(a,b,c){b=b||{};var d=k.pixelRatio,g=a.offsetWidth,f=g||a.offsetHeight,h=w.media.get("transparent");""===a.style.background&&(a.style.background=h.css);b.enabled?c&&(b=e(c,b[c]||r.fill[c])):b=e("pattern",h);r.renderSwatch(a,b,g,f,d)};(function(){d.show=function(a,c){a=a||{};var e=a.at,g=a.paint,f=a.configure||l.doc.toolkit.getConfigFallback(),h=a.autoclose;g&&d.setPaint(g);g=b.$("#sk-palette");l.palette.createTrigger({instant:!0,container:g,configure:f,paint:x,
label:x.method,title:x.method});q.show({element:g,autoclose:h,at:e},c)};d.hide=function(){q.hide("#sk-palette")};d.toggle=function(a){q.isOpen("#sk-palette")?d.hide():d.show(a)}})()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(m){function l(a){a=c.$(a);var b=c.measure(a);r.element=a;r.left=b.x1;r.right=b.x2;r.top=b.y1;r.bottom=b.y2}function k(b,d){var e=document.body||document.documentElement,f=e.scrollTop,k=e.scrollLeft,l=window.innerWidth,m=window.innerHeight;if(!1!==d.draggable){var p=d.element,e=c.$(d.handle||p);return eventjs.proxy.drag({event:b,target:e,position:"move",useCSSTransform:!1,listener:function(b,e){eventjs.cancel(b);var g=c.measure(e.target);e.width=g.width;e.height=g.height;u(e);"fixed"===g.position&&
(e.y-=f,e.x-=k);h.emit("drag",e,d);var g=Math.round(e.x+k),t=Math.round(e.y+f);p.style.transform="translate("+g+"px, "+t+"px)";e.pointerStart?(g=d.zIndexFixed||++a.zIndexGlobal,p.style.zIndex=g):(g={},g.selector=d.selector,g.index=a.zIndexGlobal,"bottom"===d.vAlign?g.bottom=(m-e.y-e.height-(m-r.bottom))/m:g.top=(e.y-r.top)/m,"right"===d.hAlign?g.right=(l-e.x-e.width-(l-r.right))/l:g.left=(e.x-r.left)/l,h.record(g),h.restore(g.selector))}})}}function t(a,b){if(void 0===b.hasWindowEvent){b.hasWindowEvent=
!0;var c;eventjs.add({target:b,contextmenu:function(a){c&&c.remove&&c.remove()},mousedown:function(b){c=k(b,a)},mouseover:function(a){eventjs.stop(a)}})}}function f(b){var d=c.$(".sk-close",b);d&&(a.tooltip&&a.tooltip.add(d,"Close"),eventjs.add({target:d,mousedown:eventjs.stop,click:function(a,c){eventjs.cancel(a);requestAnimationFrame(function(){for(var a=c.target;a!==document;)if(a.classList.contains("sk-window")){h.hide(b.getAttribute("data-selector"));break}else if(a.parentNode)a=a.parentNode;
else break})}}))}function e(a){var b=h.byId(a);if(b){var c=b.element,b=b.ghost=document.createElement("div");0===a.indexOf("#")?b.id=a.substr(1)+"-ghost":b.className=a.substr(1)+"-ghost";b.classList.add("sk-window-ghost");c.parentNode.insertBefore(b,c);eventjs.add(b,"mousedown",function(b){eventjs.prevent(b);h.hide(a)})}}function u(a){var b=r.x||0,c=r.y||0,d=r.width||window.innerWidth,e=r.height||window.innerHeight;a.x+a.width>d&&(a.x=d-a.width);a.x<b&&(a.x=b);a.y+a.height>e&&(a.y=e-a.height);a.y<
c&&(a.y=c);return a}function d(a){return!0===a?"block":!1===a?"none":a}var c=m.dom,a=m.ui||(m.ui={}),b=m.util,h=m.windows=[];h.focused=[];var p=h.toIndex={};galactic.emitter(h);h.add=function(){function e(a){a=p[a];if(isFinite(a))return c.contains(document.body,h[a].element)}return function(f){a.zIndexGlobal=a.zIndexGlobal||1001;if(Array.isArray(f))for(var k=0;k<f.length;k++){var l=f[k];h.add(l);h.restore(l.selector)}else if(k=f.selector,l=c.$(k),e(k))console.error("Element already added.",k);else if(l){var m=
d(f.display),r=(f.position||"top left").split(" "),u=f.vAlign=r[0]||"top",r=f.hAlign=r[1]||"left";if("px"===f.format){var L=window.innerWidth,E=window.innerHeight;"top"===u?f.top=(f.top||0)/E:f.bottom=(f.bottom||0)/E;"left"===r?f.left=(f.left||0)/L:f.right=(f.right||0)/L}f.element=l;f.index=f.index||++a.zIndexGlobal;l.setAttribute("data-selector",k);f.handle?t(f,c.$(f.handle)):t(f,f.element);p[k]=h.length;h.push(f);b.cookie.get(k,function(a){a&&(m&&(a.display=m),"NONE"===f.display&&(a.display="none"),
"BLOCK"===f.display&&(a.display="block"),b.copyInto(a,f))})}else console.error("Element does not exist!",k)}}();h.byId=function(a){return h[p[a]]||!1};h.record=function(a){var c=a.selector,e=h.byId(c);e&&(void 0!==a.left&&(e.left=a.left),void 0!==a.top&&(e.top=a.top),void 0!==a.right&&(e.right=a.right),void 0!==a.bottom&&(e.bottom=a.bottom),void 0!==a.display&&(e.display=d(a.display)),void 0!==a.index&&(e.index=a.index),void 0!==a.className&&(e.className=a.className),void 0!==a.autoclose&&(e.autoclose=
a.autoclose),a=b.json.stringify(e),b.cookie.set(c,a),h.focusElement(c,e.display))};h.restore=function(b){var d=h;if("string"===typeof b){var e=h.byId(b);e&&(d=[e])}var f=document.body||document.documentElement;b=f.scrollTop;var f=f.scrollLeft,k=window.innerWidth,m=window.innerHeight;r.element&&l(r.element);for(var p=[],t={},E=0;E<d.length;E++)if(e=d[E],"block"===String(e.display).toLowerCase()){var A=c.$(e.selector);if(A){A.style.display="block";var D=c.measure(A,{sansScale:!0}),A=D.width,B=D.height,
C,H=e.vAlign;C="top"===H?e.top*m+r.top:m-e.bottom*m-B;var G,F=e.hAlign;G="left"===F?e.left*k+r.left:k-e.right*k-A;t._bottom=C+B-m;t._top=Math.min(C,m)-C;t._right=G+A-k;t._left=Math.min(G,k)-G;t[H]=Math.max(t[H]||0,t["_"+H]);t[F]=Math.max(t[F]||0,t["_"+F]);p.push({win:e,measure:D,top:Math.max(0,C),left:Math.max(0,G),width:A,height:B})}}d=1001;for(E=0;E<p.length;E++)p=p[E],e=p.win,D=p.measure,A=e.element,k="bottom"===e.vAlign?p.top-t.bottom:p.top+t.top,m="right"===e.hAlign?p.left-t.right:p.left+t.left,
p=u({x:m,y:k,width:p.width,height:p.height}),"fixed"!==D.position&&(p.y+=b,p.x+=f),e=e.zIndexFixed||e.index||++d,m=Math.round(p.x),k=Math.round(p.y),D=A.style,D.transform="translate("+m+"px, "+k+"px)",D.zIndex=e,D.display="block",A.classList.add("opened"),a.zIndexGlobal=Math.max(a.zIndexGlobal,e)};h.blink=function(a,b){var d=c.$(a);d&&(h.isOpen(d)||h.show(a),setTimeout(function(){d.blinking=!1},250),d.blinking?b&&b(!0):(d.blinking=!0,c.animate(d,{name:"heartbeat"}).then(function(){b&&b(!0)})))};h.show=
function(b,d){if("object"===typeof b){var k=b,l=c.$(k.element);if(l){if(b=l.getAttribute("data-selector")){var p=c.getCoordinateAt(k);if(p){var r=Math.round(p.x),t=Math.round(p.y);l.style.transform="translate("+r+"px, "+t+"px)";m.windows.record({selector:b,left:p.x/window.innerWidth,top:p.y/window.innerHeight,autoclose:k.autoclose})}h.show(b,d)}}else console.warn(arguments)}else if(k=h.byId(b)){var u=!!k.autoclose,E=k.ghost;if(l=k.element)clearTimeout(l.interval),l.classList.contains("sk-window")&&
(l.classList.add("opened"),p=k.zIndexFixed||++a.zIndexGlobal,h.record({selector:b,display:"block",index:p}),u&&(void 0===E&&(e(b),E=k.ghost),E.style.display="block",E.style.zIndex=p++),l.style.display="block",l.style.opacity=1,l.style.zIndex=p,f(l),requestAnimationFrame(function(){u&&E.classList.add("show");h.restore(b);d&&d()}))}};h.hide=function(a){var b=h.byId(a);if(b){var c=b.element,d=b.ghost,e=!!b.autoclose&&d;!1!==b.closeable&&(e&&d.classList.remove("show"),c.classList.remove("opened"),c.style.opacity=
0,c.interval=setTimeout(function(){e&&(d.style.display="none");c.style.opacity=1;c.style.display="none";h.record({selector:a,display:"none"})},250))}};h.focus=function(b){var c=h.byId(b),d=c.element;d&&(c=c.zIndexFixed||++a.zIndexGlobal,d.style.zIndex=c,h.record({selector:b,index:c}))};h.clearFocus=function(){h.focused=[]};h.focusElement=function(a,b){if("none"!==b){var c=h.focused.slice(-1)[0],d=" "+h.focused.join(" ")+" ";c!==a&&-1===d.indexOf(a)&&h.focused.push(a)}};h.hasFocus=function(){return isFinite(p[h.focused.slice(-1)[0]])};
h.hideFocused=function(){var a=h.focused.pop();h.hide(a)};h.isOpen=function(a){if(a=c.$(a))return"none"===a.style.display?!1:a.classList.contains("opened")};h.isClosed=function(a){return!h.isOpen(a)};h.toggle=function(a,b){var d=c.$(a);if(d){if(h.isOpen(d)){h.hide(a);var e=!1}else h.show(a),h.restore(a),e=!0;b&&requestAnimationFrame(function(){b(e)})}else console.error("window missing",arguments)};var r=h.CLAMP={x:0,y:0,left:0,right:0,top:0,bottom:0,vAlign:"top",hAlign:"left"};h.setClamp=function(a){a=
a||{};var b=a.element||document.body,c=a.width,d=a.height,e=a.y;r.x=a.x||null;r.y=e||null;r.width=c||null;r.height=d||null;l(b)}})(sketch);
(function(m){function l(l,f,e){function m(a,b){a.events&&eventjs.bulk(a.events,"remove");a.events={};a.events.click=eventjs.add(a,"click",d);if(b){var c=function(a,b){r.doc.editable||f.scene.deselectAll();b.drag=f.addMediaFromDrag({target:b,event:a,src:b.getAttribute("data-src")})};"longpress"===b?a.events.longpress=eventjs.add(a,"longpress",function(a,b){eventjs.stop(a);"start"===b.state&&c(a,b.target)}):a.events.mousedown=eventjs.add(a,"mousedown",function(a,b){eventjs.stop(a);c(a,this)})}}function d(a,
b){var d=l.doc,e=b.target,f=h.type,m=e.getAttribute("data-src"),u=e.getAttribute("data-name"),w=m.split("/"),z=r.placement.mediaClick;h.select(e);var H=document.createElement("span");H.className="loader";e.appendChild(H);setTimeout(function(){c(f,w[w.length-2]);if(e.drag){e.drag.remove();var a=p.$("#sk-draggable");a&&a.parentNode.removeChild(a)}var a="text"===f,b="stamp"===f;(a=!("select"===d._tool.type&&d.selection.length||a||b))&&d.scene.deselectAll();d.setMedia({src:m,fontFamily:u,type:f,onerror:function(){k.log(g.translate("loading-error")+
" \u201c"+u+"\u201d");e.removeChild(H)},onsuccess:function(){q.dirtyControls=!0;e.removeChild(H)}});a&&z&&d.scene.add({type:f,src:m})},250)}function c(a,b){var c=h.credits;c.innerHTML="";c.style.display="none";var d=l.lib[a].credits;if(d&&d[b]){c.style.display="block";var d=d[b],e=p.create('<a target="_blank" href="'+d.url+'"></a>'),f=document.createElement("span");f.setAttribute("data-title",d.name);f.textContent=d.name;e.appendChild(f);c.appendChild(document.createTextNode("By: "));c.appendChild(e)}}
function a(){console.warn("error",this)}function b(){var a="stamp"===h.type||"text"===h.type,b=this.canvas;z.thumbnailer({background:"none",src:this,canvas:b,width:b.width,height:b.height,crop:"edge",center:!0,shadow:a&&r.ui.scrollerShadow,onsuccess:function(b){if(a){var c=b.className||"";c.indexOf("selected");var d=b.getContext("2d");d.save();d.globalCompositeOperation="source-atop";d.fillStyle=l.feature.ui.scrollerAtopColor;d.fillRect(0,0,b.width,b.height);b.setAttribute("data-className",c);d.restore()}}})}
var h=this,p=l.dom,r=l.feature,g=l.lang,q=f.render,w=f.toolkit,z=l.util;h.credits=void 0;h.folder=e.folder;h.media=void 0;h.positions=[];h.scroller=void 0;h.scrollTop=0;h.target=e.target;h.type=e.type;h.hide=function(){h.scroller.style.display="none"};h.show=function(a){var b=l.lib[h.type];if(b&&b.paths){var c=h.folder=a.folder,d=h.credits;a=h.scroller;var e=h.target;a.style.display="none";a.scrollTop=h.scrollTop;e.appendChild(a);e.appendChild(d);for(var d=0,e=b.paths,f=e.length,g=0;g<f;g++){var k=
e[g],m=k.container;if(k.image&&m){var r=!c||"*"===c,q=k.selected===c;"Your Files"===c&&0===b.getSrc(k).indexOf("#")||q||r?(d++,m.style.display="inline-block"):m.style.display="none"}}(b=p.$(".noItemsAdded"))||(b=p.create('<div class="noItemsAdded"></div>'),b.textContent="No files have been added.",a.appendChild(b));b.style.display=0===d?"block":"none";a.style.display="block";h.scrollTo();h.lazyLoad();return h}};h.lazyLoad=function(){var a=h.scroller,b=a.scrollTop,c=a.offsetHeight;a.style.display=
"none";for(var d=h.positions,e=h.folder,f=[],g=h.media.paths,k=g.length,l=0;l<k;l++){var m=g[l],p=!e||"*"===e,r=m.selected===e;("Your Files"===e&&"#"===m.filepath[0]||r||p)&&f.push(m)}e=f.length;for(g=0;g<e;g++)if(k=d[g])l=k[0],l>=b-k[1]&&l<=b+c&&(l=f[g],k=l.image,l=l.container,k&&l&&(k.src=l.getAttribute("data-thumbnail")));a.style.display="block"};h.calcMetrics=function(a,b,c){a.style.height="9999px";b=a.offsetWidth-p.scrollbarX(a);c=c.thumbnail;var d=c._height/c._width,e=isFinite(c.rows)?c.rows:
5,f=isFinite(c.columns)?c.columns:4,g=isFinite(c.padding)?c.padding:0;b=b/f>>0;b=z.copyInto(c,{width:Math.round(b),height:Math.round(b*d),padding:g,columns:f,rows:e});a.style.cssText+="max-height: "+b.height*b.rows+"px;";return b};h.select=function(a){p.setClass({name:"selected",list:p.$$("."+h.type,h.scroller),target:a,on:!0})};h.scrollTo=function(a){"undefined"===typeof a?a=h.scroller.querySelector(".selected"):"string"===typeof a&&(a=h.scroller.querySelector(".hash"+z.hashFast(a)));if(a&&a.nodeName){var b=
a.offsetTop;a.classList.contains("sk-divider")&&(b+=a.offsetHeight);h.scroller.scrollTop=b;h.scrollTop=b}};(function(d){d=h.type;var e=l.lib[d];if(e&&e.paths){e.thumbnail=e.thumbnail||{};var k=p.create('<div class="sk-configure-scroller sk-scroller"></div>'),q=p.create('<div class="sk-configure-credits"></div>'),E=h.target;E.appendChild(k);E.appendChild(q);h.scroller=k;h.credits=q;h.media=e;h.thumbnail=h.calcMetrics(k,d,e);h.positions=[];c(d,h.folder);a:{if(q=f.selection.item||f.toolkit.config[d]){var E=
l.detect.useSrc,A=q.type,D=l.lib[q.type];if(E[q.type]){var B=f._tool.type;!q.src&&l.lib[A]&&(q.src=D.getSrc(D.paths[0]));E[B]&&A!==B&&w.tool(A);q=q.src||"";break a}else if(q.fontFamily){q=D.getSrc(D.byName[q.fontFamily])||"";break a}}q=""}var E=("clipart"===d||"image"===d)&&r.placement.mediaDrag,A=r.ui.scrollerCategories,C=h.thumbnail,D=C.padding,B=C.width,H=C.height,C=C.columns,G=f.pixelRatio,F=h.positions;k.style.display="none";for(var N="",K=0,J=0,S,P=e.paths,T=P.length,U=0;U<T;U++){var I=P[U],
X=e.getSrc(I),W=e.getThumbnail(I);if(I.category!==N&&A){var N=I.category||"Your Files",K="hash"+z.hashFast(N),Y=document.createElement("div");Y.className=K+" sk-divider";Y.style.height="35px";Y.textContent=g.translate(N);k.appendChild(Y);K=0;J+=35;0!==U&&(J+=H)}else++K===C&&(K=0,J+=H);var Y=I.canvas,O=B*G,V=H*G;if(Y&&Y.width===O&&Y.height===V)var Q=I.image,O=I.container;else Q=I.image=document.createElement("img"),Y=I.canvas=p.Canvas(O-2*D,V-2*D),O=I.container=document.createElement("span"),Y.style.padding=
D+"px",Y.style.width=B+"px",Y.style.height=H+"px",Y.title=I.filename,O.style.width=B+"px",O.style.height=H+"px",O.setAttribute("data-src",X),O.setAttribute("data-thumbnail",W),O.setAttribute("data-name",I.name),O.setAttribute("data-n",U),O.className=d,O.appendChild(Y),Q.canvas=Y,Q.onload=b,Q.onerror=a;m(O,E);X&&-1!==q.indexOf(X)&&(S=O);F.push([J,H]);k.appendChild(O)}k.style.display="block";h.select(S)}})(e);h.show(e);k.scrollable(h.scroller);eventjs.add(h.scroller,"scroll",function(){var a=h.scroller;
h.scrollTop=a.scrollTop;clearTimeout(a.timeout);a.timeout=setTimeout(function(){h.lazyLoad()},100)})}var k=m.ui=m.ui||{};k.scrollers={};k.InfiniteScroll=function(m,f,e){var u=m.feature,d=e.type,c=e.target,a=m.lib[d];if(a&&a.paths){var b=k.scrollers,h=b[d],p=!1;h&&(p=u.ui.addToLibrary?h.positions.length===a.paths.length:!0);if(p)return h.target=c,h.show(e);h=new l(m,f,e);return b[d]=h}}})(sketch);
