/*
  ___________           __         .__         .__        
 /   _____/  | __ _____/  |_  ____ |  |__      |__| ____  
 \_____  \|  |/ // __ \   __\/ ___\|  |  \     |  |/  _ \ 
 /        \    <\  ___/|  | \  \___|   Y  \    |  (  <_> )
/_______  /__|_ \\___  >__|  \___  >___|  / /\ |__|\____/ 
		\/     \/    \/          \/     \/  \/            
 
 HTML5 graphics made w/ WebGL, WebRTC & Canvas
 
 -------------------------------------------------------------------
 Sketchpad 3.5 built for "Draw, Create, Share!"
 -------------------------------------------------------------------
 Sketch API v3.7.4.24
 Copyright (c) Sketch.IO, Inc. <https://sketch.io>
 -------------------------------------------------------------------
 
 SketchAPI uses certain modules under license from third parties.
 Sketch.io offers the SketchAPI, pursuant to its license,
 to you on the condition you accept the following modules under
 their respective licenses.
 -------------------------------------------------------------------
    module: i18n.js
       src: https://github.com/gammasoft/browser-i18n
    author: Renato Gama
 copyright: (c) 2013 Gammasoft
   license: MIT

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the 'Software'), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
    module: sprintf.js
       src: https://github.com/jakobwesthoff/sprintf.js
    author: Jakob Westhoff
 copyright: (c) 2010 Jakob Westhoff
   license: MIT
 -------------------------------------------------------------------
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the 'Software'), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 -------------------------------------------------------------------
    module: Base64 shim
       src: http://code.google.com/p/stringencoders/
   authors: Nick Galbreath
 copyright: (c) 2010 Nick Galbreath
   license: MIT
 -------------------------------------------------------------------
    module: ClassList shim
       src: https://github.com/remy/polyfills
   authors: Remy Sharp
 copyright: (c) 2010 Remy Sharp, <http://remysharp.com>
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix shim
       src: https://github.com/camupod/CSSMatrix
   authors: Cameron Lakenen & Arian Stolwijk
 copyright: (c) 2013 Cameron Lakenen & Arian Stolwijk
   license: MIT
 -------------------------------------------------------------------
    module: CSSMatrix.decompose
       src: http://www.joelambert.co.uk/morf/
    author: Joe Lambert
 copyright: (c) 2011 Joe Lambert <http://www.joelambert.co.uk>
   license: MIT
 -------------------------------------------------------------------
    module: AnimationFrame shim
       src: https://github.com/kof/animationFrame
    author: Oleg Slobodskoi
 copyright: (c) 2013 Oleg Slobodskoi
   license: MIT
 -------------------------------------------------------------------
    module: Blob.js - Blob shim (2014-07-01)
       src: https://github.com/eligrey/Blob.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: Canvas.toBlob.js (2013-12-27)
       src: https://github.com/eligrey/canvas-toBlob.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: FileSaver.js (2015-01-04)
       src: https://github.com/eligrey/FileSaver.js
    author: Eli Grey
 copyright: (c) 2011 Eli Grey <http://eligrey.com>
   license: MIT
 -------------------------------------------------------------------
    module: Parse URI v1.2.2
       src: https://gist.github.com/kflorence/1169555
    author: Steven Levithan & Kyle Florence
 copyright: (c) 2007 Steven Levithan
   license: MIT
 -------------------------------------------------------------------
    module: Catmull?Rom Spline
       src: https://github.com/almende/vis/
    author: Almende B.V.
 copyright: (c) 2014 Almende B.V.
   license: MIT
 -------------------------------------------------------------------
    module: arcToBezier - Elliptical Arc to Bezier Curve(s)
       src: http://www.levien.com/
    author: Raph Levien <raph@artofcode.com>
 copyright: (c) 2002 USC/Information Sciences Institute
   license: MIT
 -------------------------------------------------------------------
    module: ContextMenu.js
       src: https://github.com/aantthony/contextmenu
    author: Anthony Foster
 copyright: (c) 2012 Anthony Foster
   license: MIT
 -------------------------------------------------------------------
    module: CSS Gradient Parser
       src: http://lea.verou.me/demos/cssgradientsplease/
    author: Lea Verou
 copyright: (c) 2011 Lea Verou. All rights reserved.
   license: MIT
 -------------------------------------------------------------------
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the 'Software'), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
*/
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.DOMMisc=function(a){var d=a.util||(a.util={});d.inherits=function(a,d){function b(){}b.prototype=d.prototype;a.prototype=new b;a.prototype.constructor=a};d.errorHandler=function(a){return function(){console.warn(a,arguments)}};d.requestKioskMode=function(){a.client.nodewebkit&&require("nw.gui").Window.get().enterKioskMode()};d.diff=function(a,m,b){if(a!==m){var c=new a.constructor,f=new m.constructor,w=!0,r;for(r in a)if(b&&-1!==b.indexOf(r))c[r]=a[r],f[r]=
m[r];else if(!(r in m))w=!1,c[r]=a[r],f[r]=m[r];else if(a[r]!==m[r])if("object"===typeof a[r]&&"object"===typeof m[r]){var e=d.diff(a[r],m[r],b);void 0!==e&&(w=!1,c[r]=e.from,f[r]=e.to)}else w=!1,c[r]=a[r],f[r]=m[r];for(r in m)r in a||(w=!1,c[r]=a[r],f[r]=m[r]);if(!w)return{from:c,to:f}}};d.sort=function(a,d,b){if(b)var c=a.sort(function(a,c){return d(a[b],c[b])});else c={},Object.keys(a).sort(d).forEach(function(b){c[b]=a[b]});return c};d.sort.natural=function(a,d){var b=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,
c=/(^[ ]*|[ ]*$)/g,f=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,w=/^0x[0-9a-f]+$/i,r=/^0/,h=a.toString().replace(c,"")||"",u=d.toString().replace(c,"")||"",c=h.replace(b,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),b=u.replace(b,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),h=parseInt(h.match(w))||1!=c.length&&h.match(f)&&Date.parse(h);if(f=parseInt(u.match(w))||h&&u.match(f)&&Date.parse(u)||
null){if(h<f)return-1;if(h>f)return 1}f=0;for(w=Math.max(c.length,b.length);f<w;f++){h=!(c[f]||"").match(r)&&parseFloat(c[f])||c[f]||0;u=!(b[f]||"").match(r)&&parseFloat(b[f])||b[f]||0;if(isNaN(h)!==isNaN(u))return isNaN(h)?1:-1;typeof h!==typeof u&&(h+="",u+="");if(h<u)return-1;if(h>u)return 1}return 0};d.getItems=function(a,m){var b=a.length,c={};d.foreach(a,function(a){d.getItem(a,function(g){c[a]=g;--b||m(c)})})};d.getItem=function(g,m){m=m||function(a){console.log(a)};var b=function(a){if(a)try{a=
JSON.parse(a)}catch(c){}m(a)};if(d.exists("chrome.storage.local"))chrome.storage.local.get(g,function(a){b(a[g])});else{var c=localStorage.getItem((a.feature&&a.feature.prefix||"")+"/"+g)||"";b(c)}};d.setItem=function(g,m){if(d.exists("chrome.storage.local")){var b={};b[g]=m;chrome.storage.local.set(b)}else localStorage.setItem((a.feature&&a.feature.prefix||"")+"/"+g,m)};d.Canvas=function(g,d,b){if("undefined"===typeof document){if(void 0===e)return{ctx:{}};var c=new e}else c=document.createElement("canvas"),
"function"===typeof FlashCanvas&&(c.onload=a.client.fn.init);c.ctx=c.getContext(b||"2d");isFinite(g)&&(c.width=g||1);isFinite(d)&&(c.height=d||1);return c};d.Canvas.resize=function(a,d,b){d&&b?(a.width=d,a.height=b):a.width=a.width};d.Canvas.clear=function(a){a.ctx.clearRect(0,0,a.width,a.height)};d.Context3d=function(a,m){return d.Canvas(a,m,"webgl").ctx};d.Context2d=function(a,m){return d.Canvas(a,m,"2d").ctx};d.json={};d.json.pretty=function(a){return JSON.stringify(a,null,"\t")};d.json.filterCircular=
function(a,d){return"object"===typeof d&&(null===d||d.nodeName||d.tagName)?void 0:d};d.timestamp=function(){if("object"===typeof window){var a=window.performance;if(a&&a.now)return a.now.bind(a)}return Date.now}();d.perf=function(a,m,b){if(m&&a){for(var c=d.perf(),f=0;f<m;f++)a();console.log(c()+"ms",b||"")}else{var w=d.timestamp();return function(a,c){var b=d.timestamp(),f=Math.round(b-w);a&&console.log(f+"ms",a);c&&(w=b);return f}}};d.exists=function(a,d){try{for(var b=a.split("."),c=d||window,
f=0,w=b.length;f<w;f++){var r=b[f];if(null==c[r])return!1;c=c[r]}return!0}catch(h){return!1}};d.copy=function(){var a="function"===typeof CanvasPattern,d=function(b){if(!b||"object"!==typeof b)return b;if(!(b.nodeType||a&&b instanceof CanvasPattern)){if(b.clone&&"function"===typeof b.clone)return b.clone();if(b.constructor){var c=new b.constructor,f;for(f in b){var w=b[f];c[f]=w&&"object"===typeof w?d(w):w}return c}}};return d}();d.copyInto=function(){var a=function(d,b,c){c=c||{};if(d&&"object"===
typeof d)for(var f in d){var w=b[f],r=d[f],h=typeof r;r&&"object"===h?r.nodeType||(b[f]=typeof w===h?a(r,w,c):a(r,new r.constructor,c)):(h=c.filter)&&h(r,w)||(b[f]=r)}return b};return a}();d.count=function(a,d,b){if(a){if(isFinite(a.length))return a.length;if("object"===typeof a){var c=0,f=void 0!==d;if(f&&void 0!==b)for(var w in a)a[w]&&a[w][d]===b&&++c;else if(f)for(w in a)void 0!==a[w]&&++c;else for(w in a)++c;return c}}else return 0};d.isEmpty=function(a){if(null==a)return!0;if(0<=a.length)return!a.length;
for(var d in a)return!1;return!0};d.isNotEmpty=function(a){return!d.isEmpty(a)};d.clamp=function(a,d,b){return b<a?a:b>d?d:b};d.clampFinite=function(a){var m=d.INFINITY;a>+m&&(a=+m);a<-m&&(a=-m);return a};d.each=function(a,d){if(!d)return console.warn("missing callback",arguments);if(!a)return console.warn("missing object",arguments);for(var b=0;b<a.length;b++)d(a[b])};d.isArray=function(a){return Array.isArray(a)||a instanceof NodeList};d.foreach=function(a,m){if(d.isArray(a))for(var b=0;b<a.length;b++)m(a[b],
b);else for(b in a)m(a[b],b)};d.equals=function(a,m){if("object"===typeof a){if("object"===typeof m){var b=d.json.filterCircular;return JSON.stringify(a,b)===JSON.stringify(m,b)}return!1}return a===m};d.objectToArray=function(a){var d=[],b;for(b in a)d.push(a[b]);return d};d.arrayToObject=function(a){for(var d={},b=0,c=a.length;b<c;b++)d[a[b]]=!0;return d};d.addFileInput=function(d,m){a.uploader.addFileInput({target:d,onchange:function(b){b.fileInput.value="";b.addMedia({openAsNew:m,self:a.uploader})}})};
d.bytesToSize=function(a,d){if(a){d=d||1;var b=Math.floor(Math.log(Math.abs(a))/Math.log(1024));return(a/Math.pow(1024,b)).toFixed(d)+["Bytes","kb","mb","gb","tb"][b]}return"0Bytes"};d.getTimeFormat=function(a,d){a/=1E3;var b=a/3600>>0,c=(a-3600*b)/60>>0,f=a-3600*b-60*c>>0;return d?(10>b&&(b="0"+b),10>c&&(c="0"+c),10>f&&(f="0"+f),b+":"+c+":"+f):{hours:b,minutes:c,seconds:f}};d.require=function(a){if(-1!==a.indexOf(".css")){var d=document.createElement("link");d.href=a;d.setAttribute("type","text/css");
d.setAttribute("rel","stylesheet")}else d=document.createElement("script"),d.src=a,d.async=!1;document.head.appendChild(d)};d.isEditingText=function(){var a=document.activeElement;if(!a)return!1;var d=a.nodeName;return"INPUT"===d||"TEXTAREA"===d||"true"===a.contentEditable?a.classList.contains("sk-dummy-canvas")?!1:!0:!1}};if("undefined"!==typeof module&&module.exports){try{var e=require("canvas")}catch(d){}module.exports=k.module.DOMMisc}else k.module.DOMMisc(sketch)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.dom=k.dom||{},d=k.util;e.$=function(a,c){return"object"===typeof a?a:(c||document).querySelector(a)};e.$$=function(a,c){return"object"===typeof a?a:(c||document).querySelectorAll(a)};var a=function(a,c){"CANVAS"===a.nodeName&&a.getContext("2d").drawImage(c,0,0)},h=function(b,c){a(c,b);for(var f=c.childNodes,d=b.childNodes,g=0;g<f.length;g++){var m=f[g],u=d[g];m&&u&&(a(m,u),m.childNodes.length&&u.childNodes&&h(u,m))}};e.clone=function(a,c){var f=a.cloneNode(!0);h(a,f);f.id=c;f.style.position=
"absolute";f.style.opacity=1;f.style.zIndex=1E6;f.style.display="block";return f};e.empty=function(a){"string"===typeof a&&(a=e.$(a));if(a){for(;a.firstChild;)a.removeChild(a.firstChild);return a}};e.remove=function(a){a instanceof Node&&(a=[a]);if(a&&d.isArray(a))for(var c=0,f=a.length;c<f;c++){var w=a[c];w.parentNode&&w.parentNode.removeChild(w)}};e.setCSS=function(a,c,f){"string"===typeof a&&(a=e.$$(a));for(var d=0,g=a.length;d<g;d++)a[d].style[c]=f};e.measure=function(a){"string"===typeof a&&
(a=e.$(a));if(!(a=a||this.selection&&this.selection[0]))return{width:0,height:0};if(a===window||a===document)a=document.body;var c={},f=a.getBoundingClientRect();c.width=f.width;c.height=f.height;c.x1=f.left;c.y1=f.top;c.scaleX=f.width/a.offsetWidth||1;c.scaleY=f.height/a.offsetHeight||1;c.scrollLeft=0;c.scrollTop=0;var f=window.getComputedStyle(a),d=g(f,"border-left-width"),r=g(f,"border-right-width"),m=g(f,"border-bottom-width"),u=g(f,"border-top-width");c.border=[d,r,u,m];c.x1+=d;c.y1+=u;c.width-=
r+d;c.height-=m+u;d=g(f,"margin-left");r=g(f,"margin-right");m=g(f,"margin-bottom");u=g(f,"margin-top");c.margin=[d,r,u,m];c.x1-=d;c.y1-=u;c.width+=r+d;c.height+=m+u;d=g(f,"padding-left");r=g(f,"padding-right");m=g(f,"padding-bottom");u=g(f,"padding-top");c.padding=[d,r,u,m];c.x2=c.x1+c.width;c.y2=c.y1+c.height;f=f.getPropertyValue("position");for(a="fixed"===f?a:a.parentNode;null!==a&&a!==document.body&&void 0!==a.scrollTop;){f=window.getComputedStyle(a);f=f.getPropertyValue("position");if("absolute"!==
f)if("fixed"===f){c.scrollTop-=a.parentNode.scrollTop;c.scrollLeft-=a.parentNode.scrollLeft;break}else c.scrollLeft+=a.scrollLeft,c.scrollTop+=a.scrollTop;a=a.parentNode}eventjs.getDocumentScroll(c);c.scrollLeft-=c.pageXOffset;c.scrollTop-=c.pageYOffset;return c};var g=function(a,c){var f=parseFloat(a.getPropertyValue(c),10);return isFinite(f)?f:0};e.append=function(a,c,f){var d=a;"string"===typeof d&&(d=e.$(d));"string"===typeof c&&(c=e.create(c,f));if(d&&d.appendChild)return d.appendChild(c),c;
console.warn("dom.append",arguments)};e.appendText=function(a,c){e.append(a,document.createTextNode(c))};e.create=function(a,c){if(-1!==a.indexOf("<")){var f=document.createElement("div");f.innerHTML=a;if(!(a=f.firstChild))return}else a=-1!==a.indexOf(" ")?document.createTextNode(a):document.createElement(a);c&&e.setAttributes(a,c);return a};e.setAttributes=function(a,c){for(var f in c){var d=c[f];"function"===typeof d&&0===f.indexOf("on")?eventjs.add(a,f,d):a.setAttribute(f,d)}};e.setClass=function(a){if(a&&
a.target)var c=a.target,f=a.className,d=a.on,g=a.list,h=a.delay,u=a.callback;else c=arguments[0],f=arguments[1],d=arguments[2],g=arguments[3];void 0===d&&(d=!0);"string"===typeof c&&(c=e.$(c));if(c&&f)if(c.length){for(g=0;g<c.length;g++){var s=c[g].classList;s&&(d?s.add(f):s.remove(f))}m(u,h)}else{if("string"===typeof g)if(c.parentNode)g=e.$$(g,c.parentNode);else{console.warn("setClass",a);return}g&&g.length||(g=[c]);for(var s=c.classList,c="toggle"===d&&s.contains(f),l=0,p=g.length;l<p;l++){var t=
g[l].classList;t&&t.remove(f)}if(s){if(!1===d||c)return m(u,h),!1;s.add(f);m(u,h);return!0}}else console.warn("setClass",arguments)};var m=function(a,c){"function"===typeof a&&(c?setTimeout(a,c):a())}})(sketch);
(function(k){var e=k.dom=k.dom||{},d=k.util,a={fadeout:{keyframes:[{opacity:1},{opacity:0}],timing:{ease:"ease-out",duration:250,iterations:1}},fadein:{keyframes:[{opacity:0},{opacity:1}],timing:{ease:"ease-out",duration:250,iterations:1}},zoomout:{keyframes:[{transform:"scale(1) rotate(0deg)"},{transform:"scale(0) rotate(180deg)"}],timing:{ease:"ease-out",duration:250,iterations:1}},radar:{keyframes:[{offset:0,opacity:0,transform:"scale(1)"},{offset:.01,opacity:.35,transform:"scale(1)"},{offset:.8,
opacity:0,transform:"scale(1.1)"},{offset:1,opacity:0,transform:"scale(1.1)"}],timing:{duration:1250,iterations:Infinity}},pulse:{keyframes:[{transform:"scale(1)"},{transform:"scale(1.1)"},{transform:"scale(1)"}],timing:{duration:250,iterations:1}}};a.heartbeat=d.copyInto({timing:{iterations:2}},d.copy(a.pulse));var h=function(a,d,b){b[a]=function(){d[a].call(d,arguments)}};e.animate=function(g,m){"string"===typeof m&&(m={name:m});var b={},c=a[m.name],f=d.copy(c.keyframes),w=d.copy(c.timing),r;for(r in m)w[r]=
m[r];requestAnimationFrame(function(){var a=g.animate(f,w);a.onfinish=m.onfinish;for(var c in a)h(c,a,b)});return b}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.util||(k.util={}),d="crossOrigin"in document.createElement("img"),a={},h={jpeg:!0,jpg:!0,gif:!0,png:!0,webp:!0,svg:!0};e.loadImage=function(g){"string"===typeof g&&(g={src:g});if("undefined"===typeof g.src)return console.warn("loadImage",arguments);var b=g.image||document.createElement("img"),c=function(){var c=g.src;return e.loadImageBase64({url:c,onprogress:g.onprogress,onerror:function(c){f(3);a[w.host]=3},onload:function(b){if(b){var u=c.split(".").pop();h[u]||(u="png");g.src=
"data:image/"+u+";base64,"+b.responseText;f(0);a[w.host]=d?1:0}}})},f=function(a){b.onload=g.onload;b.onerror=g.onerror;b.onprogress=g.onprogress;switch(a){case 0:b.src=g.src;break;case 1:b.crossOrigin="anonymous";b.src=g.src;break;case 2:c();break;case 3:if(!e.loadImage.proxyUrl)break;b.src=e.loadImage.proxyUrl+escape(g.src)}return b},w=document.createElement("a");w.href=g.src;return!k.loc||k.loc.isLocalUrl(g.src,!0)?f(0):function(){var b=g.src;if(!k.loc||k.loc.isLocalUrl(b,!0))return f(0);b=a[w.host];
if("undefined"!==typeof b)return f(b);if(d)return f(1);try{var h="withCredentials"in new XMLHttpRequest}catch(u){h=!1}return h?c():f(3)}(d)};var g=function(a){var b="",c,f=Array(4),d=0;for(c=0;d<a.length;){c=Array(3);for(var g=0;g<c.length;g++)c[g]=d<a.length?a.charCodeAt(d++)&255:0;f[0]=c[0]>>2;f[1]=(c[0]&3)<<4|c[1]>>4;f[2]=(c[1]&15)<<2|c[2]>>6;f[3]=c[2]&63;c=d-(a.length-1);switch(c){case 2:f[3]=64;f[2]=64;break;case 1:f[3]=64}for(g=0;g<f.length;g++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f[g])}return b};
e.loadImageBase64=function(a){var b=a.onsuccess;a.asBinaryString=!0;a.onsuccess=function(c){if(c.target.responseText){c=g(c.target.responseText);if(a.JS64){c="data:image/png;base64,"+c;var f=document.createElement("canvas"),d=f.getContext("2d"),r=document.createElement("img");r.onload=function(){var a=this.offsetWidth,c=this.offsetHeight;f.width=a;f.height=c;f.style.width=a+"px";f.style.height=c+"px";document.getElementById("output");d.drawImage(this,0,0);for(var a=d.getImageData(0,0,a,c).data,c=
[],s=a.length,l=-1,p=0;p<s;p+=4)0<a[p]&&(c[++l]=String.fromCharCode(a[p]));a=c.join("");b({responseText:a});document.body.removeChild(r)};r.src=c;return!0}b({responseText:c})}};e.request(a)};"undefined"!==typeof module&&module.exports&&(module.exports=k.util.loadImage)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e={},d={};(k.util||(k.util={})).loadScript=function(d){"string"===typeof d&&(d={url:d});a(d);return this};var a=function(a){var g=a.urls;"undefined"===typeof g&&(g=[{url:a.url,verify:a.verify}]);var m=document.getElementsByTagName("head")[0],b=function(a,c){if(!(e[a.url]||c&&"undefined"===typeof window[c])){e[a.url]=!0;if(d[a.url])d[a.url]();delete d[a.url];a.callback&&a.callback();"undefined"!==typeof s&&s()}},c=!1,f=[],w=function(l){"string"===typeof l&&(l={url:l,verify:a.verify});
if(/([\w\d.])$/.test(l.verify)){var s=l.test=l.verify;if("object"===typeof s)for(var t=0;t<s.length;t++)f.push(s[t]);else f.push(s)}e[l.url]||(s=document.createElement("script"),s.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||b(l)},s.onload=function(){b(l)},s.onerror=function(a){c=!0;delete d[l.url];if("object"===typeof l.test)for(var b in l.test)r(l.test[b]);else r(l.test)},s.setAttribute("type","text/javascript"),s.setAttribute("src",l.url),m.appendChild(s),
d[l.url]=function(){})},r=function(a){for(var c=[],b=0;b<f.length;b++)f[b]!==a&&c.push(f[b]);f=c},y=function(l){if(l)b(l,l.test);else for(var s=0;s<g.length;s++)b(g[s],g[s].test);for(var t=!0,s=0;s<f.length;s++){var d=f[s];if(d&&-1!==d.indexOf(".")){var d=d.split("."),q=window[d[0]];"undefined"!==typeof q&&(2===d.length?"undefined"===typeof q[d[1]]&&(t=!1):3===d.length&&"undefined"===typeof q[d[1]][d[2]]&&(t=!1))}else"undefined"===typeof window[d]&&(t=!1)}!a.strictOrder&&t?c?a.error&&a.error():a.callback&&
a.callback():setTimeout(function(){y(l)},10)};if(a.strictOrder){var u=-1,s=function(){u++;if(g[u]){var b=g[u],f=b.url;d[f]?d[f]=function(){b.callback&&b.callback();s()}:e[f]?s():(w(b),y(b))}else c?a.error&&a.error():a.callback&&a.callback()};s()}else for(u=0;u<g.length;u++)w(g[u]),y(g[u])};"undefined"!==typeof module&&module.exports&&(module.exports=k.util.loadScript)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){(k.util||(k.util={})).request=function(d,a,h,g){"string"===typeof d&&(d={url:d});var m=d.data,b=d.url,c=d.method||(d.data?"POST":"GET"),f=d.headers,w=d.responseType,r=d.withCredentials||!1,y=d.asBinaryString||!1,u=d.asJSON||!1;a=a||d.onsuccess;h=h||d.onerror;g=g||d.onprogress;if("undefined"!==typeof e&&k.loc.isLocalUrl(b))e.readFile(b,"utf8",function(c,b){c?h&&h(c):a&&a({responseText:b})});else{var s=new XMLHttpRequest;s.open(c,b,!0);if(f)for(var l in f)s.setRequestHeader(l,f[l]);else m&&
s.setRequestHeader("Content-type","application/x-www-form-urlencoded");y&&s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined");w&&(s.responseType=w);r&&(s.withCredentials="true");h&&"onerror"in s&&(s.onerror=h);g&&s.upload&&"onprogress"in s.upload&&(m?s.upload.onprogress=g:s.onprogress=g);s.onreadystatechange=function(c){if(4===s.readyState)if(200===s.status||304===s.status||308===s.status||0===s.status&&k.client.cordova){if(a){if(u)try{c=JSON.parse(c.target.response)}catch(b){h&&
h.call(s,c)}a.call(s,c)}}else h&&h.call(s,c)};s.send(m);return s}};if("undefined"!==typeof module&&module.exports){var e=require("fs");XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest;module.exports=k.util.request}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){(k.dom||(k.dom={})).scrollTo=function(d){d=d||{};var a=d.callback,h=d.target,g=d.top===+d.top?d.top:null,m=d.left===+d.left?d.left:null,b=d.duration===Math.abs(d.duration)?d.duration:250,c=d.relative||!1,f=h.scrollTop;d=h.scrollLeft;var g=g===+g?c?f+g:g:f,m=m===+m?c?d+m:m:d,w=Math.abs(f-g),c=Math.abs(d-m);if(0===b||50>Math.max(c,w))h.scrollLeft=m,h.scrollTop=g;else{b/=25;g=w/25*(g>f?1:-1);m=c/25*(m>d?1:-1);for(w=c=0;25>=w;w++)e(h,f,d,c*b),d+=m,f+=g,c++;a&&setTimeout(a,c*b)}};var e=function(d,
a,h,g){setTimeout(function(){d.scrollTop=a+.5>>0;d.scrollLeft=h+.5>>0},g)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.FiniteMath=function(e){var d=e.util||(e.util={});d.ZERO=1E-10;d.RAD_DEG=180/Math.PI;d.DEG_RAD=1/d.RAD_DEG;d.INFINITY=4294967295;d.INFINITY_MINUS_24bit=4278190080;d.INFINITY_MINUS_16bit=4294901760;d.INFINITY_MINUS_8bit=4294967040;d.Random=function(a){a=isFinite(a)?a:d.Random.seed();this.toInt=function(){return a=16807*a%2147483647};this.toDouble=function(){a=16807*a%2147483647;return a/2147483647};this.intRange=function(d,g){d-=.4999;a=16807*a%2147483647;
return Math.round(d+a/2147483647*(g+.4999-d))};this.doubleRange=function(d,g){a=16807*a%2147483647;return d+a/2147483647*(g-d)};return this};d.Random.seed=function(){return 2147483648*Math.random()>>0};d.getScreenMetrics=function(){if("undefined"===typeof document)return{};var a=function(a){try{g.style.fontSize=a}catch(c){g.style.fontSize=""}return g.offsetHeight/1E4},h=document.createElement("div");h.style.cssText="position: relative; width: 1px; height: 1px; overflow: scroll;";var g=document.createElement("div");
g.style.cssText="position: absolute; width: 100em; height: 10000em; overflow: hidden;";h.appendChild(g);document.body.appendChild(h);for(var m="normal xx-small x-small small medium large x-large xx-large".split(" "),b={},c=0;c<m.length;c++)b[m[c]+"_px"]=a(m[c]);b["%>px"]=a("100%")/100;b["px>pt"]=1/a("1pt");b["pt>pc"]=1/12;b["px>in"]=1/a("72pt");b["in>ft"]=1/12;b["ft>yd"]=1/3;b["px>mm"]=25.4*b["px>in"];b["mm>cm"]=.1;b["cm>m"]=.01;b["px>ex"]=1/a("1ex");b["ex>em"]=1/b["px>ex"]/a("1em");b["px>px"]=1;
document.body.removeChild(h);var f=function(a,c,b,d){for(var s in c)"object"===typeof(d=c[s])?f(a,d,s):(b&&(a["px>"+s]=a["px>"+b]*a[b+">"+s],a[b+">"+d]=a[b+">"+s]*a[s+">"+d],a[b+">px"]=1/a["px>"+b],a[d+">"+b]=1/a[s+">"+d]*1/a[b+">"+s],a[s+">"+b]=1/a[b+">"+s]),a["px>"+d]=a["px>"+s]*a[s+">"+d],a[s+">px"]=1/a["px>"+s],a[d+">px"]=1/a["px>"+s]*1/a[s+">"+d],a[d+">"+s]=1/a[s+">"+d])};f(b,{pt:"pc",mm:{cm:"m"},"in":{ft:"yd"},ex:"em"});return d.toMetric=b};d.hash=function(a){if(!a)return 0;for(var d=5381,g=
0,m=a.length;g<m;g++)var b=a[g].charCodeAt(),d=(d<<5)+d+b;return d};d.getRandomID=function(a){a=a||8;for(var d=["a","e","i","o","u"],g="bcdfghjklmnpqrstvwxyz".split(""),m="",b=0;b<a;b++)m=0==b%2?m+d[4*Math.random()>>0]:m+g[20*Math.random()>>0];return m};d.uuid=function(){for(var a=Date.now(),d=0,g="";36>d;d++){var m="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[d];if("-"===m||"4"===m)g+=m;else var b=a*Math.random()*16%16|0,g=g+("x"===m?b:b&3|8).toString(16)}return g};(function(){var a=/inherit/,h=d.arrayToObject([0,
1,2,3,4,5,6,7,8,9,"."]),g=d.arrayToObject(["-","+","*","/"]),m=/(\d+)%/,b=/(\d+)px/g,c=/\((.*)\)/,f=function(a){a=a.replace(c,function(a){return f(a.slice(1,-1))});for(var b=[a[0]],d=[],m=0,s=a.length,l=1;l<s;l++){var p=a[l];" "!==p&&(h[p]||!b[m]?b[m]+=p:g[b[m]]?b[m]="":(d[m]=p,b[++m]=""))}a=parseFloat(b[0]);for(l=0;l<d.length;l++)switch(m=parseFloat(b[l+1]),d[l]){case "+":a+=m;break;case "-":a-=m;break;case "*":a*=m;break;case "/":a/=m}return a};d.parseMath=function(c,d){c=c.replace(b,"$1");d&&(d.inherit&&
(c=c.replace(a,d.inherit)),d.percent&&(c=c.replace(m,function(a){return d.percent*(parseFloat(a)/100)})));return f(c)}})()};"undefined"!==typeof module&&module.exports?module.exports=k.module.FiniteMath:k.module.FiniteMath(k)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k=k.util||(k.util={});var e=k.string||(k.string={});k.version=function(a,d){function b(a,b){b=b||4;a=a.split(".").map(function(a){var c=parseInt(a);return(a=a.replace(c,""))?c+a[0].charCodeAt()/255:c});for(var d=0,g=0;g<a.length&&b!==g;++g)d+=a[g]/255*Math.pow(255,b-g+1);return d}this.value=a;this.hash=b(a,d);this.isGreaterThan=function(c,f){return b(a,f)>b(c,f)};this.isLessThan=function(c,f){return b(a,f)<b(c,f)};return this};var d=e.rxSplitByUppercase=/([A-Z]?[^A-Z]*)/g,a=e.rxAlphaNumeric=
/[^A-Z0-9]+/gi;e.rxFile=/[^\w\s-.]+/g;e.rxNumeric=/^-?\d*[\.]?\d+$/;e.invalid=function(a,d){return!!(a||"").match(e[d])};e.toAlphaNumeric=function(d){return(d||"").replace(a,"")};e.spaceCamelCase=function(a){return(a||"").match(d).slice(0,-1).join(" ")};e.replaceAll=function(a,d,b){return(a||"").split(d).join(b)};e.ucfirst=function(a){a=a||"";return a[0].toUpperCase()+a.substr(1)};e.ucwords=function(a){return(a||"").replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()})};e.addslashes=function(a){return a.replace(/([\\"'])/g,
"\\$1").replace(/\0/g,"\\0")};e.stripslashes=function(a){return a.replace(/\0/g,"0").replace(/\\([\\'"])/g,"$1")};e.dirpath=function(a){return a.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")};e.dirname=function(a){return e.filename(e.dirpath(a))};e.filename=function(a){return(a||"").replace(/^.*[\\\/]/,"")};e.filenameSansExtension=function(a){return e.filename(a).split(".").shift()};e.extension=function(a){return(a||"").split(".").pop().toLowerCase()};e.lpad=function(a,d,b){for(;a.length<b;)a=d+a;return a};
e.rpad=function(a,d,b){for(;a.length<b;)a+=d;return a};e.ellipse=function(a,d){return a<=d?a:a.substr(0,d-3)+String.fromCharCode(8230)};e.encode_utf8=function(a){return unescape(encodeURIComponent(a))};e.decode_utf8=function(a){return decodeURIComponent(escape(a))};e.join=function(a,d){return a.join(d)};if(!("trim"in String.prototype)){var h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(a){return this.replace(h,"")}}"startsWith"in String.prototype||(String.prototype.startsWith=
function(a,d){d=d||0;return this.lastIndexOf(a,d)===d});"undefined"!==typeof module&&module.exports&&(module.exports=e)})(sketch);
(function(k){"object"===typeof exports?module.exports=k():"function"===typeof define&&define.amd?define(k):(sketch.util=sketch.util||{},sketch.util.MD5=k().hash)})(function(){var k=function(a,c){return a+c&4294967295},e=function(a,c,b,f,d,t){c=k(k(c,a),k(f,t));return k(c<<d|c>>>32-d,b)},d=function(a,c,b,f,d,t,x){return e(c&b|~c&f,a,c,d,t,x)},a=function(a,c,b,f,d,t,x){return e(c&f|b&~f,a,c,d,t,x)},h=function(a,c,b,f,d,t,x){return e(b^(c|~f),a,c,d,t,x)},g=function(c,b){var f=c[0],l=c[1],p=c[2],t=c[3],
f=d(f,l,p,t,b[0],7,-680876936),t=d(t,f,l,p,b[1],12,-389564586),p=d(p,t,f,l,b[2],17,606105819),l=d(l,p,t,f,b[3],22,-1044525330),f=d(f,l,p,t,b[4],7,-176418897),t=d(t,f,l,p,b[5],12,1200080426),p=d(p,t,f,l,b[6],17,-1473231341),l=d(l,p,t,f,b[7],22,-45705983),f=d(f,l,p,t,b[8],7,1770035416),t=d(t,f,l,p,b[9],12,-1958414417),p=d(p,t,f,l,b[10],17,-42063),l=d(l,p,t,f,b[11],22,-1990404162),f=d(f,l,p,t,b[12],7,1804603682),t=d(t,f,l,p,b[13],12,-40341101),p=d(p,t,f,l,b[14],17,-1502002290),l=d(l,p,t,f,b[15],22,1236535329),
f=a(f,l,p,t,b[1],5,-165796510),t=a(t,f,l,p,b[6],9,-1069501632),p=a(p,t,f,l,b[11],14,643717713),l=a(l,p,t,f,b[0],20,-373897302),f=a(f,l,p,t,b[5],5,-701558691),t=a(t,f,l,p,b[10],9,38016083),p=a(p,t,f,l,b[15],14,-660478335),l=a(l,p,t,f,b[4],20,-405537848),f=a(f,l,p,t,b[9],5,568446438),t=a(t,f,l,p,b[14],9,-1019803690),p=a(p,t,f,l,b[3],14,-187363961),l=a(l,p,t,f,b[8],20,1163531501),f=a(f,l,p,t,b[13],5,-1444681467),t=a(t,f,l,p,b[2],9,-51403784),p=a(p,t,f,l,b[7],14,1735328473),l=a(l,p,t,f,b[12],20,-1926607734),
f=e(l^p^t,f,l,b[5],4,-378558),t=e(f^l^p,t,f,b[8],11,-2022574463),p=e(t^f^l,p,t,b[11],16,1839030562),l=e(p^t^f,l,p,b[14],23,-35309556),f=e(l^p^t,f,l,b[1],4,-1530992060),t=e(f^l^p,t,f,b[4],11,1272893353),p=e(t^f^l,p,t,b[7],16,-155497632),l=e(p^t^f,l,p,b[10],23,-1094730640),f=e(l^p^t,f,l,b[13],4,681279174),t=e(f^l^p,t,f,b[0],11,-358537222),p=e(t^f^l,p,t,b[3],16,-722521979),l=e(p^t^f,l,p,b[6],23,76029189),f=e(l^p^t,f,l,b[9],4,-640364487),t=e(f^l^p,t,f,b[12],11,-421815835),p=e(t^f^l,p,t,b[15],16,530742520),
l=e(p^t^f,l,p,b[2],23,-995338651),f=h(f,l,p,t,b[0],6,-198630844),t=h(t,f,l,p,b[7],10,1126891415),p=h(p,t,f,l,b[14],15,-1416354905),l=h(l,p,t,f,b[5],21,-57434055),f=h(f,l,p,t,b[12],6,1700485571),t=h(t,f,l,p,b[3],10,-1894986606),p=h(p,t,f,l,b[10],15,-1051523),l=h(l,p,t,f,b[1],21,-2054922799),f=h(f,l,p,t,b[8],6,1873313359),t=h(t,f,l,p,b[15],10,-30611744),p=h(p,t,f,l,b[6],15,-1560198380),l=h(l,p,t,f,b[13],21,1309151649),f=h(f,l,p,t,b[4],6,-145523070),t=h(t,f,l,p,b[11],10,-1120210379),p=h(p,t,f,l,b[2],
15,718787259),l=h(l,p,t,f,b[9],21,-343485551);c[0]=k(f,c[0]);c[1]=k(l,c[1]);c[2]=k(p,c[2]);c[3]=k(t,c[3])},m=function(a){var c=[],b;for(b=0;64>b;b+=4)c[b>>2]=a.charCodeAt(b)+(a.charCodeAt(b+1)<<8)+(a.charCodeAt(b+2)<<16)+(a.charCodeAt(b+3)<<24);return c},b=function(a){var c=[],b;for(b=0;64>b;b+=4)c[b>>2]=a[b]+(a[b+1]<<8)+(a[b+2]<<16)+(a[b+3]<<24);return c},c=function(a){var c=a.length,b=[1732584193,-271733879,-1732584194,271733878],f,d,t;for(f=64;f<=c;f+=64)g(b,m(a.substring(f-64,f)));a=a.substring(f-
64);d=a.length;t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<d;f+=1)t[f>>2]|=a.charCodeAt(f)<<(f%4<<3);t[f>>2]|=128<<(f%4<<3);if(55<f)for(g(b,t),f=0;16>f;f+=1)t[f]=0;c=(8*c).toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(c[2],16);c=parseInt(c[1],16)||0;t[14]=a;t[15]=c;g(b,t);return b},f="0123456789abcdef".split(""),w=function(a){var c;for(c=0;c<a.length;c+=1){for(var b=a,l=c,d=a[c],t="",x=void 0,x=0;4>x;x+=1)t+=f[d>>8*x+4&15]+f[d>>8*x&15];b[l]=t}return a.join("")},r=function(){this.reset()};"5d41402abc4b2a76b9719d911017c592"!==
w(c("hello"))&&(k=function(a,c){var b=(a&65535)+(c&65535);return(a>>16)+(c>>16)+(b>>16)<<16|b&65535});r.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};r.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var c;for(c=64;c<=a;c+=64)g(this._state,m(this._buff.substring(c-64,c)));this._buff=this._buff.substr(c-64);return this};r.prototype.end=function(a){var c=this._buff,b=c.length,
f,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<b;f+=1)d[f>>2]|=c.charCodeAt(f)<<(f%4<<3);this._finish(d,b);a=a?this._state:w(this._state);this.reset();return a};r.prototype._finish=function(a,c){var b=c,f;a[b>>2]|=128<<(b%4<<3);if(55<b)for(g(this._state,a),b=0;16>b;b+=1)a[b]=0;f=8*this._length;f=f.toString(16).match(/(.*?)(.{0,8})$/);b=parseInt(f[2],16);f=parseInt(f[1],16)||0;a[14]=b;a[15]=f;g(this._state,a)};r.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,
-1732584194,271733878];return this};r.prototype.destroy=function(){delete this._state;delete this._buff;delete this._length};r.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));var f=c(a);return b?f:w(f)};r.hashBinary=function(a,b){var f=c(a);return b?f:w(f)};r.ArrayBuffer=function(){this.reset()};r.ArrayBuffer.prototype.append=function(a){var c=this._concatArrayBuffer(this._buff,a),f=c.length;this._length+=a.byteLength;for(a=64;a<=f;a+=64)g(this._state,b(c.subarray(a-
64,a)));this._buff=a-64<f?c.subarray(a-64):new Uint8Array(0);return this};r.ArrayBuffer.prototype.end=function(a){var c=this._buff,b=c.length,f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d;for(d=0;d<b;d+=1)f[d>>2]|=c[d]<<(d%4<<3);this._finish(f,b);a=a?this._state:w(this._state);this.reset();return a};r.ArrayBuffer.prototype._finish=r.prototype._finish;r.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};
r.ArrayBuffer.prototype.destroy=r.prototype.destroy;r.ArrayBuffer.prototype._concatArrayBuffer=function(a,c){var b=a.length,f=new Uint8Array(b+c.byteLength);f.set(a);f.set(new Uint8Array(c),b);return f};r.ArrayBuffer.hash=function(a,c){var f=new Uint8Array(a),l=f.length,d=[1732584193,-271733879,-1732584194,271733878],t,x,q;for(t=64;t<=l;t+=64)g(d,b(f.subarray(t-64,t)));f=t-64<l?f.subarray(t-64):new Uint8Array(0);x=f.length;q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<x;t+=1)q[t>>2]|=f[t]<<(t%4<<
3);q[t>>2]|=128<<(t%4<<3);if(55<t)for(g(d,q),t=0;16>t;t+=1)q[t]=0;l=(8*l).toString(16).match(/(.*?)(.{0,8})$/);f=parseInt(l[2],16);l=parseInt(l[1],16)||0;q[14]=f;q[15]=l;g(d,q);return c?d:w(d)};return r});"undefined"===typeof sketch&&(sketch={});
(function(k){k.util=k.util||{};k.util.Queue=function(e){var d={},a=e.oncomplete||e.callback,h=e.onprogress||e.progress,g=e.oncancel,m=!1!==e.flatten,b=!1!==e.instant;d.cancel=function(){d.canceled||0>=d.remaining||(g&&g(),d.canceled=!0)};d.next=function(){if(!d.canceled&&!d.complete){var c=d.queue,b=d.remaining,g=d.length,r=g-b-1,y=d.keys[r];h&&h(g?1-(b+1)/g:1);if(c.length)if(d.remaining--,g=(b="[object Object]"===String(u))&&u.length,m)e.next.call(d,c.shift(),y,r);else{var u=c[0];b&&!g&&c.shift();
b&&g?e.next.call(d,u.shift(),y,r):e.next.call(d,c.shift(),y,r)}else d.complete=!0,a&&a()}};d.reset=function(a){if(e.range){var b=e.range,g=b.from;for(a=[];g<=b.to;g++)a.push(g)}else a=a||e.items;d.length=0;d.remaining=-1;d.queue=[];d.keys=[];d.complete=!1;d.canceled=!1;var r=function(a,c){if(Array.isArray(a)||a instanceof NodeList)for(var b=0;b<a.length;b++)c(b);else for(b in a)c(b)};r(a,function(b){var f=a[b];if("[object Object]"!==String(f)||m)d.queue.push(f),d.keys.push(b),d.length++,d.remaining++;
else{var s=[];d.queue.push(s);r(f,function(a){s.push(f[a]);d.keys.push(b);d.length++;d.remaining++})}})};d.reset();b?d.next():setTimeout(function(){d.next()},0);return d};"undefined"!==typeof module&&module.exports&&(module.exports=k.util.Queue)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.lang=k.lang||{locales:{en:{}}},d=k.util,a;e.setLocale=function(b,c){a?(a.setLocale(b),c&&c()):(b=e.getLocale(b),a=new h({directory:"./js/lang",locale:b,extension:".json",onerror:function(){e.setLocale("en",c)},onload:function(a){k.feature.lang=b;c&&c()}}));e.translate=a.__.bind?a.__.bind(a):function(){return a.__.apply(a,arguments)}};e.getLocale=function(a){"auto"===a&&(a=k.client.lang);return e.available[a]?a:-1!==a.indexOf("-")?e.getLocale(a.split("-")[0]):"en"};e.getWordCount=
function(){var a=0,c;for(c in e.locales.en)a+=d.count(e.locales.en[c].split(" "));console.log(a)};var h=function(a){for(var c in a)this[c]=a[c];this.setLocale(this.locale)};h.localeCache={};h.prototype={defaultLocale:"en",directory:"/locales",extension:".min.json",getLocale:function(){return this.locale},setLocale:function(a){a||(a=document.querySelector("html").getAttribute("lang"));a||(a=this.defaultLocale);this.locale=a;e.locales[a]?(this.setLocaleData(a,e.locales[a]),this.onload&&this.onload()):
a in h.localeCache||(this.getLocaleFileFromServer(),h.localeCache[a]={})},setLocaleData:function(a,c){h.localeCache[a]=c},getLocaleFileFromServer:function(a){var c=this.onload,f=this.locale;d.request({url:this.directory+"/"+f+this.extension,headers:{"Content-Type":"text/plain;charset=UTF-8"},onerror:this.onerror,onsuccess:function(a){data=JSON.parse(a.target.responseText);h.localeCache[f]=data;c&&c(data)}})},__:function(){var a=arguments[0],a=h.localeCache[this.locale][a]||a;1<arguments.length&&(a=
m(a,Array.prototype.slice.call(arguments,1)));return a},__n:function(a,c){var f=h.localeCache[this.locale][a];c=parseInt(c,10);f=0===c?f.zero:1<c?f.other:f.one;f=m(f,[c]);2<arguments.length&&(f=m(f,Array.prototype.slice.call(arguments,2)));return f}};var g=d.sprintf=function(a){if("string"!==typeof a)throw"sprintf: The first arguments need to be a valid format string.";for(var c=new RegExp(/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g),f,d=[],g=1;f=c.exec(a);){if(g>=arguments.length&&
"%"!==f[8])throw"sprintf: At least one argument was missing.";d[d.length]={begin:f.index,end:f.index+f[0].length,sign:"+"==f[1],negative:0>parseFloat(arguments[g])?!0:!1,padding:void 0==f[2]?" ":"'"==f[2].substring(0,1)?f[3]:f[2],alignLeft:"-"==f[4],width:void 0!=f[5]?f[5]:!1,precision:void 0!=f[7]?f[7]:!1,type:f[8],data:"%"!=f[8]?String(arguments[g++]):!1}}c="";for(g=f=0;g<d.length;++g){c+=a.substring(f,d[g].begin);f=d[g].end;var m="";switch(d[g].type){case "%":m="%";break;case "b":m=Math.abs(parseInt(d[g].data)).toString(2);
break;case "c":m=String.fromCharCode(Math.abs(parseInt(d[g].data)));break;case "d":m=String(Math.abs(parseInt(d[g].data)));break;case "f":m=!1===d[g].precision?String(Math.abs(parseFloat(d[g].data))):Math.abs(parseFloat(d[g].data)).toFixed(d[g].precision);break;case "o":m=Math.abs(parseInt(d[g].data)).toString(8);break;case "s":m=d[g].data.substring(0,d[g].precision?d[g].precision:d[g].data.length);break;case "x":m=Math.abs(parseInt(d[g].data)).toString(16).toLowerCase();break;case "X":m=Math.abs(parseInt(d[g].data)).toString(16).toUpperCase();
break;default:throw"sprintf: Unknown type \u201c"+d[g].type+"\u201d detected. This should never happen. Maybe the regex is wrong.";}if("%"!=d[g].type){if(!1!=d[g].width&&d[g].width>m.length)for(var h=m.length,s=0;s<d[g].width-h;++s)m=!0==d[g].alignLeft?m+d[g].padding:d[g].padding+m;if("b"==d[g].type||"d"==d[g].type||"o"==d[g].type||"f"==d[g].type||"x"==d[g].type||"X"==d[g].type)!0==d[g].negative?m="-"+m:!0==d[g].sign&&(m="+"+m)}c+=m}return c+=a.substring(f,a.length)},m=d.vsprintf=function(a,c,f){f=
c.slice(0);f.splice(0,0,a);return g.apply(null,f)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.lang=k.lang||{};k.lang.locales=k.lang.locales||{};k.lang.available={de:{en:"German","native":"Deutsch"},en:{en:"English","native":"English"},es:{en:"Spanish","native":"Espa\u00f1ol"},fr:{en:"French","native":"Fran\u00e7ais"},it:{en:"Italian","native":"Italiano"},nl:{en:"Dutch","native":"Nederlands"},pl:{en:"Polish","native":"Polski"},pt:{en:"Portuguese","native":"Portugu\u00eas"},sv:{en:"Swedish","native":"Svenska"},ar:{en:"Arabic","native":"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},
ko:{en:"Korean","native":"\ud55c\uad6d\uc5b4"},ja:{en:"Japanese","native":"\u65e5\u672c\u8a9e"},ru:{en:"Russian","native":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u042f\u0437\u044b\u043a"},zh:{en:"Chinese","native":"\u4e2d\u6587"}};k.util.copyInto({en:{"about-version":"[?] SketchAPI %s","delete-doc-confirm":"Are you sure?","change-doc-confirm":"Save current image?","select-tool-count":"%s layers selected","select-tool-message":"Use the <span class='icon-select'></span> Select tool to Move, Rotate, Scale, Delete, and reorganize the layers of your design.",
"useMaxCopies-alert":"You can only include %s %s of this clipart.","welcome-to":"Welcome to %s","zoom-tool-message":"Use the <span class='icon-zoom'></span> Zoom tool to fine tune your image.",start:"Start","load-fail-restore":"Last time your document did not load properly.<p>Do you want to re-attempt to load your document?","console-message":"Sketch.io developes HTML5 graphics applications.\nWe specialize in WebGL, WebRTC and Canvas.\n\nVisit https://sketch.io/ for project inquiries.","copy-to-clipboard":"Copy to Clipboard",
"could-not-authorize":"%s could not authorize","image-ready-to-share":"Your image is ready to be shared!","share-link-copied":"Share link copied!","still-uploading":"Still uploading to %s","upload-complete":"%s upload complete!","upload-failed":"%s upload failed!","uploading-to":"Uploading to %s","changes-saved":"All changes saved!","upload-invalid":"Invalid format uploaded","user-entered":"%s has entered the room.","user-exited":"%s has left the room.",author:"Author",license:"License",project:"File",
"special-thanks":"Special thanks",background:"Background","change-media":"Change Media","cut-objects":"Cut Selection","merge-objects":"Merge Objects","merge-paths":"Merge Paths","new-doc-created":"New Document Created!","paste-objects":"Paste Selection","resize-canvas":"Resize Canvas","remove-objects":"Remove Selection","reset-clipart-color":"Reset Clipart Color","split-path":"Split Path","update-clipart-color":"Change Clipart Color","update-style":"Update Style","update-text":"Update Text",angle:"Angle",
antialias:"Antialias",anticlockwise:"Anticlockwise",blend:"Blend",bristles:"Bristles",coils:"Coils",composite:"Composite",constrain:"Constrain",content:"Content",contract:"Contract",cutout:"Cutout",diameter:"Size",distance:"Distance",fill:"Fill",increment:"Increment",innerRadius:"Inner Radius",lineWidth:"Line Width",lookback:"Lookback",opacity:"Opacity",outerRadius:"Outer Radius",palette:"Palette",points:"Points",ratio:"Ratio",reset:"Reset",roundness:"Roundness",imperfection:"Imperfection",sides:"Sides",
slope:"Slope",spacing:"Spacing",speed:"Speed",spread:"Spread",stroke:"Outline",arrow:"Arrow",brush:"Brush",calligraphy:"Calligraphy",chrome:"Chrome",crayon:"Crayon",eraser:"Eraser",fur:"Fur",paintbrush:"Paintbrush",pen:"Pen",pencil:"Pencil",sketchy:"Sketchy",spirograph:"Spirograph",spraypaint:"Spraypaint",streamer:"Streamer",web:"Web",oil:"Oil",burst:"Burst",circle:"Circle",ellipse:"Ellipse",gear:"Gear",pie:"Pie",radialBurst:"Radial Burst",rectangle:"Rectangle",regularPolygon:"Regular Polygon",ring:"Ring",
shape:"Shape",spiral:"Spiral",square:"Square",star:"Star",triangle:"Triangle",select:"Select","quick-selection":"Quick Selection","add-to-selection":"Add to Selection","subtract-from-selection":"Subtract from Selection","select-all":"Select all","select-inverse":"Select inverse",unselect:"Unselect","crop-draw":"Crop Area",crop:"Crop","screenshot-log":"Click & drag to create your screenshot.",screenshot:"Screenshot","take-snapshot":"Take Snapshot",zoom:"Zoom","zoom-in":"Zoom in","zoom-out":"Zoom out",
"zoom-to-default":"Zoom to actual size",stamp:"Stamp","choose-stamp":"Set stamp category","convert-to-stamp":"Convert to Stamp",clipart:"Clipart","load-your-own-image":"Load your own image","choose-clipart":"Set clipart category",floodfill:"Floodfill",contiguous:"Contiguous",tolerance:"Tolerance",text:"Text",fontFamily:"Font Family",fontSize:"Font Size",fontStyle:"Font Style",fontVariant:"Font Variant",fontWeight:"Font Weight",textAlign:"Text Align",textDecoration:"Text Decoration",textTransform:"Text Transform",
whiteSpace:"White Space","choose-font":"Set font family",brightness:"Brightness",camera:"Camera",contrast:"Contrast",exposure:"Exposure",hue:"Hue",luminosity:"Luminosity",saturation:"Saturation",temperature:"Temperature",tint:"Tint",blur:"Blur",pixelSize:"Pixel Size",copy:"Copy","copy-all":"Copy all",cut:"Cut","cut-all":"Cut all","delete":"Delete",duplicate:"Duplicate","layer-backwards":"Send Backwards","layer-forwards":"Send Forwards","layer-to-back":"Send to Back","layer-to-front":"Send to Front",
paste:"Paste",history:"History",undo:"Undo",redo:"Redo",move:"Move","move-left":"Move Left","move-right":"Move Right","move-up":"Move Up","move-down":"Move Down",rotate:"Rotate",scale:"Scale",transform:"Transform",translate:"Translate","click-to-edit":"Click to Edit","click-to-select":"Click to Select","dbltap-to-edit":"Double Click to Edit","drag-to-move":"Drag to Move","drag-to-resize":"Drag to Resize","drag-to-rotate":"Drag to Rotate",black:"Black",blueprint:"Blueprint",graphPaper:"Graph Paper",
grid:"Grid",lined:"Lined",looseLeaf:"Loose Leaf",notebook:"Notebook",transparent:"Transparent",white:"White",color:"Color",gradient:"Gradient",pattern:"Pattern",eyedropper:"Eyedropper","choose-blend":"Set blending mode","color-burn":"Color Burn","color-dodge":"Color Dodge",darken:"Darken",difference:"Difference",disco:"Disco",erase:"Erase",exclusion:"Exclusion","hard-light":"Hard Light",lighten:"Lighten",multiply:"Multiply",normal:"Normal",overlay:"Overlay",screen:"Screen","soft-light":"Soft Light",
"source-atop":"Source Atop","destination-over":"Destination Over",cancel:"Cancel","continue":"Continue","delete-doc":"Delete",ok:"Ok","open-doc":"Open",quit:"Quit",download:"Download","download-format":"Download %s",save:"Save","save-format":"Save %s",dontSave:"Don&rsquo;t Save","keyboard-shortcuts":"Keyboard Shortcuts",shortcuts:"Shortcuts","ask-question":"Ask Question","draw-with-friend":"Draw with a friend","report-bug":"Report Bug","request-feature":"Request Feature",connecting:"Connecting","decoding-format":"Decoding %s",
downloading:"Downloading",loading:"Loading","loading-error":"Error loading","opening-format":"Opening %s","reading-files":"Reading files","reading-format":"Reading %s",rendering:"Rendering",syncing:"Syncing","choose-brush":"Choose Brush","choose-media":"Choose Media","choose-shape":"Choose Shape","choose-utility":"Choose Utility","choose-units":"Set units","%":"%",cm:"cm",inches:"inches",mm:"mm",pixels:"pixels","choose-fill":"Set fill style","choose-stroke":"Set outline style",about:"About",attachment:"Attachment",
"community-page":"Community",configure:"Configure","export":"Export",file:"File",layers:"Layers",menu:"Sidebar","my-docs":"My Files","new":"New",open:"Open",print:"Print","video-tutorials":"Video Tutorials","choose-preset-size":"Set preset size","sans serif":"Sans Serif",serif:"Serif",display:"Display",bold:"Bold",handwriting:"Handwriting",plants:"Plants",people:"People",animals:"Animals","water colors":"Water colors",typogrunge:"Typogrunge",tizzape:"Tizzape","simple smudges":"Simple Smudges",retro:"Retro",
leafs:"Leafs",footprints:"Footprints",flowers:"Flowers",doodles:"Doodles",butterflies:"Butterflies","aspect-ratio":"Aspect Ratio","choose-aspect-ratio":"Set Aspect Ratio","choose-constrain":"Constrain Proportions","hide-layer":"Hide layer","show-layer":"Show layer","convert-format":"Convert to %s","update-format":"Update %s",image:"Image",saving:"Saving",colorNoise:"Noise",colorMode:"Type",linear:"Linear Gradient",radial:"Radial Gradient",cycle:"Color Cycle",lineJoin:"Corner",lineCap:"Cap",round:"Round",
bevel:"Bevel",miter:"Miter",enable:"Enable",disable:"Disable",projects:"Files",paper:"Paper",quality:"Quality",fileFormat:"Format",sizeTo:"Size To",size:"Size",percent:"Percent",share:"Share",dpi:"DPI",settings:"Settings",tool:"Tool",width:"Width",height:"Height",x:"X",y:"Y","no-layers":"No layers added","layer-order":"Layer Order",document:"Document",library:"Library",utilities:"Utilities",brushes:"Brushes",shapes:"Shapes",highlighter:"Highlighter",polyarrow:"Arrow",polyline:"Line",polygon:"Polygon",
path:"Path",help:"Help",curved:"Curved",textbrush:"Textbrush",shader:"Shader",fitWithin:"Fit Within","72dpi":"72\u2014Web","150dpi":"150\u2014Draft Printing","300dpi":"300\u2014High-Res Printing","upload-as-new":"Upload as new",place:"Place into",upload:"Upload",resize:"Resize",dimensions:"Dimensions",apply:"Apply",create:"Create","set-background":"Change Background",rename:"Rename","screenshot-tool-message":"Use the <span class='icon-screenshot'></span> Screenshot tool to download a selection of your drawing."}},
k.lang.locales)})(sketch);"undefined"===typeof eventjs&&(eventjs={});
(function(k){k.useCSSTransform=!1;k.add=function(a,c,b,f){return d(a,c,b,f,"add")};k.remove=function(a,c,b,f){return d(a,c,b,f,"remove")};k.removeEvents=function(a){for(var c in a){var b=a[c];b&&b.remove&&b.remove()}};k.stop=function(a){a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.cancelBubbleCount=0)};k.prevent=function(a){a&&(a.preventDefault?a.preventDefault():a.preventManipulation?a.preventManipulation():a.returnValue=!1)};k.cancel=function(a){k.stop(a);k.prevent(a)};k.blur=
function(){if(k.isEditingText()){var a=document.activeElement;a.blur&&a.blur()}};k.isEditingText=function(){var a=document.activeElement;if(a){var c=a.nodeName;if("INPUT"===c||"TEXTAREA"===c||"true"===a.contentEditable)return!0}return!1};k.getEventSupport=function(a,c){"string"===typeof a&&(c=a,a=window);c="on"+c;if(c in a)return!0;a.setAttribute||(a=document.createElement("div"));if(a.setAttribute&&a.removeAttribute){a.setAttribute(c,"");var b="function"===typeof a[c];void 0!==a[c]&&(a[c]=null);
a.removeAttribute(c);return b}};var e=function(a){if(!a||a.nodeName||"object"!==typeof a)return a;var c=new a.constructor,b;for(b in a)c[b]=!a[b]||a.nodeName||"object"!==typeof a[b]?a[b]:e(a[b]);return c},d=function(c,f,p,t,x,q){t=t||{};if("[object Object]"===String(c))return h(c,x);if(c&&f&&p){if("string"===typeof c&&"ready"===f)if(window.eventjs_stallOnReady)f="load",c=window;else{g(c,t,p);return}if("string"===typeof c&&(c=document.querySelectorAll(c),0===c.length)){b("target does not exist",arguments);
return}if(0<c.length&&c!==window)if(1===c.length)c=c[0];else{for(var v={},z=0,C=c.length;z<C;z++){var J=d(c[z],f,p,e(t),x);J&&(v[z]=J)}return m(v)}"string"===typeof f&&(f=f.toLowerCase().split(/[, ]/),1===f.length&&(f=f.shift()));if("string"!==typeof f)return a(c,f,p,t,x);0===f.indexOf("on")&&(f=f.substr(2));if("object"!==typeof c)return b("target must be an element",arguments);if("function"!==typeof p)return b("listener must be a function",arguments);v=t.useCapture||!1;if(k.gestureHandler[f])if(v=
f+"."+r(c)+"."+r(p)+"."+(v?1:0),"remove"===x)c[v]&&c[v].remove&&(c[v].remove(),delete c[v]);else{if("add"===x){if(c[v]&&c[v].attach)return c[v].attach(),c[v];c[v]&&console.warn("handle",c[v]);if(t.useCall){var D=p;p=function(a,b){for(var f in b)a[f]=b[f];return D.call(c,a)}}t.uid=v;t.gesture=f;t.target=c;t.listener=p;t.fromOverwrite=q;return c[v]=k.proxy[f](t)}}else{for(var B=w(f,t.strict),E=B.length,z=0;z<E;z++)if("remove"===x)c[u](B[z],p,v);else if("add"===x)c[y](B[z],p,v);return{type:f,target:c,
listener:p,add:function(){for(var a=0;a<E;a++)k.add(c,B[a],p,t)},remove:function(){for(var a=0;a<E;a++)k.remove(c,B[a],p,t)}}}}else b("target, type and listener are required",arguments)},a=function(a,c,b,f,x){var q,g={};if(isFinite(c.length))for(var w=0,r=c.length;w<r;w++){var h=c[w];h&&(q=d(a,h,b,e(f),x))&&(g[h]=q)}else for(w in c)(h=c[w])&&(q=h.listener?d(a,w,h.listener,e(h),x):d(a,w,h,e(f),x))&&(g[w]=q);return m(g)},h=function(a,c){var b=a.target;if(a.type&&a.listener){var f=a.listener;return d(b,
a.type,f,a,c)}var x={},q;for(q in a){var f=a[q],g=typeof f;if("string"===g||"number"===g||"boolean"===g)x[q]=f}var g={},w;for(w in a){q=a[w];if("function"===typeof q)var f=q,m=e(x);else if("function"===typeof q.listener){var f=q.listener,m=e(x),r;for(r in q)m[r]=q[r]}else continue;q=w.toLowerCase().split(/[, ]/);for(var h=0;h<q.length;h++)g[w]=k.add(b,q[h],f,m,c)}return g},g=function(a,c,b){var f=k.getTime(),d=c.timeout,q=setInterval(function(){k.getTime()-f>d&&window.clearInterval(q);document.querySelector(a)&&
(window.clearInterval(q),setTimeout(b,1))},c.interval||1E3/60)},m=function(a){return{remove:function(){for(var c in a)a[c].remove()},add:function(){for(var c in a)a[c].add()}}},b=function(a,c){"undefined"!==typeof console&&"undefined"!==typeof console.error&&console.error(a,c)},c={msPointer:["MSPointerDown","MSPointerMove","MSPointerUp"],pointer:["pointerdown","pointermove","pointerup"],touch:["touchstart","touchmove","touchend"],mouse:["mousedown","mousemove","mouseup"]},f={MSPointerDown:0,MSPointerMove:1,
MSPointerUp:2,pointerdown:0,pointermove:1,pointerup:2,touchstart:0,touchmove:1,touchend:2,mousedown:0,mousemove:1,mouseup:2};k.supports={};window.navigator.pointerEnabled?k.supports.pointer=!0:window.navigator.msPointerEnabled&&(k.supports.msPointer=!0);k.getEventSupport("touchstart")&&(k.supports.touch=!0);k.getEventSupport("mousedown")&&(k.supports.mouse=!0);var w=function(){return function(a,b){var d=document.addEventListener?"":"on",t=f[a];if(isFinite(t)&&!b){var x=[],q;for(q in k.supports)x.push(d+
c[q][t]);return x}return[d+a]}}(),r=function(){var a=1;return function(c){return c===window?"#window":c===document?"#document":c.eventJSId?c.eventJSId:c.eventJSId=a++}}(),y=document.addEventListener?"addEventListener":"attachEvent",u=document.removeEventListener?"removeEventListener":"detachEvent";return k})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={});e.pointerSetup=function(a){a.target=a.target||window;a.doc=a.target.ownerDocument||a.target;a.minFingers=a.minFingers||a.fingers||1;a.maxFingers=a.maxFingers||a.fingers||Infinity;a.position=a.position||"relative";a.listenerOnSetup=a.listener;a.pointers={};a.fingers=0;var d={};d.gesture=a.gesture;d.target=a.target;d.env=a.env||{};d.listener=a.listener;d.proxy=function(g){a.listener=g;g(a.event,d)};d.remove=function(){d.detatch()};d.attached=!0;d.attach=function(){!1===
d.attached&&(d.attached=!0,a._pointerOver&&a._pointerOver.add(),a._pointerOut&&a._pointerOut.add(),a._pointerDown&&a._pointerDown.add(),a._pointerMove&&a._pointerMove.add(),a._pointerUp&&a._pointerUp.add())};d.detatch=function(){!0===d.attached&&(d.attached=!1,d.resetPointer(),a._pointerOver&&a._pointerOver.remove(),a._pointerOut&&a._pointerOut.remove(),a._pointerDown&&a._pointerDown.remove(),a._pointerMove&&a._pointerMove.remove(),a._pointerUp&&a._pointerUp.remove())};var g=0;d.pause=function(d){!a._pointerMove||
d&&!d.move||a._pointerMove.remove();!a._pointerUp||d&&!d.up||a._pointerUp.remove();g=a.fingers;a.fingers=0};d.resume=function(d){!a._pointerMove||d&&!d.move||a._pointerMove.add();!a._pointerUp||d&&!d.up||a._pointerUp.add();a.fingers=g};d.cancel=function(a){e.animationFrame.stop();d.pause(a)};d.resetPointer=function(d){if(d){var b=a.pointers||{};b[d]&&(delete b[d],a.fingers--)}else a.pointers={},a.fingers=0};d.resetBoundingBox=function(){d.bbox=a.bbox=k.getBBox(a.target);var g=a.pointers||{},b;for(b in g)g[b].dirty=
!0};d.hasMoved=function(a){a=a||1;var b=d.start.x-d.x,c=d.start.y-d.y;return 1===a?!(!b&&!c):Math.sqrt(b*b+c*c)>=a};d.distanceMoved=function(){var a=d.start.x-d.x,b=d.start.y-d.y;return Math.sqrt(a*a+b*b)};return d};e.animationFrame=new function(){var a=this,d=!1,g=null,m=function(){g();d&&requestAnimationFrame(m)};this.stop=function(){d=!1};this.listener=function(b,c,f){if("down"===c.state){var w=null,r=null;g=function(){if(w!==c.x||r!==c.y||"up"===c.state)f(b,c),w=c.x,r=c.y};!1===d&&(d=!0,m())}else"up"===
c.state&&a.stop()};return this};var d=k.supports;k.isMouse=!!d.mouse;k.isPointer=!!d.pointer||!!d.msPointer;k.isTouch=!!d.touch;e.getPointerID=function(a,d){var g=Object.keys(a);return d?g.join(","):g};e.getPoint=function(a,d){var g=a.pageX,m=a.pageY;if("absolute"===d.position)return{x:g,y:m};var b=d.bbox.matrix,g=b.point2d({x:g,y:m,z:-(g*b.m13+m*b.m23+b.m43)/b.m33});return{x:g.x/g.w,y:g.y/g.w}};e.setPointerStart=function(a,d,g,m){m=d.pointers[m]={};var b=d.bbox,c=k.useCSSTransform,f=g.pageX,w=g.pageY;
c&&(g=e.getPoint(g,d),f=g.x,w=g.y);switch(d.position){case "differenceFromLast":case "difference":m.offsetX=f;m.offsetY=w;break;case "move":m.offsetX=f-b.x1;m.offsetY=w-b.y1;break;case "absolute":m.offsetX=0;m.offsetY=0;break;default:c?(m.offsetX=-b.scrollLeft-b.pageXOffset,m.offsetY=-b.scrollTop-b.pageYOffset):(m.offsetX=b.x1-b.scrollLeft,m.offsetY=b.y1-b.scrollTop)}d=f-m.offsetX;g=w-m.offsetY;m.rotation=0;m.scale=1;m.startTime=a.startTime;m.moveTime=a.startTime;m.move={x:d,y:g};m.start={x:d,y:g};
return m};e.isPointerStart=function(a,d,g){g.event=a;g.listener=g.listenerOnSetup;var m=(a.type||"mousedown").toLowerCase();0===m.indexOf("mouse")?(k.isMouse=!0,k.isTouch=!1,k.isPointer=!1):0===m.indexOf("touch")?(k.isMouse=!1,k.isTouch=!0,k.isPointer=!1):0===m.indexOf("mspointer")&&(k.isMouse=!1,k.isTouch=!1,k.isPointer=!0);d.startTime=k.getTime();var m=!g.fingers,b=g.pointers;a=a.changedTouches||e.getChangedTouches(a);for(var c=a.length,f=0;f<c;f++){var w=a[f],r=w.identifier,y=b[r];if(g.fingers){if(g.fingers>=
g.maxFingers)return d.identifier=e.getPointerID(b,!0),m;for(var u in b)if(b[u].up){delete b[u];g.cancel=!0;g.fingers++;y=e.setPointerStart(d,g,w,r);break}void 0===y&&(g.fingers++,e.setPointerStart(d,g,w,r))}else d.resetBoundingBox(),g.cancel=!1,g.fingers=1,g.pointers={},e.setPointerStart(d,g,w,r)}d.identifier=e.getPointerID(g.pointers,!0);return m};e.isPointerEnd=function(a,d,g,m){for(var b=g.pointers,c=a.touches||[],f={},w=0,r=c.length;w<r;w++)f[c[w].identifier]=!0;for(var y in b)c=b[y],f[y]||c.up||
(m&&m(a,"up"),c.up=!0,g.fingers--);return 0===r?(a=e.getPointerID(b),g.fingers=0,g.gestureFingers=a.length,d.identifier=a.join(","),!0):!1};e.getChangedTouches=function(){var a=65535,d,g=function(g){return g!==d&&"mousedown"===g.type?(d=g,++a):a};return function(a){if(a.changedTouches)return a.changedTouches;if(0<=a.pageX+a.pageY)return[{clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,screenX:a.screenX,screenY:a.screenY,identifier:g(a)}];a=a||window.event;var b=document.documentElement;
return[{clientX:a.clientX,clientY:a.clientY,pageX:a.clientX+b.scrollLeft,pageY:a.clientY+b.scrollTop,screenX:a.screenX,screenY:a.screenY,identifier:g(a)}]}}();(function(){var a,d;k.getPageXY=function(g){if(g.changedTouches)return(g=g.changedTouches)&&g.length?(g=g[0],{x:a=g.pageX,y:d=g.pageY}):{x:a,y:d};if(0<=g.pageX+g.pageY)return{x:g.pageX,y:g.pageY};var m=document.documentElement;g=g||window.event;return{x:g.clientX+m.scrollLeft,y:g.clientY+m.scrollTop}}})();(function(){var a,d;k.getClientXY=function(g){if(g.changedTouches)return(g=
g.changedTouches)&&g.length?(g=g[0],{x:a=g.clientX,y:d=g.clientY}):{x:a,y:d};g=g||window.event;return{x:g.clientX,y:g.clientY}}})();k.getPointInNode=function(a,d){var g=k.getBBox(d);if(k.useCSSTransform)return e.getPoint(a,{bbox:g});var m=k.getClientXY(a);return{x:m.x-g.x1,y:m.y-g.y1}};k.convertPointFromNode=function(a,d,g){var m=d.parentNode;d=k.getMatrix(d,m).inverse();g=k.getMatrix(g,m);var m=a.x,b=a.y;a=m*g.m11+b*g.m21+g.m31;g=m*g.m12+b*g.m22+g.m32;d=d.point2d({x:a,y:g,z:-(a*d.m13+g*d.m23+d.m43)/
d.m33});a=d.x/d.w;g=d.y/d.w;return{x:a,y:g}};k.getDocumentScroll=function(a){a=a||{};if(void 0!==window.pageXOffset)a.pageXOffset=window.pageXOffset,a.pageYOffset=window.pageYOffset;else if("CSS1Compat"===document.compatMode)a.pageXOffset=document.documentElement.scrollLeft,a.pageYOffset=document.documentElement.scrollTop;else{var d=document.body;a.pageXOffset=d.scrollLeft;a.pageYOffset=d.scrollTop}return a};k.getMatrix=function(a,d){for(var g=new CSSMatrix,m=a;null!==m&&m!==d;){var b=m===document.body,
c=window.getComputedStyle(m),f=c.getPropertyValue("perspective");if(f&&"none"!==f)var w=c.getPropertyValue("perspective-origin").split(" "),r=parseFloat(w[0])||0,e=parseFloat(w[1])||0,f=-1/parseFloat(f),w=(new CSSMatrix).translate(r,e),w=w.multiply(new CSSMatrix("matrix3d(1,0,0,0, 0,1,0,0, 0,0,1,"+f+", 0,0,0,1)")),w=w.translate(-r,-e),g=w.multiply(g);if((f=c.getPropertyValue("transform"))&&"none"!==f)var w=c.getPropertyValue("transform-origin").split(" "),r=parseFloat(w[0])||0,e=parseFloat(w[1])||
0,c=parseFloat(w[2])||0,w=m.offsetLeft,u=m.offsetTop,w=(new CSSMatrix).translate(r+w,e+u,c),w=w.multiply(new CSSMatrix(f)),w=w.translate(-r,-e,-c);else w=m.offsetLeft,u=m.offsetTop,!1===b&&(w-=m.scrollLeft,u-=m.scrollTop),w=(new CSSMatrix).translate(w,u);g=w.multiply(g);if(b)break;else m=m.parentNode}return g};k.getBBox=function(){var a=function(a,d){var m=parseFloat(a.getPropertyValue(d),10);return m===+m?m:0};return function(d){if(d===window||d===document)d=document.body;var g={},m=d.getBoundingClientRect();
g.width=m.width;g.height=m.height;g.x1=m.left;g.y1=m.top;g.scaleX=m.width/d.offsetWidth||1;g.scaleY=m.height/d.offsetHeight||1;g.scrollLeft=0;g.scrollTop=0;m=window.getComputedStyle(d);if("border-box"===m.getPropertyValue("box-sizing")===!1){var b=a(m,"border-left-width"),c=a(m,"border-right-width"),f=a(m,"border-bottom-width"),w=a(m,"border-top-width");g.border=[b,c,w,f];g.x1+=b;g.y1+=w;g.width-=c+b;g.height-=f+w}g.x2=g.x1+g.width;g.y2=g.y1+g.height;k.useCSSTransform&&(g.matrix=k.getMatrix(d).inverse());
m=m.getPropertyValue("position");for(d="fixed"===m?d:d.parentNode;null!==d&&d!==document.body&&void 0!==d.scrollTop;){m=window.getComputedStyle(d);m=m.getPropertyValue("position");if("absolute"!==m)if("fixed"===m){g.scrollTop=d.scrollLeft;g.scrollLeft=d.scrollTop;break}else g.scrollLeft+=d.scrollLeft,g.scrollTop+=d.scrollTop;d=d.parentNode}k.getDocumentScroll(g);g.scrollLeft-=g.pageXOffset;g.scrollTop-=g.pageYOffset;return g}}();k.getTime=function(){var a=window.performance;return a&&a.now?a.now.bind(a):
Date.now}();k.gestureHandler=k.gestureHandler||{};k.register=function(a){k.gestureHandler[a]=e[a]}})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={}),d=/iPhone|iPad|iPod/i.test(navigator.userAgent);e.click=function(a){a.gesture=a.gesture||"click";a.maxFingers=a.maxFingers||a.fingers||1;a.onPointerDown=function(d){e.isPointerStart(d,h,a)&&(a._pointerUp=k.add(a.doc,"mouseup",a.onPointerUp))};a.onPointerUp=function(g){if((!d||"mouseup"!==g.type)&&e.isPointerEnd(g,h,a)){a._pointerUp.remove();var m=(g.changedTouches||e.getChangedTouches(g))[0],b=a.bbox,c=k.getBBox(a.target),f=m.pageY-c.pageYOffset,m=m.pageX-
c.pageXOffset;if(m>b.x1&&f>b.y1&&m<b.x2&&f<b.y2&&b.scrollTop===c.scrollTop){for(var w in a.pointers)if(b=a.pointers[w]){h.x=b.start.x;h.y=b.start.y;break}h.state="click";a.listener(g,h)}}};a._pointerDown=k.add(a.target,"mousedown",a.onPointerDown);var h=e.pointerSetup(a);return h};k.register("click")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={});e.dbltap=e.dblclick=function(d){d.gesture=d.gesture||"dbltap";d.maxFingers=d.maxFingers||d.fingers||1;var a,h,g,m,b;d.onPointerDown=function(f){var w=f.changedTouches||e.getChangedTouches(f);a&&!h?(b=w[0],h=k.getTime()-a):(m=w[0],a=k.getTime(),h=0,clearTimeout(g),g=setTimeout(function(){a=0},700));e.isPointerStart(f,c,d)&&((d._pointerMove=k.add(d.doc,"mousemove",d.onPointerMove)).listener(f),d._pointerUp=k.add(d.doc,"mouseup",d.onPointerUp))};d.onPointerMove=
function(c){if(a&&!h)b=(c.changedTouches||e.getChangedTouches(c))[0];else if(!b)return;c=d.bbox;var w=b.pageX-c.x1,r=b.pageY-c.y1;0<w&&w<c.width&&0<r&&r<c.height&&25>=Math.abs(b.pageX-m.pageX)&&25>=Math.abs(b.pageY-m.pageY)||(d._pointerMove.remove(),clearTimeout(g),a=h=0)};d.onPointerUp=function(b){e.isPointerEnd(b,c,d)&&(d._pointerMove.remove(),d._pointerUp.remove());if(a&&h){if(700>=h){for(var w in d.pointers){w=d.pointers[w];c.x=w.start.x;c.y=w.start.y;break}c.state=d.gesture;d.listener(b,c)}clearTimeout(g);
a=h=0}};d._pointerDown=k.add(d.target,"mousedown",d.onPointerDown);var c=e.pointerSetup(d);return c};k.register("dbltap");k.register("dblclick")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={});e.dragElement=function(d,a){e.drag({event:a,target:d,position:"move",listener:function(a,g){d.style.left=g.x+"px";d.style.top=g.y+"px";k.prevent(a)}})};e.drag=function(d){d.gesture="drag";var a=d.event,h=d.monitor,g=d.animationFrame,m="differenceFromLast"===d.position,b=function(a,c){s.fingers=d.fingers;s.state=c;for(var b=a.changedTouches||e.getChangedTouches(a),f=b.length,q=0;q<f;q++){var v=b[q],w=v.identifier,r=d.pointers[w];if(r){r.dirty&&(r=e.setPointerStart(s,
d,v,w));var h=r.pageX=v.pageX,v=r.pageY=v.pageY;k.useCSSTransform&&(v=e.getPoint(r,d),h=v.x,v=v.y);s.identifier=w;s.start=r.start;s.x=h-r.offsetX;s.y=v-r.offsetY;m&&(r.offsetX=h,r.offsetY=v);g?e.animationFrame.listener(a,s,d.listener):d.listener(a,s)}}},c=function(a){s.pointerDown=!1;s.pointerMove=!1;s.pointerUp=!0;s.pointerStart=!1;s.pointerDrag=!1;s.pointerEnd=!0;b(a,"up")},f=function(a){e.isPointerStart(a,s,d)&&(h&&d._pointerMove.remove(),d._pointerMove=k.add(d.doc,"mousemove",y),d._pointerUp=
k.add(d.doc,"mouseup",u))},w=function(){s.attached&&(d._pointerMove=k.add(d.target,"mousemove",y))},r=d.onPointerDown=function(a){s.pointerDown=!0;s.pointerMove=!1;s.pointerUp=!1;s.pointerStart=!0;s.pointerDrag=!1;s.pointerEnd=!1;h&&(s.resetPointer(d.monitorId),delete d.monitorId);f(a);b(a,"down")},y=d.onPointerMove=function(a){s.pointerMove=!0;s.pointerStart=!1;s.pointerDrag=s.pointerDown;s.pointerEnd=!1;d.fingers?b(a,"move"):h&&(f(a),b(a,"move"),d.monitorId=s.identifier)},u=d.onPointerUp=function(a){e.isPointerEnd(a,
s,d,c)&&(d._pointerMove.remove(),d._pointerUp.remove(),h&&w())},s=e.pointerSetup(d);s.pointerDown=!1;s.pointerMove=!1;s.pointerUp=!0;s.pointerStart=!1;s.pointerDrag=!1;s.pointerEnd=!1;h&&w();a?r(a):d._pointerDown=k.add(d.target,"mousedown",r);return s};k.register("drag")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={}),d=Math.PI/180,a=function(a,d){var m=0,b=0,c=0,f;for(f in d){var w=d[f];!0!==w.up&&(m+=w.move.x,b+=w.move.y,c++)}a.x=m/c;a.y=b/c;return a};e.gesture=function(h){h.gesture=h.gesture||"gesture";h.minFingers=h.minFingers||h.fingers||2;h.onPointerDown=function(d){var b=h.fingers;e.isPointerStart(d,g,h)&&(h._pointerMove=k.add(h.doc,"mousemove",h.onPointerMove),h._pointerUp=k.add(h.doc,"mouseup",h.onPointerUp));h.fingers===h.minFingers&&b!==h.fingers&&(b=h.pointers,
g.fingers=h.minFingers,g.scale=1,g.rotation=0,g.identifier=e.getPointerID(b,!0),g.state="start",g.pointerStart=!0,g.pointerChange=!1,g.pointerEnd=!1,a(g,b),h.listener(d,g))};h.onPointerMove=function(m,b){for(var c=h.pointers,f=m.changedTouches||e.getChangedTouches(m),w=f.length,r=0;r<w;r++){var y=f[r],u=y.identifier,s=c[u];s&&(s.move.x=y.pageX-s.offsetX,s.move.y=y.pageY-s.offsetY)}if(!(h.fingers<h.minFingers)){f=[];r=w=0;a(g,c);for(u in c)if(y=c[u],!0!==y.up&&(s=y.start,s.x!==g.x||s.y!==g.y)){if(void 0===
s.distance){var l=s.x-g.x,p=s.y-g.y;s.distance=Math.sqrt(l*l+p*p);s.angle=Math.atan2(l,p)/d}var l=y.move.x-g.x,p=y.move.y-g.y,t=Math.sqrt(l*l+p*p),w=w+t/s.distance,l=Math.atan2(l,p)/d,s=(s.angle-l+360)%360-180;y.DEG2=y.DEG1;y.DEG1=0<s?s:-s;y.DEG2===+y.DEG2&&(y.rotation=0<s?y.rotation+(y.DEG1-y.DEG2):y.rotation-(y.DEG1-y.DEG2),r+=y.rotation);f.push(y.move)}g.touches=f;g.fingers=h.fingers;g.scale=w/h.fingers;g.rotation=r/h.fingers;g.state="change";g.pointerStart=!1;g.pointerChange=!0;g.pointerEnd=!1;
h.listener(m,g)}};h.onPointerUp=function(a){var b=h.fingers;e.isPointerEnd(a,g,h)&&(h._pointerMove.remove(),h._pointerUp.remove());b===h.minFingers&&h.fingers<h.minFingers&&(g.fingers=h.fingers,g.state="end",g.pointerStart=!1,g.pointerChange=!1,g.pointerEnd=!0,h.listener(a,g))};h._pointerDown=k.add(h.target,"mousedown",h.onPointerDown);var g=e.pointerSetup(h);return g};k.register("gesture")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){(k.proxy||(k.proxy={})).shake=function(e){var d={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:e.target,listener:e.listener,remove:function(){window.removeEventListener("devicemotion",m,!1)}},a=k.getTime(),h={x:0,y:0,z:0},g={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},m=function(b){var c=b.accelerationIncludingGravity;h.x=.8*h.x+(1-.8)*c.x;h.y=.8*h.y+(1-.8)*c.y;h.z=.8*h.z+(1-.8)*c.z;d.accelerationIncludingGravity=h;d.acceleration.x=c.x-
h.x;d.acceleration.y=c.y-h.y;d.acceleration.z=c.z-h.z;if("devicemotion"===e.gesture)e.listener(b,d);else for(var c=k.getTime(),f=0;3>f;f++){var w="xyz"[f],r=d.acceleration[w],w=g[w],m=Math.abs(r);!(1E3>c-a)&&4<m&&(r=c*r/m,m=Math.abs(r+w.value),w.value&&200>m?(w.value=r,w.count++,3===w.count&&(e.listener(b,d),a=c,w.value=0,w.count=0)):(w.value=r,w.count=1))}};if(window.addEventListener)return window.addEventListener("devicemotion",m,!1),d};k.register("shake")})(eventjs);
"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={}),d=Math.PI/180;e.swipe=function(a){a.snap=a.snap||90;a.threshold=a.threshold||.75;a.gesture=a.gesture||"swipe";a.onPointerDown=function(d){e.isPointerStart(d,h,a)&&((a._pointerMove=k.add(a.doc,"mousemove",a.onPointerMove)).listener(d),a._pointerUp=k.add(a.doc,"mouseup",a.onPointerUp))};a.onPointerMove=function(d){d=d.changedTouches||e.getChangedTouches(d);for(var m=d.length,b=0;b<m;b++){var c=d[b],f=a.pointers[c.identifier];f&&(f.move.x=c.pageX,f.move.y=c.pageY,
f.moveTime=k.getTime())}};a.onPointerUp=function(g){if(e.isPointerEnd(g,h,a)){a._pointerMove.remove();a._pointerUp.remove();var m,b,c,f,w={x:0,y:0},r=0,y=0,u=0,s;for(s in a.pointers){var l=a.pointers[s];f=l.move.x-l.start.x;var p=l.move.y-l.start.y,r=r+l.move.x,y=y+l.move.y;w.x+=l.start.x;w.y+=l.start.y;u++;b=Math.sqrt(f*f+p*p);l=l.moveTime-l.startTime;f=Math.atan2(f,p)/d+180;b=l?b/l:0;if(void 0===c)c=f,m=b;else if(20>=Math.abs(f-c))c=(c+f)/2,m=(m+b)/2;else return}s=a.gestureFingers;a.minFingers<=
s&&a.maxFingers>=s&&m>a.threshold&&(w.x/=u,w.y/=u,h.start=w,h.x=r/u,h.y=y/u,h.angle=-(((c/a.snap+.5>>0)*a.snap||360)-360),h.velocity=m,h.fingers=s,h.state="swipe",a.listener(g,h))}};a._pointerDown=k.add(a.target,"mousedown",a.onPointerDown);var h=e.pointerSetup(a);return h};k.register("swipe")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={});e.longpress=function(d){d.gesture="longpress";return e.tap(d)};e.tap=function(d){d.gesture=d.gesture||"tap";d.delay=d.delay||500;d.driftDeviance=d.driftDeviance||10;d.timeout=d.timeout||250;var a,h;d.onPointerDown=function(m){e.isPointerStart(m,g,d)&&(a=k.getTime(),(d._pointerMove=k.add(d.doc,"mousemove",d.onPointerMove)).listener(m),d._pointerUp=k.add(d.doc,"mouseup",d.onPointerUp),"longpress"===d.gesture&&(h=setTimeout(function(){if(!(m.cancelBubble&&1<++m.cancelBubbleCount)){var a=
0,c;for(c in d.pointers){var f=d.pointers[c];if(!0===f.end||d.cancel)return;a++}d.minFingers<=a&&d.maxFingers>=a&&(g.state="start",g.fingers=a,g.x=f.start.x,g.y=f.start.y,d.listener(m,g))}},d.delay)))};d.onPointerMove=function(a){var b=d.bbox;a=a.changedTouches||e.getChangedTouches(a);for(var c=a.length,f=0;f<c;f++){var g=a[f],r=d.pointers[g.identifier];if(r){var h=g.pageX-b.x1,g=g.pageY-b.y1,u=h-r.start.x,r=g-r.start.y,r=Math.sqrt(u*u+r*r);if(!(0<h&&h<b.width&&0<g&&g<b.height&&r<=d.driftDeviance)){d._pointerMove.remove();
d.cancel=!0;break}}}};d.onPointerUp=function(m){if(e.isPointerEnd(m,g,d)&&(clearTimeout(h),d._pointerMove.remove(),d._pointerUp.remove(),!(m.cancelBubble&&1<++m.cancelBubbleCount)))if("longpress"===d.gesture)"start"===g.state&&(g.state="end",d.listener(m,g));else if(!(d.cancel||k.getTime()-a>d.timeout)){var b=d.gestureFingers;d.minFingers<=b&&d.maxFingers>=b&&(g.state="tap",g.fingers=d.gestureFingers,d.listener(m,g))}};d._pointerDown=k.add(d.target,"mousedown",d.onPointerDown);var g=e.pointerSetup(d);
return g};k.register("tap");k.register("longpress")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={});e.hover=function(d){d.gesture=d.gesture||"hover";d.maxFingers=d.maxFingers||d.fingers||1;d.delay=d.delay||150;d.interval=d.interval||30;d.timeout=d.timeout||1E4;var a,h,g=0;d.onPointerOver=function(b){e.isPointerStart(b,m,d)&&(d._pointerOut=k.add(d.target,"mouseout",d.onPointerOut),clearTimeout(a),clearInterval(h),a=setTimeout(function(){h=setInterval(function(){var c=k.getTime()-m.startTime;c>d.timeout?(clearTimeout(a),clearInterval(h)):(m.state="hover",m.iterate=
g++,m.lapse=c,d.listener(b,m))},d.interval)},d.delay))};d.onPointerOut=function(b){e.isPointerEnd(b,m,d)&&(d._pointerOut.remove(),clearTimeout(a),clearInterval(h))};d._pointerOver=k.add(d.target,"mouseover",d.onPointerOver);var m=e.pointerSetup(d);return m};k.register("hover")})(eventjs);"undefined"===typeof eventjs&&(eventjs={});
(function(k){var e=k.proxy||(k.proxy={});e.wheelPreventElasticBounce=function(d){d&&("string"===typeof d&&(d=document.querySelector(d)),k.add(d,"wheel",function(a,d){d.preventElasticBounce(a);k.stop(a)}))};e.wheel=function(d){var a,e=d.timeout||150,g=0,m={gesture:"wheel",state:"start",wheelDelta:0,target:d.target,listener:d.listener,preventElasticBounce:function(a){var c=this.target,b=c.scrollTop;b+c.offsetHeight===c.scrollHeight&&0>=this.wheelDelta?k.cancel(a):0===b&&0<=this.wheelDelta&&k.cancel(a);
k.stop(a)},add:function(){d.target[c](w,b,!1)},remove:function(){d.target[f](w,b,!1)}},b=function(c){c=c||window.event;m.state=g++?"change":"start";m.wheelDelta=c.detail?-20*c.detail:c.wheelDelta;d.listener(c,m);clearTimeout(a);a=setTimeout(function(){g=0;m.state="end";m.wheelDelta=0;d.listener(c,m)},e)},c=document.addEventListener?"addEventListener":"attachEvent",f=document.removeEventListener?"removeEventListener":"detachEvent",w=k.getEventSupport("mousewheel")?"mousewheel":"DOMMouseScroll";d.target[c](w,
b,!1);return m};k.register("wheel")})(eventjs);(function(k){k.elementsFromEvent=function(d,a){var e=k.getClientXY(d);return k.elementsFromPoint(e.x,e.y,a)};var e=k.elementsFromPoint=function(d,a,h){var g=h?h.ownerDocument:document;h=h||g.getElementsByTagName("html")[0];g=g.elementFromPoint(d,a);if(g===h||"HTML"===g.nodeName)return[g];var m=g.style.pointerEvents;g.style.pointerEvents="none";d=[g].concat(e(d,a,h));g.style.pointerEvents=m;return d}})(eventjs);
(function(k){var e=k.proxy;(k.keyTrackerReset=function(){k.fnKey=e.fnKey=!1;k.metaKey=e.metaKey=!1;k.escKey=e.escKey=!1;k.ctrlKey=e.ctrlKey=!1;k.shiftKey=e.shiftKey=!1;k.altKey=e.altKey=!1})();k.keyTracker=function(a){var b="keydown"===a.type;27===a.keyCode&&(k.escKey=e.escKey=b);g[a.keyCode]&&(k.metaKey=e.metaKey=b);k.ctrlKey=e.ctrlKey=a.ctrlKey;k.shiftKey=e.shiftKey=a.shiftKey;k.altKey=e.altKey=a.altKey};k.getKeyID=function(a){return d[a.keyCode]||""};var d=k.fromKeyCode={8:"Backspace",9:"Tab",
13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"PauseBreak",20:"CapsLock",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"LeftWindow",92:"RightWindow",93:"Select",96:"Numpad0",
97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"Multiply",107:"Add",109:"Subtract",110:"DecimalPoint",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a=navigator.userAgent.toLowerCase(),h=-1!==a.indexOf("macintosh"),g;(function(){h&&
-1!==a.indexOf("khtml")?g={91:!0,93:!0}:h&&-1!==a.indexOf("firefox")?(g={224:!0},d[173]=d[189],delete d[189],d[61]=d[187],delete d[187],d[59]=d[186],delete d[186]):g={17:!0};for(var m in g)d[m]="Meta"})();(function(){k.toKeyCode={};for(var a in d)k.toKeyCode[d[a]]=a})()})(eventjs);Array.isArray=Array.isArray||function(k){return k&&"[object Array]"===Object.prototype.toString.call(k)};
Array.prototype.every=Array.prototype.every||function(k,e){for(var d=0,a=this.length;d<a&&k.call(e||window,this[d],d,this);++d);return d===a};Array.prototype.filter=Array.prototype.filter||function(k,e){for(var d=[],a=0,h=this.length,g;a<h;++a)g=this[a],k.call(e||window,g,a,this)&&d.push(g);return d};Array.prototype.forEach=Array.prototype.forEach||function(k,e){for(var d=0,a=this.length;d<a;++d)k.call(e||window,this[d],d,this)};
Array.prototype.indexOf=Array.prototype.indexOf||function(k){for(var e=0,d=this.length;e<d;++e)if(this[e]===k)return e;return-1};Array.prototype.lastIndexOf=Array.prototype.lastIndexOf||function(k){for(var e=this.length-1;-1<e;--e)if(this[e]===k)return e;return-1};Array.prototype.map=Array.prototype.map||function(k,e){for(var d=[],a=0,h=this.length;a<h;++a)d.push(k.call(e||window,this[a],a,this));return d};
Array.prototype.reduce=Array.prototype.reduce||function(k,e){for(var d=e||0,a=0,h=this.length;a<h;++a)d=k.call(window,d,this[a],a,this);return d};Array.prototype.reduceRight=Array.prototype.reduceRight||function(k,e){for(var d=e||0,a=this.length-1;-1<a;--a)d=k.call(window,d,this[a],a,this);return d};Array.prototype.some=Array.prototype.some||function(k,e){for(var d=0,a=this.length;d<a&&!k.call(e||window,this[d],d,this);++d);return d===a};
Array.prototype.concat=Array.prototype.concat||function(k){for(var e=0;e<k.length;e++)this.push(k[e]);return this};
if(!window.btoa||!window.atob){var base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(k,e){var d=base64.ALPHA.indexOf(k.charAt(e));if(-1==d)throw"Cannot decode base64";return d},decode:function(k){k=""+k;var e=base64.getbyte64,d,a,h,g=k.length;if(0==g)return k;if(0!=g%4)throw"Cannot decode base64";d=0;k.charAt(g-1)==base64.PADCHAR&&(d=1,k.charAt(g-2)==base64.PADCHAR&&(d=2),g-=4);var m=[];for(a=0;a<g;a+=4)h=e(k,a)<<18|e(k,a+1)<<12|e(k,a+
2)<<6|e(k,a+3),m.push(String.fromCharCode(h>>16,h>>8&255,h&255));switch(d){case 1:h=e(k,a)<<18|e(k,a+1)<<12|e(k,a+2)<<6;m.push(String.fromCharCode(h>>16,h>>8&255));break;case 2:h=e(k,a)<<18|e(k,a+1)<<12,m.push(String.fromCharCode(h>>16))}return m.join("")},getbyte:function(k,e){var d=k.charCodeAt(e);if(255<d)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return d},encode:function(k){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var e=base64.PADCHAR,d=base64.ALPHA,a=base64.getbyte,
h,g,m=[];k=""+k;var b=k.length-k.length%3;if(0==k.length)return k;for(h=0;h<b;h+=3)g=a(k,h)<<16|a(k,h+1)<<8|a(k,h+2),m.push(d.charAt(g>>18)),m.push(d.charAt(g>>12&63)),m.push(d.charAt(g>>6&63)),m.push(d.charAt(g&63));switch(k.length-b){case 1:g=a(k,h)<<16;m.push(d.charAt(g>>18)+d.charAt(g>>12&63)+e+e);break;case 2:g=a(k,h)<<16|a(k,h+1)<<8,m.push(d.charAt(g>>18)+d.charAt(g>>12&63)+d.charAt(g>>6&63)+e)}return m.join("")}};window.btoa=base64.encode;window.atob=base64.decode}
(function(){function k(a){this._element=a;if(a.className!=this._classCache&&(this._classCache=a.className)){a=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);var c;for(c=0;c<a.length;c++)h.call(this,a[c])}}function e(a,c,f){Object.defineProperty?Object.defineProperty(a,c,{get:f}):a.__defineGetter__(c,f)}if(!("undefined"===typeof window.Element||"classList"in document.documentElement)){var d=Array.prototype,a=d.slice,h=d.push,g=d.splice,m=d.join;k.prototype={add:function(b){this.contains(b)||
(h.call(this,b),b=a.call(this,0),this._element.className=b.join(" "))},contains:function(a){return-1!==Array.prototype.indexOf.call(this,a)},item:function(a){return this[a]||null},remove:function(b){b=Array.prototype.indexOf.call(this,b);-1!==b&&(g.call(this,b,1),b=a.call(this,0),this._element.className=b.join(" "))},toString:function(){return m.call(this," ")},toggle:function(a){this.contains(a)?this.remove(a):this.add(a);return this.contains(a)}};window.DOMTokenList=k;e(Element.prototype,"classList",
function(){return new k(this)})}})();
"function"===typeof WebKitCSSMatrix?window.CSSMatrix=WebKitCSSMatrix:function(){function k(c){if(void 0===c||"none"===c)return a(this);if(c instanceof k)return e(c);var f=arguments;if(f.length){if(16===f.length)return b(this,f);if(6===f.length)return m(this,f)}return this.setMatrixValue(c)}function e(a){var b=new k;b.m11=b.a=a.m11;b.m12=b.b=a.m12;b.m13=a.m13;b.m14=a.m14;b.m21=b.c=a.m21;b.m22=b.d=a.m22;b.m23=a.m23;b.m24=a.m24;b.m31=a.m31;b.m32=a.m32;b.m33=a.m33;b.m34=a.m34;b.m41=b.e=a.m41;b.m42=b.f=
a.m42;b.m43=a.m43;b.m44=a.m44;return b}function d(a,b){return b instanceof k?new k(b.m11*a.m11+b.m12*a.m21+b.m13*a.m31+b.m14*a.m41,b.m11*a.m12+b.m12*a.m22+b.m13*a.m32+b.m14*a.m42,b.m11*a.m13+b.m12*a.m23+b.m13*a.m33+b.m14*a.m43,b.m11*a.m14+b.m12*a.m24+b.m13*a.m34+b.m14*a.m44,b.m21*a.m11+b.m22*a.m21+b.m23*a.m31+b.m24*a.m41,b.m21*a.m12+b.m22*a.m22+b.m23*a.m32+b.m24*a.m42,b.m21*a.m13+b.m22*a.m23+b.m23*a.m33+b.m24*a.m43,b.m21*a.m14+b.m22*a.m24+b.m23*a.m34+b.m24*a.m44,b.m31*a.m11+b.m32*a.m21+b.m33*a.m31+
b.m34*a.m41,b.m31*a.m12+b.m32*a.m22+b.m33*a.m32+b.m34*a.m42,b.m31*a.m13+b.m32*a.m23+b.m33*a.m33+b.m34*a.m43,b.m31*a.m14+b.m32*a.m24+b.m33*a.m34+b.m34*a.m44,b.m41*a.m11+b.m42*a.m21+b.m43*a.m31+b.m44*a.m41,b.m41*a.m12+b.m42*a.m22+b.m43*a.m32+b.m44*a.m42,b.m41*a.m13+b.m42*a.m23+b.m43*a.m33+b.m44*a.m43,b.m41*a.m14+b.m42*a.m24+b.m43*a.m34+b.m44*a.m44):null}function a(a){a.m11=a.a=1;a.m12=a.b=0;a.m13=0;a.m14=0;a.m21=a.c=0;a.m22=a.d=1;a.m23=0;a.m24=0;a.m31=0;a.m32=0;a.m33=1;a.m34=0;a.m41=a.e=0;a.m42=a.f=
0;a.m43=0;a.m44=1;return a}var h=/^matrix\((.*)\)/,g=/^matrix3d\((.*)\)/,m=function(a,b){a.m11=a.a=b[0];a.m12=a.b=b[1];a.m41=a.e=b[4];a.m21=a.c=b[2];a.m22=a.d=b[3];a.m42=a.f=b[5];return a},b=function(a,b){a.m11=a.a=b[0];a.m12=a.b=b[1];a.m13=b[2];a.m14=b[3];a.m21=a.c=b[4];a.m22=a.d=b[5];a.m23=b[6];a.m24=b[7];a.m31=b[8];a.m32=b[9];a.m33=b[10];a.m34=b[11];a.m41=a.e=b[12];a.m42=a.f=b[13];a.m43=b[14];a.m44=b[15];return a};k.prototype.setMatrixValue=function(c){if("string"===typeof c){a(this);c=c.trim();
if("none"===c)return this;for(var f=c.replace(/^.*\((.*)\)$/g,"$1").split(/\s*,\s*/),d=f.length;d--;)f[d]=parseFloat(f[d]);if(6===f.length&&h.test(c))return m(this,f);if(16===f.length&&g.test(c))return b(this,f)}throw Error("Failed to execute 'setMatrixValue' on 'CSSMatrix': Failed to parse '"+c+"'");};k.prototype.multiply=function(a){return d(this,a)};k.prototype.inverse=function(){var a;a=(a=this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-this.m14*this.m22*this.m33*this.m41+
this.m12*this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+this.m12*this.m21*this.m34*this.m43-
this.m11*this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44)?new k((this.m23*this.m34*this.m42-this.m24*this.m33*this.m42+this.m24*this.m32*this.m43-this.m22*this.m34*this.m43-this.m23*this.m32*this.m44+this.m22*this.m33*this.m44)/a,(this.m14*this.m33*this.m42-this.m13*this.m34*this.m42-this.m14*this.m32*this.m43+
this.m12*this.m34*this.m43+this.m13*this.m32*this.m44-this.m12*this.m33*this.m44)/a,(this.m13*this.m24*this.m42-this.m14*this.m23*this.m42+this.m14*this.m22*this.m43-this.m12*this.m24*this.m43-this.m13*this.m22*this.m44+this.m12*this.m23*this.m44)/a,(this.m14*this.m23*this.m32-this.m13*this.m24*this.m32-this.m14*this.m22*this.m33+this.m12*this.m24*this.m33+this.m13*this.m22*this.m34-this.m12*this.m23*this.m34)/a,(this.m24*this.m33*this.m41-this.m23*this.m34*this.m41-this.m24*this.m31*this.m43+this.m21*
this.m34*this.m43+this.m23*this.m31*this.m44-this.m21*this.m33*this.m44)/a,(this.m13*this.m34*this.m41-this.m14*this.m33*this.m41+this.m14*this.m31*this.m43-this.m11*this.m34*this.m43-this.m13*this.m31*this.m44+this.m11*this.m33*this.m44)/a,(this.m14*this.m23*this.m41-this.m13*this.m24*this.m41-this.m14*this.m21*this.m43+this.m11*this.m24*this.m43+this.m13*this.m21*this.m44-this.m11*this.m23*this.m44)/a,(this.m13*this.m24*this.m31-this.m14*this.m23*this.m31+this.m14*this.m21*this.m33-this.m11*this.m24*
this.m33-this.m13*this.m21*this.m34+this.m11*this.m23*this.m34)/a,(this.m22*this.m34*this.m41-this.m24*this.m32*this.m41+this.m24*this.m31*this.m42-this.m21*this.m34*this.m42-this.m22*this.m31*this.m44+this.m21*this.m32*this.m44)/a,(this.m14*this.m32*this.m41-this.m12*this.m34*this.m41-this.m14*this.m31*this.m42+this.m11*this.m34*this.m42+this.m12*this.m31*this.m44-this.m11*this.m32*this.m44)/a,(this.m12*this.m24*this.m41-this.m14*this.m22*this.m41+this.m14*this.m21*this.m42-this.m11*this.m24*this.m42-
this.m12*this.m21*this.m44+this.m11*this.m22*this.m44)/a,(this.m14*this.m22*this.m31-this.m12*this.m24*this.m31-this.m14*this.m21*this.m32+this.m11*this.m24*this.m32+this.m12*this.m21*this.m34-this.m11*this.m22*this.m34)/a,(this.m23*this.m32*this.m41-this.m22*this.m33*this.m41-this.m23*this.m31*this.m42+this.m21*this.m33*this.m42+this.m22*this.m31*this.m43-this.m21*this.m32*this.m43)/a,(this.m12*this.m33*this.m41-this.m13*this.m32*this.m41+this.m13*this.m31*this.m42-this.m11*this.m33*this.m42-this.m12*
this.m31*this.m43+this.m11*this.m32*this.m43)/a,(this.m13*this.m22*this.m41-this.m12*this.m23*this.m41-this.m13*this.m21*this.m42+this.m11*this.m23*this.m42+this.m12*this.m21*this.m43-this.m11*this.m22*this.m43)/a,(this.m12*this.m23*this.m31-this.m13*this.m22*this.m31+this.m13*this.m21*this.m32-this.m11*this.m23*this.m32-this.m12*this.m21*this.m33+this.m11*this.m22*this.m33)/a):!1;return a};k.prototype.translate=function(a,b,d){d=d||0;var g=e(this);g.m41=g.e=g.m11*a+g.m21*b+g.m31*d+g.m41;g.m42=g.f=
g.m12*a+g.m22*b+g.m32*d+g.m42;g.m43=g.m13*a+g.m23*b+g.m33*d+g.m43;g.m44=g.m14*a+g.m24*b+g.m34*d+g.m44;return g};k.prototype.scale=function(a,b,g){b!==+b&&(b=a);g!==+g&&(g=1);var r=new k;r.m11=r.a=a;r.m22=r.d=b;r.m33=g;return d(this,r)};k.prototype.rotate=function(a,b,g){a!==+a&&(a=0);b!==+b&&g!==+g&&(g=a,b=a=0);b!==+b&&(b=0);g!==+g&&(g=0);var r,m;a*=Math.PI/180;r=Math.PI/180*b;m=Math.PI/180*g;g=Math.cos(a);a=-Math.sin(a);b=Math.cos(r);r=-Math.sin(r);var e=Math.cos(m);m=-Math.sin(m);var s=new k;s.m11=
s.a=b*e;s.m12=s.b=-b*m;s.m13=r;s.m21=s.c=a*r*e+g*m;s.m22=s.d=g*e-a*r*m;s.m23=-a*b;s.m31=a*m-g*r*e;s.m32=a*e+g*r*m;s.m33=g*b;return d(this,s)};k.prototype.rotateAxisAngle=function(a,b,g,r){b!==+b&&(b=a);g!==+g&&(g=a);var m;m=Math.PI/360*r;r=Math.sin(m);m=Math.cos(m);var e=r*r,s=Math.sqrt(a*a+b*b+g*g);0===s?(b=a=0,g=1):(a/=s,b/=s,g/=s);var s=a*a,l=b*b,p=g*g,t=new k;t.m11=t.a=1-2*(l+p)*e;t.m12=t.b=2*(a*b*e+g*r*m);t.m13=2*(a*g*e-b*r*m);t.m21=t.c=2*(b*a*e-g*r*m);t.m22=t.d=1-2*(p+s)*e;t.m23=2*(b*g*e+a*
r*m);t.m31=2*(g*a*e+b*r*m);t.m32=2*(g*b*e-a*r*m);t.m33=1-2*(s+l)*e;t.m14=t.m24=t.m34=0;t.m41=t.e=t.m42=t.f=t.m43=0;t.m44=1;return d(this,t)};k.prototype.toString=function(){var a=function(a){return a.toFixed(6)},b;b=this.m13||this.m14||this.m23||this.m24||this.m31||this.m32||1!==this.m33||this.m34||this.m43||1!==this.m44?!1:!0;return b?"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].map(a).join(", ")+")":"matrix3d("+[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,
this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44].map(a).join(", ")+")"};k.prototype.skewX=function(a){a*=Math.PI/180;var b=new k;b.m21=b.c=Math.tan(a);return d(b,this)};k.prototype.skewY=function(a){a*=Math.PI/180;var b=new k;b.m12=b.b=Math.tan(a);return d(b,this)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=k),exports.CSSMatrix=k):window.CSSMatrix=k}();
(function(){var k=function(d,a,e,g){this.x=d?d:0;this.y=a?a:0;this.z=e?e:0;this.w=g?g:0;this.checkValues=function(){this.x=this.x?this.x:0;this.y=this.y?this.y:0;this.z=this.z?this.z:0;this.w=this.w?this.w:0};this.length=function(){this.checkValues();return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};this.normalise=function(){var a=this.length();return new k(this.x/a,this.y/a,this.z/a)};this.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w};this.cross=function(a){return new k(this.y*
a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)};this.combine=function(a,b,c){return new k(b*this.x+c*a.x,b*this.y+c*a.y,b*this.z+c*a.z)}},e=function(d){d=d||{};var a={perspective:null,translate:null,skew:null,scale:null,rotate:null},e;for(e in a)this[e]=d[e]?d[e]:new k};CSSMatrix.prototype.transformVector=function(d){return new k(this.m11*d.x+this.m12*d.y+this.m13*d.z,this.m21*d.x+this.m22*d.y+this.m23*d.z,this.m31*d.x+this.m32*d.y+this.m33*d.z)};CSSMatrix.prototype.point2d=function(d){return new k(this.m11*
d.x+this.m21*d.y+this.m31*d.z+this.m41,this.m12*d.x+this.m22*d.y+this.m32*d.z+this.m42,this.m13*d.x+this.m23*d.y+this.m33*d.z+this.m43,this.m14*d.x+this.m24*d.y+this.m34*d.z+this.m44)};CSSMatrix.prototype.transpose=function(){for(var d=new CSSMatrix,a=0,e=0,a=0;2>=a;a++)for(e=a+1;3>=e;e++)d["m"+(a+1)+(e+1)]=this["m"+(e+1)+(a+1)],d["m"+(e+1)+(a+1)]=this["m"+(a+1)+(e+1)];return d};CSSMatrix.prototype.determinant=function(){return this.m14*this.m23*this.m32*this.m41-this.m13*this.m24*this.m32*this.m41-
this.m14*this.m22*this.m33*this.m41+this.m12*this.m24*this.m33*this.m41+this.m13*this.m22*this.m34*this.m41-this.m12*this.m23*this.m34*this.m41-this.m14*this.m23*this.m31*this.m42+this.m13*this.m24*this.m31*this.m42+this.m14*this.m21*this.m33*this.m42-this.m11*this.m24*this.m33*this.m42-this.m13*this.m21*this.m34*this.m42+this.m11*this.m23*this.m34*this.m42+this.m14*this.m22*this.m31*this.m43-this.m12*this.m24*this.m31*this.m43-this.m14*this.m21*this.m32*this.m43+this.m11*this.m24*this.m32*this.m43+
this.m12*this.m21*this.m34*this.m43-this.m11*this.m22*this.m34*this.m43-this.m13*this.m22*this.m31*this.m44+this.m12*this.m23*this.m31*this.m44+this.m13*this.m21*this.m32*this.m44-this.m11*this.m23*this.m32*this.m44-this.m12*this.m21*this.m33*this.m44+this.m11*this.m22*this.m33*this.m44};CSSMatrix.prototype.decompose=function(){var d=new CSSMatrix(this.toString()),a,h,g,m,b;if(0===d.m33)return new e((new CSSMatrix).decompose());for(b=1;4>=b;b++)for(j=1;4>=j;j++)d["m"+b+j]/=d.m44;for(b=1;3>=b;b++)d["m"+
b+"4"]=0;d.m44=1;if(0===d.determinant())return new e((new CSSMatrix).decompose());0!=d.m14||0!=d.m24||0!=d.m34?(a=new k(d.m14,d.m24,d.m34,d.m44),h=d.inverse(),h=h.transpose(),a=h.transformVector(a),d.m14=d.m24=d.m34=0,d.m44=1):a=new k(0,0,0,1);h=new k(d.m41,d.m42,d.m43);d.m41=0;d.m42=0;d.m43=0;g=[new k,new k,new k];for(b=1;3>=b;b++)g[b-1].x=d["m"+b+"1"],g[b-1].y=d["m"+b+"2"],g[b-1].z=d["m"+b+"3"];d=new k;m=new k;d.x=g[0].length();g[0]=g[0].normalise();m.x=g[0].dot(g[1]);g[1]=g[1].combine(g[0],1,-m.x);
d.y=g[1].length();g[1]=g[1].normalise();m.x/=d.y;m.y=g[0].dot(g[2]);g[2]=g[2].combine(g[0],1,-m.y);m.z=g[1].dot(g[2]);g[2]=g[2].combine(g[1],1,-m.z);d.z=g[2].length();g[2]=g[2].normalise();m.y/=d.z;m.y/=d.z;b=g[1].cross(g[2]);if(0>g[0].dot(b))for(b=0;3>b;b++)d.x*=-1,g[b].x*=-1,g[b].y*=-1,g[b].z*=-1;b=new k;b.y=Math.asin(-g[0].z);0!=Math.cos(b.y)?(b.x=Math.atan2(g[1].z,g[2].z),b.z=Math.atan2(g[0].y,g[0].x)):(b.x=Math.atan2(-g[2].x,g[1].y),b.z=0);return new e({perspective:a,translate:h,skew:m,scale:d,
rotate:b})}})();
(function(){function k(a,d,g){var m=document.createElement("canvas");e(a,m,d,g);return m.toDataURL("image/jpeg",d.quality||.8)}function e(a,d,g,m){var b=a.naturalWidth,c=a.naturalHeight,f=g.width,w=g.height,r=d.getContext("2d");r.save();g=g.orientation;switch(g){case 5:case 6:case 7:case 8:d.width=w;d.height=f;break;default:d.width=f,d.height=w}switch(g){case 2:r.translate(f,0);r.scale(-1,1);break;case 3:r.translate(f,w);r.rotate(Math.PI);break;case 4:r.translate(0,w);r.scale(1,-1);break;case 5:r.rotate(.5*
Math.PI);r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI);r.translate(0,-w);break;case 7:r.rotate(.5*Math.PI);r.translate(f,-w);r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-f,0)}d=a.naturalWidth;1048576<d*a.naturalHeight?(g=document.createElement("canvas"),g.width=g.height=1,g=g.getContext("2d"),g.drawImage(a,-d+1,0),d=0===g.getImageData(0,0,1,1).data[3]):d=!1;d&&(b/=2,c/=2);d=document.createElement("canvas");d.width=d.height=1024;g=d.getContext("2d");if(m){m=c;var e=document.createElement("canvas");
e.width=1;e.height=m;e=e.getContext("2d");e.drawImage(a,0,0);for(var e=e.getImageData(0,0,1,m).data,u=0,s=m,l=m;l>u;)0===e[4*(l-1)+3]?s=l:u=l,l=s+u>>1;m=l/m;m=0===m?1:m}else m=1;f=Math.ceil(1024*f/b);w=Math.ceil(1024*w/c/m);for(e=m=0;m<c;){for(s=u=0;u<b;)g.clearRect(0,0,1024,1024),g.drawImage(a,-u,-m),r.drawImage(d,0,0,1024,1024,s,e,f,w),u+=1024,s+=f;m+=1024;e+=w}r.restore()}function d(a){if(window.Blob&&a instanceof Blob){var d=new Image,g=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&
window.webkitURL.createObjectURL?window.webkitURL:null;if(!g)throw Error("No createObjectURL function found to create blob url");d.src=g.createObjectURL(a);this.blob=a;a=d}if(!a.naturalWidth&&!a.naturalHeight){var e=this;a.onload=function(){var a=e.imageLoadListeners;if(a){e.imageLoadListeners=null;for(var c=0,d=a.length;c<d;c++)a[c]()}};this.imageLoadListeners=[]}this.srcImage=a}d.prototype.render=function(a,d,g){if(this.imageLoadListeners){var m=this;this.imageLoadListeners.push(function(){m.render(a,
d,g)})}else{d=d||{};var b=this.srcImage,c=b.src,f=c.length,w=b.naturalWidth,b=b.naturalHeight,r=d.width,y=d.height,u=d.maxWidth,s=d.maxHeight,c=this.blob&&"image/jpeg"===this.blob.type||0===c.indexOf("data:image/jpeg")||c.indexOf(".jpg")===f-4||c.indexOf(".jpeg")===f-5;r&&!y?y=b*r/w<<0:y&&!r?r=w*y/b<<0:(r=w,y=b);u&&r>u&&(r=u,y=b*r/w<<0);s&&y>s&&(y=s,r=w*y/b<<0);var w={width:r,height:y},l;for(l in d)w[l]=d[l];l=a.tagName.toLowerCase();"img"===l?a.src=k(this.srcImage,w,c):"canvas"===l&&e(this.srcImage,
a,w,c);if("function"===typeof this.onrender)this.onrender(a);g&&g()}};"function"===typeof define&&define.amd?define([],function(){return d}):this.MegaPixImage=d})();
!function(k){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=k();else if("function"==typeof define&&define.amd)define([],k);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self);e.AnimationFrame=k()}}(function(){return function e(d,a,h){function g(b,f){if(!a[b]){if(!d[b]){var w="function"==typeof require&&require;if(!f&&w)return w(b,!0);if(m)return m(b,!0);w=Error("Cannot find module '"+b+"'");throw w.code="MODULE_NOT_FOUND",
w;}w=a[b]={exports:{}};d[b][0].call(w.exports,function(a){var f=d[b][1][a];return g(f?f:a)},w,w.exports,e,d,a,h)}return a[b].exports}for(var m="function"==typeof require&&require,b=0;b<h.length;b++)g(h[b]);return g}({1:[function(e,d,a){d.exports=e("./lib/animation-frame")},{"./lib/animation-frame":2}],2:[function(e,d,a){function h(a){if(!(this instanceof h))return new h(a);a||(a={});"number"==typeof a&&(a={frameRate:a});null!=a.useNative||(a.useNative=!0);this.options=a;this.frameRate=a.frameRate||
h.FRAME_RATE;this._frameLength=1E3/this.frameRate;this._isCustomFrameRate=this.frameRate!==h.FRAME_RATE;this._timeoutId=null;this._callbacks={};this._tickCounter=this._lastTickTime=0}var g=e("./native"),m=e("./now"),b=e("./performance"),c=g.request,f=g.cancel;d.exports=h;h.FRAME_RATE=60;h.shim=function(a){var b=new h(a);window.requestAnimationFrame=function(a){return b.request(a)};window.cancelAnimationFrame=function(a){return b.cancel(a)};return b};h.prototype.request=function(a){var d=this;++this._tickCounter;
if(g.supported&&this.options.useNative&&!this._isCustomFrameRate)return c(a);if(!a)throw new TypeError("Not enough arguments");if(null==this._timeoutId){var f=this._frameLength+this._lastTickTime-m();0>f&&(f=0);this._timeoutId=setTimeout(function(){d._lastTickTime=m();d._timeoutId=null;++d._tickCounter;var a=d._callbacks;d._callbacks={};for(var f in a)if(a[f])if(g.supported&&d.options.useNative)c(a[f]);else a[f](b.now())},f)}this._callbacks[this._tickCounter]=a;return this._tickCounter};h.prototype.cancel=
function(a){g.supported&&this.options.useNative&&f(a);delete this._callbacks[a]}},{"./native":3,"./now":4,"./performance":6}],3:[function(e,d,a){e=window;try{e.top.name,e=e.top}catch(h){}a.request=e.requestAnimationFrame;a.cancel=e.cancelAnimationFrame||e.cancelRequestAnimationFrame;a.supported=!1;d=["Webkit","Moz","ms","O"];for(var g=0;g<d.length&&!a.request;g++)a.request=e[d[g]+"RequestAnimationFrame"],a.cancel=e[d[g]+"CancelAnimationFrame"]||e[d[g]+"CancelRequestAnimationFrame"];a.request&&a.request.call(null,
function(){a.supported=!0})},{}],4:[function(e,d,a){d.exports=Date.now||function(){return(new Date).getTime()}},{}],5:[function(e,d,a){e=e("./now");a.navigationStart=e()},{"./now":4}],6:[function(e,d,a){var h=e("./now"),g=e("./performance-timing");a.now=function(){return window.performance&&window.performance.now?window.performance.now():h()-g.navigationStart}},{"./now":4,"./performance-timing":5}]},{},[1])(1)});window.requestAnimationframe&&window.cancelAnimationFrame||AnimationFrame.shim();
(function(k){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL||window.oURL;window.Blob=window.Blob||window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;(function(e){for(var d,a={},h=function(){},g=["memory"],m="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");d=
g.pop();)e[d]=e[d]||a;for(;d=m.pop();)e[d]=e[d]||h})(k.console=k.console||{});k.Element&&function(e){e.matchesSelector=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(d){d=(this.parentNode||this.document).querySelectorAll(d);for(var a=-1;d[++a]&&d[a]!=this;);return!!d[a]}}(Element.prototype);Date.now||(Date.now=function(){return(new Date).getTime()})})(self);
(function(k){var e=function(a,d){sketch.util.require("./inc/"+(d||"shim")+"/"+a);window.eventjs_stallOnReady=!0};(function(){var a=document.createElement("DIV");a.innerHTML="\x3c!--[if lte IE 9]><I></I><![endif]--\x3e";0<a.getElementsByTagName("I").length&&e("IE8-HTML5.js")})();(function(){var a=document.createElement("canvas");a.getContext&&a.getContext("2d")||e("flashcanvas.js","FlashCanvasPro")})();window.ArrayBuffer||(e("TypedArray.js"),e("downloadify.js","File"));window.Blob||e("Blob.js");window.requestFileSystem||
window.webkitRequestFileSystem||e("requestFileSystem.js");window.atob&&window.btoa||e("Base64.js");window.requestAnimationFrame||e("requestAnimationFrame.js");window.getComputedStyle||e("getComputedStyle.js");window.JSON&&window.JSON.parse||e("JSON.js");document.querySelector||e("querySelector.js");document.documentElement.classList||e("ClassList.js");document.documentElement.animate||e("webAnimations.js");void 0===window.innerHeight&&e("dimensions.js");try{if("undefined"===typeof chrome||"undefined"===
typeof chrome.storage)localStorage.setItem("test","test"),localStorage.removeItem("test")}catch(d){e("localStorage.js")}})(self);
(function(k){k.URL=k.URL||k.webkitURL;if(k.Blob&&k.URL)try{new Blob;return}catch(e){}var d=k.BlobBuilder||k.WebKitBlobBuilder||k.MozBlobBuilder||function(a){var d=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},g=function(){this.data=[]},e=function(a,b,c){this.data=a;this.size=a.length;this.type=b;this.encoding=c},b=g.prototype,c=e.prototype,f=a.FileReaderSync,w=function(a){this.code=this[this.name=a]},r="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),
y=r.length,u=a.URL||a.webkitURL||a,s=u.createObjectURL,l=u.revokeObjectURL,p=u,t=a.btoa,x=a.atob,q=a.ArrayBuffer,v=a.Uint8Array;for(e.fake=c.fake=!0;y--;)w.prototype[r[y]]=y+1;u.createObjectURL||(p=a.URL={});p.createObjectURL=function(a){var b=a.type;null===b&&(b="application/octet-stream");if(a instanceof e)return b="data:"+b,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):t?b+";base64,"+t(a.data):b+","+encodeURIComponent(a.data);if(s)return s.call(u,
a)};p.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&l&&l.call(u,a)};b.append=function(a){var b=this.data;if(v&&(a instanceof q||a instanceof v)){var c="";a=new v(a);for(var l=0,t=a.length;l<t;l++)c+=String.fromCharCode(a[l]);b.push(c)}else if("Blob"===d(a)||"File"===d(a))if(f)c=new f,b.push(c.readAsBinaryString(a));else throw new w("NOT_READABLE_ERR");else a instanceof e?"base64"===a.encoding&&x?b.push(x(a.data)):"URI"===a.encoding?b.push(decodeURIComponent(a.data)):"raw"===a.encoding&&
b.push(a.data):("string"!==typeof a&&(a+=""),b.push(unescape(encodeURIComponent(a))))};b.getBlob=function(a){arguments.length||(a=null);return new e(this.data.join(""),a,"raw")};b.toString=function(){return"[object BlobBuilder]"};c.slice=function(a,b,c){var d=arguments.length;3>d&&(c=null);return new e(this.data.slice(a,1<d?b:this.data.length),c,this.encoding)};c.toString=function(){return"[object Blob]"};c.close=function(){this.size=0;delete this.data};return g}(k);k.Blob=function(a,e){var g=e?e.type||
"":"",m=new d;if(a)for(var b=0,c=a.length;b<c;b++)m.append(a[b]);return m.getBlob(g)}})("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this);
(function(k){var e=k.Uint8Array,d=(k=k.HTMLCanvasElement)&&k.prototype,a=/\s*;\s*base64\s*(?:;|$)/i,h="toDataURL",g;e&&(g=new e([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]));k&&!d.toBlob&&(d.toBlob=function(d,b){b||(b="image/png");if(this.mozGetAsFile)d(this.mozGetAsFile("canvas",b));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(b))d(this.msToBlob());
else{var c=Array.prototype.slice.call(arguments,1),f=this[h].apply(this,c),w=f.indexOf(","),c=f.substring(w+1),f=a.test(f.substring(0,w)),r;if(Blob.fake)r=new Blob,r.encoding=f?"base64":"URI",r.data=c,r.size=c.length;else if(e)if(f){r=Blob;for(var f=c.length,w=new e(f/4*3|0),y=0,u=0,s=[0,0],l=0,p=0,t,x;f--;)x=c.charCodeAt(y++),t=g[x-43],255!==t&&void 0!==t&&(s[1]=s[0],s[0]=x,p=p<<6|t,l++,4===l&&(w[u++]=p>>>16,61!==s[1]&&(w[u++]=p>>>8),61!==s[0]&&(w[u++]=p),l=0));r=new r([w],{type:b})}else r=new Blob([decodeURIComponent(c)],
{type:b});d(r)}},d.toBlobHD=d.toDataURLHD?function(){h="toDataURLHD";var a=this.toBlob();h="toDataURL";return a}:d.toBlob);k&&!d.toBlobURL&&(d.toBlobURL=function(a){a=a||function(a){console.log("no callback",a)};this.toBlob(function(b){a(URL.createObjectURL(b))})})})("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content||this);document.createElementNS||(document.createElementNS=function(k,e){return document.createElement(e)});
if(!window.chrome||!window.chrome.fileSystem){var saveAs=saveAs||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(k){if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=k.document,d=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in d,h=function(a){var b=e.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,k,0,0,0,0,0,!1,!1,!1,!1,0,null);a.dispatchEvent(b)},g=k.webkitRequestFileSystem,
m=k.requestFileSystem||g||k.mozRequestFileSystem,b=function(a){(k.setImmediate||k.setTimeout)(function(){throw a;},0)},c=0,f=function(a){var b=function(){"string"===typeof a?(k.URL||k.webkitURL||k).revokeObjectURL(a):a.remove()};k.chrome?b():setTimeout(b,500)},w=function(a,c,d){c=[].concat(c);for(var f=c.length;f--;){var t=a["on"+c[f]];if("function"===typeof t)try{t.call(a,d||a)}catch(x){b(x)}}},r=function(b,s){var l=this,p=b.type,t=!1,x,q,v=function(){w(l,["writestart","progress","write","writeend"])},
r=function(){if(t||!x)x=(k.URL||k.webkitURL||k).createObjectURL(b);q?q.location.href=x:void 0==k.open(x,"_blank")&&"undefined"!==typeof safari&&(k.location.href=x);l.readyState=l.DONE;v();f(x)},e=function(a){return function(){if(l.readyState!==l.DONE)return a.apply(this,arguments)}},y={create:!0,exclusive:!1},D;l.readyState=l.INIT;s||(s="download");if(a)x=(k.URL||k.webkitURL||k).createObjectURL(b),d.href=x,d.download=s,h(d),l.readyState=l.DONE,v(),f(x);else{k.chrome&&p&&"application/octet-stream"!==
p&&(D=b.slice||b.webkitSlice,b=D.call(b,0,b.size,"application/octet-stream"),t=!0);g&&"download"!==s&&(s+=".download");if("application/octet-stream"===p||g)q=k;m?(c+=b.size,m(k.TEMPORARY,c,e(function(a){a.root.getDirectory("saved",y,e(function(a){var c=function(){a.getFile(s,y,e(function(a){a.createWriter(e(function(c){c.onwriteend=function(b){q.location.href=a.toURL();l.readyState=l.DONE;w(l,"writeend",b);f(a)};c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&r()};["writestart","progress",
"write","abort"].forEach(function(a){c["on"+a]=l["on"+a]});c.write(b);l.abort=function(){c.abort();l.readyState=l.DONE};l.readyState=l.WRITING}),r)}),r)};a.getFile(s,{create:!1},e(function(a){a.remove();c()}),e(function(a){a.code===a.NOT_FOUND_ERR?c():r()}))}),r)}),r)):r()}},y=r.prototype;y.abort=function(){this.readyState=this.DONE;w(this,"abort")};y.readyState=y.INIT=0;y.WRITING=1;y.DONE=2;y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null;return function(a,b){return new r(a,
b)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs})}"undefined"===typeof sketch&&(sketch={});"undefined"===typeof sk&&(sk=sketch);
(function(k){k.module=k.module||{};k.module.Namespace=function(e){var d=e.util;sk=e;e.__server=!1;e.__version="3.7.4";"{{"===e.__version.substr(0,2)&&(e.__version="3.7.3dev");e.doc=e.doc||{};e.doc.selection=e.doc.selection||{};e.doc.render=e.doc.render||{};e.docs=e.docs||{};e.api=e.api||{};e.dom=e.dom||{};e.module=e.module||{};e.events=e.events||{};e.fs=e.fs||{};e.gen=e.gen||{};e.io=e.io||{};e.lang=e.lang||{};e.lib=e.lib||{};e.loc=e.loc||{};e.net=e.net||{};e.net.userId="U";e.net.userColor="blue";
e.sidebar=e.sidebar||{};e.server=e.server||{};e.setup=e.setup||{};e.client=e.client||{io:{}};e.ui=e.ui||{};e.ui.menu=e.ui.menu||{};e.ui.colorPicker=e.ui.colorPicker||{};e.ui.icons=e.ui.icons||{};e.ui.contextMenu=e.ui.contextMenu||{};e.client=e.client||{};e.vector=e.vector||{};e.windows=e.windows||{};(function(){var a=e.feature={};a.debug=!1;a.debugCache=!1;a.debugRender=!1;a.animate=!1;a.kiosk=!1;a.defaultSketch="new";a.lang="auto";a.prefix="sketch";a.theme="light";a.cache257=!1;a.cache2D=!0;a.cache2DPadding=
2;a.cacheSVG=!0;a.doc={};a.doc.bounds={};a.doc.clip={};a.doc.description="made with https://sketch.io/";a.doc.format="json";a.doc.title="My Drawing";a.doc.units="%";a.doc.width=100;a.doc.height=100;a.doc.x=0;a.doc.y=0;a.doc.background="#fff";a.doc.dpi=72;a.doc.centerOnLoad=!0;a.doc.centerOnResize=!0;a.doc.gestureTransform=!1;a.doc.gestureScroll=!1;a.doc.gestureZoom=!1;a.tools={};a.tools.defaultTool="pen";a.tools.defaults={};a.tools.defaults.addByClick=!0;a.tools.defaults.addByDrag=!0;a.tools.defaults.constrainToCanvas=
!1;a.tools.defaults.drawBBox=!0;a.tools.defaults.defaultHeight=100;a.tools.defaults.defaultWidth=100;a.tools.defaults.maxHeight=16384;a.tools.defaults.maxWidth=16384;a.tools.defaults.minHeight=3;a.tools.defaults.minWidth=3;a.tools.defaults.units="objectBoundingBox";a.tools.defaults.flippable=!0;a.tools.defaults.movable=!0;a.tools.defaults.rotatable=!0;a.tools.defaults.scalable=!0;a.tools.defaults.usePointInBBox=!0;a.tools.defaults.usePointInImageData=!1;a.tools.defaults.usePointInPath=!1;a.tools.defaults.usePointNearest=
!0;a.tools.defaults.controls={};a.tools.defaults.controls.anchor=void 0;a.tools.defaults.controls.spinner=void 0;a.tools.defaults.controls.n=void 0;a.tools.defaults.controls.s=void 0;a.tools.defaults.controls.e=void 0;a.tools.defaults.controls.w=void 0;a.tools.defaults.controls.ne=void 0;a.tools.defaults.controls.se=void 0;a.tools.defaults.controls.sw=void 0;a.tools.defaults.controls.nw=void 0;a.tools.defaults.controls.mouse={};a.tools.defaults.controls.mouse.width=14;a.tools.defaults.controls.mouse.height=
14;a.tools.defaults.controls.mouse.padding=0;a.tools.defaults.controls.touch={};a.tools.defaults.controls.touch.width=24;a.tools.defaults.controls.touch.height=24;a.tools.defaults.controls.touch.padding=0;a.tools.select={};a.tools.select.useConfigure=!0;a.tools.select.clickToDeselect=!0;a.too;a.tools.text={};a.tools.text.autoHeight=!0;a.tools.text.clip=!1;a.tools.text.defaultHeight=100;a.tools.text.defaultWidth=300;a.tools.text.minHeight=15;a.tools.text.minWidth=15;a.tools.text.useHTML=!1;a.tools.text.useCanvasRender=
!1;a.tools.text.useSearch="text";a.tools.media={};a.tools.media.useSearch="no";a.tools.vectorfill={};a.tools.vectorfill.fillArea="point";a.tools.vectorfill.fillMode=!1;a.tools.pointer={};a.tools.pointer.vibrate=!1;a.tools.brush={};a.tools.camera={};a.tools.crop={};a.tools.group={};a.tools.screenshot={};a.tools.shape={};a.tools.zoom={};a.canvas={};a.canvas.clip=!0;a.canvas.containerScale=!1;a.canvas.drawCenterPoint=!0;a.canvas.glfx=!1;a.canvas.useBGRender=!1;a.canvas.useBGSave=!0;a.canvas.useGroupBBox=
!1;a.canvas.usePixelRatio=!1;a.canvas.usePixelRatioDesktop=!1;a.zoom={};a.zoom.defaultValue=1;a.zoom.fromCenter=!0;a.zoom.increment=.1;a.zoom.max=100;a.zoom.min=.25;a.zoom.value=1;a.vector={};a.vector.edit=!0;a.vector.record=!0;a.ui={};a.ui.addToLibrary=!0;a.ui.bruteForce=!0;a.ui.cursors=!1;a.ui.scrollerAtopColor="#fff";a.ui.scrollerCategories=!0;a.ui.scrollerShadow=!1;a.ui.dynamicCursor=!1;a.ui.customRangeBar=!1;a.ui.quickSelect=!1;a.ui.tooltips=!0;a.ui.subtool="list";a.beforeUnloadPrompt=!1;a.preventScroll=
!1;a.preventTouch=!1;a.requireAuth=!1;a.pane={};a.pane.tabs=!1;a.pane.position=void 0;a.pane.header=!0;a.io={};a.io.exportDrop=!1;a.io.filePickerIO=!1;a.io.defaultProject=!1;a.io.translateX=0;a.io.translateY=0;a.palette={};a.palette.hexInput=!1;a.palette.closeButton=!1;a.palette.colorPicker=!1;a.palette.eyeDropper=!1;a.palette.grid=!1;a.palette.header="";a.palette.version=2;a.palette.buildInstant=!1;a.style={};a.style.toGlobalOnSelect=!0;a.style.fromGlobalStyleOnSetTool=!1;a.style.fromGlobalBlendOnSetTool=
!1;a.style.blend=!1;a.style.composite=!1;a.style.defaultFillType="color";a.style.defaultStrokeType="color";a.style.color="#000";a.style.gradient=!1;a.style.pattern=!1;a.style.colorMode=!1;a.style.colorNoise=!1;a.style.lineJoin=!1;a.placement={};a.placement.mediaClick=!1;a.placement.mediaDblClick=!1;a.placement.mediaDrag=!1;a.history={};a.history.autoSelect=!1;a.history.bitmap=!1;a.history.limit=!1;a.history.vector=!1;a.sync={};a.sync.image=!1;a.sync.json=!1;a.sync.svg=!1;a.sync.thumb=!1;a.sync.zip=
!1;a.sync.maxAssetSize=0;a.sync.maxFileSize=0;a.sync.useDefaultFormat=!1;a.sync.enabled=!1;a.sync.hashId=!1;a.sync.hashFlag="sketch";a.stream={};a.stream.api="RTCDataChannel";a.stream.audio=!1;a.stream.maxFileSize=0;a.stream.realtime=!1;a.stream.sketch=!1;a.stream.syncServer=!1;a.stream.spectrumAnalysis=!1;a.stream.text=!1;a.stream.video=!1;a.stream.videoAtop=!1;a.session={};a.session.path="";a.session.sessionId="";a.session.userId="";a.session.userName="";a.social={};a.social.autoLogout=!1;a.social.autoLogoutTimeout=
!1;a.social.setCookie=!0})();(function(){var a=e.attrs={},h=function(a){for(var b={},c=0,d;c<a.length;c++)if(d=a[c]){var g=d[0].toLowerCase()+d.substr(1);b[g]=d}return b},g=function(a,b){b=h(b);(e.attrs[a]=function(c){var d=this;(this.setValue=function(c){if("undefined"!==typeof c){if("string"===typeof c){var g=b,e=document.createElement("span").style;e[a]=c;for(var h in g)c=e[a+g[h]],""!==c&&"initial"!==c&&(d[h]=c)}else for(g in b)"undefined"!==typeof c[g]&&(d[g]=c[g]);return d}})(c)}).type=a};g("background",
"Color Image Repeat Attachment Position Clip Origin Size".split(" "));g("border","Width Style Color Radius ImageSource ImageSlice ImageWidth ImageOutset ImageRepeat".split(" "));g("padding",["Top","Left","Bottom","Right"]);g("margin",["Top","Left","Bottom","Right"]);a.create=function(d,b){return a[d]?new a[d](b):b};a.update=function(d,b,c){return c&&c.setValue?c.setValue(b):a.create(d,b)};a.__basicObject={id:"string",bbox:"bbox",composite:"string",groupId:"string",meta:"string",opacity:"number",pointerId:"string",
seed:"number",timestamp:"number",toolkitId:"string",type:"string",visible:"boolean"};a.__styledObject=d.copyInto(a.__basicObject,{filter:"filter",fill:"style",stroke:"style",border:"border",background:"background",margin:"margin",padding:"padding"});a.__rules={exportable:"boolean",movable:"boolean",rotatable:"boolean",scalable:"boolean",selectable:"boolean",useAlignX:"string",useAlignY:"string",useBackgroundOverlay:"boolean",useConstrain:"boolean",useConstrainX:"boolean",useConstrainY:"boolean",useControlNE:"boolean",
useControlNW:"boolean",useControlSE:"boolean",useControlSW:"boolean",useHighRes:"boolean",useMaxCopies:"number",useMaxHeight:"number",useMaxWidth:"number",useMinHeight:"number",useMinWidth:"number",usePixelData:"boolean",useStickToBack:"boolean",useStickToFront:"boolean",useStretchToEdge:"boolean",useStretchToFit:"boolean"}})()};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Namespace)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Document=function(e){var d="undefined"===typeof window?{}:window,a=this,h=e.client,g=e.dom,m=e.feature,b=e.style,c=e.ui,f=e.util;a.idx=e.module.Document.idx++;a.__editing=!1;a.__interacting=!1;a.__lastSynchronized=0;a.__lastModified=0;a.__preloading=!1;a.__rendering=!1;a.defaultTool="select";a.tool={};a.config={};a.selection={};e.module.Listener&&e.module.Listener(a);e.docs[a.idx]=a;var w=a.contexts={layer0:"z-index: 0;",draw:"z-index: 1;",active:"z-index: 2;",
cache:"display: none;"},r=a.canvas2d={x:0,y:0,width:0,height:0,orientX:0,orientY:0};a.container=d.document;a.format="json";a.title=m.doc.title;a.description=m.doc.description;a.uuid=f.uuid();a.dpi=72;a.pixelRatio=d.devicePixelRatio||1;a.zoom=1;a.units="%";a.x=0;a.y=0;a.width=100;a.height=100;a.scrollLeft=0;a.scrollTop=0;a.pages={};a.pages.length=1;a.pages.data=[{width:a.width,height:a.height}];a.bounds={width:0,height:0};a.viewport={width:0,height:0,clip:{}};a.clip={};b&&(a.setFont=b.setFont,a.setFill=
b.setFill,a.setStroke=b.setStroke);a.getBounds=function(b){b=b||{};b.dpi=b.dpi||72;b.scale=b.scale||1;var c=a.getViewport(),d=a.bounds;"%"===a.units?(d.width=(a.width||100)/100*c.width,d.height=(a.height||100)/100*c.height):(d.width=a.width,d.height=a.height);b=b.dpi/72*b.scale;d.width=Math.ceil(d.width*b);d.height=Math.ceil(d.height*b);d.x=a.x;d.y=a.y;return d};a.getViewport=function(){var b=g.measure(a.scrollElement),c=a.viewport;c.width=Math.round(b.width/b.scaleX);c.height=Math.round(b.height/
b.scaleY);return c};a.setMetrics=function(b){a.x=isFinite(b.x)?b.x:a.x||0;a.y=isFinite(b.y)?b.y:a.y||0;a.setSize(b.width||a.width,b.height||a.height,b.units||a.units,b.dpi||a.dpi);a.scrollTo({left:b.scrollLeft||a.scrollLeft,top:b.scrollTop||a.scrollTop,duration:0});a.orient.reset();a.orient.setZoom(b.zoom||1)};a.getMetrics=function(){var b={};b.units=a.units;b.x=a.x;b.y=a.y;b.width=a.width;b.height=a.height;b.scrollLeft=a.scrollLeft;b.scrollTop=a.scrollTop;b.zoom=a.zoom;return b};a.setAttributes=
function(b){a.mixinAttributes(b,a)};(function(){var b={uuid:"string",title:"string",description:"string",background:{string:!0,object:!0},format:"string",units:"string",dpi:"number",x:"number",y:"number",width:"number",height:"number",pages:"object",clip:"object"};a.mixinAttributes=function(a,c){if("object"===typeof a){for(var d in a){var f=typeof a[d],q=b[d];q&&(f===q||q[f])&&(c[d]=a[d])}a.width&&a.height&&c.pages&&1===c.pages.length&&(d=c.pages.data[0],d.width=a.width,d.height=a.height);return c}}})();
a.focus=function(){e.doc=a;a.focusEditable.focus()};a.setPixelRatio=function(b){y(b)&&(a.setCanvasSize(),a.orient.reset(),a.orient.render("root.setPixelRatio"))};var y=function(b){if(a.pixelRatio!==b)return a.pixelRatio=b||1,a.scene.setDirtyCache(a.scene.children),!0};a.setZoom=function(b){b===+b&&(a.orient.setZoom(b),a.orient.render())};a.setClip=function(b,c){b?b.path?a.setClipPath(b,c):a.setClipRect(b,c):(a.clip={},a.render.clipped=!1)};a.setClipRect=function(b,c){a.clip=b};a.setClipPath=function(b,
c){var d=new e.vector.Transform;d.scale(c,c);d.flatten(b.path);a.clip={};a.clip.path=b.path;a.clip.style=b.style};a.setPage=function(b,c){var d=a.pages;if(c)for(var f=0,g=a.scrollTop+a.viewport.height,q=0;q<d.data.length;q++)if(f+=d.data[q].height,g<=f){b=q+b;break}b=Math.min(d.length-1,Math.max(0,b));for(f=q=0;q<b;q++)f+=d.data[q].height;a.scrollTo({top:f,duration:0})};a.addPage=function(b){b.width&&b.height&&(a.pages.length++,a.pages.data.push({width:b.width,height:b.height}),a.setSize(a.width,
a.height+b.height),a.scrollElementCSS())};a.removePage=function(b){isFinite(b)&&a.pages.data[b]&&(b=a.pages.data.splice(b,1)[0])&&(a.pages.length--,a.setSize(a.width,a.height-b.height),a.scrollElementCSS())};a.scrollTo=function(b,c,d){var f;"object"===typeof b&&(f=b,b=f.left,c=f.top,d=f.duration,f=f.relative);g.scrollTo({target:a.scrollElement,top:c,left:b,duration:d,relative:f})};a.scrollReset=function(){var b=a.scrollElement;b.scrollTop=0;b.scrollLeft=0;a.scrollTop=0;a.scrollLeft=0};a.scrollElementCSS=
function(){var b=a.pixelRatio,c=a.scrollLeft,d=a.scrollTop,f=a.orient.scale,g=a.orient.getValues(),q=a.setBounds(),v=a.styleElement.style;v.width=f*q.width+"px";v.height=f*q.height+"px";v.left=(g.x+c*(1-f))/b+"px";v.top=(g.y+d*(1-f))/b+"px";b=a.scrollElement;b.scrollTop>a.height-a.viewport.height&&(b.scrollTop=a.height-a.viewport.height);u()};a.setBounds=function(b,c){var d=a.zoom,f=a.container,x=a.getBounds();b=b||x.width;c=c||x.height;b&&c||(x=g.measure(f),b=x.width,c=x.height);var d=Math.max(1,
d),x=a.getViewport(),q=Math.max(x.width,b),v=Math.max(x.height,c),q=q*d,d=v*d;"%"!==a.units&&(m.canvas.containerScale?(v=Math.min(q,x.width),x=Math.min(d,x.height)):(v=q,x=d),f.style.width=v+"px",f.style.height=x+"px");return{targetWidth:q,targetHeight:d,width:b,height:c}};a.setContainer=function(b){var c="string"===typeof b?b:b.container||document.body;"string"===typeof c&&(c=document.querySelector(c));var d=c.classList.contains("sk-canvas-content"),f=c.classList.contains("sk-canvas");c.querySelector(".sk-canvas")||
d||f||(d=c,f=g.create('<div class="sk-viewport"></div>'),c=g.create('<div class="sk-canvas"></div>'),f.appendChild(c),d.appendChild(f));eventjs.add(c,"click",function(b){e.setDocument(a.idx)});d=c.querySelector(".sk-dummy-canvas");d||(d=document.createElement("div"),d.className="sk-dummy-canvas",d.setAttribute("data-pid",a.idx),h.mobile||(d.contentEditable=!0),c.appendChild(d));a.focusEditable=d;a.focusElement=b.focusElement||d;a.styleElement=d;a.scrollElement=b.scrollElement||c.parentNode||c;return a.container=
c};(function(){var c,d;a.setBackground=function(v,w,m){if(v)if(c=w||v.onload,d=m||v.onerror,v.type)switch(v=b.clone(v),v.type){case "color":g(v.color);break;case "gradient":x(v);break;case "pattern":r(v.pattern,v)}else{if(v.crop){var h=a.bounds;return f.thumbnailer({src:v.src,crop:v.crop||"fit",center:v.center||!1,width:v.width||h.width,height:v.height||h.height,onload:function(a){r(a.toDataURL(),v)}})}h=v.src||v;switch(h){case "none":break;case "blank":return g("white","light");case "white":return g("white",
"light");case "black":return g("black","dark");case "grid":return t(e.gen.grid,"grid","light");case "graphPaper":return t(e.gen.grid,"graphPaper","light");case "blueprint":return t(e.gen.grid,"blueprint","light");case "notebook":return t(e.gen.paper,"notebook","light");case "looseLeaf":return t(e.gen.paper,"looseLeaf","light");case "lined":return t(e.gen.paper,"lined","dark");case "transparent":return t(e.gen.interlace,"transparent","light");case "transparentDark":return t(e.gen.interlace,"transparentDark",
"dark");default:var u=b.validate(h);"color"===u?g(h,"light"):"pattern"===u||0===h.indexOf("url(")?(u=h.match(/url\(([^<]+)\)/),r((u&&u[1]?u[1]:h).replace(/['']/g,""))):q(h)}}else console.warn("setBackground invalid opts",arguments)};var g=function(a,b){m.theme=b;w(a,a,a);c&&c()},t=function(a,b,d){m.theme=d;a(b,function(a){w(b,a.css,a);c&&c()})},x=function(a){var d=a.angle,f=a.mode,q=b.getColorStopsHelper({dna:a[a.type],noise:a.noise}),d=b.toCSSGradient({stops:b.toCSSColorStops(q),type:f,angle:d});
w(a,d,v(f,q,a));c&&c()},q=function(a){-1===a.indexOf("gradient")&&(a=b.toCSSGradient({dna:a,type:"linear",angle:"0deg"}));var f=b.parseCSSGradient(a).stops;f?(w(a,a,v("linear",f)),c&&c()):d&&d()},v=function(c,d,f){var q=a.bounds;return b.createGradient(null,c,0,0,q.width,q.height,d,f)},r=function(a,f){var q=e.loc.getMediaUrl(a);e.convert.fileToPattern(q,function(d){b.loadPattern(a);w(f||a,"url("+q+")",d);u();c&&c()},d)},w=function(b,c,d){a.background=b;a.backgroundRaw=d;b=a.styleElement.style;b.background!==
c&&(m.canvas.useBGRender?(a.render.dirtyControls=!0,a.render.scene("doc.setBackground")):b.background=c)}})();var u=function(){var b=a.backgroundRaw;if(b&&b.canvas){var c=a.orient.scale,b=b.canvas;a.styleElement.style.backgroundSize=b.width*c+"px "+b.height*c+"px"}};a.setSize=function(b,c,d,f){b||c?"%"===d?(a.dpi=f||72,a.width=b,a.height=c,a.units="%"):(a.dpi=f||72,a.width=b,a.height=c,a.units="px"):(a.dpi=72,a.width=100,a.height=100,a.units="%");a.setCanvasSize()};a.setCanvasSize=function(b,c){a.render.clipped=
!1;var g=a.container,t=g.parentNode;t.style.overflow="auto";m.canvas.usePixelRatioDesktop&&!h.mobile?y(d.devicePixelRatio):m.canvas.usePixelRatio&&y(d.devicePixelRatio);"%"===a.units&&(g.style.width=t.style.width=g.style.height=t.style.height="100%",t.scrollTop=0);var x=a.getViewport(),q=x.width,x=x.height,v=a.setBounds(b,c);if("%"===a.units)t.style.overflow="hidden";else{var e=v.targetWidth<=q,u=v.targetHeight<=x;t.style.overflowX=e?"visible":"auto";t.style.overflowY=u?"visible":"auto";e&&u&&a.scrollReset()}m.canvas.containerScale&&
!a.render.toExport?(b=Math.min(v.targetWidth,q),c=Math.min(v.targetHeight,x)):(b=v.targetWidth,c=v.targetHeight,t.scrollTop=0);r.width=b;r.height=c;if(t=!m.vector.edit&&w.cache)w.cache.width=b,w.cache.height=c,w.cache.ctx.drawImage(w.layer0,0,0);var q=a.pixelRatio,J;for(J in w)x="cache"===J,t&&x||(v=w[J],"string"===typeof v&&(v=f.Canvas(1,1),v.style.cssText=w[J]),v.width=b*q,v.height=c*q,v.className="layer-"+J,w[J]=v,x||(v.style.width=r.width+"px",v.style.height=r.height+"px",g.appendChild(v)));t&&
(g=w.layer0,t=g.ctx,f.Canvas.resize(g,b,c),t.drawImage(w.cache,0,0),g=w.cache,f.Canvas.resize(g,b,c));if(g=a.scene&&a.scene.children){t=a.selection.items;for(J in t)if(t=g[J])t.dirtyControl=!0;a.scene.setDirtyBounds(a.scene.children)}};a.setTool=function(d,l,g){void 0===d&&(d={type:a.defaultTool});"string"===typeof d&&(d={type:d});var t=d.type;l=d.onsuccess||l;g=d.onerror||g;if(a.tool.type===t)return l&&l();if(d=a.toolkit.getConfig(t)){var x=a.scene;"select"===t?m.vector.edit&&x.setDirtyControl():
x.selection.length&&x.deselectAll();a.render.dirty=!0;a.render.dirtyActiveContext=!0;a.render.dirtyControls=!0;c.setToolMenu&&c.setToolMenu(t);m.style.fromGlobalStyleOnSetTool&&b.cloneToObject(d);m.style.fromGlobalBlendOnSetTool&&b.setComposite(b.composite,d.type);d=(d=d.composite)&&d.selected||d;b.isGCO(d)?b.composite=d:b.composite="source-over";a.toolkit.setTool({type:t,onerror:g,onsuccess:function(){c.configureBuild&&c.configureBuild(t);a.saveSettings();l&&l()}});f.setItem("tool.type",t)}};a.reset=
function(){a.scrollReset();a.orient.reset();a.scene.reset();a.history.reset();e.on.reset&&e.on.reset()};a.resetCache=function(){e.assets.reset();e.vector.SVG.resetCache();a.render.cache.reset()};a.destroy=function(){delete e.docs[a.idx];a.keyboard&&a.keyboard.disable();a.tool&&a.tool.disable();c.scrollers&&(c.scrollers={});eventjs.removeEvents(e.events)};a.saveSettings=function(){var b=a.config[a.tool.type];b&&(b=a.scene.stringify(b),f.setItem("tool.config",b))};a.restoreSettings=function(c){var d=
a.toolkit;f.getItems(["tool.config"],function(a){try{var f=a["tool.config"],g=f.type,q=d.getConfig(g);d.setConfigureValues(f,q);b.cloneToGlobal(f)}catch(v){g=m.tools.defaultTool,q=d.getConfig(g)}e.exec(g,function(){f&&b.setComposite(f.composite);c&&c()},function(a){console.warn(g,a)})})};a.needsSync=function(){return a.__lastSynchronized!==a.__lastModified};"undefined"!==typeof Stats&&(a.stats=new Stats,a.stats.setMode(1),a.stats.domElement.style.zIndex=99999,a.stats.domElement.style.position="absolute",
a.stats.domElement.style.bottom="0px",a.stats.domElement.style.left="0px",document.body.appendChild(a.stats.domElement))};k.module.Document.idx=0;"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Document)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Exec=function(e){var d,a,h,g=e.lang,m=e.util,b=e.vector;e.exec=function(b,c,g){d=e.doc;a=d.scene;h=d.toolkit;if(b){if(f[b])return f[b].apply(null,Array.prototype.slice.call(arguments));d.setTool({type:b,onsuccess:c,onerror:g})}else return console.warn("missing trigger",arguments)};e.exec.register=function(a,b){a.indexOf&&(-1!==a.indexOf(" ")?a=a.split(" "):-1!==a.indexOf(",")&&(a=a.split(",")));if("object"===typeof a)for(var c=0;c<a.length;c++)f[a[c]]=b;
else f[a]=b};e.exec.unregister=function(a){delete f[a]};var c=function(b,c,f){eventjs.shiftKey&&(b*=10,c*=10);f?0!==d.selection.length&&(a.copy(),a.paste(),a.selection.translate(b,c)):(d.keyboard&&(d.keyboard.pressed[37]||d.selection.translate(0,0,{method:"cache"})),d.selection.translate(b,c,{method:"move"}),d.render.dirty=!0,d.render.dirtyControls=!0)},f={"layer-download":function(b,c,f){b=!1;if(1===d.selection.length)for(var g in d.selection.items)(c=a.children[g])&&c.src&&"image"===c.type&&(b=
!0,e.assets.getBlob(c.src,function(a,b){var c=b.replace("#asset-","")+".png";e.download.blob(a,c)}));b||e.download.image({filename:d.title+"-layerExport",useSelection:!0})},"layer-move-left":function(a,b,d){c(-(b||1),0)},"layer-move-up":function(a,b,d){c(0,-(b||1))},"layer-move-right":function(a,b,d){c(b||1,0)},"layer-move-down":function(a,b,d){c(0,b||1)},"layer-clone-left":function(a,b,d){c(-(b||1),0,!0)},"layer-clone-up":function(a,b,d){c(0,-(b||1),!0)},"layer-clone-right":function(a,b,d){c(b||
1,0,!0)},"layer-clone-down":function(a,b,d){c(0,b||1,!0)},"debug-action":function(b,c,f){b=c||d.selection.items;for(var g in b)b=a.children[g],void 0!==b&&(console.log("id:",b.id,"idx:",b.zIndex,"type:",b.type),console.log("object:",b),console.log("bbox:",b.bbox))},render:function(){d.render.dirty=!0;d.render.dirtyControls=!0},"zoom-in":function(b,c,f){d.render.dirtyControls=!0;d.orient.controllerZoomIn();a.setDirtyBounds(a.children)},"zoom-out":function(b,c,f){d.render.dirtyControls=!0;d.orient.controllerZoomOut();
a.setDirtyBounds(a.children)},"zoom-reset":function(b,c,f){d.render.dirtyControls=!0;d.orient.controllerReset();a.setDirtyBounds(a.children)},"layer-to-stamp":function(a,b,c){e.assets.addStampFromSelection()},"layer-merge":function(a,b,c){e.assets.addCloneFromSelection()},"layer-group":function(b,c,f){b="group"+Math.round(999999*Math.random());for(var g in d.selection.items)if(c=a.children[g])c.groupId=b},"path-merge":function(c,f,g){b.mergeLayers();c=a.getSelection();a.removeSelection();if(c=b.mergeLayers(c))c.dirtyCheck=
!0,d.history.store({cmd:"add",icon:"merge",name:"merge-objects",data:[c]}),a.push(c),a.sort(),a.reindex(),d.render.dirty=!0,d.render.dirtyControls=!0},"layer-forwards":function(b,c,f){a.sendForwards&&d.selection.length&&(a.sendForwards({record:!0}),d.render.dirty=!0,d.render.dirtyControls=!0)},"layer-to-front":function(b,c,f){a.sendForwards&&d.selection.length&&(a.sendForwards({record:!0,toFront:!0}),d.render.dirty=!0,d.render.dirtyControls=!0)},"layer-backwards":function(b,c,f){a.sendBackwards&&
d.selection.length&&(a.sendBackwards({record:!0}),d.render.dirty=!0,d.render.dirtyControls=!0)},"layer-to-back":function(b,c,f){a.sendBackwards&&d.selection.length&&(a.sendBackwards({record:!0,toBack:!0}),d.render.dirty=!0,d.render.dirtyControls=!0)},"layer-delete":function(b,c,f){d.selection.length&&(a.removeSelection(),d.render.dirty=!0,d.render.dirtyControls=!0,e.ui.configureBuild())},"layer-copy":function(b,c,f){a.copy&&d.selection.length&&(a.copy(),a.setDirtyControl(),d.render.dirty=!0,d.render.dirtyControls=
!0)},"layer-cut":function(b,c,f){a.cut&&d.selection.length&&(a.cut(),d.render.dirty=!0,d.render.dirtyControls=!0,e.ui.configureBuild())},"layer-paste":function(b,c,f){a.paste&&a.paste(function(){d.render.dirty=!0;d.render.dirtyControls=!0;d.setTool("select")})},"layer-duplicate":function(b,c,f){a.duplicate&&(a.duplicate(),d.render.dirty=!0,d.render.dirtyControls=!0)},"select-all":function(b,c,f){e.exec("select",function(){a.selectAll();d.render.dirty=!0;d.render.dirtyControls=!0})},"select-inverse":function(b,
c,f){e.exec("select",function(){a.selectInverse();d.render.dirty=!0;d.render.dirtyControls=!0})},"deselect-all":function(b,c,f){a.deselectAll();d.render.dirty=!0;d.render.dirtyControls=!0},undo:function(a,b,c){d.history.undo();d.render.dirtyControls=!0},redo:function(a,b,c){d.history.redo();d.render.dirtyControls=!0},print:function(a,b,c){e.print()},save:function(a,b,c){e.download.image()},"save-server":function(a,b,c){e.server.save()},"save-image":function(a,b,c){e.download.image()},"save-gif":function(a,
b,c){e.download.image("gif")},"save-jpeg":function(a,b,c){e.download.image("jpeg",b,c)},"save-png":function(a,b,c){e.download.image("png",b,c)},"save-webp":function(a,b,c){e.download.image("webp",b,c)},"save-json":function(a,b,c){e.download.json()},"save-pdf":function(a,b,c){e.download.pdf()},"save-zip":function(a,b,c){e.download.zip()},camera:function(a,b,c){e.exec("take-snapshot")},"take-snapshot":function(a,b,c){a=m.camera;a.capture&&!a.capturing&&(c=e.rtc.getDefaultID(),e.rtc.videos[c]?a.capture(null,
null,c,null,function(){"function"===typeof b&&b();e.exec("select")}):e.module.RTC(e,d,function(){e.exec("take-snapshot",function(){e.rtc.pause()})}))},reset:function(a,b,c){m.Canvas.clear(d.contexts.layer0);d.render.clipped=!1;d.reset()},"new":function(a,b,c){e.exec("reset");d.uuid=m.uuid();d.history.store({cmd:"new",name:"new",data:[]});e.fs.touch&&e.fs.touch(d.uuid)},"new-confirm":function(a,b,c,d){e.save.confirm({oncontinue:function(){e.exec("new");e.ui.log(g.translate("new-doc-created"));b&&b()},
onrequestsave:function(){e.save.fromQuery()},oncancel:function(){d&&d()}})},configure:function(a,b,c){a=e.ui.fullpath;e.ui.setPane("configure");"configure"!==a&&!1!==e.sidebar.opened||sidebar.toggle()},layers:function(a,b,c){a=e.ui.fullpath;e.ui.setPane("layers");"layers"!==a&&!1!==e.sidebar.opened||sidebar.toggle()},history:function(a,b,c){a=e.ui.fullpath;e.ui.setPane("history");"history"!==a&&!1!==e.sidebar.opened||sidebar.toggle()},menu:function(a,b,c){e.sidebar.toggle()},palette:function(a,b,
c){e.windows.toggle("#sk-palette")},"color-picker":function(a,b,c){e.windows.toggle("#sk-palette")},colorPalette:function(a,b,c){e.colorPalette.enabled?e.colorPalette.disable():e.colorPalette.enable()},screenshot:function(b,c,d){a.deselectAll();h.setTool("screenshot");e.ui.log(g.translate("screenshot-log"))}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.module,d=k.util;k.doc=void 0;k.docs={};k.setDocument=function(a){if(a=k.docs[a]){a.focusEditable.focus();if(a.idx===k.doc.idx)return a;var b=a.scene.clipboard;b&&b.loadCopies();return k.doc=a}return console.warn("document does not exist")};k.setFeature=function(a){var b=k.feature;a&&(d.copyInto(a,b),a=b.tools.defaults,b.tools.brush=d.copyInto(b.tools.brush,d.copy(a)),b.tools.media=d.copyInto(b.tools.media,d.copy(a)),b.tools.select=d.copyInto(b.tools.select,d.copy(a)),b.tools.shape=
d.copyInto(b.tools.shape,d.copy(a)),b.tools.text=d.copyInto(b.tools.text,d.copy(a)));return b};k.construct=function(b){if(!b)return console.warn("root.construct requires params");var f=b.onready||b.onReady,m=b.onsupport||b.onSupport;if(!k.__constructed&&(k.__constructed=!0,e.Namespace(k),k.client=new e.Supports(k),window.glfx&&glfx.loadFilters&&!glfx.presets.length))return glfx.loadFilters(function(){k.construct(b)});d.copyInto(b.icons||{},k.ui.icons);var r=k.setFeature(b.feature);k.loc.setHost(b.hosts);
k.style=new e.Style(k);var y=new e.Document(k);y.setAttributes(b.feature.doc);y.toolkit=new e.Toolkit(k,y);y.render=new e.SceneRender(k,y);y.config=new e.Configure(k,y);k.loc.search.debug&&(y.contexts.debug="");new e.GenerateMedia(k,y);new e.Library(k,y);new e.UI(k,y);new e.UICursor(k,y);y.on.sketchReady=function(a){"ready"!==a.__state&&(a.__state="ready",a.focus(),r.history.bitmap&&a.history.storeBitmap(),f&&setTimeout(function(){f(a);a.restoreSettings()},1))};d.each(["text","clipart","image","template",
"stamp"],k.lib.init);y.setContainer({container:b.container,focusElement:b.focusElement,scrollElement:b.scrollElement});!e.Convert||k.convert instanceof e.Convert||(k.convert=new e.Convert(k));e.Assets&&(k.assets=new e.Assets(k,y));e.Scene&&(y.scene=new e.Scene(k,y),y.hovered=y.scene.hovered,y.selection=y.scene.selection,e.AddMedia&&new e.AddMedia(k,y),e.AddObject&&(new e.AddObject(k,y),y.scene.add=y.addObject),e.SceneReplicate&&(e.SceneReplicate(k,y),y.scene.clipboard.enable()),e.SceneOrganize&&e.SceneOrganize(k,
y),e.ScenePlacement&&e.ScenePlacement(k,y),e.SceneFind&&e.SceneFind(k,y));e.History&&(y.history=new e.History(k,y));e.Controls&&new e.Controls(k,y);if(e.Theme){y.theme=new e.Theme(k,y);var u=r.tools,s=y.config,l=d.copy(u),p;for(p in s)d.exists("root.module.toolkit."+s[p].toolkit)&&(r[p]=d.copyInto(u[p]||r[p]||l,l))}a(r,y);k.lang.setLocale(r.lang||"auto",function(){k.client.fn.init(function(){k.loc.search.pixelRatio||(y.pixelRatio=k.client.pixelRatio);m&&m(y);setTimeout(function(){y.setCanvasSize();
window.EnableContextMenu&&!k.ui.contextMenu.create&&(k.ui.contextMenu.create=EnableContextMenu(document,window));h(k,y);k.setup.run(k,y);y.toolkit.setup();r.debug&&(document.body.style.overflow="auto");g(k,y);k.setupHistory.run(k,y);d.getItem("sync",function(a){y.setBackground(r.doc.background||"none");y.render.start();r.session.path=a;y.on.sketchReady(y)})},0)})})};var a=function(a,b){var d=k.loc.getSearch();d.zoom&&(b.zoom=parseFloat(d.zoom),delete d.zoom);d.pixelRatio&&(a.canvas.usePixelRatio=
!1,a.canvas.usePixelRatioDesktop=!1,b.pixelRatio=parseFloat(d.pixelRatio),d.pixelRatio=parseFloat(d.pixelRatio));for(var g in d){var e=d[g],m=typeof a[g];"undefined"!==m&&("string"===m?a[g]=e:"boolean"===m?a[g]="true"===e||!0===e:"number"===m&&isFinite(e=parseFloat(e))&&(a[g]=e))}},h=function(a,b){var g=a.feature,m=a.vector;e.ZIP&&!a.io.zip&&(a.io.zip=new e.ZIP(a));e.PDF&&!a.io.pdf&&(a.io.pdf=new e.PDF(a));e.SVG&&!a.io.svg&&(a.io.svg=new e.SVG(a));e.JSON&&!a.io.json&&(a.io.json=new e.JSON(a));e.GBR&&
!a.io.blobToGBR&&new e.GBR(a);e.ABR&&!a.io.blobToABR&&new e.ABR(a);e.Server&&(a.server=new e.Server(a,b));!e.FileSystem||a.fs instanceof e.FileSystem||(a.fs=new e.FileSystem(a));!e.Open||a.open instanceof e.Open||(a.open=new e.Open(a));!e.Save||a.save instanceof e.Save||(a.save=new e.Save(a));!e.Download||a.download instanceof e.Download||(a.download=new e.Download(a));e.Print&&!a.print&&(a.print=new e.Print(a));!e.UIPalette||a.palette instanceof e.UIPalette||(a.palette=new e.UIPalette(a,b));!e.UISidebar||
a.sidebar instanceof e.UISidebar||(g.pane.position?a.sidebar=new e.UISidebar(a,g.pane.position):console.warn("sidebar position not set"));!e.UITooltip||a.ui.tooltip instanceof e.UITooltip||a.client.mobile||!g.ui.tooltips||(a.ui.tooltip=new e.UITooltip(a));!e.UIVortex||a.vortex instanceof e.UIVortex||(a.vortex=new e.UIVortex(document.body));e.UIStartWindow&&new e.UIStartWindow(a,b);g.pane.tabs&&a.ui.UISidebarTabs();e.Keyboard&&!a.client.mobile&&(b.keyboard=new e.Keyboard(a,b),b.keyboard.enable());
e.ShareFest&&new e.ShareFest(a,b);e.SocketIO&&new e.SocketIO(a,b);e.Peer&&new e.Peer(a,b);e.PeerTest&&new e.PeerTest(a,b);e.Replay&&(b.replay=new e.Replay(a,b));a.net.Swarm&&a.net.Users&&(a.net.swarm=new a.net.Swarm,a.net.users=new a.net.Users);d.getScreenMetrics&&!d.toMetrics&&(d.toMetrics=d.getScreenMetrics());d.perf&&(a.perf=d.perf,a.p=a.perf());m.Shape&&(m.VOBPath=m.Shape.VOBPath);e.Document&&(a.Document=e.Document);e.Exec&&new e.Exec(a);e.GeneratePreview&&new e.GeneratePreview(a);e.GenerateMedia&&
new e.GenerateMedia(a,b);e.PathFinder&&new e.PathFinder(a,b);e.Camera&&(d.camera=new e.Camera(a,b));e.Orientation&&e.Orientation.createController(a,b);e.RTCManager&&(a.rtc=new e.RTCManager(a,b));d.loadImage&&a.loc.PROXY&&(d.loadImage.proxyUrl=a.loc.PROXY);e.Thumbnailer&&!d.thumbnailer&&(d.thumbnailer=e.Thumbnailer);a.ui.Loader&&!a.loader&&(a.loader=new a.ui.Loader);g.kiosk&&d.requestKioskMode()},g=function(a,f){var g=a.feature,e=f.toolkit,h,u=f.container,s=f.contexts.active;a.events.onResize=eventjs.add(window,
"resize",function(b){clearTimeout(h);h=setTimeout(function(){a.emit("beforeresize");f.setCanvasSize();g.doc.centerOnResize&&f.orient.reset(!0);f.render.dirtyControls=!0;f.render.scene("onResize");a.emit("resize",f.viewport);d.eventOverride("onResize",b)||"text"===f.tool.type&&e.text.updateCSS()},100)});eventjs.add(u.parentNode,"scroll",function(a){var b=f.container.parentNode,c=b.scrollTop,b=b.scrollLeft;f.scrollTop=c;f.scrollLeft=b;f.scrollElementCSS();f.render.clipped=!1;var g=f.contexts,q;for(q in g){var v=
g[q];v.style.left=b+"px";v.style.top=c+"px"}if(f.scene){c=f.scene.children;q=0;for(b=c.length;q<b;q++)g=c[q],g.dirtyTransform=!0,g.inbounds=void 0;e.text&&(g=f.selection.item)&&"text"===g.type&&e.text.updateCSSTransform();f.render.dirtyControls=!0;f.render.scene("container.onScroll");d.eventOverrideCall("onScroll",a)}});(function(){var b=function(){a.server.open()},d=a.loc.getSketchID();a.events.hashchange=eventjs.add(window,"hashchange",function(f){a.emit("hashchange",a.loc.getHash());f=a.loc.getSketchID();
if(d!==f){var g=d;d=f;a.save.confirm({oncontinue:b,onrequestsave:function(){a.save.fromQuery()},oncancel:function(){a.loc.setHash("sketch",g)}})}})})();a.ui.TSEvents.add();a.ui.setupStartWindow&&a.ui.setupStartWindow();a.windows.restore&&(a.events.onScroll=eventjs.add(window,"scroll",a.windows.restore));g.preventScroll&&!g.debugCache&&eventjs.add(u,"wheel",eventjs.stop);!1===a.client.chromeApp&&(a.events.onBeforeUnload=eventjs.add(window,"beforeunload",b));g.preventTouch&&a.client.mobile&&(a.events.onTouch=
eventjs.add(document,"touchstart",eventjs.prevent,{strict:!0}));eventjs.add(s,"contextmenu",eventjs.prevent);eventjs.add(s,"mouseup",function(){document.activeElement!==document.body&&document.activeElement&&document.activeElement.blur();a.windows.clearFocus&&eventjs.add(s,"mouseup",a.windows.clearFocus)});a.events.onFocus=eventjs.add(window,"focus",m);a.events.onBlur=eventjs.add(window,"load,blur",eventjs.keyTrackerReset)},m=function(a){eventjs.keyTrackerReset(a);(a=k.doc.clipboard)&&a.loadCopies()},
b=function(a){var b=k.feature.beforeUnloadPrompt;"function"===typeof b&&(b=b());if(b)return(a||window.event).returnValue=b};k.log=function(a){if("CANVAS"===a.nodeName){var b=a.toDataURL(),d=a.width,g=a.height;console.log("%c+","font-size: 1px; padding: "+Math.floor(g/2)+"px "+Math.floor(d/2)+"px; line-height: "+g+"px;background: url("+b+"); background-size: "+d+"px "+g+"px; color: transparent;",arguments)}else console.log(a)};e.Listener=function(a){var b=0,d={},g=function(a,c){if("function"===typeof c){var d=
c.sketchId||(c.sketchId=b++);return a+"."+d}console.warn(a,"listener does not exist")},e=function(a){return s[a]instanceof m?s[a]:s[a]=new m(a)},m=function(b){var f=d[b]||(d[b]={}),t=function(){for(var b in f)f[b].apply(a,arguments)};t.add=function(a,c){a=g(b,c);void 0===f[a]&&c&&(f[a]=c)};t.remove=function(a,c){a=g(b,c);f[a]&&c&&delete f[a]};return t},s=a.on=a.addListener=function(a,b){e(a).add(a,b)};a.removeListener=function(a,b){e(a).remove(a,b)};a.removeListeners=function(a){delete d[a];delete s[a]};
a.emit=function(){var b=Array.prototype.slice.call(arguments),f=b.shift();if(f=d[f])for(var g in f)f[g].apply(a,b)}};e.Listener(k)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.loc=k.loc||{},d=k.util;e.getHash=function(a){var d="?"+window.location.hash.substr(1),d=e.parseUri(d).queryKey;e.hash=d;return a?d[a]:d};e.getSearch=function(){var a=e.getQuery(window.location.search,"sk");return e.search=a};e.update=function(){e.getSearch();e.getHash()};e.parseQuery=function(a){a=a.split(";");for(var d={},g=0;g<a.length;g++)if(a[g]){var e=a[g].split(":");d[e[0]]=e[1]||!0}return d};e.getQuery=function(a,d){var g=e.parseUri(a).queryKey;return g=g[d]?e.parseQuery(g[d]):
{}};e.setHost=function(a){var h=k.fs.dbpath?k.fs.dbpath()||"":"",g=function(a){return"string"===typeof a?(a=a&&-1===a.indexOf("://")?u+a:a,m(a)):""},m=function(a){var b=a[a.length-1];return"="===b||"?"===b||"/"===b?a:a+"/"},b=function(){return y.host+d.string.dirpath(y.pathname)},c=function(){var a=m(b());e.host=a;e.protocol=y.protocol;e.HOST=g(a);e.MEDIA=e.HOST+"media/";e.PROXY=e.HOST+"proxy/?url=";e.GET=h;e.POST=h},f=function(a){a=a.split(":");return{host:a.shift(),port:a.shift()}},w=function(a,
c,t){t=f(t);c=f(c);for(var l in a)a[l].replace&&(a[l]=a[l].replace(c.host,t.host));(c=a.feature)&&d.copyInto(c,k.feature);c=m(a.pathWeb||a.HOST||b());e.host=c;e.protocol=y.protocol;e.IO=a.IO||"";e.HOST=g(c);e.MEDIA=g(a.MEDIA||e.HOST+"media/");e.PROXY=g(a.PROXY||e.HOST+"proxy/?url=");e.GET=g(a.pathGet||a.GET||h);e.POST=g(a.pathPost||a.POST||h)},r=function(a){var c=a.feature;c&&d.copyInto(c,k.feature);c=m(a.pathWeb||a.HOST||b());e.host=c;e.protocol=y.protocol;e.IO=a.IO;e.HOST=g(c);e.MEDIA=g(a.MEDIA||
e.HOST+"media/");e.PROXY=g(a.PROXY||e.HOST+"proxy/?url=");e.GET=g(a.pathGet||a.GET||h);e.POST=g(a.pathPost||a.POST||h)};a=a||e.hosts||{};e.hosts=a;e.update();var y=window.location,u=y.protocol+"//",s=y.host;if(a[s])return r(a[s]);if(a[u+s])return r(a[u+s]);var l,p;for(p in a){var t=a[p];if(t.alias&&-1!==t.alias.indexOf(s))return w(d.copy(t),p,s);t.defaultFallback&&(l=t)}return l?r(l):c()};e.setHash=function(a,h){if("string"===typeof a){var g=e.getHash();g[a]=h;return e.setHash(g)}if("boolean"===typeof h)return g=
d.copyInto(a,e.getHash()),e.setHash(g);g=[];a=a||e.getHash();for(var m in a){var b=a[m];void 0!==b&&(b?g.push(m+"="+b):g.push(m))}g="#"+g.join("&");m=window.location;m.hash!==g&&(m.hash=g)};e.getSketchID=function(){return d.exists("gapi.hangout.getHangoutId")?gapi.hangout.getHangoutId():e.getHash(k.feature.sync.hashFlag)||""};e.isLocalUrl=function(){var a=/^([!#$&-;=?-\[\]_a-z~ ]|%[0-9a-fA-F]{2}|)+$/,d=/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?/,g={"http:":/:(80)?$/,"https:":/:(443)?$/},e={"data:":!0,"blob:":!0,
filesystem:!0};return function(b,c){var f=b.match(d);return c&&e[f[1]]?!0:f[1]&&f[1].toLowerCase()!==location.protocol||f[2]&&f[2].replace(g[location.protocol],"")!==location.host||f[1]&&!f[2]?!1:a.test(b)}}();e.isRemoteUrl=function(a){return a.startsWith("http:")||a.startsWith("https:")?!e.isLocalUrl(a):!1};e.isBlobUrl=function(a){return a.startsWith("blob:")};e.isDataUrl=function(a){return a.startsWith("data:")};e.isFileUrl=function(a){return a.startsWith("filesystem:")};e.isValidXhrUrl=function(a){return e.isLocalUrl(a)||
e.isBlobUrl(a)||e.isFileUrl(a)||e.isRemoteUrl(a)};e.getMediaUrl=function(a){return e.isBlobUrl(a)||e.isDataUrl(a)||e.isFileUrl(a)?a:a.startsWith("http")||a.startsWith("./")||a.startsWith("/")?a:e.MEDIA+a};e.parseUri=function(a){var d="source protocol authority credentials username password host port relative path directory file query anchor".split(" "),g=RegExp("^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?://)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)").exec(a);
a={queryKey:{}};for(var e=0;e<d.length;e++)a[d[e]]=g[e]||"";a.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(b,c,d,g,e){c&&c.length&&(a.queryKey[c]=d)});return a};"undefined"!==typeof module&&module.exports&&(module.exports=k.loc)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Supports=function(e,d){var a=this,h=e.feature,g=e.util;g.getAuthDirection=function(){if(a.android){if(a.chrome)return["center","bottom",180];if(!a.firefox&&a.opera)return["center","center",0]}else if(!a.opera){if(a.chrome)return["right","top",45];if(a.firefox)return["left","top",315]}return["center","top",0]};var m=navigator.userAgent||navigator.vendor||window.opera;a.userAgent=m;a.ie=!!document.documentMode;a.firefox="undefined"!==typeof InstallTrigger;
a.opera=!!window.opera||/Opera|OPR/i.test(m);a.chrome=!!window.chrome&&!a.opera;a.safari=/Safari/i.test(m)&&!a.opera&&!a.chrome;if(a.ios=/iPhone|iPad|iPod/i.test(m))a.iosVersion=parseFloat(navigator.appVersion.match(/OS (\d)/)[1],10);a.android=/Android/i.test(m);a.blackberry=/Blackberry/i.test(m);a.mac=!a.ios&&/Mac/.test(m);a.windows=/Windows/.test(m);a.linux=/Linux/.test(m);a.mobile=/Opera Mini|IEMobile|Symbian|WebOS/i.test(m)||a.ios||a.android||a.blackberry;try{a.cordova=!!window.top.cordova}catch(b){}a.nodewebkit=
!(!g.exists("process.versions")||!process.versions["node-webkit"]);a.chromeApp=g.exists("chrome.storage.local");a.flash=function(){var a=navigator,b=parseFloat,c=a.plugins,a=a.mimeTypes,d,f;if(c&&"object"==typeof c["Shockwave Flash"]){if((d=c["Shockwave Flash"].description)&&(!a||!a["application/x-shockwave-flash"]||a["application/x-shockwave-flash"].enabledPlugin))return b(d.replace(/^.*\s+(\S+)\s+\S+$/,"$1"))}else if(window.ActiveXObject)try{if(f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))if(d=
f.GetVariable("$version"))return b(d.replace(/^\S+\s+(\d+),(\d+).*$/i,"$1.$2"))}catch(g){}return!1}();a.lang=((navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage)||"en").toLowerCase();"function"===typeof detectPrivateMode&&detectPrivateMode(function(b){a.incognito=b});a.fn={};a.fn.init=function(b){var c=g.Canvas(1,1);a.fn.detectExport(c,function(){if(a.canvas=!!c.ctx)a.fn.detectWebGL(),a.fn.detectCanvas2dFeatures(c),a.fn.detectPixelRatioSupport(c);(a.fileReader=
!!window.FileReader)&&a.fn.detectFS();a.fn.detectFeature();b&&b()})};a.fn.detectWebGL=function(){var b=document.createElement("canvas");b.width=1;b.height=1;try{a.webgl=!(!b.getContext("webgl")&&!b.getContext("experimental-webgl"))}catch(c){a.webgl=!1}};a.fn.detectFS=function(){a.chooseEntry=g.exists("chrome.fileSystem.chooseEntry")||g.exists("navigator.camera.getPicture");a.fs=!a.nodewebkit&&!!f(window,"requestFileSystem")};a.fn.detectPixelRatio=function(b){b=f(b,"backingStorePixelRatio")||1;return a.pixelRatio=
a._pixelRatio=(window.devicePixelRatio||1)/b};a.fn.detectPixelRatioSupport=function(b){if(h){var c=b.ctx,d=a.fn.detectPixelRatio(c);if(h.canvas.usePixelRatio||h.canvas.usePixelRatioDesktop&&!a.mobile){if(a.ios&&8>a.iosVersion)return a.pixelRatio=1;if(1===d)return d;var f=g.timestamp();b.width=window.innerWidth*d;b.height=window.innerHeight*d;c.drawImage(b,0,0);36<g.timestamp()-f&&(a.pixelRatio=1);b.width=b.height=1;return a.pixelRatio}return a.pixelRatio=1}};a.fn.getUserMedia=function(){return a.getUserMedia=
!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)};a.fn.peerConnection=function(){return a.peerConnection=!!(window.PeerConnection||window.webkitPeerConnection00||window.webkitRTCPeerConnection||window.mozRTCPeerConnection||window.RTCPeerConnection)};a.detectDataChannel=function(){try{var b=e.net;(new RTCPeerConnection(b.iceServers,b.dataChannelConfig)).createDataChannel("supportCheck",{reliable:!0}).close();return a.dataChannel=!0}catch(c){return a.dataChannel=
!1}};var c={blendModes:"normal multiply screen overlay darken lighten color-dodge color-burn hard-light soft-light difference exclusion hue saturation color luminosity".split(" "),compositeModes:"source-over source-in source-out source-atop destination-over destination-in destination-out destination-atop lighter darker copy xor".split(" ")};a.fn.detectCanvas2dFeatures=function(b){var d=b.ctx;b=function(b,f){for(var g=!1,l=c[f],p=0;p<l.length;p++){var t=l[p];if(0===p)a.gco[t]=!0;else{d.globalCompositeOperation=
t;var x=d.globalCompositeOperation===t;(a.gco[t]=x)&&(g=!0)}}a.gco["__"+b]=g};a.gco={};b("composite","compositeModes");b("blend","blendModes");a.imageSmoothing="boolean"===typeof d.imageSmoothingEnabled};a.fn.detectExport=function(b,c){var d=0,f=function(){!--d&&c&&c()},g=function(c,g){++d;var t=b.toDataURL(g).split(";")[0].substr(5);a.io[c]=t===g;setTimeout(f,1)};a.io={};a.io.__enabled=!0;g("jpeg","image/jpeg");g("png","image/png");g("webp","image/webp");g("bmp","image/bmp");(function(c,g){try{++d,
b.toBlob(function(b){var c=new Image;c.onload=function(){var b=!(0===this.width&&0===this.height);a.io.blob=b;a.io.zip=!(!b||!e.module.ZIP);f()};c.onerror=function(){a.io.blob=!1;a.io.zip=!1;f()};c.src=URL.createObjectURL(b)})}catch(t){a.io.blob=!1,a.io.zip=!1,setTimeout(f,1)}})()};a.fn.detectFeature=function(){h&&(a.opera&&a.windows&&(a.gco.__blend=!1),h.style.composite=h.style.composite&&!1!==a.gco.__composite,h.style.blend=h.style.blend&&!1!==a.gco.__blend,h.vector.record||(h.vector.edit=!1),h.vector.edit||
(h.history.vector=!1))};var f=function(a,b){if(a[b])return a[b];b=b[0].toUpperCase()+b.substr(1);return a["webkit"+b]||a["moz"+b]||a["ms"+b]||a["o"+b]};d&&a.fn.init(d);return a}})(sketch);"undefined"===typeof sketch&&(sketch={});(function(k){var e=k.module;e.QueuePending=function(d){var a=[];this.add=function(d){a.push(d)};this.run=function(e,g){a.forEach(function(a){d(e,g,a)});a=[]}};k.setup=new e.QueuePending(function(d,a,e){e(d,a)});k.setupHistory=new e.QueuePending(function(d,a,e){a.history.registerFunction(e)})})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Style=function(e){var d=this,a=e.color.space,h=e.feature,g=e.util;(d.Fill=function(a,b){a=a||p.fill.value;m(a,this,"fill",b);return this}).type="fill";(d.Stroke=function(a,b){a=a||p.stroke.value;m(a,this,"stroke",b);return this}).type="stroke";var m=function(a,c,f,g){if("string"===typeof a){if(a=d.parseStyle(a)){var l=a.type;g=a.dna}else g=g||{},l=g.type||"color",g=g[g.type]||"#000000";a={};a.type=l;a[l]=g}c.method=f;c.opacity=a.opacity||1;c.type=a.type||
"color";c.mode=a.mode||"linear";c.noise=a.noise||!1;c.angle=a.angle||0;l=p[f];c.color=a.color||l.color;c.gradient=a.gradient||l.gradient;c.pattern=a.pattern||l.pattern;"stroke"===f?(c.dashArray=Array.isArray(a.dashArray)?a.dashArray:b.dashArray,c.dashOffset=isFinite(a.dashOffset)?a.dashOffset:b.dashOffset,c.lineCap=a.lineCap||b.lineCap,c.lineJoin=a.lineJoin||b.lineJoin,c.lineWidth=isFinite(a.lineWidth)?a.lineWidth:b.lineWidth,c.miterLimit=isFinite(a.miterLimit)?a.miterLimit:b.miterLimit,c.enabled=
isFinite(a.enabled)?a.enabled:isFinite(a.lineWidth)):c.enabled=isFinite(a.enabled)?a.enabled:!0};d.create=function(a,b){return"stroke"===a?new d.Stroke(b):new d.Fill(b)};d.clone=function(a,b){return d.cloneInto(a,{},b)};d.cloneInto=function(a,d,q,g,l){l=l||{};if(d){g=g||a.type;for(var p in a)if(!l[p]){var e=f[p];if(e){if(q)if("method"===p)continue;else if(c[p]&&p!==g)continue;else if(b[p]===a[p])continue;d[p]="array"===e?a[p].slice():a[p]}}return d}};d.equals=function(a,b){for(var c in a){var d=f[c];
if(d)if("array"===d){if(String(a[c])!==String(b[c]))return!1}else if(a[c]!==b[c])return!1}return!0};var b={dashArray:"none",dashOffset:0,lineCap:"butt",lineJoin:"miter",lineWidth:1,miterLimit:4,angle:0,mode:"linear",noise:!1,opacity:1},c={color:"string",gradient:"string",pattern:"string"},f={color:"string",gradient:"string",pattern:"string",dashArray:"array",dashOffset:"float",lineCap:"string",lineJoin:"string",lineWidth:"float",miterLimit:"float",angle:"number",mode:"string",noise:"boolean",opacity:"float",
type:"string",method:"string",enabled:"boolean"};d.cloneToObject=function(a){d.cloneFillStroke(d,a,{enabled:!0})};d.cloneToGlobal=function(a){d.cloneFillStroke(a,d);e.palette&&(a=a[e.palette.paintMethod])&&(e.palette.setIndicator(),e.palette.update(a.type))};d.cloneFillStroke=function(a,b,c){a.fill&&b.fill&&d.cloneInto(a.fill,b.fill,void 0,void 0,c);a.stroke&&b.stroke&&d.cloneInto(a.stroke,b.stroke,void 0,void 0,c);return b};d.setFont=function(a){var b=e.doc;a=a||{};"string"===typeof a&&(a={fontFamily:a});
if(a.fontFamily){var c=a.onsuccess,d=b.selection.parse(a.selection||b.selection.items),f=b.toolkit,g=f.text;a=b.scene.copyProperties(g,a);g.loadFont(a.fontFamily,function(){f.setParam({filter:"text",params:a,selection:d});c&&c()})}};d.setFill=function(a){a=a||{};"string"===typeof a?a={fill:{dna:a}}:a.stroke||(a.fill=d.cloneInto(a,{},!1,"fill"));a.useColorPicker=!1!==a.useColorPicker;a.useRecord=a.useRecord||!0;a.useRender=!1!==a.useRender;d.apply(a)};d.setStroke=function(a,b,c,f,g,l,p){a=a||{};"string"===
typeof a?(a={stroke:{dna:a}},l&&(a.stroke.dashArray=l),isFinite(p)&&(a.stroke.dashOffset=p),c&&(a.stroke.lineCap=c),f&&(a.stroke.lineJoin=f),isFinite(b)&&(a.stroke.lineWidth=b),isFinite(g)&&(a.stroke.miterLimit=g)):a.stroke||(a.stroke=d.cloneInto(a,{},!1,"stroke"));a.useColorPicker=!1!==a.useColorPicker;a.useRecord=a.useRecord||!0;a.useRender=!1!==a.useRender;d.apply(a)};(function(){var a=function(a,b){if(b){"string"===typeof b&&(b={dna:b});var c=b.dna||b.color||b.gradient||b.pattern,f=b.paintType;
if(!f&&c)if(c=d.parseStyle(c))f=c.type,c=c.dna;else return;f&&(b.type=f,b[f]=c,delete b.dna,delete b.paintType);return b}},b=function(a,b,c){if(a=a&&a[c])d.cloneInto(b,a),d.cloneInto(b,d[c])},c=function(a,b,c,q,g,l,t,x){var p=a[c];if(void 0===p)if((p=f.config[a.type])&&p[c])p=a[c]=d.create(c);else return;if(!1!==p)if(d.equals(b,p.__cache||p))a.dirtyControl=!0,t&&delete p.__cache;else if("clipart"===a.type)changeCount++;else{l&&(p.__cache=d.clone(p));if(t||x){var e=a.id;l=q[e]||{id:e};l[c]=p.__cache;
q[e]=l}t&&(f.scene.setDirtyPixelData(a),delete p.__cache);d.cloneInto(b,p);if(t||x)l=g[e]||{id:e},l[c]=d.clone(p),g[e]=l;a.dirtyCache=!0;a.dirtyControl=!0;s(c,a);return!0}},f;d.apply=function(l){f=e.doc;var p=l.useColorPicker&&e.ui.colorPicker.update||!1,m=f.on.record&&h.stream.realtime,r=l.useRecord||!1,w=l.useRender||!1,u=!0===r||"down"===r||"start"===r,y=!0===r||"up"===r||"end"===r||"update"===r,k=l.configure||f.config[f.tool.type],F=f.selection.parse(l.selection||f.selection.items),G=f.scene.children,
L={},K={},r=l.changeCount||0,N=a("stroke",l.stroke);if(l=a("fill",l.fill)){var H=l[l.type],Q="fill",T=l.type,P=l;b(k,P,Q)}N&&(H=N[N.type],Q="stroke",T=N.type,P=N,b(k,P,Q));for(var R in F)if(k=G[R])l&&c(k,l,"fill",L,K,u,y,m)&&r++,N&&c(k,N,"stroke",L,K,u,y,m)&&r++;y&&f.saveSettings();r&&(y||m)&&(u=g.diff(g.objectToArray(L),g.objectToArray(K),["id"]))&&(m&&f.on.record({op:"SCENE_UPDATE",data:u.to}),y&&f.history&&f.history.store({cmd:"update",icon:"palette",name:"update-style",data:{from:u.from,to:u.to}}));
f.toolkit.text&&f.toolkit.text.updateCSSStyle();m=Q;if(Q=f.tool.device)if(u=Q[m])d.cloneInto(P,u),s(m,Q);p&&"none"!==H&&"color"===T&&e.ui.colorPicker.update(H);e.palette&&e.palette.setIndicator();w&&r&&f.render.scene("style.apply")}})();d.renderSwatch=function(a,b,c,f,g){var l=e.doc.pixelRatio||1;f=(f||24)*l;g=(g||24)*l;a.width=f;a.height=g;if("CANVAS"===a.nodeName){var p=a.ctx||a.getContext("2d");switch(b){case "color":p.fillStyle=c;p.fillRect(0,0,f,g);break;case "gradient":a=d.getGradientStops({dna:c,
asFlatArray:!0});p.fillStyle=d.createGradient(p,"linear",0,0,f,g,a);p.fillRect(0,0,f,g);break;case "pattern":c instanceof CanvasPattern?(p.fillStyle=c,p.fillRect(0,0,f,g)):d.loadPattern(c,function(a){p.fillStyle=a;p.fillRect(0,0,f,g)})}}else switch(b){case "color":a.style.background=c;break;case "gradient":a.style.cssText=d.toCSSGradientBG({dna:c,type:"linear",angle:"135deg"})}};var w=d.CONTEXT=g.Canvas(1,1).ctx;(function(){d.loadPattern=function(a,b,c){a=a||d.fill.pattern;var f=d.patternCtx[a];if(f)b&&
b(f);else var l=g.loadImage({src:e.loc.getMediaUrl(a),onload:function(){var c=w.createPattern(l,"repeat");c.width=l.width;c.height=l.height;d.patternCtx[a]=c;b&&b(c)},onerror:function(){c&&c();h.debug&&console.warn("missing pattern",a)}})}})();d.hexFromColor=function(b){"string"===typeof b?"hsla"===b.substr(0,4)?b=a(b,"W3>HSLA>RGBA>HEX24>W3"):"rgba"===b.substr(0,4)?b=a(b,"W3>RGBA>HEX24>W3"):"rgb"===b.substr(0,3)?b=a(b,"W3>RGB>HEX24>W3"):e.color.webcolors[b]&&(b=e.color.webcolors[b]):isFinite(b.R)?
b=a(b,"RGB>HEX24>W3"):isFinite(b.H)&&(b=a(b,"HSLA>RGBA>HEX24>W3"));return b};var r={color:function(a){if(0===a.indexOf("#")||0===a.indexOf("hsl")||0===a.indexOf("hsla")||0===a.indexOf("rgb")||0===a.indexOf("rgba")||e.color.webcolors[a])return!0},pattern:function(a){if(0===a.indexOf("#asset")||0===a.indexOf("data:")||0===a.indexOf("blob:")||0===a.indexOf("./")||0===a.indexOf("http"))return!0},gradient:function(a){if(-1!==a.indexOf(",")&&isFinite(parseInt(a[0]))||-1!==a.indexOf("linear-gradient(")||
-1!==a.indexOf("radial-gradient("))return!0}};d.validate=function(a,b){if("string"!==typeof a)return!1;var c=a.toLowerCase();return b?r[b](c)||!1:r.color(c)?"color":r.pattern(c)?"pattern":r.gradient(c)?"gradient":!1};d.parseStyle=function(a){if("none"===a)return{dna:"none",type:"gradient"};if(r.color(a))return{dna:a,type:"color"};if(r.pattern(a))return{dna:a,type:"pattern"};if(r.gradient(a))if(-1!==a.indexOf("linear-gradient")){if(a=d.parseCSSGradient(a,!0))return{dna:a,type:"gradient"}}else return{dna:a,
type:"gradient"}};d.load=function(a,b){var c=0,d=function(a){--c||b&&b()};a.fill&&c++;a.stroke&&c++;c?(a.fill&&y(a,"fill",d),a.stroke&&y(a,"stroke",d)):d(c=1)};var y=function(a,b,c){var f=u(a,b);"pattern"===f.type&&f.pattern?d.loadPattern(f.pattern,function(d){s(b,a);c()},function(){c("404")}):(s(b,a),c())},u=function(a,b){var c=e.doc;if(a[b])c="string"===typeof a[b]?a[b]=new d.create(b,a):a[b];else if(c=c.config[a.type],c[b])c=c[b];else return"";var f=c.type;"string"!==typeof c[f]&&(c[f]=d[b][f]);
return c},s=function(b,c){var f=e.doc,g=u(c,b),l=g.noise,p=g.type,s=g[p];if(s){if(c.useBackgroundOverlay)return"brush"===c.toolkitId?g.__colors=[0,g.color||"#000"]:g.__colors=[0,f.backgroundRaw];if("none"===s)return g.__colors=[0,"rgba(0,0,0,0)"];switch(p){case "color":return g.__colors=[0,s];case "gradient":var m=d.getGradientStops({dna:s,asFlatArray:!0,asHex32:!0});if(0===m.length)return g.__colors=[0,g.color||"#000"];break;case "pattern":return s?(d.loadPattern(s),g.__colors=[0,d.patternCtx[s]]):
g.__colors=[0,g.color||"#000"]}if(!l&&!e.detect.useColorModeCycle[c.type]){g=g.__colors=[];for(l=0;l<m.length;l+=2)g.push(m[l]),g.push(a(m[l+1],"HEX32>RGBA>W3"));return g}f=d.hashDNA(s+l);if(d.gradientCtx[f])return g.__colors=d.gradientCtx[f];g.__colors=e.style.getColorStopsHelper({stops:m,noise:l,seed:c.seed});return d.gradientCtx[f]=g.__colors}};d.getStyle=function(a,b,c,f,g,l,p){var m=p[a];if(m&&m.enabled){var r=m.type,h=m.mode,w=m[r];if("destination-out"===p.composite)return e.doc.backgroundRaw||
"#000";if("none"===w)return"stamp"===p.type?"rgba(0,0,0,0)":"rgba(0,0,0,1)";if("color"===r)return"cycle"===h?(b=m.__colors||(m.__colors=s(a,p)),b[(2*(p.time||0)+1)%b.length]):w;if("pattern"===r)return d.patternCtx[w]?d.patternCtx[w]:"rgba(0,0,0,1)";if("gradient"===r)return a=m.__colors||(m.__colors=s(a,p)),d.createGradient(b,h,c,f,g,l,a,m,p.bbox&&p.bbox.scale)}};new e.module.StylePalette(e,d);new e.module.StyleGCO(e,d);new e.module.StyleGradient(e,d);d.loadDefault&&d.loadDefault();var l=function(a){var b=
function(b,c){var f=h.style[b];f[a]&&(f=f[a]);return d.validate(f,b)?f:c};return{color:b("color","#000000"),gradient:b("gradient","0.169429711,fff91d8a,0.583,ff7c0ebd,1,ff0000f0"),pattern:b("pattern","data:image/gif;base64,R0lGODlhDgAOAID/ANDu/FOdvCwAAAAADgAOAAACHYwDh5fazqKcj05rar5q+w961diVi9g9jaaGkFEAADs=")}},p={};p.fill=l("fill");p.fill.value=p.fill[h.style.defaultFillType];p.stroke=l("stroke");p.stroke.value=p.stroke[h.style.defaultStrokeType];d.composite="normal";d.stroke=new d.Stroke;d.fill=
new d.Fill;return d};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Style)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.StylePalette=function(e,d){var a=e.util;d.add=function(a,e,b){"string"===typeof a&&(a=[a]);var c=d[e+"Hash"],f=d[e+"Official"],h=d[e];if(a&&a.length)for(var r=0;r<a.length;r++){var y=a[r];if(y){var u=y.dna||y,s=d.hashDNA(u);c[s]||(c[s]=!0,y.dna&&(f[s]=!0),"gradient"===e&&-1!==u.indexOf("gradient")&&(u=d.parseCSSGradient(u,!0)),b?h.unshift(u):h.push(u))}}};d.addFromBlob=function(a,m){e.convert.blobToText(a,function(b){0===b.indexOf("GIMP Gradient")?d.add(Color.open.GGR(b).join(","),
"gradient",!0):0===b.indexOf("GIMP Palette")?d.add(Color.open.GPL(b),"color",!0):e.feature.debug&&console.log("un-handled method",a);m&&m()})};var h=function(a,m,b){d[m]=e.lib&&e.lib[m]?e.lib[m]():[d[b]];!d[a]&&d[m]&&(d.reset(a),d.add(d[m],a))};d.loadDefault=function(){h("color","defaultColors","defaultColor");h("gradient","defaultGradients","defaultGradient");h("pattern","defaultPatterns","defaultPattern")};d.reset=function(a){a?(d[a+"Ctx"]={},d[a+"Official"]={},d[a+"Hash"]={},d[a]=[]):(d.gradientCtx=
{},d.gradientOfficial={},d.gradientHash={},d.gradient=[],d.colorCtx={},d.colorOfficial={},d.colorHash={},d.color=[],d.patternCtx={},d.patternOfficial={},d.patternHash={},d.pattern=[])};d.hashDNA=function(d){if(d&&d.toLowerCase)return d=d.toLowerCase().split("#").join(""),d=Math.abs(e.util.hash(d)).toString(16).substr(0,6),a.string.rpad(d,"0",6)};d.generateColorBlock=function(){var a={Cyan:[12,6,9.7],Azure:[33,6.9,9.2],Indigo:[62,9,8.6],Purple:[92,6,9],Pink:[150,8,9],Red:[180,10,9],Orange:[196,7.7,
9.7],Orange3:[224,6.2,10],Yellow:[234,4.7,11],Green:[261,11,9.5]},d=0,b;for(b in a)d++;for(var c=0,f,h=[],r=1;8>=r;r++)for(b in a){if(1===r)f=e.color.space.HSL_RGB({H:0,S:0,L:100-c/(d-1)*100}),c++;else{n=r-1;f=a[b];var y=Math.min(1,n/f[1]),u=Math.min(1,1-n/f[2]);f=e.color.space.HSI_RGB({H:(f[0]+180)%360,S:150*y,I:250*u})}h.push(e.color.space(f,"RGB>HEX24>W3"))}return h};return d};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.StylePalette)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.StyleGCO=function(e,d){var a=e.util;d.setComposite=function(a,b,c){a=g(a);var f=e.doc,s=f.toolkit;b=b||f.tool.type;var l=s.getToolkitDevice(b);if(l){b=f.config[b];if("eraser"===b.type)return;var p=b.composite;p&&p.setValue?p.setValue(a):b.composite=a;l.composite=a;c&&f.selection.length&&s.setParam({param:"composite",value:a,selection:f.selection.items})}d.composite=a};d.getComposite=function(a,c){a=b(a);return c&&h[a]?"source-over":a};var h=a.arrayToObject("source-in source-out source-atop destination-over destination-in destination-out destination-atop copy xor".split(" ")),
g=d.getCompositeReadable=function(a){a="string"===typeof a?a||"normal":"normal";return m[a]||a},m={"source-over":"normal","destination-out":"erase"},b=d.getCompositeNative=function(a){a="string"===typeof a?a||"source-over":"source-over";return c[a]||a},c={normal:"source-over",disco:"lighter",erase:"destination-out"};d.getBlendOptions=function(){return"normal ~br~ darken multiply color-burn ~br~ lighten screen color-dodge ~br~ overlay soft-light hard-light ~br~ difference exclusion disco ~br~ hue saturation color luminosity ~br~ erase source-atop destination-over".split(" ")};
d.isNormalGCO=a.arrayToObject(["normal","source-over"]);d.isGCO=function(a){return a&&(a=a.selected||a)?f[a]||!1:!1};var f=a.arrayToObject("normal darken multiply color-burn lighten screen color-dodge overlay soft-light hard-light difference exclusion hue saturation color luminosity erase disco".split(" ").concat("source-over source-in source-out source-atop destination-over destination-in destination-out destination-atop lighter darker copy xor".split(" ")))};"undefined"!==typeof module&&module.exports&&
(module.exports=k.module.StyleGCO)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.StyleGradient=function(e,d){var a=e.util,h=e.vector.Point;d.createGradient=function(g,e,b,c,f,w,r,y,u){g=g||d.CONTEXT;y=y||{};if(isFinite(b+f+c+w)){if("radial"===e)e=(b+f)/2,u=(c+w)/2,c=Math.sqrt(Math.pow(f-b,2)+Math.pow(w-c,2))/3,g=g.createRadialGradient(e,u,0,e,u,c);else{e=y.angle;if(isFinite(e)&&(u&&(0>u.x&&(e=180-e),0>u.y&&(e=360-e)),235!==e)){u=h(b,c);y=h(b,w);b=h(f,w);c=h(f,c);w=e%90-45;var s=e%180-90;f=Math.abs(w)/90;0>=w*s?(w=h.atTimeOnLine(y,b,
f),c=h.atTimeOnLine(c,u,f)):(w=h.atTimeOnLine(u,y,f),c=h.atTimeOnLine(b,c,f));c=h.distance(w,c)/2;f=h.atTimeOnLine(u,b,.5);e*=a.DEG_RAD;u=h.atRadianDistance(f,e,-c);y=h.atRadianDistance(f,e,+c);b=u.x||0;c=u.y||0;f=y.x||0;w=y.y||0}b===f&&(f+=.1);c===w&&(w+=.1);g=g.createLinearGradient(b,c,f,w)}for(e=0;e<r.length;e+=2)u=r[e],(c=r[e+1])&&isFinite(u)&&g.addColorStop(u,c);return g}return"#000"};d.toCSSGradientBG=function(a){if("none"===(a.dna||a))return"background: none";a=d.toCSSGradient(a);return"\t\t\t\tbackground: "+
a+";\t\t\t\tbackground: -webkit-"+a+";\t\t\t\tbackground: -moz-"+a+";\t\t\t\tbackground: -o-"+a+";"};d.toCSSGradient=function(a){var e=a.dna||"",b=a.stops,c=a.type||"linear";a=a.angle;a=isFinite(a)?a+90+"deg":a||"0deg";b=b||d.getGradientStops({dna:e,asCSSArray:!0});return"radial"===c?"radial-gradient(circle closest-side at 50% 50%,"+b+")":"linear-gradient("+a+","+b+")"};d.toCSSColorStops=function(a){for(var d=[],b=0;b<a.length;b+=2)d.push(a[b+1]+" "+100*a[b]+"%");return d};d.parseCSSGradient=function(a,
d){var b=e.color.spacex,c=e.color.CSSLinearGradient.parse(a);if(c){for(var f=c.stops,h=f.length-1,r=[],y=0;y<=h;y++){var u=f[y],s=u.position;s?(-1!==s.indexOf("%")&&(s=parseFloat(s.replace("%",""))/100),r.push(isFinite(s)?s:y/h)):r.push(y/h);d?r.push((new b(u.color)).toHEX32String().substr(1)):r.push(u.color)}if(d)return r.join(",");c.stops=r;return c}return""};d.getGradientStops=function(a){var d=a.asCSSArray||!1,b=a.asFlatArray||!1,c=a.asHex32||!1,f=[];a=(a.dna||"").split(",");var e=a.length;if(2>
e)return f;for(var r=0;r<e;r+=2){var h=parseFloat(a[r]),u=a[r+1],s=u.length;8!==s&&(3===s?u="ff"+u[0]+u[0]+u[1]+u[1]+u[2]+u[2]:6===s&&(u="ff"+u));if(c)u=parseInt("0x"+u,16);else{var l=u.substr(0,2);if("ff"===l)u="#"+u.substr(2);else var s=parseInt(u.substr(2,2),16),p=parseInt(u.substr(4,2),16),u=parseInt(u.substr(6,2),16),l=parseInt(l,16)/255,u="rgba("+s+","+p+","+u+","+l+")"}b?(f.push(h),f.push(u)):d?f.push(u+" "+100*h+"%"):f.push({offset:h,color:u})}return f};d.getColorStopsHelper=function(a){return d.getColorStops({dna:a.dna,
stops:a.stops,asCSSArray:a.asCSSArray||!1,asSVGArray:a.asSVGArray||!1,seed:a.seed||1,blend:a.blend||(a.noise?"Luminosity":"Normal"),reflect:a.reflect||!1,length:500,resolution:1,H:a.noise?10:0,S:a.noise?20:0,L:a.noise?10:0})};d.getColorStops=function(d){var m=e.color.space,b=a?new a.Random(d.seed||1):Math.random,c=d.dna||"",f=d.stops,h=d.blend||"Normal",r=d.reflect||!1,y=d.resolution||1,u=d.length||1,s=d.H||0,l=d.S||0,p=d.L||0,t=d.asCSSArray||!1;d=d.asSVGArray||!1;if(e.color.blend)var x=e.color.blend.useAlphaBlend[h],
q=e.color.blend[h];else x=!1,q=function(a,b){return a*b/255};f?c=f:"string"===typeof c&&(c=c.split(","));for(var f=[],v=0;v<c.length;v+=2)f.push({color:c[v+1],offset:parseFloat(c[v],10)/(r?2:1)});if(r)for(c=c.slice(0).reverse(),v=0;v<c.length;v+=2)f.push({color:c[v],offset:.5-parseFloat(c[v+1],10)/2+.5});var c=0,v=f[c].color,r="string"===typeof v?"W3>HEX32>RGBA":"HEX32>RGBA",v=m(v,r),z=f[c].offset,C=f[c+1];if(!C)return f;for(var J=m(C.color,r),C=f[c+1].offset,D=[],B=0;B<=u;B+=y){var E;E=B/u;E>C&&
(c++,f[c]&&(v=J,z=C,f[c+1]&&(J=m(f[c+1].color,r),C=f[c+1].offset)));E=(E-z)/(C-z);Infinity===E&&(E=0);if("Normal"===h&&0===s&&0===l&&0===p)E=m.RGB_W3({R:v.R*(1-E)+J.R*E,G:v.G*(1-E)+J.G*E,B:v.B*(1-E)+J.B*E});else{var A=m.RGB_HSL({R:v.R*(1-E)+J.R*E,G:v.G*(1-E)+J.G*E,B:v.B*(1-E)+J.B*E});E=m.HSLA_RGBA({H:(A.H+b.toDouble()*s+360)%360,S:Math.min(100,Math.max(0,A.S-b.toDouble()*l)),L:Math.min(100,Math.max(0,A.L-b.toDouble()*p)),A:255});A=m.HSLA_RGBA({H:(A.H+b.toDouble()*s+360)%360,S:Math.min(100,Math.max(0,
A.S+b.toDouble()*l)),L:Math.min(100,Math.max(0,A.L+b.toDouble()*p)),A:255});x?(E=q(E,A),E=m(E,"HEX32>RGBA>W3")):E=m.RGBA_W3({R:q(E.R,A.R),G:q(E.G,A.G),B:q(E.B,A.B),A:q(E.A,A.A)})}d?D.push({color:E,offset:B/u}):t?D.push(E+" "+B/u*100+"%"):(D.push(B/u),D.push(E))}return D}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.StyleGradient)})(sketch);
RegExp.create=function(k,e,d){for(var a in e){var h=e[a],g=RegExp("{{"+a+"}}","gi");h.source&&(h=h.source.replace(/^\^|\$$/g,""));k=k.replace(RegExp("\\("+g.source+"\\)","gi"),"("+h+")");k=k.replace(g,"(?:"+h+")")}return RegExp(k,d)};
(function(k){k.color=k.color||{};var e=k.color.CSSLinearGradient=function(d){this.direction=d.direction;this.stops=d.stops;this.fromString=d.fromString};e.parse=function(d){if("string"!==typeof d)return null;d=d.replace(/-(moz|ms|o|webkit)-/,"");var a=d.match(e.regex.css);if(!a)return null;var h=a[1]||"top",a=a[2].match(e.regex.colorStop),g=parseFloat(h);if(!isNaN(g))switch((g%360+360)%360){case 0:h="left";break;case 90:h="bottom";break;case 180:h="right";break;case 240:h="top"}for(g=0;g<a.length;g++){var m=
a[g],b=m.match(e.regex.color)[0],m=(m=m.substr(b.length).match(e.regex.length))&&m[0];a[g]={color:b,position:m}}return new e({direction:h.replace("to ",""),stops:a,fromString:d})};e.regex={};e.regex.number=/^-?[0-9]*\.?[0-9]+$/;e.regex.keyword=/^(?:to\s|)(?:top\s+|bottom\s+)?(?:right|left)|(?:to\s|)(?:right\s+|left\s+)?(?:top|bottom)$/;e.regex.direction=RegExp.create("^(?:{{keyword}}|{{number}}deg|0)$",{keyword:e.regex.keyword,number:e.regex.number});e.regex.color=RegExp.create("(?:{{keyword}}|{{func}}|{{hex}})",
{keyword:/^(?:red|tan|grey|gray|lime|navy|blue|teal|aqua|cyan|gold|peru|pink|plum|snow|[a-z]{5,20})$/,func:RegExp.create("^(?:rgb|hsl)a?\\((?:\\s*{{number}}%?\\s*,?\\s*){3,4}\\)$",{number:e.regex.number}),hex:/^#(?:[0-9a-f]{1,2}){3}$/i},"i");e.regex.percentage=RegExp.create("^(?:{{number}}%|0)$",{number:e.regex.number});e.regex.length=RegExp.create("{{number}}{{unit}}|0",{number:e.regex.number,unit:/%|px|mm|cm|in|em|rem|en|ex|ch|vm|vw|vh/});e.regex.colorStop=RegExp.create("{{color}}\\s*{{length}}?",
{color:e.regex.color,length:e.regex.length},"gi");e.regex.css=RegExp.create("^linear-gradient\\(\\s*(?:({{direction}})\\s*,)?\\s*({{colorstop}}\\s*(?:,\\s*{{colorstop}}\\s*)+)\\)$",{direction:e.regex.direction,colorStop:e.regex.colorStop},"i")})(sketch);"undefined"===typeof sketch&&(sketch={});sketch.color=sketch.color||{};sketch.color.space=sketch.color.space||{};sketch.color.spacex=sketch.color.spacex||{};
(function(){var k={},e={"HEX24>HSL":"HEX24>RGB>HSL","HEX32>HSLA":"HEX32>RGBA>HSLA","HEX24>CMYK":"HEX24>RGB>CMY>CMYK","RGB>CMYK":"RGB>CMY>CMYK"},d=sketch.color.space=function(a,b){e[b]&&(b=e[b]);if("object"===typeof a&&0<=a[0]){for(var c=b.substr(0,b.indexOf(">")),f={},g=0;g<c.length;g++){var r=c.substr(g,1);f[r]=a[g]}a=f}if(k[b])return k[b](a);for(var h=[],c=b.split(">"),f=c[0]+"_"+c[1],g=2;g<=c.length;g++)a=d[f](a),h.push(d[f]),f=f.substr(f.indexOf("_")+1)+"_"+c[g];c=h.length;1===c?k[b]=h[0]:2===
c?k[b]=function(a){return h[1](h[0](a))}:3===c?k[b]=function(a){return h[2](h[1](h[0](a)))}:4===c&&(k[b]=function(a){return h[3](h[2](h[1](h[0](a))))});return a},a={"#":function(a,b){a.color=d.HEX24_RGBA(d.W3_HEX24(b));a.colorSpace="RGB"},rgba:function(a,b){a.color=d.W3_RGBA(b);a.colorSpace="RGB"},rgb:function(a,b){a.color=d.W3_RGB(b);a.colorSpace="RGB"},hsla:function(a,b){a.color=d.W3_HSLA(b);a.colorSpace="HSL"},hsl:function(a,b){a.color=d.W3_HSL(b);a.colorSpace="HSL"}},h=sketch.color.spacex=function(d,
b){if(!(this instanceof h))return new h(d);d=d||"#000";if("string"===typeof d)if(d=d.replace(/ /g,""),d=d.toLowerCase(),g[d])a["#"](this,g[d]);else for(var c in a){if(0===d.indexOf(c)){a[c](this,d);break}}else this.color=d,this.colorSpace=b;return this};h.prototype.setSpace=function(a){var b=this.colorSpace;b!==a&&(this.color=d(this.color,b+">"+a),this.colorSpace=a);return this};h.prototype.toHEX24=function(){return d.RGB_HEX24(this.toRGB().color)};h.prototype.toHEX32=function(){return d.RGBA_HEX32(this.toRGB().color)};
h.prototype.toRGB=function(){return this.setSpace("RGB")};h.prototype.toHSL=function(){return this.setSpace("HSL")};h.prototype.toHSV=function(){return this.setSpace("HSV")};h.prototype.toCMYK=function(){return this.setSpace("CMYK")};h.prototype.toHEXString=h.prototype.toHEX24String=function(){return d.HEX24_W3(this.toHEX24())};h.prototype.toHEX32String=function(){return d.HEX32_W3(this.toHEX32())};h.prototype.toRGBString=function(){return d.RGB_W3(this.toRGB().color)};h.prototype.toRGBAString=function(){return d.RGBA_W3(this.toRGB().color)};
h.prototype.toHSLString=function(){return d.HSL_W3(this.toHSL().color)};h.prototype.toHSLAString=function(){return d.HSLA_W3(this.toHSL().color)};h.prototype.isW3Contrast=function(a,b,c){b=b||125;c=c||500;a=a?(new h(a)).toRGB():{R:0,G:0,B:0};b=this.isW3Brightness(a.color)<=b;c=this.isW3Difference(a.color)<=c;return!(b&&c)};h.prototype.isW3Brightness=function(a){return d.W3Brightness(this.color,a)};h.prototype.isW3Difference=function(a){return d.W3Difference(this.color,a)};d.isW3Contrast=function(a,
b){b=b||{R:255,G:255,B:255};var c=125>=d.W3Brightness(a,b),f=500>=d.W3Difference(a,b);return!(c&&f)};d.W3Brightness=function(a,b){return Math.abs((299*a.R+587*a.G+114*a.B)/1E3-(299*b.R+587*b.G+114*b.B)/1E3)};d.W3Difference=function(a,b){var c=Math.max(a.R,b.R)-Math.min(a.R,b.R),d=Math.max(a.G,b.G)-Math.min(a.G,b.G);b=Math.max(a.B,b.B)-Math.min(a.B,b.B);return c+d+b};d.RGB_W3=function(a){return"rgb("+(a.R>>0)+","+(a.G>>0)+","+(a.B>>0)+")"};d.RGBA_W3=function(a){var b=isFinite(a.A)?a.A/255:1;return"rgba("+
(a.R>>0)+","+(a.G>>0)+","+(a.B>>0)+","+b+")"};d.W3_RGB=function(a){a=a.substr(4,a.length-5).split(",");return{R:parseFloat(a[0],10),G:parseFloat(a[1],10),B:parseFloat(a[2],10)}};d.W3_RGBA=function(a){a=a.substr(5,a.length-6).split(",");return{R:parseFloat(a[0],10),G:parseFloat(a[1],10),B:parseFloat(a[2],10),A:255*parseFloat(a[3]||1)}};d.HSL_W3=function(a){return"hsl("+(a.H+.5>>0)+","+(a.S+.5>>0)+"%,"+(a.L+.5>>0)+"%)"};d.HSLA_W3=function(a){var b=isFinite(a.A)?a.A/255:1;return"hsla("+(a.H+.5>>0)+","+
(a.S+.5>>0)+"%,"+(a.L+.5>>0)+"%,"+b+")"};d.W3_HSL=function(a){var b=a.indexOf("(")+1,c=a.indexOf(")");a=a.substr(b,c-b).split(",");return{H:parseFloat(a[0],10),S:parseFloat(a[1],10),L:parseFloat(a[2],10)}};d.W3_HSLA=function(a){var b=a.indexOf("(")+1,c=a.indexOf(")");a=a.substr(b,c-b).split(",");return{H:parseFloat(a[0],10),S:parseFloat(a[1],10),L:parseFloat(a[2],10),A:255*parseFloat(a[3],10)}};d.W3_HEX=d.W3_HEX24=function(a){"#"===a.substr(0,1)&&(a=a.substr(1));3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+
a[2]+a[2]);return parseInt("0x"+a,16)};d.W3_HEX32=function(a){"#"===a.substr(0,1)&&(a=a.substr(1));3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);return 6===a.length?parseInt("0xFF"+a,16):parseInt("0x"+a,16)};d.HEX_W3=d.HEX24_W3=function(a,b){b||(b=6);a||(a=0);var c,d=a.toString(16);for(c=d.length;c<b;)d="0"+d,c++;for(c=d.length;c>b;)d=d.substr(1),c--;return"#"+d};d.HEX32_W3=function(a){return d.HEX_W3(a,8)};d.HEX_RGB=d.HEX24_RGB=function(a){return{R:a>>16,G:a>>8&255,B:a&255}};d.HEX_RGB=d.HEX24_RGBA=
function(a){return{R:a>>16,G:a>>8&255,B:a&255,A:255}};d.HEX32_RGBA=function(a){return{R:a>>>16&255,G:a>>>8&255,B:a&255,A:a>>>24}};d.RGBA_HEX32=function(a){return(a.A<<24|a.R<<16|a.G<<8|a.B)>>>0};d.RGB_HEX24=d.RGB_HEX=function(a){0>a.R&&(a.R=0);0>a.G&&(a.G=0);0>a.B&&(a.B=0);255<a.R&&(a.R=255);255<a.G&&(a.G=255);255<a.B&&(a.B=255);return a.R<<16|a.G<<8|a.B};d.RGB_CMY=function(a){return{C:1-a.R/255,M:1-a.G/255,Y:1-a.B/255}};d.RGBA_HSLA=d.RGB_HSL=function(a){var b=a.R/255,c=a.G/255,d=a.B/255,g=Math.min(b,
c,d),e=Math.max(b,c,d),h=e-g,u,s=(e+g)/2;if(0===h)g=u=0;else{var g=.5>s?h/(e+g):h/(2-e-g),l=((e-b)/6+h/2)/h,p=((e-c)/6+h/2)/h,h=((e-d)/6+h/2)/h;b===e?u=h-p:c===e?u=1/3+l-h:d===e&&(u=2/3+p-l);0>u&&(u+=1);1<u&&(u-=1)}return{H:360*u,S:100*g,L:100*s,A:a.A}};d.RGBA_HSVA=d.RGB_HSV=function(a){var b=a.R/255,c=a.G/255,d=a.B/255,g=Math.min(b,c,d),e=Math.max(b,c,d),h=e-g,u;if(0===h)g=u=0;else{var g=h/e,s=((e-b)/6+h/2)/h,l=((e-c)/6+h/2)/h,h=((e-d)/6+h/2)/h;b===e?u=h-l:c===e?u=1/3+s-h:d===e&&(u=2/3+l-s);0>u&&
(u+=1);1<u&&(u-=1)}return{H:360*u,S:100*g,V:100*e,A:a.A}};d.CMY_RGB=function(a){return{R:Math.max(0,255*(1-a.C)),G:Math.max(0,255*(1-a.M)),B:Math.max(0,255*(1-a.Y))}};d.CMY_CMYK=function(a){var b=a.C,c=a.M;a=a.Y;var d=Math.min(a,Math.min(c,Math.min(b,1))),b=Math.round((b-d)/(1-d)*100),c=Math.round((c-d)/(1-d)*100);a=Math.round((a-d)/(1-d)*100);d=Math.round(100*d);return{C:b,M:c,Y:a,K:d}};d.CMYK_CMY=function(a){return{C:a.C*(1-a.K)+a.K,M:a.M*(1-a.K)+a.K,Y:a.Y*(1-a.K)+a.K}};d.HSLA_RGBA=d.HSL_RGB=function(a){var b=
a.H/360,c=a.S/100,d=a.L/100,g,e,h;0===c?d=c=b=d:(e=.5>d?d*(1+c):d+c-c*d,g=2*d-e,h=b+1/3,0>h&&(h+=1),1<h&&(h-=1),d=1>6*h?g+6*(e-g)*h:1>2*h?e:2>3*h?g+(e-g)*(2/3-h)*6:g,h=b,0>h&&(h+=1),1<h&&(h-=1),c=1>6*h?g+6*(e-g)*h:1>2*h?e:2>3*h?g+(e-g)*(2/3-h)*6:g,h=b-1/3,0>h&&(h+=1),1<h&&(h-=1),b=1>6*h?g+6*(e-g)*h:1>2*h?e:2>3*h?g+(e-g)*(2/3-h)*6:g);return{R:255*d,G:255*c,B:255*b,A:a.A}};d.HSVA_RGBA=d.HSV_RGB=function(a){var b=a.H/360,c=a.S/100,d=a.V/100,g,e,h,u,s;if(0===c)g=e=h=Math.round(255*d);else switch(1<=b&&
(b=0),b*=6,u=b-Math.floor(b),s=Math.round(255*d*(1-c)),h=Math.round(255*d*(1-c*u)),c=Math.round(255*d*(1-c*(1-u))),d=Math.round(255*d),Math.floor(b)){case 0:g=d;e=c;h=s;break;case 1:g=h;e=d;h=s;break;case 2:g=s;e=d;h=c;break;case 3:g=s;e=h;h=d;break;case 4:g=c;e=s;h=d;break;case 5:g=d,e=s}return{R:g,G:e,B:h,A:a.A}};var g=sketch.color.webcolors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",
blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",
darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",fuscia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",
lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",
mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",
peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",
white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};"undefined"!==typeof module&&module.exports&&(module.exports=sketch.color)})();"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Library=function(e,d){var a=e.dom,h=d.toolkit,g=e.util;(function(){for(var a="template brush shape stamp text clipart image color gradient texture".split(" "),b=0;b<a.length;b++){var c=a[b];(e.lib[c]=e.lib[c]||{}).meta={}}})();e.lib.setData=function(a,b){if(b.data||b.official){var c=e.lib[a],f={};b.reset&&(c.tree=b.data?{}:c.defaultTree||{});g.Queue({items:b,oncomplete:function(){for(var b in c.tree)f[b]=f[b]||c.tree[b];c.tree=f;e.lib.init(a);e.ui.configureBuild(null,
!0)},next:function(a,b,e){if("reset"===b)return this.next();if("defaultValue"===b)return c.defaultItem=a,this.next();e=a.data?a.data:a;for(var h=0;h<e.length;h++){var s=e[h];"string"===typeof s&&(s={filepath:s,name:g.string.filename(s),category:a.category||"Unknown"});void 0===s.name&&(s.name=g.string.filename(s.filepath));void 0===s.id&&(s.id=s.name.replace(this.rxAlphaNumeric,"")+Date.now());var l=s.category||a.category||"Unknown";(f[l]||(f[l]=[])).push(s)}e=d.scene.copyRules(a);c.meta[a.category||
b]=e;this.next()}})}};e.lib.setClipartDefaultValue=function(a){var b=e.lib.clipart;if(a=a||b.defaultItem)a=a.startsWith("./")?a:b.path+"/"+a,delete h.media.device.render,h.media.device.src=a,d.config.clipart.src=a};e.lib.setClipartData=function(a){a&&(e.lib.setData("clipart",a),e.lib.setClipartDefaultValue(a.defaultValue))};e.lib.setStampDefaultValue=function(a){var b=e.lib.clipart;a=a||b.defaultItem;d.config.stamp.src=a};e.lib.setStampData=function(a){a&&(e.lib.setData("stamp",a),e.lib.setStampDefaultValue(a.defaultValue))};
e.lib.setTextData=function(a){a&&(e.lib.setData("text",a),a.defaultValue&&(d.config.text.fontFamily=a.defaultValue))};e.lib.setPaletteData=function(d){var b=function(b){var f=d[b];if(f){var g=f.official,h=f.data;!1===f.enabled?(e.feature.style[b]=!1,a.setCSS("."+b+"-indicator","display","none")):(e.feature.style[b]=!0,a.setCSS("."+b+"-indicator","display",""));if(g||h){if(g){for(var y=[],u=0;u<g.length;u++)y.push({dna:g[u],status:"official"});g=y.concat(h)}else g=h;!0!==f.reset&&(g=g.concat(e.style[b]));
g.length&&(e.style.reset(b),e.style.add(g,b))}f.defaultValue&&(e.style.fill[b]=f.defaultValue)}};b("color");b("gradient");b("pattern");e.palette.rebuild()};e.lib.init=function(a){if(!e.loc.MEDIA)return console.warn("loc not setup");var b=e.lib[a];b.meta=b.meta||{};b.path=e.loc.MEDIA+b.dir+"/";b.type=a;b.defaultTree=b.defaultTree||g.copy(b.tree);b.getSrc=function(a,c){if(a){var d=b.dir+"/";c||(d=e.loc.MEDIA+d);var g=a.filepath||"";return g.startsWith("#")?e.assets.getURL(g):g.startsWith("blob")||g.startsWith("http")||
g.startsWith("./")?g:d+g}};b.getThumbnail=function(c){if(c){var d=e.loc.MEDIA+"thumb/"+b.dir+"/",g=c.filepath||"";return g.startsWith("http")?g:c.thumbnail?c.thumbnail:g.startsWith("#")?c.thumbnail:g.startsWith(".")?g.replace("/media/","/media/thumb/").replace(".svg",".png"):"text"===a?d+c.name+".png":d+g.replace(".svg",".png")}};b.getEntry=function(a){var c=b.byPath[a];if(c)return c;a=e.assets.getItem(a);return b.byPath[a.src]};var c=function(a,c,d){switch(d){default:return b.tree[c].sort(function(a,
b){return a.name.localeCompare(b.name)})}};(b.reindex=function(){b.byId={};b.byName={};b.byPath={};b.paths=[];for(var d in b.tree){c(a,d);for(var e=d,h=b.tree[e],y=0;y<h.length;y++){var u=h[y];u.type=a;u.category=e;u.filepath=u.filepath||"";u.filename=g.string.filename(u.filepath);u.folder=e;u.id&&(b.byId[u.id]=u);b.byName[u.name]=u;b.byPath[u.filepath]=u;b.paths.push(u)}}})()};e.lib.setTemplateData=function(a){a&&e.lib.setData("template",g.copy(a))};e.lib.template.open=function(a,b,c){var f=e.lib.template;
e.lib.getTemplateData&&e.lib.getTemplateData();a=a||f.defaultItem;c=isFinite(c)?c:!0;var h=f.byId[a]||f.byName[a];if(h){c&&d.reset();var r=function(){d.template=h;h.alert&&(e.feature.alert=h.alert);h.background&&d.setBackground(h.background);var a=g.copy(h.children);d.scene.add({data:a,scale:1},function(){e.lib.setClipartDefaultValue();b&&b(1)},function(a){console.error(a)},{useRecord:!1,useRender:!1})};if(h.clip){var y=h.clip;"string"===typeof y.path?(y.path=e.vector.SVGPath.toVOBPath(path),r()):
"string"===typeof y.src?new e.vector.SVG({src:y.src,onload:function(a){y.path=a.vob.childNodes[0].data;r()}}):y.path&&r()}else r()}else return console.warn("missing template")}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Scene=function(e,d){var a=this,h=e.assets,g=d.contexts,m=e.detect,b=e.feature,c=e.lang,f=e.net,w=d.render,r=e.style,y=d.toolkit,u=e.ui,s=e.util,l=e.vector;a.push=function(b,c){c&&a.decompress(b);a.children.push(b);a.childrenById[b.id]=b};a.pushAt=function(b,c,d){d&&a.decompress(b);a.children.splice(c,0,b);a.childrenById[b.id]=b};a.shiftAt=function(b){var c=a.children[b].id;a.children.splice(b,1);delete a.childrenById[c]};a.setData=function(b,c){t();a.children=
[];a.childrenById={};for(var d=0;d<b.length;d++)a.push(b[d],c)};a.load=function(a){a=a||{};var b=a.objects,c=a.onsuccess,f=a.onerror;a=a.onprogress;b&&(d.scene.setData(b,!0),d.scene.reindex());d.render.preload({chunkBatch:!0,onerror:f,onprogress:a,onsuccess:function(){e.assets&&e.assets.addFromObjects(d.scene.children);c&&c()}})};a.addObject=function(b,c){c=c||{};if(!1===a.ensureMaxCopies(b))a.deselectAll();else{var g=y.getToolkit(b.type),q=a.copyProperties(g,b,{id:a.createId(b.id),timestamp:Date.now(),
toolkit:g,toolkitId:g.id,zIndex:a.children.length,bbox:{x:0,y:0,width:0,height:0,rotate:0,scale:{x:1,y:1}}}),l=q.bbox;void 0===l.viewBox&&(l.viewBox=[0,0,l.width,l.height]);a.ensureStickyIndex(q);a.push(q);a.sort();a.reindex();g.loadResource({object:q,onerror:C,onsuccess:C});c.useHistory&&d.history.store({cmd:"add",icon:q.type,name:q.type,data:[q]},{userId:f.userId,fromRecord:!0});return q}};a.removeById=function(b,c){var d=a.getById(b);d&&a.removeByIndex(d.zIndex,c);return a};a.remove=a.removeByIndex=
function(b,c){c=!1!==c;switch(typeof b){case "undefined":return a;case "number":var f={};f[b]=!0;b=f;break;default:b=s.copy(b)}for(var f=[],g=[],q=a.selection.items,l=a.children.length,p={},t=0;t<l;t++){var x=a.children[t];b[t]?(c&&g.push(a.clone(x)),w.cache.clean(x.hash),d.scene.setDirtyPixelData(x)):(f.push(x),p[x.id]=x);q[x.zIndex]&&a.selection.deselect(x.zIndex)}c&&g.length&&(e.on.layerRemove&&(q=a.selection.toLayers(b),e.on.layerRemove(q)),d.history&&d.history.store({cmd:"remove",icon:"infinity",
name:"remove-objects",data:g}));a.children=f;a.childrenById=p;a.reindex();a.updateSelectionInfo();return a};a.removeByName=function(b,c){var d=a.getByName(b);d.length&&(d=a.selection.fromLayers(d),a.removeByIndex(d,c));return a};a.removeSelection=function(b,c){b=b||a.selection.items;a.removeByIndex(b,c);a.deselectAll();return a};a.removeAll=function(b){var c=a.selection.fromLayers(a.children);a.removeByIndex(c,b);a.deselectAll();return a};a.clear=function(b){a.removeAll(!1!==b);s.Canvas.clear(g.active);
s.Canvas.clear(g.draw);s.Canvas.clear(g.layer0);return a};a.reset=function(b){a.deselectAll();a.children=[];a.childrenById={};b||e.__server||d.on.record&&!b&&d.on.record({op:"SCENE_RESET",type:"major"});return a};a.deselectById=function(b){return(b=a.getById(b))?a.deselectByIdx(b.zIndex):a};a.deselect=a.deselectByIdx=function(b,c){var d=a.selection;if(d.length){var f=[];if("object"===typeof b)if(d=b,Array.isArray(d))for(var g=0;g<d.length;g++)b=d[g],p(b,!1)&&f.push(b);else for(b in d)p(b,!1)&&f.push(b);
else p(b)&&f.push(b),b===d.idx&&1<d.length&&(a.controls=[]);D(f)}return a};var p=function(b){var c=a.selection;return c.items[b]?(c.deselect(b),!0):!1};a.deselectByName=function(b){var c=a.selection;c.length&&(b=a.getByName(b),b.length&&(c=c.fromLayers(b),a.deselectByIdx(c)));return a};a.deselectAll=function(){var b=a.selection;b.length&&(b=Object.keys(b.items),y.text&&y.text.hide(),t(),D(b));return a};var t=function(){a.selection.reset();a.hovered.reset();a.controls=[]};a.selectById=function(b,c){var d=
a.getById(b);d&&a.selectByIdx(d.zIndex,c);return a};a.select=function(b,c){return"object"===typeof b?isFinite(b.zIndex)?a.selectByIdx(b.zIndex,c):x(b,c):a.selectByIdx(b,c)};a.selectByIdx=function(c,d){b.vector.edit&&("object"===typeof c?x(c,d):a.children[c]&&q(c,d)&&J([c]));return a};var x=function(b,c){c&&a.deselectAll();var d=[];if(Array.isArray(b))for(var f=0;f<b.length;f++){var g=b[f];q(g,!1)&&d.push(g)}else for(g in b)q(g,!1)&&d.push(g);J(d)},q=function(c,d){var f=a.children[c];if(f){if(!1===
f.selectable)return!1;f.dirtyControl=!0;var g=a.selection;if(!1!==d){if(1===g.length&&g.items[c])return!1;a.deselectAll();g.select(c);b.style.toGlobalOnSelect&&r.cloneToGlobal(f);u.setToolMenu&&u.setToolMenu(f.type,!0)}else{if(g.items[c])return!1;g.select(c);1<g.length&&(a.controls=[])}return!0}return!1};a.selectByName=function(b,c){var d=a.getByName(b);d.length?(d=a.selection.fromLayers(d),a.selectByIdx(d,c)):c&&a.deselectAll();return a};a.selectAll=function(){v();return a};a.selectInverse=function(){v(!0);
return a};var v=function(c){if(b.vector.edit){var d=a.selection.items,f=a.children,g=f.length;a.controls=[];for(var q=[],l=[],p=0;p<g;p++)!1!==f[p].selectable&&(c&&d[p]?(a.selection.deselect(p),l.push(p)):(a.selection.select(p),q.push(p)));a.handleSelection();J(q);D(l)}};a.getById=function(b){return a.childrenById[b]};a.getByIndex=function(b){return a.children[b]};(function(){var b=function(b){return function(c){for(var d=[],f=a.children,g=0;g<f.length;g++){var q=f[g];void 0!==q[b]&&q[b]===c&&d.push(q)}return d}};
a.getByGroupId=new b("groupId");a.getByName=new b("name");a.getBySrc=new b("src")})();a.getLast=function(){return a.children[a.children.length-1]};a.getFocused=function(){return a.selection.item||a.hovered.item};a.getOneSelected=function(){if(a.selection.item)return a.selection.item;for(var b in a.selection.items)return a.children[b]};a.getHovered=function(){return a.hovered.item};a.getSelected=function(){return a.selection.item};a.getSelection=function(b,c){return a.selection.toLayers(b,c)};a.getCollisions=
function(b,c){c=c||{};var d=[],f=l.Polygon.SAT,g=b.trx2D;if(g)for(var q=[g.nw,g.ne,g.se,g.sw],p=c.objects||a.children,e=p.length,t=isFinite(c.idx)?c.idx:e-1;t<e;t++){var x=p[t];x.id!==b.id&&x.trx2D&&(g=x.trx2D,f(q,[g.nw,g.ne,g.se,g.sw])&&(c.fn?c.fn(x):d.push(x)))}return d};a.setDirtyPixelData=function(c,d){c&&b.canvas.glfxPixelData&&(c.usePixelData&&(c.dirtyCache=!0),a.getCollisions(c,{idx:isFinite(d)?d:c.zIndex,fn:function(a){a.usePixelData&&(a.dirtyCache=!0)}}))};var z=function(b,c){return function(d){d=
d||a.selection.items;for(var f in d)if(d=a.children[f])d[b]=c;return a}};a.traverse=function(b,c,d){var f=a.children;"function"===typeof b?s.each(f,b):(new z(b,c))(d||a.selection.items)};a.setDirtyCache=new z("dirtyCache",!0);a.setDirtyControl=new z("dirtyControl",!0);a.setDirtyTransform=new z("dirtyTransform",!0);a.setDirtyBounds=new z("inbounds",void 0);var C=function(b){e.on.layerAdd&&(a.updateTransform(b),e.on.layerAdd(b))},J=function(b){b.length&&(a.updateSelectionInfo(),e.on.select&&(b=d.selection.toLayers(b),
b.length&&e.on.select(b)))},D=function(b){b.length&&(a.updateSelectionInfo(),e.on.deselect&&(b=d.selection.toLayers(b),b.length&&e.on.deselect(b)))};a.updateSelectionInfo=function(){if("undefined"===typeof document)return a;var b=document.querySelector(".sk-selection-count");if(b){var d=a.selection;if(d.length){var f=c.translate("select-tool-count",d.length)+":",g={};d.traverse(function(a){a=a.type;g[a]||(g[a]=0);g[a]++});var f=f+'<div style="margin: 5px 0 0 25px;">',q;for(q in g)var d=g[q],l=1<d?
"s":"",p=c.translate(q),f=f+(d+" "+p+" layer"+l+"<br>");f+="</div>"}else f=c.translate("select-tool-message");b.innerHTML=f}return a};a.handleSelection=function(){if(b.vector.edit){var c=b.tools.select.useConfigure,d=a.selection,f=d.length;if(0===f)c&&u.configureBuild();else if(1===f)(f=d.item)?(c&&u.configureBuild(f.type),"text"===f.type&&y.text.textarea&&(y.text.setContent(f.content),f.toolkit.updateObjectSize())):b.debug&&console.warn(d.idx,d.items);else if(a.controls=[],c){var g,c=!0,q;for(q in d.items)if(f=
a.children[q])if(g=g||f.type,g!==f.type){c=!1;break}u.configureBuild(c?g:void 0)}}return a};var B=/[^a-zA-Z]/g,E=/[^0-9]/g,A=function(a,b){return a.zIndex>b.zIndex?1:-1},k=function(a,b){return a.id>b.id?1:-1},F=function(a,b){var c=a.name||"",d=b.name||"",f=c.replace(B,""),g=d.replace(B,"");return f===g?(f=parseInt(c.replace(E,""),10),g=parseInt(d.replace(E,""),10),f===g?0:f>g?1:-1):f>g?1:-1};a.sort=function(b){switch(b){case "name":a.children.sort(F);break;case "id":a.children.sort(k);break;default:a.children.sort(A)}};
a.reindex=function(){for(var b=a.children,c=a.selection.items,d=[],f=0,g=b.length,q;f<g;f++)if(q=b[f]){var l=q.zIndex;c[l]&&(delete c[l],d.push(f));q.zIndex=f}t();f=0;for(g=d.length;f<g;f++)l=d[f],a.selection.select(l);a.updateSelectionInfo()};(function(){var b=function(a){var b=1;return function(c){c=c||{};var d=String(c.prefix||f.userId+":");if(c=c.id){var g=typeof c;if(("string"===g||"number"===g)&&s.isEmpty(a(c)))return c}for(;;){if(s.isEmpty(a(d+b)))return d?d+b:b;b++}}};a.createId=b(a.getById);
a.createGroupId=b(a.getByGroupId)})();a.createHash=function(a,b){b=b||{};for(var c=d.pixelRatio+"",f=[a],g=m.useLocalAlpha;a=f.shift();)for(var q in a){var l=a[q];if(null!=l&&!(K[q]||L[q]||b[q]))if("fill"===q){if(c+=l.noise,c+=l.angle,c+=l.mode,c+=l.enabled,l=l[l.type])c+=l.substr(0,256)}else if("stroke"===q&&l.lineWidth){if(c+=l.noise,c+=l.angle,c+=l.mode,c+=l.lineWidth,c+=l.lineCap,c+=l.lineJoin,c+=l.enabled,l=l[l.type])c+=l.substr(0,256)}else if("opacity"===q)g[a.type]&&(c+=q+":"+l);else if("scale"!==
q||a.type)if("src"===q)c+=l.substr(0,256);else if("bbox"===q)l=a.bbox,c+="width:"+l.width,c+="height:"+l.height,c+="padding:"+l.padding,l.scale&&(l=l.scale,c+="scale:"+l.x+","+l.y);else{var p=typeof l;"string"===p?c+=q+":"+l.substr(0,256):"number"===p?c+=q+":"+l:"object"!==p?c+=q+":"+l:l.childNodes||l.getImageData||l&&f.push(l)}}f=5381;g=0;for(q=c.length;g<q;g++)f=(f<<5)+f+c.charCodeAt(g);return f};a.compress=function(b,c){return a.clone(b,!0)};a.clone=function(b,c){if(!b||!b.constructor||"object"!==
typeof b)return b;if(!b.childNodes&&!b.getImageData){var d=new b.constructor,f;for(f in b)if(!K[f]){var g=b[f],q=typeof g;"number"===q||"string"===q||"boolean"===q?d[f]=g:"object"===q&&("fill"===f||"stroke"===f?(g=r.clone(g,c))&&(d[f]=g):d[f]=c&&g&&g.getValue?g.getValue():a.clone(g,c))}return d}};a.roundData=function(a,b){b=b||1E3;for(var c in a)if(a[c]){var d=a[c].data;if(d&&d.length)for(var f=0;f<d.length;f++){var g=d[f];g.x=Math.round(g.x*b)/b;g.y=Math.round(g.y*b)/b}d=a[c].bbox;d.width=Math.round(d.width*
b)/b;d.height=Math.round(d.height*b)/b;d.x=Math.round(d.x*b)/b;d.y=Math.round(d.y*b)/b}return a};a.decompress=function(a){if("string"===typeof a.filter){var b=/\(([^)]+)\)/.exec(a.filter),b=[[{cmd:"shader",id:a.filter.replace(b[0],""),data:b[1].split(",").map(function(a){return parseFloat(a)})}]],b=new u.vars.FilterStack({filter:b});a.filter=b}void 0!==a.fill&&(a.fill=new r.Fill(a.fill));void 0!==a.stroke&&(a.stroke=new r.Stroke(a.stroke));void 0===a.toolkitId&&(a.toolkitId=y.getToolkitId(a.type));
return a};a.toString=a.stringify=function(b){b=b||a.children;return JSON.stringify(a.clone(b,!0))};a.copyAttributes=function(a,c,d){d=d||{};if(c){for(var f in a){var g=a[f],q=c[f],l=d[f];"undefined"!==typeof q&&(q.getValue?d[f]=q.getValue():"filter"===g?d[f]=q.data||q:"style"===g?d[f]=r.create(f,q):"object"===g?d[f]=s.copy(q):"bbox"===g?(l=l||(d[f]={}),s.copyInto(q,l)):"clamp"===g?(l=l||(d[f]={}),l.min=q.min,l.max=q.max):l!==q&&(d[f]=void 0!==q.value?q.value:q))}return d}b.debug&&console.log("scene.copyAttributes",
arguments)};a.copyRules=function(b,c){c=c||{};a.copyAttributes(e.attrs.__rules,b,c);return c};a.copyProperties=function(b,c,d){d=d||{};a.copyAttributes(e.attrs.__rules,c,d);a.copyAttributes(b.attributes,c,d);return d};a.ensureStickyIndex=function(b){b.useStickToBack&&(b.zIndex=-1);b=s.INFINITY_MINUS_24bit;for(var c=0;c<a.children.length;c++){var d=a.children[c];d.useStickToFront&&(d.zIndex=b++)}};var G=function(a){alertify.log_visible()||(a=a.useMaxCopies,a=c.translate("useMaxCopies-alert",a,1<a?
"copies":"copy"),e.ui.log(a))};a.ensureMaxCopies=function(b){if("string"!==typeof b.src)return!0;var c=a.children,d={},f=b.src,g=e.lib[b.type],q=g&&g.getEntry(f);if(q){var l=q.folder;if((q=g.meta[l])&&q.useMaxCopies){for(var p=g.tree[l],l=0;l<p.length;l++)for(var t=g.getSrc(p[l]),x=0;x<c.length;x++){var v=c[x];if(void 0!==v.src&&v.id!==b.id){f=v.src;if(0===f.indexOf("#")){f=h.getItem(v.src,v.type);if(!f)continue;f=f.src}var v=f,s=t,v=v===s?!0:v.length<s.length?s.indexOf(v)+v.length===s.length:v.indexOf(s)+
s.length===v.length;if(v&&(d[f]||(d[f]=0),f=++d[f],f>=q.useMaxCopies))return b.useMaxCopies=q.useMaxCopies,G(b),!1}}return!0}}t=f;for(l=0;l<c.length;l++)if(v=c[l],void 0!==v.src&&v.id!==b.id&&(b.useMaxCopies||v.useMaxCopies)&&(f=(q=e.lib[v.type].getEntry(v.src))&&q.src||v.src,h.isEqual(f,t)&&(d[f]||(d[f]=0),f=++d[f],f>=v.useMaxCopies)))return G(b),!1;return!0};var L=s.arrayToObject("id zIndex clamp data visible tid".split(" ")),K=s.arrayToObject("filePicker resource palette subtool reset callback hash render renderCache scaleCache breaks dirtyCheck dirtyCache dirtyCache dirtyTransform dirtyControl dirtyResource selected hovered inbounds error ctx trx trx2D trxInverse svg brush toolkit __hash __content __colors __textMetrics __offset".split(" "));
a.children=[];a.childrenById={};a.copies=[];a.controls=[];a.selection=new e.module.SceneSelection(e,d,a);a.hovered=new e.module.SceneSelection(e,d,a);e.module.SceneTransform(e,d,a);return a};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Scene)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.AddMedia=function(e,d){var a=d.canvas2d,h=e.dom,g=e.feature,m=e.lang,b=d.render,c=d.scene,f=d.toolkit,w=e.util;d.addMedia=function(a,b,g,q){"string"===typeof a&&(a={src:a});var v=a.blob||a.element||a,h=v.slice&&"string"===typeof v.type,u=!!a.openAsNew;b=b||a.onload;q=q||a.onprogress;g=g||a.onerror;var m=a.thumb,D={};isFinite(a.x+a.y)?D={x:a.x,y:a.y}:a.event&&(D=c.pointInSceneFromEvent(a.event));var B,E;h?v.lastModifiedDate?(B=B||v.src||URL.createObjectURL(v),
E=w.string.extension(v.name)):(B=URL.createObjectURL(v),E=(v.type||"image/png").split("/").pop()):v.src?(B=v.src,E=w.string.extension(B)):B=v;if(m)return m.width=m.width||a.width,m.height=m.height||a.height,m.croparea&&!isFinite(m.width+m.height)&&(m.width=m.croparea[2]-m.croparea[0],m.height=m.croparea[3]-m.croparea[1]),m.src=B,m.onload=function(c){delete a.thumb;delete a.element;delete a.blob;delete a.src;a.element=c;d.addMedia(a,b,g,q)},w.thumbnailer(m);if(v.toDataURL)return v.toBlob(function(c){delete a.element;
delete a.blob;delete a.src;a.blob=c;d.addMedia(a,b,g,q)});var m=function(){w.exists("doc.config.clipart.opacity.value",e)&&(d.config.clipart.opacity.value=100);e.ui.refresh&&e.ui.refresh("clipart");d.setTool("select")},A={data:{},add:function(a){A.data[a]=!0},run:function(a){e.loader&&e.loader.stop();var b=A.data;b.clipart&&b.stamp&&delete b.clipart;for(var c in A.data)A.callbacks[c]();A.callbacks.callback(a)},callbacks:{callback:function(c){if(b!==a.onload)a.onload();b&&b(c)},text:function(){e.ui.refresh&&
e.ui.refresh("text");f.setTool("text")},stamp:function(){e.ui.refresh&&e.ui.refresh("stamp");f.setTool("stamp")},clipart:m,image:m,color:function(){e.palette.update("color",!0);e.windows.open("#sk-palette")},gradient:function(){e.palette.update("gradient",!0);e.windows.open("#sk-palette")},pattern:function(){e.palette.update("pattern",!0);e.windows.open("#sk-palette")}}};if(h)switch(E){case "zip":return y(v,A);case "json":return e.open.json(v,function(){d.on.sketchReady(d)},function(){d.on.sketchReady(d)});
case "sketchpad":case "sketch":return e.open.sketch(v,function(){d.on.sketchReady(d)});case "svg":if(-1!==v.src.indexOf("missing-glyph")&&-1!==v.src.indexOf("units-per-em"))return e.assets.addFont(v,A.run,A.run);break;case "ttf":case "woff":return e.assets.addFont(v,A.run,A.run);case "pat":return console.log("pat",v),A.run();case "abr":return A.add("stamp"),r("ABR",v,A.run);case "gbr":return A.add("stamp"),r("GBR",v,A.run);case "ggr":return A.add("gradient"),e.style.addFromBlob(v,A.run);case "gpl":return A.add("color"),
e.style.addFromBlob(v,A.run);case "pdf":return s(v,D,A.run,!0,u);case "psd":return l(v,D,A.run,!0,u)}if("string"!==typeof B)return console.log("unrecognized",v);"{"===B.substr(0,1)?e.open.json(B,function(){d.on.sketchReady(d)},function(){d.on.sketchReady(d)}):(B.indexOf&&(0===B.indexOf("<svg")&&(B='<?xml version="1.0" encoding="UTF-8"?>'+B),0===B.indexOf("<?xml")&&(B="data:image/svg+xml;base64,"+btoa(B),E="svg")),v=!!e.module.toolkit.media,h=function(b){u?e.exec("new-confirm",function(){e.open[E]({src:b,
openAsNew:u,callback:function(){A.run()}})}):c.add({centerOnPoint:!0,type:E,src:b,width:a.width,height:a.height,x:D.x,y:D.y},function(a){A.run(a)})},"svg"===E?v?(A.add("clipart"),E="clipart",e.assets.addClipart(B,h,g,q)):e.open.svg(B):v?(A.add("image"),E="image",e.assets.addImage(B,h,g,q)):e.open.image(B))};var r=function(a,b,c){var d=e.io["blobTo"+a];if(d){var f=m.translate("decoding-format","."+a);e.loader&&(e.loader.create("decode",f),e.loader.create("files","..."));d(b,function(a,b,d,g){e.loader&&
(e.loader.create("decode",f,Math.max(0,d-1)>>0),e.loader.create("files",b.name||"untitled"));e.assets.addStamp(a,function(a,b){100===d?(e.loader&&e.loader.create("decode",f,99),c&&c()):g&&g()})})}else g.debug&&console.log("missing .abr support"),c&&c()},y=function(a,b){e.io.zip.getEntries(a,function(c){c.some(function(a,b,c){return"sketch.json"===a.filename})?e.io.zip.open(a):(e.loader&&(e.loader.create("decoding",m.translate("opening-format",".ZIP")+"..."),e.loader.create("decodingFiles","...")),
e.io.zip.decode({entries:c,oncomplete:function(){e.loader&&(e.loader.stop("decoding"),e.loader.stop("decodingFiles"));b.run()},onchange:function(c){var d=c.blob,f=c.filename,g=c.next,l=w.string.extension(f),l="undefined"===d.type?l:d.type;e.loader&&(e.loader.create("decoding",m.translate("opening-format",".ZIP")+"...",c.percent),e.loader.create("decodingFiles",w.string.filename(f)));switch(l){case "application/json":"sketch.json"===f?(e.loader&&(e.loader.stop("decoding"),e.loader.stop("decodingFiles")),
e.io.zip.open(a)):g();break;case "image/jpeg":case "image/gif":case "image/png":case "jpeg":case "png":case "gif":b.add("clipart");e.assets.addImage(d,g);break;case "image/svg+xml":case "svg":b.add("clipart");e.assets.addClipart(d,g);break;case "abr":b.add("stamp");r("ABR",d,g);break;case "gbr":b.add("stamp");r("GBR",d,g);break;case "ggr":b.add("gradient");e.style.addFromBlob(d,g);break;case "gpl":b.add("color");e.style.addFromBlob(d,g);break;default:g()}},onprogress:function(a,b,c){e.loader&&(e.loader.create("decoding",
m.translate("opening-format",".ZIP")+"...",a),e.loader.create("decodingFiles",w.string.filename(c)))}}))})},u=function(a,b,c,d,f){e.save.confirm({oncontinue:function(){a(b,c,d,!1,f)},onrequestsave:function(){e.save.fromQuery()},oncancel:function(){console.log("cancel")}})},s=function(a,b,c,d,f){if(d&&f)return u(s,a,b,c,f);e.loader&&e.loader.create("decoding",m.translate("opening-format",".PDF")+"...");e.open.pdf({file:URL.createObjectURL(a),point:b,openAsNew:f,onprogress:function(a){e.loader&&e.loader.create("decoding",
null,a)},onsuccess:function(){f||c&&c()},onerror:function(){}})},l=function(a,b,c,f,g){c=new FileReader;c.onload=function(a){a=new Uint8Array(a.target.result);a=new PSD.Parser(a);a.parse();d.addMedia({element:a.imageData.createCanvas(a.header,a.colorModeData),x:b.x,y:b.y})};c.readAsArrayBuffer(a)};d.addBackground=function(b,f,g,l){"string"===typeof b&&(b={src:b});f=f||b.onload;g=g||b.onerror;l=l||b.onprogress;var v=function(a){a.name="background";a.selectable=!1;a.useStickToBack=!0;c.removeByName("background");
c.copyRules(b,a);a=c.addObject(a);c.updateConstrain(a);d.history&&d.history.store({cmd:"add",icon:"screen",name:"background",data:[a]});d.render.scene("doc.addBackground");f&&f(a)},s=e.style.validate(b.src);"color"===s||"gradient"===s?(g=d.container,v({type:"rectangle",fill:new e.style.Fill(b.src),stroke:new e.style.Stroke,width:g.offsetWidth,height:g.offsetHeight,useConstrain:!0,useStretchToEdge:!0})):e.assets.add({src:b.src,onprogress:l,onerror:g,onload:function(b,c){var d=c.width||c.vob.width,
f=c.height||c.vob.height,g={type:c.type||"image",src:b,bbox:{}},l=g.bbox,q=a.width,e=a.height;d/f<q/e?(g.useConstrainX=!0,g.useAlignY="top",l.width=q,l.height=f/d*q):(g.useConstrainY=!0,g.useAlignX="left",l.width=d/f*e,l.height=e);l.owidth=l.width;l.oheight=l.height;v(g)}})};d.addFromDrag=function(b){-1!==String(b).indexOf("Event")&&(b={target:this,src:this.src});var g=b.target,l=b.event,q=b.src||g.getAttribute("data-src")||g.src,v=b.type||g.getAttribute("data-type")||"clipart";e.assets.add(q);var s=
h.clone(g,"sk-draggable"),r=h.measure(g),u=r.padding,w=u[2]+u[3],m=r.border,y=u[0]+m[0],A=u[2]+m[2],k=r.width,F=r.height;s.style.width=k-(u[0]+u[1])+"px";s.style.height=F-w+"px";return eventjs.proxy.drag({position:"move",target:g,event:l,listener:function(g,l){if(!f.media)return console.log("missing toolkit");var e=eventjs.getPageXY(g);if("down"===l.state){var t=eventjs.getBBox(l.target);l.offset={};l.offset.x=t.width/2-(e.x-l.x);l.offset.y=t.height/2-(e.y-l.y);eventjs.prevent(g)}var x=l.bbox.pageYOffset,
h=l.bbox.pageXOffset;s.style.left=l.x+h+y-1+"px";s.style.top=l.y+x+A-1+"px";if(!s.addedToDOM){var t=Math.abs(l.x-l.start.x),r=Math.abs(l.y-l.start.y);if(t>k/2||r>F/2)s.addedToDOM=!0,document.body.appendChild(s)}if("up"===l.state){t=e.x-h;r=e.y-x;s.style.display="none";var u=document.elementFromPoint(t,r);u&&u.classList.contains("layer-active")?(t=f.media,t.device.useMinWidth=1,t.device.useMaxWidth=2E3,t=eventjs.getBBox(d.container),r=d.zoom,u=e.y-t.y1-t.pageYOffset-a.orientY,t=(e.x-t.x1-t.pageXOffset-
a.orientX)/r+l.offset.x+h,r=u/r+l.offset.y+x,c.deselectAll(),c.add({centerOnPoint:!0,type:v,src:q,x:t,y:r},function(a){c.select(a);b.ondrop&&b.ondrop(a)})):d.exportDrop(q,t,r);s.addedToDOM&&document.body.removeChild(s)}}})};d.exportDrop=function(a,b,c){!g.io.exportDrop||0<b&&0<c&&b<window.innerWidth&&c<window.innerHeight||(b=d.selection.item,e.assets.add({src:a,type:b?b.type:d.tool.type,onload:function(b){var c=(w.string.filename(a)||"").split(".").shift();this.vob?e.download.blob(new Blob([this.stringify()],
{type:"image/svg+xml"}),c+".svg"):e.assets.getBlob(b,function(a){e.download.blob(a,c+".png")})}}))};d.changeMedia=function(a){var l=a.type,x=a.src,q=a.onload,v=a.onprogress,s=a.onerror;g.vector.edit||"text"===d.tool.type||c.deselectAll();var h=d.selection.items,r="select"===d.tool.type,u=d.selection.item,u=d.config,m=[],y=[];switch(l){case "clipart":case "image":case "stamp":a=x;"stamp"===l?(a=a.replace("thumb","live"),u[l].src=a):(u[l].src=a,x=f.media,x.device.src=a,x.device.render=void 0);for(var A in h)if(u=
c.children[A],"image"===u.type&&"clipart"===l?u.type="clipart":"clipart"===u.type&&"image"===l&&(u.type="image"),u&&u.type===l)if(h=u.src,u.src=a,c.ensureMaxCopies(u)){var h={id:u.id,src:h},x={id:u.id,src:a},k=e.lib[u.type].getEntry(u.src);if(k)for(var F in e.attrs.__rules)void 0===k[F]?void 0!==u[F]&&(h[F]=u[F],x[F]="",delete u[F]):(h[F]=u[F],x[F]=k[F],u[F]=k[F]);m.push(h);y.push(x);u.dirtyResource=!0;u.dirtyCheck=!0}else u.src=h;break;case "text":for(A in F=a.fontFamily||a.name,x=f.text,x.device.fontFamily=
F,u[l].fontFamily=F,h)(u=c.children[A])&&"text"===u.type&&(m.push({id:u.id,fontFamily:u.fontFamily}),y.push({id:u.id,fontFamily:F}),u.fontFamily=F,u.dirtyResource=!0)}m.length&&y.length?(d.selection.length&&w.Canvas.clear(d.contexts.active),d.history&&d.history.store({cmd:"update",icon:"image",name:"change-media",data:{from:m,to:y}}),b.preload({onerror:s,onprogress:v,onsuccess:q})):f.setTool({type:l,onerror:s,onsuccess:function(){r?f.setTool("select"):e.ui.setToolMenu&&e.ui.setToolMenu(d.tool.type);
q&&q()}});d.saveSettings()}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.AddMedia)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.AddObject=function(e,d){d.addObject=function(h,g,m,b){var c=e.detect,f=e.feature,w=d.render,r=d.scene,y=d.toolkit,u=e.util,s=e.vector;h=h||{};g=g||function(){};m=m||function(){};b=b||{};var l=b.fromSelf||!1,p=b.fromCollection||!1,t=isFinite(b.useRecord)?b.useRecord:!0,x=isFinite(b.useRender)?b.useRender:!0,q=isFinite(b.useHistory)?b.useHistory:!0,v=h.type;if(Array.isArray(h)||h.data&&!v){r=h.data||h;t=isFinite(h.useRender)?h.useRecord:!0;x=isFinite(h.useRender)?
h.useRender:!0;b=h.scale;if(isFinite(b))for(f=0;f<r.length;f++){var z=r[f];if(void 0!==z&&!z.useStretchToEdge&&!z.useStretchToFit){var C=z.bbox=z.bbox||{x:0,y:0};C.x*=b;C.y*=b;"text"===z.type?z.fontSize*=b:(C.scale=C.scale||{x:1,y:1},C.scale.x*=b,C.scale.y*=b)}}var J=[];u.Queue({items:r,oncomplete:function(){a(g,J,x)},next:function(a){var b=this;d.addObject(a,function(a){J.push(a);b.next()},function(a){b.next()},{fromSelf:l,fromCollection:!0,useRecord:t,useRender:x})}})}else{if(!y.exists(v))return r=
v+" toolkit not found.",f.debug&&console.error(r),m({message:r});d.render.dirtyControls=!0;var D=d.config[v];if(!0!==l){if("media"===D.toolkit&&h.src)return e.assets.add({type:v,targetId:h.targetId,src:h.src,onload:function(a,b){var c=y.media.device;c.bbox||(c.bbox={});c.bbox.viewBox="clipart"===b.type?b.viewBox:[0,0,b.width,b.height];c.src=D.src=h.src;c.render=void 0;d.addObject(h,g,m,{fromSelf:!0,fromCollection:p,useRecord:t,useRender:x})}});if("text"===D.toolkit&&h.fontFamily&&(!s.text.supports[D.fontFamily]||
D.fontFamily!==h.fontFamily))return y.text.loadFont({fontFamily:h.fontFamily,onerror:m,onsuccess:function(){D.fontFamily=h.fontFamily;d.addObject(h,g,m,{fromSelf:!0,fromCollection:p,useRecord:t,useRender:x})}})}r.decompress(h);var B=y.getFeature(v),C=h.bbox=h.bbox||{},E=function(a,b){var c=typeof b;return typeof C[a]===c?C[a]:typeof h[a]===c?h[a]:b},f=function(a,b){return C[a]=E(a,b)},z=h.width,A=h.height;b=E("scale",1);isFinite(b)&&(b={x:b,y:b});f("units",B.units||"objectBoundingBox");f("padding",
0);f("rotate",0);f("scale",b);isFinite(E("width",0))&&(z=f("width",0));isFinite(E("height",0))&&(A=f("height",0));b=y.getToolkit(v);if(c.brush[v])if(h.points||h.data)u=h.points||h.data,"string"===typeof u&&(h.path="M"===u[0]?s.SVGPath.toVOBPath(u):s.SVGPath.toVOBPolygon(u));else{console.warn(v+" requires a path!",h);onsuccess&&onsuccess();return}else if(!z||!A)if(c.shape[v])z||(C.width=z=A||b.defaultWidth),A||(C.height=A=z||b.defaultHeight);else if(c.media[v])A=b.device.bbox.viewBox,z=A[2]-A[0],A=
A[3]-A[1],s=d.bounds,c=B.maxWidth||u.INFINITY,B=B.maxHeight||u.INFINITY,C.width||C.height||(v=d.viewport,c=Math.min(c,v.width,s.width,z),B=Math.min(B,v.height,s.height,A)),u=u.fitSize(z,A,{width:C.width||"auto",height:C.height||"auto",maxWidth:c,maxHeight:B}),C.width=z=u.width,C.height=A=u.height;else if("text"===v)if(z=r.clone(d.config.text,!0),u.copyInto(h,z),h.content)u=y.text.measureText(h,z),z=s.text.getFontStyle(h),z=s.text.measureTextWidth("M",z),z=u.width+z,A=u.height,C.width=z=C.width||z,
C.height=A=C.height||A;else{console.warn("Text requires content!",h);onsuccess&&onsuccess();return}else if("group"!==v){console.warn("Object requires view-box!",h);onsuccess&&onsuccess();return}r=r.getCenterPoint();f("x",r.x);f("y",r.y);if((r=h.centerOnPoint)||"objectBoundingBox"===C.units&&!1!==r)C.x-=z/2*C.scale.x,C.y-=A/2*C.scale.y;isFinite(C.x)&&(C.x+=d.x);isFinite(C.y)&&(C.y+=d.y);w.pointer.place=b.loadObject(h);b.createObject({device:w.pointer.place,object:h},function(b){delete w.pointer.place;
q&&d.history.store({cmd:"add",icon:b.type,name:b.type,data:[b]});a(g,b,x&&!p)})}};var a=function(a,g,e){e?d.render.scene({from:"doc.addObject",onsuccess:function(){a&&a(g)}}):a&&a(g)}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.AddObject)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Assets=function(e,d){var a=this,h=e.client,g=e.convert,m=e.feature,b=e.gen,c=e.lib,f=e.loc,w=e.util.string,r=d.toolkit,y=e.util,u=e.vector;a.reset=function(){a.data={};a.missing={};a.URLtoID={};a.IDtoURL={};return a};a.remove=function(b){delete a.data[b];delete a.missing[b];return a};a.isEqual=function(b,c){if(b===c)return!0;var d=a.getItem(b);return d&&d.src===c?!0:(d=a.getItem(c))&&d.src===b?!0:!1};a.isDefault=function(a){if(a)return"sk-default"===a.className};
a.getBlob=function(b,c,d,f){var g=a.getById(b);g.blob?c(g.blob,b):g.srcXML?(g.blob=new Blob([g.srcXML],{type:"image/svg+xml"}),g.blob.lastModified=g.lastModified,c(g.blob,b)):s(g).toBlob(function(a){g.blob=a;g.blob.lastModified=g.lastModified;c(a,b)},d,f)};a.getBlobURL=function(b,c,d,f){a.getBlob(b,function(a){c(URL.createObjectURL(a))},d,f)};a.getDataURL=function(b,c,d){return s(a.getById(b)).toDataURL(c,d)};a.getURL=function(b){return a.getById(b).src||b};a.getId=function(b){return a.URLtoID[b]?
a.URLtoID[b]:a.data[b]?b:""};a.getById=function(b,c){var d=a.data[b];return d?d:a.createDefault(b,c)};a.getItem=function(b){return a.data[a.getId(b)]||""};a.getRaw=function(a){return s(a)};var s=function(a){return"IMG"===a.nodeName?g.imageToCanvas(a):a};a.getUnused=function(){var b={};d.scene.traverse(function(a){b[a.src]=!0});var c=[],f;for(f in a.data)void 0===b[f]&&c.push(f);return c};var l=y.arrayToObject(["[object Blob]","[object File]"]),p=y.arrayToObject(["[object HTMLCanvasElement]","[object HTMLImageElement]"]),
t=y.arrayToObject(["[object File]"]);a.addList=function(b,c){if(y.count(b)){var d=0,f=function(){--d||c()},g;for(g in b){d++;var l=b[g];"string"===typeof l&&(l={src:l,targetId:g});a.add(l,f,f)}}else return c()};a.add=function(b,c,f,s){"string"===typeof b?b={src:b}:l[String(b)]&&(b={blob:b});var h=b.src||b.blob||b.data||"",u;if(!(u=b.type))a:{if("string"===typeof h)switch(w.filename(h).toLowerCase().split(".").pop()){case "jpeg":case "jpg":case "png":case "gif":case "webp":u="image";break a;case "svg":u=
"clipart";break a}u=void 0}var r=b.targetId||null,B=b.lastModified||Date.now();c=b.onload||c;f=b.onerror||f;s=b.onprogress||s;var E,A=String(h);if(!h)return console.warn("assets.js",b),f&&f();if(p[A])return a.createId(h,function(b){a.createResource(b,"image",h);c&&c.call(h,b,h)},r);if(l[A]){B=h.lastModified||B;if("image/svg+xml"===h.type)return g.blobToText(h,function(d){b.src=d;b.type="clipart";b.lastModified=B;a.add(b,c,f,s)});t[A]||(E=h);h=URL.createObjectURL(h)}if(0===h.indexOf("#asset-")){var k=
h,h=a.getById(h,b);if(void 0===a.data[k]){if(e.io.json.folder)return E="clipart"===b.type?".svg":".png",b.src=e.io.json.folder+k.substr(1)+E,a.add(b,c,f,s);a.createDefault(k,b)}c&&c.call(h,k,h)}else if(a.URLtoID[h])k=a.URLtoID[h],E=a.getById(k,b),"clipart"===E.type&&E.clone&&!m.cacheSVG?E.clone(function(b){a.createId(b.toDataURL(),function(d){a.createResource(d,"clipart",b);c&&c.call(b,d,b)},r||k)},!0):c&&c.call(E,k,E);else{var F={type:u,src:h,blob:E,lastModified:B,onload:c,onerror:f,onprogress:s,
targetId:r};E=a.detectFormat(h,u);if("clipart"===E)a.loadSVG(F);else if("image"===E)a.loadImage(F);else if("video"===E){var G=document.createElement("video");G.src=h;G.play();eventjs.add(G,"playing",function(){var b=y.Canvas(G.videoWidth,G.videoHeight);b.ctx.drawImage(G,0,0);b.toBlobURL(function(b){d.scene.add({type:"image",src:b});F.src=b;a.loadImage(F)})})}}};a.addClipart=function(d,f,g,l,e){a.add({type:"clipart",data:d,onload:function(d,g){var l=c.clipart;if(!l||!l.tree)return f(d,g);var e=l.tree["Your Files"];
if(e&&!a.isDefault(g)){if(e[d]){f&&f(d,g);return}e[d]="loading";return b.preview({type:"clipart",resource:g,width:52,height:52,oncomplete:function(a){l.paths.splice(0,0,e[d]={type:"clipart",filename:d,filepath:d,thumbnail:a.canvas.toDataURL(),category:"Your Files"});f&&f(d,g)}})}f&&f(d,g)},onprogress:l,onerror:g,targetId:e})};a.addImage=function(b,d,f,g,l){a.add({type:"image",data:b,onload:function(b,f){var g=c.clipart;if(g){var l=g.tree["Your Files"];if(l&&!a.isDefault(f)){if(l[b]){d&&d(b,f);return}l[b]=
"loading";return y.thumbnailer({src:f,width:52,height:52,center:!0,crop:"edge",onload:function(a){g.paths.splice(0,0,l[b]={type:"image",filename:b,filepath:b,thumbnail:a.toDataURL(),category:"Your Files"});d&&d(b,f)}})}}d&&d(b,f)},onprogress:g,onerror:f,targetId:l})};a.addStamp=function(b,f,g,l,e){a.add({type:"image",data:b,onload:function(b,g){y.removeColorFromCanvas&&(g=a.getRaw(g),y.removeColorFromCanvas(g),a.data[b]=g);var l=c.stamp;if(l){var e=l.tree["Your Files"];if(e&&!a.isDefault(g)){if(e[b]){f&&
f(b,g);return}e[b]="loading";return y.thumbnailer({src:g,width:52,height:52,center:!0,crop:"edge",onload:function(a){d.config.stamp.src=b;l.paths.splice(0,0,e[b]={type:"stamp",filename:b,filepath:b,thumbnail:a.toDataURL(),category:"Your Files"});f&&f(b,g)}})}}f&&f(b,g)},onprogress:l,onerror:g,targetId:e})};a.addPattern=function(a,b,c,d,f){};a.addFont=function(a,d,f,g,l){var t=URL.createObjectURL(a),p=a.name.match(/([^:\\/]*?)(?:\.([^ :\\/.]*))?$/)[1];e.vector.text.attach({timeout:3E3,family:p,filepath:t},
function(g){if(g)console.error(g),f&&f();else{if(g=c.text){var l=g.tree["Your Files"];if(l){if(g.byName[p]){d&&d(p,a);return}return b.preview.text({fonts:[{name:p,filepath:t}],type:"text",resource:t,width:52,height:52,oncomplete:function(a){l.push({type:"text",name:p,filename:p,filepath:t,thumbnail:a.canvas.toDataURL(),category:"Your Files"});e.lib.text.reindex();d&&d(p,t)}})}}d&&d()}})};a.addFromBlob=function(b,c,d,f){var g=b.blob,l=b.targetId;b=b.type||a.detectFormat(g);"stamp"===b?a.addStamp(g,
c,d,f,l):"clipart"===b||"svg"===b||"symbol"===b?a.addClipart(g,c,d,f,l):a.addImage(g,c,d,f,l)};a.addFromObjects=function(b){for(var c=0;c<b.length;c++){var d=b[c],f=d.src;if(f&&"#"===f[0])switch(d.type){case "clipart":a.addClipart(f);break;case "image":a.addImage(f);break;case "stamp":a.addStamp(f)}}};a.addCloneFromSelection=function(){e.save.toBlobURL({background:"none",useSelection:!0,callback:function(a){d.scene.add({centerOnPoint:!0,type:"image",src:a})}})};a.addStampFromSelection=function(b){e.save.canvas({background:"none",
useSelection:!0,onsuccess:function(c){d.scene.deselectAll();r.renderSceneControls(null,!0);a.addStamp(c,function(){e.ui.refresh("stamp");r.setTool({type:"stamp",onsuccess:function(){var a=d.tool.device.brush,c=a.fill;c[c.type]="none";delete a.fill.__colors;b&&b()}})})}})};a.detectFormat=function(a,b){var c="object"===typeof a?"."+(a.type||"").replace("image/","").replace("+xml",""):a.slice(-4).toLowerCase();return".png"===c||".jpeg"===c||".jpg"===c||".gif"===c?"image":".mp4"===c?"video":".svg"===
c||u.SVG&&u.SVG.detect(a)?"clipart":b||"image"};a.loadSVG=function(b){var c=b.src,g=b.targetId,l=b.lastModified,e=b.onload,t=b.onerror,p=b.onprogress;c.startsWith("<svg")&&(c='<?xml version="1.0" encoding="UTF-8"?>'+c);c.startsWith("<?xml")&&(c="data:image/svg+xml;base64,"+btoa(w.encode_utf8(c)));return c.startsWith("data:image/svg")?a.createId(c,function(b){var f=a.data[b];m.cacheSVG&&f&&!a.isDefault(f)?e&&e.call(f,b,f):new u.SVG({src:c,ctx:d.contexts.cache.ctx,useCache:m.cacheSVG,onprogress:p,onerror:function(a){m.debug&&
console.log(a);t&&t(a)},onload:function(c){c.lastModified=l;a.createResource(b,"clipart",c);e&&e.call(c,b,c)}})},g):y.request({url:f.getMediaUrl(c),onerror:t,onsuccess:function(b){a.add({targetId:g,data:b.target.responseText,onprogress:p,onerror:function(a){m.debug&&console.log(a);t&&t(a)},onload:function(b,d){a.URLtoID[c]=b;a.IDtoURL[b]=c;e&&e.call(d,b,d)}})}})};a.loadImage=function(b){var c=b.src,d=b.targetId,l=b.lastModified,e=b.onload,t=b.onerror,p=b.onprogress;y.loadImage({src:f.getMediaUrl(c),
onprogress:p,onerror:t,onload:function(){var f=this;h.ios&&y.exists("MegaPixImage")&&(f=g.imageToCanvas(this));a.createId(f,function(d){f.assetID=f.title=d;f.image={src:c};f.lastModified=l;f.setAttribute("data-src",c);a.URLtoID[c]=d;a.IDtoURL[d]=c;a.createResource(d,"image",f);if(b.blob)f.blob=b.blob;else if(m.stream.maxFileSize)return that.getBlob(d,function(a){e&&e.call(f,d,f)});e&&e.call(f,d,f)},d)}})};a.createId=function(b,c,d){if(d)return c(d);"string"===typeof b?25E4<b.length?c("#asset-"+y.MD5(b.substr(0,
25E4))):c("#asset-"+y.MD5(b)):b.assetID?c(b.assetID):c(a.createIdFromImage(b))};a.createIdFromImage=function(b){var c=b.width,d=b.height;if(64>c&&64>d&&b.toDataURL)b.assetID="#asset-"+y.MD5(b.toDataURL());else{var f=a.thumbnail||y.Canvas();f.ctx=f.ctx||f.getContext("2d");var g=Math.min(c,64),l=Math.min(d,64);f.width=g;f.height=l;f.ctx.drawImage(b,0,0,c,d,0,0,g,l);a.thumbnail=f;b.assetID="#asset-"+y.MD5(f.toDataURL())}return b.assetID};a.createDefault=function(b,c,d){c=y.Canvas();c.width=1;c.height=
1;c.className="sk-default";d=c.getContext("2d");d.fillStyle="rgba(127,127,127,0.5)";d.fillRect(0,0,1,1);a.data[b]=c;a.missing[b]=!0;return c};a.createResource=function(b,c,f){var g=a.data[b]||"",l=a.isDefault(g);a.data[b]=f;a.data[b].type=c;(!g||l)&&e.sfclient&&a.getBlob(b,function(a){void 0===e.sfclient.files[b]&&e.sfclient.sendFile(a,b)});if(a.missing[b]||l)delete a.missing[b],d.scene.traverse(function(a){a.src===b&&(a.dirtyCache=!0,a.toolkit.loadResource({object:a}))})};return a.reset()};"undefined"!==
typeof module&&module.exports&&(module.exports=k.module.Assets)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Controls=function(e,d){var a=d.canvas2d,h=d.contexts,g=e.feature,m=d.render,b=d.scene,c=d.toolkit,f=e.ui,w=e.util,r=e.vector,y=r.Point,u=r.Shape;c.contextEvent=function(a){eventjs.prevent(a);c.text&&c.text.hideArea();m.dirtyControls=!0;m.dirty=!0;var b=eventjs.getPageXY(a);a=eventjs.getBBox(a.target);contextmenu.show(f.menuSelect,b.x-a.pageXOffset+5,b.y-a.pageYOffset+5,!0)};c.deleteEvent=function(a){var f=a.target,g=function(){eventjs.remove(f,"mouseup",
g);if((b.controls[1]||{}).hovered){d.selection.remove();c.text&&c.text.hide();var a=0,l=setInterval(function(){var b=h.active,c=b.ctx;c.save();c.globalAlpha=.25;c.globalCompositeOperation="destination-out";c.fillRect(0,0,b.width,b.width);c.restore();10<++a&&(clearInterval(l),m.scene("root.deleteAction"))},25)}};eventjs.prevent(a);eventjs.add(f,"mouseup",g)};c.moveEvent=function(a){var g=b.getFocused()||b.getOneSelected();if(g){var l=g.trx2D;if(l)return eventjs.proxy.drag({event:a,target:h.active,
position:"absolute",listener:function(a,q){eventjs.prevent(a);var e=d.zoom,t=q.state,p=q.hasMoved(),s=q.pointerEnd;window.contextmenu&&contextmenu.visible&&(t="up",q.pause());s?(b.hoverControlIdx="",b.activeControlIdx=""):p&&(b.activeControlIdx="anchor");if(1===d.selection.length&&g.brush&&g.brush.move)g.brush.move(q);else{c.select.__moving=!s;switch(t){case "down":d.selection.translate(0,0,{method:"cache"});break;case "move":d.selection.translate((q.x-(q.px||0)+(d.scrollLeft-(q.scrollLeft||0)))/
e,(q.y-(q.py||0)+(d.scrollTop-(q.scrollTop||0)))/e,{method:"move"});break;case "up":d.selection.translate(0,0,{method:"record"})}q.px=q.x;q.py=q.y;q.scrollLeft=d.scrollLeft;q.scrollTop=d.scrollTop;s?(m.dirty=!0,m.dirtyControls=!0,m.dirtyCenterPoint=!1,f.tooltip&&f.tooltip.update("")):(e={x:q.x,y:q.y},m.dirty=!0,m.dirtyControls=!0,m.dirtyCenterPoint={pt:e,trx:l,origin:l.cp,bbox:g.bbox,useMove:p,useScale:!p,proportional:!0})}},maxFingers:1})}};var s=function(e,s,u,r){var z=b.getFocused();if(z){var A=
z.trx2D;if(A){var k=function(a,b,c){var d=y.clone(Va);b=y.atRadianDistance(d,(b+H.rotate)*w.DEG_RAD,1);b=y.nearestOnLine(a,d,b);a=y.distance(d,b)||G;b=y.subtract(d,b);var d=0>b.x,f=0>b.y;void 0===T[c]&&(T[c]={x:d,y:f});if(ba&&la||"xy"===c)return a;b=T[c];return a*(b.x===d&&b.y===f?1:-1)},F=function(a){var b=k(a,0,"x"),c=k(a,90,"y");if(Ea)return{x:Wa?H.width:b,y:Xa?H.height:c};if(Wa&&!ga)return{x:G,y:c};if(Xa&&!ga)return{x:b,y:G};if(ga){if(ua)var d=0>b?-1:1,f=0>c?-1:1;else f=d=1;va?(b=l[da],0>H.scale.x!==
0>H.scale.y&&(b+=90),a=k(a,b,"xy")):a=Math.max(Math.abs(b),Math.abs(c));return{x:a*d,y:a*f}}return{x:b,y:c}},G=1E-10,L=eventjs.getBBox(e.target),K=d.zoom,N=d.pixelRatio,H=z.bbox,Q=w.copy(H),T={},P,R,X={},W={},U={},V,O,Y,S,$=eventjs.altKey,ha=eventjs.shiftKey,ga,ma,ba,la,ja=g.tools[z.toolkitId]||{},ua=ja.flippable,va=1<d.selection.length,Fa=!1,Ea="text"===z.type&&"pre-nowrap"!==z.whiteSpace&&($||r),Ga="objectBoundingBox"===H.units&&!Ea,da=b.hoverControlIdx,Ka=p[da],oa=!!x[da],Xa=!!q[da],Wa=!!v[da],
ib=Xa||Wa,Va=function(){if((eventjs.altKey||g.canvas.useGroupBBox)&&va)return b.getBoundingOrigin({useSelection:!0});var a=Ga?A.cp:A[p[da]]||A.cp;return{x:a.x+d.scrollLeft,y:a.y+d.scrollTop}}();d.__editing&&(Fa=!0,c.text&&c.text.disableArea());return eventjs.proxy.drag({position:"relative",event:e,target:h.active,listener:function(l,q){eventjs.prevent(l);V=q.state;O=q.pointerStart;Y=q.pointerEnd;S=q.hasMoved();ga=ha===ib||s&&u;ma=ha;ba=!(!1===s||!1===z.rotatable||!0===ib);la=!(!1===u||!1===z.scalable);
Fa&&Y&&c.text&&c.text.enableArea(z);window.contextmenu&&contextmenu.visible&&(V="up",q.pause());Y?(b.hoverControlIdx="",b.activeControlIdx=""):O&&(b.activeControlIdx=da);la&&va&&(O&&!1===ga?(va=!1,d.selection.reset(),d.selection.select(d.hovered.idx),g.tools.select.useConfigure&&f.configureBuild()):ga=!0);c.select.__moving=!Y;if(!d.__rendering||Y){var e={x:q.x,y:q.y};e.x/=K;e.y/=K;e.x-=a.x/K/N;e.y-=a.y/K/N;if(ba){var p=Va.y-e.y||G,v=-Math.atan2(Va.x-e.x||G,p)*w.RAD_DEG+180,p=0;ma&&(v-=v%5,p=H.rotate%
5);P!==+P&&(P=v);R=v-P-p;P=v}else H.rotate=Q.rotate;if(Ea&&oa){q.pointerStart&&(q.env.x=H.x,q.env.y=H.y,q.env.width=H.width,q.env.height=H.height,q.env.owidth=H.owidth,q.env.oheight=H.oheight,q.env.viewBox=w.copy(H.viewBox));var h=z.toolkit,v=F(e),p=H.scale,e=Math.max(h.minWidth,v.x/p.x),v=Math.max(h.minHeight,v.y/p.y);0>oa.x&&(p=H.x,H.x=e*oa.x+q.env.width+q.env.x,e=H.width+p-H.x);H.width=e;H.owidth=e;H.viewBox[2]=e;ja.autoHeight||(0>oa.y&&(e=H.y,H.y=v*oa.y+q.env.height+q.env.y,v=H.height+e-H.y),
H.height=v,H.oheight=v,H.viewBox[3]=v);z.__textMetrics=void 0;z.dirtyCheck=!0;h.updateObjectSize(z);m.dirty=!0;m.dirtyControls=!0;Y&&S&&d.history&&d.history.store({cmd:"update",icon:"infinity",name:"Resize Text",data:{from:[{id:z.id,bbox:{x:q.env.x,y:q.env.y,width:q.env.width,height:q.env.height,owidth:q.env.owidth,oheight:q.env.oheight,viewBox:q.env.viewBox}}],to:[{id:z.id,bbox:{x:H.x,y:H.y,width:H.width,height:H.height,owidth:H.owidth,oheight:H.oheight,viewBox:H.viewBox}}]}})}else{v=H.scale;p=v.x;
v=v.y;if(la){var x=F(e);X.x!==+X.x&&(X.x=x.x);X.y!==+X.y&&(X.y=x.y);var r=Q.scale,p=x.x/X.x*r.x||(Wa?1:G),x=x.y/X.y*r.y||(Xa?1:G);U.x=p/(W.x||p);U.y=x/(W.y||x);W.x=p;W.y=x}else W.x=p,W.y=v;d.selection.transform({origin:Va,method:V,control:Ka,rotate:R,scale:U});"spinner"===da&&(x=0>v?-1:1,p=-Math.abs(k(e,90,"y")),A.spinnerDistance=(p+H.height*v/2*x)*x);-1!==da.indexOf("spinner")?(e=q.bbox,h={x:q.x+e.x1-e.scrollLeft,y:q.y+e.y1-e.scrollTop}):A[da]&&(e=A[da],h={x:e.x*K+L.x1-L.pageXOffset+a.x/N,y:e.y*
K+L.y1-L.pageYOffset+a.y/N});s&&g.ui.dynamicCursor&&b.hoverControl&&f.setCursor(b.hoverControl.cursor,z);m.dirty=!0;m.dirtyControls=!0;Y?(m.dirty=!0,m.dirtyControls=!0,m.dirtyCenterPoint=!1,f.tooltip&&f.tooltip.update("")):(m.dirty=!0,m.dirtyControls=!0,h&&(m.dirtyCenterPoint={pt:h,origin:A.cp,bbox:H,useRotate:ba,useScale:la,proportional:t[da]}))}}},maxFingers:1})}}};c.resizeEvent=function(a){s(a,!1,!1,!0)};c.scaleEvent=function(a){s(a,!1,!0,!1)};c.rotateEvent=function(a){s(a,!0,!1,!1)};c.rotateScaleEvent=
function(a){s(a,!0,!0,!1)};var l={n:270,e:0,s:90,w:180,ne:315,se:45,sw:135,nw:225},p={n:"s",e:"w",s:"n",w:"e",ne:"sw",se:"nw",sw:"ne",nw:"se"},t={ne:!0,se:!0,sw:!0,nw:!0},x={e:{x:1,y:1},w:{x:-1,y:1},n:{x:1,y:-1},s:{x:1,y:1},ne:{x:1,y:-1},se:{x:1,y:1},sw:{x:-1,y:1},nw:{x:-1,y:-1}},q={e:!0,w:!0},v={n:!0,s:!0};c.renderCenterPoint=function(b){var c=b.origin,g=b.trx,l=b.bbox,q=l.rotate,e=l.scale,p=b.useRotate,t=b.useScale,v=b.useMove;f.tooltip&&(t?(b.proportional?(g=Math.abs(l.width*e.x).toFixed(0),e=
Math.abs(l.height*e.y).toFixed(0),g="W: "+g+" px",e="H: "+e+" px"):(g=(100*e.x).toFixed(0),e=(100*e.y).toFixed(0),g="SX: "+g+" %",e="SY: "+e+" %"),f.tooltip&&f.tooltip.update(g+"<br>"+e,b.pt)):v?(e=g.nw,l=g.ne,p=g.se,t=g.sw,g=Math.min(e.x,l.x,p.x,t.x).toFixed(2),e=Math.min(e.y,l.y,p.y,t.y).toFixed(2),f.tooltip&&f.tooltip.update("X: "+g+" px<br>"+("Y: "+e+" px"),b.pt)):p&&(g=Math.round((q+360)%360)+String.fromCharCode(176),f.tooltip&&f.tooltip.update(g,b.pt)));g=d.pixelRatio;e=g*d.zoom;b=c.x*e+a.x;
c=c.y*e+a.y;g*=10;e=h.active.ctx;e.save();e.beginPath();e.shadowOffsetX=1;e.shadowOffsetY=1;e.shadowColor="rgba(255,255,255,0.5)";e.shadowBlur=0;e.beginPath();e.translate(b,c);e.rotate((q+45)*w.DEG_RAD);u.cross(e,0,0,g,g);e.shadowColor="rgba(0,0,0,0.5)";e.strokeStyle="#dd167a";e.stroke();e.restore()};c.renderSceneControls=function(a,f,g){if(a===+a){var l={};l[a]=!0;a=l}else a={};var l=d.selection.items,q=d.selection.length,e=1===q,q=1<q,p=f||l!==JSON.stringify(l),t=h.active.ctx;(f||g&&p)&&w.Canvas.clear(h.active);
b.controls=[];l=b.children;for(f=0;f<l.length;f++){g=b.children[f];p&&(g.dirtyControl=!0);var v=d.selection.idx===f;d.hovered.items[f]&&!e||e&&v?c.renderObjectControls(t,g):(a[f]||v)&&c.renderObjectControls(t,g,!0)}q&&c.renderSceneSelection(d.selection.items)};c.renderSceneSelection=function(b){if(g.debug){var c=h.active.ctx;b=d.selection.getBBox(b);var f=d.scrollLeft*d.pixelRatio,l=d.scrollTop*d.pixelRatio;c.save();c.lineWidth=1;c.translate(a.x-f,a.y-l);c.strokeStyle="#0E81D4";c.strokeRect((b.x1>>
0)-.5,(b.y1>>0)-.5,(b.x2-b.x1>>0)+1,(b.y2-b.y1>>0)+1);c.restore()}};c.renderObjectControls=function(c,f,l){var q=f.trx2D;if(q&&q.apply&&f&&!1!==f.visible&&f.dirtyControl){delete f.dirtyControl;var e=b.activeControlIdx;if("anchor"!==e){var t="spinner"===e,v=!!p[e],s=d.selection.id===f.id,h=d.__editing&&s;if((e=f.brush)&&e.drawControl){var x=e.drawControl(f);s&&(b.controls=x)}else{var u=f.bbox,r=d.pixelRatio,w=d.zoom,m=w*r,y=r/m,e=u.scale,k=e.x,R=e.y,X=u.width,W=u.height,e=X*k,U=W*R,V=f.toolkitId,O=
g.tools[V]||{},x=O.controls||{},x=x.anchor||{};!O.drawBBox||t||h||(c.save(),c.translate(a.x,a.y),c.scale(m,m),q.apply(c,!0),c.beginPath(),c.rect(0,0,e,U),c.restore(),h=s?x.focus||x:x.normal||x,c.save(),c.lineWidth=(h.lineWidth||1)*r,c.shadowOffsetX=h.shadowOffsetX||1,c.shadowOffsetY=h.shadowOffsetY||1,c.shadowBlur=h.shadowBlur||0,"light"===g.theme?(c.shadowColor=h.shadowColor||"#fff",c.strokeStyle=h.strokeStyle||"#666"):(c.shadowColor=h.strokeStyle||"#666",c.strokeStyle=h.shadowColor||"#fff"),c.stroke(),
c.restore());if(!l){b.controls=[];l=d.theme.getControls(V);s=l.padding;h=q.point2d(0>k?k*X:0,0>R?R*W:0);l.anchor&&(r=l.anchor,V=r.padding,y*=V,O="",d.selection.items[f.zIndex]&&(O=r["title."+f.type+":selected"]||r["title:selected"]),O||(O=r["title."+f.type]||r.title||""),b.controls.push({id:"anchor",layerId:f.id,layerIdx:f.zIndex,type:"button",cursor:r.cursor,title:O,event:r.command,padding:V,bbox:{units:u.units,x:h.x,y:h.y,left:1.5*-V,top:1.5*-V,width:Math.abs(k*X+y),height:Math.abs(R*W+y),scale:{x:1,
y:1},rotate:u.rotate}}));if(!1===v&&l.spinner&&!1!==f.useControlSpinner&&(c.save(),c.translate(a.x,a.y),c.scale(m,m),c.lineWidth=1/w,c.beginPath(),v=e/2,w=(l.height+l.padding)/w*(0<R?-1:1),t?(h=l["spinner-focus"],c.strokeStyle=h.fillStyle,c.moveTo(q.cp.x,q.cp.y),w=q.spinnerDistance):c.moveTo(q.n.x,q.n.y),q=q.point2d(v,w),c.lineTo(q.x,q.y),c.stroke(),c.restore(),z(c,f,{id:"spinner",x:v,y:w}),t))return;t=l.nw&&!1!==f.useControlNW;q=l.ne&&!1!==f.useControlNE;v=l.se&&!1!==f.useControlSE;w=l.sw&&!1!==
f.useControlSW;u=l.n&&!1!==f.useControlN;m=l.e&&!1!==f.useControlE;k=l.s&&!1!==f.useControlS;R=l.w&&!1!==f.useControlW;l.nw_spinner&&(z(c,f,{id:"nw_spinner",color:"#00f",x:0,y:0}),z(c,f,{id:"ne_spinner",color:"#f0f",x:0,y:0}),z(c,f,{id:"se_spinner",color:"#f00",x:0,y:0}),z(c,f,{id:"sw_spinner",color:"#ff0",x:0,y:0}));u&&z(c,f,{id:"n",color:"#e9e34d",x:e/2,y:0,xPad:s,yPad:s});m&&z(c,f,{id:"e",color:"#e13b3b",x:e,y:U/2,xPad:s,yPad:s});k&&z(c,f,{id:"s",color:"#e9e34d",x:e/2,y:U,xPad:s,yPad:s});R&&z(c,
f,{id:"w",color:"#e13b3b",x:0,y:U/2,xPad:s,yPad:s});t&&z(c,f,{id:"nw",color:"#4fe896",x:0,y:0});q&&z(c,f,{id:"ne",color:"#3b8de1",x:e,y:0});v&&z(c,f,{id:"se",color:"#4fe896",x:e,y:U});w&&z(c,f,{id:"sw",color:"#3b8de1",x:0,y:U});l.nw_spinner_area&&(z(c,f,{id:"nw_spinner_area",color:"#f00",x:0,y:0}),z(c,f,{id:"ne_spinner_area",color:"#ff0",x:0,y:0}),z(c,f,{id:"se_spinner_area",color:"#0f0",x:0,y:0}),z(c,f,{id:"sw_spinner_area",color:"#0ff",x:0,y:0}))}}}}};var z=function(c,f,g){var l=f.trx2D,q=f.bbox,
e=g.id,p=eventjs.isTouch?"normal":b.activeControlIdx===e?"focus":b.hoverControlIdx===e?"hover":"normal",t=d.theme.getControls(f.toolkitId),v=t[e+"-"+p]||t[e];if(v){var s=d.zoom,h=s*d.pixelRatio;if(v.padding===+v.padding)var x=v.padding,r=x/s,u=x/s;else x=t.padding,r=g.xPad,u=g.yPad,r=(r===+r?r:x)/s,u=(u===+u?u:x)/s;var m=q.scale.x,z=q.scale.y,x=0>m?-1:1,y=0>z?-1:1,k=(x*v.left||0)/s,W=(y*v.top||0)/s,m={inherit:t.width/s*x,percent:q.width*m},U={inherit:t.height/s*y,percent:q.height*z},t=v.width,V=v.height;
"string"===typeof t&&(t=w.parseMath(t,m)*s);"string"===typeof V&&(V=w.parseMath(V,U)*s);var z=t/s,O=V/s,Y=v.x;Y!==+Y&&(Y="string"===typeof Y?w.parseMath(Y,m)-t/2/s:g.x-z/2);m=v.y;m!==+m&&(m="string"===typeof m?w.parseMath(m,U)-V/2/s:g.y-O/2);0>z&&(Y+=z,z=-z);0>O&&(m+=O,O=-O);g=l.point2d(Y,m);q={units:q.units,x:g.x,y:g.y,left:-r+k,top:-u+W,width:z+2*r,height:O+2*u,scale:{x:1,y:1},rotate:q.rotate};b.controls.push({id:e,title:v.title,type:"button",cursor:v.cursor||"default",hovered:"hover"===p,event:v.command,
onmousedown:v.onmousedown,onmouseup:v.onmouseup,onhover:v.onhover,bbox:q});c.save();c.beginPath();c.translate(a.x,a.y);c.scale(h,h);c.translate(q.x,q.y);c.rotate(q.rotate*w.DEG_RAD);e="svg"===v.shape?t/v.viewBox[2]:1;c.translate(k,W);v.render({object:f,ctx:c,matrix:{a:e*x/s,b:0,c:0,d:e*y/s,x:0,y:0}});c.restore()}}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Controls)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.SceneFind=function(e,d){var a=d.canvas2d,h=e.feature,g=d.contexts,m=d.scene,b=d.render,c=e.vector,f=c.Polygon,w=c.Point;m.findInRect=function(b){var c=b.rect||b,l=b.objects||m.children,e=b.deselect||!1,t=b.drawBBox||!1;b=b.usePointInBBox||!1;var p=d.zoom,s=d.pixelRatio;if(2===c.length)var x=r(c[0]),u=r(c[1]),c=[x,w(u.x,x.y),u,w(x.x,u.y)];else x=r(c[0]),u=r(c[2]);d.hovered.reset();var y=g.active.ctx,k=g.draw.ctx,G=u.x-x.x,L=u.y-x.y;k.rect(x.x+.5,x.y+.5,G,
L);for(var x=d.selection,u=x.length,e=e&&u,u={},K=l.length;K--;)if(G=l[K],!1!==G.selectable&&!1!==G.visible){var N=G.trx2D;if(N&&N.point2d){var H=[N.nw,N.ne,N.se,N.sw],L=G.bbox,Q=L.scale;0>Q.x*Q.y&&H.reverse();if(f.SAT(c,H))if((h.tools[G.toolkitId]||{}).usePointInPath&&!1===b)for(G=G.data,L=G.length,Q=0;Q<L;Q++){if(H=G[Q],H=N.point2d(H.x,H.y),k.isPointInPath(H.x,H.y)){if(e)if(x.items[K])u[K]=!1;else continue;else u[K]=!0;break}}else{if(e)if(x.items[K]){var H="rgba(0,0,0,0.20)",T="#0E81D4";u[K]=!1}else continue;
else H="rgba(255,255,255,0.20)",T="#0E81D4",u[K]=!0,G.dirtyControl=!0;t&&(G=L.width*Q.x,L=L.height*Q.y,y.save(),y.beginPath(),y.translate(a.x,a.y),y.scale(p*s,p*s),N.apply(y,!0),y.rect(0,0,G,L),y.fillStyle=H,y.lineWidth=1/p,y.strokeStyle=T,y.stroke(),y.fill(),y.restore())}}}return u};var r=function(a){var b=d.zoom;return{x:a.x-d.scrollLeft/b,y:a.y-d.scrollTop/b}};m.findAtPoint=function(a){var c,f=r(u(a.point)),g=a.objects||m.children,l=a.pointerUp||!1;a=a.searchParam||{selectable:!0};for(var e=d.tool.id,
t=h.tools[e]||{},e="select"===e,p=!h.vector.edit,s=b.cache.padding,x=d.pixelRatio,w=d.selection.items,y=0===d.selection.length,k=!0,K=void 0,N=[],H=g.length;H--;){var Q=g[H];if(!1!==Q.visible){var T=Q.bbox;if(T){c="button"===Q.type;if(!c)if(p)continue;else{if(a.excludeType&&Q.type===a.excludeType)continue;if(a.selectable&&!1===Q.selectable)continue;if(a.toolkitId&&Q.toolkitId!==a.toolkitId)continue;if(a.type&&Q.type!==a.type)continue;if(k&&y)if((k=d.hovered.item)&&m.isPointInControl(f,k)){N.push(k.zIndex);
break}else k=!1}if(m.isPointInControl(f,Q)){var P=T.scale,R=P.x,P=P.y;if(c&&(!l||!e||"anchor"!==Q.id))if(Q.event){N.push(H);break}else continue;else if(l&&w[H]){N.push(H);break}else if((t.usePointInPath||t.usePointInImageData)&&Q.ctx){c=Q.ctx;var X=m.pointInObjectFromScene(f,Q),Q=Q.__offset||m.getOffset(Q),W=Math.abs(R),U=Math.abs(P),V=X.x,O=X.y;0>R&&(V=-V+X.bbox_width);0>P&&(O=-O+X.bbox_height);V=V*W*x+s;O=O*U*x+s;V+=Q.x||0;O+=Q.y||0;V=Math.round(V);O=Math.round(O);if(t.usePointInPath&&c.isPointInPath(V,
O)){N.push(H);break}else if(t.usePointInImageData&&(c=c.getImageData(V,O,1,1))&&8<c.data[3]){N.push(H);break}}if(t.usePointNearest){N.push(H);break}t.usePointInBBox&&(T=T.width*R*T.height*P,void 0===K||K>=T)&&(N.push(H),K=T)}}}}return N};m.pointsIn=function(a,b,c){a=m[a];for(var d=[],f=0,g=b.length;f<g;f++)d.push(a(b[f],c));return d};m.pointInPeerSceneFromCanvas=function(a){a=u(a);var b=d.zoom,c=d.scrollLeft,f=d.scrollTop;a.x+=c-c/b;a.y+=f-f/b;return a};m.pointInCanvasFromPeerScene=function(a){a=
p(a);var b=d.zoom,c=d.scrollLeft,f=d.scrollTop;a.x+=c-c*b;a.y+=f-f*b;return a};m.pointInObjectFromCanvas=function(a,b){return y(u(a),b)};var y=m.pointInObjectFromScene=function(a,b){var c=b.trxInverse||m.calcMatrixInverse(b),d=b.bbox;a=c.point2d(a.x,a.y);a.x-=c.tlx+(d.left||0);a.y-=c.tly+(d.top||0);a.bbox_x=c.tlx;a.bbox_y=c.tly;a.bbox_width=d.width;a.bbox_height=d.height;return a};m.pointInSceneFromEvent=function(a){return u(s(a))};m.pointInSceneFromWindow=function(a){return u(l(a))};var u=m.pointInSceneFromCanvas=
function(b){var c=d.zoom,f=c*d.pixelRatio;return{x:b.x/c-1*a.x/f,y:b.y/c-1*a.y/f}},s=m.pointInCanvasFromEvent=function(a){return eventjs.getPointInNode(a,d.container)},l=m.pointInCanvasFromWindow=function(a){var b=eventjs.getBBox(d.container);return{x:a.x-b.x1,y:a.y-b.y1}},p=m.pointInCanvasFromScene=function(b){var c=d.zoom,f=d.pixelRatio;return{x:b.x*c+1*a.x/f,y:b.y*c+1*a.y/f}};m.pointInWindowFromObject=function(a){a=a.bbox;return t({x:a.x+a.width/2*a.scale.x,y:a.y+a.height/2*a.scale.y})};var t=
m.pointInWindowFromScene=function(b){var c=d.pixelRatio;return x({x:b.x+a.x/c,y:b.y+a.y/c})},x=m.pointInWindowFromCanvas=function(a){var b=eventjs.getBBox(d.container);return{x:a.x+b.x1,y:a.y+b.y1}};m.isPointInControl=function(a,b){var c=b.trx2D;if(c)return w.inRect(a,c.nw,c.ne,c.se);var d=m.pointInObjectFromScene(a,b),c=d.bbox_width,f=d.bbox_height,g=d.bbox_x,l=d.bbox_y,e=d.x+g,d=d.y+l;return e>g&&d>l&&e<g+c&&d<l+f};m.find=function(a,b){b=b||{};var c=m.children,d=b.selection||m.selection.items,f=
[],g;for(g in d)if(d=c[g]){var l=!0,e;for(e in a)d[e]!==a[e]&&(l=!1);l&&f.push(d)}return f};m.findPixel=function(a,b,c){var f=d.pixelRatio;a=d.contexts.layer0.ctx.getImageData(a.x*f,a.y*f,b||1,c||1).data;b={};c=0;for(f=a.length;c<f;c++){var g=c%4;b[g]=void 0===b[g]?a[c]:(b[g]+a[c])/2}return b};"undefined"!==typeof module&&module.exports&&(module.exports=e.module.SceneFind)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.History=function(e,d){var a=this,h=e.feature,g=d.contexts,m=e.lang,b=e.net,c=d.render,f=d.scene,w=d.toolkit,r=e.util,y=h.history,u={};a.registerFunction=function(a){var b=a.fn;u[a.type]=function(a,c,d,f,g,l){b(a,c,d,f,g,l);q(c,f)}};a.reset=function(b,c){e.doc.__lastModified=0;if(y.vector)l.data=[],l.current=-1;else if(y.bitmap){var f=a.bitmap;f.current=0;f.data=f.data.splice(0,1);d.setCanvasSize();a.storeBitmap(c)}return a};a.store=function(b,c,d){d=!1!==
d?!0:!1;y.vector?a.storeObject(b,c):y.bitmap&&a.storeBitmap(c);e.on.historyAdd&&e.on.historyAdd(b);d&&(e.doc.__lastModified=Date.now(),x(!0));return a};a.redo=function(b,c,d){b=b||1;s("redo",b,function(){e.on.redo&&e.on.redo(b);c&&c();x(!0)},d);return a};a.undo=function(b,c,d){b=b||1;s("undo",b,function(){e.on.undo&&e.on.undo(b);c&&c();x(!0)},d);return a};a.canRedo=function(){if(y.vector){var a=l;return a.current!==a.data.length-1}};a.canUndo=function(){if(y.vector)return-1!==l.current};a.findCmd=
function(a){if(y.vector){var b=a.cmd,c=l.current,d=c-a.within;a=l.data;for(var f=c<d?1:-1,d=Math.abs(c-d),g=0;g<d;g++){var e=c+=f;if((e=a[e])&&e.cmd===b)return!0}}};a.getLastCmd=function(){if(y.vector){var a=l.data;return a[a.length-1]}};var s=function(b,c,d,f){--c;if(y.vector)a[b+"Object"](c,f);else if(y.bitmap)a[b+"Bitmap"](c,f);c?s(b,c,d,f):d&&d()};a.bitmap={max:r.clampFinite(y.limit),current:-1,data:[]};a.storeBitmap=function(b){b=h.debugHistory;var c=a.bitmap,d=c.data.length-1,f=d-c.current;
if(f){if(b)for(var l=0;l<f;l++){var e=c.data[d-l];document.body.removeChild(e)}c.data=c.data.splice(0,d-f+1)}c.data.length===c.max?c.data.push(c.data.shift()):c.data.push(r.Canvas());c.current=c.data.length-1;e=g.layer0;c=c.data[c.current].ctx;c.canvas.width=c.canvas.width;c.drawImage(e,0,0);b&&document.body.appendChild(c.canvas);return a};a.undoBitmap=function(b,c){var f=g.layer0.ctx,l=a.bitmap;l.current=Math.max(0,--l.current);f.canvas.width=f.canvas.width;f.drawImage(l.data[l.current],0,0);"eraser"===
d.tool.type&&(f=g.active.ctx,f.canvas.width=f.canvas.width,f.drawImage(l.data[l.current],0,0));return a};a.redoBitmap=function(b,c){var f=g.layer0.ctx,l=a.bitmap;l.current=Math.min(l.data.length-1,++l.current);f.canvas.width=f.canvas.width;f.drawImage(l.data[l.current],0,0);"eraser"===d.tool.type&&(f=g.active.ctx,f.canvas.width=f.canvas.width,f.drawImage(l.data[l.current],0,0));return a};var l=a.vector={max:r.clampFinite(y.limit),current:-1,data:[]};a.setData=function(a){l.max=a.max;l.current=a.current;
l.data=a.data};a.pop=function(){var a=l.data,b=a.length;if(b)return b-1===l.current&&l.current--,e.on.historyPop&&e.on.historyPop(),a.pop()};a.storeObject=function(c,g){c=c||{};g=g||{};if(c.cmd&&c.data){var e=c,q=g,s=l,x=s.data.length-1,u=x-s.current;u&&(s.data=s.data.splice(0,x-u+1));s.data.length===s.max&&s.data.shift();e.timestamp=Date.now();e.userId=q.userId||b.userId;e=f.clone(e);s.data.push(e);s.current=s.data.length-1;p=s.current;g.fromPeer?(s=l,s.data[s.current]&&(p=void 0,"transform"===c.cmd&&
h.stream.realtime||t(c,!1,g))):d.on.record&&!0!==g.fromRecord&&d.on.record({op:"HISTORY_STORE",type:"major",data:f.clone(c)})}else console.warn("storeObject",arguments);return a};a.undoObject=function(b,c){if(a.canUndo()){var f=l;f.current=Math.max(-1,--f.current);if(f=f.data[f.current+1])t(f,!0,c,b),d.on.record&&!c&&d.on.record({op:"HISTORY_UNDO",type:"major",steps:b})}return a};a.redoObject=function(b,c){if(a.canRedo()){var f=l;f.current=Math.min(f.data.length-1,++f.current);if(f=f.data[f.current])t(f,
!1,c,b),d.on.record&&!c&&d.on.record({op:"HISTORY_REDO",type:"major",steps:b})}return a};var p=0;a.registerFunction({type:"VOBNodeList",fn:function(a,b,c,d){for(a=0;a<b.length;a++){var g=b[a];if(d=f.getById(g.id)){var l=e.assets.getItem(d.src);if(l){l.__colormap=void 0;var q={},t;for(t in g)"id"!==t&&"uida"!==t&&(q[t]=g[t]);for(var g=g.uida,p=0;p<g.length;p++){var s=g[p],h=l.getLayerBy("uid",s.uid);if(h)if(c)for(t in s)"uid"!==t&&(h.style[t]=s[t]);else for(t in q)h.style[t]=q[t]}d.dirtyCache=!0;d.dirtyRender=
!0}}}}});a.registerFunction({type:"add",fn:function(a,b,c,d,g){for(a=0;a<b.length;a++)c=b[a],f.getById(c.id)||(c=f.clone(c),f.decompress(c),!1===e.__server&&w.ensureToolkit(c),f.pushAt(c,c.zIndex),f.updateTransform&&(f.updateTransform(c),f.setDirtyPixelData(c)));f.reindex()}});a.registerFunction({type:"remove",fn:function(a,b,g,l,q){a=f.children;for(g=0;g<b.length;g++){q=b[g].id;var t=f.getById(q);if(t)for(l&&t.zIndex===d.selection.idx&&(f.deselectAll(),e.ui.log(l.userId+" removed the object you had selected.")),
t=0;t<a.length;t++)if(a[t].id===q){c.cache&&c.cache.clean(a[t].hash);f.setDirtyPixelData(a[t]);f.shiftAt(t);break}}f.reindex()}});a.registerFunction({type:"replace",fn:function(a,b,c,d){c?(a=b[1],b=b[0]):(a=b[0],b=b[1]);p=void 0;t({cmd:"remove",data:a},!1,d,1);p=void 0;t({cmd:"add",data:b},!1,d,0)}});a.registerFunction({type:"zoom",fn:function(a,b,c,d,f){console.log("zoom",a,b,c)}});var t=function(a,b,g,t){g=g||!1;var s=a.cmd,h=a.data;if(p!==l.current){p=l.current;"remove"===s?b&&(s="add"):"add"===
s&&b&&(s="remove");var x=u[s];if(x)x(s,h,b,g,t,a.userId),e.__server||t||c.preload({fromPeer:!0});else{a=b?h.from:h.to;if(Array.isArray(a)){b=0;for(s=a.length;b<s;b++)if(h=a[b],x=f.getById(h.id))h.labels&&(x.labels=[]),r.copyInto(h,x),f.decompress(x),h.fill&&delete x.fill.__colors,h.stroke&&delete x.stroke.__colors,delete x.__offset,f.setDirtyPixelData(x),h.content?(x.__textMetrics=void 0,x.dirtyCheck=!0):h.color||h.fillStyle||h.bbox&&h.bbox.scale?(x.dirtyCheck=!0,x.dirtyTransform=!0,delete x.inbounds):
(x.dirtyCheck=!0,x.dirtyResource=!0);q(a,g)}else r.copyInto(a,d);e.__server||t||(c.preload({fromPeer:!0}),e.ui.configureBuild())}}},x=function(){var a=0,b=function(){sk.p=sk.perf();e.fs.saveProject({onprogress:function(){},onsuccess:function(){e.ui.log(m.translate("changes-saved"),750)}})};return function(c){e.fs.autosave&&e.fs.fs&&(clearTimeout(a),a=setTimeout(function(){d.__interacting?x(!1):b()},1E3))}}(),q=function(a,b){if(void 0===b)if(y.autoSelect){if("select"===d.tool.type){for(var c=0;c<a.length;c++){var g=
a[c];isFinite(g)?f.selectById(g,!1):f.selectById(g.id,!1)}f.handleSelection()}}else f.deselectAll()};return a};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.History)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.SceneOrganize=function(e,d){var a=e.util,h=d.scene;e.setupHistory&&e.setupHistory.add({type:"organize",fn:function(a,b,c,f){a=h.children;f=c?b.from:b.to;c=c?b.to:b.from;b="select"===d.tool.type;h.selection.reset();c=g(a,c);var e=c.length;if(e){for(var r=0;r<e;r++){var y=c[r];a.splice(f[r],0,y.layer);h.setDirtyPixelData(y.layer);b&&h.selectByIdx(y.idx)}h.reindex()}}});var g=function(a,b){for(var c=[],d=0;d<b.length;d++){var g=b[d],e=a[g-d];e.useStickToFront||
e.useStickToBack||!e||(a.splice(g-d,1),c.push({layer:e,idx:g}))}return c};h.sendTo=function(e){e=e||{};var b=e.idx,c=(e.record||!1)&&d.history,f=h.selection.toArray(e.selection),w=e.onsuccess,r=h.children,y;a:{y=0;for(var u=h.children,s=u.length,l=0;l<s;l++)if(u[l].useStickToBack)y++;else break a;y=void 0}a:{u=0;s=h.children;for(l=s.length;l--;)if(s[l].useStickToFront)u++;else break a;u=void 0}y=a.clamp(0+y,r.length-u,b);f=g(r,f);if(u=f.length){for(l=s=0;l<u;l++){var p=f[l];if(p.idx<y)s++;else break}for(var t=
[],x=[],l=0;l<u;l++){var p=f[l],q=p.layer,b=y-s+l;h.setDirtyPixelData(q);r.splice(b,0,q);p.idx!==b&&(t.push(p.idx),x.push(b))}c&&t.length&&d.history.store({cmd:e.cmd||"organize",icon:e.icon||"infinity",name:e.name||"layer-order",data:{from:t,to:x}});h.reindex();w&&w()}return h};h.sendForwards=function(a){a=a||{};var b=a.distance||1,c=a.toFront||!1,d=a.record||!1;a=h.selection.toArray(a.selection);c?(b=h.children.length,c="layer-to-front"):(b=a[a.length-1]+b+1,c="layer-forwards");return h.sendTo({idx:b,
cmd:"organize",name:c,record:d,onsuccess:function(){e.on.sendForwards&&e.on.sendForwards()}})};h.sendBackwards=function(a){a=a||{};var b=a.distance||1,c=a.toBack||!1,d=a.record||!1;a=h.selection.toArray(a.selection);c?(b=0,c="layer-to-back"):(b=a[0]-b,c="layer-backwards");return h.sendTo({idx:b,cmd:"organize",name:c,record:d,onsuccess:function(){e.on.sendBackwards&&e.on.sendBackwards()}})}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.SceneOrganize)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Orientation=function(e,d,a){var h=this,g=d.canvas2d,m=e.feature.zoom||{},b=e.feature,c=d.render,f=d.scene,w=d.toolkit,r=e.vector;h.mirrorX=1;h.mirrorY=1;h.zoom={clampFormat:"px",fromCenter:!0,value:1,min:20,max:100};h.rotate={clampFormat:"degree",value:0,min:0,max:0};h.offset={x:0,y:0};h.origin={x:0,y:0};h.mouse={x:0,y:0};for(var y in a)h[y]=a[y];h.ctx=h.canvas.getContext("2d");h.trx={};h.trx.scale=new r.Transform;h.trx.rotate=new r.Transform;h.trx.mirror=
new r.Transform;h.render=function(){h.decompose();c.clipped=!1;d.setBounds();d.render.scene("orient.render");w.text&&w.text.updateCSSTransform();return h};h.getTransform=function(){var a=new r.Transform,b=h.offset;a.combine(h.trx.mirror);a.combine(h.trx.scale);a.combine(h.trx.rotate);a.translate(b.x,b.y);return a};h.decompose=function(){var a=d.pixelRatio,b=h.getTransform(),c=new CSSMatrix,b=b.matrix;c.a=b.a;c.b=b.b;c.c=b.c;c.d=b.d;c.e=b.x;c.f=b.y;c=c.decompose().translate;b=h.zoom.value;d.zoom=b;
g.orientX=Math.round(c.x);g.orientY=Math.round(c.y);g.x=Math.round(c.x-d.x*b*a);g.y=Math.round(c.y-d.y*b*a);d.scrollElementCSS()};h.reset=function(a){h.media=d.bounds;a||(h.zoom.value=m.value||1,h.rotate.value=0,h.mirrorX=1,h.mirrorY=1,h.offset.x=0,h.offset.y=0);b.doc.centerOnLoad&&h.setCenter();h.scale=1;h.mouse.x=0;h.mouse.y=0;h.origin.x=0;h.origin.y=0;h.setZoomAtCenter();h.mirrorTo(h.mirrorX,h.mirrorY);h.rotateTo(h.rotate.value);h.zoomTo(h.zoom.value,!0);h.decompose();return h};h.setCenter=function(){var a=
d.pixelRatio,b=parseFloat(h.canvas.style.width)||h.canvas.width,c=parseFloat(h.canvas.style.height)||h.canvas.height;h.offset.x=Math.max(0,b/2-h.media.width/2)*a;h.offset.y=Math.max(0,c/2-h.media.height/2)*a;h.origin.x=0;h.origin.y=0;h.mouse.x=0;h.mouse.y=0;return h};h.setPan=function(a,b){h.offset.x+=isFinite(a)?a:0;h.offset.y+=isFinite(b)?b:0;h.setZoomAtCenter();return h};h.setRotate=function(a){h.rotate.value=360===a?360:(a+360)%360;h.rotateTo(h.rotate.value);h.render();return h};h.setZoom=function(a,
b){var c=h.zoom.value,d=Math.max(h.media.width,h.media.width);if("px"===h.zoom.clampFormat)var f=h.zoom.min/d,d=h.zoom.max/d;else f=h.zoom.min,d=h.zoom.max;f=Math.min(d,Math.max(f,a));h.zoom.value=f;(c=1+(f-c)/c)&&h.zoomTo(c);return h};h.mirrorTo=function(a,b){var c=h.media,d=-1===a?c.width:0,c=-1===b?c.height:0;h.trx.mirror.reset();h.trx.mirror.translate(d,c);h.trx.mirror.scale(a,b);return h};h.rotateTo=function(a){var b=h.trx.rotate,c=h.media,d=c.width/2+h.offset.x,c=c.height/2+h.offset.y;b.reset();
b.translate(d,c);b.rotate(a*Math.PI/180);b.translate(-d,-c);return h};h.zoomTo=function(a,b){if(!h.origin)return console.log("not initialized");var c=h.trx.scale;b&&(c.reset(),h.origin.x=0,h.origin.y=0,h.scale=1);c.translate(h.origin.x,h.origin.y);c.scale(a,a);h.zoom.fromCenter&&(h.origin.x=h.mouse.x/h.scale+h.origin.x-h.mouse.x/(h.scale*a),h.origin.y=h.mouse.y/h.scale+h.origin.y-h.mouse.y/(h.scale*a),c.translate(-h.origin.x,-h.origin.y));h.scale*=a;return h};h.events={};h.enabled=!1;h.enable=function(){if(!h.enabled)return h.enabled=
!0,h.events.mousedown=eventjs.add(a.mouseLayer,"mousedown",h.onMouseDown),h.events.wheel=eventjs.add(a.mouseLayer,"wheel",h.onMouseWheel),h.events.key=eventjs.add(window,"keyup keydown",eventjs.keyTracker),h.events.keydown=eventjs.add(window,"keydown",h.onKeyDown),h};h.disable=function(){if(h.enabled)return h.enabled=!1,eventjs.removeEvents(h.events),h};h.lx=0;h.ly=0;h.onDrag=function(a,b){eventjs.prevent(a);var c=h.zoom.value,g=b.x-b.start.x,e=b.y-b.start.y;"up"===b.state&&(h.zoom.fromCenter?h.setZoomAtCenter():
h.setZoomAtPoint(a),f.setDirtyBounds(f.children));var x=d.pixelRatio;h.offset.x+=(g-h.lx)/c*h.mirrorX*x;h.offset.y+=(e-h.ly)/c*h.mirrorY*x;h.lx=g;h.ly=e;h.render();h.runCallback();return h};h.onMouseDown=function(a){h.lx=0;h.ly=0;h.events.drag=eventjs.proxy.drag({fingers:1,event:a,target:h.canvas,listener:h.onDrag});return h};h.onMouseWheel=function(a,b){eventjs.cancel(a);"end"===b.state&&f.setDirtyBounds(f.children);h.setZoomAtPoint(a);var c=h.zoom.value;h.setZoom(c*(1+b.wheelDelta/120/2),!0);h.render();
h.controllerSetZoom&&c!==h.zoom.value&&h.controllerSetZoom(h.zoom.value);h.runCallback();return h};h.onKeyDown=function(a){var b=h.zoomMin,b=h.zoom.value/(h.zoomMax-b+b),c=a.shiftKey?10:1;switch(a.keyCode){case 37:eventjs.metaKey?(eventjs.cancel(a),h.setRotate(h.rotate.value+1*c)):(h.setPan(-1*c,0),h.render());h.runCallback();break;case 39:eventjs.metaKey?(eventjs.cancel(a),h.setRotate(h.rotate.value-1*c)):(h.setPan(1*c,0),h.render());h.runCallback();break;case 38:eventjs.metaKey?(eventjs.cancel(a),
h.setZoom(b-.01*c)):h.setPan(0,-1*c);h.render();h.runCallback();break;case 40:eventjs.metaKey?(eventjs.cancel(a),h.setZoom(b+.01*c)):h.setPan(0,1*c),h.render(),h.runCallback()}return h};h.toString=function(){return JSON.stringify(h.getValues())};h.setZoomAtPoint=function(a){a=eventjs.getPointInNode(a,h.canvas);var b=d.pixelRatio;h.mouse.x=a.x*b;h.mouse.y=a.y*b;return h};h.setZoomAtCenter=function(){var a=d.pixelRatio,b=d.viewport,c=h.media,f=h.getTransform(),g=f.point2d(0,0),e=f.point2d(c.width,c.height),
c=Math.max(0,g.x),g=Math.max(0,g.y),f=Math.min(b.height,e.y),b=Math.min(b.width,e.x),b=Math.max(0,b-c),f=Math.max(0,f-g);h.mouse.x=(c+b/2)*a;h.mouse.y=(g+f/2)*a;return h};h.getValues=function(){var a=h.zoom.value,b=h.trx.scale.matrix;return{x:b.x+h.offset.x*a,y:b.y+h.offset.y*a,zoom:a,rotate:h.rotate.value,mirror:{x:h.mirrorX,y:h.mirrorY}}};h.setMedia=function(a){"string"===typeof a?(h.media=new Image,h.media.onload=function(){h.reset(!0)},h.media.src=a):(h.media=a,h.reset(!0));return h};h.runCallback=
function(a){h.callback&&h.callback({rotate:h.rotate.value,zoom:h.zoom.value,mirrorX:h.mirrorX,mirrorY:h.mirrorY});return h};return h};k.module.Orientation.createController=function(e,d){var a=e.feature.zoom||{},h=e.dom,g=d.contexts,m=d.scene,b=d.orient=new e.module.Orientation(e,d,{src:d.bounds,canvas:g.layer0,mouseLayer:g.active,rotate:{clampFormat:"degree",value:0,min:0,max:0},zoom:{clampFormat:"%",fromCenter:a.fromCenter,value:a.value,min:a.min,max:a.max,increment:a.increment}});b.setMedia(b.src);
b.controllerReset=function(){b.reset().render();var c=b.getKnobOffset(a.defaultValue);b.setController(c)};b.controllerSetZoom=function(a){a=b.getKnobOffset(a||1);b.setController(a)};b.getKnobOffset=function(a){var f=b.zoom.max;a=a||d.zoom;var g=c.offsetHeight||150;a=2+Math.log(a)/Math.log(2);f=2+Math.log(f)/Math.log(2);return(1-a/f)*g};b.controllerZoomOut=function(){var a=Math.max(b.zoom.min,d.zoom-b.zoom.increment),a=b.getKnobOffset(a);b.setController(a)};b.controllerZoomIn=function(){var a=Math.max(b.zoom.min,
d.zoom+b.zoom.increment),a=b.getKnobOffset(a);b.setController(a)};b.setControllerCSS=function(a){if(w){var b=w.offsetHeight;w.style.top=Math.min((c.offsetHeight||150)-b,Math.max(0,a-b/2))+"px"}};b.setController=function(a,d){b.setControllerCSS(a);var f=c.offsetHeight||150,g=b.zoom.max,e=2+Math.log(g)/Math.log(2),f=Math.min(g,Math.pow(2,(1-a/f)*e-2));d&&(f*=100,f=(f-f%d)/100);b.setZoom(f);b.render();c.title=Math.round(100*f)+"%"};var c={offsetHeight:150},f=h.$("#sk-orientation"),w=h.$("#sk-orientation .controller");
if(!w&&f){var r=function(a,b){eventjs.cancel(a);e.ui.tooltip&&e.ui.tooltip.update(y());b&&m.setDirtyBounds(m.children)},y=function(){return Math.round(100*b.zoom.value)+"%"},h=function(a,b,c){a=e.dom.create('<div class="'+a+'"></div>');e.ui.tooltip&&e.ui.tooltip.add(a,b);f.appendChild(a);eventjs.add(a,"mousedown",function(a,b){e.doc.orient[c]();r(a)})};eventjs.add(f,"mousedown,dblclick",eventjs.stop);h("icon-plus","zoom-in","controllerZoomIn");g=e.dom.create('<div class="controller"><div><span id="controller" style="top: 0px"></span></div></div>');
e.ui.tooltip&&e.ui.tooltip.add(g,y);f.appendChild(g);eventjs.add(g,"drag",function(a,b){e.doc.orient.setController(b.y,5);r(a,"up"===b.state)});w=g.firstChild.firstChild;w.style.top=b.getKnobOffset()+"px";h("icon-minus","zoom-out","controllerZoomOut");h("icon-frame","reset","controllerReset")}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Orientation)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.ScenePlacement=function(e,d){var a=d.canvas2d,h=e.feature,g=d.contexts,m=d.scene,b=d.toolkit,c=e.util,f=e.vector;m.updateTransform=function(a,b){a.data&&!a.dataHash&&(a.dataHash=m.createHash(a.data));if(a.dirtyTransform||a.dirtyCheck||!a.trx2D){a.dirtyTransform=!1;var g=a.bbox,e=a.useStretchToEdge,h=a.useStretchToFit;if(e||h){var l=d.bounds,h=l.width,l=l.height;if(g.width!==h||g.height!==l){if(e)g.width=h,g.height=l,g.x=0,g.y=0;else{var e=g.owidth/h,p=g.oheight/
l;e>p?(g.width=h*e,g.height=l,g.x=-(g.width-h)/2,g.y=0):(g.width=h,g.height=l*p,g.x=0,g.y=-(g.height-l)/2)}a.dirtyCache=!0}}var e=g.rotate*c.DEG_RAD,l=g.scale.y,h=g.width*g.scale.x,l=g.height*l,t=h/2,x=l/2,p=a.trx2D||(a.trx2D=new f.Transform),q=g.x-d.scrollLeft,g=g.y-d.scrollTop;p.reset();p.translate(q,g);e&&(p.translate(t,x),p.rotate(e),p.translate(-t,-x));b||(p.nw=p.point2d(0,0),p.ne=p.point2d(h,0),p.se=p.point2d(h,l),p.sw=p.point2d(0,l),p.cp=p.point2d(t,x),p.n=p.point2d(t,0),p.e=p.point2d(h,x),
p.s=p.point2d(t,l),p.w=p.point2d(0,x),a.dirtyControl=!0,p=a.trxInverse||(a.trxInverse=new f.Transform),g=a.trx2D.nw,p.tlx=g.x,p.tly=g.y,p.reset(),m.calcMatrixInverse(a))}};m.calcMatrixInverse=function(a){var b=a.trxInverse||new f.Transform,d=a.bbox;a=isFinite(b.tlx)?b.tlx:d.x;var g=isFinite(b.tly)?b.tly:d.y,e=d.rotate*c.DEG_RAD,l=d.scale.x,d=d.scale.y;b.translate(a,g);e&&b.rotate(-e);b.scale(1/l,1/d);b.translate(-a,-g);b.tlx=a;b.tly=g;return b};m.updateBBox=function(a){if(a=a||m.selection.item)m.updateConstrain(a),
"text"===a.type?b.text&&b.text.updateCSSTransform(a):a.brush&&(a.brush.bbox=a.bbox)};m.updateConstrain=function(a){var b=d.bounds,c=b.width,b=b.height,f=a.bbox,g=f.scale,l=g.x,e=g.y,t=a.useConstrain,h=a.useConstrainX,q=a.useConstrainY,v=a.useAlignX,g=a.useAlignY,z=a.trx2D;if(z&&(t||h||q)){var C=f.width*l,k=f.height*e;if("objectBoundingBox"===f.units)var D=z.point2d(0,0),B=z.point2d(C,0),E=z.point2d(C,k),A=z.point2d(0,k),k=Math.min(D.x,B.x,E.x,A.x),z=Math.min(D.y,B.y,E.y,A.y),C=Math.max(D.x,B.x,E.x,
A.x),B=Math.max(D.y,B.y,E.y,A.y);else D=f,C=D.x,B=D.y,k=D.x,z=D.y;var D=f.x,E=f.y,A=D-k,I=E-z,k=c-Math.max(0,C-k)+A,z=b-Math.max(0,B-z)+I;t?(f.x=Math.max(A,Math.min(k,D)),f.y=Math.max(I,Math.min(z,E))):h?(f.x=Math.max(A,Math.min(k,D)),f.y=E):q&&(f.x=D,f.y=Math.max(I,Math.min(z,E)));a.dirtyTransform=!0}v&&(l*=f.width,f.x="right"===v?c-l:"left"===v?0:(c-l)/2,a.dirtyTransform=!0);g&&(c=f.height*e,f.y="bottom"===g?b-c:"top"===g?0:(b-c)/2,a.dirtyTransform=!0);a.dirtyTransform&&m.updateTransform(a)};m.getCenterPoint=
function(){var a=d.scrollLeft,b=d.scrollTop,c=d.viewport,f=d.bounds;return{x:Math.min(f.width,c.width)/2+a,y:Math.min(f.height,c.height)/2+b}};m.getBoundingBox=function(a){a=a||{};var b=a.useVisibleRegion||!1,c=!!a.selection||a.useSelection||!1,d=!!a.hovered||a.useHovered||!1,f=a.asInteger||!1,l=Infinity,e=-Infinity,t=Infinity,h=-Infinity,q=a.selection||m.selection.items;a=a.hovered||m.hovered.items;c||d||(c=!0,q=m.children);for(var v=0,z=m.children.length;v<z;v++){var C=m.children[v],k=C.trx2D;if(k){var D=
C.zIndex,B=a[D];if(q[D]&&c||B&&d){var C=C.bbox,B=C.width*C.scale.x,E=C.height*C.scale.y,C=k.point2d(0,0),D=k.point2d(B,0),B=k.point2d(B,E),A=k.point2d(0,E),k=Math.min(C.x,D.x,B.x,A.x)-1,E=Math.min(C.y,D.y,B.y,A.y)-1,I=Math.max(C.x,D.x,B.x,A.x)+2,C=Math.max(C.y,D.y,B.y,A.y)+2;k<l&&(l=k);E<t&&(t=E);I>e&&(e=I);C>h&&(h=C)}}}b?(l=Math.max(0,l),t=Math.max(0,t),b=g.layer0,B=Math.min(b.width-l,e-l),E=Math.min(b.height-t,h-t)):(B=e-l,E=h-t);l=isFinite(l)?l:0;t=isFinite(t)?t:0;B=isFinite(B)?B:0;E=isFinite(E)?
E:0;return{x:f?Math.floor(l):l,y:f?Math.floor(t):t,width:f?Math.ceil(B):B,height:f?Math.ceil(E):E,units:"objectBoundingBox",scale:{x:1,y:1}}};m.getBoundingOrigin=function(a){a=a.units?a:m.getBoundingBox(a);return"objectBoundingBox"===a.units?{x:a.x+a.width/2*a.scale.x,y:a.y+a.height/2*a.scale.y}:{x:a.x,y:a.y}};m.getOffset=function(a){var b=d.pixelRatio,c=a.bbox.scale.x,f="object"===typeof a.padding?a.padding:{top:0,left:0,right:0,bottom:0},g=f.left+f.right,f=f.top+f.bottom,l=a.stroke;l&&l.enabled||
(l={lineWidth:0,miterLimit:0});var l=l.lineWidth*l.miterLimit/2,e=a.border||{width:0},g=Math.ceil(Math.abs((e.width+g)*c/2))+l,c=Math.ceil(Math.abs((e.width+f)*c/2))+l;return a.__offset={x:g*b,y:c*b,pixelRatio:b}};m.isInBounds=function(b){b.dirtyTransform&&m.updateTransform(b);var c=b.trx2D;if(!c||!c.point2d)return!0;var f=d.zoom,g=d.pixelRatio,e=f*g,l=a.x,p=a.y,t=c.nw,x=c.ne,q=c.se,v=c.sw,c=Math.min(t.x,x.x,q.x,v.x)*e+l,z=Math.min(t.y,x.y,q.y,v.y)*e+p,C=Math.max(t.x,x.x,q.x,v.x)*e+l,t=Math.max(t.y,
x.y,q.y,v.y)*e+p,x=a.width,k=a.height,e=g*f,v=d.scrollLeft,q=d.scrollTop,D=d.bounds;h.canvas.clip?(x=Math.min(D.width*f,x)*g,f=Math.min(D.height*f,k)*g,l=(d.x-v)*e+l,e=(d.y-q)*e+p):(x*=g,f=k*g,e=l=0);p=Math.max(0,l);g=Math.max(0,e);b.inbounds=c<x+l-(0>l?l:0)&&C>p&&z<f+e-(0>e?e:0)&&t>g;return b.inbounds};m.getActionDataAsAbsolute=function(a,b){var d=new f.Transform,g=a.bbox,e=g.scale.x,l=g.scale.y,p=g.rotate*c.DEG_RAD,t=g.width/2*e,h=g.height/2*l,q=-((a.diameter||0)/2)*(e-1);d.translate(g.x,g.y);d.translate(t,
h);p&&d.rotate(p);d.translate(-t-q,-h-q);d.scale(e,l);g=[[]];e=0;if(l=a.data)for(p=l.length,t=0;t<p;t++)l=a.data[t],h=d.point2d(l.x,l.y),g[e]||(g[e]=[]),g[e].push({x:h.x,y:h.y}),"z"===l.cmd&&++e;return b?JSON.stringify(g):g};m.getConstraint=function(a,b,c){var f=h.tools[a.toolkitId]||{},g=a.useMinWidth||f.minWidth,l=a.useMinHeight||f.minHeight,e=a.useMaxWidth||f.maxWidth,t=a.useMaxHeight||f.maxHeight;f.constrainToCanvas&&(f=d.contexts.layer0,f=Math.min(f.height,f.width)/d.pixelRatio,t=Math.min(f,
t),e=Math.min(f,e));f=a.bbox;a=f.width||1E-4;var f=f.height||1E-4,x=a,q=f,v=!1,m=!1;if(c)return c.x*a<g&&(v=!0,c.x=g/a,c.y=c.x),c.y*f<l&&(v=!0,c.y=l/f,c.x=c.y),c.x*a>e&&(m=!0,c.x=e/a,c.y=c.x),c.y*f>t&&(m=!0,c.y=t/f,c.x=c.y),{constrained:v||m,tooSmall:v,tooLarge:m,x:c.x,y:c.y};x<g&&(v=!0,x=g);q<l&&(v=!0,q=l);x>e&&(m=!0,x=e);q>t&&(m=!0,q=t);x!==a&&b&&(q=x/a*f);q!==f&&b&&(x=q/f*a);return{constrained:v||m,tooSmall:v,tooLarge:m,width:x,height:q}}};"undefined"!==typeof module&&module.exports&&(module.exports=
k.module.ScenePlacement)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.SceneRender=function(e,d){var a=this,h=d.canvas2d,g=d.contexts,m=e.detect,b=e.dom,c=e.feature,f=e.lang,w=e.style,r=d.toolkit,y=e.util,u=e.vector,s=e.vector.Shape;a.scene=function(b){b=b||{};"string"===typeof b&&(b={from:b});"function"===typeof b&&(b={onsuccess:b});var c=b.from;(b=b.onsuccess)&&p.push(b);a.dirty=!0;a.from=c;return a};a.objectToScene=function(b,c){var f=g.layer0.ctx,l=d.scene.children;(l[l.length-2]||{}).useStickToFront?a.scene(c):(d.scene.updateTransform(b),
a.object(f,b,function(){c&&c()}))};a.now=function(b){b&&p.push(b);a.toExport=!0;t();a.toExport=!1;return a};a.blend=!1;a.chunkBatch=!0;a.clipped=!1;a.composite="normal";a.dirty=!1;a.dirtyCenterPoint=!1;a.dirtyControls=!1;a.dirtyActiveContext=!1;a.dirtyPointer=!1;a.from="";a.highRes=!1;a.perf=null;a.selection=!1;a.speed=0;a.toExport=!1;a.pointer={};a.removePointer=function(b){delete a.pointer[b]};a.prepareDeviceGCO=function(a){var b="normal",c;for(c in a){var d=a[c];d.brush&&(d=d.brush);d.object&&
(d=d.object);if(!w.isNormalGCO[d.composite]){b=d.composite;break}}c&&l(b)};var l=function(b){a.composite=b||"normal";b=!w.isNormalGCO[a.composite];a.blend!==b&&(b?(g.layer0.style.display="none",g.draw.style.background=g.layer0.style.background):(g.layer0.style.display="block",g.draw.style.background=""));y.Canvas.clear(g.draw);(a.blend=b)&&g.draw.ctx.drawImage(g.layer0,0,0)};(function(){var b=!1,c=function(){b===c.timestamp&&requestAnimationFrame(c);d.stats&&d.stats.begin();a.dirty?t():x();if(a.dirtyPointer){a.dirtyPointer=
!1;var f=a.pointer,e=0,q=Date.now()-6E4;a.prepareDeviceGCO(f);var p=g.draw,h=p.ctx,s;for(s in f){var v=f[s];if(v.lastModified<q)a.removePointer(s),console.warn("prune pointer",s);else{var u=v.object;if(u){var z="ghost"===s;switch(u.toolkitId){case "shape":d.scene.updateTransform(u,!0);a.object(h,u);break;case "text":d.scene.updateTransform(u);r.renderObjectControls(h,u);break;case "media":if(u.dirtyCheck){var C=u.bbox;C.scaleCache={x:1,y:1};u.lastSampleSize=Math.sqrt(C.width*C.height);d.scene.updateTransform(u,
!0)}a.object(h,u);break;case "brush":if(C=u.brush){var u=u.type,k=w.getCompositeNative(C.composite);C.isEraser="destination-out"===k||"eraser"===u;C.useAreaTracker=m.useAreaTracker[u]&&"color"!==C.fill.type;v=v.ctx||(v.ctx=y.Context2d(p.width,p.height));C.renderTo=v;z&&(C.batchRecord=y.copy(C.pathRecord||[]));if(C.dirtyRender){if(z||!m.useCacheOnDraw[u])v.canvas.width=p.width,v.canvas.height=p.height;C.preprocess&&C.preprocess();z=d.zoom*d.pixelRatio;v.save();v.scale(z,z);v.translate(-d.scrollLeft,
-d.scrollTop);r.brush.renderBrush(v,C.batchRecord,C);v.restore();C.postprocess&&C.postprocess()}h.save();h.globalAlpha=m.useCacheForOpacity[u]?C.opacity/100:1;h.globalCompositeOperation=k;h.drawImage(v.canvas,0,0);h.restore();C.speed&&C.isFromBrowser&&r.brush.addPointClone(C)}}}else console.warn(v);e++}}0===e&&l()}d.stats&&d.stats.end()};a.start=function(){b||(b=y.timestamp(),c.timestamp=b,c())};a.stop=function(){b=!1}})();var p=function(){var a=[];return{push:function(b){"function"===typeof b&&a.push(b)},
run:function(){x();for(d.__rendering=!1;a.length;)a.shift()()}}}(),t=function(){if(!d.__preloading)if(d.__rendering=!0,a.dirty=!1,a.perf=a.perf||e.perf(),c.vector.edit||a.chunkBatch){var b=g.layer0,f=b.ctx,t=b.width,x=b.height;if(c.canvas.clip){if(!a.clipped){b.width=t;a.clipped=!0;var b=d.clip,v=d.zoom,r=d.pixelRatio,u=r*v,m=d.scrollLeft-d.x*r,w=d.scrollTop-d.y*r;f.beginPath();b.path?(m=h.x-m*v,v=h.y-w*v,f.save(),f.translate(m,v),f.scale(u,u),s.VOBPath(f,b.path),f.restore()):(a.toExport?(v=m=0,w=
f.canvas.width,u=f.canvas.height):(r=d.bounds,m=(b.x||0)*u+h.x-m*v,v=(b.y||0)*u+h.y-w*v,w=Math.min(r.width,b.width||Infinity)*u,u*=Math.min(r.height,b.height||Infinity)),f.rect(m,v,w,u));b.style&&(q(f,b.style),(b=b.style)&&(b.lineWidth||b.strokeStyle)&&(b.globalCompositeOperation&&(f.globalCompositeOperation=b.globalCompositeOperation),f.lineWidth=(b.lineWidth||1)*d.pixelRatio,f.strokeStyle=b.strokeStyle||"#000",f.stroke()));f.clip()}f.clearRect(0,0,t,x);f.beginPath();f.rect(0,0,t,x);f.clip()}else f.clearRect(0,
0,t,x);f.save();C()}else{t=a.from;f=d.scene.children;if(f.length){t=(isFinite(d.selection.idx)&&"text.hide"!==t?g.active:g.layer0).ctx;for(x=0;x<f.length;x++)b=f[x],!b.dirtyCheck&&!b.dirtyTransform||b.error||(d.scene.updateTransform(b),a.object(t,b),a.dirtyControls=!0);l(d.tool.device.composite)}p.run()}},x=function(){a.dirtyActiveContext&&(a.dirtyActiveContext=!1,y.Canvas.clear(g.active));a.dirtyControls&&(a.dirtyControls=!1,m.useRenderControls[d.tool.type]?r.renderSceneControls(null,!0):y.eventOverrideCall("onRenderControls"));
if(a.dirtyCenterPoint){var b=a.dirtyCenterPoint;a.dirtyCenterPoint=!1;c.canvas.drawCenterPoint&&(m.useRenderControls[d.tool.type]?r.renderCenterPoint(b):y.eventOverrideCall("onRenderCenterPoint"))}},q=function(a,b){b&&b.fillStyle&&(b.globalCompositeOperation&&(a.globalCompositeOperation=b.globalCompositeOperation),a.fillStyle=b.fillStyle||"#000",a.fill())},v=-1,z=0,C=function(){for(var b=d.scene.children,l=b.length,t=a.chunkBatch,x=t?150:500,s=l-(v-z),u=Date.now(),m=0;m<s;m++){var w=++v-z,y=Date.now()-
u>x,D=w>l-1,y=0!==v&&y;if(t&&(y||D)&&e.loader){var B=l&&!D?w/l:1;(100!==100*B>>0||e.loader.threads.thread)&&e.loader.create("thread",f.translate("rendering")+"...",100*B>>0)}if(y){++z;setTimeout(C,0);break}if(D){z=0;v=-1;d.__rendering=!1;a.chunkBatch=!1;b=g.layer0.ctx;k.id&&k.canvas&&(k.render(b),k.id=null);b.restore();!c.canvas.useBGRender||a.highRes||a.toExport||(l=d.zoom,t=l*d.pixelRatio,s=d.bounds,x=s.width,s=s.height,u=d.scrollLeft,m=d.scrollTop,b.save(),b.beginPath(),b.translate(h.orientX,h.orientY),
b.scale(t,t),b.globalAlpha=1,b.globalCompositeOperation="destination-over",b.translate(-u,-m),b.rect(-.5,-.5,x*Math.max(1,l)+1,s*Math.max(1,l)+1),q(b,{fillStyle:d.backgroundRaw}),b.restore());p.run();a.perf&&(a.speed=a.perf());c.debug&&console.log("render",a.speed+"ms",a.from);a.from="";a.perf=null;break}D=b[w];if(!D.error){y=D.type;B=D.toolkit;if(!B){c.debug&&console.warn("toolkit was not loaded",y,w);if(!r.getToolkit(y))continue;z=0;v=-1;d.__rendering=!1;setTimeout(a.preload,0);break}d.scene.updateTransform(D);
if(!1!==D.visible){if("group"!==y&&!a.toExport){if(!1===D.inbounds)continue;if(!isFinite(D.inbounds)&&!d.scene.isInBounds(D))continue}a.selection&&void 0===a.selection[w]||d.__editing&&D.id===d.selection.id&&"text"===D.type||a.object(B.ctx,D)}}}},k={id:null,canvas:null,composite:null,opacity:null,render:function(a){a.globalCompositeOperation=k.composite;a.globalAlpha=k.opacity/100;a.drawImage(k.canvas,0,0)}};a.object=function(b,f,g){if(b&&f){var l=a.toExport;if(!l||!1!==f.exportable){var q=d.pixelRatio,
t=d.zoom*q,p=d.selection,x=f.zIndex-z;f.hovered=d.hovered.items[x]||!1;f.selected=p.items[x]||!1;if(f.groupId){if(k.id!==f.groupId){k.id&&k.canvas&&k.render(b);var s=b.canvas;k.id=f.groupId;k.canvas=k.canvas||y.Canvas(s.width,s.height);k.canvas.width=s.width;k.canvas.height=s.height;k.composite=f.composite;k.opacity=f.opacity}k.id&&(b=k.canvas.ctx)}else k.id&&k.canvas&&(k.render(b),k.id=null);var v=f.type,r=a.cache,u=f.usePixelData&&f.isRecording,s=f.useHighRes||a.highRes;if(!s||m.useCacheOnRender[v]&&
!f.useHighRes||u)if(s=!1,!f.ctx||f.dirtyCheck||f.dirtyCache||l)if(f.dirtyControl=!0,r.add(f),f.ctx)f.dirtyCheck=l;else{g&&g();return}var C=f.bbox,D=C.width,u=C.height,B=C.scaleCache||{x:1,y:1},U=B.x,V=B.y,O=C.scale.x,Y=C.scale.y;if(f.__offset){var S=f.__offset,$=S.x,S=S.y;0>U&&($*=-1);0>V&&(S*=-1)}else S=d.scene.getOffset(f),$=S.x,S=S.y;l=(c.tools[f.toolkitId]||{}).drawBBox&&p.items[x]&&!isFinite(p.idx)&&!l;p=!m.useLocalAlpha[v];b.save();b.translate(h.x,h.y);b.scale(t,t);b.globalCompositeOperation=
w.getComposite(f.composite);b.globalAlpha=isFinite(f.opacity)&&p?f.opacity/100:1;p=f.trx2D;t=r.padding;if(s)B=C.padding||0,$=-t,S=-t,x=D+2*t,q=u+2*t,b.beginPath(),p.apply(b,!0),m.shape[f.type]?(f.render(b,p,!0),b.scale(O,Y),b.translate(B,B)):(b.scale(O,Y),b.translate(B,B),f.render(b,p,!0)),l&&b.scale(1/O,1/Y);else if(p.apply(b,!0),s=f.ctx.canvas,x=s.width,p=s.height,x&&p){var r=0>U,C=0>V,ha=(U-1)*t,v=(V-1)*t;r&&(ha-=U*t*2);C&&(v-=V*t*2);$=-t/q-ha/q-$*U/q;S=-t/q-v/q-S*V/q;0>O&&($+=D*O);0>Y&&(S+=u*
Y);x=x*Math.abs(U)/q;q=p*Math.abs(V)/q;r||C?(b.save(),r&&($-=D*U*B.px),C&&(S-=u*V*B.py),b.scale(r?-1:1,C?-1:1),b.drawImage(s,$,S,x,q),b.restore()):b.drawImage(s,$,S,x,q)}l&&(D*=O,u*=Y,b.beginPath(),b.globalAlpha=1,b.globalCompositeOperation="source-over",b.lineWidth=1,b.shadowOffsetX=1,b.shadowOffsetY=1,b.rect(0,0,D,u),"dark"===e.feature.theme?(b.shadowColor="#000",b.strokeStyle="#fff"):(b.shadowColor="#fff",b.strokeStyle="#000"),b.stroke());b.restore();g&&g()}}else c.debug&&console.error("render.object",
arguments)};var D=function(b,c){if(e.gl&&b.ctx){var f=b.ctx,l=window.glfx&&e.client.webgl,q=e.gl.ColorMatrix&&"image"===b.type,t=q&&l,p=b.filter;if(p)t&&p[0]&&(q=p[0],t=q.length-1,"colorMatrix"===q[t].id?q[t]=B(b):q.push(B(b)));else if(q){if(0===b.tint&&0===b.temperature&&0===b.brightness&&0===b.contrast&&1===b.exposure&&1===b.saturation&&0===b.hue)return;if(t)p=b.filter=[[{cmd:"input",id:"source0",name:"colorMatrix",enabled:!0},B(b)]];else{e.gl.ColorMatrix.setFilter(b).apply(f);return}}else return;
var t=d.pixelRatio,h=d.zoom,x=a.cache.padding,s=2*x,q=b.ctx.canvas,v=b.bbox,r=v.rotate*y.DEG_RAD,u=v.scale.x,m=v.scale.y,w=v.height,z=Math.abs(v.width*u)*t||1,C=Math.abs(w*m)*t||1,w=z+s*t>>0,s=C+s*t>>0,k=z/2,D=C/2,u=0>u,m=0>m;if(b.useBackgroundOverlay){var J=v.x*t,v=v.y*t;u&&(J-=z);m&&(v-=C);f.save();f.globalCompositeOperation="source-atop";f.fillStyle=d.backgroundRaw;f.fillRect(0,0,w,s);f.translate(x,x);r&&(f.translate(k,D),f.rotate(-r),f.translate(-k,-D));f.translate(-J,-v);f.scale(1/h,1/h);f.drawImage(g.layer0,
0,0);f.restore()}if(l&&Array.isArray(p)){var $,l=a.getGLFX(q);l.source=q;l.pixelRatio=t;l.viewport(0,0,w,s);l.setFilter(p);l.render(function(){$?$():c&&c(b)});(p=l.getComposite())?(f.clearRect(0,0,q.width,q.height),f.drawImage(p,0,0)):$=function(){b.dirtyCache=!0;a.dirty=!0}}}};a.getGLFX=function(b){b=b||y.Canvas();return a.glfx=a.glfx||glfx.applyShader(b)};var B=function(a){return{cmd:"shader",id:"colorMatrix",enabled:!0,data:[void 0,a.tint,a.temperature,a.brightness,a.contrast,a.exposure,void 0,
void 0,a.saturation,void 0,a.hue]}};a.preload=function(b){b=b||{};var f=b.onprogress,g=b.onsuccess,l=b.chunkBatch||!1,q=b.fromPeer||!1;if(d.__preloading)g&&g();else if(b=d.scene.children,0===b.length)q&&(a.dirty=!0,a.dirtyPointer=!0),g&&g();else{var t=function(b,t){b.dirtyResource=!1;b.error?c.debug&&console.error("object did not load properly",b):t||!1===b?(console.error(t),p.push(t||"Action missing."),b.error=!0):b.toolkit&&b.toolkit.updateObjectSize&&(c.vector.edit||"text"===b.toolkit.type)&&b.toolkit.updateObjectSize(b);
f&&f(1-(x-1)/h);--x||(d.__rendering=!1,d.__preloading=!1,l?(a.chunkBatch=!0,a.scene({from:"render.preload",onsuccess:g})):a.scene({from:"render.load",onsuccess:g}),q&&(a.dirtyPointer=!0),p.length&&e.ui.log(p[0]))},p=[],h=b.length,x=h;d.__rendering=!0;d.__preloading=!0;d.scene.sort();for(var s=0;s<h;s++){var v=b[s];v.error?t(v):v.render&&!v.dirtyResource?t(v):r.ensureToolkit(v)?v.toolkit.loadResource({object:v,useLoader:!q,onerror:function(a,b){t(a,b||"Resource missing.")},onsuccess:function(a,b){t(a,
b)},onprogress:function(a){console.log(a)}}):t(v,"Missing \u201c"+v.type+"\u201d toolkit")}}};a.cache=new function(a){var f=this,g=f.data={};f.enabled=c.cache2D;f.padding=c.cache2DPadding;f.dump=function(){for(var b in g)a.log(g[b].canvas)};f.reset=function(){g=f.data={}};f.clean=function(a){var d=g[a];d&&d.canvas&&!--d.copies&&(delete g[a],c.debugCache&&(b.$(c.debugCache)||document.body).removeChild(d.canvas))};f.getContext=function(a){var b=g[a];if(b)return b.copies++,b;var c=y.Canvas(),b=c.ctx;
c.className="cache"+a;b.copies=1;return g[a]=b};f.add=function(l){if(l&&l.render){var e=d.scene.createHash(l);if(!l.dirtyCache&&g[e])l.dirtyCheck=!1,l.dirtyCache=!1,l.hash!==e&&(f.clean(l.hash),l.ctx=f.getContext(e),l.hash=e,d.scene.getOffset(l));else{l.hash=e;l.ctx=f.getContext(e);var e=f.padding,q=d.scene.getOffset(l),t=q.x+e,p=q.y+e,h=l.bbox,e=h.width,q=h.height,x=h.scale.x,v=h.scale.y,r=d.pixelRatio,w=Math.abs(e*x>>0)*r,z=Math.abs(q*v>>0)*r,C=w+2*t,k=z+2*p;c.cache257&&m.useColorModeCycle[l.type]&&
(C=Math.max(257,C),k=Math.max(257,k));var B=l.ctx,J=B.canvas;J.width=Math.min(8192,C||1)>>0;J.height=Math.min(8192,k||1)>>0;c.debugCache&&((b.$(c.debugCache)||document.body).appendChild(J),J.title="idx: "+l.zIndex,J.onclick=function(b){return function(){a.log(J);var c=d.selection.fromLayers([b]);a.exec("debug-layer",c)}}(l));c.debugCache&&(B.lineWidth=2*r,B.strokeStyle="#f00",B.strokeRect(t,p,w,z),B.strokeStyle="#00f",B.strokeRect(0,0,w+2*t,z+2*p),B.fillStyle="rgba(255,255,0,0.05)",B.fillRect(0,0,
C,k));w=h.padding||0;t+=w*x*r;p+=w*x*r;B.save();w=new u.Transform;w.scale(x,v);B.translate(t,p);B.scale(r,r);l.render(B,w,!1);t=l.background;p=l.border;if(t||p)w=l.padding||{top:0,left:0,right:0,bottom:0},r=(0>x?-e:0)-w.left,h=(0>v?-q:0)-w.right,w=e+h+0,z=q+r+0,B.globalCompositeOperation="destination-over",B.scale(x,v),B.beginPath(),p?(s.roundRect(B,r,h,w,z,p.radius),B.lineWidth=p.width||y.ZERO,B.strokeStyle=p.color,B.stroke()):s.rect(B,r,h,w,z),t&&(B.fillStyle=t.color,B.fill());B.restore();D(l);
l.dirtyCheck=!1;l.dirtyCache=!1}}else c.debug&&l&&"group"!==l.type&&console.warn("missing",arguments)};return f}(e);return a};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.SceneRender)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.SceneReplicate=function(e,d){var a=d.scene,h=d.toolkit,g=e.util,m=0,b={},c=a.clipboard={loadCopies:function(){g.getItem("copies",function(b){"object"===typeof b&&(a.copies=b)});g.getItem("copies-paths",function(a){"object"===typeof a&&(b=a)})},enable:function(){c.loadCopies()},disable:function(){}};a.cut=function(b){g.setItem("useNativePaste",!1);b=b||a.selection.items;for(var c=a.children,f=[],l=c.length;l--;)if(b[l]){var p=c[l];f.push(p);a.shiftAt(l);
a.setDirtyPixelData(p);d.render.cache.clean(p.hash)}f.length&&(a.reindex(),a.copies=a.clone(f),r(),a.deselectAll(),b=a.clone(f).reverse(),d.history&&d.history.store({cmd:"remove",icon:"clipboard",name:"cut-objects",data:b}));e.on.cut&&e.on.cut(a.copies);return a};a.copy=function(b){g.setItem("useNativePaste",!1);f(b)&&e.on.copy&&e.on.copy(a.copies);return a};var f=function(b){b=b||a.selection.items;for(var c=a.children,d=[],f=c.length;f--;)b[f]&&d.push(c[f]);if(d.length)return a.copies=a.clone(d),
r(),!0};a.paste=function(b){w(a.copies,function(){b&&b(a.copies);e.on.paste&&e.on.paste(a.copies)});return a};var w=function(c,f){if(c.length){var g=function(){if(!--x){a.select(v);a.reindex();a.handleSelection();var b=e.feature.io.translateX,c=e.feature.io.translateY;b||c?(a.selection.translate(b,c),a.copy()):d.render.scene("replicate");f&&f()}},l=function(a){var b=e.assets.data[a.src];b&&b.clone&&"clipart"===a.type&&!1===e.feature.cacheSVG?b.clone(function(b){e.assets.add(b.toDataURL(),function(b){a.src=
b;p(a)})},!0):p(a)},p=function(b){v.push(t.length);a.push(b);h.ensureToolkit(b);b.toolkit.loadResource({object:b,onerror:g,onsuccess:g,useLoader:!1})};a.deselectAll();for(var t=a.children,x=c.length,q=x,v=[];q--;){var r=a.clone(c[q]);a.getById(r.id)&&(c[q].id=r.id=a.createId(),c[q].zIndex=r.zIndex=a.children.length);var m=r.src;"string"===typeof m&&0===m.indexOf("#")&&!e.assets.data[m]&&b[m]?e.assets.add({type:r.type,data:b[m],onerror:g,onload:function(a,b){r.src=a;l(r)}}):l(r)}d.history&&(q=a.clone(c),
d.history.store({cmd:"add",icon:"clipboard",name:"paste-objects",data:q}))}};a.onCutNative=function(b){eventjs.cancel(b);e.exec("layer-cut");var c=a.stringify(a.copies);b.clipboardData?(b.clipboardData.clearData(),b.clipboardData.setData("application/json",c)):window.clipboardData&&(window.clipboardData.clearData(),window.clipboardData.setData("text",c))};a.onCopyNative=function(b){eventjs.cancel(b);e.exec("layer-copy");var c=a.stringify(a.copies);b.clipboardData?(b.clipboardData.clearData(),b.clipboardData.setData("application/json",
c)):window.clipboardData&&(window.clipboardData.clearData(),window.clipboardData.setData("text",c))};a.onPasteNative=function(b){if(!d.__rendering&&!e.util.isEditingText()){eventjs.cancel(b);var c;b.clipboardData?c=b.clipboardData:window.clipboardData&&(c=window.clipboardData);c=c.items||c.files;if(void 0===c||0===c.length)e.client.clipboard=!1,a.paste();else{var f=function(){t!==m&&(g.setItem("useNativePaste",!0),m=t);g.getItem("useNativePaste",function(b){if(!0===b){if(t){a.deselectAll();for(b=
0;b<p.length;b++)d.addMedia(p[b],null,function(){d.setTool("select")});e.on.paste&&e.on.paste(a.copies)}}else e.exec("layer-paste")})},l=function(){--h||f()},p=[],t=0;if(b.msConvertURL)g.Queue({items:c,oncomplete:f,next:function(a,b,c){a instanceof File&&(p.push(a),t+=a.size);this.next()}});else{var h=0;for(b=0;b<c.length;b++){++h;var q=c[b];switch(q.type){case "application/json":q.getAsString(function(b){try{b=JSON.parse(b),a.copies=b,e.exec("layer-paste")}catch(c){console.warn(c)}});break;case "text/html":q.getAsString(function(a){e.feature.debug&&
console.warn(a);0===a.indexOf("blob:")?setTimeout(l,1):-1!==a.indexOf("blob:http%3A//")?setTimeout(l,1):e.convert.htmlToCanvas({html:a,onerror:l,onload:function(b){t+=a.length;p.push(b);l()}})});break;default:if(-1===q.type.indexOf("image")){setTimeout(l,1);break}q=q.getAsFile();p.push(q);t+=q.size;setTimeout(l,1)}}}}}};a.duplicate=function(b){b=b||a.selection.items;g.count(b)&&(f(b),w(a.copies),e.on.duplicate&&e.on.duplicate(b));return a};var r=function(){var c=a.copies;b={};g.setItem("copies",JSON.stringify(c));
g.setItem("copies-paths",JSON.stringify({}));e.save.assets({layers:c,toBlobURL:!0,onsuccess:function(a){g.setItem("copies-paths",JSON.stringify(a))}})}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.SceneReplicate)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.SceneSelection=function(e,d,a){var h=this,g=e.util;h.remove=function(b){a.removeSelection(h.items,b);return h};h.id=void 0;h.idx=void 0;h.item=void 0;h.length=0;h.items={};h.select=function(c){var d=a.children[c];d&&(h.items[c]||(h.items[c]=!0,h.length++),1===h.length?m(d):b());return h};h.setData=function(a){a.reset();for(var b in a)a.select(b);return a};h.deselect=function(c){h.items[c]&&(delete h.items[c],h.length--);var d=h.length;if(1===d)for(c in h.items)(d=
a.children[c])&&m(d);else 0===d&&b();return h};h.toggle=function(a){h.items[a]?h.deselect(a):h.select(a)};var m=function(a){h.id=a.id;h.idx=a.zIndex;h.item=a},b=function(){h.id=void 0;h.idx=void 0;h.item=void 0};h.reset=function(){b();h.items={};h.length=0;return h};h.toLayers=function(b,d){b=b||h.items;var g=[];if(Array.isArray(b))for(var e=0;e<b.length;e++){var m=b[e];g.push(a.children[m])}else for(m in b)g.push(a.children[m]);return d?a.clone(g):g};h.fromLayers=function(a){for(var b={},d=0,g=a.length;d<
g;d++)b[a[d].zIndex]=!0;return b};h.fromIDArray=function(b){for(var d={},g=0,e=b.length;g<e;g++){var h=a.getById(b[g]);h&&(d[h.zIndex]=!0)}return d};h.toArray=function(a){if(Array.isArray(a))return a;a=a||h.items;return Object.keys(a).map(function(a){return parseInt(a)})};h.traverse=function(b){for(var d in h.items){var g=a.children[d];g&&b(g)}};h.parse=function(a){if(a&&0!==a.length)return Array.isArray(a)?isFinite(a[0].zIndex)?h.fromLayers(a):g.arrayToObject(a):"number"===typeof a?g.arrayToObject([a]):
a};h.getBBox=function(b){b=b||h.items;var d=new e.vector.BBox,g;for(g in b)if(b=a.children[g])if(b=b.trx2D)d.extendTo(b.nw),d.extendTo(b.ne),d.extendTo(b.se),d.extendTo(b.sw);return d.asData()};e.module.SceneTransform(e,d,h);return h};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.SceneSelection)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Theme=function(e,d){var a=this,h=e.feature,g=d.toolkit,m=e.util,b;a.getControls=function(a){a=b[a]||b.defaults||{};return eventjs.isTouch?a.touch:a.mouse||{}};var c=function(a,b){for(var c in b){var d=b[c],g=c.split("-"),l=g.shift(),g=g.shift()||"";a[c]=f(l,g,d,d.width||a.width,d.height||a.height)}},f=function(a,b,c,f,g){var l={};if("svg"===c.type){l.command=c.command;for(var e in c)"title"===e.substr(0,5)&&(l[e]=c[e])}else m.copyInto(c,l,{filter:function(a,
b){return"undefined"!==typeof b}});l.width=f;l.height=g;l.viewBox=[0,0,f,g];l.type=a;l.render=function(e){var t=e.ctx,p=e.matrix,h=d.zoom;t.save();c.render?c.render({ctx:t,type:a,state:b,matrix:p,object:e.object}):c.svg?(h=c.svg.vob,t.scale(f/h.width,g/h.height),c.svg.render(e)):c.image?t.drawImage(c.image,0,0):isFinite(f+g)&&(t.beginPath(),"circle"===l.shape?(e=g/2/h,t.arc(f/2/h,e,e,0,2*Math.PI)):t.rect(0,0,1*f/h,1*g/h),l.lineWidth&&(t.lineWidth=l.lineWidth/h),l.shadowColor&&(t.shadowColor=l.shadowColor),
l.shadowOffsetX&&(t.shadowOffsetX=l.shadowOffsetX),l.shadowOffsetY&&(t.shadowOffsetY=l.shadowOffsetY),l.shadowBlur&&(t.shadowBlur=l.shadowBlur),l.fillStyle&&(t.fillStyle=l.fillStyle,t.fill()),l.strokeStyle&&(t.strokeStyle=l.strokeStyle,t.stroke()));t.restore()};return l},w={anchor:!0,spinner:!0,n:!0,ne:!0,ne_spinner:!0,ne_spinner_area:!0,e:!0,se:!0,se_spinner:!0,se_spinner_area:!0,s:!0,sw:!0,sw_spinner:!0,sw_spinner_area:!0,w:!0,nw:!0,nw_spinner:!0,nw_spinner_area:!0},r={normal:!0,hover:!0,focus:!0},
y={hover:{lineWidth:1,strokeStyle:"rgba(255,255,255,1)",fillStyle:"#0080C2"},focus:{lineWidth:1,strokeStyle:"rgba(255,255,255,1)",fillStyle:"#0080C2"},normal:{lineWidth:1,strokeStyle:"rgba(255,255,255,1)",fillStyle:"rgba(30,30,30,1)"},anchor:{command:"move",cursor:"default",padding:5,normal:{lineWidth:1,shadowColor:"rgba(255,255,255,0.5)",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:0,strokeStyle:"rgba(0,0,0,0.75)"},hover:{lineWidth:1,shadowColor:"rgba(255,255,255,0.5)",shadowOffsetX:1,shadowOffsetY:1,
shadowBlur:0,strokeStyle:"rgba(0,0,0,0.75)"},focus:{lineWidth:1,shadowColor:"rgba(0,0,0,0.5)",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:0,strokeStyle:"#0080C2"}}};a.create=function(){b={__cache:{}};var d=u();m.Queue({items:d,oncomplete:function(){for(var a in d)b[a]={},b[a].mouse=d[a].mouse,b[a].touch=d[a].touch,c(b[a].mouse,d[a].controls),c(b[a].touch,d[a].controls)},next:function(a,b,c){t(a.controls,this.next)}});return a};var u=function(){var a={},b;for(b in h.tools){var c=h.tools[b];c&&c.controls&&
(a[b]=s(b,c))}return a},s=function(a,b){var c={};c.mouse=l(b.controls.mouse);c.touch=l(b.controls.touch);var d=c.controls={},f=m.copy(b),g=m.copy(y),e;for(e in r){var t=f.controls[e]||(f.controls[e]={}),h;for(h in w){var x=g[h]||(g[h]={}),x=x[e]||(x[e]=m.copy(g[e]));m.copyInto(t,x)}}for(h in w)e=f.controls[h],null!=e&&(e.focus||(e.focus=e.hover||e.normal),e.hover||(e.hover=e.normal),m.copyInto(g[h],e,{filter:function(a,b){return"undefined"!==typeof b}}),p(d,h,"normal",e),p(d,h,"hover",e),p(d,h,"focus",
e));return c},l=function(a){a=a||{};a.padding=isFinite(a.padding)?a.padding:10;a.width=isFinite(a.width)?a.width:16;a.height=isFinite(a.height)?a.height:16;return a},p=function(b,c,d,f){var l=f[d]||f.hover||f.normal||{},e;for(e in f)r[e]||void 0===l[e]&&(l[e]=f[e]);if(m.isEmpty(l))return{};f=l.command;!0===f?l.command=a.rotateScaleEvent:"string"===typeof f&&(l.command=g[f+"Event"]);"normal"===d?b[c]=l:b[c+"-"+d]=l},t=function(a,b){m.Queue({items:a,oncomplete:b,next:function(b,c,d){if(b.src)x(a,b,
this.next);else return this.next()}})},x=function(a,c,d){var f=c.src;if(b.__cache[f])a=b.__cache[f],"svg"===a.type?c.svg=a:c.image=a,d();else if(e.vector.SVG.detect(f))new e.vector.SVG({skipRender:!0,src:f,onerror:d,onload:function(a){b.__cache[f]=a;c.svg=a;d()}});else return m.loadImage({src:f,onerror:d,onload:function(){b.__cache[f]=this;c.image=this;d()}})};return a.create()};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Theme)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.SceneTransform=function(e,d,a){var h=e.feature,g=e.util,m=a instanceof e.module.Scene,b=a instanceof e.module.SceneSelection,c,f,w,r,y,u,s;a.transform=function(a,p){var t=a.items,x=a.origin,q=a.method,v=a.control,z=a.rotate,C;if(C=a.scale)(C=a.scale,isFinite(C)&&(C={x:C,y:C}),isFinite(C.y)||isFinite(C.x))?isFinite(C.y)?isFinite(C.x)||(C.x=C.y):C.y=C.x:(C.x=1,C.y=1);var k=C,D=a.translate,B=a.absolute,E=isFinite(z)&&0!==z,A=void 0!==k&&(1!==k.x||1!==k.y),
I=void 0!==D&&(0!==D.x||0!==D.y);C=E||A||I;var F=d.scene,G=F.children,L=!q||"cache"===q||"down"===q||"start"===q,K=!q||"move"===q||"change"===q,N=!q||"record"===q||"up"===q||"end"===q;L&&(s=u=y=r=w=f=c=void 0,c=0,f=x||F.getBoundingOrigin({useSelection:!0,useHovered:!0}),w=0,y=r=1,s=u=0);if(K)if(C||L||N)E&&(w+=z),A&&(r*=k.x,y*=k.y),I&&(u+=D.x,s+=D.y);else return this;var H;if(Array.isArray(t))H=F.selection.fromIDArray(t);else if(t)H=t;else if(m)H=F.selection.fromLayers(F.children);else if(b)H=F.selection.items;
else{console.error("selection undefined");return}var t=[],x=f,Q=g.count(H),T;for(T in H)if(H=G[T]){var P=H.bbox,R=h.tools[H.toolkitId]||{};if(z&&E&&K)if(!1===H.rotatable||!1===R.rotatable)H.dirtyControl=!0;else{if(B)P.rotate=(z+3600)%360;else{var X=P.width/2*P.scale.x,W=P.height/2*P.scale.y,U=x.x-X,V=x.y-W,X=P.x-U,O=P.y-V,W=z*g.DEG_RAD;P.x=Math.cos(W)*X-Math.sin(W)*O+U;P.y=Math.sin(W)*X+Math.cos(W)*O+V;P.rotate=(P.rotate+z+3600)%360}H.dirtyTransform=!0;H.dirtyControl=!0;H.inbounds=void 0;c=!0;H.onrotate&&
H.onrotate()}!k||!L&&P.scaleCache||(P.scaleCache={x:1,y:1,px:P.scale.x,py:P.scale.y,mx:P.x,my:P.y});if(k){if(K&&A)if(!1===H.scalable||!1===R.scalable)H.dirtyControl=!0;else{if(B)P.scale.x=k.x,P.scale.y=k.y;else if(1<Q){U=(x.x-P.x)*k.x;V=(x.y-P.y)*k.y;if(1===k.y||1===k.x)X=P.width/2*P.scale.x,W=P.height/2*P.scale.y,U-=(x.x-(P.x+X))*(1-k.y),V-=(x.y-(P.y+W))*(1-k.x);P.x=x.x-U;P.y=x.y-V;P.scale.x*=k.x;P.scale.y*=k.y;P.scaleCache.x*=k.x;P.scaleCache.y*=k.y}else{P.scale.x*=k.x;P.scale.y*=k.y;P.scaleCache.x*=
k.x;P.scaleCache.y*=k.y;var O=P,X=v,Y=O.scale,W=O.width,U=O.height,V=new e.vector.Transform;V.translate(O.x,O.y);V.scale(Y.x,Y.y);"objectBoundingBox"===O.units?X=V.point2d(W/2,U/2):(O={},O.cp=V.point2d(W/2,U/2),O.nw=V.point2d(0,0),O.ne=V.point2d(W,0),O.se=V.point2d(W,U),O.sw=V.point2d(0,U),O.n=V.point2d(W/2,0),O.e=V.point2d(W,U/2),O.s=V.point2d(W/2,U),O.w=V.point2d(0,U/2),X=O[X]||O.cp);V=X.x;O=X.y;X=P.width/2*P.scale.x;W=P.height/2*P.scale.y;X=P.x+X;U=P.y+W;V-=X;O-=U;W=g.DEG_RAD*P.rotate;Y=Math.cos(W);
W=Math.sin(W);X=V*Y-O*W+X;O=V*W+O*Y+U;P.x-=X-x.x;P.y-=O-x.y}H.dirtyTransform=!0;H.dirtyControl=!0;H.inbounds=void 0;F.updateConstrain(H);c=!0;H.onscale&&H.onscale()}if(N||H.usePixelData)H.dirtyCheck=!0,P.scaleCache=void 0}D&&I&&K&&(!1===H.movable||!1===R.movable?H.dirtyControl=!0:(B?(P.x=D.x,P.y=D.y):(P.x+=D.x,P.y+=D.y),H.dirtyTransform=!0,H.dirtyControl=!0,H.inbounds=void 0,F.updateConstrain(H),c=!0,H.ontranslate&&H.ontranslate()));F.setDirtyPixelData(H);c&&N&&k&&(H.dirtyCheck=!0);t.push(H.id)}if(!1===
c)return this;I&&(x.x+=D.x,x.y+=D.y);z=d.on.record&&!p;if(d.history&&N&&t.length){T={};k="";D=0!==w;B=1!==r||1!==y;E=0!==u||0!==s;T.layers=t;T.origin=x;D&&(k="rotate",T.rotate=w);B&&(k=k?"transform":"scale",T.scale={x:r,y:y});E&&(k=k?"transform":"move",T.translate={x:u,y:s});if(D||B||E)d.history.store({cmd:"transform",icon:"infinity",name:k,data:T},p),e.on.transform&&e.on.transform(T,t);e.on.rotate&&D&&e.on.rotate(T,t);e.on.scale&&B&&e.on.scale(T,t);e.on.translate&&E&&e.on.translate(T,t)}z&&(C||N||
L)&&d.on.record({op:"SCENE_TRANSFORM",data:{method:q,origin:x,control:v,items:t,rotate:a.rotate,scale:a.scale,translate:a.translate}});F.updateBBox();return this};a.rotate=function(b,c){c=c||{};return a.transform(g.copyInto({rotate:b},c))};a.flipX=function(b){return a.flip(1,0,b)};a.flipY=function(b){return a.flip(0,1,b)};a.flip=function(b,c,d){d=d||{};return a.transform(g.copyInto({scale:{x:b?-1:1,y:c?-1:1}},d))};a.scaleX=function(b,c){return a.scale(b,1,c)};a.scaleY=function(b,c){return a.scale(1,
b,c)};a.scale=function(b,c,d){d=d||{};return a.transform(g.copyInto({scale:{x:b,y:c}},d))};a.translate=function(b,c,d){d=d||{};return a.transform(g.copyInto({translate:{x:b,y:c}},d))};e.setupHistory&&e.setupHistory.add({type:"transform",fn:function(a,b,c,d){a=e.doc;d=b.layers;var f=b.origin,h=b.rotate,s=b.translate;b=b.scale;var r,u;"number"===typeof b?u=r=b:b&&(r=b.x,u=b.y);var m,w;s&&(m=s.x,w=s.y);c&&(h&&(h=360-h),b&&(r=1/r,u=1/u),s&&(m=-m,w=-w));for(c=0;c<d.length;c++){var y=a.scene.getById(d[c]);
if(y){var k=y.bbox;if(h){var I=f.x-k.width/2*k.scale.x,F=f.y-k.height/2*k.scale.y,G=k.x-I,L=k.y-F,K=h*g.DEG_RAD;k.x=Math.cos(K)*G-Math.sin(K)*L+I;k.y=Math.sin(K)*G+Math.cos(K)*L+F;k.rotate=(k.rotate+h+3600)%360;y.dirtyTransform=!0}b&&(I=(f.x-k.x)*r,F=(f.y-k.y)*u,k.x=f.x-I,k.y=f.y-F,k.scale.x*=r,k.scale.y*=u,y.dirtyCheck=!0,y.dirtyTransform=!0);s&&(k.x+=m,k.y+=w,y.dirtyTransform=!0);y.inbounds=void 0}}}})};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.SceneTransform)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.GenerateMedia=function(e,d){var a=e.gen,h=e.client,g=e.util,m=g.Canvas(),b=m.ctx,c=function(a){var b=a.callback,c=a.ctx,d=c.canvas,g=c.createPattern(d,"repeat");h.io&&h.io.blob?d.toBlob(function(c){c=URL.createObjectURL(c);g.css="url("+c+")";g.data=c;g.id=a.id;b&&b(g)}):(c=d.toDataURL(),g.css="url("+c+")",g.data=c,g.id=a.id,b&&b(g));return g};a.paper=function(b,d){var e=(g.toMetrics||(g.toMetrics=g.getScreenMetrics()))["in>px"],e={notebook:{id:"notebook",
lineStartTop:.85*e,lineHeight:30,lineColor:"#8CA6BD",marginLeft:.85*e,marginColor:"#FF7088",fillColor:"#F8F9B3"},looseLeaf:{id:"looseLeaf",lineStartTop:.85*e,lineHeight:30,lineColor:"#CAEAFB",marginLeft:.85*e,marginColor:"#FF7088",fillColor:"#FAFAFA"},lined:{id:"lined",lineStartTop:-.5,gutter:.25*e,lineHeight:30,lineColor:"#8CA6BD",fillColor:"#FAFAFA"}};b=e[b]||b||e.notebook;b.callback=d;var h=b.grid||0,m=b.gutter||0,s=b.lineStartTop||0,l=b.lineStartLeft||0,e=b.lineHeight||1,p=b.lineColor||"#8CA6BD",
t=b.marginLeft||0,x=b.marginColor||"#C37F9B",q=g.Canvas(1024,1024).ctx;q.fillStyle=b.fillColor||"#fff";q.fillRect(0,0,1024,1024);h&&(q.save(),q.translate(m,m),h=a.grid({size:h,strokeColor:p,fillColor:"none"}),q.fillStyle=h,q.fillRect(0,0,1024,1024),q.restore());h=1024/e;q.save();q.translate(l,s);for(s=0;s<h;s++)q.beginPath(),q.moveTo(0,s*e),q.lineTo(1024,s*e),q.lineWidth=1,q.strokeStyle=p,q.stroke();q.restore();t&&(q.save(),q.beginPath(),q.moveTo(t,0),q.lineTo(t,1024),q.lineWidth=1,q.strokeStyle=
x,q.stroke(),q.restore());b.ctx=q;return c(b)};a.grid=function(a,b){var d={grid:{id:"grid",size:20,strokeColor:"#ddd",fillColor:"#fff"},graphPaper:{id:"graphPaper",size:20,strokeColor:"#BEE0BD",fillColor:"#F0FCE1"},blueprint:{id:"blueprint",size:20,strokeColor:"#2893e0",fillColor:"#0078CF"}};a=d[a]||a||d.grid;var d=a.size||12,e=a.strokeColor||"#000",h=a.fillColor||"#1f1f1f",s=g.Canvas(d,d).ctx;a.callback=b||a.callback;a.ctx=s;s.fillStyle=h;s.fillRect(0,0,d,d);s.moveTo(0,0);s.lineTo(0,d);s.moveTo(0,
0);s.lineTo(d,0);s.lineWidth=1;s.strokeStyle=e;s.stroke();return c(a)};a.interlace=function(a,d){a=a||{};var g={transparent:{id:"transparent",size:12,innerColor:"#fff",outerColor:"#d9d9d9"},transparentDark:{id:"transparentDark",size:12,innerColor:"#000",outerColor:"#1f1f1f"}},e=g.transparent,g=g[a]||g[a.id]||a,h=g.size||e.size,s=g.innerColor||e.innerColor,e=g.outerColor||e.outerColor;m.width=2*h;m.height=2*h;b.fillStyle=s;b.fillRect(0,0,h,h);b.fillStyle=e;b.fillRect(h,0,h,h);b.fillStyle=e;b.fillRect(0,
h,h,h);b.fillStyle=s;b.fillRect(h,h,h,h);if(a.toDataURL)return m.toDataURL();g.callback=d||g.callback;g.ctx=b;return c(g)};a.rangeBar=function(a){a=a||{};a.dash=a.dash||{};e.ui.rangeStyle?g.copyInto(e.ui.rangeStyle,a):a.top=8;m||initCanvas();var c=d.pixelRatio,h=(a.top||0)*c,y=(a.left||0)*c,u=(a.barWidth||233)*c,s=(a.barHeight||6)*c,l=a.fillStyle||"#555",p=a.gradient,t=h+s;a=a.dash;a.height=a.height||4;a.heightSmall=a.heightSmall||3;a.strokeStyle=a.strokeStyle||"#666";a.lineWidth=a.lineWidth||1;a.globalAlpha=
a.globalAlpha||1;a.position=a.position||"top";m.width=u+1;m.height=s+a.height+h;m.style.width=m.width/c+"px";m.style.height=m.height/c+"px";b.clearRect(y,h,u,30);var c=0,x=u-9;b.save();b.beginPath();b.lineWidth=a.lineWidth;b.globalAlpha=a.globalAlpha;var q;q="bottom"===a.position?t-5:h-1;for(var v=a.height,z=a.heightSmall,t=0;t<=x+1;t+=x/10){var C=Math.round(t)+y+4.5,k=c%5?z:v;b.moveTo(C,q);"bottom"===a.position?b.lineTo(C,q+k):b.lineTo(C,q-k);b.strokeStyle=a.strokeStyle;b.stroke();b.beginPath();
c++}b.restore();if(p)for(l=b.createLinearGradient(0,0,u,0),t=0,a=p.length;t<a;t++)l.addColorStop(t/(a-1||1),p[t]);b.fillStyle=l;C=y+.5;b.lineWidth=.25;b.strokeStyle="#000";e.vector.Shape?e.vector.Shape.roundRect(b,C,h,C+u,s,s/2):b.rect(C,h,C+u,s);b.fill();b.stroke();return m}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.GenerateMedia)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.GeneratePreview=function(e){var d=e.util,a=e.gen||(e.gen={});a.preview=function(a,g){a=a||{};var m=a.pixelRatio||1,b=a.type||"stamp",c=(a.width||52)*m,f=(a.height||52)*m,w=a.oncomplete?[]:{},r=a.oncomplete||function(a){},y=a.background||"none",u=a.download||!1,m=a.debug||!1;a.src?g=[{filepath:a.src}]:a.resource?g=[{resource:a.resource}]:!g&&e.lib&&(g=e.lib[b].paths);var s=a.canvas||d.Canvas(),l=s.getContext("2d");m&&document.body.appendChild(s);var p=function(a,
b,g){d.thumbnailer({src:a,crop:"edge",width:c,height:f,background:y,croparea:!1,onload:function(a){u?a.toBlob(function(a){g.push({filename:b,blob:a});t.next()}):(g.push({filename:b,canvas:a}),t.next())}})},t=d.Queue({items:g,instant:!1,onprogress:function(a){1<g.length&&console.log("load",a)},oncomplete:function(){u?e.io.zip.encode(w,function(a){e.download.blob(a,b+"-preview.zip")},function(a){console.log("zip",a)}):a.src||a.resource?r(w[0]):r(w)},next:function(d){t=this;if(d.filepath&&"#"===d.filepath[0])return this.next();
var g=d.filepath?d.filepath:e.lib[b].getSrc(d),v="",r=[];if(a.src||a.resource)w=r;else{var m=g.replace(e.loc.host,"").substr(1).split("/");if(1<m.length){for(var u=[w],v=m.pop();m.length;){var y=m.shift();if(y){var k=u[u.length-1];k[y]||(k[y]=[]);u.push(k[y])}}r=k[y]}else w.length||(w=[]),v=m[0],r=w}v=v.replace("svg","png");m=function(a){s.width=c;s.height=f;a.render&&a.render({ctx:l,placement:"crop",width:c,height:f});p(s,v,r)};switch(b){case "clipart":d.resource?m(d.resource):new e.vector.SVG({ctx:l,
src:g,useCache:isFinite(a.useCache)?a.useCache:!0,onerror:function(a){console.log(a,"error loading svg",d);t.next()},onload:m});break;case "stamp":p(g,v,r)}}})};a.preview.stamp=function(d,g,e){d=d||{};d.type="stamp";a.preview(d,g,e)};a.preview.clipart=function(d,g,e){d=d||{};d.type="clipart";a.preview(d,g,e)};a.preview.font=a.preview.text=function(h){var g=a.canvas||(a.canvas=d.Canvas(1,1)),m=g.getContext("2d"),b=h.download||!1,c=h.oncomplete||function(a){},f=[],w=[],r=e.lib.text;if(h)w=h.fonts;else for(var y in r.byName){var u=
d.copy(r.byName[y]);u.filepath=r.getSrc(u);w.push(u)}var s=function(a){g.width=236;g.height=60;g.style.width="300px";g.style.height="50px";m.textAlign="center";m.textBaseline="middle";m.font="60px '"+a.name+"', Arial, Helvetica";var b=m.measureText(a.name).width,c=e.vector.text.measureTextHeight(a.name,m.font),b=Math.min(g.width/(b+40),g.height/(c+20));1>b&&(m.font=60*b+"px '"+a.name+"', Arial, Helvetica");m.fillStyle="#fff";m.fillText(a.name,g.width/2,g.height/2);g.toBlob(function(b){f.push({filename:a.name+
".png",canvas:g,blob:b});l.next()})},l=d.Queue({items:w,instant:!1,oncomplete:function(){b?e.io.zip.encode(f,function(a){e.download.blob(a,"font-preview.zip")}):h.src||h.resource?c(f[0]):c(f)},onprogress:function(a){console.log(a)},next:function(a){l=this;if(e.vector.text.detectFont(a.name))s(a);else{var b=d.copy(a);b.family=b.family||b.name;b.timeout=1E3;b.callback=function(b){b&&console.log("missing: "+a.name);s(a)};e.vector.text.attach(b)}}})};return a};"undefined"!==typeof module&&module.exports&&
(module.exports=k.module.GeneratePreview)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.vector||(k.vector={}),d=e.BBox=function(a){sketch=d.__self||sketch;this.unset();return a?this.path(a):this};d.toRect=function(a){return[{x:a.x1,y:a.y1,cmd:"M"},{x:a.x2,y:a.y1,cmd:"L"},{x:a.x2,y:a.y2,cmd:"L"},{x:a.x1,y:a.y2,cmd:"L"}]};k=d.prototype;k.asData=function(){return{x1:this.x.min,x2:this.x.max,y1:this.y.min,y2:this.y.max}};k.asRect=function(){return d.toRect(this.asData())};k.path=function(a){var d=a.asRect||!1,b=a.convexHull||!1,c=a.expand||0,f=a.matrix||void 0;a=a.data||
a;var h,r=!0;f&&(h=new e.Transform(f),r=e.Transform.isIdentity(f));var y,f=this.x,u=this.y,s,l;if(r)for(var r=0,p=a.length;r<p;r++)switch((y=a[r]).cmd){case "M":y.x<f.min&&(f.min=y.x);y.x>f.max&&(f.max=y.x);y.y<u.min&&(u.min=y.y);y.y>u.max&&(u.max=y.y);s=y.x;l=y.y;break;case "L":y.x<f.min&&(f.min=y.x);y.x>f.max&&(f.max=y.x);y.y<u.min&&(u.min=y.y);y.y>u.max&&(u.max=y.y);s=y.x;l=y.y;break;case "C":this.cubic(s,l,y.x1,y.y1,y.x2,y.y2,y.x,y.y,b);s=y.x;l=y.y;break;case "Q":var t=s+2/3*(y.x1-s),x=l+2/3*
(y.y1-l),q=t+(y.x-s)/3,v=x+(y.y-l)/3;this.cubic(s,l,t,x,q,v,y.x,y.y,b);s=y.x;l=y.y}else for(r=0,p=a.length;r<p;r++)switch((y=a[r]).cmd){case "M":var z=h.point2d(y.x,y.y);z.x<f.min&&(f.min=z.x);z.x>f.max&&(f.max=z.x);z.y<u.min&&(u.min=z.y);z.y>u.max&&(u.max=z.y);s=z.x;l=z.y;break;case "L":z=h.point2d(y.x,y.y);z.x<f.min&&(f.min=z.x);z.x>f.max&&(f.max=z.x);z.y<u.min&&(u.min=z.y);z.y>u.max&&(u.max=z.y);s=z.x;l=z.y;break;case "C":z=h.point2d(y.x,y.y);t=h.point2d(y.x1,y.y1);y=h.point2d(y.x2,y.y2);this.cubic(s,
l,t.x,t.y,y.x,y.y,z.x,z.y,b);s=z.x;l=z.y;break;case "Q":z=h.point2d(y.x,y.y),h.point2d(y.x1,y.y1),t=s+2/3*(z.x1-s),x=l+2/3*(z.y1-l),q=t+(z.x-s)/3,v=x+(z.y-l)/3,this.cubic(s,l,t,x,q,v,z.x,z.y,b),s=z.x,l=z.y}c&&(f.expand(c),u.expand(c));return d?this.asRect():this.asData()};k.cubic=function(a,d,b,c,f,e,r,y,u){var s=this.x,l=this.y;r<s.min&&(s.min=r);r>s.max&&(s.max=r);y<l.min&&(l.min=y);y>l.max&&(l.max=y);if(u)s.extendTo(b),s.extendTo(f),l.extendTo(c),l.extendTo(e);else{u=l.min<=c&&c<=l.max&&l.min<=
e&&e<=l.max;if(!(s.min<=b&&b<=s.max&&s.min<=f&&f<=s.max)){var p=3*a-9*b+9*f-3*r,t=6*b-12*f+6*r,x=3*f-3*r;if(Math.abs(p)<=h)Math.abs(t)>=h&&(x=-x/t,x>h&&1>x&&s.extendToCubic(x,1-x,a,r,b,f));else if(x=t*t-4*p*x,x>=h){var q=Math.sqrt(x),x=(-t+q)/(2*p);x>h&&1>x&&s.extendToCubic(x,1-x,a,r,b,f);x=(-t-q)/(2*p);x>h&&1>x&&s.extendToCubic(x,1-x,a,r,b,f)}}u||(p=3*d-9*c+9*e-3*y,t=6*c-12*e+6*y,x=3*e-3*y,Math.abs(p)<=h?Math.abs(t)>=h&&(x=-x/t,x>h&&1>x&&l.extendToCubic(x,1-x,d,y,c,e)):(x=t*t-4*p*x,x>=h&&(q=Math.sqrt(x),
x=(-t+q)/(2*p),x>h&&1>x&&l.extendToCubic(x,1-x,d,y,c,e),x=(-t-q)/(2*p),x>h&&1>x&&l.extendToCubic(x,1-x,d,y,c,e))))}};k.unset=function(){this.x=new a({min:Infinity,max:-Infinity});this.y=new a({min:Infinity,max:-Infinity})};k.extendTo=function(a){this.x.extendTo(a.x);this.y.extendTo(a.y)};var a=function(a){this.min=a.min;this.max=a.max};a.prototype={extendToCubic:function(a,d,b,c,f,e){a=a*a*a*b+3*a*a*d*f+3*a*d*d*e+d*d*d*c;a<this.min&&(this.min=a);a>this.max&&(this.max=a)},extendTo:function(a){a<this.min&&
(this.min=a);a>this.max&&(this.max=a)},contains:function(a){return this.min<=a&&a<=this.max},expand:function(a){this.min-=a;this.max+=a}};var h=1E-10;"undefined"!==typeof module&&module.exports&&(module.exports=d)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.vector||(k.vector={});e.catmullRomSplineUniform=function(d){Array.isArray(d)&&(d={path:d,getResult:!0});var a=d.ctx||void 0,e=d.getResult||!a;d=d.path||[];var g=[];d[0]&&(e&&g.push({cmd:"M",x:d[0].x,y:d[0].y}),a&&a.moveTo(d[0].x,d[0].y));var m=d.length;if(2>=m)return d;for(var b=0;b<m-1;b++){var c=0===b?d[0]:d[b-1],f=d[b],w=d[b+1],r=b+2<m?d[b+2]:w,y=f.x+(1*w.x-1*c.x)/6,c=f.y+(1*w.y-1*c.y)/6,u=w.x+(1*f.x-1*r.x)/6,f=w.y+(1*f.y-1*r.y)/6,r=w.x,w=w.y;e&&g.push({cmd:"C",x1:y,y1:c,x2:u,
y2:f,x:r,y:w});a&&a.bezierCurveTo(y,c,u,f,r,w)}return g};e.catmullRomSpline=function(d){Array.isArray(d)&&(d={path:d,getResult:!0});if(0===d.amount)return e.catmullRomSplineUniform(d);var a=d.amount||1,h=d.ctx||void 0,g=d.getResult||!h;d=d.path||[];var m=[];d[0]&&(g&&m.push({cmd:"M",x:d[0].x,y:d[0].y}),h&&h.moveTo(d[0].x,d[0].y));var b=d.length;if(2>=b)return d;for(var c=0;c<b-1;c++){var f=0===c?d[0]:d[c-1],w=d[c],r=d[c+1],y=c+2<b?d[c+2]:r;if("C"===w.cmd)var u=w.x1,f=w.y1,s=w.x2,y=w.y2,l=w.x,p=w.y;
else{var s=Math.sqrt(Math.pow(f.x-w.x,2)+Math.pow(f.y-w.y,2)),l=Math.sqrt(Math.pow(w.x-r.x,2)+Math.pow(w.y-r.y,2)),p=Math.sqrt(Math.pow(r.x-y.x,2)+Math.pow(r.y-y.y,2)),u=Math.pow(s,a),s=Math.pow(s,2*a),t=Math.pow(l,a),l=Math.pow(l,2*a),x=Math.pow(p,a),p=Math.pow(p,2*a),q=2*s+3*u*t+l,v=2*p+3*x*t+l,z=3*u*(u+t);0<z&&(z=1/z);t=3*x*(x+t);0<t&&(t=1/t);u=(-l*f.x+q*w.x+s*r.x)*z;f=(-l*f.y+q*w.y+s*r.y)*z;s=(p*w.x+v*r.x-l*y.x)*t;y=(p*w.y+v*r.y-l*y.y)*t;l=r.x;p=r.y;0===u&&0===f&&(u=w.x,f=w.y);0===s&&0===y&&(s=
r.x,y=r.y)}g&&m.push({cmd:"C",x1:u,y1:f,x2:s,y2:y,x:l,y:p});h&&h.bezierCurveTo(u,f,s,y,l,p)}return m}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.util;k=k.vector=k.vector||{};(k.Degree=function(a){}).flip=function(a,c,d){return 0>c&&0>d?180+a:0>c?360-a:0>d?540-a:a};var d=k.Point=function(a,c){return{x:a||0,y:c||0}};d.fromArray=function(a){return d(a[0],a[1])};d.clone=function(a){return d(a.x,a.y)};d.equals=function(a,c){return a.x===c.x&&a.y===c.y};d.exists=function(a){return a&&isFinite(a.x+a.y)};d.add=function(a,c){a.x+=c.x;a.y+=c.y;return a};d.subtract=function(a,c){a.x-=c.x;a.y-=c.y;return a};d.dot=function(a,c){return a.x*
c.x+a.y*c.y};d.distance=function(a,c){var d=a.x-c.x,g=a.y-c.y;return Math.sqrt(d*d+g*g)};d.angle=function(a,c,d){a=Math.atan2(c.y-a.y,c.x-a.x);return d?a*e.RAD_DEG:a};d.rotateAt=function(a,c,d){var g=a.x,e=a.y;a.x=c.x+Math.cos(d)*(g-c.x)-Math.sin(d)*(e-c.y);a.y=c.y+Math.sin(d)*(g-c.x)+Math.cos(d)*(e-c.y);return a};d.atRadianDistance=function(a,c,d){return{x:Math.cos(c)*d+a.x,y:Math.sin(c)*d+a.y}};d.atRadianToTime=function(a,c,d,g,e,h){var m=a-d,s=c-g;e*=Math.sqrt(m*m+s*s);a=Math.atan2(g-c,d-a);h&&
(a+=h);return{x:Math.cos(a)*e,y:Math.sin(a)*e}};d.atTimeToRadius=function(a,c,d,g){var e=c.x-a.x,h=c.y-a.y;c=a.x+e*d;a=a.y+h*d;e=Math.atan2(h,e)-1.57079632;return{x:c+Math.cos(e)*g,y:a+Math.sin(e)*g}};d.atTimeOnLine=function(a,c,d){return{x:a.x+(c.x-a.x)*d,y:a.y+(c.y-a.y)*d}};d.atTimeOnQuadratic=function(a,c,d,g){var e=1-g,h=e*e,e=2*e*g;g*=g;return{x:h*a.x+e*c.x+g*d.x,y:h*a.y+e*c.y+g*d.y}};d.nearestOnLine=function(a,c,d,g){var e=d.x-c.x;d=d.y-c.y;var h=e*e+d*d;a=(a.x-c.x)*e+(a.y-c.y)*d;var m=a/h;
g&&(m=Math.max(0,Math.min(1,a/h)));return{time:m,x:c.x+e*m,y:c.y+d*m}};d.toLineDistance=function(a,c,d){var g=d.x-c.x,e=d.y-c.y,h=g*g+e*e;if(0===h)var m=c.x,s=c.y;else m=(a.x-c.x)*g,s=(a.y-c.y)*e,h=(m+s)/h,0>h?(m=c.x,s=c.y):1<h?(m=d.x,s=d.y):(m=c.x+h*g,s=c.y+h*e);g=a.x-m;e=a.y-s;return Math.sqrt(g*g+e*e)};d.lineToLineIntersectionSweep=function(a,c,d,g){return(g.y-a.y)*(d.x-a.x)>(d.y-a.y)*(g.x-a.x)!==(g.y-c.y)*(d.x-c.x)>(d.y-c.y)*(g.x-c.x)&&(d.y-a.y)*(c.x-a.x)>(c.y-a.y)*(d.x-a.x)!==(g.y-a.y)*(c.x-
a.x)>(c.y-a.y)*(g.x-a.x)};d.lineToLineIntersection=function(a,c,d,g){var e=c.y-a.y;c=c.x-a.x;var h=g.x-d.x,m=g.y-d.y;g=c*m-e*h;if(!g)return!1;var s=a.x-d.x;d=a.y-d.y;h=(h*d-m*s)/g;if(0>h||1<h)return!1;d=(c*d-e*s)/g;return 0>d||1<d?!1:{x:a.x+h*c,y:a.y+h*e}};d.inBBox=function(a,c){return a.x>c.x1&&a.y>c.y1&&a.x<c.x2&&a.y<c.y2};d.inRect=function(a,c,d,g){var e=d.x-c.x,h=d.y-c.y,m=g.x-d.x;g=g.y-d.y;c=e*(a.x-c.x)+h*(a.y-c.y);a=m*(a.x-d.x)+g*(a.y-d.y);return 0<c&&c<e*e+h*h&&0<a&&a<m*m+g*g};d.inPolygon=
function(a,c,d){for(var g=!1,e=a.length,h=0,m=e-1;h<e;m=h++){var s=a[h],m=a[m];(s.y<=d&&d<m.y||m.y<=d&&d<s.y)&&c<(m.x-s.x)*(d-s.y)/(m.y-s.y)+s.x&&(g=!g)}return g};d.inPolygonChain=function(a,c,f){for(var g=0,e=0,h=a.length;e<h;e++)d.inPolygon(a[e],c,f)&&g++;return 1===(g&1)};var a=k.Polygon=function(a){};a.clone=function(a){for(var c=[],d=0,g=a.length;d<g;d++){var e=a[d];c.push({cmd:e.cmd||(0===d?"M":"L"),x:e.x,y:e.y})}return c};a.isClockwise=function(a){for(var c=0,d=0;d<a.length;d++)var g=a[d],
e=a[(d+1)%a.length],c=c+(e.x-g.x)*(e.y+g.y);return 0>=c};a.collision=function(b,c){for(var f=b.length,g=0;g<f;g++){var e=b[g];if(d.inPolygon(c,e.x,e.y))return!0}f=c.length;for(g=0;g<f;g++)if(e=c[g],d.inPolygon(b,e.x,e.y))return!0;return a.intersects(b,c)};a.intersects=function(a,c){for(var f=a.length,g=c.length,e=0;e<f;e++)for(var h=a[e],m=a[(e+1)%f],s=0;s<g;s++)if(d.lineToLineIntersection(h,m,c[s],c[(s+1)%g]))return!0;return!1};a.SAT=function(){var a=function(a,b,d){for(var g=0,e=a.length;g<e;g++){var h=
a[g],s=a[(g+1)%e],l=h.x-s.x,h=h.y-s.y;d?l=-l:h=-h;a:{for(var p=0,t=b.length;p<t;p++){var x=b[p];if(0>h*(x.x-s.x)+l*(x.y-s.y)){s=!1;break a}}s=!0}if(s)return!1}return!0};return function(c,d){return a(c,d)&&a(d,c)?!0:!1}}();a.arcSpline=function(a,c,f){for(var g=c.length-1,m=0;m<g;m++){var k=c[(m+0)%g],u=c[(m+1)%g],s=c[(m+2)%g],l=d.atTimeOnLine(k,u,.5),p=d.atTimeOnLine(u,s,.5),t=d.atRadianDistance(l,d.angle(k,u)+90*e.DEG_RAD,1E4),x=d.atRadianDistance(p,d.angle(u,s)+90*e.DEG_RAD,1E4),k=d.distance(k,u)/
2,k=d.distance(l,p)/2;if(t=d.lineToLineIntersection(l,t,p,x))a.fillStyle="#f00",a.fillRect(t.x-10,t.y-10,20,20);0===m&&a.moveTo(l.x,l.y);h(a,u,"#f0f");h(a,l,"#fff");h(a,p,"#ff0");a.arcTo(u.x,u.y,s.x,s.y,f>k?k:f)}a.closePath()};var h=function(a,c,d){a.fillStyle=d;a.fillRect(c.x-5,c.y-5,10,10)};k.Arc=function(a,c,f,g,e){a=d(a,c);a.cp1=d(f,g);a.radius=e;return a};var g=k.Quadratic=function(a,c,f,g){a=d(a,c);a.cp1=d(f,g);return a};g.fromArray=function(a){return{x1:a[0],y1:a[1],x:a[2],y:a[3]}};g.distance=
function(a,c,d,g,e,h){e=a-2*d+e;h=c-2*g+h;a=2*d-2*a;g=2*g-2*c;c=4*(e*e+h*h);e=4*(e*a+h*g);g=a*a+g*g;h=2*Math.sqrt(c+e+g);a=Math.sqrt(c);d=2*c*a;var m=2*Math.sqrt(g),s=e/a;return(d*h+a*e*(h-m)+(4*g*c-e*e)*Math.log((2*a+s+h)/(s+m)))/(4*d)};var m=k.Cubic=function(a,c,f,g,e,h){a=d(a,c);a.cp1=d(f,g);a.cp2=d(e,h);return a};m.fromArray=function(a){return{cmd:"C",x1:a[0],y1:a[1],x2:a[2],y2:a[3],x:a[4],y:a[5]}};m.fromLineSegment=function(a,c,f){var g=d.atTimeOnLine(a,c,1/3);a=d.atTimeOnLine(a,c,2/3);f=f||
d.clone(c);f.cmd="C";f.x1=g.x;f.y1=g.y;f.x2=a.x;f.y2=a.y;return f};m.pointAtTime=function(a,c,d,g,e,h,m,s,l){var p=1-l,t=p*p*p,x=3*l*p*p,p=3*l*l*p;l*=l*l;return{x:t*a+x*d+p*e+l*m,y:t*c+x*g+p*h+l*s}};m.split=function(a,c,d,g,e,h,m,s,l){var p=a+(d-a)*l,t=c+(g-c)*l,x=d+(e-d)*l,q=g+(h-g)*l;e+=(m-e)*l;h+=(s-h)*l;g=p+(x-p)*l;d=t+(q-t)*l;var x=x+(e-x)*l,q=q+(h-q)*l,v=g+(x-g)*l;l=d+(q-d)*l;return[[a,c,p,t,g,d,v,l],[v,l,x,q,e,h,m,s]]};m.splitSegment=function(){return function(a,c,d){d=0+(d-c)/(1-c)*1;c=m.split(a[0].x,
a[0].y,a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y,c);a=c[0];c=c[1];d=m.split(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],d);c=d[0];return[a,c,d[1]]}}();m.isFlat=function(a,c){return m.flatness1(a)<=(c||1)};m.flatness1=function(a){var c=d.toLineDistance(a[1],a[0],a[3]);a=d.toLineDistance(a[2],a[0],a[3]);return c>a?c:a};m.nearestTimeOnCurve=function(){var a=function(c,f,g,e,h){if(1E-5>h)return g;var u=g-h,s=g+h,l=m.pointAtTime(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,u),p=m.pointAtTime(f[0].x,
f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,s),l=d.distance(c,l),p=d.distance(c,p);return 0<=u&&l<e?a(c,f,u,l,h):1>=s&&p<e?a(c,f,s,p,h):a(c,f,g,e,h/2)};return function(c,f){for(var g=0,h=e.INFINITY,k=0;10>k;k++){var u=m.pointAtTime(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,k/10),u=d.distance(c,u);u<h&&(h=u,g=k/10)}return a(c,f,g,h,1/10.1)}}();m.nearestPointOnCurve=function(a,c){var f=m.nearestTimeOnCurve(a,c),g=m.pointAtTime(c[0].x,c[0].y,c[1].x,c[1].y,c[2].x,c[2].y,c[3].x,c[3].y,
f),e=d.distance(a,g);return{point:g,distance:e,time:f}};m.toPolyline=function(){var a,c=function(f,g,e){m.isFlat(f,g||.33)||10<++e?a.push(d.clone(f[3])):(f=m.split(f[0].x,f[0].y,f[1].x,f[1].y,f[2].x,f[2].y,f[3].x,f[3].y,.5),c(m.fromArray2(f[0]),g,e),c(m.fromArray2(f[1]),g,e))};return function(f,g){a=[];a.push(d.clone(f[0]));c(f,g,0);return a}}();m.fromArray2=function(a){return[{x:a[0],y:a[1]},{x:a[2],y:a[3]},{x:a[4],y:a[5]},{x:a[6],y:a[7]}]};(function(){var a=[-.06405689286260563,.06405689286260563,
-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],c=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,
.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872];m.distance=function(d){var g,e,h=0,m=a.length,s=[];for(e=0;3>e;e++)s.push({x:3*(d[e+1].x-d[e].x),y:3*(d[e+1].y-d[e].y)});for(d=0;d<m;d++){g=.5*
a[d]+.5;var l=1-g;e=s;var p=l*l,l=l*g*2,t=g*g;g=p*e[0].x+l*e[1].x+t*e[2].x;e=p*e[0].y+l*e[1].y+t*e[2].y;h+=c[d]*Math.sqrt(g*g+e*e)}return.5*h}})()})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=(k.vector=k.vector||{}).Cubic;k.vector.Path=function(d){this.ctx=d;this.data=[];this.start={x:0,y:0};this.current={x:0,y:0};this.dashIdx=0;this.dashArray=[4,4];this.dashCurve=!1;this.dashRemainder=this.dashOffset=0;this.dashStyle=["#f00","#00f"];this.dashStyleIdx=0;this.dashAdaptive=!1;this.reset=function(){this.dashRemainder=this.dashIdx=0};this.resetPath=function(){this.distance=0;this.data=[];this.reset()};this.moveTo=function(a,d){var g=this.ctx,e=this.getData;g&&g.moveTo(a,
d);e&&this.data.push({cmd:"M",x:a,y:d});this.start.x=a;this.start.y=d;this.current.x=a;this.current.y=d};this.lineTo=function(a,d){for(var g=this.ctx,e=this.getData||!1,b=this.current||{x:0,y:0},c=this.dashArray,f=c.length,w=this.dashIdx,r=b.x,k=b.y,u=a-b.x,s=d-b.y,l=Math.sqrt(u*u+s*s),p=Math.abs(u)>Math.abs(s),t=p?s/u:u/s,x;.1<l;){this.dashRemainder?(x=this.dashRemainder||.01,this.dashRemainder=0):x=c[++w%f]||.01;if(0>(l-=x)){g&&(0===w%2?g.lineTo(a,d):g.moveTo(a,d));break}x=Math.sqrt(x*x/(1+t*t));
p?(0>u&&(x=-x),b.x+=x,b.y+=t*x):(0>s&&(x=-x),b.x+=t*x,b.y+=x);g&&w%2&&g&&(g.moveTo(r,k),g.strokeStyle=this.dashStyle[this.dashStyleIdx++%2],g.lineTo(b.x,b.y));e&&(0===this.data.length&&this.data.push({cmd:"M",x:r,y:k}),this.data.push({cmd:"L",x:b.x,y:b.y}));r=b.x;k=b.y}this.dashIdx=w;this.dashRemainder=Math.abs(l);this.current.x=a;this.current.y=d;if(e)return this.data};this.quadraticCurveTo=function(a,d,g,e){var b=this.current;a=b.x+2/3*(a-b.x);d=b.y+2/3*(d-b.y);this.bezierCurveTo(a,d,a+(g-b.x)/
3,d+(e-b.y)/3,g,e)};this.bezierCurveTo=function(a,d,g,m,b,c){var f=this.ctx,w=this.getData||!1,r=this.current||{x:0,y:0},k=this.dashCurve||!1,u=this.dashArray,s=u.length,l=this.dashIdx,p=!0;a=[r.x,r.y,a,d,g,m,b,c];d=r.x;g=r.y;m=r.x;var t,x,r=r.y,q,v=0,z,C,J,D,B,E=0;if(p=this.dashAdaptive){D=e.fromArray2(a);p=e.toPolyline(D,p);D=e.distance(D);x=p[p.length-1];for(q=0;q<p.length;q++)p[q].cmd="L",this.data.push(p[q]);this.distance+=D;this.current.x=x.x;this.current.y=x.y;if(w)return this.data}for(;1>
v;){this.dashRemainder?(p=!1,B=this.dashRemainder||.01,this.dashRemainder=0):(p=!0,B=u[++l%s]||.01);D=v=0;t=m;for(q=r;1>v;v+=.001){x=d-t;q=g-q;D+=Math.sqrt(x*x+q*q);if(D>=B)break;q=1-v;x=q*q*q;z=3*v*q*q;C=3*v*v*q;J=v*v*v;t=d;q=g;d=x*a[0]+z*a[2]+C*a[4]+J*b;g=x*a[1]+z*a[3]+C*a[5]+J*c}E+=D;q=e.split(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],v);a=q[1];q=q[0];p&&(f&&f.moveTo(m,r),w&&0===this.data.length&&this.data.push({cmd:"M",distance:0,x:m,y:r}));f&&l%2&&(f.moveTo(m,r),f.strokeStyle=this.dashStyle[this.dashStyleIdx++%
2],k?f.bezierCurveTo(q[2],q[3],q[4],q[5],q[6],q[7]):f.lineTo(q[6],q[7]));w&&(k?this.data.push({cmd:"C",distance:E,x1:q[2],y1:q[3],x2:q[4],y2:q[5],x:q[6],y:q[7]}):this.data.push({cmd:"L",distance:E,x:q[6],y:q[7]}));m=d;r=g}this.dashIdx=l;this.dashRemainder=B-D;this.distance+=E;this.current.x=d;this.current.y=g;if(w)return this.data};this.closePath=function(){var a=this.getData||!1;this.lineTo(this.start.x,this.start.y);a&&this.data.push({cmd:"Z"});this.reset()}};"undefined"!==typeof module&&module.exports&&
(module.exports=k.vector.Path)})(sketch);
(function(k){var e=(k.vector=k.vector||{}).Point,d=k.vector.mcMasterSmooth=function(a,d){d=d||3;0===d%2&&d++;var e=d/2>>0,b=a.length;if(b<d)return a;for(var c=0,f=0,w=0;w<d;w++)c+=a[w].x,f+=a[w].y;for(var r=a.slice(0,e),w=e,k=b-e;w<k;w++){var u=a[w];"C"===u.cmd?r.push(u):(w>e&&(c-=a[w-e-1].x,f-=a[w-e-1].y,c+=a[w+e].x,f+=a[w+e].y),r.push({cmd:"L",x:(u.x+c/d)/2,y:(u.y+f/d)/2}))}return r.concat(a.slice(k,b))},a=k.vector.langSimplify=function(a,d,m){d=d||4;m=m||1;var b=a.length-1;if(0>=b)return a;var c=
0,f=0,w=Math.min(d,b),f=f+w,b=b-w,r=[];for(r.push(a[c]);w;){for(var k=a[c],u=a[f],s=0,l=c+1;l!=f;){var p=e.toLineDistance(a[l],k,u),s=Math.max(s,p);if(s>m)break;else l++}s<m?(c=f,r.push(a[c]),w=Math.min(d,b),f+=w,b-=w):(f--,b++)}return r};k.vector.roundPath=function(a,d){var e=Math.pow(10,d||0);a.forEach(function(a){for(var c in a){var d=a[c];isFinite(d)&&(a[c]=Math.round(d*e)/e)}});return a};k.vector.simplify=function(e,g,m){return a(d(e,3),6,1)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k=k.vector||{};var e=function(){return{a:1,b:0,x:0,c:0,d:1,y:0}},d=function(d){return d.a===a.a&&d.b===a.b&&d.c===a.c&&d.d===a.d&&d.x===a.x&&d.y===a.y},a=e(),h=k.Transform=function(a,d){void 0===a?this.matrix=e():isFinite(a.a+a.b+a.c+a.d+a.x+a.y)?this.matrix=d?this.cloneMatrix(a):a:isFinite(a[0]+a[1]+a[2]+a[3]+a[4]+a[5])?this.fromArray(a):this.matrix=e();return this};h.identity=a;h.isIdentity=d;h.getIdentity=e;h.prototype={identity:a,isIdentity:d,getIdentity:e,matrices:[],save:function(){this.matrices.push(this.cloneMatrix(this.matrix))},
restore:function(){this.matrix=this.matrices.pop()||e()},point2d:function(a,d){var b=this.matrix;return{x:b.a*a+b.c*d+b.x,y:b.b*a+b.d*d+b.y}},point2dx:function(a,d,b){var c=this.matrix,f=a[d],e=a[b];a[d]=c.a*f+c.c*e+c.x;a[b]=c.b*f+c.d*e+c.y;return a},flatten:function(a,e,b){if(a){e&&(a=JSON.parse(JSON.stringify(a)));if(a.length){if(!d(this.matrix)){e=0;for(var c=a.length,f;e<c;e++)if(f=a[e])switch(f.cmd){case "M":this.point2dx(f,"x","y");break;case "L":this.point2dx(f,"x","y");break;case "C":this.point2dx(f,
"x","y");this.point2dx(f,"x1","y1");this.point2dx(f,"x2","y2");break;case "Q":this.point2dx(f,"x","y");this.point2dx(f,"x1","y1");break;case "Z":case "z":isFinite(f.x+f.y)&&this.point2dx(f,"x","y")}}b&&(this.matrix=this.getIdentity())}else this.point2dx(a,"x","y");return a}},invert:function(a){a=a||this.matrix;void 0===a.a&&(M=this.cloneMatrix(M));var d=a.a*a.d-a.b*a.c;delete this.matrix;this.combine({a:a.d/d,b:-a.b/d,x:(a.b*a.y-a.d*a.x)/d,c:-a.c/d,d:a.a/d,y:(a.c*a.x-a.a*a.y)/d});return this},transform:function(a,
d,b,c,f,e){var h=this.matrix;this.matrix={a:h.a*a+h.c*d,b:h.b*a+h.d*d,c:h.a*b+h.c*c,d:h.b*b+h.d*c,x:h.a*f+h.c*e+h.x,y:h.b*f+h.d*e+h.y};return this},setTransform:function(a,d,b,c,f,e){this.matrix={a:a,b:d,c:b,d:c,x:f,y:e};return this},rotate:function(a){var d=this.matrix,b=Math.cos(a);a=Math.sin(a);this.matrix={a:d.a*b+d.b*-a,b:d.a*a+d.b*b,c:d.c*b+d.d*-a,d:d.c*a+d.d*b,x:d.x,y:d.y};return this},scale:function(a,d){void 0===d&&(d=a);var b=this.matrix;this.matrix={a:b.a*a,b:b.b*d,c:b.c*a,d:b.d*d,x:b.x,
y:b.y};return this},skew:function(a,d){var b=this.matrix,c=b.a,f=b.b,e=b.c,h=b.d,k=Math.tan(a),u=Math.tan(d);b.a=c+e*u;b.b=f+h*u;b.c=c*k+e;b.d=f*k+h;return this},translate:function(a,d){void 0===d&&(d=0);var b=this.matrix;b.x=b.a*a+b.c*d+b.x;b.y=b.b*a+b.d*d+b.y;return this},combine:function(a){var d=[];if(void 0!==a.matrix)for(var b=0;b<arguments.length;b++)d[b]=arguments[b].matrix;else if("number"===typeof a.a)for(b=0;b<arguments.length;b++)d[b]=arguments[b];else d=a;for(var b=this.matrix,c=[],f=
0;f<d.length;f++)void 0===b?b=d[f]:(c=d[f],b={a:b.a*c.a+b.b*c.c,b:b.a*c.b+b.b*c.d,c:b.c*c.a+b.d*c.c,d:b.c*c.b+b.d*c.d,x:b.a*c.x+b.c*c.y+b.x,y:b.b*c.x+b.d*c.y+b.y});this.matrix=b;return this},clone:function(){return new h(this.cloneMatrix())},cloneMatrix:function(a){a=a||this.matrix;return{a:a.a,b:a.b,c:a.c,d:a.d,x:a.x,y:a.y}},reset:function(){this.matrix=e();return this},fromArray:function(a){this.matrix={a:a[0],b:a[1],c:a[2],d:a[3],x:a[4],y:a[5]};return this},fromString:function(a){this.matrix=a.split(",").map(function(a){return parseFloat(a)});
return this},toString:function(a){a=a||this.matrix;return""+a.a+","+a.b+","+a.c+","+a.d+","+a.x+","+a.y},toArray:function(a){a=a||this.matrix;return[a.a,a.b,a.c,a.d,a.x,a.y]},apply:function(a,d){var b=this.matrix;d?a.transform(b.a,b.b,b.c,b.d,b.x,b.y):a.setTransform(b.a,b.b,b.c,b.d,b.x,b.y);return this}};h.__default=new h;h.cloneMatrix=function(a){return{a:a.a,b:a.b,c:a.c,d:a.d,x:a.x,y:a.y}};"undefined"!==typeof module&&module.exports&&(module.exports=h)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Detect=function(){var e=this;e.addClone=function(d,a){for(var h in e)"object"===typeof e[h]&&e[h][d]&&(e[h][a]=!0)};e.add=function(d,a){var h=e[d]||(e[d]={});if("string"===typeof a)h[a]=!0;else for(;a.length;)h[a.pop()]=!0};e.add("brush",[]);e.add("shape",[]);e.add("media",[]);e.add("utility",["crop","select","zoom"]);e.add("useCacheOnRender",["symbol","clipart","image","paintbrush"]);e.add("useRenderControls","floodfill symbol clipart image select text".split(" "));e.add("useDefaultDim",
["media","shape","text"]);e.add("useNonUniform",["ellipse","rectangle","speechbubble"]);e.add("useNoConfigure",["move","screenshot","select","vectorfill","zoom"]);e.add("useCacheForOpacity","arrow calligraphy paintbrush pen pencil streamer".split(" "));e.add("useLocalAlpha","chrome crayon fur hair oil pastel shader sketchy spirograph spraypaint stamp web".split(" "));e.add("useColorModeAll",["stamp"]);e.add("useColorModeCycle","calligraphy chrome crayon fur hair pen shader sketchy spirograph spraypaint streamer web".split(" "));
e.add("useCacheOnDraw","calligraphy chrome crayon fur hair oil pastel pen shader sketchy spirograph spraypaint stamp streamer web".split(" "));e.add("useAreaTracker",["paintbrush"]);e.add("useSafeGCO","crayon pen spirograph spraypaint stamp streamer".split(" "));e.add("useStampResource",["crayon","spraypaint","stamp"]);e.add("useSrc",["symbol","clipart","image","spraypaint","stamp"])};"undefined"!==typeof module&&module.exports?module.exports=new k.module.Detect:k.detect=new k.module.Detect})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.registerToolkit=function(e,d){if("object"===typeof e&&e.length)for(;e.length;)k.registerToolkit(e.shift(),d);else{var a=k.module;a.toolkit=a.toolkit||{};a.toolkit[e]=d}};k.module=k.module||{};k.module.Toolkit=function(e,d){var a=this,h=d.contexts,g=e.detect,m=e.feature,b=e.lang,c=e.net,f=e.util.string,w=e.style,r=e.util,k=e.vector;a.init=function(a){a.gestures=0;a.interval=0;a.rendering=!1;a.timeSent=null;a.device=a.device||{};a.loadObject=function(b){b=a.mergeObjectDefaults(b);a.loadResource({object:b});
return b};a.mergeObjectDefaults=function(b){var c=d.scene.copyProperties(a,d.config[b.type]);return d.scene.copyProperties(a,b,c)};return a};a.clone=function(a,b){d.config.addClone(b,a);g.addClone(b,a);var c;g.brush[b]&&(c="brush.");g.shape[b]&&(c="shape.");c&&e.registerToolkit(c+a,e.module.toolkit[c+b])};a.setTool=function(b){void 0===b&&(b=d.tool.type);"string"===typeof b&&(b={type:b});var c=b.type,f=b.tid,g=b.onsuccess;b=b.onerror;var l=a.getConfig(c);if(l){var h=a.getToolkit(l.toolkit);h&&(d.tool.disable&&
d.tool.disable(),l=d.tool.type,h.type=c,h.typePrevious=l||c,d[f||"tool"]=h,u(c,function(){h.enable();m.ui.cursors&&e.ui.setCursor();e.emit("setTool",c);g&&g()},b))}};var u=function(b,c,f){if(b=a.getConfig(b)){var g=a[b.toolkit];g.loadResource?g.loadResource({object:d.scene.copyProperties(g,b,g.device={}),onerror:f,onsuccess:c}):c&&c()}};a.getPointerId=function(a,b){return a?c.userId+":"+b.identifier:b.identifier};a.setDefaultConfigure=function(b){var c=a.getConfig(d.tool.type),f;for(f in b){var g=
b[f],e=c[f];void 0!==e&&("number"===typeof g?void 0!==e.max?(e.min=g,e.max=g):e.value=g:(e.min=g.min,e.max=g.max))}};a.setConfigureValues=function(b,c){for(var d in b)a.setConfigure(c,d,b[d])};a.setConfigure=function(b,c,d){var f=b.type;if(-1===f.indexOf("gl_")){var g=a.getToolkit(f);if(!g){m.debug&&console.warn("Toolkit unavailable",f);return}if(!g.attributes)return;if(!g.attributes[c]){m.debug&&console.warn("setConfigure:",arguments);return}}f=b[c];if(void 0===f){if("string"===typeof b.toolkit){m.debug&&
console.warn("setConfigure:",arguments);return}return b[c]=e.attrs.create(c,d)}if(f.setValue)f.setValue(d);else if(isFinite(f))isFinite(d)?b[c]=d:isFinite(d.value)&&(b[c]=d.value);else if("string"===typeof f)"string"===typeof d&&(b[c]=d);else if(w&&f instanceof w.Fill){if(d instanceof w.Fill||w.validate(d))b[c]=new w.Fill(d)}else if(w&&f instanceof w.Stroke){if(d instanceof w.Stroke||w.validate(d))b[c]=new w.Stroke(d)}else if(isFinite(f.min+f.max))if(Array.isArray(d)){var g=isFinite(d[0])?d[0]:0,
l=isFinite(d[1])?d[1]:0;1===d.length?f.min=f.max=s(f.format,g):2===d.length&&(f.min=s(f.format,g),f.max=s(f.format,l))}else f.min=s(f.format,d.min),f.max=s(f.format,d.max);else isFinite(f.value)?Array.isArray(d)?(d=isFinite(d[0])?d[0]:0,f.value=s(f.format,d)):isFinite(d.value)?f.value=s(f.format,d.value):isFinite(d)&&(f.value=s(f.format,d)):b[c]=e.attrs.update(c,d,f);return f};var s=function(a,b){switch(a){case "int":return Math.round(b);default:return b}},l=function(a,b,c){a=glfx.filters[a];var f=
d.render.glfx;if(f&&f.activeFilter){b=a.paramIndex[b];switch(a.param[b].format.replace(")","").split("(")[0]){case "int":c=Math.round(c)}f.activeFilter.data[b]!==c&&(f.activeFilter.data[b]=c,glfx.animationId||glfx.render());e.histogram&&e.histogram.enabled&&e.histogram.createAnalyze();d.render.glfx.activeItem&&(d.render.glfx.activeItem.dirtyCache=!0,d.render.scene("setGLData"))}},p=function(a,b){var c={};c[a]=b;return c};d.setParam=d.setParams=a.setParam=a.setParams=function(b,c,f){if("string"===
typeof b)b={},b.filter=d.tool.type,b.opts=p(b,c),b.selection=f;else if("object"===typeof b)"string"===typeof b.param?b.opts=p(b.param,b.value):"object"!==typeof b.opts&&(b={opts:b});else return console.warn("invalid opts");var e=d.scene;c=b.cacheObject||{};var h=b.moduleId||"";f=b.param;var s=b.opts,w=b.selection||e&&e.selection.items;b=b.filter||"*";var h=0===h.indexOf("gl_")&&h.substr(3),k=!c.state||"start"===c.state,y=!c.state||"end"===c.state;if(h){var E=a.getConfig(b),A;for(A in s)l(h,A,s[A])}else if(m.vector.edit){var h=
[],I=[],F=0,G=0,L=0,K;for(K in w)if(w=e.children[K]){F++;var N=w.type,E=void 0===E?N:E;E!==N&&(E=!1);var N={id:w.id},H={id:w.id};if(y)var Q=!1;for(A in s){var T=s[A],P="data"+w.id+A;k&&(c[P]=r.copy(w[A]));a.setConfigure(w,A,T);w.toolkit&&(w.dirtyCheck=!0,w.toolkit.updateObjectSize(w),L++);c[P]!==w[A]&&(N[A]=c[P],H[A]=w[A],y&&(e.setDirtyPixelData(w),Q=!0))}h.push(N);I.push(H);y&&Q&&G++}if(!1!==E||0===F){if(E=a.getConfig(E||b))for(A in s)a.setConfigure(E,A,s[A]);y&&d.tool.type&&u(d.tool.type)}G&&d.history&&
(A=f?a.getParamProperName(f):"Object",d.history.store({cmd:"update",icon:"infinity",name:"Update "+A,data:{from:h,to:I}}));d.on.record&&d.on.record({op:"SCENE_UPDATE",data:I});if(L)if(m.ui.bruteForce)d.render.dirtyControls=!0,d.render.dirty=!0;else{var R=!!g.useLocalAlpha[b];1<L&&(R=!0);clearTimeout(c.interval);c.interval=setTimeout(function(){if(!R||R&&y)d.render.dirtyControls=!0,d.render.dirty=!0},75)}}};(function(){var b={visible:"visibility"};a.getParamProperName=function(a){return f.ucwords(b[a]||
a)}})();a.setType=function(c,f){f=f||d.selection.items;if(!m.vector.edit)return e.exec(c);var l=r.count(f);if(0===l)return d.setTool({type:c.replace(" ","_"),onsuccess:function(){e.ui.refresh(c)}});var h=[],p=[],s=a.getToolkit(c),u=d.scene,w=a.getConfig(c),w=u.copyAttributes(s.attributes,w),k=function(a,f){a.dirtyCheck=!0;s.updateObjectSize(a);--l||(d.history&&d.history.store({cmd:"update",icon:c,name:b.translate("convert-format",b.translate(c)),data:{from:h,to:p}}),d.render.dirtyControls=!0,d.render.scene("toolkit.setType"),
e.ui.refresh(c))},y;for(y in f){var A=u.children[y];if(A){if(g.shape[A.type]){if(!g.shape[c]){l--;continue}}else if(g.brush[A.type]){if(!g.brush[c]){l--;continue}}else{l--;continue}(s=A.toolkit)?("arrow"===c&&(w.curved=A.data&&2===A.data.length?!1:!0),h.push(u.copyAttributes(s.sattributes,A,{id:A.id,type:A.type})),p.push(u.copyAttributes(s._attributes,w,{id:A.id,type:A.type=c})),void 0===w.spacing&&delete A.spacing,w.fill?w.fill=A.fill:delete A.fill,w.stroke?w.stroke=A.stroke:delete A.stroke,u.copyAttributes(s.attributes,
w,A),s.loadResource({object:A,onerror:k,onsuccess:k})):l--}else l--}};a.setup=function(){var b=e.module,c={},f;for(f in d.config){var l=d.config[f].toolkit,p=!r.exists("sketch.module.toolkit."+l);b.toolkit[l+"."+f]?g.add(l,f):k.Shape[f]?g.add(l,f):-1===f.indexOf(".")&&"media"===l&&a.media&&(0===f.indexOf("gl_")?window.glfx&&g.add(l,f):g.add(l,f));if(!p&&!c[l]){c[l]=!0;g.add(l,f);p=new b.toolkit[l](e,d);p.type=l;p.draw=h.draw.ctx;p.cache=h.cache.ctx;p.active=h.active.ctx;p.ctx=h.layer0.ctx;p.updateObjectSize=
p.updateObjectSize||function(a,b){b&&b(a)};if(g.useDefaultDim[l]){var s=m.tools[l];p.units=s.units||p.units;p.minWidth=s.minWidth||p.minWidth;p.minHeight=s.minHeight||p.minHeight;p.maxWidth=s.maxWidth||p.maxWidth;p.maxHeight=s.maxHeight||p.maxHeight;p.defaultWidth=s.defaultWidth||p.defaultWidth;p.defaultHeight=s.defaultHeight||p.defaultHeight}a[l]=p}}};a.getConfig=function(a){var b=d.config[a];if(b)return b;m.debug&&console.warn("missing configure",a)};a.getToolkit=function(b){if(b=a.getToolkitId(b))return a[b]};
a.getToolkitId=function(b){if(g.shape[b])return"shape";if(g.brush[b])return"brush";if(g.media[b])return"media";if(a[b])return b};a.getFeature=function(b){b=a.getToolkitId(b);return m.tools[b]||{}};a.ensureToolkit=function(b){if(b.toolkit)return b.toolkit;var c=a.getToolkit(b.type);if(c)return b.toolkit=c};a.getToolkitDevice=function(b){return(b=a.getToolkit(b))&&b.device};a.exists=function(b){return(b=d.config[b])&&a[b.toolkit]};a.applyStyle=function(b,c){var d=a.getBBox(c);if(d){var f=c.fill,g=c.stroke,
e=c.shadow;g&&g.enabled&&g.lineWidth&&(b.strokeStyle=w.getStyle("stroke",b,d.x1,d.y1,d.x2,d.y2,c),b.stroke());f&&f.enabled&&(b.fillStyle=w.getStyle("fill",b,d.x1,d.y1,d.x2,d.y2,c),b.fill());e&&e.enabled&&(b.shadowColor=e.color,b.shadowBlur=e.blur,b.shadowOffsetX=e.x,b.shadowOffsetY=e.y)}else console.error(c)};a.applyStyleToArea=function(a,b,c){if(b.useAreaTracker&&!d.render.highRes){var f=c.x1,g=c.x2,e=c.y1;c=c.y2;a.globalAlpha=1;a.globalCompositeOperation="source-atop";a.fillStyle=w.getStyle("fill",
a,f,e,g,c,b);a.fillRect(f,e,g-f,c-e)}};a.getBBox=function(a){var b=((a.diameter||0)+(a.lineWidth||0)+(a.blur||0))/2;if(a.bbox){var c=a.bbox,d=-c.padding,f=-c.padding;return{x1:d,y1:f,x2:d+c.width,y2:f+c.height}}if(a.lineRecord){if(d=a.path,c=d[0],a=d[1],c&&a){var d=c.x,f=c.y,g=a.x,e=a.y;return{x1:Math.min(d,g)-b,y1:Math.min(f,e)-b,x2:Math.max(d,g)+b,y2:Math.max(f,e)+b}}}else{if(a.calcBBox)return a.calcBBox();if(a.isRecording)return d=a.path,f=d.length,c=a.isGhost?{x1:Infinity,y1:Infinity,x2:-Infinity,
y2:-Infinity}:a._bbox||new k.BBox({data:d,expand:b}),e=d[f-1],d=e.x-b,g=e.x+b,f=e.y-b,e=e.y+b,d<c.x1&&(c.x1=d),f<c.y1&&(c.y1=f),g>c.x2&&(c.x2=g),e>c.y2&&(c.y2=e),a._bbox=c}};a.prepareBrush=function(){var a=this.type;this.isEraser="destination-out"===w.getCompositeNative(this.composite)||"eraser"===a;this.useAreaTracker=g.useAreaTracker[a]&&"color"!==this.fill.type;return this.renderTo=this.ctx};a.getToolCategory=function(a){if(a){a=a.replace("_"," ");var b=e.ui.icons,c;for(c in b){var d=b[c];if(d.children&&
(d.children.length&&(d.children=r.arrayToObject(d.children)),d.children[a]))return c}}};a.getToolIcon=function(b){b=a.getToolCategory(b)||b;var c=e.ui.icons,d;for(d in c)if(b===d)return b=c[d],b.src||b};r.eventOverrideCall=function(a,b){var c=d.tool||{},f=c[a];return f?!f(b):(c=(f=c.device)&&f.brush&&f.brush[a])?!c(b):!1};r.eventOverride=function(a,b){if(a&&d.keyboard){-1===a.indexOf("on")&&(a="on"+f.ucwords(a)+"Key");var c=b.keyCode,g="keyup"===b.type,e=a.substr(2),l=d.keyboard.pressed;b.name=e[0].toLowerCase()+
e.substr(1);b.state=g?"up":l[c]?"press":"down";l[c]=!g;if(r.eventOverrideCall(a,b))return!0}}}})(sketch);
(function(k){k.registerToolkit("group",function(e,d){var a=this,h=d.toolkit,g=e.util;this.id="group";this._attributes={opened:!1};var m=g.copy(this._attributes);this.attributes=g.copyInto(e.attrs.__basicObject,m);this.enable=function(){};this.disable=function(){};this.loadResource=function(a){var c=a.object;(a=a.onsuccess)&&a(c)};this.createObject=function(b,c){var f=b.object,g=d.scene.addObject({type:a.type,composite:f.composite,opacity:f.opacity,groupId:f.groupId,bbox:f.bbox});if(f.children){var e=
function(){var a=h[m++];a?("group"!==a.type&&(a.groupId=f.groupId,f.x&&(a.x=(a.x||0)+f.x),f.y&&(a.y=(a.y||0)+f.y)),d.scene.add(a,e,e)):c&&c(g)},h=f.children,m=0;e()}else c&&c(g)};return h.init(this)})})(sketch);
(function(k){k.registerToolkit("select",function(e,d){var a=this,h=d.canvas2d,g=d.contexts,m=e.feature,b=d.render,c=d.scene,f=d.toolkit,w=e.ui,r=e.util,k=e.vector.Point;e.module.Listener(a);a.type="select";a.id="select";a.usePreventSelection=!1;a.events={};a.enabled=!1;a.enable=function(b){if(!1===a.enabled){b=b||{key:!0,mouse:!0,gesture:!0,cursor:!0};a.usePreventSelection=b.cancelSelection||!1;a.searchParam=b.searchParam||{selectable:!0};a.enabled=void 0===b.events;var c=b.events||a.events,f=a.active.canvas;
b.mouse&&(c.drag=eventjs.add(f,"drag",s,{maxFingers:1}),c.mouseout=eventjs.add(f,"mouseout",function(){w.tooltip&&w.tooltip.update("")}),c.context=eventjs.add(f,"contextmenu",p));b.gesture&&(c.gesture=eventjs.add(f,"gesture",l,{maxFingers:2}));b.cursor&&(c.mousemove=eventjs.add(f,"mousemove",u,{strict:!0}));b.key&&d.keyboard&&(c.keydown=eventjs.add(d.focusElement,"keydown",d.keyboard.keydown),c.keyup=eventjs.add(d.focusElement,"keyup",d.keyboard.keyup))}};a.disable=function(){!0===a.enabled&&(a.enabled=
!1,eventjs.removeEvents(a.events),w.tooltip&&w.tooltip.update(""))};var u=function(b){if(!a.__moving&&!a.__selecting&&"eyeDropper"!==w.colorPicker.state){var g=c.pointInCanvasFromEvent(b);if(!a.on.pointer||!a.on.pointer(g)){var e,l=0;a.usePreventSelection?e=r.copy(c.controls):(e=c.children.concat(c.controls),l=c.children.length);var h=c.findAtPoint({point:g,searchParam:a.searchParam,objects:e});c.hoverControls=[];for(var q=0,p=h.length;q<p;q++){var t=h[q];b=e[t];"button"===b.type&&c.hoverControls.push(b.id)}e=
h[h.length-1];b=c.children[e];t=Math.max(0,e-l);l=c.hoverControl=c.controls[t]||{};d.tool.coord=g;t=d.selection;g=d.hovered;t=t.item?t.idx:g.idx;q=h="";void 0===e&&void 0===t?(c.hoverControlIdx="",m.vector.edit&&g.length&&(g.reset(),f.renderSceneControls(null,!1,!0))):b?(h=l.title||"",q=l.cursor,c.hoverControlIdx="",m.vector.edit&&(g.items[e]||(g.reset(),g.select(e)),f.renderSceneControls(e,!1,!0))):(h=l.title||"",q=l.cursor||"",c.hoverControlIdx=l.id,m.vector.edit&&(g.items[t]||(g.reset(),g.select(t)),
f.renderSceneControls(null,!1,!0)));w.tooltip&&w.tooltip.update(h);w.setCursor(q,b)}}},s=function(e,l,p){eventjs.prevent(e);if(2!==l.fingers&&"eyeDropper"!==w.colorPicker.state){var s=l.pointerStart,u=l.pointerEnd,z=l.hasMoved(),F=eventjs.metaKey,G=eventjs.shiftKey;d.__interacting=l.pointerDown;if(u&&void 0!==a.__idx)var L=a.__idx,K=a.__length,N=a.__matches,H=a.__objects;else if(s||u)a.__idx=void 0,s&&(a.__click=!1),a.usePreventSelection?(H=r.copy(c.controls),K=0):(H=c.children.concat(c.controls),
K=c.children.length),N=c.findAtPoint({point:c.pointInCanvasFromEvent(e),objects:H,searchParam:a.searchParam,pointerUp:u}),L=N.pop();var Q=c.controls[L-K];s&&Q&&(a.__idx=L,a.__length=K,a.__matches=N,a.__objects=H);if(!a.on.pointer||!a.on.pointer(l)){if(Q)if(c.hoverControlIdx=Q.id,"anchor"===Q.id&&d.selection.length)if(u){a.__moving=!1;L=c.pointInCanvasFromEvent(e);L.searchParam=a.searchParam;N=c.findAtPoint({point:L});L=N.pop();N=c.children[L];if(d.selection.idx===L){Q=Date.now();if(a.__click){a.__clickTime=
Q;return}if(1E3>Q-a.__clickTime){if(m.beta&&"path"===N.type){C(N);return}if(!1===d.__editing&&"text"===N.type){f.text.show(N);f.text.updateBBox();f.text.updateCSS();f.text.focus();f.text.selectAll();return}if(!z&&(Q=m.tools.select,Q.clickToDeselect)){c.deselectAll();w.configureBuild();b.dirtyControls=!0;b.scene("select:moveEvent1");return}}else{a.__clickTime=Q;return}}if(!z&&N){v(L);b.dirtyControls=!0;b.scene("select:moveEvent2");return}}else a.__moving=!0;else{if(u)return;L=d.hovered.idx;if(!1===
isFinite(L)||L!==d.selection.idx)if(N=d.hovered.item)c.selectByIdx(N.zIndex,!1),c.handleSelection();if("function"===typeof Q.event)return x.proxy=Q.event(e),l.proxy(function(b,c){t(b,c);d.__interacting=!1;a.__moving=!1});L=void 0}else if(c.hoverControlIdx="",u&&(N=c.children[L]))if(Q=m.tools[N.toolkitId]||{},Q.usePointInPath){a.__moving=!1;b.scene("select:onDrag.usePointInPath");return}if(p)l.hasMoved()?(d.hovered.reset(),d.hovered.select(L)):v(L);else if(!u||!a.__moving||z||a.__click||G||F){p=void 0!==
L;var u=d.selection.length,z=f.text&&f.text.dragging,T=!1;!s||p||!u||G||F||z||(d.__editing&&"text"===d.tool.id&&(T=!0),c.deselectAll(),b.dirtyControls=!0,b.scene("select:cancelSelection.object"));if(s&&d.selection.items[L]&&!F||a.__moving)return q(e,l);if(!p||G||F){if("select"===d.tool.id&&s)return l.proxy(function(e,l){eventjs.prevent(e);a:{var q,p;if(m.vector.edit){q=e||a.__env.event;p=l||a.__env.self;a.__env.event=q;a.__env.self=p;var t=p.pointerStart,s=p.pointerDrag,x=p.pointerEnd,v=p.hasMoved(),
u=eventjs.metaKey,z=d.zoom,C=d.pixelRatio;a.__selecting=!x;t&&(w.tooltip&&w.tooltip.update(""),d.selection.item&&f.text&&f.text.hide());var D=p.start,B=Math.min(D.x,p.x)-.01,A=Math.min(D.y,p.y)-.01,E=Math.max(D.x,p.x)+.01;p=Math.max(D.y,p.y)+.01;B=c.pointsIn("pointInSceneFromCanvas",[k(B,A),k(E,p)]);E=g.active;A=E.ctx;r.Canvas.clear(E);E=d.scrollLeft*C;p=d.scrollTop*C;C*=z;if(t||s){var J=B[0],F=B[1],t=J.x+.5,s=J.y+.5,D=F.x-J.x,J=F.y-J.y;A.save();u&&d.selection.length?(A.fillStyle="rgba(255,50,100,0.20)",
A.strokeStyle="rgba(255,50,100,1)"):(A.fillStyle="rgba(0,240,100,0.20)",A.strokeStyle="rgba(0,240,100,1)");A.beginPath();A.translate(h.x-E,h.y-p);A.scale(C,C);A.rect(t,s,D,J);A.lineWidth=1/z;A.stroke();A.fill();A.restore()}if(v)q=c.findInRect({rect:B,deselect:u,drawBBox:!0}),f.renderSceneSelection(q);else if(x){var G=c.findAtPoint({point:c.pointInCanvasFromEvent(q),searchParam:a.searchParam}).pop();q={};q[G]=!u||!d.selection.items[G]}else break a;if(x){x=[];u=[];for(G in q)q[G]?x.push(G):u.push(G);
d.hovered.reset();d.hovered.select(G);x.length&&c.selectByIdx(x,!1);u.length&&c.deselect(u);c.handleSelection();b.dirty=!0;b.dirtyControls=!0}}}d.__interacting=l.pointerDown;a.__moving=l.pointerDown});if(d.tool.onRecord)return c.deselectAll(),l.proxy(function(a,b){if((m.tools[d.tool.id]||{}).addByDrag){if(T){if(b.pointerStart){T={event:a,self:b};return}if(b.pointerDrag){b.state="down";b.pointerStart=!0;d.tool.onRecord(T.event,T.self);T=void 0;return}}d.tool.onRecord(a,b);t(a,b)}else eventjs.prevent(a)})}if(0>
L-K)return v(L),a.__click=!0,q(e,l)}else eventjs.prevent(e),a.__moving=!1,v(L)}}},l=function(c,f){var g=f.pointerStart,e=f.pointerEnd;g?(x(),a.events.drag.pause(),b.dirtyActiveContext=!0):e&&(z(),a.events.drag.resume(),a.events.drag.resetPointers());var e=f.env,l=f.scale,h=f.rotation,q=f.x,p=f.y;g&&(e.rotate=0,e.scale=1,e.x=q,e.y=p,e.origin={x:q,y:p});var g=q-e.x,t=p-e.y,s=l-e.scale,v=h-e.rotate;m.doc.gestureTransform&&d.selection.length?(d.selection.transform({origin:e.origin,method:f.state,rotate:v,
scale:s+1,translate:{x:g,y:t}}),b.dirty=!0,b.dirtyControls=!0,e.rotate=h,e.scale=l):(m.doc.gestureZoom&&d.setZoom(s+1),m.doc.gestureScroll&&d.scrollTo({left:-Math.round(g),top:-Math.round(t),relative:!0,duration:0}));e.x=q;e.y=p},p=function(b,c){if((!c||"end"!==c.state)&&window.contextmenu){x();eventjs.prevent(b);var f,g=d.selection.length;w.menu.selectMultiple&&1<g?f="selectMultiple":w.menu.select&&g?f="select":w.menu.selectDefault&&(f="selectDefault");f&&(a.events.drag&&a.events.drag.cancel(),a.events.gesture&&
a.events.gesture.cancel(),w.contextMenu.show({point:eventjs.getPageXY(b),menu:w.menu[f]}))}},t=function(b,c){d.__interacting=c.pointerDown;a.__moving=c.pointerDown;c.pointerEnd&&s(b,c,!0)},x=function(a,b){x.proxy&&(x.proxy.detatch(),x.proxy=void 0)},q=function(a,b){x.proxy=f.moveEvent(a);b.proxy(function(a,b){t(a,b)})},v=function(a){var b=eventjs.metaKey,d=eventjs.shiftKey;b&&c.selection.items[a]?c.deselectByIdx(a):c.selectByIdx(a,!b&&!d);c.handleSelection()},z=function(){a.__env={};a.__selecting=
!1;a.__click=!1;a.__moving=!1},C=function(a){f.setTool({type:"path",onsuccess:function(){f.brush.loadResource({object:a,onsuccess:function(){for(var b=0;b<a.data.length;b++)delete a.data[b].bbox;var b=r.copy(a.data),c=r.copy(a.data),f=d.tool,g=f.device.brush;g.batchRecord=b;g.pathRecord=c;g.ctx=f.ctx;g.active=f.active;g.isEditing=!0;g.isRecording=!0;g.render(a)}})}})};z();return f.init(this)})})(sketch);
(function(k){k.registerToolkit("zoom",function(e,d){var a=this,h=e.dom,g=d.orient,m=d.toolkit;a.id="zoom";(function(){var b={};a.enabled=!1;a.enable=function(){if(!1===a.enabled){a.enabled=!0;var c=h.$("#sk-orientation");c&&c.classList.add("sk-opened");b.gesture=eventjs.add({fingers:2,target:window,type:"gesture",listener:a.onGesture});d.orient.enable();m.select.enable({events:b,key:!0})}};a.disable=function(){if(!0===a.enabled){a.enabled=!1;var c=h.$("#sk-orientation");c&&c.classList.remove("sk-opened");
eventjs.removeEvents(b);d.orient.disable()}}})();a.onGesture=function(a,c){var f=d.orient.events,e="end"===c.state;"start"===c.state?(f.drag&&f.drag.enabled&&f.drag.detatch(),c.startScale=d.zoom,c.__x=c.x,c.__y=c.y):e&&f.drag&&f.drag.attach();c.startScale&&c.scale&&(f=eventjs.getBBox(g.canvas),e=d.pixelRatio,g.mouse.x=c.x*e-f.x1,g.mouse.y=c.y*e-f.y1,g.offset.x+=(c.x-c.__x)/d.zoom,g.offset.y+=(c.y-c.__y)/d.zoom,d.orient.setZoom(c.startScale*c.scale),d.orient.render());c.__x=c.x;c.__y=c.y};return m.init(a)})})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.vector=k.vector||{};k=e.Shape=e.Shape||{};var d=Math.PI,a=2*d;k.record=function(){var a;this.data=[];this.save=function(){};this.restore=function(){};this.translate=function(){};this.rotate=function(){};this.scale=function(){};this.beginPath=function(){this.data=[]};this.moveTo=function(b,c){this.data.push(a={cmd:"M",x:b,y:c})};this.lineTo=function(a,b){this.data.push({cmd:"L",x:a,y:b})};this.bezierCurveTo=function(a,b,c,d,f,g){this.data.push({cmd:"C",x1:a,y1:b,x2:c,y2:d,x:f,
y:g})};this.quadraticCurveTo=function(a,b,c,d){this.data.push({cmd:"Q",x1:a,y1:b,x:c,y:d})};this.arcTo=function(a,b,c,d,f){this.data.push({cmd:"A",x1:a,y1:b,x2:c,y2:d,radius:f})};this.closePath=function(){this.data.push({cmd:"Z",x:a.x,y:a.y})};this.stringify=function(){return e.SVGPath.fromVOBPath(this.data)}};k.VOBNode=function(a,b){switch(b.type){case "image":a.drawImage(b.image,b.x,b.y,b.width,b.height);break;case "line":a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2);break;case "polyline":case "polygon":case "path":h(a,
b.data);break;case "ellipse":g(a,b.cx,b.cy,b.rx,b.ry);break;case "circle":g(a,b.cx,b.cy,b.r,b.r);break;case "rect":isFinite(b.rx)?c(a,b.x,b.y,b.width,b.height,b.rx,b.ry):m(a,b.x,b.y,b.width,b.height)}};var h=k.VOBPath=function(a,b){for(var c=b&&b.length,d=0,f;d<c;d++)if(f=b[d])switch(f.cmd){case "M":a.moveTo(f.x,f.y);break;case "L":a.lineTo(f.x,f.y);break;case "Q":a.quadraticCurveTo(f.x1,f.y1,f.x,f.y);break;case "C":a.bezierCurveTo(f.x1,f.y1,f.x2,f.y2,f.x,f.y);break;case "A":a.arcTo(f.x1,f.y1,f.x2,
f.y2,f.radius);break;case "Z":case "z":a.closePath()}};k.VOBPathOffset=function(a,b,c,d){for(var f=b&&b.length,g=0,e;g<f;g++)if(e=b[g]){var h=e.x+c,m=e.y+d;switch(e.cmd){case "M":a.moveTo(h,m);(!(e=b[g+1])||"L"!==e.cmd&&"C"!==e.cmd)&&a.lineTo(h+.01,m+.01);break;case "L":a.lineTo(h,m);break;case "C":a.bezierCurveTo(e.x1+c,e.y1+d,e.x2+c,e.y2+d,h,m)}}};k.VOBPathDebug=function(a,b){for(var c="",d=b.length,f=0,g;f<d;f++)if(g=b[i])switch(g.cmd){case "M":c+="ctx.moveTo("+g.x+","+g.y+");";break;case "L":c+=
"ctx.lineTo("+g.x+","+g.y+");";break;case "Q":c+="ctx.quadraticCurveTo("+g.x1+","+g.y1+","+g.x+","+g.y+");";break;case "C":c+="ctx.bezierCurveTo("+g.x1+","+g.y1+","+g.x2+","+g.y2+","+g.x+","+g.y+");";break;case "A":c+="ctx.arcTo("+g.x1+","+g.y1+","+g.x2+","+g.y2+","+g.radius+");";break;case "Z":case "z":c+="ctx.closePath();"}console.log(c);return c};k.line=function(a,b,c,d,f){a.moveTo(b,c);a.lineTo(d,f)};k.circle=function(a,b,c,d,f){return g(a,b,c,d,d,f)};var g=k.ellipse=function(a,b,c,d,f,g){var e=
.5522847498307936*d,h=.5522847498307936*f,m=b-d,r=c-f;d=b+d;f=c+f;a.moveTo(b,r);g?(a.bezierCurveTo(b-e,r,m,c-h,m,c),a.bezierCurveTo(m,c+h,b-e,f,b,f),a.bezierCurveTo(b+e,f,d,c+h,d,c),a.bezierCurveTo(d,c-h,b+e,r,b,r)):(a.bezierCurveTo(b+e,r,d,c-h,d,c),a.bezierCurveTo(d,c+h,b+e,f,b,f),a.bezierCurveTo(b-e,f,m,c+h,m,c),a.bezierCurveTo(m,c-h,b-e,r,b,r));a.closePath()};k.SVGPath=function(a,b){return h(a,e.SVG.toVOBPath(b))};k.cross=function(a,b,c,d,f){a.moveTo(b,c-f/2);a.lineTo(b,c+f/2);a.moveTo(b-d/2,c);
a.lineTo(b+d/2,c)};k.exmark=function(a,b,c,d){a.moveTo(b+d,c-d);a.lineTo(b-d,c+d);a.moveTo(b+d,c+d);a.lineTo(b-d,c-d)};k.square=function(a,c,d,f,g){b(a,c-f,d-f,c+f,d+f,g)};var m=k.rect=function(a,c,d,f,g,e){b(a,c,d,c+f,d+g,e)},b=k.rectangle=function(a,b,c,d,f,g){a.moveTo(b,c);g?(a.lineTo(b,f),a.lineTo(d,f),a.lineTo(d,c)):(a.lineTo(d,c),a.lineTo(d,f),a.lineTo(b,f));a.closePath()};k.roundRectangle=function(a,b,d,f,g,e,h,v){c(a,b,d,f-b,g-d,e,h,v)};var c=k.roundRect=function(a,b,c,f,g,e,h,v){0>f&&(b-=
f=Math.abs(f));0>g&&(c-=g=Math.abs(g));var m,r,w,k,y,E;"number"===typeof e?(isFinite(h)||(h=e),m=f/2,r=g/2,e>m&&(e=m),h>r&&(h=r),m=r=w=k=e,h=y=E=e=h):(Array.isArray(e)?4===e.length&&(e=[e[0],e[0],e[1],e[1],e[2],e[2],e[3],e[3]]):e=[10,10,10,10,10,10,10,10],m=e[0],r=e[2],w=e[4],k=e[6],h=e[1],y=e[3],E=e[5],e=e[7]);var A=d/4,I=A/2,F=Math.cos(I),G=-d/2,L=G+1*A,K=G+2*A,N=G+3*A,H=G+4*A,Q=G+5*A,T=G+6*A,P=G+7*A;a.moveTo(b+m,c);v?(A*=-1,I*=-1,a.quadraticCurveTo(b+m+Math.cos(G+I)*m/F,c+h+Math.sin(G+I)*h/F,b+
m+Math.cos(G+A)*m,c+h+Math.sin(G+A)*h),a.quadraticCurveTo(b+m+Math.cos(P+I)*m/F,c+h+Math.sin(P+I)*h/F,b+m+Math.cos(P+A)*m,c+h+Math.sin(P+A)*h),a.lineTo(b,c+g-h),a.quadraticCurveTo(b+k+Math.cos(T+I)*k/F,c+g-e+Math.sin(T+I)*e/F,b+k+Math.cos(T+A)*k,c+g-e+Math.sin(T+A)*e),a.quadraticCurveTo(b+k+Math.cos(Q+I)*k/F,c+g-e+Math.sin(Q+I)*e/F,b+k+Math.cos(Q+A)*k,c+g-e+Math.sin(Q+A)*e),a.lineTo(b+f-k,c+g),a.quadraticCurveTo(b+f-w+Math.cos(H+I)*w/F,c+g-E+Math.sin(H+I)*E/F,b+f-w+Math.cos(H+A)*w,c+g-E+Math.sin(H+
A)*E),a.quadraticCurveTo(b+f-w+Math.cos(N+I)*w/F,c+g-E+Math.sin(N+I)*E/F,b+f-w+Math.cos(N+A)*w,c+g-E+Math.sin(N+A)*E),a.lineTo(b+f,c+E),a.quadraticCurveTo(b+f-r+Math.cos(K+I)*r/F,c+y+Math.sin(K+I)*y/F,b+f-r+Math.cos(K+A)*r,c+y+Math.sin(K+A)*y),a.quadraticCurveTo(b+f-r+Math.cos(L+I)*r/F,c+y+Math.sin(L+I)*y/F,b+f-r+Math.cos(L+A)*r,c+y+Math.sin(L+A)*y),a.lineTo(b+r,c)):(a.lineTo(b+f-r,c),a.quadraticCurveTo(b+f-r+Math.cos(G+I)*r/F,c+y+Math.sin(G+I)*y/F,b+f-r+Math.cos(G+A)*r,c+y+Math.sin(G+A)*y),a.quadraticCurveTo(b+
f-r+Math.cos(L+I)*r/F,c+y+Math.sin(L+I)*y/F,b+f-r+Math.cos(L+A)*r,c+y+Math.sin(L+A)*y),a.lineTo(b+f,c+g-E),a.quadraticCurveTo(b+f-w+Math.cos(K+I)*w/F,c+g-E+Math.sin(K+I)*E/F,b+f-w+Math.cos(K+A)*w,c+g-E+Math.sin(K+A)*E),a.quadraticCurveTo(b+f-w+Math.cos(N+I)*w/F,c+g-E+Math.sin(N+I)*E/F,b+f-w+Math.cos(N+A)*w,c+g-E+Math.sin(N+A)*E),a.lineTo(b+k,c+g),a.quadraticCurveTo(b+k+Math.cos(H+I)*k/F,c+g-e+Math.sin(H+I)*e/F,b+k+Math.cos(H+A)*k,c+g-e+Math.sin(H+A)*e),a.quadraticCurveTo(b+k+Math.cos(Q+I)*k/F,c+g-
e+Math.sin(Q+I)*e/F,b+k+Math.cos(Q+A)*k,c+g-e+Math.sin(Q+A)*e),a.lineTo(b,c+h),a.quadraticCurveTo(b+m+Math.cos(T+I)*m/F,c+h+Math.sin(T+I)*h/F,b+m+Math.cos(T+A)*m,c+h+Math.sin(T+A)*h),a.quadraticCurveTo(b+m+Math.cos(P+I)*m/F,c+h+Math.sin(P+I)*h/F,b+m+Math.cos(P+A)*m,c+h+Math.sin(P+A)*h));a.closePath()};k.roundRect2=function(a,b,c,d,f,g,e){d<2*g&&(g=d/2);f<2*g&&(g=f/2);e?(a.moveTo(b+d-g,c),a.arcTo(b,c,b,c+g,g),a.arcTo(b,c+f,b+g,c+f,g),a.arcTo(b+d,c+f,b+d,c+f-g,g),a.arcTo(b+d,c,b+d-g,c,g)):(a.moveTo(b+
g,c),a.arcTo(b+d,c,b+d,c+f,g),a.arcTo(b+d,c+f,b,c+f,g),a.arcTo(b,c+f,b,c,g),a.arcTo(b,c,b+d,c,g));a.closePath()};k.ring=function(a,b,c,g,e,h,q,v){var m=-d/2;h+=m;q+=m;a.arc?(a.arc(b,c,e,h,q,v),m=q,f(h,m)&&(e=b+g*Math.cos(m),m=c+g*Math.sin(m),a.moveTo(e,m)),a.arc(b,c,g,q,h,!v)):(w(a,e,e,e,h,q,v),m=q,f(h,m)&&(b+=g*Math.cos(m),c+=g*Math.sin(m),a.moveTo(b,c)),w(a,e,e,g,q,h,!v));a.closePath()};k.pie=function(a,b,c,g,e,h,q){var v=-d/2;e+=v;h+=v;!1===f(e,h)&&a.moveTo(b,c);a.arc?a.arc(b,c,g,e,h,q):w(a,b,
c,g,e,h,q);a.closePath()};var f=function(b,c){var d=Math.abs((b+a)%a),f=Math.abs((c+a)%a);return d===f},w=function(a,b,c,f,g,x,q){if(q)var v=Math.max(g,x),m=Math.min(g,x)-1E-10;else v=Math.min(g,x)-1E-10,m=Math.max(g,x);var r=(v-m)/d/2;1<Math.abs(r)&&(b-=2*f);g=b+f*Math.cos(v);v=c+f*Math.sin(v);x=b+f*Math.cos(m);m=c+f*Math.sin(m);r=.5<=Math.abs(r)?1:0;q=q?0:1;a.moveTo(b,c);a.lineTo(g,v);h(a,e.SVGPath.arcToBezier(g,v,f,f,0,r,q,x,m));a.closePath()};k.triangle=function(a,b,c,d,f){r(a,b,c,d,3,f)};var r=
k.regularPolygon=function(b,c,d,f,g,e){for(var h=a/g,v=0;v<g;v++){var m=h*(e?g-v:v)+0,r=Math.sin(m)*f+c,m=-Math.cos(m)*f+d;0===v?b.moveTo(r,m):b.lineTo(r,m)}b.closePath()};k.gear=function(b,c,f,g,e,h,q){1>h&&(g*=h);var v=a/e,m=v/4*(q?-1:1);h=g/h;var r=(v-d)/2+v/8;q&&(r+=m);for(var w=0;w<e;w++){var k=v*(q?e-w:w)+r,y=k-3*m,E=k-2*m,A=k-1*m,I=Math.cos(y)*h+c,y=Math.sin(y)*h+f;0===w?b.moveTo(I,y):b.lineTo(I,y);b.lineTo(Math.cos(E)*h+c,Math.sin(E)*h+f);b.lineTo(Math.cos(A)*g+c,Math.sin(A)*g+f);b.lineTo(Math.cos(k)*
g+c,Math.sin(k)*g+f)}b.closePath()};k.star=function(b,c,f,g,e,h,q){1>h&&(g*=h);var v=a/e,m=v/2*(q?-1:1);h=g/h;for(var r=(v-d)/2,w=0;w<e;w++){var k=v*(q?e-w:w)+r,y=Math.cos(k-m)*h+c,E=Math.sin(k-m)*h+f;0===w?b.moveTo(y,E):b.lineTo(y,E);b.lineTo(Math.cos(k)*g+c,Math.sin(k)*g+f)}b.closePath()};k.burst=function(b,c,f,g,e,h,q){var v=q?-1:1,m=a/e,r=m/2*v,w=m/4*v,k=3*w,y=Math.cos(m/4);1>h&&(g*=h);var E=g/h,y=E/y,A=(m-d)/2;1<h&&(A+=d);h=-m*v+A;b.moveTo(Math.cos(h)*g+c,Math.sin(h)*g+f);for(v=0;v<e;v++)h=m*
(q?e-v:v)+A,b.quadraticCurveTo(Math.cos(h-k)*y+c,Math.sin(h-k)*y+f,Math.cos(h-r)*E+c,Math.sin(h-r)*E+f),b.quadraticCurveTo(Math.cos(h-w)*y+c,Math.sin(h-w)*y+f,Math.cos(h)*g+c,Math.sin(h)*g+f);b.closePath()};k.radialBurst=function(b,c,f,g,e,h,q,v){var m=a/h,r=4*q,w=m/4*r,r=m/8*r;q=-d/2+m*q/2;for(var k=0;k<h;k++){var y=m*k+q,E=y-w,A=y-r,I=Math.cos(A)*g+c,A=Math.sin(A)*g+f,F=Math.cos(E)*e+c,E=Math.sin(E)*e+f,G=Math.cos(y)*e+c,y=Math.sin(y)*e+f;b.moveTo(I,A);v?(b.lineTo(I,A),b.lineTo(G,y),b.lineTo(F,
E)):(b.lineTo(F,E),b.lineTo(G,y),b.lineTo(I,A))}b.closePath()};var y=k.spiral=function(b,c,f,g,e,h,q,v){var m=-d/2;h=h/e*a;for(var r=0;r<=e;r++){var w=q?e-r:r,k=Math.pow(g,w/e),y=w*h+m,w=Math.cos(y)*k+c,k=Math.sin(y)*k+f;0!==r||v?b.lineTo(w,k):b.moveTo(w,k)}};k.spirals=function(b,c,d,f,g,e,h,v){for(var m=g;m--;){b.save();b.translate(c,d);b.rotate(m*a/g);b.translate(-c,-d);var r=100*e;y(b,c,d,f*h,r,e,!!v);y(b,c,d,f,r,e,!v,!0);b.closePath();b.restore()}};k.supershape=function(b,c,d,f,g,e,h,v,m,r){e=
e||.001;h=h||-.001;v=v||.001;m=m||.001;for(var w=0;w<=g;w++){var k=(r?g-w:w)*a/g,y=Math.pow(Math.abs(Math.cos(e*k/4)/1),v),E=Math.pow(Math.abs(Math.sin(e*k/4)/1),m),E=Math.pow(y+E,1/h);0===E?k=y=0:(y=1/E*Math.cos(k)*f,k=1/E*Math.sin(k)*f);0===w?b.moveTo(y+c,k+d):b.lineTo(y+c,k+d)}b.closePath()};k.clearPath=function(a,b,c,d,f,g,e,h,m){var r=a.globalCompositeOperation;a.beginPath();a.globalCompositeOperation="destination-out";shape[b](a,b,c,d,f,g,e,h,m);a.fill();a.globalCompositeOperation=r;a.beginPath()};
k.clipPath=function(a,b,c,d,f,g,e,h,m){a.beginPath();shape[b](a,b,c,d,f,g,e,h,m);a.clip()};"undefined"!==typeof module&&module.exports&&(module.exports=k)})(sketch);
(function(k){var e=k.util;k.registerToolkit("shape",function(a,d){var m=this,b=d.canvas2d,c=d.contexts,f=a.detect,w=a.module,r=a.net,k=d.render,u=d.scene,s=a.style,l=d.toolkit,p=a.vector.Point,t=a.feature.tools.shape;m.id="shape";m.units=t.units;m.device={};m._attributes={angle:"number",anticlockwise:"number",coils:"number",cutout:"number",imperfection:"number",m:"number",n1:"number",n2:"number",n3:"number",points:"number",roundness:"number",sides:"number",slope:"number",spread:"number"};var x=e.copy(m._attributes);
m.attributes=e.copyInto(a.attrs.__styledObject,x);(function(){var a={};m.enabled=!1;m.enable=function(){!1===m.enabled&&(m.enabled=!0,a.drag=eventjs.add(c.active,"drag",new m.onRecord),l.select&&l.select.enable({events:a,key:!0}))};m.disable=function(){!0===m.enabled&&(m.enabled=!1,eventjs.removeEvents(a))}})();m.loadResource=function(a){var b=a.object,c=a.onerror,f=a.onsuccess;a=b.type;d.config[a]?s.load(b,function(){b.dirtyCheck=!0;b.render=v;b.seed=b.seed||e.Random.seed();f&&f(b)}):c&&c(b,a+" unavailable")};
m.createObject=function(a,b){var c=a.object,d=c.bbox;d.width!==d.height&&(d.width>d.height?(d.scale.y=d.height/d.width,d.height=d.width):(d.scale.x=d.width/d.height,d.width=d.height));c=u.addObject(m.mergeObjectDefaults(c));b&&b(c)};m.onRecord=function(b){return function(c,s){if("eyeDropper"!==a.ui.colorPicker.state){var v=s.state,x=s.pointerDown,w=s.pointerStart,z=s.pointerEnd,F=b||l.getPointerId(c,s),G=isFinite(s.shiftKey)?s.shiftKey:eventjs.shiftKey,L=isFinite(s.metaKey)?s.metaKey:eventjs.metaKey,
K=!!c,N=K&&d.on.record;d.__interacting=x;K&&(w?eventjs.prevent(c):eventjs.cancel(c));x=k.pointer[F];if(!x||!x.object)if(K&&w)x=k.pointer[F]={},u.copyProperties(m,m.device,x.object={}),m.loadResource({object:x.object});else{console.warn("shape.onRecord - no pointer");return}x.lastModified=Date.now();var K=x.object,H=K.type;w&&(K.toolkitId="shape",K.pointerId=F,x.env={},x.env.start={x:s.x,y:s.y},x.env.useHighRes=K.useHighRes);if(N){var Q;w&&(Q=u.compress(u.copyProperties(m,K),!0));d.on.record({op:"TOOL",
data:{config:Q,toolkitId:"shape",type:H,pointerId:F,state:v,point:u.pointInPeerSceneFromCanvas(s),metaKey:L,shiftKey:G}})}var v=s.start||x.env.start,T=d.zoom,w=(T-1)/T;Q=d.scrollLeft*w;var P=d.scrollTop*w,v={x:v.x/T+Q,y:v.y/T+P},N=!f.useNonUniform[H],w="objectBoundingBox"===m.units||N;Q=s.x/T+Q-v.x;var R=s.y/T+P-v.y,T=Math.abs(Q),P=Math.abs(R),X;X=N?Math.sqrt(Q*Q+R*R):Math.max(T,P);L=!!L;G=!!G;N?(L=!G,G=!0):L&&(G=!0);L=L?-Math.atan2(Q,R)*e.RAD_DEG:0;N=0>Q?-1:1;Q=0>R?-1:1;b&&(L+=180);!1===G&&(T>P?
Q*=P/T||0:N*=T/P||0);w&&(N=Math.abs(N),Q=Math.abs(Q),X*=2);K.isRecording=!0;K.useHighRes=!0;G=K.bbox={width:X,height:X,rotate:L,units:m.units,scale:{x:N,y:Q}};L=u.getConstraint(K,!0);q(G,L.width,L.height,v,w);K.dirtyTransform=!0;K.dirtyCache=K.usePixelData;if(z){k.removePointer(F);K.isRecording=!1;K.useHighRes=x.env.useHighRes;if(t.addByClick)L.tooSmall&&q(G,t.defaultWidth,t.defaultHeight,v,w,H);else if(p.equals(s,s.start))return;m.createObject({object:K},function(a){k.objectToScene(a);d.history&&
d.history.store({cmd:"add",icon:H,name:H,data:[a]},{userId:r.userId,fromRecord:!0})})}k.dirtyPointer=!0}}};var q=function(a,c,e,l,h,q){a.width=c;a.height=e;a.viewBox=[0,0,c,e];q&&(a.scale.x=1,a.scale.y=f.useNonUniform[q]?.5:1);var p=l.x;l=l.y;if(h||q)p-=c/2*a.scale.x,l-=e/2*a.scale.y;c=d.zoom;e=d.pixelRatio;a.x=p-b.x/c/e;a.y=l-b.y/c/e},v=function(a,b,c){b=this.bbox;var d=b.width,f=b.height,g=b.scale;b=g.x;var g=g.y,e=0>b,l=0>g,h=d/2*(e?-1:1),q=f/2*(l?-1:1),p=Math.max(d,f)/2,t=w.toolkit["shape."+this.type];
"function"!==typeof t?console.error("shape.renderFast",this):(c&&(e&&(h+=d),l&&(q+=f)),1===b&&1===g?(a.beginPath(),t(a,h,q,p,this)):(a.save(),a.beginPath(),a.scale(b,g),t(a,h,q,p,this),a.restore()),(d=this.fill)&&d.enabled&&d.opacity&&z(a,"fill",b,g,c,this),(d=this.stroke)&&d.enabled&&d.lineWidth&&d.opacity&&(a.lineWidth=d.lineWidth,a.lineJoin=d.lineJoin,a.lineCap=d.lineCap,a.miterLimit=d.miterLimit,z(a,"stroke",b,g,c,this)))},z=function(a,b,c,d,f,g){c=g[b];var e=c.type,l=b+"Style";if("destination-out"===
g.composite)a[l]="#000",a[b]();else if("color"===e)a[l]=c.color,a[b]();else{var h=g.bbox;d=h.scale;c=d.x;d=d.y;var q=h.width,h=h.height,p=q,t=h,v=0,m=0;"gradient"!==e||f||(0>c&&(p-=q,v-=q),0>d&&(t-=h,m-=h));"pattern"===e&&"fill"===b?(a.save(),a.scale(c,d),a[l]=s.getStyle(b,a,p,t,v,m,g),a[b](),a.restore()):(a[l]=s.getStyle(b,a,p*c,t*d,v*c,m*d,g),a[b]())}};return l.init(this)});var d=function(a,d,e){e.cutout?(a.apply(a,d.concat(!1)),d[3]*=e.cutout,a.apply(a,d.concat(!0))):a.apply(a,d)},a=k.vector.Shape;
k.registerToolkit("shape.ring",function(d,g,m,b,c){var f=e.DEG_RAD,w=c.angle;a.ring(d,g,m,b*(c.cutout||0),b,w.min*f,w.max*f,c.anticlockwise)});k.registerToolkit("shape.pie",function(d,g,m,b,c){var f=e.DEG_RAD,w=c.angle;a.pie(d,g,m,b,w.min*f,w.max*f,c.anticlockwise)});k.registerToolkit(["shape.circle","shape.ellipse"],function(e,g,m,b,c){var f=c.imperfection;f?(f/=2,a.imperfectCircle(e,g,m,b-f,b+f,42,c.seed)):d(a.circle,[e,g,m,b],c)});k.registerToolkit(["shape.square","shape.rectangle"],function(e,
g,m,b,c){var f=c.roundness,w=c.imperfection;if(f){var w=f*Math.max(b,b),f=f*Math.max(b,b),r=c.bbox.scale,k=Math.abs(r.x),r=Math.abs(r.y);k>r?f*=k/r:w*=r/k;c.cutout?(a.roundRect(e,g-b,m-b,2*b,2*b,w,f),a.roundRect(e,g-b*c.cutout,m-b*c.cutout,2*b*c.cutout,2*b*c.cutout,w,f,!0)):a.roundRect(e,g-b,m-b,2*b,2*b,w,f)}else w?a.imperfectRect(e,g-b,m-b,2*b,2*b,w,c.seed):d(a.square,[e,g,m,b],c)});k.registerToolkit("shape.triangle",function(e,g,m,b,c){d(a.triangle,[e,g,m,b],c)});k.registerToolkit("shape.regularPolygon",
function(e,g,m,b,c){d(a.regularPolygon,[e,g,m,b,Math.round(c.sides)],c)});k.registerToolkit("shape.gear",function(e,g,m,b,c){d(a.gear,[e,g,m,b,Math.round(c.sides),c.slope],c)});k.registerToolkit("shape.star",function(e,g,m,b,c){d(a.star,[e,g,m,b,Math.round(c.sides),c.slope],c)});k.registerToolkit("shape.burst",function(e,g,m,b,c){d(a.burst,[e,g,m,b,Math.round(c.sides),c.slope],c)});k.registerToolkit("shape.radialBurst",function(d,g,e,b,c){a.radialBurst(d,g,e,0,b,Math.round(c.sides),c.spread)});k.registerToolkit("shape.spiral",
function(d,g,e,b,c){a.spirals(d,g,e,b,Math.round(c.sides),c.coils,1-c.spread/100)});k.registerToolkit("shape.supershape",function(e,g,m,b,c){d(a.supershape,[e,g,m,b,c.points,Math.round(c.m),c.n1,c.n2,c.n3],c)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Thumbnailer=function(g,m,b){"string"===typeof g&&(g={src:g});var c=g.src,f=g.canvas||e(),w=f.ctx||f.getContext("2d");b=g.onerror||b;m=g.onload||m;var r=g.background||"none";"none"===r&&(r="");var y=g.shadow||!1,u=g.resample||"bicubic",s=g.center||!1;if(!c)return b&&b(),console.warn("Thumbnailer",g);var l=function(){var a=p.width,b=p.height;if(a||b){var c=k.util.fitSize(a,b,g),d=c.width,e=c.height,l=c.ratio,t=c.crop,x=c.croparea;f.width=d;f.height=e;r&&(w.save(),
w.rect(0,0,d,e),w.fillStyle=r,w.fill(),w.restore());y&&(w.shadowBlur=y.blur||0,w.shadowOffsetX=y.offsetX||0,w.shadowOffsetY=y.offsetY||0,w.shadowColor=y.color||"transparent");var c=x.x1,A=x.y1,I=x.x2,x=x.y2,a=Math.min(a,I-c),b=Math.min(b,x-A);if("stretch"===t)w.drawImage(p,c,A,a,b,0,0,d,e);else{var t=Math.round(a*l)||1,F=Math.round(b*l)||1,d=Math.round(s?(d-t)/2:0),e=Math.round(s?(e-F)/2:0);if("lanczos"===u&&"undefined"!==typeof h){var G=p.width/t,L=p.height/F,l=Math.max(G,L)>>0;p=h(p,t,F,l);Math.round(I/
G);Math.round(x/L)}w.drawImage(p,c,A,a,b,d,e,t,F)}m&&m(f,p)}else m&&m(f,p),console.error("missing image")},p,t=String(c),x="function"===typeof FlashCanvas;d[t]||x&&"[object]"===t?(p=c,l()):(f.setAttribute("data-src",c),p="undefined"===typeof document?new a.Image:new Image,x?(p.src=c,w.loadImage(p,l,b)):k.util.loadImage({src:c,image:p,onload:l,onerror:b}));return f};k.util.fitSize=function(a,d,b){b=b||{};var c=b.crop||"none",f=isFinite(b.width)?b.width:"auto",e=isFinite(b.height)?b.height:"auto",h=
b.maxWidth||Infinity,k=b.maxHeight||Infinity,u=b.minWidth||0,s=b.minHeight||0;if(!f&&!h||!e&&!k)return console.error("invalid dimensions");b=b.croparea;b=Array.isArray(b)?{x1:b[0],y1:b[1],x2:b[2]||a,y2:b[3]||d}:b||{x1:0,y1:0,x2:a,y2:d};a="fit"===c;d=b.x2-b.x1||0;var l=b.y2-b.y1||0,p=d/l;if(0===d||0===l)console.warn("invalid dimensions");else{var t=f,x=e;"auto"===f&&"auto"===e?(t=d,x=l):"auto"===f?t=p*x:"auto"===e&&(x=1/p*t);t>h&&(t=h,"auto"===e&&(x=1/p*t));x>k&&(x=k,"auto"===f&&(t=p*x));t<u&&(t=u,
"auto"===e&&(x=1/p*t));x<s&&(x=s,"auto"===f&&(t=p*x));"none"===c?p=1:(f=t/x<p,p=a&&f||!a&&!f?x/l:t/d);return{crop:c,croparea:b,width:t,height:x,ratio:p}}};var e=function(){var d;d="undefined"===typeof document?new a:document.createElement("canvas");d.ctx=d.getContext("2d");return d},d={"[object HTMLImageElement]":!0,"[object HTMLCanvasElement]":!0,"[object Canvas]":!0};if("undefined"!==typeof module&&module.exports){var a=require("canvas"),h=require("./ResampleLanczos.js");module.exports=k.module.Thumbnailer}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.UI=function(e,d){var a=e.dom,h=e.feature,g=e.lang,m=d.render,b=e.style,c=e.client,f=e.util.string,w=d.toolkit,r=e.ui,k=e.util,u=r.vars;r.media={};r.media.clear="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=";r.media.transparent=e.gen.interlace({id:"transparent"});r.refresh=function(a){r.setToolMenu(a,!0);r.configureRebuild(a)};r.configureBuild=function(b,c){c=!!c;var g=a.$("#sk-configure");
if(g&&0!==g.offsetWidth&&!1!==e.sidebar.opened){e.windows.restore&&setTimeout(e.windows.restore,1);var l=t(b);if(b=b||l.type){l=isFinite(l.id)?d.scene.createHash(l,{seed:!0,bbox:!0}):l.type;if(String(l)===g.getAttribute("sk-hash")){if(!1===c){var q;a:{g=b;if(d.scene&&d.scene.children){var p=(l=d.selection.item)?l.toolkit:{};for(q in r.ranges){var s=r.ranges[q];if(!s){h.debug&&console.debug("disabled",q);q=void 0;break a}var v=void 0;l&&(v=l[q]);void 0===v&&p.device&&(console.log(123),v=p.device[q]);
void 0===v&&(v=d.scene.clone(d.config[g][q],!0));if(void 0!==v){var v=void 0!==v.max?[v.min,v.max]:void 0!==v.value?v.value:v,m=s.thumbs;if(2===m.length){if(m[0].value!==v[0]||m[1].value!==v[1])m[0].value=v[0],m[1].value=v[1],s.update(0,"load"),s.update(1,"load")}else 1===m.length&&(v=v[0]||v,m[0].value!==v&&(m[0].value=v,s.update(0,"load")))}}}q=void 0}return q}}else g.setAttribute("sk-hash",l);q=a.$("#sk-configure .sk-configure-header");"image"!==b||h.canvas.glfx||(b="clipart");r.configureRebuild(b);
d.scene&&d.scene.children||!q||(g=f.ucwords(b.replace("gl_","").replace(/([A-Z])/g," $1")),q.innerHTML="<span>"+g+"</span>")}}};r.ranges={};r.configureRebuild=function(b){var c=a.empty("#sk-configure");h.pane.header&&(0===b.indexOf("gl_")?r.addHeader(c,{title:b.substr(3)}):"select"===d.tool.type?r.addHeader(c,{title:g.translate("select"),right:{icon:"icon-gear",onclick:function(a,b){r.contextMenu.show({target:b.target,menu:1===d.selection.length?r.menu.select:d.selection.length?r.menu.selectMultiple:
r.menu.selectDefault})}}}):r.addHeader(c,{title:g.translate(b)}));a.append(c,'<div class="sk-pane-content"></div>');if(c=x())a.empty(c),r.ranges={},d.selection.item?p(b,l(d.selection.item)):window.glfx&&window.glfx.config[b]?p(b,glfx.config[b]):p(b,d.config[b]),e.detect.useNoConfigure[b]&&("screenshot"===b?(r.appendLineBreak(c),a.append(c,'<div class="sk-content-info">\t\t\t\t\t\t'+g.translate("screenshot-tool-message")+"\t\t\t\t\t\t</div>")):"zoom"===b?(r.appendLineBreak(c),a.append(c,'<div class="sk-content-info">\t\t\t\t\t\t'+
g.translate("zoom-tool-message")+"\t\t\t\t\t\t</div>")):"select"===b&&(r.appendLineBreak(c),a.append(c,'<div class="sk-content-info">\t\t\t\t\t\t\t<span class="sk-selection-count"></span>\t\t\t\t\t\t</div>'),d.scene&&d.scene.updateSelectionInfo()))};var s=k.arrayToObject("reset filePicker subtool resource palette toolkit".split(" ")),l=function(a){var c=a.type,f=d.config[c];if((c=w.getToolkit(c))&&c.attributes){var c=c.attributes,g={},e;for(e in f){var l=f[e];if(s[e])g[e]=l;else switch(c[e]){case "string":l instanceof
u.Select?(g[e]=l,g[e].setValue(a[e])):g[e]=a[e];break;case "style":l&&(g[e]=new b.create(e,a[e]));break;case "clamp":case "number":case "object":l&&l.clone&&(g[e]=l.clone(a[e]))}}a.filter&&(g.filter=new u.FilterStack({filter:a.filter}),delete g.palette);return g}console.warn("undefined toolkit",a);return f},p=function(a,d){var f=x(),g;for(g in d){var l=d[g];if(l&&l.type&&!l.hidden)switch(l.constructor.type||l.type){case "input":case "number":r.appendTag("Input",f,l);break;case "button":r.appendLineBreak(f);
r.appendButton(f,l);break;case "checkbox":r.appendTag("Checkbox",f,l);break;case "clamp":l.onchange=q(d,l);r.appendRange(f,l);break;case "html":r.appendHTML(f,l);break;case "palette":2===h.palette.version?(d.fill&&e.palette.createTrigger(f,d,d.fill,"fill","fill"),d.stroke&&e.palette.createTrigger(f,d,d.stroke,"stroke","stroke")):e.palette.append(f,d);break;case "select":if("blend"===l.label&&(l.selected=b.getCompositeReadable(l.selected),!1===c.gco.__blend||!1===h.style.blend))break;r.appendSelect(f,
l);break;case "textarea":r.appendTag("Input",f,l);break;case "filePicker":r.appendFilePicker(f,l);break;case "resource":r.appendResource(f,l);break;case "subtool":r.createSubtool(f,l,d.type);break;case "filter":r.appendFilterStack(f,l)}}},t=function(a){a=a||d.tool.type;return d.selection.item||d.config[a]||window.glfx&&window.glfx.config[a]||{}},x=function(){return a.$("#sk-configure .sk-pane-content")};r.appendFilePicker=function(b,c){var d=a.create("div");d.className="sk-file-picker";d.textContent=
g.translate("load-your-own-image");b.appendChild(d);e.uploader.addFileInput({target:d,onchange:function(a,b){if(c.onchange)c.onchange(a,b);else e.uploader.onChangeDefault(a,b)}})};r.appendButton=function(a,b){var c=r.createElement("div",b);c.innerHTML=g.translate(b.title);c.classList.add("button");r.addClick(c,b.onclick);a.appendChild(c)};r.createSubtool=function(b,c,d){var f=a.create("div");b.appendChild(f);var e=w.getToolCategory(d);if(e=r.icons[e])if("list"===h.ui.subtool){b=0;for(var l in e.children)c=
a.create('<div class="sk-subtool"></div>'),a.setClass(c,e.children[l]),l===d&&a.setClass(c,"selected"),f.appendChild(c),0===++b%6&&(c.style.borderRight="none"),function(a,b){r.tooltip&&r.tooltip.add(a,b);r.addClick(a,function(){w.setType(b)})}(c,l)}else{f={};for(l in e.children)f[l]='<span class="'+e.children[l]+' sk-icon"></span> '+g.translate(l);d=new r.SelectMenu({id:"subtool",className:"selectmenu-holder",container:b,selected:d,options:f,onchange:function(a){w.setType(a)}});r.appendLabel(b,d.container,
c.title)}};r.appendTag=function(a,b,c){var d=c.label;a=r[a](c);r.appendLabel(b,a,d)};r.appendHTML=function(a,b){var c=r.createElement("div",b);b.innerHTML&&(c.innerHTML=b.innerHTML);b.construct&&b.construct(c);a.appendChild(c)};r.appendLabel=function(b,c,d){r.appendLineBreak(b);var f=a.create("label"),e=a.create("span");e.className="sk-title";e.innerHTML=g.translate(d);f.appendChild(e);f.appendChild(c);f.className="sk-label";b.appendChild(f);return f};r.ensureInstanceOf=function(a,b){return a instanceof
b?a:new b(a)};r.appendSelect=function(a,b){b=r.ensureInstanceOf(b,u.Select);var c=new r.SelectMenu({id:b.param,className:"selectmenu-holder",container:a,labelIcon:b.labelIcon,options:b.getOptions(),selected:b.selected,tooltip:b.title,onopen:b.onopen,onclose:b.onclose,onchange:function(a){b.onchange(b.param,a);d.saveSettings()}});r.appendLabel(a,c.container,b.label);return c};r.appendResource=function(a,b){var c=b.format;r.appendLineBreak(a);B(a,b,c)};r.appendLineBreak=function(b){a.append(b,'<div class="sk-break"></div>')};
r.appendRange=function(b,c){c=r.ensureInstanceOf(c,u.Range);var d=c.getArray(),f=c.param;"spacing"===f&&(d=[d[0]]);r.appendLineBreak(b);var e=a.create("div");e.className="sk-slider";b.appendChild(e);var l=a.create("span");l.className="sk-title";e.appendChild(l);eventjs.add([e,l,b],"touchdown",eventjs.cancel,{strict:!0});l.setAttribute("data-cmd",f);l.innerHTML=g.translate(f);l=a.create("span");l.className="values";e.appendChild(l);for(var h=0;h<d.length;h++){var q=r.Input({type:"text",format:"number",
className:"value"+h,min:c.clamp.min,max:c.clamp.max,value:d[h],onchange:function(a){var b=parseInt(this.className.substr(5)),c=p.thumbs[b];c.value!==a&&(c.value=a,p.update(b))}});l.appendChild(q);d[h+1]&&(q=a.create("small"),q.innerHTML="/",l.appendChild(q))}var p=new r.Range({parent:e,className:"sk-range",value:d.toString(),min:c.clamp.min,max:c.clamp.max,format:c.format,gradient:c.gradient,canCross:c.canCross,canPush:c.canPush,onchange:function(b,d){a.$(".value"+d.index,b.element.parentNode).value=
10<c.clamp.max?Math.round(d.value):Math.round(10*d.value)/10;if(c.onchange)return c.onchange(b,d)}});return r.ranges[f]=p};var q=function(a,b){return function(c,f){var g="end"===c.state;if("load"!==c.state){var e=d.selection.items,l=k.isEmpty(e)&&!1===g;if(!l||void 0===e){var l=b.param,h=w.setConfigure(a,l,c.values);h&&(h.getValue&&(h=h.getValue()),w.setParam({selection:e,cacheObject:c,moduleId:a.type,param:l,value:h}),g&&d.saveSettings())}}}};r.setToolMenu=function(b,c){var d,f=w.getToolCategory(b);
"brushes"===f?d=a.$(".sk-brush-menu"):"shapes"===f?d=a.$(".sk-shape-menu"):"utilities"===f&&(d=a.$(".sk-utility-menu"));if((d=d||a.$("#tool-"+b)||a.$("."+f))&&d.parentNode){if((f=r.icons[f])&&f.children&&(f=f.children[b.replace("_"," ")],!0!==f))if(d.id="tool-"+b,d.setAttribute("data-title",g.translate(b)),0===f.indexOf("icon-")){var e=a.$("img",d);e&&(e.src=r.media.clear);if(e=a.$(".sk-icon",d)||d){for(var l="",h=e.className.split(" "),q=0;q<h.length;q++)0!==h[q].indexOf("icon-")&&(l+=" "+h[q]);
e.className=l+" "+f}}else a.$("img",d).src=src;c||r.domSelectTool(d)}};r.addClick=function(a,b){eventjs.add(a,"mousedown",function(a){var b=document.activeElement;b&&b.blur&&b.blur();eventjs.cancel(a)});eventjs.add(a,"click",b)};r.on_dblclick_setup_tool=function(a,b){e.sidebar.open&&(e.sidebar.opened?r.setPane("configure",!0):e.sidebar.open())};r.on_click_setup_tool=function(a,b){eventjs.prevent(a);var d=b.target,f=r.domParseSkTool(d),g=f.type;f.type&&f.shortcut&&(w.getConfig(f.type)||w.clone(f.type,
f.shortcut));if(w.exists(f.type)){if(f.type&&(f.fill||f.stroke)){var l=w.getConfig(f.type);e.style.cloneFillStroke(f,l)}r.setFilterStack(f);e.exec(g,function(){if(f.composite)for(var a=f.composite.split(","),b=0;b<a.length;b++){var g=a[b];if(c.gco[g]){e.style.setComposite(g);break}}r.domSelectTool(d);e.ui.setPane("configure")},function(){console.warn(g,"error or cancel")})}else e.exec(g,function(){})};r.domSelectTool=function(b){a.setClass({className:"selected",list:a.$$(".sk-toolset .selected"),
target:b,on:!0})};r.domParseSkTool=function(a){var b=a.getAttribute("data-tool");if(b)return a=e.loc.parseQuery(b),d.scene.decompress(a);a=a.id;return{type:a&&0===a.indexOf("tool")&&a.substr(5)}};r.TSEvents={};r.TSEvents.add=function(a){v("add",a)};r.TSEvents.remove=function(a){v("remove",a)};var v=function(b,c){c=c||".sk-toolset";k.each(a.$$(c+" img"),function(a){eventjs[b](a,"mousedown",function(){return!1})});k.each(a.$$(c+" .sk-tool"),function(c){var d=r.domParseSkTool(c).type;if(d){k.each(a.$$(".sk-arrow",
c),function(a){var f,l;e.detect.brush[d]?(f="brushes",l=g.translate("choose-brush")):e.detect.shape[d]?(f="shapes",l=g.translate("choose-shape")):e.detect.utility[d]?(f="utilities",l=g.translate("choose-utility")):e.detect.media[d]&&(f="media",l=g.translate("choose-media"));eventjs[b](a,"mousedown",function(a){eventjs.cancel(a);r.on_click_setup_tool(a,{target:c});r.contextMenu.show({target:this,menu:r.menu[f]})});r.tooltip&&r.tooltip[b](a,l)});if(w.getToolkitId(d))eventjs[b](c,"dblclick",r.on_dblclick_setup_tool);
eventjs[b](c,"click",r.on_click_setup_tool);if(r.tooltip)r.tooltip[b](c,function(){return c.title||c.getAttribute("data-title")})}})},z=function(){return"undefined"===typeof alertify?console.warn("alertify undefined"):!0},C=function(a,b){if(!0===b.skip)return b.callback(!0);"string"===typeof b&&(b={message:b});if(z()){var c=g.translate(b.message),d=b.labels||{ok:"ok",cancel:"cancel"};d.ok=g.translate(d.ok||"ok");d.cancel=g.translate(d.cancel||"cancel");d.disregard&&(d.disregard=g.translate(d.disregard));
alertify.dialog(a,{message:'<h3 class="confirm-message">'+c+"</h3>",labels:d,callback:b.callback})}};r.alert=function(a){C("alert",a)};r.confirm=function(a){C("confirm",a)};r.error=function(a,b){if(z())return alertify.error(a,b)};r.log=function(a,b){if(z())return alertify.log(a,b)};r.appendFilterStack=function(a,b){var c=b.value[0][0],f="gl_"+c.id,g=window.glfx.config[f];if(g){var e=d.selection.item,l=e&&e.filter&&e.filter[0][0];l&&(c=l);l=m.getGLFX();l.activeFilter=c;l.activeItem=e;p(f,g)}};r.setFilterStackFromQuery=
function(a){a=d.scene.decompress(e.loc.parseQuery(a));r.setFilterStack(a);e.exec(a.type)};r.setFilterStack=function(a){var c=d.config[a.type];if(c)if(a.filter){var f=w.getToolkit(c.toolkit);d.scene.copyProperties(f,a,c);c.filter=a.filter;a.fill&&(b.cloneFillStroke(c,b),b.fill.type="color",e.palette.setPaintMethod("fill"))}else c.filter&&(delete c.filter,delete c.usePixelData,delete c.useBackgroundOverlay)};var J=function(a){var b=t(a),c=e.lib[a],d=c.tree,f=b.src||"",g=0,l;for(l in d)++g;c=b.fontFamily?
(a=e.lib.text.byName[b.fontFamily])&&a.category||c.defaultCategory||l:(a=c.byPath[f.replace(a+"/","")])&&a.folder||c.defaultCategory||l;return c},D={text:"fonts",stamp:"stamps",clipart:"clipart"},B=function(b,c,f){b=a.append(b,'<div class="sk-resources"></div>');if(h.ui.scrollerCategories){var g=J(f),l=e.lib[f].tree,q={};c=c.title||D[f];for(var p in l)"Your Files"!==p&&(q[p]=p);new r.SelectMenu({id:f+"_categories",className:"categories",tooltip:c,container:b,selected:g,options:q,onchange:function(a){r.scrollers[f].scrollTo(a)}})}new r.InfiniteScroll(e,
d,{type:f,target:b,folder:"*"})};r.fullpath=void 0;r.pageOnChange=void 0;r.pageTimeout=void 0;r.pageBuildFn=function(a,b){var c=e.ui.fullpath;if("configure"!==c||1===a){if(r.pages[c])r.pages[c](a,b);r.setPane(c,!0)}};r.pages=r.pages||{};r.pages.Configure=function(){r.configureBuild()};r.pages.Layers=function(a){a=a||{};a=a.delay;"layers:"===e.ui.fullpath&&(clearTimeout(r.pageTimeout),r.pageTimeout=setTimeout(function(){var a=e.perf();r.treeLayers.setData(d.scene.children);r.treeLayers.render();h.debug&&
console.debug("rebuildLayers",a())},a||100))};r.pages.History=function(a){a=a||{};a=a.delay;"history:"===e.ui.fullpath&&(clearTimeout(r.pageTimeout),r.pageTimeout=setTimeout(function(){var a=e.perf();r.treeHistory.setData(d.history.vector.data);r.treeHistory.render();h.debug&&console.debug("rebuildHistory",a())},a||100))};r.setPane=function(b,c){if(r.fullpath!==b||!0===c){r.pageOnChange&&(r.pageOnChange(),r.pageOnChange=void 0);var d=b.split(":");b=d[0]||"";var d=d[1]||"",l=b+":"+d,h=".icon-"+b.split("-").shift();
(h=a.$(".sk-sidebar "+h))&&a.setClass({target:h,className:"selected",on:!0,list:a.$$(".sk-sidebar > .tabs span")});a.setClass({target:"#sk-"+b,list:".sk-pane",className:"selected"});r.fullpath=l;switch(b){case "configure":r.configureBuild();break;case "document-new":r.pages.New();break;case "document-resize-canvas":r.pages.ResizeCanvas();break;case "document-resize-image":r.pages.ResizeImage();break;case "document-background":r.pages.Background();break;case "document-open":e.fs.fs&&e.fs.updateProjects();
break;default:if(l=f.ucwords(b),r.pages[l])r.pages[l]({delay:!0,subpage:d});else a.$("#sk-"+b)||console.log("does this happen?")}k.setItem("ui.fullpath",r.fullpath);k.foreach(a.$$(".sk-translate"),function(a){a.innerHTML=g.translate(a.innerHTML)})}};r.UISidebarTabs=function(){var b=function(b,d){var f=a.append(c,'<span class="sk-'+b+" icon-"+b+'"></span>');r.tooltip&&r.tooltip.add(f,d||b);r.addClick(f,function(){e.ui.setPane(b)})},c=a.$(".sk-sidebar > .tabs");h.pane.configure&&b("configure","settings");
h.pane.layers&&(b("layers"),e.on("deselect",function(a){"layers:"===e.ui.fullpath&&r.treeLayers.deselect(a)}),e.on("select",function(a){"layers:"===e.ui.fullpath&&r.treeLayers.select(a)}));h.pane.history&&b("history");h.pane.open&&b("document","file");h.pane.save&&b("save","export");e.module.TreeMenu&&(b=e.module.TreeMenu,r.treeLayers=new b(e,d,"#sk-layers .sk-pane-content",d.scene.children),r.treeHistory=new b(e,d,"#sk-history .sk-pane-content",d.history.vector.data));e.on("historyPop",r.pages.History);
e.on("transform",r.pages.History);e.on("reset",r.pages.History);e.on("open",r.pageBuildFn);e.on("undo",r.pageBuildFn);e.on("redo",r.pageBuildFn);e.on("cut",r.pageBuildFn);e.on("paste",r.pageBuildFn);e.on("sendForwards",r.pageBuildFn);e.on("sendBackwards",r.pageBuildFn);e.on("layerRemove",r.pageBuildFn);e.on("layerAdd",r.pageBuildFn);k.getItem("ui.fullpath",function(a){e.ui.setPane(a||"configure")})};r.scrollable=function(a,b){h.preventScroll&&c.mobile&&eventjs.add(a,"drag",function(c,d){b||eventjs.stop(c);
var f=a.scrollTop,g=d.ly-d.y;d.lx=d.x;d.ly=d.y;"touchmove"===c.type&&(0>=g&&0>=f?eventjs.prevent(c):0<=g&&f+a.offsetHeight>=a.scrollHeight&&eventjs.prevent(c))},{strict:!0})};r.addHeader=function(b,c){var d=function(b,c){if(b){var d=a.append(q,'<span class="'+("sk-href sk-"+c+" "+b.icon)+'"></span>');r.addClick(d,b.onclick)}},f=c.left,e=c.right,l=c.title,h=c.icon,q=a.append(b,'<div class="sk-row-head"></div>');a.appendText(q,g.translate(l));d(f,"left");d(e,"right");c.icon&&a.append(q,'<span class="'+
h+' icon"></span>')};r.addFooter=function(b,c){var d=a.append(b,'<div class="sk-footer"></div>');c.className&&d.classList.add(c.className);c.cancel&&r.addButton(d,c.cancel);c.ok&&r.addButton(d,c.ok)};r.addButton=function(a,b){r.appendButton(a,new u.Button(b))};r.createElement=function(b,c){var d=a.create(b);c.className&&k.each(c.className.split(" "),function(a){d.classList.add(a)});c.style&&(d.style.cssText=c.style);c.title&&r.tooltip&&r.tooltip.add(d,c.title);c.onblur&&eventjs.add(d,"blur",c.onblur);
c.onfocus&&eventjs.add(d,"focus",c.onfocus);d.$attr=c;d.$setParam=function(a,b){void 0!==c[a]&&(c[a]=b);void 0!==d[a]&&(d[a]=b)};return d};r.contextMenu=r.contextMenu||{};r.contextMenu.show=function(b){var c=b.target,d=b.point;b=b.menu;if(c)var c=a.measure(c),f=c.x1,g=c.y1+c.height+7;else d&&(f=d.x,g=d.y);contextmenu.show(b,f,g)};r.fastclick=function(b){if(e.client.ios)if("string"===typeof b){var c=a.$$(b);k.foreach(c,function(a){r.fastclick(a)})}else eventjs.add(b,"mousedown",eventjs.stop),eventjs.add(b,
"click",function(a){eventjs.cancel(a);switch(b.nodeName){case "A":case "BUTTON":b.click();break;case "TEXTAREA":b.focus();break;case "INPUT":switch(b.type){case "submit":b.click();break;case "text":b.focus();break;case "checkbox":b.checked=!b.checked;break;default:console.log(b.type)}break;default:console.log(b.nodeName)}})}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.ui||(k.ui={});var e=k.util,d=k.ui.vars={};d.Button=function(d){a(this,d=d||{});this.type="button";this.onclick=d.callback||d.onclick};d.Checkbox=function(h){a(this,h=h||{});this.type="checkbox";this.checked=h.checked;this.onchange=h.onchange;this.setValue=function(a){"boolean"===typeof a&&this.checked!==a&&(this.checked=a,this.onchange&&this.onchange.call(this,a))};this.getValue=function(){return this.checked};this.clone=function(a){var m=e.copy(h);a&&(m.checked=a);return new d.Checkbox(m)}};
d.HTML=function(d){a(this,d=d||{});this.type="html";this.innerHTML=d.innerHTML;this.construct=d.construct};d.Input=function(h){a(this,h=h||{});this.type=h.type||"input";this.value=h.value;if("number"===h.type||"number"===h.format)this.max=h.max||e.INFINITY,this.min=h.min||-e.INFINITY,this.step=h.step||"any",this.format=h.format||"number";this.onchange=h.onchange;this.setValue=function(a){if("number"===this.format)if(a=parseFloat(a),isFinite(a)){if(this.max<a||this.min>a)return!1}else return!1;this.value!==
a&&(this.value=a,this.onchange&&this.onchange.call(this,a))};this.getValue=function(){return this.value};this.clone=function(a){var m=e.copy(h);a&&(m.value=a);return new d.Input(m)}};d.Range=function(h){a(this,h=h||{});var g=h.value;"object"===typeof g?(this.min=isFinite(g.min)?g.min:g[0],this.max=isFinite(g.max)?g.max:g[1],this.getValue=function(){return{min:this.min,max:this.max}},this.getArray=function(){return[this.min,this.max]}):(this.value=g,this.getValue=function(){return this.value},this.getArray=
function(){return[this.value]});this.type="clamp";this.format=h.format||"float";this.canCross=h.canCross;this.canPush=h.canPush;this.gradient=h.gradient;this.clamp={};this.clamp.min=h.min;this.clamp.max=h.max;this.onchange=h.onchange;this.clone=function(a){var b=e.copy(h);a&&(b.value=a);return new d.Range(b)}};d.Select=function(h){a(this,h=h||{});h.onchange||k.feature.debug&&console.warn("Select requires onchange",h);this.type="select";this.labelIcon=h.labelIcon||"";this.options=h.options;this.selected=
h.selected;this.onchange=h.onchange;this.onclose=h.onclose;this.onopen=h.onopen;this.setValue=function(a){"string"===typeof a&&(this.selected=a)};this.getValue=function(){return this.selected};this.getOptions=function(){var a=this.options;if("function"===typeof a)return a();if(Array.isArray(a)){for(var d={},b=0;b<a.length;b++){var c=a[b];d[c]=c}return d}return a};this.clone=function(a){var m=e.copy(h);a&&(m.selected=a);return new d.Select(m)}};d.Textarea=function(h){a(this,h=h||{});this.type="textarea";
this.value=h.value;this.setValue=function(a){"string"===typeof a&&(this.value=a)};this.getValue=function(){return this.value};this.clone=function(a){var m=e.copy(h);a&&(m.value=a);return new d.Textarea(m)}};d.ColorPicker=function(h){a(this,h=h||{});this.type="color";this.color=h.color;this.setValue=function(a){"string"===typeof a&&(this.color=a)};this.getValue=function(){return this.color};this.clone=function(a){var m=e.copy(h);a&&(m.color=a);return new d.ColorPicker(m)}};d.Palette=function(d){a(this,
d||{});this.type="palette"};d.FilePicker=function(d){a(this,d=d||{});this.type="filePicker";this.formats=d.formats;this.onchange=d.onchange};d.Resource=function(h){a(this,h=h||{});this.type="resource";this.format=h.format;this.clone=function(a){a=e.copy(h);return new d.Resource(a)}};d.SubTool=function(d){a(this,d||{});this.type="subtool"};d.FilterStack=function(d){a(this,d=d||{});this.type="filter";this.value=d.filter;this.setValue=function(a){this.value=a};this.getValue=function(){return this.value}};
var a=function(a,d){d.className&&(a.className=d.className);d.style&&(a.style=d.style);d.param&&(a.param=d.param);d.title&&(a.title=d.title);d.label&&(a.label=d.label);d.hidden&&(a.hidden=d.hidden);d.onfocus&&(a.onfocus=d.onfocus);d.onblur&&(a.onblur=d.onblur);d.useGhostLayer&&(a.useGhostLayer=!0)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.ui=k.ui||{};k.ui.Button=function(e){var d=k.lang;this.data={};this.add=function(a){if(a&&a.id&&!this.data[a.id]){var e=a.parent,g=a.src;delete a.parent;delete a.src;var m=document.createElement("span");m.className="sk-tool";var b=document.createElement("span");b.className="sk-tool-title";b.innerHTML=d.translate(a.title||"");m.appendChild(b);a.symbol&&(b=document.createElement("span"),b.className="sk-icon "+a.symbol,m.appendChild(b));m.events={};for(var c in a)switch(c){case "id":case "className":m[c]=
a[c];break;case "onclick":m.events[c]=eventjs.add(m,c.substr(2),a[c]);break;case "title":m.setAttribute("data-title",a[c]);break;case "style":case "symbol":case "image":break;default:m.setAttribute(c,a[c])}e.appendChild(m);g&&(e=new Image,e.src=g,e.width=26,m.appendChild(e));return this.data[a.id]=m}};this.remove=function(a){if(a=this.data[a])delete this.data[e.id],a.parentNode&&a.parentNode.removeChild(a)};this.disable=function(a){if(a=this.data[a])a.classList.add("disabled"),a.events.onclick.remove()};
this.enable=function(a){if(a=this.data[a])a.classList.remove("disabled"),a.events.onclick.add()};return e?this.add(e):this}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.ui=k.ui||{};k.ui.Checkbox=function(e){var d=k.dom,a=k.doc,h=k.doc.toolkit,g=function(a,b){var c=!!e.checked;!1===c&&a>=b?c=!0:!0===c&&a<=-b&&(c=!1);c?y.add("sk-checked"):y.remove("sk-checked");return c},m=e.param,b=e.checked,c=e.onchange,f=k.ui.createElement("div",e),w=d.create("div"),r=d.create("div");w.appendChild(r);f.appendChild(w);var y=f.classList;y.add("sk-checkbox");b&&y.add("sk-checked");eventjs.add(f,"drag",function(b,f){eventjs.cancel(b);var l=f.env;if(f.pointerStart){var p=
d.measure(w),t=d.measure(r);l.width=p.width-t.width;l.offset=e.checked?l.width:0;l.moved=!1;y.add("sk-moving")}p=Math.min(l.width,f.x);t=g(p,5);f.pointerEnd?(r.style.left="",y.remove("sk-moving"),t=g(p,l.moved?5:0),t!==e.checked&&(e.checked=t,c?c.call(e,t):h.setParam({param:m,value:t}),a.saveSettings())):(f.pointerMove&&(l.moved=!0),r.style.left=Math.max(0,p+l.offset)+"px")},{position:"difference"});return f}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.ui=k.ui||{};k.ui.Input=function(e){var d=k.dom,a=k.ui;e=a.ensureInstanceOf(e,k.ui.vars.Input);var h=function(a,c){if(!1===e.setValue(a)||c)g.value=e.value},g=a.createElement("input",e);g.type=e.type;g.value=e.value;if(e.useGhostLayer){var m=d.create("div");m.className="sk-ghost-backdrop open";eventjs.add(g,"focus",function(){d.append(document.body,m)});eventjs.add(g,"blur",function(){d.remove(m)})}eventjs.add(g,"mousedown",eventjs.stop);"number"===e.format?(g.step=e.step,g.min=e.min,
g.max=e.max,eventjs.add(g,"keydown,change",function(a){eventjs.stop(a);var c=e.min,d=e.max,m="any"===e.step?1:e.step,r="number"===g.type;a=a.keyCode;38===a||40===a?r||(r=parseFloat(g.value.replace(/[^0-9]/g,"")),38===a&&(r+=m),40===a&&(r-=m),m=Math.max(c,Math.min(d,r)),h(m,!0)):setTimeout(function(){var a=parseFloat(g.value.replace(/[^0-9]/g,"")),a=Math.max(c,Math.min(d,a));h(a)},1)})):eventjs.add(g,"change",function(){h(this.value)});return g}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.ui=k.ui||{};k.ui.Range=function(a){var h=this,g=a.css,m=a.onchange;h.target=a.target;h.setValue=function(a,b){1===h.thumbs.length&&"undefined"===typeof b&&(b=a,a=0);h.thumbs[a].value=b;h.update(a,"set")};h.target&&(h.target.onchange&&(m=h.target.onchange),h.target.setValue=h.setValue,a.value=h.target.value,a.min=h.target.getAttribute("min"),a.max=h.target.getAttribute("max"),a.step=h.target.getAttribute("step"));h.values=e(a.value,0);h.min=d(a.min,0);h.max=d(a.max,100);h.step=d(a.step,
1);h.thumbs=[];h.format=a.format;!0===a.canCross?(h.canCross=!0,h.canPush=!1):!1===a.canPush?(h.canCross=!1,h.canPush=!1):(h.canCross=!1,h.canPush=!0);var b=document.createElement("div"),c=document.createElement("span");c.className="sk-track";b.appendChild(c);for(var f=0,w=h.values.length,c=0;c<w;c++){var r=document.createElement("div");b.appendChild(r);h.thumbs.push({index:c,element:r,left:0,value:h.values[c]})}if(2===w){var y=document.createElement("div");y.className="sk-range-span";b.appendChild(y);
var u=document.createElement("div");u.className="sk-range-span";u.style.display="none";b.appendChild(u)}h.element=b;h.setup=function(){a.parent&&a.parent.appendChild(b);if(!g&&(a.css=g={},a.className?(g.slider="",g.thumb=""):(g.slider="background: #000 -webkit-radial-gradient(45px 45px, cover, rgb(0, 0, 0) 0%, rgb(255, 255, 255) 100%); border: 1px solid #000; border-radius: 25px; width: 500px; height: 40px; top: 0; position: relative; z-index: 100",g.thumb="background: #fff -webkit-radial-gradient(45px 45px, cover, rgb(0, 100, 255) 0%, rgb(255, 255, 255) 100%); border: 2px solid rgba(0,100,255,1); top: -2px; border-radius: 25px; width: 40px; height: 40px; position: absolute;"),
k.gen&&k.gen.rangeBar&&!k.feature.ui.customRangeBar)){var c=k.gen.rangeBar({gradient:a.gradient,barWidth:b.offsetWidth});g.slider+="\t\t\t\t\tbackground-image: url("+c.toDataURL()+");\t\t\t\t\tbackground-size:"+c.style.width+" "+c.style.height+";"}b.className=a.className;b.style.cssText=g.slider;for(c=0;c<w;c++)h.thumbs[c].element.style.cssText=g.thumb};h.setAnimate=function(a,b){var c=h.thumbs[a].element,d=c.style.left;c.style.cssText=g.thumb;c.style.left=d};h.update=function(a,c){var d=a||0,f=h.thumbs[d],
e=h.values,q=f.element,v=b.offsetWidth||236,r=q.offsetWidth||10,k=r/2;h.state=c||"change";r=v-r;r*=Math.max(0,Math.min(1,(f.value-h.min)/(h.max-h.min)));if(h.canPush){var J=r+k;if(J<f.left)for(var D=f.index-1;-1<D;D--){var B=h.thumbs[D];B.left>J&&(B.element.style.cssText=g.thumb,B.element.style.left=r+"px",B.left=J,B.value=f.value,e[D]=f.value,m(h,B))}else for(D=f.index+1;D<w;D++)B=h.thumbs[D],B.left<J&&(B.element.style.cssText=g.thumb,B.element.style.left=r+"px",B.left=J,B.value=f.value,e[D]=f.value,
m(h,B));f.left=J}else if(h.canCross)f.left=r+k;else{J=r+k;if(J<f.left)for(D=f.index-1;-1<D;D--){if(B=h.thumbs[D],B.left>J){r=B.left-k;J=B.left;B.value=f.value;e[D]=f.value;m(h,B);break}}else for(D=f.index+1;D<w;D++)if(B=h.thumbs[D],B.left<J){r=B.left-k;J=B.left;B.value=f.value;e[D]=f.value;m(h,B);break}f.left=J}e[d]=f.value;q.style.left=Math.round(r)+"px";m(h,f);2===w&&(d=h.thumbs[0].left,f=h.thumbs[1].left,d<=f?(y.style.left=Math.min(d,f)+"px",y.style.width=Math.abs(d-f)+"px",u.style.display="none"):
(y.style.left="0px",y.style.width=f+"px",u.style.left=d+"px",u.style.width=v-d+"px",u.style.display="block"))};h.wheel=function(a,b){var c=h.thumbs[0],d=(c.value-h.min)/(h.max-h.min),d=Math.min(1,Math.max(0,d-b.wheelDelta/5E3));c.value=d*(h.max-h.min)+h.min;h.update(0,b.state)};h.mousedown=function(a,c){for(var d=eventjs.getPointInNode(a,b),g=Infinity,e,d=d.x,q=0;q<w;q++){var v=h.thumbs[q],m=v.left-d,r=Math.abs(m);if(0>m&&r<=g||-1<m&&r<g)g=r,e=v}if(e){var u=e.element,k=e.index;u.style.zIndex=++f;
eventjs.proxy.drag({event:a,target:b,position:"relative",animationFrame:!0,listener:function(a,d){var f=b.offsetWidth;h.setAnimate(k,"move"!==d.state);var g=u.offsetWidth,f=Math.max(0,Math.min(f-g,d.x-g/2))/(f-g);"down"===d.state?(b.classList.add("active"),u.classList.add("active"),eventjs.blur(),eventjs.cancel(a),g="start"):"up"===d.state?(b.classList.remove("active"),u.classList.remove("active"),eventjs.cancel(a),g="end"):(eventjs.cancel(a),g="change");e.value=f*(h.max-h.min)+h.min;h.update(k,g);
c&&c(d)}})}};eventjs.add(b,"mousedown",h.mousedown);h.target&&h.target.parentNode&&(h.target.parentNode.insertBefore(b,h.target),h.target.style.display="none");h.setup();for(c=w-1;-1<c;c--)h.update(c,"load"),h.state="load";return h};var e=function(a){var d=[];if(!a)return[];for("number"===typeof a?a=[a]:"string"===typeof a&&(a=-1!==a.indexOf(",")?a.split(","):a.split(" "));a.length;){var g=parseFloat(a.shift());d.push(g)}return d},d=function(a,d){return"number"===typeof a?a:"NaN"===String(parseFloat(a))?
d:parseFloat(a)}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e={};k.ui=k.ui||{};k.ui.SelectMenu=function(d){if(d){d.id||console.warn("id not defined");var a=this,h=k.dom,g=k.lang,m=k.client,b=k.util,c=k.ui,f=d.id,w=d.container,r=d.options,y=d.selected,u=d.icon,s=d.title,l=d.className,p=d.tooltip,t=d.style||"",x=!1!==d.useBackdrop,q=d.onchange,v=d.onopen,z=d.onclose,C=document.createElement("div");C.className="sk-selectmenu-container";f&&(C.id=f);l&&C.classList.add(l);s&&(C.title=g.translate(s));t&&(C.style.cssText=t);w.appendChild(C);var J=
m.mobile,D=document.createElement(J?"a":"input");D.href="#";D.className="sk-focus-element";C.appendChild(D);var B=document.createElement("div");B.className="sk-selectmenu-header";var E=document.createElement("span");E.className="data-header";B.appendChild(E);u?0===u.indexOf("http")||0===u.indexOf(".")?(d=document.createElement("img"),d.src=u,B.appendChild(d)):(m=document.createElement("span"),m.className=u,B.appendChild(m)):(m=document.createElement("span"),m.className=d.labelIcon||"icon-caret-down",
B.appendChild(m));C.appendChild(B);p&&c.tooltip&&c.tooltip.add(B,function(){return g.translate(a.tooltip)});var A=document.createElement("ul");A.className="sk-selectmenu";var I=document.createElement("div");I.className="icon-caret-down arrow-down arrow";var F=document.createElement("div");F.className="icon-caret-up arrow-up arrow";var G=document.createElement("div");G.className="sk-selectmenu-backdrop";G.appendChild(A);G.appendChild(I);G.appendChild(F);var L=function(c,d){b.foreach(c,function(c,f){var e=
c.name||c,l=d?e:f,q=document.createElement("li");if("~br~"===e)q.className="sk-selectmenu-break";else{var p=document.createElement("span"),t=g.translate(e);X.push(l);R[l]={id:l,idx:f,name:e,translation:t.replace(/(<([^>]+)>)/ig,"").trim(),target:p};e=function(c,d){eventjs.cancel(c);var f=p.querySelector(".sk-selectmenu-option").getAttribute("data-id");250>b.timestamp()-a.openTimestamp||(a.setValue(f),a.close())};J?(eventjs.add(p,"mousedown",eventjs.stop),eventjs.add(p,"click",e)):(eventjs.add(p,"mousedown",
eventjs.cancel),eventjs.add(p,"mouseup",e),eventjs.add(p,"mouseover",function(a){h.setClass({target:this,list:A.querySelectorAll(".sk-selectmenu-item"),className:"sk-hovered"})}));e=document.createElement("span");e.className="sk-selectmenu-option";e.innerHTML=t;e.setAttribute("data-id",l);p.className="sk-selectmenu-item";l===a.selected&&p.classList.add("sk-selected");p.appendChild(e);q.appendChild(p)}A.appendChild(q)})},K=function(a,b){var c=window.innerWidth,d=a.width,f=Math.max(d,b.width),g=b.x1,
c=c-b.x2,e=Math.max(g,c);A.style.minWidth=d+"px";c>=f?A.style.left=a.x1+a.margin[0]+"px":g>=f?A.style.left=a.x2-f-a.margin[0]+"px":(A.style.width=e+"px",A.style.left=g>c?"0px":a.x1+"px");f=window.innerHeight;d=b.height;g=a.y1;c=f-a.y2;e=Math.max(g,c);c>=d?A.style.top=a.y2+"px":g>=d?A.style.top=a.y1-d+"px":(A.style.height=e+"px",A.style.top=g>c?"0px":a.y2+"px")},N=function(){if(a.selectedElement){var b=eventjs.getBBox(a.selectedElement),c=eventjs.getBBox(A),d=c.height-b.height,b=b.y1-c.y1;0>b?A.scrollTop+=
b-12:b>d&&(A.scrollTop+=b-d+12)}};a.isOpen=function(){return A.classList.contains("open")};a.open=function(){if(!a.isOpen()){clearTimeout(a.close.timeout);A.style.display="block";var b=A.querySelector(".sk-hovered");b&&b.classList.remove("sk-hovered");x?(document.body.appendChild(G),G.style.zIndex=999999):(document.body.appendChild(A),A.style.zIndex=999999);b=h.measure(B);A.style.top=b.y1+b.height+"px";"left"!==k.feature.pane.projects&&(A.style.left=b.x1+b.margin[3]+"px");A.style.height="";A.style.width=
"";setTimeout(function(){x?G.classList.add("open"):A.classList.add("open")},1);var c=h.measure(A);K(b,c);J||(c=h.measure(A),H(F,c,c.y1+2,"paddingTop"),H(I,c,c.y2-12,"paddingBottom"));N();T();v&&v()}};var H=function(a,b,c,d){A.offsetHeight<A.scrollHeight?(a.style.display="block",a.style.height="12px",a.style.width=b.width+"px",a.style.top=c+"px",a.style.left=b.x1+"px",A.style[d]="12px"):(a.style.display="none",A.style[d]="")};a.close=function(b,c){e[b||a.id].input.blur();setTimeout(function(){x?G.classList.remove("open"):
A.classList.remove("open");a.close.timeout=setTimeout(function(){A.style.position="";A.style.left="";A.style.top="";A.style.display="none";x?G.parentNode&&G.parentNode.removeChild(G):A.parentNode&&A.parentNode.removeChild(A)},250)},100);z&&z()};a.setValue=function(b,c){b=String(b);if(c||a.selected!==b){var d=R[b];d&&(d=d.target,a.selectedElement=d,a.selected=b,N(),U(),h.setClass({target:d,list:A.querySelectorAll(".sk-selectmenu-item"),className:"sk-selected"}),!0!==c&&q&&q(b))}};d=function(b){a.openTimestamp=
null;a.close(null,!0)};var Q=function(c){var d=b.timestamp();50>d-a.openTimestamp||(a.openTimestamp=d,eventjs.cancel(c),a.isOpen()?a.close():(D.focus(),a.open()))},m=function(c){var d=c.keyCode;if(27===d||13===d)eventjs.stop(c),D.blur(),a.close();else if(c=0,40===d&&c++,38===d&&c--,c){var d=c,f=a.selected;c=X.length-1;f=X.indexOf(f);f=b.clamp(0,c,f+d);f=X[f];a.setValue(f)}else P(d)},T=function(){0===A.scrollTop?F.classList.remove("active"):F.classList.add("active");A.scrollTop+A.offsetHeight===A.scrollHeight?
I.classList.remove("active"):I.classList.add("active")},P=function(b){if(8===b)D.value="";else{var c,d=0;setTimeout(function(){var b=D.value.toLowerCase();if(b[0]){clearTimeout(D.timeout);D.timeout=setTimeout(function(){D.value=""},1E3);var f=function(a,b){for(var c=0;c<a.length&&b[c]===a[c];c++);return c},g;for(g in R){var e=R[g],l=e.translation.toLowerCase();(l=f(l,b))&&l>d&&(c=e.id,d=l)}c&&a.setValue(c)}},0)}};c.scrollable(A);eventjs.add(D,"blur",d);eventjs.add(G,"mousedown",eventjs.cancel);eventjs.add(G,
"click",d);J?eventjs.add(B,"click",Q):(eventjs.add(D,"keydown,keypress",m),eventjs.add(F,"hover",function(a,b){A.scrollTop+=-25}),eventjs.add(I,"hover",function(a,b){A.scrollTop+=25}),eventjs.add(A,"scroll",T),eventjs.add(B,"drag",function(b,c){"down"===c.state?Q(b):"up"===c.state&&15<c.distanceMoved()&&a.close()}));var R,X;e[f]=a;a.container=C;a.input=D;a.ul=A;a.id=f;a.options=r;a.selected=y;a.tooltip=p;a.rebuild=function(){W()};var W=function(){h.empty(A);R={};X=[];if(Array.isArray(a.options))L(a.options,
!0);else{var b,c;for(c in a.options)"string"!==typeof a.options[c]&&(b=document.createElement("span"),b.innerHTML=g.translate(c),b.className="optgroup",A.appendChild(b),L(a.options[c]));b||L(a.options)}U()},U=function(){if(void 0===u){var b=R[a.selected];b&&(E.innerHTML=g.translate(b.name))}};W();return a}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.UICursor=function(e,d){var a=e.client,h=e.feature,g=e.ui,m=e.util,b=e.vector,c=m.Canvas(),f=c.ctx,w,r=function(a){return(c.style.cursor=a)===c.style.cursor.split('"').join("")},k=e.ui.media.transparent.css,u=r(k+", auto"),s=!a.safari;s&&(s=r("-webkit-image-set("+k+" 2x), auto"));var l={n:360,ne:45,e:90,se:135,s:180,sw:225,w:270,nw:315},p={ns:360,nesw:45,ew:90,nwse:135},t=Object.keys(l),x=Object.keys(p),q={};b.SVGPath&&(q.resize=b.SVGPath.toVOBPath("M14.3,8.5 9.7,2.2 5.1,8.5 8.3,8.5 8.3,17.3 11.1,17.3 11.1,8.5z"),
q.rotate=b.SVGPath.toVOBPath("M16.6,8.5l-1.4-1.4c-2.9-2.9-7.6-2.9-10.5,0L3.3,8.4L1.5,6.6l-0.9,6.3l6.4-1l-1.8-1.8l1.3-1.3c1.9-1.9,5-1.9,6.9,0l1.4,1.4L13,12.1l6.4,1l-1-6.4C18.4,6.7,16.6,8.5,16.6,8.5z"));g.setCursor=function(g,e){if(!a.mobile){g=g||"";var r,k;if(g.indexOf&&-1!==g.indexOf("-")){var y=g.split(", ")[0].split("-");k=y[0];r=y[1]}var y=d.contexts.active,B,E;l[k]?(B=l[k],E=t):p[k]&&(B=p[k],E=x);if(B&&(e=e||d.scene.getFocused())){var A=e.bbox,I=A.scale;B=A.rotate+b.Degree.flip(B,I.x,I.y);A=
Math.round((B+3600)%360/45);g=g.replace(k,E[A%E.length]);k=g+(B-B%10>>0);w!==k&&(w=k,u&&q[r]&&h.ui.dynamicCursor&&(k=s&&a._pixelRatio||1,E=(c.width=c.height=20*k)/2,f.translate(E,E),f.rotate(B*m.DEG_RAD),f.translate(-E,-E),f.scale(k,k),b.Shape.VOBPath(f,q[r]),f.shadowBlur=3,f.shadowOffsetX=0,f.shadowOffsetY=1,f.shadowColor="#000",f.lineWidth=2,f.strokeStyle="#fff",f.stroke(),f.shadowBlur=null,f.fillStyle="#000",f.fill(),r=c.toDataURL(),g=s&&2===k?"-webkit-image-set(url("+r+") 2x) 10 10, "+g:"url("+
r+") 10 10, "+g),y.style.cursor=g)}else g||(r=d.tool,k=h.ui.cursors,g=k[r.type]?k[r.type]:""),w!==g&&(w=g,y.style.cursor=g)}}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Keyboard=function(e,d){var a=this,h=e.dom,g=e.feature,m=e.client,b=d.toolkit,m=e.client,c=e.ui,f=e.util;a.pressed={};a.keydown=function(a){eventjs.keyTracker(a);var l=f.isEditingText(),p=eventjs.altKey,t=a.keyCode,x=eventjs.metaKey,q=eventjs.shiftKey;switch(t){case 75:if(x&&q&&m.nodewebkit){var v=require("nw.gui").Window.get();v.isKioskMode?require("nw.gui").App.quit():v.enterKioskMode()}break;case 219:if(x)return p?e.exec("layer-to-back"):e.exec("layer-backwards"),
w(a);break;case 221:if(x)return p?e.exec("layer-to-front"):e.exec("layer-forwards"),w(a);break;case 80:if(x)return e.print(),w(a);break;case 83:if(x)return p?e.download.image():q&&b.screenshot?e.exec("screenshot"):e.save.fromQuery(),w(a);break;case 27:if(f.eventOverride("onEscapeKey",a))return;e.windows.hasFocus&&e.windows.hasFocus()?e.windows.closeFocused():(d.scene.deselectAll(),d.render.scene("escape"));k("escapeKey",a);return w(a)}if(!l&&"eyeDropper"!==c.colorPicker.state&&!f.eventOverride(eventjs.getKeyID(a),
a)){switch(t){case 48:if(q&&g.zoom){if(l&&!x)break;e.exec("zoom-reset");return w(a)}break;case 173:case 189:if(q&&g.zoom){if(l&&!x)break;e.exec("zoom-out");return w(a)}break;case 61:case 187:if(q&&g.zoom){if(l&&!x)break;e.exec("zoom-in");return w(a)}break;case 188:if(u("configure"))return w(a);break;case 68:if(u("download"))return w(a);break;case 78:if(u("document-new"))return w(a);break;case 79:if(x&&m.chooseEntry)return e.open.chooseEntry(function(a){d.addMedia({openAsNew:!0,blob:a})}),w(a);if(u("document-open"))return w(a);
break;case 80:if(u("print"))return w(a);break;case 83:if(u("share"))return w(a);break;case 32:d.orient?(a.preventDefault(),"zoom"!==d.tool.type&&(e.ptool=d.tool.type,e.exec("zoom"))):f.toggleVideo&&f.toggleVideo();return;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(g.hotkeys)switch(a=g.hotkeys[t-49],a){case "brush":case "shape":if((l=h.$(".sketch-select-"+a))&&l.id)return e.exec(l.id.replace("tool-",""));default:return e.exec(a)}return;case 191:if(q)return e.exec("help");
return;case 46:case 8:eventjs.cancel(a);e.exec("layer-delete");k("deleteKey",a);return;case 13:document.activeElement===document.body&&eventjs.cancel(a);h.$("#alertify-ok")&&h.$("#alertify-ok").click();k("enterKey",a);return;case 18:if(g.ui.quickSelect&&b.select){if(x)break;if(!g.vector.edit)return;d.tool!==b.select&&(e.ptool=d.tool.type,e.exec("select"))}return;case 65:x&&(eventjs.cancel(a),q?e.exec("select-inverse"):e.exec("select-all"));return;case 67:q?e.exec("color-picker"):x&&(eventjs.cancel(a),
e.exec("layer-copy"));return;case 73:e.exec("debug-action");return;case 86:!x||r()||d.__rendering||(eventjs.cancel(a),e.exec("layer-paste","select"!==d.tool.type));return;case 88:x&&(eventjs.cancel(a),e.exec("layer-cut"));return;case 90:if(x&&(eventjs.cancel(a),!d.__rendering))if(q)if(f.eventOverride("onRedo",a))break;else e.exec("redo");else if(f.eventOverride("onUndo",a))break;else e.exec("undo");return;case 37:if(f.eventOverride("onLeftKey",a))return;if(e.on.leftKey)e.on.leftKey(a);else if(d.selection.length){eventjs.altKey?
e.exec("layer-clone-left",1):e.exec("layer-move-left",1);eventjs.cancel(a);break}else if(f.changeVideoFilter&&e.rtc.videos.you){f.changeVideoFilter(-1);break}else q&&e.sidebar&&e.sidebar.close&&e.sidebar.close();break;case 39:if(f.eventOverride("onRightKey",a))return;if(e.on.rightKey)e.on.rightKey(a);else if(d.selection.length){eventjs.altKey?e.exec("layer-clone-right",1):e.exec("layer-move-right",1);eventjs.cancel(a);break}else if(f.changeVideoFilter&&e.rtc.videos.you){f.changeVideoFilter(1);break}else q&&
e.sidebar&&e.sidebar.open&&e.sidebar.open();break;case 38:if(f.eventOverride("onUpKey",a))return;e.on.upKey?e.on.upKey(a):p&&d.pages&&d.pages.length?(d.setPage(-1,"useRelative"),eventjs.cancel(a)):d.selection.length&&(eventjs.altKey?e.exec("layer-clone-up",1):e.exec("layer-move-up",1),eventjs.cancel(a));break;case 40:if(f.eventOverride("onDownKey",a))return;e.on.downKey?e.on.downKey(a):p&&d.pages&&d.pages.length?(d.setPage(1,"useRelative"),eventjs.cancel(a)):d.selection.length&&(eventjs.altKey?e.exec("layer-clone-down",
1):e.exec("layer-move-down",1),eventjs.cancel(a));break;default:return}w(a,!1)}};a.keyup=function(c){eventjs.keyTracker(c);var l=eventjs.metaKey,h=c.keyCode;if(!e.util.isEditingText()&&(a.pressed[h]=!1,l&&e.ptool&&(d.scene.deselectAll(),e.exec(e.ptool),delete e.ptool),!f.eventOverride(eventjs.getKeyID(c),c)))switch(h){case 18:if(g.ui.quickSelect&&b.select){if(!e.ptool||!g.vector.edit)break;e.exec(e.ptool);delete e.ptool}break;case 32:d.orient&&e.exec(e.ptool);break;case 37:case 38:case 39:case 40:d.selection.translate(0,
0,{method:"record"})}};var w=function(b,c){d.scene.setDirtyControl();a.pressed[b.keyCode]=!0;!1!==c&&eventjs.cancel(b)},r=function(){return!1===m.clipboard?!1:m.safari?!1:eventjs.getEventSupport(d.focusElement,"paste")?!!(d.scene&&d.scene.paste&&d.addMedia):!1};(function(){var b={};a.enable=function(){if(m.clipboard=r())d.focusEditable!==d.focusElement&&(b.onPasteEditable=eventjs.add(d.focusEditable,"paste",d.scene.onPasteNative)),b.onPaste=eventjs.add(d.focusElement,"paste",d.scene.onPasteNative)};
a.disable=function(){eventjs.removeEvents(b)}})();var k=function(a,b){if(e.on[a])e.on[a](b)},u=function(a){if(eventjs.shiftKey&&e.fs.supported&&c.setPane)return e.sidebar.open(),c.setPane(a),!0}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Convert=function(a){var h=this,g=a.dom,m=a.util||(a.util={});a.io||(a.io={});h.fileToImage=function(b,c,f){if(!b)return console.warn("fileToImage",arguments);var g=b.src||b;c=c||b.onload||e;f=f||b.onerror||d;var h=a.util.loadImage({src:g,onerror:f,onload:function(){c(h)}})};h.fileToCanvas=function(a,c,f){if(!a)return console.warn("fileToCanvas",arguments);var g=a.src||a,m=a.canvas;c=c||a.onload||e;f=f||a.onerror||d;h.fileToImage(g,function(a){c(h.imageToCanvas(a,
m))},f)};h.fileToPattern=function(a,c,f){if(!a)return console.warn("fileToPattern",arguments);var g=a.src||a;c=c||a.onload||e;f=f||a.onerror||d;h.fileToCanvas(g,function(a){var b=h.imageToPattern(a);b.canvas=a;c(b)},f)};h.htmlToCanvas=function(a,c,f){if(!a)return console.warn("htmlToCanvas",arguments);if("undefined"===typeof html2canvas)return console.warn("html2canvas undefined");var h=a.html||a;c=c||a.onload||e;f=f||a.onerror||d;var m=g.$("#sk-htmlToCanvas")||g.append(document.body,'<div id="sk-htmlToCanvas" style="position:fixed;top:0;left:0;display:none"></div>');
m.style.display="block";m.innerHTML=h;html2canvas(m,{onerror:f,onrendered:function(a){c(a);m.style.display="none"}})};h.imageToCanvas=function(b,c){if(!b)return console.warn("imageToCanvas",arguments);c?(c.ctx=c.ctx||c.getContext("2d"),c.width=b.width,c.height=b.height):c=m.Canvas(b.width,b.height);a.client.ios&&window.MegaPixImage?(new MegaPixImage(b)).render(c,{maxWidth:1E3,maxHeight:1E3}):c.ctx.drawImage(b,0,0);return c};h.imageToPattern=function(a,c){if(!a)return console.warn("imageToPattern",
arguments);c=h.imageToCanvas(a,c);return c.ctx.createPattern(a,"repeat")};h.blobToText=function(a,c,f){if(!a)return console.warn("blobToText",arguments);var g=a.blob||a;c=c||a.onload||e;f=f||a.onerror||d;var h=new FileReader;h.onerror=f;h.onload=function(a){c(a.target.result)};h.readAsText(g)};h.blobToArrayBuffer=function(a,c){var d=a.slice(0,a.size),g=new FileReader;g.onload=function(a){c(new function(a,b){var c=0;this.buffer=a;this.dataView=b=b||new DataView(a);this.readInt8=function(){if(!(c+1>
a.byteLength))return b.getUint8(c++-1,!1)};this.readInt16=function(){if(!(c+2>a.byteLength))return b.getUint16((c+=2)-2,!1)};this.readInt32=function(){if(!(c+4>a.byteLength))return b.getUint32((c+=4)-4,!1)};this.readString32=function(a){a=this.readInt32();for(var d=0,f="";d<a;d++)f+=String.fromCharCode(b.getUint16(c,!1)),c+=2;return f};this.seekString=function(d){for(var f="",g=a.byteLength,e=0;f!==d&&c<g;){++e;var h=String.fromCharCode(b.getUint8(c,!1));c++;if(d[f.length]===h){if(f+=h,f===d)return e}else f=
""}}}(g.result))};g.readAsArrayBuffer(d)};return h};var e=function(){console.log("onload",arguments)},d=function(){console.warn("onerror",arguments)};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Convert)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Download=function(e){var d=this,a=e.dom,h=e.util,g=e.lang;d.blob=function(a,b){var d=e.doc;a=a||new Blob(["hello world"]);b=b||d.title+".txt";d=e.client.io.blob;e.client.chooseEntry?chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:b},function(b){b.createWriter(function(b){b.write(a)},function(a){console.log(a)})}):d?(d=URL.createObjectURL(a),saveAs(a,b)):(d=URL.createObjectURL(a),c.download(d,b))};d.object=function(a,b,c){a=JSON.stringify(a,
null,h.json.filterCircular);d.text(a,b,c)};d.text=function(a,b,g){var h=e.doc;b=b||h.title+".txt";g=g||"text/plain";e.client.io.blob?d.blob(new Blob([a],{type:g}),b):(a="data:"+g+";base64,"+btoa(a),c.download(a,b))};d.canvas=function(a,b,g,k){c.isReady()&&(a=a||h.Canvas(),g=g||"image/png",k=k||1,b=m(b,g),h.exists("canvas2ImagePlugin.saveImageDataToLibrary")?canvas2ImagePlugin.saveImageDataToLibrary(function(a){alertify.alert("Image successfully saved to your Photo Gallery.")},function(a){alertify.alert("There was an error saving your image.")},
a):e.client.io.blob?a.toBlob(function(a){d.blob(a,b)},g,k):(a=a.toDataURL(g,k),c.download(a,b)))};var m=function(a,b){var c=e.doc,d=b.split("/").pop(),c=a||c.title||"sketch";return-1===c.indexOf(d)?c+"."+d:c};d.sketch=d.zip=function(a){if(c.isReady()){var b=e.doc;e.save.zip(function(c){var g=a||b.title;a=-1===g.indexOf(".sketchpad")?g+".sketchpad":g;d.blob(c,a)})}};d.svg=function(a,b){if(c.isReady()){var g=e.doc;opts=opts||{};"object"===typeof a&&(opts=a,a=g.title);opts.onsave=function(b,c){var e=
a||g.title;a=-1===e.indexOf(".svg")?e+".svg":e;d.text(b,a,"image/svg+xml")};e.save.svg(opts)}};d.json=function(a,b){if(c.isReady()){var g=e.doc;b=b||{};"object"===typeof a&&(b=a,a=g.title);b.onsave=function(b){var c=a||g.title;b=JSON.stringify(b,h.json.filterCircular);a=-1===c.indexOf(".json")?c+".json":c;d.text(b,a,"application/json")};e.save.json(b)}};d.image=function(a,g,h,m,k,s,l,p){c.onReady(function(c){var x=b(a,g,h,m,k,s,l,p);e.save.canvas(x,function(a){72===x.dpi?d.canvas(a,x.filename,x.mime,
x.quality):d.canvasDPI(a,x.filename,x.mime,x.quality)})})};(function(){d.canvasDPI=function(b,c,g,h,t){g=g||"image/png";h=h||1;c=m(c,g);b.toBlob(function(b){e.convert.blobToArrayBuffer(b,function(e){e=a[g](b,e,t);d.blob(e,c)})},g,h)};var a={"image/jpeg":function(a,b,c){b=b.dataView;b.setUint8(13,1);b.setUint16(14,c);b.setUint16(16,c);return new Blob([b],{type:"image/jpeg"})},"image/png":function(a,c,d){d=b(d/72*2834.6472);d=[112,72,89,115].concat(d).concat(d).concat(1);d=b(d.length-4).concat(d).concat(g(d));
var f=c.seekString("IDATx")-5-4;c=a.slice(0,f);a=a.slice(f,a.size);return new Blob([c,new Uint8Array(d),a],{type:"image/png"})}},b=function(a){return[a>>24&255,a>>16&255,a>>8&255,a&255]},c=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,
4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,
141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,
1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,
1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,
1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],g=function(a,d){d=(d|0)^4294967295;for(var f=0,g=a.length;f<g;f++)d=d>>>8^c[(d^a[f])&255];return b(d^
4294967295)}})();d.pdf=function(a,m,r,k,u,s,l,p){var t=e.doc;e.loader&&e.loader.create("thread",g.translate("reading-files")+"...");c.onReady(function(c){var g=b(a,m,r,k,u,s,l,p);e.io.pdf.save(h.copyInto({onprogress:function(a){e.loader&&e.loader.create("thread",null,a)},onsuccess:function(a){d.blob(a,(g.filename||t.title)+".pdf")},onerror:function(){console.warn("error saving pdf")}},g))})};var b=function(a,b,c,d,g,h,l,p){var t=e.doc,m=typeof a,q="object"===m?a:{},v=function(a,b,c){typeof q[a]!==
b&&(q[a]=c)},k=function(a,b,c){if("function"===typeof c)if(q.callback){var d=q.callback;q.callback=function(){d();c()}}else q.callback=c;if(typeof c===b)return q[a]=c,!0};"number"===m||"undefined"===m?(k("x","number",a),k("y","number",b),k("width","number",c),k("height","number",d),k("mime","string",g),k("quality","number",h),k("dpi","number",l),k("callback","function",p)):"string"===m?(k("mime","string",a),k("quality","number",b),k("callback","function",c)):"function"===m&&k("callback","function",
a);a=t.getBounds();a.width&&v("width","number",a.width);a.height&&v("height","number",a.height);g=q.mime=q.mime||q.format||"image/jpeg";0!==g.indexOf("image/")&&(g=q.mime="image/"+g);"image/jpeg"===g&&(q.background=q.background||"#fff");v("mime","string","image/png");v("quality","number",1);v("dpi","number",t.dpi);return q},c=new function(){var b="undefined"===typeof document?!1:"download"in document.createElement("a");this.lapse=1E3;this.getElement=function(){var b=this.element||a.$("#sk-download-element");
if(b)return b;this.element=document.createElement("a");this.element.id="download";this.element.target="_blank";this.element.style.display="none";this.element.timestamp=h.timestamp()-this.lapse;document.body.appendChild(this.element);return this.element};this.isReady=function(a){var b=this.getElement(),c=h.timestamp();if(c-b.timestamp>=this.lapse)return a?!0:b.timestamp=c};this.onReady=function(a){var b=this.getElement();if(this.isReady(!0))return a(b),b};this.download=function(a,d){if(b){var g=c.getElement();
g.download=d;g.href=a;g.click()}else window.open().document.write("<title>"+d+'</title><img src="'+a+'"/>')}};return d};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Download)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Open=function(e){var d=this,a=e.convert,h=e.io,g=e.lang,m=e.util.string,b=e.util;d.folder=function(c){var f=c.entries,h=c.onerror,r=c.onsuccess,k=c.onprogress;e.loader&&e.loader.create("thread",g.translate("reading-files")+"...");var u,s=b.Queue({items:f,instant:!1,oncomplete:function(){u?d.json(u,r,k):(e.loader&&e.loader.create("thread",null,100),h&&h())},next:function(b,c,d){c=(d+1)/f.length*100>>0;e.loader&&e.loader.create("thread",null,Math.max(0,c-
1));if(c=b.name)switch(c){case "README.txt":s.next();break;case "sketch.json":a.blobToText(b,function(a){u=a;s.next()});break;default:"asset-"===c.substr(0,6)?e.assets.add({blob:b,onerror:s.next,onload:s.next,targetId:"#"+m.filenameSansExtension(c)}):s.next()}else return s.next()}})};d.chooseEntry=function(c,d){if(b.exists("navigator.camera.getPicture"))navigator.camera.getPicture(function(b){a.fileToCanvas(b,function(a){a.toBlob(function(a){a.path=b;a.name=m.filename(b);c(a);navigator.camera.cleanup()})})},
d,{destinationType:Camera.DestinationType.NATIVE_URI,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,targetWidth:640,targetHeight:480,saveToPhotoAlbum:!1});else return b.exists("chrome.fileSystem.chooseEntry")?(chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{extensions:e.uploader.formats}]},function(a){a&&a.file(function(a){c(a)})}),!0):!1};d.svg=d.clipart=d.image=function(a){var d=e.doc;"string"===typeof a&&(a={src:a});var g=a.callback||a.onload,h=a.onprogress,m=a.onerror,
k=a.src||"",s=function(b){if(a.openAsNew){e.exec("reset");var l=b.width;b=b.height;d.setSize(l,b);d.scene.add({centerOnPoint:!0,type:"image",src:k,width:l,height:b,x:l/2,y:b/2},function(){d.setTool("select");d.scene.deselectAll();d.orient.reset();d.orient.render();g&&g()},onerror)}else d.addMedia(a)};if(a.blob)e.assets.add(a.blob,function(a,b){s(b)},m,h);else if(-1!==k.indexOf("filesystem:")){var l=new Image;l.src=k;l.onprogress=h;l.onerror=m;l.onload=function(){var a=b.Canvas(this.width,this.height);
a.ctx.drawImage(this,0,0);s(a)}}else e.assets.add(k,function(a,b){s(b)},m,h)};d.fromQuery=function(a,b,g){var m=e.doc,k=e.feature;a=a||e.loc.search;"string"===typeof a&&(a=e.loc.getQuery(a,"sk"));a.file&&e.lib.template.byId[a.file]?e.lib.template.open(a.file,b,g):a.file&&"new"===a.file?(m.orient.reset(),b()):a.folder?(h.json.folder=a.folder,d.json({data:a.folder+"sketch.json",onsuccess:b,onerror:g})):a.image?d.image({src:a.image,openAsNew:!0,onload:b,onerror:g}):a.json?d.json({data:a.json,onsuccess:b,
onerror:g}):k.stream.sketch?e.peer.connectRoom(b,g):e.fs.supported?e.fs.openDefaultProject(b,g):e.server.open?e.server.open(b,g):b&&b()};e.server&&(d.remote=e.server.open);h.zip&&(d.sketch=h.zip.open);h.svg&&(d.svg=h.svg.open);h.pdf&&(d.pdf=h.pdf.open);h.json&&(d.json=h.json.open);return d};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Open)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Print=function(e){var d=e.dom;return function(a){a=a||{};var h=function(g){var e=72/(a.dpi||72),b=e*g.width+"px",e=e*g.height+"px";g.style.width=b;g.style.height=e;var c;(c=d.$("#sk-printable"))||(c=d.append(document.body,'<div id="sk-printable"></div>'));c.style.width=b;c.style.height=e;c.innerHTML="";c.appendChild(g);window.print()};"CANVAS"===a.nodeName?h(a):e.save.canvas(a,h)}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Print)})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Save=function(e){var d=this,a=e.feature,h=e.io,g=e.util;d.console=function(a){d.canvas(a,e.log)};d.toDataURL=function(a,b){var c=k(arguments);a=c.opts;b=c.onsuccess;var g=f(a),e=a.quality||1;d.canvas(a,function(a){b(a.toDataURL(g,e))})};d.toBlob=function(){var a=k(arguments),b=a.opts,c=a.onsuccess,g=f(b),e=b.quality||1;d.canvas(b,function(a){a.toBlob(function(a){c(a)},g,e)})};d.toBlobURL=function(){var a=k(arguments),b=a.onsuccess;d.toBlob(a.opts,function(a){b(URL.createObjectURL(a))})};
d.canvas=function(){var b=e.doc,c=b.canvas2d,f=b.render,h=k(arguments),l=h.opts,p=h.onsuccess;d.perf=e.perf();var t=b.pixelRatio,h=72*t,x=b.getBounds(),q=x.width,v=x.height,z=0,C=0;if(l.crop)var J=function(a){g.thumbnailer({src:a,width:l.width||x.width,height:l.height||x.height,background:l.background,center:l.center,croparea:l.croparea,crop:l.crop,onload:p})};else q=isFinite(l.width)?l.width:q,v=isFinite(l.height)?l.height:v,z=isFinite(l.x)?l.x:0,C=isFinite(l.y)?l.y:0,J=function(a){p&&p(a)};var D=
isFinite(l.dpi)?l.dpi:h,B=D/72,E=l.scale||1;1!==E&&(D*=E,B=D/72);var h=isFinite(l.highRes)?l.highRes:f.highRes||D!==h,D=l.useVisibleRegion||!1,A=(E=l.useSelection||!1)||l.useBBox||!isFinite(z+C+q+v),I=l.usePixelBBox,F=l.background||void 0;"transparent"!==b.background&&("default"===F?F=b.backgroundRaw:a.canvas.useBGSave&&!F&&(F=b.backgroundRaw));I&&e.raster.getPixelBBox?(A=e.raster.getPixelBBox(b.contexts.layer0.ctx),z=A.x/t>>0,C=A.y/t>>0,q=A.width/t>>0,v=A.height/t>>0):A&&b.scene?(A=b.scene.getBoundingBox(l),
z=A.x*B>>0,C=A.y*B>>0,q=A.width*B>>0,v=A.height*B>>0):(z-=b.scrollLeft,C-=b.scrollTop,q*=B,v*=B);q=Math.ceil(q);v=Math.ceil(v);D&&(q=Math.min(q,c.width),v=Math.min(v,c.height),z=Math.max(z,0),C=Math.max(C,0));if(e.getSnapshot)return e.getSnapshot(J,q,v);if(b.scene){var G=c.width,L=c.height,K=c.x,N=c.y,H=b.zoom,Q=f.highRes,T=b.contexts.layer0,P=T.width,R=T.height;q!==T.width&&(T.width=q);v!==T.height&&(T.height=v);b.pixelRatio=B;b.zoom=1;c.width=q;c.height=v;c.x=(-z-b.x)*B;c.y=(-C-b.y)*B;f.clipped=
!1;f.highRes=h;f.selection=E&&b.selection.items;b.scene.deselectAll();f.now(function(){f.clipped=!1;f.selection=!1;f.highRes=Q;c.width=G;c.height=L;c.x=K;c.y=N;b.zoom=H;b.pixelRatio=t;var a=m(z,C,q,v,B,F);P!==T.width&&(T.width=P);R!==T.height&&(T.height=R);b.render.scene("save.canvas");J(a)})}else J(m(z,C,q,v,B,F))};var m=function(a,c,d,f,l,h){var t=e.doc,m=g.Canvas(d,f),q=m.ctx;h&&"none"!==h&&"transparent"!==h&&(q.save(),q.scale(l,l),q.fillStyle=h,q.translate(-Math.abs(a%d),-Math.abs(c%f)),q.fillRect(0,
0,2*d,2*f),q.restore());a=t.contexts;for(var v in a)b[v]||q.drawImage(a[v],0,0,d,f);return m},b={cache:!0,active:!0,draw:!0};h&&h.json?(d.json=h.json.save,d.assets=h.json.assets):d.json=d.assets=function(){console.warn("IO.JSON support not included.")};d.toServer=e.server&&e.server.save?e.server.save:function(){console.warn("IO.Server support not included.")};d.toFS=e.fs.saveProject?e.fs.saveProject:function(){console.warn("IO.FileSystem support not included.")};d.svg=h&&h.svg?h.svg.save:function(){console.warn("IO.SVG support not included.")};
d.pdf=h&&h.pdf?h.pdf.save:function(){console.warn("IO.PDF support not included.")};d.zip=function(a,b){"function"===typeof opts&&(opts={onsuccess:opts});"object"!==typeof opts&&(opts={});opts=opts||{};a=opts.onsuccess||g.errorHandler("onsuccess");d.folder({embedHistory:opts.embedHistory,onsuccess:function(c){h.zip.encode(c,function(b){a(b)},b)}})};d.folder=function(a){"function"===typeof a&&(a={onsuccess:a});"object"!==typeof a&&(a={});a=a||{};var b=a.onsuccess||g.errorHandler("onsuccess"),f=a.embedHistory;
d.assets(function(a){d.json({embedHistory:f,onsuccess:function(d){var f=[],g;for(g in a){var e=c[a[g].type];f.push({filename:g.substr(1)+"."+e,blob:a[g]})}f.push({filename:"sketch.json",blob:new Blob([d],{type:"application/json"})});b(f)}})})};d.sync=function(a){"object"!==typeof a&&(a={});a=a||{};var b=a.onprogress,c=a.onsuccess||g.errorHandler("onsuccess");a=a.sync||{};if(!g.count(a))return c();var f=0,l;for(l in a)a[l]&&(!0===a[l]&&(a[l]={}),f++);var h=f,t=function(a){b&&b((h-(f-1))/h*100);--f||
c&&c(q)},m,q={};for(l in a)if(m=a[l])switch(l){case "metadata":(function(a){for(var b in a)q[b]=a[b]})(m);t("metadata");break;case "folder":d.folder(g.copyInto(m,{onsuccess:function(a){q.folder=a;t("folder")}}));break;case "zip":d.zip(g.copyInto(m,{onsuccess:function(a){q.sketch=a;t("zip")}}));break;case "svg":d.svg(g.copyInto(m,{onsuccess:function(a,b){q.svg=b;t("svg")}}));break;case "json":d.json(g.copyInto(m,{onsuccess:function(a){q.json=a;t("json")}}));break;case "thumb":m.background=e.doc.backgroundRaw,
m.suffix=m.suffix||"thumb";case "image":var v=m.format||"png";m.idx=m.suffix?m.suffix+"."+v:v;(function(a){a.toBlob?d.toBlob(a,function(b){q[a.idx]=b;t("image")}):d.toDataURL(a,function(b){q[a.idx]=b;t("image")})})(m);break;default:t()}};d.confirm=function(a){a=a||{};var b=a.onrequestsave,c=a.oncontinue,d=a.oncancel;a=function(){e.ui.confirm({message:"change-doc-confirm",callback:function(a){!0===a?b&&b():-1===a?c&&c():d&&d()},labels:{ok:"save",cancel:"cancel",disregard:"dontSave"}})};e.doc.needsSync()?
a():c&&c()};d.chooseEntry=function(a,b,c){return e.client.nodewebkit?(b=e.dom.create('<input id="export_file" type="file" nwsaveas />'),b.addEventListener("change",function(b){console.log(this.value);require("fs").writeFile(this.value,a,function(a){a&&alert("error"+a)})},!1),b.click(),!0):g.exists("chrome.fileSystem.chooseEntry")?(chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:"blah.image"},function(a){a.createWriter(function(a){a.onwriteend=function(b){a.onwriteend=null;a.truncate(content.size)};
a.onerror=function(a){console.log("Write failed: "+a.toString())};a.write(blob)},errorHandler)}),!0):!1};d.fromQuery=function(b,c,d){!a.sync.enabled||e.client.nodewebkit||e.client.incognito?e.download.image():e.on.requestsave?e.on.requestsave({onsuccess:b,onerror:c,onprogress:d}):e.fs.supported?e.fs.saveProject({onsuccess:b,onerror:c,onprogress:d}):e.server.save({onsave:b,onerror:c,onprogress:d})};var c={"image/png":"png","image/gif":"gif","image/jpeg":"jpeg","image/svg+xml":"svg"},f=function(a){return a.mime?
a.mime:a.format?"image/"+a.format:"image/png"},k=function(a){var b=a[0]||{};return"function"===typeof b?{opts:{},onsuccess:b,onerror:a[1]}:{opts:b,onsuccess:a[1]||b.onsuccess||b.callback||g.errorHandler("onsuccess"),onerror:a[2]||b.onerror||g.errorHandler("onerror")}}};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.Save)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.JSON=function(a){var h=this,g=a.convert,m=a.feature,b=a.lang,c=a.loc,f=a.util,w=f.arrayToObject(["[object Blob]","[object File]"]),r=function(b,h,l){h=h||b.onsuccess||e;l=l||b.onerror||d;var p=b.data||b;if(w[String(p)])return g.blobToText(p,function(a){r(a,h,l)});var t;if("string"===typeof p){if(p.startsWith("<")){a.loader&&a.loader.stop("thread");return}if(c.isValidXhrUrl(p))return f.request({url:p,onsuccess:function(a){"object"!==typeof b&&(b={});b.data=
a.target.responseText;r(b,h,l)}});try{t=JSON.parse(p)}catch(m){return l(m,p)}}else t=p;return t?h(t):l()},y=function(a,b,c){if(c||b)a=JSON.stringify(a);c&&(a=new Blob([a],{type:"application/json"}));return a};this.loadMetadata=function(b,c,d){var f=a.doc;f.mixinAttributes(b,f);f.setMetrics(b);(b=b.background)?f.setBackground(b,c,d):c()};this.open=function(c,d,g,e){var t=a.doc,x=!1!==c.loadDocument,q=!1!==c.loadMetadata,v=c.mergeIntoScene||!1;d=c.onsuccess||d;g=c.onerror||g;e=c.onprogress||e||function(c){a.loader&&
(0===c?a.loader.create("thread",b.translate("opening-format",".JSON")+"...",0):100===c?a.loader.stop("thread"):a.loader.create("thread",null,c))};var k=function(b){if(v)h.merge(b,d,g);else{e&&e(0);var c=function(){e&&e(100);d&&d(b);a.emit("open")},r=function(a){e&&e(99*a>>0)},k=function(){if(t.history&&m.history.vector){var a=b.history&&b.history.vector;a&&f.isNotEmpty(a.data)?t.history.setData(a):t.history.store({cmd:"open",name:"open",data:[]},null,!1)}b.actions?t.scene.load({objects:b.actions,
onsuccess:c,onprogress:r}):c()};b=h.upgrade(b);q&&x?h.loadMetadata(b.metadata,k,k):q?h.loadMetadata(b.metadata,c,c):c()}};r(c,function(b){b.assets?a.assets.addList(b.assets,function(){k(b)}):k(b)},g)};this.merge=function(b,c,d){if(b){d=a.doc;b=b.actions?b.actions:b;for(var f=0;f<b.length;f++){var g=b[f];void 0===d.scene.getById(g.id)&&d.scene.push(g)}d.scene.load({onsuccess:c})}else d&&d()};this.save=function(b){"function"===typeof b&&(b={onsuccess:b});"object"!==typeof b&&(b={});b=b||{};var c=a.doc,
d=b.toBlob||!1,f=!1!==b.toString,g=b.embedAssets||!1,m=b.embedHistory||!1,q=b.quality||1,v=b.onsuccess||e,r=c.scene.children,k={};k.metadata=c.mixinAttributes(c,{});k.version=a.__version;c.history&&m&&(k.history={},k.history.vector=c.history.vector);g?h.assets({quality:q,toDataURL:!0,onsuccess:function(a){k.assets=a;k.actions=c.scene.roundData(c.scene.compress(r));var b=y(k,f,d);v(b,a)}}):(k.actions=c.scene.roundData(c.scene.compress(r)),b=y(k,f,d),v(b))};this.assets=function(b){"function"===typeof b&&
(b={onsuccess:b});"object"!==typeof b&&(b={});b=b||{};var c=a.doc,c=b.layers||c.scene.children,d=b.onsuccess||e,f=b.toBlobURL||!1,g=b.toDataURL||!1,h=b.mime||"image/png",q=b.quality||1;1!==q&&(h="image/jpeg");var v=function(){!--w&&y>=k-1&&d(r)};b=function(b){++w;var c=a.assets.getId(b.src);if(c){b.src=c;var d=a.assets.data[c];b=b.type;if("clipart"===b){if("function"!==typeof d.stringify)return m.debug&&console.warn("cannot stringify svg",d),v();if(g)return r[c]=d.srcXML&&!d.__colormap?d.srcXML:d.stringify(),
v()}else if(a.detect.useStampResource[b]&&"image/jpeg"===h&&(b=d.getContext("2d"),b.save(),b.globalCompositeOperation="destination-atop",b.fillStyle="#fff",b.fillRect(0,0,d.width,d.height),b.restore()),g)return r[c]=a.assets.getDataURL(c,h,q),v();return f?a.assets.getBlobURL(c,function(a){r[c]=a;v()},h,q):a.assets.getBlob(c,function(a){r[c]=a;v()},h,q)}return v()};var r={},k=c.length;if(0===k||a.__server)return d(r);for(var w=0,y=0;y<k;y++){var B=c[y];B.src?b(B):v(++w)}};this.upgrade=function(b){b.version=
b.version||"2.0a";b.version=b.version.replace("dev","");for(var c=new f.version(b.version||"2.0"),d={"2.0a":c.isLessThan("2.0a"),"3.3":c.isLessThan("3.3"),"3.4":c.isLessThan("3.4"),"3.4.6":c.isLessThan("3.4.6"),"3.4.6.1":c.isLessThan("3.4.6.1"),"3.5.9.2":c.isLessThan("3.5.9.2"),"3.6.8":c.isLessThan("3.6.8"),"3.7.1":c.isLessThan("3.7.1")},g=b.actions||[],e=0,h=g.length;e<h;e++){var q=g[e];q.bbox=q.bbox||{};q.bbox.scale=q.bbox.scale||{x:1,y:1};if(d["3.7.1"]){if(d["3.6.8"]){if(d["3.5.9.2"]){if(d["3.4.6"]){if(d["3.3"]){if(d["2.0a"]){var v=
q;v.color_mode&&(v.fill.mode=v.color_mode);v.color_noise&&(v.fill.noise=v.color_noise);v.flow&&(v.spacing=v.flow)}v=q;"string"===typeof v.src&&(v.src=v.src.replace("/brush/","/stamp/"),v.src=v.src.replace("/animal/","/animals/"));"polygon"===v.type&&(v.type="regularPolygon");"radialBurst"===v.type&&(v.spread=v.slope,delete v.slope);"0,00000000"===v.fill.gradient&&(v.fill.gradient="none")}v=q;v.content&&(v.content=v.content.split("\uf7c2\uf7a0").join(" "));k.detect.brush[v.type]&&v.bbox.padding&&(v.bbox.x-=
2*v.bbox.padding,v.bbox.y-=2*v.bbox.padding);"paint"===v.composite&&(v.composite="source-over");"light"===v.composite&&(v.composite="lighter");isFinite(v.saturation)&&(v.type="image");"image"===v.type&&(delete v.hue,delete v.saturation,delete v.temperature,delete v.tint,delete v.exposure,delete v.brightness,delete v.contrast,delete v.filters)}v=q;"floodfill"===v.type&&(v.usePixelData=!0);v.roundness&&(v.roundness/=200);v.filters&&(v.filter=v.filters,delete v.filters)}v=q;"string"!==typeof v.toolkitId&&
(v.toolkitId=k.doc.toolkit.getToolkitId(v.type));v.fill&&(v.fill=new k.style.Fill(v.fill),v.fill.enabled=!0,v.fill.angle=225);v.stroke&&(v.stroke=new k.style.Fill(v.stroke),v.stroke.angle=225)}q.pointerId=q.finger||"0:1";delete q.finger}}g=b.metadata=b.metadata||{};d["3.6.8"]&&(d["3.4.6.1"]&&(d["3.4.6"]&&(d["3.4"]&&(d=b.metadata,b.title&&(d.title=b.title),b.description&&(d.description=b.description),isFinite(b.width)&&(d.width=b.width),isFinite(b.height)&&(d.height=b.height)),d=b.metadata,"string"!==
typeof d.units&&(d.units=!1===d.autoResize||!1===d.infiniteCanvas?"px":"%")),d=b.metadata,isFinite(d.x+d.y)&&(d.x=-d.x,d.y=-d.y)),d=b.metadata,b.history&&b.history.vector&&(b.history.vector={max:4294967295,current:0,data:[]}),"bluePrint"===d.background&&(d.background="blueprint"),"%"===d.units&&(d.width*=100,d.height*=100));g.uuid=g.uuid||f.uuid();g.background=g.background||"transparent";g.units=g.units||"%";isFinite(g.width+g.height)||(g.units="%",g.width=100,g.height=100);isFinite(g.x+g.y)||(g.x=
0,g.y=0);g.pages&&g.pages.length||(g.pages={length:1,data:[{width:g.width,height:g.height}]});m.debug&&c.isLessThan(a.__version.replace("dev",""))&&console.warn("upgraded from:",c);return b}};var e=function(){console.log("success",arguments)},d=function(){console.warn("error",arguments)};"undefined"!==typeof module&&module.exports&&(module.exports=k.module.JSON)})(sketch);
(function(k){k.registerToolkit("brush",function(e,d){var a=this,h=d.canvas2d,g=d.contexts,m=e.detect,b=e.feature,c=e.net,f=d.render,k=d.scene,r=e.style,y=d.toolkit,u=e.util,s=e.vector,l=s.Cubic,p=s.Point,t={};a.id="brush";a.units=b.tools.brush.units;a.device={};a._attributes={pathSimplify:"number",pathSmoothing:"number",content:"string",finger:"string",blur:"number",mode:"number",curved:"boolean",diameter:"number",distance:"number",increment:"number",innerRadius:"number",lineWidth:"number",outerRadius:"number",
radius:"number",speed:"number",interval:"number",spacing:"clamp",spread:"number",src:"string",tolerance:"number",contiguous:"boolean",rotate:"clamp",scale:"clamp",translate:"clamp",data:"object"};var x=u.copy(a._attributes);a.attributes=u.copyInto(e.attrs.__styledObject,x);(function(){var b={};a.enabled=!1;a.enable=function(){var c=a.device.brush||{};c.enable&&c.enable();!1===a.enabled&&(a.enabled=!0,v.enable(),b.drag=eventjs.add(g.active,"drag",a.onRecord,{minFingers:c.usePointerMin||1,maxFingers:c.usePointerMax||
u.INFINITY,monitor:c.useMonitor||!1}),y.select&&y.select.enable({events:b,key:!0}))};a.disable=function(){var c=a.device.brush||{};c.disable&&c.disable();!0===a.enabled&&(a.enabled=!1,v.disable(),eventjs.removeEvents(b))}})();a.addPointClone=function(a){var b=a.pointerId,c=a.batchRecord,g=a.pathRecord;if(c&&0===c.length){var e={cmd:"L",x:a.x,y:a.y};c.push(e);g.push(e);a.state="move";a.dirtyRender=!0;d.on.record&&d.on.record({op:"TOOL",data:{toolkitId:"brush",type:a.type,pointerId:b,state:a.state,
point:k.pointInPeerSceneFromCanvas(e),metaKey:eventjs.metaKey,shiftKey:eventjs.shiftKey}});f.dirtyPointer=!0}};a.loadResource=function(b){var c=b.object,f=b.onerror,g=b.onsuccess,l=c.type;(b=e.module.toolkit["brush."+l])?new b(e,d,c,function(b,d){d?f&&f(c,"&ldquo;"+name+"&rdquo; "+b.type+" unavailable."):(b.type=l,k.copyProperties(a,c,b),b.toolkit=a,b.toolkitId="brush",b.layer=c,b.prepare=b.prepare||y.prepareBrush,b.seed=c.seed||b.seed||u.Random.seed(),b.ctx=a.ctx,b.active=a.draw,b.cache=a.cache,
r.load(b,function(){c.fill&&(c.fill.__colors=b.fill.__colors);c.stroke&&(c.stroke.__colors=b.stroke.__colors);c.dirtyCheck=!0;c.render=D;c.brush=b;g&&g(c)}))}):f&&f(c,l+" unavailable.")};a.createObject=function(b,c){var d=b.device,f=b.object,g=k.copyProperties(a,d);g.data=u.copy(f.path);g.bbox=u.copyInto(f.bbox,a.updateObjectSize(g,!0));g.interval=d.__interval;f=k.addObject(g);c&&c(f);return f};a.onScroll=function(b){if(d.__interacting){var c=a.device.brush;c&&(c.dirtyRender=!0,c.onScroll&&c.onScroll(b))}};
var q=function(b,c){if("keydown"===b.type){var d=a.device.brush;d.isGhost&&(d.seed+=c,z(d.event))}};a.onRightKey=function(a){q(a,1)};a.onLeftKey=function(a){q(a,-1)};var v=function(){var b={},c=!1;return{enable:function(){!1!==a.device.brush.useGhost&&eventjs.isMouse&&!1===c&&(c=!0,b.onGhostOut=eventjs.add(g.active,"mouseout",C),b.onGhostMove=eventjs.add(g.active,"mousemove",z))},disable:function(){!0===c&&(c=!1,eventjs.removeEvents(b),f.dirtyPointer=!0,f.removePointer("ghost"))}}}(),z=function(a){if("eyeDropper"!==
e.ui.colorPicker.state){var b=eventjs.getPointInNode(a,d.container),c=J("ghost",!0);if(void 0!==c){var g=c.object,l=g.brush;l.pointerId="ghost";l.isGhost=!0;l.isRecording=!0;g.toolkitId="brush";l.event=a;l.composite=r.composite;l.interval=c.interval;l.dirtyRender=!0;l.pointerId=l.pointerId||"A:0";c.fill&&c.fill.__colors&&(l.fill=c.fill);c.stroke&&c.stroke.__colors&&(l.stroke=c.stroke);e.assets.isDefault(l.resource)&&e.assets.data[l.src]&&(l.resource=e.assets.data[l.src]);var h=d.zoom;a=d.scrollLeft;
c=d.scrollTop;g=b.x/h;b=b.y/h;if(isFinite(l.ghostDistance+l.ghostX+l.ghostY)){var q=l.ghostX-g,p=l.ghostY-b,m=Math.sqrt(q*q+p*p),h=l.ghostDistance;m>h&&(q=Math.atan2(p,q),l.ghostX=g+Math.cos(q)*h,l.ghostY=b+Math.sin(q)*h,l.x=g,l.y=b)}else l.ghostX=g,l.ghostY=b,l.px=g,l.py=b,l.x=g,l.y=b;t.ghostX=l.ghostX-a;t.ghostY=l.ghostY-c;l.pathRecord=[{cmd:"M",x:l.ghostX,y:l.ghostY},{cmd:"L",x:g+.1,y:b+.1}];f.dirtyPointer=!0}}},C=function(b){a.device.brush&&(f.dirtyPointer=!0,f.removePointer("ghost"),delete t.ghostX,
delete t.ghostY)};a.onRecord=function(b,c){if("eyeDropper"!==e.ui.colorPicker.state){var g=c.state,l=c.pointerDown,h=c.pointerStart,q=c.pointerDrag,m=c.pointerMove,x=c.pointerEnd,r=y.getPointerId(b,c),z=isFinite(c.shiftKey)?c.shiftKey:eventjs.shiftKey,C=isFinite(c.metaKey)?c.metaKey:eventjs.metaKey,D=!!b,P=D&&d.on.record,R=D&&h;d.__interacting=l;D&&(x&&(a.device.brush.event=b),h?(v.disable(),eventjs.prevent(b)):eventjs.cancel(b));if(l=J(r,R)){l.lastModified=Date.now();var r=l.pointerId,X=l.object,
l=X.type,R=X.brush;R.state=g;R.pointerId=r;R.isGhost=!1;R.isRecording=!0;R.isFromBrowser=D;X.toolkitId="brush";var W=R.batchRecord||(R.batchRecord=[]),U=R.pathRecord||(R.pathRecord=[]),V=U.length,O=d.scrollTop,Y=d.scrollLeft,S=d.zoom;if((h||m)&&D){var $=c.env,ha=Y+"x"+O;if($.scroll!==ha&&($.scroll=ha,c.resetBoundingBox(),R.dirtyRender=!0,m))return}var $=O-O/S,ha=Y-Y/S,ga=c.x/S+ha,ma=c.y/S+$,ba={x:ga,y:ma},la={x:c.start.x/S+ha,y:c.start.y/S+$};if(P){var ja;h&&(ja=k.compress(k.copyAttributes(a.attributes,
R),!0));d.on.record({op:"TOOL",data:{config:ja,toolkitId:"brush",type:l,pointerId:r,state:g,point:k.pointInPeerSceneFromCanvas(c),metaKey:C,shiftKey:z}})}if(!1!==R.__snap)if(h)R.__snap=void 0,R.__snapShift=z;else if(R.__snapShift)if(R.__snap)g=R.__snap,ba=p.nearestOnLine(ba,g.origin,g.end);else if(g=p.distance(la,ba),4<g/S)z=.25*Math.PI,g=p.angle(la,ba),g=Math.round(g/z)*z,R.__snap={angle:g,origin:ba,end:p.atRadianDistance(ba,g,1)};else return;if(!(h&&R.onPointerStart&&R.onPointerStart(c,ba)||m&&
R.onPointerMove&&R.onPointerMove(c,ba)||q&&R.onPointerDrag&&R.onPointerDrag(c,ba)))if(x&&R.onPointerEnd&&R.onPointerEnd(c,ba))f.removePointer(r);else{if(x&&V&&R.onDoubleTap){m=Date.now();g=R.__dblTapObject;z=U[V-1];if(2<V&&g&&(g=p.distance(g,z),500>m-R.__dblTapTimestamp&&25>g&&R.onDoubleTap(c,ba)))return;R.__dblTapTimestamp=m;R.__dblTapObject=p.clone(z)}R.onPointer&&R.onPointer(c,W,ba)||(h?(R.__interval=R.interval,R.ghostDistance&&D&&isFinite(t.ghostX+t.ghostY)&&(ba.x=t.ghostX+Y/S+ha,ba.y=t.ghostY+
O/S+$,delete t.ghostX,delete t.ghostY),ba.cmd="M",!0===R.click?W.splice(0,1,ba):(W.push(ba),U.push(ba)),R.ghostDistance&&(ba={cmd:"L"},ba.x=ga,ba.y=ma,W.push(ba),U.push(ba))):(ba.cmd=q?"L":"Z",R.lineRecord?(la.cmd="M",W.splice(0,1,la),U.splice(0,1,la),ba.cmd="L",W.splice(1,1,ba),U.splice(1,1,ba),x&&(h=p.clone(ba),h.cmd="Z",W.splice(2,1,h),U.splice(2,1,h),R.lineRecordRotate&&(h=W[0],q=W[1],g=p.angle(h,q),h=p.atTimeOnLine(h,q,.5),q=new s.Transform,q.translate(h.x,h.y),q.rotate(-g/2),q.translate(-h.x,
-h.y),q.flatten(W),q.flatten(U),W.__rotate=g*u.RAD_DEG))):R.click?"Z"!==ba.cmd&&W.splice(0,1,ba):(W.push(ba),U.push(ba))),x&&(f.removePointer(r),D&&(a.gestures--,a.device.interval=R.interval||1,1===c.fingers&&v.enable()),U.length&&(X=a.createObject({device:R,object:{type:l,toolkitId:"brush",path:U,bbox:{rotate:W.__rotate||0}}}),a.renderToScene(X,function(){a.addToHistory(X)})),D&&(a.device.brush.seed=u.Random.seed())),R.dirtyRender=!0,f.dirtyPointer=!0)}}}};var J=function(b,c){var d=a.device.brush;
d&&d.usePointerThread&&(t.pointerId?b=t.pointerId:t.pointerId=b);var g=f.pointer[b];if(!g||!g.object)if(c)g=f.pointer[b]={},k.copyProperties(a,a.device,g.object={}),g.object.seed=a.device.brush.seed,a.loadResource({object:g.object}),a.device=g.object;else{!0!==d.useMonitor&&console.warn("brush.onRecord - no pointer");return}if(g.object.brush)return g.pointerId=b,g;console.warn("brush.onRecord - no brush",g)};a.closePointerThread=function(){delete t.pointerId};a.renderToScene=function(a,c){if(b.vector.edit)f.objectToScene(a,
c);else{var d=g.layer0.ctx;d.globalAlpha=1;d.globalCompositeOperation="source-over";d.drawImage(g.draw,0,0);a.dirtyCheck=!1;c&&c()}};var D=function(b,c,d){var f=this.brush;if(f){this.dirtyCheck&&k.copyAttributes(a.attributes,this,f);var g=f.interval||this.interval;f.ctx=b;f.active=a.draw;f.cache=a.cache;f.isGhost=!1;f.isRecording=!1;f.interval=g;f.bbox=this.bbox;f.state=f.state||"up";if(!d){d=this.bbox;var e=d.scale;c.matrix.x=0>e.x?-d.width*e.x:0;c.matrix.y=0>e.y?-d.height*e.y:0;c.matrix.y+=d.padding*
(e.y-(e.x-1)-1);c.apply(b,!0)}this.fill&&this.fill.__colors&&(f.fill=this.fill);this.stroke&&this.stroke.__colors&&(f.stroke=this.stroke);f.preprocess&&f.preprocess();a.renderBrush(f.prepare(),this.data,f);f.interval=g;f.postprocess&&f.postprocess()}else console.warn("brush undefined",f,this)};a.renderBrush=function(b,c,d){var f=c.length;if(0!==f){var g=d.type,e="disco"===d.composite,h=d.isEraser,q=d.isRecording,p=d.isGhost,t=isFinite(d.pathSmoothing),v=isFinite(d.pathSimplify);d.dirtyRender=!1;d.interval=
d.interval||1;d.path=d.pathRecord||c;if(b=d.renderTo||d.ctx){b.save();m.useLocalAlpha[g]&&(b.globalAlpha=d.opacity/100);b.globalCompositeOperation=h?"source-over":r.getComposite(d.composite,!!m.useSafeGCO[g]||!q);if(d.render){if(t||v)v&&(d.path=s.simplify(d.path,d.pathSimplify,!0)),t&&(d.path=s.catmullRomSpline({amount:d.pathSmoothing,path:d.path}));c=c[f-1];d.cmd=c&&c.cmd;d.render(d)}else for(var g=l.pointAtTime,x,k=0;k<f;k++){x=q||p?c.shift():c[k];var w=d.x=x.x,u=d.y=x.y,z=d.cmd=x.cmd;if("M"===
z)c.increment=0,d.px=d.__px=h=w,d.py=d.__py=v=u,q&&a.gestures++,d.drawStart&&d.drawStart();else if("Z"===z){d.drawEnd&&d.drawEnd();break}else d.px=h=d.__px,d.py=v=d.__py;if(d.draw){var y=d.spacing,C=y.min,D=y.max,J=w-h,S=u-v,y=Math.sqrt(J*J+S*S)+1;if(!(y<C&&"M"!==z)){z=J/y||0;C=S/y||0;S=D||1;D=D<y-1?D:y-1;if(t=t&&!q){var $=c[k-2]||{x:h,y:v},ha={x:h,y:v},ga=x,ma=c[k+1]||x;if(!($&&ha&&ga&&ma))continue}x=h;for(J=v;D<y;D+=S)t?(u=g(h,v,ha.x+(ga.x-$.x)/6,ha.y+(ga.y-$.y)/6,ga.x+(ha.x-ma.x)/6,ga.y+(ha.y-
ma.y)/6,ga.x,ga.y,D/y),w=u.x,u=u.y):(w=h+z*D,u=v+C*D),e&&(b.globalCompositeOperation=0===d.interval%2?"lighter":"source-over"),d.x=w,d.y=u,d.px=x,d.py=J,d.draw(c.increment),d.interval++,x=w,J=u;d.__px=w;d.__py=u;c.increment++}}}b.restore()}else console.warn("undefined rendering context")}};a.onMultiRecord=function(b,c,d){c.x-=20;c.y-=20;c.interval=1;for(b=0;2>b;b++){if(c.pointerStart){var g=y.brush,g=k.copyAttributes(g.attributes,g.device.brush);g.type=a.type;f.pointer[b]=g;a.loadResource({object:g,
onsuccess:function(a){console.log(a.brush)},onerror:function(a,b){console.error(a,b)}})}c.x+=20;c.y+=20;c.interval+=20;c.identifier=b;c.isFromBrowser=!0;a.onRecord(null,c,d)}};a.updateObjectSize=function(b,c){var f=b.bbox,e=f&&f.scale.x||1,l,q=d.config[b.type],p=0;q.diameter&&b.diameter&&(isFinite(b.diameter)?p=b.diameter||0:isFinite(b.diameter.value)?p=b.diameter.value:isFinite(b.diameter.min)&&(p=b.diameter.max));"spirograph"===b.type&&(l=b.distance||0,p+=2*(Math.abs((b.outerRadius||0)-(b.innerRadius||
0))+l));l=q.scale&&b.scale&&b.scale.max||1;var t=q.translate&&b.translate&&b.translate.max||0,t=2*Math.sqrt(t*t+t*t);l=Math.ceil(((2*(q.blur&&b.blur||0)+p+(q.lineWidth&&b.lineWidth||0))*l+t)/2);"floodfill"===b.type?(q=g.layer0,l=0,t={x1:0,y1:0,x2:q.width,y2:q.height}):t=isFinite(b.pathSmoothing)?new s.BBox(s.catmullRomSpline({amount:b.pathSmoothing,path:b.data})):new s.BBox(b.data);if(f)var m=f.units||"objectBoundingBox",v=(f.padding||0)-l,q=f.x+v*e,p=f.y+v*e,v=0;else m=a.units,v=l,q=t.x1,p=t.y1;
var x=t.x2-t.x1+2*l,r=t.y2-t.y1+2*l,m={x:q-v*e,y:p-v*e,width:x,height:r,padding:l,units:m,viewBox:[0,0,x,r]};if(c&&!f){q=t.x1+l*e-l;p=t.y1+l*e-l;f=b.data;for(e=0;e<f.length;e++)l=f[e],l.x-=q,l.y-=p,isFinite(l.x1+l.y1)&&(l.x1-=q,l.y1-=p),isFinite(l.x2+l.y2)&&(l.x2-=q,l.y2-=p);f=d.zoom*d.pixelRatio;m.x-=1*h.x/f;m.y-=1*h.y/f;return m}m.scale=f.scale;m.rotate=f.rotate;return b.bbox=m};a.addToHistory=function(a){d.history&&a&&d.history.store({cmd:"add",icon:a.type,name:a.type,data:[a]},{userId:c.userId,
fromRecord:!0})};return y.init(a)})})(sketch);
(function(k){k.registerToolkit("brush.arrow",function(e,d,a,h){var g=this,m=d.toolkit;d=e.vector;var b=d.Shape,c=d.Point;g.construct=function(a,b){g.curved=!!a.curved;g.diameter=isFinite(a.diameter)?a.diameter:30;g.ghostDistance=isFinite(a.ghostDistance)?a.ghostDistance:10;g.mode=a.mode;g.pathSimplify=.5;g.pathSmoothing=.5;!1===g.curved&&(g.lineRecord=!0,g.lineRecordRotate=!0);b(g)};g.render=function(){var a=g.renderTo,d=g.path,h=d.length-1,k=g.mode||1,s=g.diameter,l=s/2;a.save();a.beginPath();a.lineWidth=
s/4;if(g.curved){a.lineCap="round";a.lineJoin="round";b.VOBPathOffset(a,d,0,0);k=m.getBBox(g);a.strokeStyle=e.style.getStyle("fill",a,k.x1,k.y1,k.x2,k.y2,g);a.stroke();var s=d[h],p=d[h];if(s&&p){for(;h--;)if(7<c.distance(p,d[h])){s=d[h];break}var h=1,d=l/c.distance(s,p),t=c.atTimeToRadius(s,p,h-d,l),x=c.atTimeToRadius(s,p,1+d,0),q=c.atTimeToRadius(s,p,h-d,-l);a.beginPath();f(a,t,x,q);a.fillStyle=a.strokeStyle;a.fill()}}else if(a.lineCap="miter",a.miterLimit=20,s=d[0],p=d[h],s&&p){var h=1,v=.5*l,d=
l/c.distance(s,p),z=Math.min(1.5,l/4*.25);if(1===k)var t=c.atTimeToRadius(s,p,h,v),x=c.atTimeToRadius(s,p,h,-v),q=c.atTimeToRadius(s,p,-d,-z),C=c.atTimeToRadius(s,p,-d,z);else 2===k?(C=c.atTimeToRadius(s,p,0,v),q=c.atTimeToRadius(s,p,0,-v),x=c.atTimeToRadius(s,p,h+d,-z),t=c.atTimeToRadius(s,p,h+d,z)):(t=c.atTimeToRadius(s,p,h,v),x=c.atTimeToRadius(s,p,h,-v),q=c.atTimeToRadius(s,p,0,-v),C=c.atTimeToRadius(s,p,0,v));a.moveTo(t.x,t.y);a.lineTo(x.x,x.y);a.lineTo(q.x,q.y);a.lineTo(C.x,C.y);a.closePath();
if(1===k||3===k)t=c.atTimeToRadius(s,p,h-d,l),C=c.atTimeToRadius(s,p,1+d,0),h=c.atTimeToRadius(s,p,h-d,-l),f(a,t,C,h);if(2===k||3===k)t=c.atTimeToRadius(s,p,d,l),C=c.atTimeToRadius(s,p,-d,0),h=c.atTimeToRadius(s,p,d,-l),f(a,h,C,t);m.applyStyle(a,g)}a.restore()};var f=function(a,b,d,f){a.moveTo(b.x,b.y);a.lineTo(d.x,d.y);a.lineTo(f.x,f.y);d=c.distance(b,f);b=c.atTimeToRadius(b,f,.5,.25*d);a.lineTo(b.x,b.y);a.closePath()};g.construct(a,h)})})(sketch);
(function(k){k.registerToolkit("brush.calligraphy",function(e,d,a,h){var g=this;g.construct=function(a,b){g.diameter=isFinite(a.diameter)?a.diameter:30;g.spacing=a.spacing||[0,0];g.angle=a.angle||0;g.pathSmoothing=0;b(g)};g.draw=function(){var a=g.diameter,b=g.renderTo;b.save();b.beginPath();b.globalCompositeOperation="source-over";b.lineJoin="round";b.lineCap="round";b.translate(-a/2,0);b.moveTo(g.px,g.py);b.lineTo(g.px+a,g.py-a/2);b.lineTo(g.x+a,g.y-a/2);b.lineTo(g.x,g.y);b.closePath();var a=g.fill.__colors||
[],c=a.length,a=a[Math.abs((2*g.interval+1)%(2*c)-c)];b.fillStyle=a;b.fill();b.strokeStyle=a;b.stroke();b.restore()};g.construct(a,h)})})(sketch);
(function(k){k.registerToolkit(["brush.eraser","brush.paintbrush"],function(e,d,a,h){var g=d.toolkit,m=d.render,b=e.vector.Shape;this.bitmap={};this.construct=function(a,b){this.diameter=isFinite(a.diameter)?a.diameter:30;this.blur=isFinite(a.blur)?a.blur:10;this.spacing=a.spacing||[0,0];this.pathSmoothing=this.pathSimplify=.5;b(this)};this.render=function(a){var f=this.isRecording,e=this.isEraser,h=this.useAreaTracker,k=this.renderTo,u=d.pixelRatio,s=g.getBBox(this),l=this.diameter,p=this.blur*u;
if(p)if(a&&a.bbox){var t=a.bbox.scale.x;a=Math.ceil(a.bbox.width)*u;var x=m.cache.padding/Math.abs(t);a=a-p+x;x=0}else{t=d.zoom;a=d.viewport;var q=a.height,v=a.width,z=l+p;q>v?(a=v/t+l/2,x=0,0>this.x*t-v/2?(a-=Math.min(0,s.x1+z),a=-1*a*u):(a-=Math.min(0,a-(s.x2+z)),a*=u)):(a=0,x=q/t+l/2,0>this.y*t-q/2?(x-=Math.min(0,s.y1+z),x=-1*x*u):(x-=Math.min(0,x-(s.y2+z)),x*=u))}else x=a=0;k.save();k.beginPath();b.VOBPathOffset(k,this.path,-a/u,-x/u);e?(e=d.backgroundRaw,f&&k.translate(d.canvas2d.x,d.canvas2d.y)):
(f=this.fill.__colors||[0,"#000"],e=f[1%f.length]);p?(k.strokeStyle="#000",k.shadowOffsetX=a*t,k.shadowOffsetY=x*t,k.shadowBlur=Math.abs(p*t),k.shadowColor=e&&e.indexOf?e:"#000"):k.strokeStyle=e;k.lineCap="round";k.lineJoin="round";k.lineWidth=l;k.stroke();k.shadowBlur=null;h&&g.applyStyleToArea(k,this,s);k.restore()};this.construct(a,h)})})(sketch);
(function(k){k.registerToolkit("brush.pencil",function(e,d,a,h){var g=this,m=d.toolkit,b=e.vector.Shape;g.construct=function(a,b){g.diameter=isFinite(a.diameter)?a.diameter:30;g.spacing=a.spacing||[0,0];g.pathSimplify=.5;g.pathSmoothing=.5;b(g)};g.render=function(a){var d=g.path;a=g.renderTo;a.save();a.beginPath();a.lineCap="round";a.lineJoin="round";a.lineWidth=g.diameter;b.VOBPathOffset(a,d,0,0);d=m.getBBox(g);a.strokeStyle=e.style.getStyle("fill",a,d.x1,d.y1,d.x2,d.y2,g);a.stroke();a.restore()};
g.construct(a,h)})})(sketch);
(function(k){k.registerToolkit(["brush.streamer","brush.pen"],function(e,d,a,h){var g=this,m=Math.PI/2,b={},c=function(a,b,c,d,g){g=b.cos;var e=b.sin;a.arc(c,d,1*b.thickness,0,2*Math.PI,!0);a.moveTo(b.x+g,b.y+e);a.lineTo(c+1*g,d+1*e);a.lineTo(c-1*g,d-1*e);a.lineTo(b.x-g,b.y-e);a.lineTo(b.x+g,b.y+e);b.useFillAtEnd||(a.fillStyle=b.color,a.fill(),a.beginPath())};g.construct=function(a,b){g.spacing=a.spacing||[0,0];g.diameter=a.diameter||10;b(g)};g.drawStart=function(){var a=g.renderTo;a.lineCap="round";
a.lineJoin="round";a.beginPath();a=g.fill;a.mode="cycle";var c=b[g.pointerId]={};c.useFillAtEnd=!g.isRecording&&"gradient"!==a.type;c.x=g.x;c.y=g.y;c.px=g.x;c.py=g.y;c.vectorx=0;c.vectory=0;c.cos=0;c.sin=0;c.thickness=0;c.angle=m;c.color="#000"};g.draw=function(){var a=b[g.pointerId];if(void 0===a)console.warn("streamer not setup",a);else{var d=g.renderTo,e=g.x-a.px,h=g.y-a.py;if(!(1>=Math.abs(e)&&1>=Math.abs(h))){var k;k=g.fill.__colors||[];var s=k.length;k=k[Math.abs((2*g.interval+1)%(2*s)-s)];
a.color=k;0>e*a.vectorx+h*a.vectory&&(c(d,a,g.px,g.py,g),a.x=a.px=g.px,a.y=a.py=g.py,a.angle+=Math.PI,a.thickness*=1);a.x+=.5*(g.x-a.x);a.y+=.5*(g.y-a.y);var s=a.x-a.px,l=a.y-a.py,p=Math.sqrt(s*s+l*l),t=g.diameter,x=Math.max(t.min,Math.min(t.max,p)),s=0!==p?m+Math.atan2(l,s):0,t="pen"===g.type?(.5+Math.max(0,t.max-x)+t.min)/2:(.5+x)/2,l=a.thickness,x=a.angle,t=l+.42*(t-l),q=Math.sin(x),v=Math.cos(x),x=l*q,l=l*v,z=t*Math.sin(s),C=t*Math.cos(s),J=Math.sin(s-m),D=Math.cos(s-m),B=a.px-.25*D,E=a.py-.25*
J,D=a.x+.25*D,J=a.y+.25*J,q=.33*p*q,A=-.33*p*v,p=B+l+q,v=E+x+A,q=B-l+q,A=E-x+A;d.moveTo(B+l,E+x);d.quadraticCurveTo(p,v,D+C,J+z);d.lineTo(D-C,J-z);d.quadraticCurveTo(q,A,B-l,E-x);d.lineTo(B+l,E+x);a.useFillAtEnd||(d.fillStyle=k,d.fill(),d.beginPath());a.px=a.x;a.py=a.y;a.angle=s;a.thickness=t;a.vectorx=e;a.vectory=h;a.cos=C;a.sin=z}}};g.drawEnd=function(){var a=g.pointerId,d=b[a];if(void 0!==d){c(g.renderTo,d,g.x,g.y,g);if(d.useFillAtEnd){var e=g.renderTo;e.fillStyle=d.color;e.fill()}delete b[a]}};
g.construct(a,h)})})(sketch);
(function(k){k.registerToolkit(["brush.crayon","brush.stamp"],function(e,d,a,h){var g=this,m=e.assets,b=e.util,c=e.vector;g.bitmap={};g.getStampResource=function(a,b,c){m.getItem(a)?b(m.getItem(a)):m.add({type:"image",src:a,onerror:c,onload:function(a,c){b(c)}})};g.construct=function(a,c){g.rand=new b.Random(g.seed||1);g.diameter=a.diameter||20;g.speed=a.speed||void 0;g.rotate=a.rotate||{min:0,max:0};g.scale=a.scale||{min:1,max:1};g.translate=a.translate||{min:0,max:0};g.spacing=a.spacing||f(g.diameter);
g.pollock=a.pollock||!1;g.src=a.src||void 0;g.resource=new Image;g.src?g.getStampResource(g.src,function(a){g.resource=a;g.resource.loaded=!0;g.resource.error=!1;c(g)},function(){g.resource.loaded=!0;g.resource.error=!0;c(g,"404")}):c(g)};g.drawStart=function(){g.scaleX=g.bbox&&g.bbox.scale.x||1;"crayon"===g.type&&(g.fill.mode="cycle",g.spacing=f(g.diameter),g.src=void 0,g.scale={min:1,max:1},g.rotate={min:1,max:360});var a=g.pointerId,c=g.rand=new b.Random(g.seed||1);g.rr=c.toDouble();g.sr=c.toDouble();
g.bitmap[a]=g.create()};g.draw=function(){var a=g.renderTo,d=g.ratio,f=g.pointerId;if(g.bitmap[f]){var f=g.bitmap[f],e=f.canvas.width,h=f.canvas.height,l=e/2,p=h/2;if(l&&p){var t=g.translate.min||1E-5,m=g.translate.max||1E-5;if(0===t&&0===m)var q=0,t=0;else q=(m-t)*g.rand.toDouble()+t,t=(m-t)*g.rand.toDouble()+t;var m=g.scale.min,v=g.scale.max,d=1===m&&1===v?d||1E-5:((v-m)*g.rand.toDouble()+m)*d||1E-5,m=0,k=g.rotate.min,v=g.rotate.max;0!==k&&0!==v&&(k<=v?m=(v-k)*g.rand.toDouble()+k:(m=k-v,k=(360-
m)*g.rand.toDouble(),m=k>v?k+m:k));g.pollock||a.save();"cycle"===g.fill.mode&&(v=g.fill.__colors||[],k=v.length,v=v[Math.abs((2*g.interval+1)%(2*k)-k)],v!==f.fillStyle&&(f.fillStyle=v,f.fillRect(0,0,e,h)));a.translate(g.x-l*d,g.y-p*d);1!==d&&a.scale(d,d);0!==m&&(a.translate(l,p),a.rotate(m*b.DEG_RAD),a.translate(-l,-p));a.translate(1*q/d,1*t/d);a.drawImage(f.canvas,0,0);g.decorate&&(a.beginPath(),a.fillStyle=f.fillStyle,c.Shape.star(a,0,0,10,5,2),a.fill());g.pollock||a.restore()}}};g.drawEnd=function(){delete g.bitmap[g.pointerId]};
g.create=function(){var a=g.pointerId,f=g.diameter*d.pixelRatio,h=Math.round(g.scale.max*f);if(!a||!h)return console.warn("stamp error",a,h);if(g.bitmap[a])var m=g.bitmap[a],s=m.canvas;else s=b.Canvas(),m=s.ctx;if(g.src){f=g.resource;if(f.error)return m;if("clipart"===f.type)var l=f.viewBox,p=l[2],t=p-l[0],l=l[3]-l[1];else t=f.width,l=f.height;t>h&&(l*=h/t,t=h);l>h&&(t*=h/l,l=h);var x=Math.sqrt(t*t+l*l);x>h&&(h/=x,t*=h,l*=h);s.width=t;s.height=l;"clipart"===f.type?(h=t/p,s=(new c.Transform).scale(h),
f.render({ctx:m,matrix:s.matrix})):m.drawImage(f,0,0,t,l)}else{t=s.width=h;l=s.height=h;s=m.getImageData(0,0,t,l);p=s.data;h=25*f;f/=2;for(x=0;x<h;x++){var q=g.rand.toDouble()*f,v=2*g.rand.toDouble()*Math.PI,k=Math.sin(v)*q+f+.5>>0,v=Math.cos(v)*q+f+.5>>0;k>=t||0>=k||v>=l||0>=v||(p[4*(v*t+k)+3]=255*(1.5-q/f))}m.putImageData(s,0,0)}m.globalCompositeOperation="none"===g.fill[g.fill.type]?"source-atop":"source-in";m.fillStyle=e.style.getStyle("fill",m,0,0,t,l,g);m.fillRect(0,0,t,l);x=Math.sqrt(t*t+l*
l);g.ratio=1/(x/g.diameter);return g.bitmap[a]=m};var f=function(a){a=Math.sqrt(a);return{min:a,max:a}};g.construct(a,h)})})(sketch);
(function(k){var e=function(d){return function(a,e,g,m){var b=this,c=e.render,f=a.style,k=e.toolkit,r=a.ui,y=a.util,u=a.vector,s=u.Cubic,l=u.Point,p=u.Shape,t={};b.useCubic=!0;b.usePolygon=!1;b.isEditing=!1;b.isRecording=!1;var x,q,v,z=function(){if(eventjs.isMouse&&b.useMonitor)return q=x=5,v=7,!1;q=x=10;v=14;return!0};b.construct=function(a,c){b.composite=a.composite||"source-over";b.diameter=a.diameter||0;b.lineWidth=a.lineWidth||1;b.opacity=a.opacity||100;b.spacing=a.spacing||[0,0];b.useGhost=
!1;b.usePointerMax=1;b.usePointerThread=!0;b.useSnap=!1;b.useMonitor=!0;b.useCubic="path"===d;b.usePolygon="polygon"===d;c(b)};b.enable=function(){t={}};b.disable=function(){b.savePath("disable")};b.render=function(a){var c=b.isRecording;a=b.renderTo;var d=b.stroke&&b.stroke.lineWidth,g=N();a.beginPath();a.lineCap="round";a.lineJoin="round";if(c)a.globalAlpha=b.opacity/100,a.globalCompositeOperation=f.getComposite(b.composite),a.lineWidth=d,b.isEditing?u.VOBPath(a,g):u.VOBPath(a,g.slice(0,-1));else{var e=
b.bbox.scale,e=Math.max(Math.abs(e.x),Math.abs(e.y));a.globalAlpha=1;a.lineWidth=d/e;u.VOBPath(a,g)}k.applyStyle(a,b);if(c){a.globalAlpha=1;a.globalCompositeOperation="source-over";var h=g&&g.length;if(h){var q=b.closingPath,d=b.editingPath,m=b.bendingSegment,c=b.selected||{},e=c.idx;"cp1"===c.type&&e--;for(var c=h-1,v=(e||0)+(q?0:1),x=0;x<h;x++)if(e=g[x]){var s=e.cmd;if("C"===s&&(x<=v&&x>=v-(m?2:1)||q&&1===x)){var r=g[x-1],s=l(e.x1,e.y1),C=l(e.x2,e.y2);l.equals(s,r)||(W(a,s,"#4f80ff",3),V.L(a,s,
r,"#4f80ff"));l.equals(C,e)||(W(a,C,"#4f80ff",3),V.L(a,C,e,"#4f80ff"))}}e=t.pointAtop;x=t.pointAtopStart;h=t.pointOnPath;if(!(z()||h||e&&(!x||eventjs.metaKey||eventjs.altKey)||!1!==d&&!b.usePolygon)&&(e=g[c],s=e.cmd,V[s]))if(r=g[c-1],x)V[s](a,r,e,"#46f224");else V[s](a,r,e,"#4f80ff"),U(a,e,"#fff",2.5);if(h)if(eventjs.metaKey)d=h.point,a.save(),a.beginPath(),p.exmark(a,d.x,d.y,3),a.lineWidth=2.5,a.strokeStyle="#000",a.stroke(),a.lineWidth=1.5,a.strokeStyle="#46f224",a.stroke(),a.restore();else if(!1===
d&&(s=h.cmd,V[s]))V[s](a,h.point0,h.point1,"#4f80ff");d="Z"===g[c].cmd;for(x=0;x<c;x++)!(e=g[x])||d&&x+1===c||(h=a,0!==x||d?e.hovered?eventjs.metaKey?W(h,e,"#ff3535",5):eventjs.altKey?W(h,e,"#bc19fc",5):W(h,e,"#4f80ff",5):W(h,e,"rgba(0,0,0,0.75)",3):e.hovered?eventjs.metaKey?U(h,e,"#ff3535",4.5):eventjs.altKey?U(h,e,"#bc19fc",4.5):U(h,e,"#46f224",4.5):U(h,e,"#fff",4.5))}}};b.calcBBox=function(){if(b.path)return new u.BBox(N())};b.onResize=function(){Q()};b.onDoubleTap=function(a,c){b.savePath("onDoubleTap")};
b.onPointerMove=function(a,c){if(!a.pointerDrag){b.self=a;b.point=c;for(var d=!1,f=!1,g=b.editingPath,e,h=N(),q=h.length,p=0;p<q;p++){var m=h[p],k=m.cmd,r=p<q-1,w=m.bbox;void 0!==w||!r&&!1!==g||(w=m.bbox=new u.BBox({data:[e||m,m],expand:v,convexHull:!0}));m.hovered=!1;w&&(w.hovered=!1,l.inBBox(c,w)&&(w.hovered=!0,!r||!1!==d&&"point"===d.type||(w=l.distance(m,c),w<v&&(m.hovered=!0,d=l.clone(m),d.idx=p,d.type="point",d.distance=w)),!1===d&&("C"===k?(k=l(m.x1,m.y1),w=l.distance(k,c),w<v&&(d=k,d.idx=
p,d.type="cp1",d.distance=w),r&&(r=l(m.x2,m.y2),w=l.distance(r,c),w<v&&(d=r,d.idx=p,d.type="cp2",d.distance=w),r=s.nearestPointOnCurve(c,[e,k,r,m]),r.distance<x&&(!1===f||r.distance<f.distance)&&(f={cmd:"C",idx:p,time:r.time,distance:r.distance,point:r.point,point0:e,point1:m}))):"L"===k&&r&&(w=l.toLineDistance(c,e,m),w<x&&(!1===f||w<f.distance)&&(r=l.nearestOnLine(c,e,m,!0),f={cmd:"L",idx:p,time:r.time,distance:w,point:r,point0:e,point1:m})))));e=m}g?R(""):d?(f=!1,"point"===d.type?eventjs.altKey?
R("Alter Tension"):eventjs.metaKey?R("Remove Point"):eventjs.shiftKey?R("Move Point w/o Handles"):0===d.idx?R("Close Path"):R("Move Point"):eventjs.altKey?R("Move Handle"):eventjs.metaKey?R("Remove Handle"):R("Move Handle Mirrored")):f?eventjs.metaKey?R("Add Point"):eventjs.altKey?"C"===f.cmd?R("Move Curve"):R("Move Line"):"C"===f.cmd?R("Bend Curve"):R("Bend Line"):(m=h[q-1],e=h[q-2],m&&e?(w=l.distance(m,e),R("D: "+w.toFixed(2)+"px")):R(""));t.pointAtop=d;t.pointAtopStart=d&&0===d.idx;t.pointOnPath=
f}};b.onPointer=function(a,c,d){b.batchRecord=c;var f=a.pointerStart,g=a.pointerEnd,e=a.pointerDrag,h=a.pointerMove,q=eventjs.altKey,p=eventjs.metaKey,m=eventjs.shiftKey;f&&z()&&(b.self=a,b.point=d,T(),G(d));var v=t.pointAtop,x=t.pointAtopStart;c=t.pointOnPath;a=b.pathRecord;var k=a.length;b.ghostIdx=void 0;if(f)if(R(""),b.selected=void 0,b.adding=!1,b.bendingSegment=!1,b.closingPath=!1,b.convertingPoint=!1,b.deletingPoint=!1,b.editingPath=!0,b.movingPoint=!1,b.movingPointLocked=!1,b.movingSegment=
!1,b.splittingSegment=!1,0===k)A(d,"M"),E(d),Q();else if(v){b.selected=v;if(p)if(b.deletingPoint=!0,d=v.idx,a=v.type,"point"===a){c=N();a=c[d];if(c=c[d+1])"M"===a.cmd?F(c,"M"):"C"===c.cmd&&(c.x1=a.x1,c.y1=a.y1),c.bbox=void 0;K(d,1)}else v=N(),c=v[d-1],q=v[d],d=v[d+1],"cp1"===a?(q.x1=c.x,q.y1=c.y,c.angleLock=q.x1===c.x2&&q.y1===c.y2):(q.x2=q.x,q.y2=q.y,q.angleLock=q.x2===d.x1&&q.y2===d.y1),I(q,c),q.bbox=void 0;else m?b.movingPoint=!0:x?(A(v,"Z"),b.closingPath=!0,b.selected={type:"point",idx:H()}):
(d="point"===v.type,!q&&d||q&&!d?b.movingPointLocked=!0:C(a,v));Q()}else if(c){b.selected=c;if(p)a:switch(b.splittingSegment=!0,d=c.idx,v=c.time,q=a[d-1],a=a[d],c.cmd){case "C":v=s.split(q.x,q.y,a.x1,a.y1,a.x2,a.y2,a.x,a.y,v);c=s.fromArray(v[0].slice(2));v=s.fromArray(v[1].slice(2));c.angleLock=q.angleLock;v.angleLock=a.angleLock;K(d,1,c,v);break a;case "L":a.bbox=void 0,c=l.atTimeOnLine(q,a,v),c.cmd="L",K(d,0,c)}else q?b.movingSegment=c:b.bendingSegment=c;Q();b.__dblTapObject=void 0}else b.isEditing||
(E(d),Q());else if(g)if(b.editingPath=!1,b.closingPath)b.savePath("closingPath");else{if(a=a[k-2])a.bbox=void 0;G(d);T();Q()}else if(e){if(b.deletingPoint||b.splittingSegment)return Q(),!0;b.movingPoint||b.movingPointLocked?(c=b.selected,q=c.type,c=c.idx,v=a[c],f=a[c+1],a=a[c-1],"point"===q?(a=v.x-d.x,d=v.y-d.y,b.movingPoint?(c=N()[c],c.x-=a,c.y-=d,c.angleLock=!1,c.bbox=void 0):D(c,a,d)):"cp1"===q?B(v,f,a,d,"x1","y1"):"cp2"===q&&B(v,f,a,d,"x2","y2")):b.movingSegment?(a=b.movingSegment,c=a.idx,v=a.point,
q=v.x-d.x,v=v.y-d.y,D(c,q,v),D(c-1,q,v),a.point=d):b.bendingSegment?(c=b.bendingSegment,q=c.point,e=q.x-d.x,h=q.y-d.y,f=Math.min(.98,Math.max(.02,c.time)),g=1-f,q=3*f*g*g,p=3*f*f*g,m=.5>=f?Math.pow(2*f,3)/2:1-Math.pow(2*g,3)/2,v=(1-m)/q,q=v*e,v*=h,p=m/p,e*=p,h*=p,f<1/3?(e=q*f,h=v*f):f>2/3&&(q=e*g,v=h*g),p=b.selected.idx,f=a[p],g=a[p-1],a=a[p+1],"L"===f.cmd&&(s.fromLineSegment(g,f,f),f.angleLock=!1),f.x1-=q,f.y1-=v,f.x2-=e,f.y2-=h,f.bbox=void 0,g&&g.angleLock&&isFinite(g.x2+g.y2)&&(q=J(l(f.x1,f.y1),
g),g.x2=q.x,g.y2=q.y,g.bbox=void 0),a&&f.angleLock&&isFinite(a.x1+a.y1)&&(q=J(l(f.x2,f.y2),f),a.x1=q.x,a.y1=q.y,a.bbox=void 0),c.point=d):b.convertingPoint||b.useCubic?C(a,d):G(d);Q()}else h&&(G(d),Q());return!0};var C=function(a,c){b.convertingPoint=!0;var d=b.selected,f=d.idx,g=d.type;"cp1"===g&&f--;var e=a[f],h=l.distance(e,c),p=h;"cp2"===g&&(h=p=-h);if("Z"===e.cmd){var m=a.length,g=a[(m+f+1)%m],m=a[(m+f+2)%m],v=isFinite(m.x1+m.y1)?l(m.x1,m.y1):e;void 0===d.point&&(m=l.angle(g,v),d.point=l.atRadianDistance(e,
m,.001));p<=q&&(c=d.point);p=l.distance(g,v)}var m=l.angle(e,c),d=l.atRadianDistance(e,m,-h),e=l.atRadianDistance(e,m,+p),g=f,f=N(),m=f.length,v=g-1,t=g,p=g+1,h=f[g],h=h.cmd;"M"===h?"Z"===f[m-1].cmd&&(g=m-1,t=(m+g-1)%m,v=(m+g-2)%m,p=(m+g+2)%m):"Z"===h&&(t=(m+g-1)%m,v=(m+g-2)%m,p=(m+g+2)%m);h=f[t];g=f[v];f=f[p];h&&("M"===h.cmd?b.adding&&(f.x2=d.x,f.y2=d.y):(h.cmd="C",h.x2=d.x,h.y2=d.y,h.bbox=void 0,void 0!==g.angleLock&&b.adding||(g.angleLock=!0),isFinite(h.x1+h.y1)||(h.x1=g.x,h.y1=g.y)));f&&(f.cmd=
"C",f.x1=e.x,f.y1=e.y,f.bbox=void 0,void 0!==h.angleLock&&b.adding||(h.angleLock=!0),isFinite(f.x2+f.y2)||(f.x2=f.x,f.y2=f.y));g&&(I(f,h),I(h,g))},J=function(a,b){var c=l.distance(a,b),d=l.angle(a,b);return l.atRadianDistance(b,d,c)},D=function(a,b,c){var d=N(),f=d[a];a=d[a+1];f.x-=b;f.y-=c;f.bbox=void 0;a&&isFinite(a.x1+a.y1)&&(a.x1-=b,a.y1-=c,a.bbox=void 0);isFinite(f.x2+f.y2)&&(f.x2-=b,f.y2-=c)},B=function(a,b,c,d,f,g){b=l(a[f],a[g]);var e=b.y-d.y;a[f]-=b.x-d.x;a[g]-=e;a.bbox=void 0;"x1"===f?c.angleLock=
!1:a.angleLock=!1},E=function(a){A(a,"L");b.adding=!0;b.selected={type:"point",idx:H()-1}},A=function(a,c){a=l.clone(a);a.cmd=c;b.batchRecord.push(a);b.pathRecord.push(a);b.point=a},I=function(a,b){a.x1===b.x&&a.y1===b.y&&a.x2===a.x&&a.y2===a.y&&F(a,"L")},F=function(a,b){a.cmd=b;delete a.x1;delete a.y1;delete a.x2;delete a.y2},G=function(a){if(!1===b.isEditing){var c=t.pointAtopStart,d=N(),f=d.length-1,g=d[f];g&&(c&&(c=d[0],a.x=c.x,a.y=c.y),g.x=a.x,g.y=a.y,"C"===g.cmd&&(g.x2=a.x,g.y2=a.y),b.ghostIdx=
f)}};b.closePath=function(){var a;a=N();a=(a=a[a.length-1])?"Z"===a.cmd:void 0;if(!0!==a){a=N();var c=a[0];c&&2<a.length&&(G(c),A(c,"Z"),b.ghostIdx=void 0)}};b.savePath=function(a){L();a=N();if(1<a.length){b.usePolygon&&b.closePath();var c=y.copy(a);K(-a.length);b.toolkit.createObject({device:b,object:{path:c}},function(a){b.toolkit.closePointerThread();b.toolkit.addToHistory(a);b.toolkit.renderToScene(a);Q()})}else P()};var L=function(){var a=b.ghostIdx;isFinite(a)&&(K(a,1),b.ghostIdx=void 0)};(function(){var a=
{bbox:!0,hovered:!0},b=function(b,c){return a[b]?void 0:c};return function(a){console.log(JSON.stringify(a,b,"\t"))}})();var K=function(a,c){var d=Array.prototype.slice.call(arguments);Array.prototype.splice.apply(b.batchRecord,d);Array.prototype.splice.apply(b.pathRecord,d);t.pointAtop=void 0},N=function(){return b.path||b.pathRecord||[]},H=function(){return(b.path||b.pathRecord||[]).length-1},Q=function(){b.dirtyRender=!0;c.dirtyPointer=!0},T=function(){b.self&&b.onPointerMove(b.self,b.point)},
P=function(){t={};Q();c.removePointer(b.pointerId);c.scene("resetPath")},R=function(a){r.tooltip&&r.tooltip.update(a)},X=function(){K(-1,1);G(b.point);T();Q();b.__dblTapObject=void 0};b.onBackspaceKey=b.onDeleteKey=function(a){if("down"===a.state)if(1<H())X();else return P(),!0};b.onUndo=function(a){if(1<H())X();else return P(),!0};b.onRedo=function(a){console.log("redo");return!0};b.onAltKey=b.onMetaKey=b.onShiftKey=function(a){T();Q();b.__dblTapObject=void 0};b.onEnterKey=b.onEscapeKey=function(a){"down"===
a.state&&b.savePath("onEscapeKey")};var W=function(a,b,c,d){a.beginPath();a.arc(b.x,b.y,d,0,2*Math.PI);a.fillStyle=c;a.fill();a.lineWidth=.75;a.strokeStyle="#fff";a.stroke()},U=function(a,b,c,d){a.beginPath();a.rect(b.x-d,b.y-d,2*d,2*d);a.fillStyle=c;a.fill();a.lineWidth=1;a.strokeStyle="#000";a.stroke()},V={L:function(a,b,c,d){a.beginPath();a.moveTo(b.x,b.y);a.lineTo(c.x,c.y);a.lineWidth=1;a.strokeStyle=d;a.stroke()},C:function(a,b,c,d){a.beginPath();a.moveTo(b.x,b.y);a.bezierCurveTo(c.x1,c.y1,c.x2,
c.y2,c.x,c.y);a.lineWidth=1;a.strokeStyle=d;a.stroke()}};b.construct(g,m)}};k.registerToolkit("brush.path",e("path"));k.registerToolkit("brush.polygon",e("polygon"));k.registerToolkit("brush.polyline",e("polyline"))})(sketch);
(function(k){var e=String.fromCharCode(65279);k.registerToolkit("text",function(d,a){var h=this,g=a.canvas2d,m=a.render,b=a.scene,c=a.toolkit,f=d.util,k=d.vector,r=d.feature.tools.text;h.id="text";h.units="objectBoundingBox";h.container=document.createElement("div");h.container.className="sk-textarea-wrap";var y={x:200,y:18,width:400,height:470,rotate:0,scale:{x:1,y:1}};h._attributes={content:"string",blur:"number",fontFamily:"string",fontSize:"number",fontStyle:"string",fontVariant:"string",fontWeight:"string",
letterSpacing:"number",lineHeight:"number",textAlign:"string",textDecoration:"string",textShadow:"string",textTransform:"string",whiteSpace:"string"};var u=f.copy(h._attributes);h.attributes=f.copyInto(d.attrs.__styledObject,u);(function(){var b={};h.enabled=!1;h.enable=function(){!1===h.enabled&&(h.enabled=!0,c.select&&c.select.enable({events:b,cursor:!0,key:!0,mouse:!0,gesture:!0,searchParam:{toolkitId:r.useSearch}}))};h.disable=function(){!0===h.enabled&&(h.enabled=!1,a.__editing&&h.hide(),eventjs.removeEvents(b))}})();
h.show=function(a){if(a=a||b.getOneSelected())"text"===a.type?(a.dirtyControl=!0,a.__content={id:a.id,content:a.content},h.setContent(a.content),h.showArea(a),m.dirtyControls=!0,m.scene("text.show")):h.hideArea()};h.hide=function(){h.hideArea();var c=a.selection.item;if(c){if("text"===c.type){var d=h.getContent();if(d.trim()&&d!==e)c.dirtyCheck=!0,c.content=d,h.updateObjectSize(c);else{J()?(a.history.pop(),b.removeByIndex(c.zIndex,!1)):b.removeByIndex(c.zIndex,!0);c.__content=void 0;return}}(d=c.__content)&&
void 0!==d.id&&(h.historyUpdateText(d,b.getById(d.id)),c.__content=void 0)}};h.showArea=function(b){a.__editing=!0;h.updateObjectSize(b);h.container.style.opacity=1;h.container.style.display="block";h.focus()};h.hideArea=function(){a.__editing=!1;h.container.style.opacity=0;h.container.style.display="none";h.blur()};h.disableArea=function(){h.container.style.pointerEvents="none";h.blur()};h.enableArea=function(a){h.container.style.pointerEvents="auto";h.focus()};h.loadResource=function(a){var b=a.object,
c=a.onerror,g=a.onsuccess;d.style.load(b,function(){h.loadFont({fontFamily:b.fontFamily||"Arial",onerror:function(a){c&&c(b,a)},onsuccess:function(){b.dirtyCheck=!0;b.render=s;var a=b.bbox||(b.bbox=f.copy(y));a.owidth=a.owidth||a.width;a.oheight=a.oheight||a.height;g&&g(b)}})})};var s=function(c,d,g){if(!a.__editing||this.id!==a.selection.id){d=b.copyAttributes(h._attributes,this,{ctx:c,bbox:f.copy(this.bbox),composite:this.composite,opacity:this.opacity,textMetrics:this.__textMetrics});this.fill&&
this.fill.enabled&&(d.fill=this.fill);this.stroke&&this.stroke.enabled&&(d.stroke=this.stroke);var e=d.bbox,l=e.width,q=e.height,p=e.scale;e.rotate=0;e.x=0;e.y=0;g?e.scale={x:1,y:1}:!1===r.useHTML&&(g=p.x,p=p.y,l=0>g?-l*g:0,q=0>p?-q*p:0,(l||q)&&c.translate(l,q));this.__textMetrics=h.measureText(d)}};h.loadFont=function(a,b,c){"string"===typeof a&&(a={fontFamily:a});b=b||a.onsuccess;c=c||a.onerror;var g=a.fontFamily;a=function(a){a?c&&c("&ldquo;"+g+"&rdquo; font-family unavailable."):b&&b()};if(k.text.detectFont(g))b&&
b();else if(d.lib.text.byName[g]){var e=f.copy(d.lib.text.byName[g]);e.family=e.family||e.name;e.filepath=d.lib.text.getSrc(e);e.useLoader=!0;k.text.attach(e,a)}else k.text.attachFromGoogleAPI(g,a)};var l={"Shift Backspace":["forwardDelete"],"Ctrl Shift [":["justifyLeft"],"Ctrl Shift ]":["justifyRight"],"Ctrl Shift \\":["justifyCenter"],"Ctrl Shift Alt \\":["justifyFull"],"Meta Shift S":["strikeThrough"],"Meta B":["bold"],"Meta I":["italic"],"Meta U":["underline"]},p=function(b){if(r.useHTML){setTimeout(function(){h.updateObjectSize();
q()},0);var c=[];eventjs.metaKey&&c.push("Meta");eventjs.ctrlKey&&c.push("Ctrl");eventjs.shiftKey&&c.push("Shift");eventjs.altKey&&c.push("Alt");c.push(eventjs.fromKeyCode[b.keyCode]);if(c=l[c.join(" ")])document.execCommand(c[0],c[1],c[2]),eventjs.cancel(b)}else eventjs.metaKey&&(b=b.keyCode,86===b||88===b||90===b?setTimeout(function(){h.updateObjectSize();q()},25):(c=a.selection.item)&&(85===b?h.toggleTextStyle(c,"textDecoration","underline","none"):73===b?h.toggleTextStyle(c,"fontStyle","italic",
"normal"):66===b&&h.toggleTextStyle(c,"fontWeight","bold","normal")))},t=function(b){if(r.useHTML)setTimeout(function(){h.updateObjectSize();q()},0);else{var c=a.selection.item;if(void 0!==c&&0!==b.which&&8!==b.keyCode&&!eventjs.metaKey){eventjs.prevent(b);var d=h.getContent();b=h.cleanText(String.fromCharCode(b.charCode||b.keyCode));if("pre-nowrap"!==c.whiteSpace||10!==b.charCodeAt()){var c=h.textarea,f=k.text.getRange(c);if(f){var g=d.substr(0,f.startOffset),d=d.substr(f.endOffset);h.setContent(g+
b+d);(d=h.cleanText(g+b).length)&&k.text.setRange(c,d,d);h.updateObjectSize();q()}}}}},x=function(c){if(r.useHTML)h.updateObjectSize(),q(),(c=a.selection.item)&&a.on.record&&a.on.record({op:"SCENE_UPDATE",data:[{id:c.id,content:h.getContent()}]});else if(27===c.keyCode)b.deselectAll(),q();else if(eventjs.metaKey&&(88===c.keyCode||86===c.keyCode))h.updateObjectSize(),q();else if(8===c.keyCode){var d=h.getContent(),f=k.text.getRange();f&&(c=d.substr(0,f.startOffset),d=d.substr(f.endOffset),h.setContent(c+
d),(c=c.length)&&k.text.setRange(h.textarea,c,c),h.updateObjectSize(),q())}},q=function(){var d=a.selection.item;d&&(b.updateTransform(d),c.renderSceneControls(d.zIndex,!0))};h.createObject=function(a,c){var d=a.object,d=b.addObject(h.mergeObjectDefaults(d));c&&c(d)};h.onRecord=function(f,e){e.pointerStart&&eventjs.stop(f);d.client.mobile&&eventjs.prevent(f);if("eyeDropper"!==d.ui.colorPicker.state){var l=e.state,q=e.pointerStart,p=e.pointerDown,v=e.pointerEnd,t=c.getPointerId(f,e),x=isFinite(e.shiftKey)?
e.shiftKey:eventjs.shiftKey,k=isFinite(e.metaKey)?e.metaKey:eventjs.metaKey,s=!!f,w=s&&a.on.record;a.__interacting=p;if(s)if(q){if(eventjs.prevent(f),b.hoverControlIdx)return}else eventjs.cancel(f);p=m.pointer[t];if(!p||!p.object)if(s&&q)p=m.pointer[t]={},b.copyProperties(h,h.device,p.object={}),h.loadResource({object:p.object});else{console.warn("text.onRecord - no pointer");return}p.lastModified=Date.now();var p=p.object,u=p.type;if("function"!==typeof p.render)e.pause&&e.pause(),h.loadResource({object:p,
onsuccess:function(a){e.resume&&e.resume();h.onRecord(f,e)},onerror:function(a,b){console.error(a,b)}}),m.removePointer(t);else{if(w){var z;q&&(z=b.compress(b.copyProperties(h,p),!0));a.on.record({op:"TOOL",data:{config:z,toolkitId:"text",type:u,pointerId:t,state:l,point:b.pointInPeerSceneFromCanvas(e),metaKey:k,shiftKey:x}})}l=a.zoom;w=l*a.pixelRatio;x=(l-1)/l;k=a.scrollLeft*x;u=a.scrollTop*x;z=e.start.x/l+k;x=e.start.y/l+u;e.x=e.x/l+k;e.y=e.y/l+u;k=p.bbox;u=Math.min(z,e.x)-1*g.x/w;w=Math.min(x,
e.y)-1*g.y/w;z=Math.abs(z-e.x)||1;x=Math.abs(x-e.y)||1;q&&(p.toolkitId="text",h.blur());k.x=u;k.y=w;k.width=z;k.height=x;k.units=h.units;p.dirtyCheck=!0;p.dirtyTransform=!0;q=b.getConstraint(p,!1);k.x-=e.x<e.start.x?q.width-k.width:0;k.y-=e.y<e.start.y?q.height-k.height:0;k.width=k.owidth=q.width;k.height=k.oheight=q.height;k.viewBox=[0,0,q.width,q.height];if(v){m.removePointer(t);if(z<h.minWidth||x<h.minHeight)if(r.addByClick)z=a.viewport.width/3/l,x=2*p.fontSize/l,p.fontSize/=l,z=k.width=Math.max(h.defaultWidth,
z),x=k.height=Math.max(h.defaultHeight,x),k.viewBox=[0,0,z,x];else{p.dirtyControl=!0;m.dirtyControls=!0;m.scene("toolkit.text.record");return}k.owidth=k.width;k.oheight=k.height;h.updateObjectSize();p=b.addObject(p,{useHistory:!0});s&&(b.selectByIdx(p.zIndex),h.show(p),h.focus(),h.updateCSS())}m.dirtyPointer=!0}}};h.focus=function(){h.textarea.focus()};h.blur=function(){h.textarea.blur()};h.selectAll=function(a){a=a||h.textarea;k.text.selectAll(a)};h.hasSelection=function(a){return k.text.hasSelection(h.textarea)};
h.updateBBox=function(){var b=a.selection.item;b&&(b.content&&h.setContent(b.content),h.updateCSSTransform(b),b.dirtyControl=!0,m.dirtyControls=!0,m.scene("toolkit.text.updateBBox"))};var v=String.fromCharCode(32),z=String.fromCharCode(160);h.cleanText=function(a){return(a||"").split(e).join("").split(z).join(v).split("&nbsp;").join(v).split("\r").join("\n")||e};h.getContent=function(){return r.useHTML?h.textarea.innerHTML:h.cleanText(h.textarea.textContent)};h.setContent=function(a){r.useHTML?h.textarea.innerHTML=
a:h.textarea.textContent=h.cleanText(a)};h.setForeColor=function(b,c,d,f){if(r.useHTML){"down"===d&&(b.__cache=b.content);var g=h.textarea,e=h.dummy||(h.dummy=document.createElement("span")),l=e.parentNode,q,p;if(a.__editing)if(h.hasSelection())"move"!==d&&"up"!==d||document.execCommand("undo",!1,null),document.execCommand("foreColor",!1,c);else{if(b=window.getSelection().focusNode){!1===k.text.nodeIsParentOfChild(g,b)&&(b=g,k.text.setRange(b,0,0));if(g=k.text.getRange(b))q=g.startOffset,p=g.endOffset;
h.selectAll(b.parentNode);C(c);g&&k.text.setRange(b,q,p)}}else q=b.content,f&&-1!==q.indexOf(f)?(g.innerHTML=q,b.content=q.split(f).join(c),b.dirtyCheck=!0):(e.contentEditable=!0,e.innerHTML=q,l.style.display="block",h.selectAll(e),C(c),b.content=g.innerHTML=e.innerHTML,b.dirtyCheck=!0,l.style.display="none"),"up"===d&&h.historyUpdateText({id:b.id,content:b.__cache},{id:b.id,content:b.content})}};var C=function(a){a?document.execCommand("foreColor",!1,a):document.execCommand("removeFormat",!1,"foreColor")};
h.historyUpdateText=function(b,c){if(a.history&&b&&c&&b.content!==c.content){var d=J();d?d.data[0].content=c.content:a.history.store({cmd:"update",icon:"text",name:"update-text",data:{from:[{id:c.id,content:b.content}],to:[{id:c.id,content:c.content}]}})}};var J=function(){var b=a.history.getLastCmd();if("add"===b.cmd&&"text"===b.name)return b};h.measureText=function(a){if(r.useHTML){var b=a.bbox,c=b.scale,d=c.x,f=c.y,c=eventjs.getDocumentScroll(),g=c.pageXOffset,e=c.pageYOffset,c=h.dummy||(h.dummy=
k.text.createMeasureElement()),l=c.parentNode,q=0>d?b.width*-d:0,p=0>f?b.height*-f:0;c.className="sk-dummy-text";c.style.left=q+g+"px";c.style.top=p+e+"px";k.text.setFontStyle(a,c);c.style.msTransform=c.style.mozTransform=c.style.webkitTransform=c.style.transform="matrix("+d+", 0, 0, "+f+", -"+g+", -"+e+")";c.style.msTransformOrigin=c.style.mozTransformOrigin=c.style.webkitTransformOrigin=c.style.transformOrigin="0 0 0";c.style.color=a.fill&&a.fill.color?a.fill.color:"black";c.innerHTML=a.content;
l.style.display="block";c.style.display="inline-block";c.style.height="auto";c.style.width="auto";d=c.offsetWidth;f=c.offsetHeight;c.style.display="block";c.style.height=b.height+"px";c.style.width=b.width+"px";a.ctx?html2canvas(c,{canvas:a.ctx.canvas,onrendered:function(a){l.style.display="none"}}):l.style.display="none";return{width:d,height:f}}a.content=k.text.entities(a.content);return k.text.drawLineBreaks(a)};h.updateObjectSize=function(c){var d=void 0===c?h.getContent()||" ":c.content||" ";
if(c=c||a.selection.item){var f=c.scale?c.scale.max:1,g=(c.diameter||0)*f,e=c.bbox,f=e.scale,l=b.copyAttributes(h._attributes,c,{bbox:e});l.content=r.useHTML?d:k.text.format(d,c);if("pre-nowrap"===c.whiteSpace){var q=e.owidth;l.bbox.width=0;var p=h.measureText(l),m=k.text.getFontStyle(c),m=k.text.measureTextWidth("M",m),m=p.width+m;q===m?l.bbox.width=q:(e.x+=(q-m)/2*f.x,e.viewBox[2]=e.owidth=e.width=m,c.dirtyCheck=!0)}else p=h.measureText(l);r.useHTML?r.autoHeight&&(e.height=p.height):c.__textMetrics=
p;c.content!==d&&(c.dirtyCheck=!0);d=e.owidth+g/2;g=p.height+g/2;e.height!==g&&(c.dirtyCheck=!0,c.dirtyControl=!0,r.autoHeight&&(e.width=d,e.height=g,e.viewBox=[0,0,d,g],h.container.style.height=g+"px"));h.updateCSS(c)}};h.createTextarea=function(){if(h.textarea){var a=h.textarea.style.cssText,b=h.getContent();h.textarea.parentNode.removeChild(h.textarea);h.styleCode.parentNode.removeChild(h.styleCode)}else d.ui.tooltip&&d.ui.tooltip.add(h.container,""),b=a="";var c=h.styleCode=document.createElement("style");
c.type="text/css";h.container.appendChild(c);c=h.textarea=document.createElement("div");c.className="textarea";c.setAttribute("contentEditable","true");c.style.cssText=a+";"+k.text.CSSWhiteSpace.preWrap;h.setContent(b);h.container.appendChild(c);eventjs.add(c,"drag",eventjs.stop);eventjs.add(c,"mouseup",eventjs.stop);eventjs.add(c,"keydown",p);eventjs.add(c,"keypress",t);eventjs.add(c,"keyup",x);return c};h.updateCSS=function(a){h.updateCSSStyle(a);h.updateCSSTransform(a)};h.updateCSSTransform=function(c){if((c=
c||a.selection.item)&&c.bbox&&a.__editing){var d=a.pixelRatio,f=a.zoom,e=a.scrollLeft*(f-1),l=a.scrollTop*(f-1),q=c.bbox,p=isFinite(c.opacity)?c.opacity:100,v=m.cache.padding/2,t=q.rotate,x=q.scale.x+1E-7,s=q.scale.y+1E-7,u=function(a){return{left:(a.x-(z-z*a.scale.x)/2)*f+g.x/d-e,top:(a.y-(C-C*a.scale.y)/2)*f+g.y/d-l}},z=q.width,C=q.height,y=u(q),J=Math.max(0,z-0)*f,v=Math.max(0,C-v-0)*f;if(r.clip)var y=b.getBoundingBox(),W=a.viewport,z=Math.min(J,(W.width-y.x)/x),C=Math.min(v,(W.height-y.y)/s),
y=u(q);else z=J,C=v;q=h.container.style;q.padding="0px";q.opacity=p/100;q.left=y.left+"px";q.top=y.top+"px";q.width=z+"px";q.height=C+"px";k.text.setFontStyle(c,h.container,a.zoom);h.textarea.style.display="block"===h.textarea.style.display?"inline-block":"block";h.textarea.style.width=J+"px";h.textarea.style.height=v+"px";q.transform=q.msTransform=q.OTransform=q.MozTransform=q.WebkitTransform="rotate("+t+"deg) scale("+x+","+s+")";q.transformOrigin=q.msTransformOrigin=q.OTransformOrigin=q.MozTransformOrigin=
q.WebkitTransformOrigin="50% 50%"}};h.updateCSSStyle=function(b){var c=(b=b||a.selection.item)&&b.fill;if(c){var f=h.textarea,g=c.type,e="webkitFilter"in f.style;if("webkitBackgroundClip"in f.style&&e&&!r.useHTML){switch(g){case "color":var l="background: "+c.color;break;case "gradient":l=d.style.toCSSGradientBG({type:"linear",dna:c.gradient,angle:-c.angle-90});break;case "pattern":l="background: url("+d.loc.getMediaUrl(c.pattern)+")"}h.styleCode.innerHTML="\t\t\t\t\tdiv.sk-textarea-wrap div.textarea { "+
l+" }\t\t\t\t";f.setAttribute("data-content",f.innerHTML);h.container.style.background=b.background&&b.background.color||"";f.style.webkitBackgroundClip=f.style.backgroundClip="text";f.style.webkitTextFillColor=f.style.textFillColor="transparent";b=d.style.getComposite();f.style.webkitBackgroundBlendMode=f.style.backgroundBlendMode=b}else{switch(g){case "color":l=c.color;break;case "gradient":case "pattern":l="#000"}f.style.color=l}}};h.toggleTextStyle=function(a,b,c,d){a[b]=a[b]===d?c:d};h.createTextarea();
h.container.appendChild(h.textarea);a.container.appendChild(h.container);return c.init(h)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){function e(){if(document.createRange){f.elBreaks=f.createMeasureElement();var b=document.createElement("span");document.body.appendChild(b);f.spaceOffset=1;var c=f;var d=k.client;d?(document.body.removeChild(b),b=d.safari||d.chrome?0:1):(d=document.createRange(),b.textContent="d\u2014d",b.className="wrap",b.style.cssText="display: block; width: 1.6em; "+f.CSSWhiteSpace.preWrap+" font: bold 22px arial;",d.setStart(b.firstChild,0),d.setEnd(b.firstChild,b.textContent.length),d=d.getClientRects(),
document.body.removeChild(b),b=2<d.length?1:0);c.useWrapSpace=b;f.mOffset=f.useWrapSpace?0:1;return f.getLineBreaks=a}return document.body.createTextRange?(f.elBreaks=f.createMeasureElement(),f.getLineBreaks=h):f.getLineBreaks=g}function d(a){var b=f.elBreaks||(f.elBreaks=f.createMeasureElement());b.parentNode.style.display="block";b.style.display="inline-block";b.style.width=a.width?a.width+"px":"auto";b.style.font=a.font;b.style.letterSpacing=(a.letterSpacing||0)+"px";b.style.textAlign=a.textAlign||
"left";b.style.textDecoration=a.textDecoration||"none";b.style.textTransform=a.textTransform||"none";return b}function a(a){var b=d(a);b.innerHTML=a.content;a=b.firstChild||b;var c=document.createRange();c.setStart(a,0);c.setEnd(a,0);var g=1,e=a.textContent,l=e.length,h=[],p=0,m=c.getClientRects();if(0===m.length)return{data:h,lines:h.length,height:1,width:1};for(var t=m[m.length-1].top,x=f.spaceOffset,k=f.mOffset,s=b.offsetHeight,r=b.offsetWidth,w=[],u=[],y=function(a){h.push(a);u.push({data:w,width:X.width});
w=[]};e;){if(g>l){y(e);break}c.setStart(a,p);c.setEnd(a,g);g++;var m=c.getClientRects(),T=m.length,P=m[T-1],R=t!==P.top,X=R?m[Math.max(0,T-3)]||m[Math.max(0,T-2)]:P,m=g-1-p-x+k,m=e.substr(0,m).substr(-1),T=m.charCodeAt();m&&65279!==T&&w.push({character:m,width:X.width,height:X.height,left:X.left,top:X.top});R&&(g--,m=g-p-x+k,y(e.substr(0,m)),e=e.substr(m),p=g-x+k,t=P.top)}b.parentNode.style.display="none";return{data:h,lineMetrics:u,lines:h.length,height:s,width:r}}function h(a){var b=d(a);b.innerHTML=
a.content;a=document.body.createTextRange();for(var c=1,f=target.innerText,g=f.length,e=[],l=0,h=b.offsetHeight,p=b.offsetWidth;f;){if(c>g){e.push(f);break}a.moveToElementText(target);a.collapse(!0);a.moveEnd("character",c);a.moveStart("character",l);a.select();c++;1<a.getClientRects().length&&(c--,e.push(f.substr(0,c-l-1)),f=f.substr(c-l-1),l=c-1)}b.parentNode.style.display="none";return{data:e,lines:e.length,height:h,width:p}}function g(a){for(var b=function(b){g.push(b);b=f.measureText(b,a.font);
x+=b.height;m=Math.max(b.width,m)},c=function(){if(!(f.measureTextWidth(e,a.font)<=a.width)){for(var c=e.length,d=0,g=0,h=0;h<c;h++){var p=e.substr(d,++g).replace(t,"");f.measureTextWidth(p,a.font)>a.width&&(p=p.substr(0,p.length-1).replace(t,""),p.match(l)?(d=p.split(l),p=p[d[0].length],h-=d[1].length,b(d[0]+p)):p.match(" ")?(d=p.split(" "),h-=d.pop().length,b(d.join(" "))):b(p),d=h,g=1)}return e.substr(d,g+1)}},d=a.content.split("\n"),g=[],e="",h,m=0,x=0,k=0;k<=d.length;k++){if(e){b(e);if(k===d.length)break;
e=""}for(var s=d[k],r=s.split(p),w=0,u=0;u<r.length+2;u++){var y=0>w-1?"":s.substr(w-1,1),H=r[u]||"";if(f.measureTextWidth(e+y+H,a.font)<=a.width)e+=y+H;else if(h=c())e=h+y+H;else{h=y.match(l)?y:"";if(e||y)f.measureTextWidth(e+h,a.font)>a.width?"\u2013"===h?H=e+h+H:(b(e),H=h+H):b(e+h);e=H}w+=H.length+1}}return{data:g,lines:g.length,height:x,width:m}}var m=k.util,b=k.lang,c=k.vector=k.vector||{},f=c.text=c.text||{};f.entities=function(a){return(a||"").split(String.fromCharCode(160)).join(String.fromCharCode(32)).replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")};f.format=function(a,b){if(b.textTransform)switch(b.textTransform){case "uppercase":a=a.toUpperCase();break;case "lowercase":a=a.toLowerCase();break;case "capitalize":a=a.replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()})}if(b.whiteSpace)switch(b.whiteSpace){case "pre-nowrap":a=a.split("\n").join(" ");break;case "pre-line":case "nowrap":case "normal":a=a.replace(/\s{2,}/g," ")}return a};f.textTransform=function(a,b){switch(b){case "uppercase":return a.toUpperCase();
case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/^(.)|\s(.)/g,function(a){return a.toUpperCase()});default:return a}};f.getMetrics=function(a,b){var c="ltr";window.getComputedStyle&&(c=window.getComputedStyle(document.body,"").direction);var d=f.measureTextHeight(a,b),g=f.measureTextWidth(a,b);return y({marginReset:!0,text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";var e=f.image,l=e.offsetTop+1,h=l-d;a.style.cssText="font: "+
b+"; white-space: nowrap; line-height: 0; display: block;";var q=e.offsetTop+1;a.style.verticalAlign="sub";var p=l-(e.offsetTop-d);a.style.verticalAlign="super";return{font:b,direction:c,ascent:l,descent:-h,height:d,width:g,textBaseline:{alphabetic:0,top:l,hanging:8*l/10,middle:q,ideographic:h,bottom:h,subScript:p,superScript:l-(e.offsetTop-d)},textAlign:{left:0,start:-("ltr"===c)?0:g,end:-("ltr"===c)?g:0,right:-g,center:-g/2}}}})};f.measureText=function(a,b){return{width:f.measureTextWidth(a,b),
height:f.measureTextHeight(a,b)}};f.measureTextWidth=function(a,b){return y({text:a+a+a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: inline;";return a.offsetWidth/3}})};f.measureTextHeight=function(a,b){return y({text:"1<br>2<br>3<br>4<br>5<br>6<br>7",callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: inline;";return a.offsetHeight/7+.5>>0}})};f.textAlign=function(a,b){var c=window.getComputedStyle(document.body,"").direction,d=f.measureTextWidth(a,
b);return y({text:a,callback:function(a){return{left:0,start:-("ltr"===c)?0:d,end:-("ltr"===c)?d:0,right:-d,center:-d/2}}})};f.textBaseline=function(a,b){var c=f.measureTextHeight(a,b);return y({marginReset:!0,text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";var d=f.image.offsetTop+1,g=d-c;a.style.cssText="font: "+b+"; white-space: nowrap; line-height: 0; display: block;";return{alphabetic:0,top:d,hanging:8*d/10,middle:f.image.offsetTop+1,ideographic:g,
bottom:g}}})};f.textBaselineTop=function(a,b){return y({text:a,callback:function(a){a.style.cssText="font: "+b+"; white-space: nowrap; display: block;";return 1.315*f.image.offsetTop}})};var w,r,y=function(a){var b=document.body;f.expand||(f.parent=document.createElement("span"),f.text=document.createElement("span"),f.parent.appendChild(f.text),f.image=document.createElement("img"),f.image.style.cssText="vertical-align: baseline; background: #000; width: 10px; height: 1px; display: inline;",f.image.src=
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII=",f.parent.appendChild(f.image),f.expand=document.createElement("div"),f.expand.className="sk-expand",f.expand.appendChild(f.parent),f.container=document.createElement("div"),f.container.id="sk-text-metrics",f.container.appendChild(f.expand),b.insertBefore(f.container,b.firstChild));if(a)if(f.text.innerHTML=a.text,f.expand.style.cssText="display: block;",a.marginReset){a.setup&&1!==a.setup||
(w=b.style.padding,r=b.style.margin,b.style.padding=0,b.style.margin=0);if(!a.setup)var c=a.callback(f.parent);a.setup&&2!==a.setup||(b.style.padding=w,b.style.margin=r,f.expand.style.display="none");if(!a.setup)return c}else return c=a.callback(f.parent),f.expand.style.display="none",c;return f.container},u=f.getFontStyle=function(a){var b="";a.fontStyle&&(b+=a.fontStyle+" ");a.fontVariant&&(b+=a.fontVariant+" ");a.fontWeight&&(b+=a.fontWeight+" ");a.fontSize&&(b+=a.fontSize+"px ");a.fontFamily&&
(b+='"'+a.fontFamily+'"');return b};f.setFontStyle=function(a,b,c){c=c||1;var d=(a.fontSize||30)*c,f=a.textMetrics||a.__textMetrics;c=f&&f.lineHeight?Math.round(f.lineHeight*c)+"px":"normal";b=b.style;b.fontStyle=a.fontStyle||"normal";b.fontVariant=a.fontVariant||"normal";b.fontWeight=a.fontWeight||"normal";b.fontSize=d+"px";b.fontFamily=a.fontFamily||"Arial";b.letterSpacing=(a.letterSpacing||0)+"px";b.lineHeight=c;b.textAlign=a.textAlign||"center";b.textDecoration=a.textDecoration||"none";b.textTransform=
a.textTransform||"none";b.textShadow=a.textShadow||"none"};var s=1/(180/Math.PI);f.drawLineBreaks=function(a){var b=a.content;if(b){var c=u(a),g=a.ctx,e=a.bbox,l=a.textMetrics,h=a.fontSize||0,p=a.textAlign||"left",m=a.textDecoration||"none",t=a.textTransform||"none",x=a.letterSpacing||0,r=a.lineHeight||0,w=a.whiteSpace||"normal",y=a.useShrinkToFit||!1,N=a.useGrowToFit||!1,H=!!a.stroke&&!!a.stroke.lineWidth&&!1!==a.stroke.enabled,Q=!!a.fill&&!1!==a.fill.enabled,b=f.format(b,a);if(!l||!l.data){l={font:c,
content:b,textTransform:t,textDecoration:m,lineHeight:r,letterSpacing:x,width:e.width};if(y||N){c=d(l);c.innerHTML=b;b=c.offsetHeight;if(y&&b>e.height){for(;b>e.height&&!(1>h);)h-=5,c.style.font=u(a),b=c.offsetHeight;for(;b<e.height&&!(500<h);)h++,c.style.font=u(a),b=c.offsetHeight;h--}else if(N&&b<e.height){for(;b<e.height&&!(500<h);)h+=5,c.style.font=u(a),b=c.offsetHeight;for(;b>e.height&&!(1>h);)h--,c.style.font=u(a),b=c.offsetHeight}c.parentNode.style.display="none"}c=l.font=u(a);l=f.getLineBreaks(l);
l.baseline=f.textBaseline("test",c);l.lineHeight=l.height/l.lines}y={data:l.data,lines:l.lines,lineMetrics:l.lineMetrics,baseline:l.baseline,lineHeight:l.lineHeight,height:l.height,width:l.width,x:e.x,y:e.y};if(g){g.save();g.font=c;b=e.scale||{x:1,y:1};N=b.x;b=b.y;c=e.rotate*s;g.translate(e.x,e.y);c&&g.rotate(c);g.translate(-e.x*N,-e.y*b);1===N&&1===b||g.scale(N,b);H&&(g.lineWidth=a.stroke.lineWidth,g.strokeStyle=k.style.getStyle("stroke",g,0,0,e.width,e.height,a));Q&&(g.fillStyle=k.style.getStyle("fill",
g,0,0,e.width,e.height,a));a.clip&&(g.rect(e.x,e.y,e.width,e.height),g.clip());a.shadowBlur?(N=e.y,b=e.x,g.shadowOffsetX=a.shadowOffsetX||0,g.shadowOffsetY=a.shadowOffsetY||0,g.shadowBlur=a.shadowBlur||0,g.shadowColor=a.shadowColor||"#000"):(a=(a.blur||0)/2)?(N=e.y+a,b=e.x-l.width-h,g.shadowOffsetX=l.width+h,g.shadowOffsetY=0,g.shadowBlur=a,g.shadowColor="#000"):(N=e.y,b=e.x);a=0;switch(p){case "right":a=e.width;break;case "center":a=e.width/2}for(var w="pre-wrap"===w,c=l.baseline,t=c.top,r=l.data,
h=Math.max(.5,h/30),l=l.lineMetrics,T=0,P=r.length;T<P;T++){var R=T*y.lineHeight+N+t,X=r[T];w&&-1===X.indexOf("\n")||(X=X.replace("\n",""));if(0===x||void 0===l){var W=b+a;g.textAlign=p;Q&&g.fillText(X,W,R);H&&g.strokeText(X,W,R)}else for(var W=b,U=l[T],V=e.width-U.width,O=0;O<X.length;O++){var Y=U.data[O];Q&&g.fillText(X[O],W+V/2,R);H&&g.strokeText(X[O],W+V/2,R);W=Y.width}if(m&&"none"!==m&&l)switch(U=l[T],m){case "underline":g.fillRect(0,R+h+c.top-t,U.width,h);break;case "overline":g.fillRect(0,
R+h+c.alphabetic-t,U.width,h);break;case "line-through":g.fillRect(0,R+h+2*c.middle-t,U.width,h)}}g.restore()}return y}};var l=/[\u2014\u2013-]/,p=/[ \u2014\u2013-]/,t=/^\s+|\s+$/g;f.CSSWhiteSpace={};f.CSSWhiteSpace.preWrap="white-space: pre-wrap;white-space: -moz-pre-wrap !important;white-space: -pre-wrap;white-space: -o-pre-wrap;word-wrap: break-word;";f.getLineBreaks=function(a){return e()(a)};f.createMeasureElement=function(){var a=document.createElement("span");a.style.cssText=f.CSSWhiteSpace.preWrap;
a.className="lineBreakData";var b=document.createElement("div");b.appendChild(a);b.className="sk-expand";f.container=f.container||y();f.container.appendChild(b);return a};f.selectAll=function(a){if(a)if(document.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(a);b.select()}else if(window.getSelection){var c=window.getSelection(),b=document.createRange();b.selectNodeContents(a);c.removeAllRanges();c.addRange(b)}};f.nodeIsParentOfChild=function(a,b){for(var c=b;;){if(c===
a)return!0;if(c&&c.parentNode)c=c.parentNode;else return!1}};f.nodeHasFocusedAsChild=function(a){var b=window.getSelection().focusNode;return f.nodeIsParentOfChild(a,b)};f.hasSelection=function(a){return f.nodeHasFocusedAsChild(a)&&(a=f.getRange(a))?a.endOffset!==a.startOffset:!1};f.getRange=function(a){var b=window.getSelection();if(null===b)return a=f.getCursorPos(a),{startOffset:a,endOffset:a};if(f.nodeHasFocusedAsChild(a)&&(a=b.focusNode))return 3===a.nodeType?b.getRangeAt(0):a.firstChild?(a=
a.firstChild,{startOffset:0,endOffset:a.data&&a.data.length||0}):{startOffset:0,endOffset:0}};f.setRange=function(a,b,c){if(a){for(var d=document.createRange(),f=window.getSelection();a.firstChild;)a=a.firstChild;d.setStart(a,b);d.setEnd(a,c);f.removeAllRanges();f.addRange(d)}};f.getCursorPos=function(a){var b=0;if(window.getSelection){var c=window.getSelection();c.rangeCount&&(c=c.getRangeAt(0),c.commonAncestorContainer.parentNode===a&&(b=c.endOffset))}else document.selection&&document.selection.createRange&&
(c=document.selection.createRange(),c.parentElement()===editableDiv&&(a=document.createElement("span"),editableDiv.insertBefore(a,editableDiv.firstChild),b=c.duplicate(),b.moveToElementText(a),b.setEndPoint("EndToEnd",c),b=b.text.length));return b};f.attach=function(a,b){a.callback=b||a.callback;var c=new x(a);if(!c.detectFont(a)){var d=a.family,f=a.filepath,g=document.createElement("style");g.type="text/css";document.getElementsByTagName("head")[0].appendChild(g);d=0===f.indexOf("blob:")?'@font-face {\t\t\t\tfont-family: "'+
d+'";\t\t\t\tsrc: url("'+f+'");\t\t\t\tsrc: url("'+f+'?#iefix") format("embedded-opentype"),\t\t\t\t\turl("'+f+'") format("woff"),\t\t\t\t\turl("'+f+'") format("truetype"),\t\t\t\t\turl("'+f+"#"+d+'") format("svg");\t\t\t\tfont-weight: normal;\t\t\t\tfont-style: normal;\t\t\t}':'@font-face {\t\t\t\tfont-family: "'+d+'";\t\t\t\tsrc: url("'+f+'.eot");\t\t\t\tsrc: url("'+f+'.eot?#iefix") format("embedded-opentype"),\t\t\t\t\turl("'+f+'.woff") format("woff"),\t\t\t\t\turl("'+f+'.ttf") format("truetype"),\t\t\t\t\turl("'+
f+".svg#"+d+'") format("svg");\t\t\t\tfont-weight: normal;\t\t\t\tfont-style: normal;\t\t\t}';g.styleSheet?g.styleSheet.cssText=d:g.innerHTML=d;a.callback&&c.waitForFont(a)}};f.attachFromCSS=function(a,b){a.callback=b||a.callback;var c=new x(a);if(!c.detectFont(a)){var d=a.href.replace(/[^a-zA-Z 0-9]+/g,""),f=document.getElementById(d);if(f)return c=f.getAttribute("data-error"),a.callback?a.callback(c):c;a.link=f=document.createElement("link");f.href=a.href;f.id=d;f.setAttribute("rel","stylesheet");
f.setAttribute("type","text/css");f.onerror=function(){a.callback&&a.callback("404");f.setAttribute("data-error","404")};document.body.appendChild(f);c.waitForFont(a)}};f.attachFromGoogleAPI=function(a,b){f.attachFromCSS({family:a,href:window.location.protocol+"//fonts.googleapis.com/css?family="+a+":regular",callback:function(c){c&&(c="&ldquo;"+a+"&rdquo; font-family unavailable.");b&&b(c)}})};var x=function(a){a=a||{};var c=this;this.metrics=void 0;this.test=a.test||"Thequickbrownfox";this.font=
this.missing=this.arial=this.ctx=this.canvas=void 0;this.createHash=function(a){c.canvas.width=c.canvas.width;c.ctx.font=c.font;c.ctx.fillText(a,0,c.metrics.textBaseline.top);return c.ctx.canvas.toDataURL()};this.getHash=function(a){c.metrics||(c.metrics=f.getMetrics(c.test,"16px Arial, Helvetica"),c.canvas=m.Canvas(c.metrics.width,c.metrics.height),c.font="16px Arial, Helvetica",c.ctx=c.canvas.ctx,c.ctx.font="16px Arial, Helvetica",c.arial=c.createHash(c.test),c.missing=c.createHash(""));c.font=
'16px "'+a+'", Arial, Helvetica';return c.createHash(c.test)};this.detectFont=function(a){"string"===typeof a&&(a={family:a});if(!a)return console.log("missing opts");if(!a.family)return console.log("missing family",a);var b=a.family,d=a.callback,g=f.supports[b];if("boolean"===typeof g)return d&&d(),g;if("arial"===b.toLowerCase())return f.supports[a.family]=!0,d&&d(),!0;b=c.getHash(b);return b!==c.missing&&b!==c.arial?(f.supports[a.family]=!0,d&&d(),!0):!1};this.waitForFont=function(a){if(!c.detectFont(a)){var d=
m.timestamp(),g=a.timeout||2E4,e=function(b){f.supports[a.family]=!1;a.link&&a.link.setAttribute("data-error","timeout");clearInterval(q);a.callback("timeout");l()},l=function(){k&&k.loader&&k.loader.stop(a.family)},h=null,q=setInterval(function(){var b=c.getHash(a.family),p=m.timestamp()-d;b!==c.missing&&b!==c.arial?(f.supports[a.family]=!0,clearInterval(q),a.callback(),l()):p>g?e():a.filepath&&2E3<p&&!h&&(h=m.request({url:a.filepath,onerror:e}))},10);k&&k.loader&&a.useLoader&&k.loader.create(a.family,
b.translate("loading")+" &ldquo;"+a.family+"&rdquo;")}}},c=new x;f.supports={};f.detectFont=c.detectFont;f.waitForFont=c.waitForFont;"undefined"!==typeof module&&module.exports&&(module.exports=k.vector.text)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.Server=function(e,d){var a=this,h=e.feature,g=e.lang,m=e.util,b;a.auth=function(a){h.requireAuth?m.request({url:e.loc.host+"check-login.html",onsuccess:function(b){a("true"===b.target.responseText)}}):a(!0)};a.getResource=function(){if(e.loc.GET)return e.loc.getSketchID()||e.util.getRandomID();console.warn("GET not setup");return"new"};a.open=function(b,c){var k=e.loc.GET,y=a.getResource();if(void 0===y)return(k=h.session.path)?e.loc.setHash(h.sync.hashFlag,
k):(k=h.defaultSketch)?(k=k.replace("sketch=",""),e.loc.setHash(h.sync.hashFlag,k)):e.loc.setHash(h.sync.hashFlag,"new");if("new"===y)return d.reset(),d.render.dirty=!0,d.render.dirtyControls=!0,delete h.session.path,d.on.sketchReady(d);if(!e.client.nodewebkit){var u=g.translate("downloading")+"...";e.loader&&e.loader.create("thread",u);h.session.path=y;var s=function(){b&&b();d.on.sketchReady(d);e.loader&&e.loader.stop("thread")},y=y+"&format="+d.format+"&timestamp="+m.timestamp();m.request({url:k+
y,onerror:function(a){e.loader&&e.loader.create("thread",u,100);h.debug?console.log("server connection error",a):(e.loc.setHash(h.sync.hashFlag,"new"),c&&c())},onsuccess:function(a){a=a.target.responseText;if(a.startsWith("<?xml")||a.startsWith("<svg"))e.loader&&e.loader.create("thread",u,99),e.open.svg(a,s,s);else if(a.startsWith("<"))e.loader&&e.loader.create("thread",u,100),h.debug?console.log("invalid data from server",a):e.loc.setHash(h.sync.hashFlag,"new");else if(a.startsWith("{"))e.loader&&
e.loader.create("thread",u,99),e.open.json(a,s,s);else if(e.open.sketch){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c)&255;e.loader&&e.loader.create("thread",u,99);e.open.sketch(new Blob([b.buffer],{type:"application/zip"}),function(){d.on.sketchReady(d)})}else e.loader&&e.loader.create("thread",u,100),s()},onprogress:function(a){var b=a.total||parseInt(this.getResponseHeader("Content-xlength"));isNaN(b)||(a=a.loaded/b*100>>0,e.loader&&e.loader.create("thread",u,Math.max(0,
a-1)))}})}};a.save=function(f){f=f||{};var g=f.url,k=f.sync||h.sync,y=f.metadata||k.metadata||{},u=f.onabort||k.onabort,s=f.onerror||k.onerror,l=f.onprogress||k.onprogress,p=f.onsave||k.onsave;250>m.timestamp()-b||(b=m.timestamp(),a.auth(function(a){a?e.save.sync({sync:k,onprogress:function(a){l&&l(0,"prepare")},onsuccess:function(a){d.__lastSynchronized=d.__lastModified;for(var b in a)if("folder"===b)for(var f=a.folder,e=0;e<f.length;e++){var h=f[e];y[h.filename]=h.blob}else y[b]=a[b];c({url:g,metadata:y,
onabort:u,onerror:s,onprogress:function(a,b){l&&l(a,b)},onsave:p})}}):e.exec("login")}))};a.saveData=function(b){b=b||{};(function(){a.auth(function(a){a?c(b):e.exec("login")})})()};var c=function(a){var b=a.url||e.loc.POST,c=a.metadata,g=a.onabort,k=a.onerror,s=a.onprogress,l=a.onsave;if(!a||!m.count(c))return console.warn("server sync is not setup");a={action:b,confirm:"text",files:[]};var p=a.files,b=function(a,b){p.push({name:a,data:b})};if(h.sync.hashId){var t=h.session.path;t&&b("sync",t)}for(var x in c)b(x,
c[x]);"string"!==typeof c.fileName&&b("fileName",d.title);a.onprogress=function(a,b){s&&s(a.transferPercent,"sync")};a.onabort=function(a,b){g&&g(b)};a.onerror=function(a,b){k&&k(b)};a.onupload=function(a,b){h.debug&&console.log(a.transferTotal,b,a);"false"===b||"<"===b[0]?(console.warn("invalid server response",b),k&&k(b)):((h.sync.json||h.sync.zip||h.sync.svg)&&h.sync.hashId&&(e.loc.setHash(h.sync.hashFlag,b),m.setItem("sync",b)),e.emit("save",b,p),l&&l(b,p))};new e.uploader.upload(a)}}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.util.string,d=k.vector||(k.vector={}),a=k.util,h={},g={},m=1/(180/Math.PI),b=["g","switch","a"],c=d.SVG=function(b){if(!(this instanceof c))return new c(b);k=c.__self||k;a=k.util;b=b||{};this.convertMetrics=a.getScreenMetrics?this.convertMetrics||a.toMetrics||(a.toMetrics=a.getScreenMetrics()):{normal_px:16,"xx-small_px":9,"x-small_px":10,small_px:13,medium_px:16,large_px:18,"x-large_px":24,"xx-large_px":32,"%>px":.16,"px>pt":.7500187504687618,"pt>pc":.08333333333333333,"px>in":.010416666666666666,
"in>ft":.08333333333333333,"ft>yd":.3333333333333333,"px>mm":.2645833333333333,"mm>cm":.1,"cm>m":.01,"px>ex":.11951429390955158,"ex>em":.52295,"px>px":1,"px>pc":.06250156253906347,"pt>px":1.3333,"pc>px":15.9996,"pc>pt":12,"px>cm":.02645833333333333,"mm>m":.001,"mm>px":3.779527559055119,"m>mm":1E3,"cm>mm":10,"px>m":2.645833333333333E-4,"cm>px":37.795275590551185,"m>px":3779.527559055118,"m>cm":100,"px>ft":8.680555555555555E-4,"in>yd":.027777777777777776,"in>px":96,"yd>in":36,"ft>in":12,"px>yd":2.8935185185185184E-4,
"ft>px":1152,"yd>px":3456,"yd>ft":3,"px>em":.0625,"ex>px":8.3672,"em>px":16,"em>ex":1.9122287025528253};this.type="svg";this.cors=b.cors||!1;this.debug=b.debug||!1;this.debugSVG=b.debugSVG||!1;this.debugBBox=b.debugBBox||!1;this.debugHitArea=b.debugHitArea||!1;this.placement=b.placement||"bbox";this.defaultStroke=this.defaultFill="#000000";this.state={fillStyle:"#000000"};this.defs={};this.vob={type:"svg"};this.batch=0;this.skipRender=b.skipRender||!1;this.useCache=b.useCache||!1;this.uid=0;b.src&&
(this.src=b.src);b.srcs&&(this.srcs=b.srcs);b.data&&(this.data=b.data);b.ctxCache&&(this.ctxCache=b.ctxCache);b.ctx&&(this.ctx=b.ctx);b.onerror&&(this.onerror=b.onerror);b.onload&&(this.onload=b.onload);b.document&&(this.document=b.document);return b.src||b.document?this.load():this},f=c.prototype;f.load=function(){if(!this.src&&!this.data&&!this.document)return this;var a=this,b=k.util;if(this.src||this.data){var d=this.src||this.data;if("string"!==typeof d){if(this.onerror)this.onerror("not string");
return this}this.__id=k.util.hash(d);if(c.detect(d))return this.fromString(d),this;!1!==this.useCache&&"undefined"!==typeof document&&(this.document=document.getElementById(this.__id))}else if(this.document)return this.__id="#",this.onParseReady(),this;if(g[d]){if(this.onerror)this.onerror("404")}else if(this.document)if(h[this.__id]&&h[this.__id].loaded||this.srcs&&this.srcs[d])this.onParseReady();else a.onParseReady();else this.srcs&&this.srcs[d]?this.fromString(this.srcs[d]):b.request({url:d,onerror:function(){g[d]=
!0;if(a.onerror)a.onerror("404")},onsuccess:function(b){a.fromString(b.target.responseText)}});return this};c.decodeDataURL=function(a){a=a.split(/;(.+)/);a.shift();a=a.shift().split(/,(.+)/);var b=a.shift();a=a.shift();return"utf8"===b?a:atob(e.decode_utf8(a))};f.fromString=function(a,b){var d;d=new DOMParser;0===a.indexOf("data:image/svg")&&(a=c.decodeDataURL(a));this.srcXML=a;a=a.replace(/\<(\?xml|(\!DOCTYPE[^\>\[]+(\[[^\]]+)?))+[^>]+\>/g,"");a=a.replace(/(xmlns(:.*|)='&.*;')/g,"");this.document=
d=d.parseFromString("<object>"+a+"</object>","text/xml").documentElement;this.svg=d.querySelector?d.querySelector("svg"):d;this.document.id=this.__id;"undefined"===typeof module&&this.debugSVG&&document.body.appendChild(this.document);this.onParseReady(b);if(this.debugSVG)return this;this.document.style&&(this.document.style.visibility="hidden",this.document.style.opacity=0,this.document.style.zIndex=-1,this.document.style.width="1px",this.document.style.height="1px");return this};f.onParseReady=
function(b){if(h[this.__id]){if(this.onload)this.onload(h[this.__id]);return this}var c=this,d=a.timestamp(),f=this.document.contentDocument||this.document;this.loaded=!0;this.element=f;this.parse({document:f,skipRender:this.skipRender,node:{childNodes:[]},onload:function(f){if(f&&(c.vob=f[0],c.viewBox=c.getBoundingBox(null),c.viewBoxStroke=c.getBoundingBox(null,!0),c.debug&&console.log("parseTime",a.timestamp()-d),c.useCache&&(h[c.__id]=c),b&&b(c),c.onload&&c.onload(c),!c.debug))try{document.body.removeChild(c.document)}catch(g){}}})};
f.rxSplitByUppercase=/([A-Z]?[^A-Z]*)/g;f.rxAlphaNumeric=/[^A-Z0-9]+/gi;f.rxNumeric=/[+-]?\d*\.?(e[+-]?\d+)*/g;f.rxTransform=/(\w+\(([+-]?\d*\.?(e[+-]?\d+)*[, ]?)+\))+/gi;f.parse=function(a){if(a.node){if(a.document&&a.document.childNodes&&a.document.childNodes.length)var c=a.document.childNodes;else if(a.document){var f=a.document.nodeName.toLowerCase();if(s[f])c=[a.document];else{if(a.onload)a.onload([]);return this}}else{if(a.onload)a.onload([]);return this}a.defs&&(this.defs=a.defs);for(var g=
this,e=d.Shape,h=a.node.childNodes,m=a.svg||g.svg,k=a.skipRender||!1,u=a.ctx||this.ctx,y=[],B=0,E=c.length;B<E;B++){var A=c[B],f=A.nodeName.toLowerCase();"#"!==f[0]&&(0===f.indexOf("svg:")&&(f=f.substr(4)),0===f.indexOf("scalable_vector_graphics:")&&(f=f.substr(25)),0===f.indexOf("sketchjs:")&&(f=f.substr(9)),A.type=f,y.push(A))}var I=y.length,F=-1,G=function(){if(0===++g.batch%250)setTimeout(G,0);else if(++F===I){if(a.onload)a.onload(h)}else{var c=y[F],f=c.type,p="";u&&u.save();if("none"===r(c).display)return G();
switch(f){case "svg":g.currentNode=p=g.getAttributes(c,"id,x,y,width,height,viewBox,version,source,author,license,keywords,metadata,brush");p.matrix=d.Transform.getIdentity();p.type="svg";if(void 0!==d.SVGFont){f=g.element.getElementsByTagName("font");f.length&&(g.vob.type||(g.vob=p),u&&(g.debug&&(u.canvas.style.border="1px solid rgba(0,0,0,0.1)",g.document.style.left=p.width+"px"),u.canvas.width=p.width||1,u.canvas.height=p.height||1),g.typeface=new d.SVGFont(u),g.document.width=p.width||1,g.document.height=
p.height||1,m=p);for(var t=0;t<f.length;t++)g.typeface.load(f[t].cloneNode(!0),function(a){})}if(p.viewBox){var t=p.viewBox,s=t[2]-t[0],B=t[3]-t[1],f=p.width||s,A=p.height||B;u&&(u.canvas.width=f,u.canvas.height=A);s=Math.min(f/s,A/B);B=new d.Transform;B.translate(-t[0],-t[1]);B.translate(f/2,A/2);B.scale(s,s);B.translate(-f/2*1/s,-A/2*1/s);u&&B.apply(u);p.matrix=B.matrix;p.transform=B.matrix;p.transform.type="transform"}else u&&(u.canvas.width=p.width,u.canvas.height=p.height);h.push(p);p.childNodes=
[];g.parse({skipRender:a.skipRender,document:c,node:p,svg:m,onload:function(a){p.childNodes=a;u&&u.restore();G()}});return;case "title":if(!m)break;m.title=c.textContent;break;case "desc":if(!m)break;m.desc=c.textContent;break;case "a":case "g":case "switch":if(g.currentNode=p=g.getAttributes(c,"id,labels"),p.parentNode=a.node,p.type="g",u&&u.beginPath(),g.parseTransform(c,"transform"),g.parseClipPath(c,!0),p.style=g.parseStyle(u,c,!k),c.hasChildNodes){h.push(p);p.childNodes=[];g.parse({skipRender:a.skipRender,
document:c,node:p,svg:m,onload:function(a){p.childNodes=a;u&&u.restore();G()}});return}case "use":if(f=g.parseHref(c))if(g.currentNode=p=g.getAttributes(c,"id,xlink:href,labels"),p.parentNode=a.node,p.type="use",f=f.substr(1),!g.defs[f]){u&&u.beginPath();g.parseTransform(c,"transform");g.parseClipPath(c,!0);f=g.getElementById(f);-1!==b.indexOf(f.nodeName)&&(g.parseTransform(f,"transform",!1),g.parseClipPath(f,!0));p.childNodes=[];g.parse({skipRender:a.skipRender,document:f,node:p,svg:m,onload:function(a){u&&
u.restore();h.push(p);G()}});return}break;case "fegaussianblur":g.currentNode=p=g.getAttributes(c,"id,stdDeviation");p.parentNode=a.node;p.type="GaussianBlur";h.push(p);break;case "image":if(f=g.parseHref(c)){if(!m.cors&&"http"===f.substr(0,4))break;g.currentNode=p=g.getAttributes(c,"id,x,y,width,height,preserveAspectRatio,labels",!0);p.parentNode=a.node;p.type="image";p.x=p.x||0;p.y=p.y||0;u&&u.beginPath();g.parseTransform(c,"transform");g.parseClipPath(c,!0);g.svg.data?(c=g.svg.data.split("/"),
c.pop(),(c=c.join("/"))&&(c+="/")):c="";p.image=new Image;p.image.node=p;p.image.onload=function(){var a=this.width,b=this.height,c=this.node.matrix;u&&u.setTransform(c.a,c.b,c.c,c.d,c.x,c.y);if(this.node.preserveAspectRatio&&"none"!==this.node.preserveAspectRatio){var d=this.node.preserveAspectRatio.split(" ")[0],c=d.substr(1,3),d=d.substr(5,3);a>this.node.width&&(b*=this.node.width/a,a=this.node.width);b>this.node.height&&(a*=this.node.height/b,b=this.node.height);switch(c){case "Min":c=0;break;
case "Mid":c=(this.node.width-a)/2;break;case "Max":c=this.node.width-a}switch(d){case "Min":d=0;break;case "Mid":d=(this.node.height-b)/2;break;case "Max":d=this.node.height-b}u&&u.drawImage(this,c,d,a,b);p.x=c;p.y=d;p.width=a;p.height=b}else u&&u.drawImage(this,this.node.x,this.node.y,this.node.width,this.node.height);p.bbox=w([p.x,p.y,p.x+p.width,p.y+p.height],p.matrix);u&&u.restore();h.push(p);G()};p.image.onerror=function(){u&&u.restore();G()};-1!==f.indexOf("base64")||"http"===f.substr(0,4)?
(p.href=f,p.image.src=f):(p.href=c+f,p.image.src=c+f);return}case "text":if(!d.text){console.log("missing text module");break}g.currentNode=p=g.getAttributes(c,"id,x,y,dx,dy,labels",!0);p.parentNode=a.node;p.type="text";p.childNodes=[];u&&u.beginPath();g.parseTransform(c,"transform");g.parseClipPath(c,!0);p.style=g.parseStyle(u,c,!k);for(var s=A=Infinity,E=B=-Infinity,X=p.dx||0+(p.x||0),W=p.dy||0+(p.y||0),c=c.childNodes,t=f=0,U=c.length;t<U;t++){var V=c[t];if("[object Text]"===String(V)){var O={},
Y=document.createElement("tspan");Y.textContent=V.textContent;V=Y}else O=g.getAttributes(V,"id,x,y,dx,dy",!0);void 0!==O.x&&(X=0);void 0!==O.y&&(W=0);X=0!==(O.dy||0)?O.dx||0:X+(O.dx||0);W+=O.dy||0;O.x=X+(O.x||0);O.y=W+(O.y||0);O.parentNode=p;O.type="tspan";O.content=V.textContent.trim();g.currentNode=O;O.style=g.parseStyle(u,V,!k);p.childNodes.push(O);Y=g.fontStyleToString(u,O.style);V=d.text.measureText(V.textContent,Y);A>O.x&&(A=O.x);s>O.y&&(s=O.y-O.style.fontSize);E<O.y+V.height&&(E=O.y+V.height-
O.style.fontSize);B<O.x+V.width&&(B=O.x+V.width);X+=V.width;f+=V.width}switch(p.style.textAnchor){case "middle":A-=f/2;B-=f/2;break;case "end":A-=f,B-=f}p.bbox=w([A,s,B,E],p.matrix);h.push(p);break;case "rect":g.currentNode=p=g.getAttributes(c,"id,x,y,rx,ry,width,height,labels");p.parentNode=a.node;p.type="rect";p.x||(p.x=0);p.y||(p.y=0);if(!p.width||!p.height)break;u&&u.beginPath();g.parseTransform(c,"transform");g.parseClipPath(c,!0);p.bbox=w([p.x,p.y,p.x+p.width,p.y+p.height],p.matrix);void 0===
p.rx&&void 0!==p.ry&&(p.rx=p.ry);void 0===p.ry&&void 0!==p.rx&&(p.ry=p.rx);u&&e&&(void 0===p.rx?e.rect(u,p.x,p.y,p.width,p.height):e.roundRect(u,p.x,p.y,p.width,p.height,p.rx,p.ry));p.style=g.parseStyle(u,c,!k);h.push(p);break;case "circle":g.currentNode=p=g.getAttributes(c,"id,cx,cy,r,labels");p.parentNode=a.node;p.type="circle";u&&u.beginPath();g.parseTransform(c,"transform");g.parseClipPath(c,!0);p.bbox=w([p.cx-p.r,p.cy-p.r,p.cx+p.r,p.cy+p.r],p.matrix);p.cx=p.cx||0;p.cy=p.cy||0;u&&e.ellipse(u,
p.cx,p.cy,p.r,p.r);p.style=g.parseStyle(u,c,!k);h.push(p);break;case "ellipse":g.currentNode=p=g.getAttributes(c,"id,cx,cy,rx,ry,labels");p.parentNode=a.node;p.type="ellipse";u&&u.beginPath();g.parseTransform(c,"transform");g.parseClipPath(c,!0);p.cx=p.cx||0;p.cy=p.cy||0;p.bbox=w([p.cx-p.rx,p.cy-p.ry,p.cx+p.rx,p.cy+p.ry],p.matrix);u&&e&&e.ellipse(u,p.cx,p.cy,p.rx,p.ry);p.style=g.parseStyle(u,c,!k);h.push(p);break;case "line":g.currentNode=p=g.getAttributes(c,"id,x1,y1,x2,y2,labels");p.parentNode=
a.node;p.type="line";p.x1=p.x1||0;p.y1=p.y1||0;p.x2=p.x2||0;p.y2=p.y2||0;u&&u.beginPath();g.parseTransform(c,"transform");g.parseClipPath(c,!0);p.bbox=w([p.x1,p.y1,p.x2,p.y2],p.matrix);u&&e&&(u.moveTo(p.x1,p.y1),u.lineTo(p.x2,p.y2));p.style=g.parseStyle(u,c,!k);h.push(p);break;case "pencil":case "polyline":case "polygon":t=g.parsePoints(c,f);A=t.points;g.currentNode=p=g.getAttributes(c,"id,labels");p.parentNode=a.node;p.type=f.toLowerCase();p.points=A;u&&u.beginPath();g.parseTransform(c,"transform");
g.parseClipPath(c,!0);p.data=t.data;p.bbox=new d.BBox(p);u&&e&&e.VOBPath(u,p.data);p.style=g.parseStyle(u,c,!k);h.push(p);break;case "path":g.currentNode=p=g.getAttributes(c,"id,d,labels"),p.parentNode=a.node,p.type="path",u&&u.beginPath(),g.parseTransform(c,"transform"),g.parseClipPath(c,!0),p.data=d.SVGPath.toVOBPath(p.d),p.bbox=new d.BBox(p),p.element=c,u&&e&&e.VOBPath(u,p.data),p.style=g.parseStyle(u,c,!k),h.push(p)}u&&u.restore();G()}};G();return h}};f.parseAttribute=function(a,b,c){void 0===
a&&(a=c);"inherit"===a&&(a=this.currentNode,a=a.parentNode&&a.parentNode.style&&a.parentNode.style[b]?a.parentNode.style[b]:c);return a};f.parseStyleAttribute=function(a,b,c){a=b[c]||a.getAttribute(c);b="color"===c?"color":c+"Style";if(a){if(k.color.webcolors[a])a="#"+k.color.webcolors[a];else if("none"===a)a="transparent";else if("currentColor"===a)a=this.state.color;else if("url"===a.substr(0,3)){a=a.substr(5,a.indexOf(")")-5);var d=this.ctx,f=this.parseDefs(d,a,c);f?d&&this.setStyle(d,f,b):a=""}"inherit"===
a&&(d=this.currentNode,d.parentNode&&d.parentNode.style&&d.parentNode.style[b]?a=d.parentNode.style[b]:"stroke"!==c&&(a="#000000"));return a}};f.parseStyle=function(a,b,c){var f=k.util,g=this.currentNode,e=this.state=f.copy(g.parentNode.style||this.state),h=r(b);g.uid=this.uid++;a&&a.save();var m=this.getAttributes(b,"opacity,fill-rule,fill-opacity,stroke-width,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-dasharray,stroke-dashoffset,stroke-opacity,font-size,font-family,font-weight,font-style,line-height,text-anchor",
!0);void 0!==m.opacity?(e.opacity=m.opacity,a&&(a.globalAlpha=e.opacity)):g.parentNode.style?(e.opacity=g.parentNode.style.opacity,a&&(a.globalAlpha=e.opacity)):(e.opacity=1,a&&(a.globalAlpha=1));var s=b.attributes;if(s){var u=s.length;u&&void 0===g.attributes&&(g.attributes={});for(var w=0;w<u;w++){var y=s[w];if("data-"===y.name.substr(0,5)){var A=y.name.substr(5).split("-");A[1]&&(A[1]=A[1][0].toUpperCase()+A[1].substr(1));A=A.join("");g.attributes[A]=y.value}}(s=h.filter||b.getAttribute("filter"))?
(u=s.substr(5,s.length-6),!this.defs[u]&&(s=this.getElementById(u))&&(this.defs[u]=this.getAttributes(s,"id,x,y,width,height"),this.defs[u].type="filter",this.defs[u].filter=this.parse({document:s,node:{childNodes:[]}})),e.filter=u):delete e.filter;m.fontSize&&(e.fontSize=m.fontSize);if(m.fontFamily)for(e.fontFamily=m.fontFamily,s=m.fontFamily.split(",");u=s.shift();){if(this.typeface&&this.typeface.packages[u]){e.fontRenderer="SVG";break}if(d.text&&d.text.detectFont(u)){e.fontRenderer="native";break}}m.fontWeight&&
(e.fontWeight=m.fontWeight);m.fontStyle&&(e.fontStyle=m.fontStyle);m.lineHeight&&(e.lineHeight=m.lineHeight);m.textAnchor&&(e.textAnchor=m.textAnchor);a&&(a.font=this.fontStyleToString(a,e));if(s=this.parseStyleAttribute(b,h,"color"))e.color=s;if(s=this.parseStyleAttribute(b,h,"fill"))m.fillStyle=s;else if(s=g.parentNode,s.style){s=f.copy(s.style);for(A in m)s[A]=m[A];m=s}else m.fillStyle="default";e.fillStyle=this.parseAttribute(m.fillStyle,"fillStyle","#000000");e.fillRule=this.parseAttribute(m.fillRule,
"fillRule","nonzero");e.fillOpacity=Math.max(0,this.parseAttribute(m.fillOpacity,"fillOpacity",1));c&&e&&a&&("default"===e.fillStyle?a.fillStyle=this.defaultFill:e.fillStyle&&(a.fillStyle=e.fillStyle),a.save(),a.globalAlpha*=e.fillOpacity,g.content?"SVG"===e.fontRenderer?(this.typeface.setFont(a.font),this.typeface.fillText(g.content,g.x,g.y)):a.fillText(g.content,g.x,g.y):a.fill(),a.restore());if(s=this.parseStyleAttribute(b,h,"stroke"))m.strokeStyle=s;else if(s=g.parentNode,s.style){s=f.copy(s.style);
for(A in m)s[A]=m[A];m=s}e.strokeWidth=this.parseAttribute(m.strokeWidth,"strokeWidth",1);e.strokeStyle=this.parseAttribute(m.strokeStyle,"strokeStyle","none");e.strokeLinecap=this.parseAttribute(m.strokeLinecap,"strokeLinecap","butt");e.strokeLinejoin=this.parseAttribute(m.strokeLinejoin,"strokeLinejoin","miter");e.strokeMiterlimit=Math.max(1,this.parseAttribute(m.strokeMiterlimit,"strokeMiterlimit",4));e.strokeDasharray=this.parseAttribute(m.strokeDasharray,"strokeDasharray","none");e.strokeDashoffset=
this.parseAttribute(m.strokeDashoffset,"strokeDashoffset",0);e.strokeOpacity=Math.max(0,this.parseAttribute(m.strokeOpacity,"strokeOpacity",1));c&&e&&a&&(a.lineWidth=0===e.strokeWidth?1E-10:e.strokeWidth||1,a.lineCap=e.strokeLinecap||"butt",a.lineJoin=e.strokeLinejoin||"miter",a.miterLimit=e.strokeMiterlimit||a.lineWidth,e.strokeStyle&&"none"!==e.strokeStyle&&(a.strokeStyle=e.strokeStyle,a.save(),a.globalAlpha*=e.strokeOpacity,g.content?"SVG"===e.fontRenderer?(this.typeface.setFont(a.font),this.typeface.strokeText(g.content,
g.x,g.y)):a.strokeText(g.content,g.x,g.y):a.stroke(),a.restore()));a&&a.restore();return e}};f.parseDefs=function(a,b,c){if(this.defs[b])return this.defs[b];var d=this.getElementById(b);if(!d)return{};c=d.nodeName.toLowerCase();switch(c){case "pattern":return this.defs[b]=this.PatternExtract(a,d);case "lineargradient":case "radialgradient":return this.defs[b]=this.GradientExtract(a,d,c)}};f.addDef=function(a){this.defs[a.id]=a};f.Gradient=function(a){a=a||{};var b={id:a.id||"MyGradient",type:a.type||
"linearGradient",gradientTransform:a.gradientTransform,gradientUnits:a.gradientUnits||"objectBoundingBox",spreadMethod:a.spreadMethod||"pad",stops:a.stops||[{color:"#fff",offset:0},{color:"#000",offset:1}]};"radialGradient"===b.type?(b.cx=isFinite(a.cx)?a.cx:0,b.cy=isFinite(a.cy)?a.cy:1,b.fx=isFinite(a.fx)?a.fx:0,b.fy=isFinite(a.fy)?a.fy:0,b.r=isFinite(a.r)?a.r:1):(b.x1=isFinite(a.x1)?a.x1:0,b.x2=isFinite(a.x2)?a.x2:1,b.y1=isFinite(a.y1)?a.h1:0,b.y2=isFinite(a.y2)?a.y2:0);return b};f.GradientEncode=
function(a){var b;b="<"+a.type;b=this.encodeAttributes(b,a);b+=">\n";for(var c=a.stops,d=0;d<c.length;d++){var f=c[d],g=f.color;if("rgba"===g.substr(0,4)){var g=k.color.space(g,"W3>RGBA"),e=g.A/255,g=k.color.space(g,"RGB>W3");b+='\t<stop offset="'+f.offset+'" style="stop-color:'+g+";stop-opacity:"+e+';"/>\n'}else b+='\t<stop offset="'+f.offset+'" style="stop-color:'+f.color+';"/>\n'}return b+="</"+a.type+">\n"};f.GradientExtract=function(a,b,c){if("lineargradient"===c){var d=this.getAttributes(b,
"id,x1,y1,x2,y2,spreadMethod,gradientUnits,gradientTransform");d.type="linearGradient"}else d=this.getAttributes(b,"id,cx,cy,r,fx,fy,spreadMethod,gradientUnits,gradientTransform"),d.type="radialGradient",void 0===d.fx&&(d.fx=d.cx,d.fy=d.cy);void 0===d.gradientUnits&&(d.gradientUnits="objectBoundingBox");var f=[],g=b.childNodes,e=this.parseHref(b);if(e)return f=this.parseDefs(a,e.substr(1),c),d.stops=f.stops,d;var h=r(b);b=h.color||b.getAttribute("color")||this.state.color;a=0;for(var m in g)if(e=
g[m],e.nodeName&&(c=e.nodeName.toLowerCase(),"stop"===c&&(h=r(e),c=h["stop-color"]||e.getAttribute("stop-color"))))k.color.webcolors[c]?c="#"+k.color.webcolors[c]:"none"===c?c="transparent":"currentColor"===c?c=b||"#000000":"inherit"===c&&(c=b||"#000000"),(h=h["stop-opacity"]||e.getAttribute("stop-opacity"))&&"1"!==h&&("inherit"===h&&(h=1),"#"===c.substr(0,1)?(c=k.color.space(c.substr(1),"W3>HEX24>RGB"),c.A=255*parseFloat(h)):"rgba"===c.substr(0,4)?(c=k.color.space(c,"W3>RGBA"),c.A*=parseFloat(h)):
"rgb"===c.substr(0,3)&&(c=k.color.space(c,"W3>RGB"),c.A=255*parseFloat(h)),c=k.color.space.RGBA_W3(c)),e=e.getAttribute("offset")||"0",h=-1!==e.indexOf("%")?100:1,e=parseFloat(e)/h,e<a&&(e=a),f.push({offset:e,color:c}),a=e;d.stops=f;return d};f.Pattern=function(a){return{id:a.id||"MyPattern",type:a.type||"pattern",pattern:a.pattern||CanvasPattern,patternContentUnits:a.patternContentUnits,patternTransform:a.patternTransform,patternUnits:a.patternUnits||"userSpaceOnUse",width:a.width||100,height:a.height||
100}};f.PatternEncode=function(a){var b;b=this.encodeAttributes("<pattern",a);b+=">\n";a=a.childNodes;a.length&&(b+=this.encodeChildNodes(a,"","\t"));return b+="</pattern>\n"};f.PatternExtract=function(a,b){var d=this,f=this.getAttributes(b,"patternUnits,patternContentUnits,patternTransform,x,y,width,height,preserveAspectRatio,href"),g=this.parseHref(b);g&&(f.href=g);f.type="pattern";f.id=b.id;var e=new c;e.element=b;e.parse({skipRender:!0,document:b,node:{childNodes:[]},onload:function(b){f.childNodes=
b;if(b.length){b=d.createCanvas().ctx;var c=d.getBoundingBox(f.childNodes,!1,.5);b.canvas.width=c[2]-c[0];b.canvas.height=c[3]-c[1];e.render({ctx:b,childNodes:f.childNodes,viewBox:c,placement:"crop"});a&&b.canvas.width&&b.canvas.height&&(f.pattern=a.createPattern(b.canvas,"repeat"))}f.href&&d.parseDefs(a,f.href.substr(1),"pattern")}});return f};f.parseHref=function(a){return a.getAttribute("xlink:href")||a.getAttribute("href")};f.parseTransform=function(a,b,c){var f=this.ctx,g=this.currentNode;if(a){a=
a.getAttribute(b);c=!1!==c;var e=(b="transform"===b)?g.matrix?g.matrix:g.parentNode.matrix?g.matrix=d.Transform.cloneMatrix(g.parentNode.matrix):g.matrix=d.Transform.getIdentity():d.Transform.getIdentity();if(a){var e=new d.Transform(e),h=new d.Transform;if(a=a.match(this.rxTransform))for(var k=0,s=a.length;k<s;k++){var r=a[k].replace(/^\s+|\s+$/,"").split("("),u=r[0].replace(/^\s+|\s+$/,""),r=y(r[1]);switch(u){case "matrix":b&&(f&&f.transform(r[0],r[1],r[2],r[3],r[4],r[5]),h.transform(r[0],r[1],
r[2],r[3],r[4],r[5]));e.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case "translate":2===r.length?(b&&(f&&f.translate(r[0],r[1]),h.translate(r[0],r[1])),e.translate(r[0],r[1])):(b&&(f&&f.translate(r[0],0),h.translate(r[0],0)),e.translate(r[0]));break;case "scale":2===r.length?(b&&(f&&f.scale(r[0],r[1]),h.scale(r[0],r[1])),e.scale(r[0],r[1])):(b&&(f&&f.scale(r[0],r),h.scale(r[0],r[0])),e.scale(r[0],r[0]));break;case "rotate":u=r[0]*m;3===r.length?(b&&(f&&(f.translate(r[1],r[2]),f.rotate(u),f.translate(-r[1],
-r[2])),h.translate(r[1],r[2]),h.rotate(u),h.translate(-r[1],-r[2])),e.translate(r[1],r[2]),e.rotate(u),e.translate(-r[1],-r[2])):(b&&(f&&f.rotate(u),h.rotate(u)),e.rotate(u));break;case "skewX":u=r[0]*m;b&&(f&&f.transform(1,0,Math.tan(u),1,0,0),h.skew(u,0));e.skew(u,0);break;case "skewY":u=r[0]*m,b&&(f&&f.transform(1,Math.tan(u),0,1,0,0),h.skew(0,u)),e.skew(0,u)}}c&&(g.transform=h.matrix,g.transform.type="transform",g.matrix=e.matrix);return{matrix:e.matrix,transform:h.matrix}}}};f.parseClipPath=
function(a,b){var c=this.ctx,d=this.currentNode;if(a){var f=a.getAttribute("clip-path");if(f){f=f.substr(5,f.length-6);if(this.defs[f])return b&&(d.clipPath=this.defs[f].d),c&&(this.renderChildNodes(c,{},d.clipPath,!0),c.clip(),c.beginPath()),this.defs[f];var g=this.getElementById(f);if(g)return this.defs[f]=this.getAttributes(g,"id,x,y,width,height,clipPathUnits"),this.defs[f].type="clipPath",g=this.parse({document:g,matrix:this.vob.matrix,node:{childNodes:[]},skipRender:!0}),c&&(c.clip(),c.beginPath()),
g.id=f,this.defs[f].d=g,b&&(d.clipPath=g),this.defs[f]}}};f.parsePoints=function(a,b){var c=a.getAttribute("points");if(c){var d=c.replace(/[\s,]+/g," ").trim().split(/[, ]/);if(!(2>d.length)){for(var f=[],c=[],g=0,e=d.length;g<e;g+=2){var h=d[g],m=d[g+1];f.push({cmd:c.length?"L":"M",x:parseFloat(h),y:parseFloat(m)});c.push([h,m])}d=c.length-1;g=c[d];isFinite(g[1])||(f[d].y=g[1]=c[0][1]);"Polygon"===b?(c=""+c.join(" ")+"",f.push({cmd:"Z",x:f[0].x,y:f[0].y})):c=""+c.join(" ");return{points:c,data:f}}}};
f.getAttributes=function(a,b,c){var d={};if(!a||!a.getAttribute)return{};var f=r(a),g=0;b=b.split(",");for(var e=b.length;g<e;g++){var h=b[g],m=this.__attributes[h],k=!1;if(!m)if(m=this.__attributesNS[h])h=this.__namepace+":"+h,k=!0;else if(h=h.match(this.rxSplitByUppercase).slice(0,-1).join("-").toLowerCase(),m=this.__attributes[h],!m){console.log(h);continue}m=m.format;if(c){var s=f[h]||a.getAttribute(h);-1!==h.indexOf("-")&&(h=h.split("-"),h[1]&&(h[1]=h[1][0].toUpperCase()+h[1].substr(1)),h=h.join(""))}else s=
a.getAttribute(h)||f[h],"id"!==h||s||(s=a.getAttribute("xml:id"));if(s)if("inherit"===s)k=this.currentNode,k.parentNode&&k.parentNode.style&&k.parentNode.style[h]&&(d[h]=k.parentNode.style[h]);else if("none"===s)d[h]=s;else switch(k&&(h=h.replace(this.__namepace+":","")),m){case "numarray":d[h]=y(s);break;case "coordinate":d[h]=parseFloat(s);(m=s.replace(this.rxNumeric,""))&&"%"!==m&&"px"!==m&&(d[h]*=this.convertMetrics[m+">px"]);Infinity===d[h]&&(d[h]=4294967295);-Infinity===d[h]&&(d[h]=-4294967295);
break;case "float":d[h]=parseFloat(s);Infinity===d[h]&&(d[h]=4294967295);-Infinity===d[h]&&(d[h]=-4294967295);break;case "gradientTransform":case "patternTransform":case "transform":k=this.parseTransform(a,m,!1);d[h]=k.matrix;break;case "string":d[h]=s}}return d};f.getBoundingBox=function(a,b,c){var d=function(a){for(var c,g=a.length,e=0;e<g;e++)if(c=a[e]){if(c.bbox){if(b&&c.style&&c.style.strokeStyle)var h=c.style.strokeWidth||0,l=c.bbox.x1-h,m=c.bbox.x2+h,t=c.bbox.y1-h,h=c.bbox.y2+h;else l=c.bbox.x1,
m=c.bbox.x2,t=c.bbox.y1,h=c.bbox.y2;l<f.x1&&(f.x1=l);t<f.y1&&(f.y1=t);m>f.x2&&(f.x2=m);h>f.y2&&(f.y2=h)}c.childNodes&&d(c.childNodes)}},f={x1:Infinity,y1:Infinity,x2:-Infinity,y2:-Infinity};d(a||[this.vob]);c&&(f.x1-=c,f.y1-=c,f.x2+=c,f.y2+=c);return[f.x1,f.y1,f.x2,f.y2]};f.getElementById=function(a){if(this.element.ownerDocument){var b=this.element.ownerDocument.getElementById(a);b||(b=u(this.element.ownerDocument,a))}else(b=this.element.getElementById(a))||(b=u(this.element,a));return b};f.getLayerById=
function(a){var b=function(c){for(var d=0;d<c.length;d++){var f=c[d];if(f.id===a||f.childNodes&&(f=b(f.childNodes)))return f}};return b(this.vob.childNodes)};f.getLayerBy=function(a,b){var c=function(d){for(var f=0;f<d.length;f++){var g=d[f];if(g[a]===b||g.childNodes&&(g=c(g.childNodes)))return g}};return c(this.vob.childNodes)};f.fontStyleToString=function(a,b){if(a&&b){var c=b.textAnchor||"left";"middle"===c&&(c="center");a.textAlign=c;return(b.fontStyle||"normal")+" "+(b.fontWeight||"normal")+
" "+(b.fontSize||"normal")+"px "+(b.fontFamily||"sans-serif")}};f.createCanvas=function(){var a="undefined"===typeof document?new Canvas:document.createElement("canvas");a.ctx=a.getContext("2d");return a};f.walk=function(a,b,c){var d=void 0!==c,f=function(g){for(var e=0;e<g.length;e++){var h=g[e];if(b){if(d&&h[b]===c)return a(h);h[b]&&a(h)}else a(h);if(h.childNodes&&(h=f(h.childNodes)))return h}};if(this.vob)return f(this.vob.childNodes)};var w=function(a,b){var c=new d.Transform(b),f=c.point2d(a[0],
a[1]),g=c.point2d(a[0],a[3]),e=c.point2d(a[2],a[3]),c=c.point2d(a[2],a[1]);return{x1:Math.min(f.x,g.x,e.x,c.x),y1:Math.min(f.y,g.y,e.y,c.y),x2:Math.max(f.x,g.x,e.x,c.x),y2:Math.max(f.y,g.y,e.y,c.y)}},r=function(a){if(a.__style)return a.__style;if(!a.getAttribute)return a.__style={};var b=a.getAttribute("style");if(!b)return a.__style={};for(var b=b.split(";"),c={},d=0,f=b.length;d<f;d++){var g=b[d].split(":");g[0]&&g[1]&&(c[g[0].trim()]=g[1].trim())}return a.__style=c},y=function(a){var b=[];if(!a)return[];
for("string"===typeof a&&(a=-1!==a.indexOf(",")?a.split(","):a.split(" "));a.length;){var c=parseFloat(a.shift());b.push(c)}return b},u=function(a,b){return"undefined"!==typeof XPathResult?a.evaluate('//*[@xml:id="'+b+'"]',a,function(){return"http://www.w3.org/XML/1998/namespace"},XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue:a.getElementById?a.getElementById(b):null},s={text:!0,rect:!0,circle:!0,ellipse:!0,line:!0,polyline:!0,polygon:!0,path:!0};d.SVG.Gradient=f.Gradient;d.SVG.GradientEncode=
f.GradientEncode;d.SVG.Pattern=f.Pattern;d.SVG.PatternEncode=f.PatternEncode;d.SVG.cache=h;d.SVG.resetCache=function(){d.SVG.cache=h={}};d.SVG.detect=function(a){return a.startsWith("data:image/svg")||a.startsWith("<?xml")||a.startsWith("<svg")}})(sketch);if("undefined"!==typeof module&&module.exports){var Canvas=require("canvas"),Image=Canvas.Image,DOMParser=require("xmldom").DOMParser;module.exports=sketch.vector.SVG}"undefined"===typeof sketch&&(sketch={});sketch.vector=sketch.vector||{};
(function(){var k=function(e){e.prototype.__dtd="https://sketch.io/dtd/";e.prototype.__namepace="sketchjs";e.prototype.__version="3.0";e.prototype.__attributesNS={labels:{param:"labels",format:"string",value:""},keywords:{param:"labels",format:"string",value:""},license:{param:"license",format:"string",value:""},author:{param:"author",format:"string",value:""},source:{param:"source",format:"string",value:""},version:{param:"version",format:"string",value:""},metadata:{param:"metadata",format:"string",
value:""},brush:{param:"brush",format:"string",value:""},uid:{param:"uid",format:"int",value:""}};e.prototype.__attributes={id:{param:"id",format:"string",value:""},src:{param:"src",format:"string",value:""},href:{param:"href",format:"string",value:""},"xlink:href":{param:"xlink:href",format:"string",value:""},display:{param:"display",format:"string",valid:"inline | block | list-item | run-in | compact | marker | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | none | inherit",
value:"inline"},visibility:{param:"visibility",format:"string",valid:"visible | hidden | collapse | inherit",value:"visible"},viewBox:{param:"viewBox",format:"numarray",value:0},preserveAspectRatio:{param:"preserveAspectRatio",format:"string",valid:"[defer] <align> [<meetOrSlice>]",value:"xMidYMid meet"},x:{param:"x",format:"coordinate",value:""},y:{param:"y",format:"coordinate",value:""},width:{param:"width",format:"coordinate",value:""},height:{param:"height",format:"coordinate",value:""},transform:{param:"transform",
format:"transform",value:"matrix(1,0,0,1,0,0)"},dx:{param:"dx",format:"coordinate",value:""},dy:{param:"dy",format:"coordinate",value:""},cx:{param:"cx",format:"coordinate",value:""},cy:{param:"cy",format:"coordinate",value:""},rx:{param:"rx",format:"float",value:""},ry:{param:"ry",format:"float",value:""},r:{param:"r",format:"coordinate",value:""},x1:{param:"x1",format:"float",value:""},y1:{param:"y1",format:"float",value:""},x2:{param:"x2",format:"float",value:""},y2:{param:"y2",format:"float",
value:""},d:{param:"d",format:"string",value:""},points:{param:"points",format:"string",value:""},"font-size":{param:"font-size",format:"float",valid:"<absolute-size> | <relative-size> | <length> | <percentage> | inherit",value:"medium"},"font-style":{param:"font-style",format:"string",valid:"normal | italic | oblique | inherit",value:"normal"},"font-family":{param:"font-family",format:"string",valid:"[[ <family-name> | <generic-family> ],]* [<family-name> | <generic-family>] | inherit",value:"sans-serif"},
"font-weight":{param:"font-weight",format:"string",valid:"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit",value:"normal"},"line-height":{param:"line-height",format:"float",valid:"normal | <number> | <length> | <percentage> | inherit",value:"normal"},"text-decoration":{param:"text-decoration",format:"string",valid:"none | [ underline || overline || line-through || blink ] | inherit",value:"none"},"text-anchor":{param:"text-anchor",format:"string",valid:"start | middle | end | inherit",
value:"start"},kerning:{param:"kerning",format:"float",valid:"auto | <length> | inherit",value:"auto"},"letter-spacing":{param:"letter-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"word-spacing":{param:"word-spacing",format:"float",valid:"normal | <length> | inherit",value:"normal"},"clip-path":{param:"clip-path",format:"string",value:""},clipPathUnits:{param:"clipPathUnits",format:"string",value:"userSpaceOnUse"},opacity:{param:"opacity",format:"float",value:1},fill:{param:"fill",
format:"string",value:"black"},"fill-rule":{param:"fill-rule",format:"string",valid:"nonzero | evenodd | inherit",value:"nonzero"},"fill-opacity":{param:"fill-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},stroke:{param:"stroke",format:"string",value:"black"},"stroke-width":{param:"stroke-width",format:"coordinate",valid:"<percentage> | <length> | inherit",value:1},"stroke-linecap":{param:"stroke-linecap",format:"string",valid:"butt | round | square | inherit",value:"butt"},"stroke-linejoin":{param:"stroke-linejoin",
format:"string",valid:"miter | round | bevel | inherit",value:"miter"},"stroke-miterlimit":{param:"stroke-miterlimit",format:"float",valid:"<miterlimit> | inherit",value:4},"stroke-dasharray":{param:"stroke-dasharray",format:"numarray",valid:"none | <dasharray> | inherit",value:"none"},"stroke-dashoffset":{param:"stroke-dashoffset",format:"coordinate",valid:"<percentage> | <length> | inherit",value:0},"stroke-opacity":{param:"stroke-opacity",format:"float",valid:"<opacity-value> | inherit",value:1},
stops:{param:"stops",format:"string",value:""},gradientUnits:{param:"gradientUnits",format:"string",valid:"userSpace | userSpaceOnUse | objectBoundingBox",value:"userSpace"},gradientTransform:{param:"gradientTransform",format:"gradientTransform",value:"matrix(1,0,0,1,0,0)"},spreadMethod:{param:"spreadMethod",format:"string",valid:"pad | reflect | repeat",value:"pad"},fx:{param:"fx",format:"coordinate",value:""},fy:{param:"fy",format:"coordinate",value:""},patternUnits:{param:"patternUnits",format:"string",
value:""},patternContentUnits:{param:"patternContentUnits",format:"string",value:""},patternTransform:{param:"patternTransform",format:"patternTransform",value:"matrix(1,0,0,1,0,0)"},stdDeviation:{param:"stdDeviation",format:"float",value:0},filter:{param:"filter",format:"string",value:""},color:{param:"color",format:"string",value:""},"color-interpolation-filters":{param:"color-interpolation-filters",format:"string",valid:"auto | sRGB | linearRGB | inherit",value:"sRGB"}}};"undefined"!==typeof module&&
module.exports?module.exports=k:k(sketch.vector.SVG)})();"undefined"===typeof sketch&&(sketch={});sketch.vector=sketch.vector||{};
(function(){var k=function(e){var d=e.prototype;d.clone=function(a,b){(new e).fromString(this.toDataURL(),function(c){b&&(c.vob.id="clone"+Math.round(16777215*Math.random()));a&&a(c)})};d.toImage=function(){var a=new Image;a.src=this.toDataURL();a.width=this.vob.width;a.height=this.vob.height;return a};d.toBlob=function(a){var b=new Blob([this.stringify()],{type:"image/svg+xml"});if(a)a(b);else return b};d.toDataURL=function(){return"data:image/svg+xml;base64,"+this.btoa()};d.btoa=function(){return btoa(this.stringify())};
d.toString=d.stringify=function(){var a="",b;for(b in this.defs){var c=this.defs[b];switch(c.type){case "linearGradient":case "radialGradient":a+=this.GradientEncode(c);break;case "pattern":a+=this.PatternEncode(c);break;case "filter":for(var a=a+"<filter",a=this.encodeAttributes(a,c),a=a+">\n",c=c.filter,d=0;d<c.length;d++)var g=c[d],a=a+("\t<fe"+g.type),a=this.encodeAttributes(a,g),a=a+"/>\n";a+="</filter>\n";break;case "clipPath":a+="<clipPath";a=this.encodeAttributes(a,c);a+=">\n";c=c.d;for(d=
0;d<c.length;d++)g=c[d],a+="\t<"+g.type,a=this.encodeAttributes(a,g),a+="/>\n";a+="</clipPath>\n"}}return this.encodeChildNodes([this.vob],a,"")};d.encodeChildNodes=function(a,b,c){var d="";if(!a||!a.length)return d;for(var g=0,e=a.length;g<e;g++){var h=a[g];if(h){var k=h.type;switch(k){case "circle":case "ellipse":case "image":case "line":case "path":case "polyline":case "polygon":case "rect":d+=c+"<"+k;d=this.encodeAttributes(d,h);d+="></"+k+">\n";break;case "stamp":case "eraser":case "pencil":k=
this.__namepace+":"+k;d+=c+"<"+k;d=this.encodeAttributes(d,h);d+="></"+k+">\n";break;case "text":d+=c+"<text";d=this.encodeAttributes(d,h);d+=">";if(h.content)d+=h.content;else if(h=h.childNodes)for(var k=0,s=h.length;k<s;k++)d+="<tspan",d=this.encodeAttributes(d,h[k]),d+=">"+h[k].content+"</tspan>";d+="</text>\n";break;case "a":case "g":case "switch":d+=c+"<"+k;d=this.encodeAttributes(d,h);d+=">\n";d+=this.encodeChildNodes(h.childNodes,b,c+"\t");d+=c+"</"+k+">\n";break;case "svg":d+='<?xml version="1.0" encoding="utf-8"?>\n';
d+="\x3c!-- Generator: sketch.js "+this.__version+" <https://sketch.io/api/> --\x3e\n";d+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"';d+=' xmlns:xlink="http://www.w3.org/1999/xlink"';d+=" xmlns:"+this.__namepace+'="'+this.__dtd+'"';h.version=h.version||this.__version;d=this.encodeAttributes(d,h);d+=">\n";b&&(d+="<defs>"+b+"</defs>");d+=this.encodeChildNodes(h.childNodes,b,c+"\t");d+="</svg>";break;case "use":d+=c+"<use";d=this.encodeAttributes(d,h);d+=">\n";d+=c+"</use>\n";break;default:d+=
this.encodeChildNodes(h.childNodes,b,c+"\t")}}}return d};d.encodeAttributes=function(a,b){for(var c in b){var d=b[c];if(void 0!==d)switch(c){case "href":(d=h("xlink:href",d,this))&&(a+=d);break;case "clipPath":(d=h("clip-path","url(#"+d.id+")",this))&&(a+=d);break;case "viewBox":(d=h(c,d.join(" "),this))&&(a+=d);break;case "transform":case "gradientTransform":case "patternTransform":d&&(d=h(c,"matrix("+d.a+","+d.b+","+d.c+","+d.d+","+d.x+","+d.y+")",this))&&(a+=d);break;case "fill":case "fillStyle":(d=
g("fill",d,this))&&(a+=d);break;case "stroke":case "strokeStyle":(d=g("stroke",d,this))&&(a+=d);break;case "style":a+=this.encodeAttributes("",b.style);break;case "attributes":case "element":break;default:(d=h(c,d,this))&&(a+=d)}}return a};var a={type:!0,childNodes:!0,parentNode:!0,matrix:!0,data:!0,bbox:!0},h=function(d,b,c){if(!a[d]){var f=c.__attributes[d];if(!f)if(f=c.__attributesNS[d])d=c.__namepace+":"+d;else if(d=d.match(c.rxSplitByUppercase).slice(0,-1).join("-").toLowerCase(),f=c.__attributes[d],
!f){sketch.feature.debug&&console.log(d,b);return}if(f.value!==b)switch(f.format){case "string":case "gradientTransform":case "patternTransform":case "transform":if("string"===typeof b)return" "+d+'="'+b+'"';break;case "coordinate":case "float":case "int":if(isFinite(b))return" "+d+'="'+b+'"';break;case "numarray":return" "+d+'="'+b+'"';default:console.log("unhandled",f)}}},g=function(a,b,c){var d=c.__attributes[a];if(d&&d.value!==b){"default"===b&&(b="fill"===a?c.defaultFill:c.defaultStroke);if(c.defs[b])return" "+
a+'="url(#'+b+')"';if(b)return" "+a+'="'+b+'"'}}};"undefined"!==typeof module&&module.exports?module.exports=k:k(sketch.vector.SVG)})();
(function(k){var e=k.vector=k.vector||{};e.setStyleAt=function(a,d){d=d||{};var b=d.style,c=b.type;e.setStyleFromDropPoint({fillMode:d.fillMode,dna:b[c],object:d.object,paintType:c,point:d.point,rect:d.rect})};var d=function(a,d){var b=a.bbox,c=b.width/b.viewBox[2],f=a.trx2D.clone();f.rotate(-b.rotate*k.util.DEG_RAD);f.scale(c,c);f.matrix.x=0;f.matrix.y=0;d.matrix=f.matrix;return a.svg.hitTest(d)};e.setStyleFromDropPoint=function(a){var h=k.doc,b=h.scene,c=e.Polygon;a=a||{};var f=a.dna,w=a.object,
r=a.fillMode,y=a.paintType,u=a.point;a=a.rect;if(w)if(w.svg){if(a?(b=b.pointsIn("pointInObjectFromCanvas",[{x:a.x1,y:a.y1},{x:a.x2,y:a.y1},{x:a.x2,y:a.y2},{x:a.x1,y:a.y2}],w),u=w.bbox.scale,0>u.x*u.y&&b.reverse(),c=d(w,{rect:c.clone(b)})):c=d(w,{point:b.pointInObjectFromCanvas(u,w)}),c.length){if("group"===r){for(r=c.pop();r&&"g"!==r.type;)r=r.parentNode;c=r.childNodes}else"single"===r&&(r=c.pop(),c=[r]);r=w.svg;switch(y){case "pattern":r.addDef(r.Pattern({pattern:k.style.patternCtx[f],id:f="dna"+
k.style.hashDNA(f)}));break;case "gradient":r.addDef(r.Gradient({stops:k.style.getGradientStops({dna:f}),id:f="dna"+k.style.hashDNA(f)}))}e.setStyleOnNodes(h,{object:w,nodes:c,dna:f,recursive:!0,useRecord:!0,useRender:!0})}}else k.style.apply({fill:{dna:f,paintType:y},selection:b.selection.fromLayers([w]),useColorPicker:!0,useRecord:!0,useRender:!0})};e.setStyleOnNodes=function(d,e){e=e||{};for(var b=e.dna||"#000",c=e.object||d.scene.getOneSelected(),f=e.nodes||[],h=e.recursive||!1,k=e.useRecord||
!1,y={id:c.id,fillStyle:b,uida:[]},u=f.length;u--;){var s=f[u];"stroke"!==s.parentNode.id&&(s=a(s,"fillStyle",b,h,k),k&&(y.uida=y.uida.concat(s)),c.dirtyCache=!0,c.dirtyCheck=!0,c.hasVectorFill=!0)}c.dirtyCache&&(c.svg.__colormap=void 0);k&&(d.history&&y.uida.length&&d.history.store({cmd:"VOBNodeList",icon:"palette",name:"update-clipart-color",data:[y]}),d.render.dirtyControls=!0,d.render.scene());return!!y.uida.length};e.resetSVG=function(){for(var d=k.doc,e=d.scene.children,b=[],c=0;c<e.length;c++){var f=
e[c];f.hasVectorFill&&(f.dirtyCache=!0,f.dirtyRender=!0,f.hasVectorFill=!1,f.svg.walk(function(c){var d=c.orig_style.fillStyle;b.push({id:f.id,fillStyle:d,uida:a(c,"fillStyle",d,!0,!0)})},"orig_style"))}d.history&&b.length&&d.history.store({cmd:"VOBNodeList",icon:"remove",name:"reset-clipart-color",data:b})};var a=function(d,e,b,c,f){if(d){d.current_style=d.current_style||{};f?(d.style[e]=d.current_style[e]||d.style[e],delete d.current_style[e]):d.current_style[e]=d.current_style[e]||d.style[e];var k=
[],r={};r.uid=d.uid;r[e]=d.style[e];k.push(r);d.orig_style=d.orig_style||{};d.orig_style[e]=d.orig_style[e]||r[e];d.style[e]=b;var y=c&&d.childNodes;if(y)for(var u=0;u<y.length;u++){d=y[u];var s=d.style;h[s[e]]||(d.childNodes?k=k.concat(a(d,e,b,c,f)):(r={},r.uid=d.uid,r[e]=s[e],k.push(r),d.orig_style=d.orig_style||{},d.orig_style[e]=d.orig_style[e]||r[e],s[e]=b))}return k}},h={"rgba(0,0,0,0)":!0,none:!0}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.vector=k.vector||{};k.vector.SVGFont=function(g){k=k.vector.BBox.__self||k;var m=k.util,b=k.vector;b.fonts=b.fonts||{};var c={direction:"ltr",font:"",fontFamily:"sans-serif",fontSize:"40px",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"alphabetic",textDecoration:"none",textTransform:"none",lineHeight:"1em",letterSpacing:0,whiteSpace:"normal",ctx:g,scaleFactor:1,pkg:{},pkgs:{},load:function(a,c){var d=function(a){var d,g;if(h)g=require("domino").createWindow(a).document;
else{var p=document.createElement("div");"string"===typeof a?p.innerHTML=a:p.appendChild(a);g=p}var t=null,k=g.getElementsByTagName("font")[0],q=g.getElementsByTagName("font-face")[0];a=q.getAttribute("font-family")||a.id;var p=(t=q.getElementsByTagName("font-face-name")[0])?t.getAttribute("name"):a,v=q.getAttribute("font-style")||"all",w=q.getAttribute("font-variant")||"normal",y=q.getAttribute("font-weight")||"all",J=q.getAttribute("font-stretch")||"normal",D=q.getAttribute("unicode-range")||"U+0-10FFFF",
B=q.getAttribute("panose-1")||"0 0 0 0 0 0 0 0 0 0",E=q.getAttribute("cap-height")||0,A=q.getAttribute("x-height")||0,I=parseFloat(q.getAttribute("units-per-em")||1E3,10),t=g.getElementsByTagName("missing-glyph")[0],F={x:parseFloat(k.getAttribute("horiz-adv-x"),10),y:parseFloat(k.getAttribute("vert-adv-y")||0,10)||I};parseFloat(t?t.getAttribute("horiz-adv-x"):F.x,10);var k={horiz:{x:parseFloat(k.getAttribute("horiz-origin-x")||0,10),y:parseFloat(k.getAttribute("horiz-origin-y")||0,10)},vert:{x:parseFloat(k.getAttribute("vert-origin-x")||
0,10),y:parseFloat(k.getAttribute("vert-origin-y")||0,10)}},G=parseFloat(q.getAttribute("ascent")||I-k.vert.y,10),L=parseFloat(q.getAttribute("descent")||k.vert.y,10),K={},t=m.arrayToObject(["alphabetic","ideographic","mathematical","hanging"]);for(d in t)if(t=q.getAttribute(d))K[d]=parseFloat(t,10);q={};g=g.getElementsByTagName("glyph");var N;for(d in g)if((t=g[d]).getAttribute){var H=t.getAttribute("unicode");if(H){if(H.match(e)){N=H;if(N.match(e)){for(var Q={amp:"&",apos:"'",quot:'"',lt:"<",gt:">"},
T=void 0,P="";null!==(T=e.exec(N));)P="x"===T[1].charAt(1)?P+String.fromCharCode(T[1].slice(2),16):isNaN(parseInt(T[1].slice(1),10))?P+Q(T[1]):P+String.fromCharCode(T[1].slice(1));N=P}N=N.charCodeAt()}else N=H.charCodeAt();var Q=parseFloat(t.getAttribute("horiz-adv-x")||F.x,10),T=t.getAttribute("d"),P=b.SVGPath.toVOBPath(T)||[],R=new b.BBox(P);q[N]={unicode:H,name:t.getAttribute("glyph-name"),xadv:Q,width:R.x2-R.x1,height:R.y2-R.y1,path:T,data:P}}}d={family:a,name:p,style:v,variant:w,weight:y,stretch:J,
range:D,panose:B.split(" ").map(parseFloat),capHeight:E,unitsPerEm:I,origin:k,advance:F,ascent:G,descent:L,xheight:A,baseline:K,glyphs:q};d=f(d);c&&c(d)};"string"===typeof a&&-1===a.indexOf("<font")&&-1===a.indexOf("<?xml")?m.request({url:a,onsuccess:function(a){d(a.target.responseText)},onerror:function(a){},onprogress:function(a){}}):d(a)}},f=function(a){if("string"===typeof a){var d=a;a=b.fonts[d]}else d=a.family||"unknown",b.fonts[d]=a;c.pkg.family!==d&&(a?c.pkg=c.pkgs[d]=a:d in c.pkgs&&(c.pkg=
c.pkgs[d]));return a};c.measureText=function(a){if(a){a=""+a;for(var b=c.pkg.glyphs,d=a.length,f=0,g=c.pkg.advance.y,e=0,h=0;h<d;h++){var m=b[a.charCodeAt(h)];m&&(f+=m.xadv,e+=m.width)}return{width:f*c.scaleFactor,height:g*c.scaleFactor,actualWidth:e*c.scaleFactor,actualHeight:0*c.scaleFactor}}};c.strokeText=function(a,b,d,f){if(a&&isFinite(b+d))return a=this.drawText(a,b,d,f),b=c.ctx,b.stroke(),b.beginPath(),a};c.fillText=function(a,b,d,f){if(a&&isFinite(b+d))return a=this.drawText(a,b,d,f),b=c.ctx,
b.fill(),b.beginPath(),a};c.getTextBaseline=function(a){switch(a||this.textBaseline){case "alphabetic":return 0;case "top":return c.pkg.ascent*c.scaleFactor;case "hanging":return 8*c.pkg.ascent/10*c.scaleFactor;case "middle":case "absmiddle":return((c.pkg.ascent-c.pkg.descent)/2+c.pkg.descent)*c.scaleFactor;case "ideographic":return c.pkg.descent*c.scaleFactor;case "bottom":return c.pkg.descent*c.scaleFactor;default:return 0}};c.getTextAlign=function(a,b){switch(a){case "left":return 0;case "start":return"ltr"===
c.direction?0:c.measureText(b).width;case "end":return"ltr"===c.direction?c.measureText(b).width:0;case "right":return c.measureText(b).width;case "center":return c.measureText(b).width/2}};c.getScaleFactor=function(){var a=c.fontSize;if("number"===typeof a)var b="px";else b=a.toLowerCase(),a=parseFloat(b),b=b.replace(a,"");isFinite(a)||(a=1);if(m.getScreenMetrics){var d=m.toMetrics||(m.toMetrics=m.getScreenMetrics());2<b.length?a=d[b+"_px"]:"px"!==b&&(a*=d[b+"_px"])}c.scaleFactor=a/c.pkg.unitsPerEm;
return c.scaleFactor};c.drawText=function(a,f,g,e){if(a.length){for(var h=0;h<d.length;h++)a=a.split(d[h]).join(" ");c.getScaleFactor();var l,h=g||0;l=(f||0)-this.getTextAlign(this.textAlign,a);var h=h+this.getTextBaseline(this.textBaseline),p,m,k,q,v;"object"===typeof e&&(p=e,m=p.minWidth,e=p.maxWidth,k=p.maxHeight,v=p.targetWidth,q=p.targetHeight,p=p.getData);f=c.ctx;f.save();f.beginPath();g=this.measureText(a);var z=g.width,C=g.height;g=p?new b.Transform:f;isFinite(v)?(g.scale(v/z,1),l=l*z/v):
(isFinite(e)&&z>e&&(g.scale(e/z,1),l=l*z/e),isFinite(m)&&z<m&&(g.scale(m/z,1),l=l*z/m));isFinite(q)?(g.scale(1,q/C),h=h*C/q):isFinite(k)&&C>k&&(g.scale(1,k/C),h=h*C/k);(l||h)&&g.translate(l||0,h||0);g.scale(c.scaleFactor,-c.scaleFactor);e=c.pkg.glyphs;k=[];"number"===typeof a&&(a=String(a));q=0;for(v=a.length;q<v;q++)m=e[h=a.charCodeAt(q)],10!==h&&13!==h&&(m||(m=e["?".charCodeAt()]),m&&(m.data||(m.data=b.SVGPath.toVOBPath(m.path)||[]),m.data&&(h=m.data,p&&m.path?k.push({d:m.path,data:g.flatten(m.data,
!0,!1)}):(f.beginPath(),b.Shape.VOBPath(f,h),f.fill()),g.translate(m.xadv,0))));f.restore();if(p)return{childNodes:k}}};c.toSVG=function(a,d){new b.SVG({ctx:c.ctx,src:a,onload:function(a){a=a.typeface.pkg.glyphs;var c={},f;for(f in a){var g=a[f];if(g.path){var e=b.SVGPath.toVOBPath(g.path),h=new b.BBox(e),e=(new b.Transform).translate(0,h.y2).scale(1,-1).flatten(e,!0),e=b.SVGPath.fromVOBPath(e),m=h.x2-h.x1,q=h.y2-h.y1,h=h.x1;c[g.unicode.charCodeAt()+".svg"]='<?xml version="1.0" encoding="UTF-8"?><svg version="1.1" width="'+
m+'" height="'+q+'" viewBox="'+h+" 0 "+m+" "+q+'" xmlns="http://www.w3.org/2000/svg"><path d="'+e+'"/></svg>'}}d(c)}})};c.setFont=function(b){if(c.font!==b){for(var d=b.trim().split(" "),g=d.length,e=0,h=0,l=Math.min(3,g);e<l;){var p=d[e];if(0===(h&1)&&-1!==" normal italic oblique ".indexOf(" "+p+" "))c.fontStyle=d[e++],h|=1;else if(0===(h&2)&&-1!==" normal small-caps ".indexOf(" "+p+" "))c.fontVariant=d[e++],h|=2;else if(0===(h&4)&&(-1!==" normal bold bolder lighter ".indexOf(" "+p+" ")||3===p.length&&
"1"<=p.charAt(0)&&"9">=p.charAt(0)&&"0"===p.charAt(1)&&"0"===p.charAt(2)))c.fontWeight=a[d[e++]],h|=4;else break}e<g&&(h=d[e],l=h.indexOf("/"),-1===l?e++:(h=h.substring(0,l),d[e]=d[e].substring(l)),c.fontSize=h);e<g&&"/"===d[e].substr(0,1)&&("/"!==d[e]?c.lineHeight=d[e++].substring(1):++e<g&&(c.lineHeight=d[e++]));if(e<g){for(h=d[e++];e<g;)h+=" "+d[e++];c.fontFamily=h;f(h)}c.font=b}};b.font&&(f(b.font),c.fontFamily=b.font.name);return c};var e=/&(quot|apos|lt|gt|amp|#x[^;]+|#\d+);/g,d=["\t","\n",
"\x0B","\f","\r"],a={normal:400,bold:700,lighter:300,bolder:500},h="undefined"!==typeof module&&module.exports;h&&(module.exports=k.vector.SVGFont)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.vector=k.vector||{},d=e.SVGPath=e.SVGPath||{},a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0};d.fromVOBPath=function(a,d){isFinite(d)&&e.roundPath&&(a=e.roundPath(a,d));for(var m="",b=0,c,f;b<a.length;b++)if(c=a[b]){switch(c.cmd){case "M":"M"!==f&&(m+="M");m+=c.x+" "+c.y+" ";break;case "L":"L"!==f&&(m+="L");m+=c.x+" "+c.y+" ";break;case "C":"C"!==f&&(m+="C");m+=c.x1+" "+c.y1+" "+c.x2+" "+c.y2+" "+c.x+" "+c.y+" ";break;case "Q":"Q"!==f&&(m+="Q");m+=c.x1+" "+c.y1+" "+c.x+" "+c.y+" ";
break;case "Z":case "z":m+="z"}f=c.cmd}"z"!==f&&(m+="z ");return m.slice(0,-1)};d.fromARRPath=function(a){for(var d="",e={},b=0,c=a.length;b<c;b++)if(e=a[b])switch(e[0]){case "M":d+="M"+e[1]+" "+e[2]+" ";break;case "L":d+="L"+e[1]+" "+e[2]+" ";break;case "C":d+="C"+e[1]+" "+e[2]+", "+e[3]+" "+e[4]+", "+e[5]+" "+e[6]+" ";break;case "Q":d+="Q"+e[1]+" "+e[2]+", "+e[3]+" "+e[4]+" ";break;case "Z":case "z":d+="z"}"z"!==pcmd&&(d+="z ");return d.slice(0,-1)};d.fromVOBPolygon=function(a){for(var d="",e={},
b=0,c=a.length;b<c;b++)switch((e=a[b]).cmd){case "Z":case "z":break;default:d+=e.x+","+e.y+" "}return d.slice(0,-1)};d.toVOBPolygon=function(a){if(a){a=a.match(/[0-9]*/gi);for(var d=[],e=0,b=a.length;e<b;e++)a[e]&&d.push(parseFloat(a[e]));a=[];e=0;for(b=d.length;e<b;e+=2)a.push({cmd:0===e?"M":"L",x:d[e],y:d[e+1]});a.push({cmd:"Z"});return a}};d.toVOBPath=function(e){if(e){e=e.replace(/([^e])([+-])/gi,"$1 $2");e=e.match(/([mlhvcsqtaz])|(([\-0-9]*\.?[0-9]*)|(\.[0-9]+))(e[+-]?[0-9]+)?/gi);for(var g=
[],m=0,b=e.length;m<b;m++)e[m]&&g.push(e[m]);e=g;for(var g="",c=m=0,f=0,k=0,r=0,y,u,s="",l=0,p=[];g=e[m];){var t=a[g.toLowerCase()]+1;if(t){for(var x=1,b=t,q=[];x<b;x++)q.push(parseFloat(e[m+x]));l=t;m+=t}else{x=0;b=l-1;for(q=[];x<b;x++)q.push(parseFloat(e[m+x]));g="m"===s?"l":"M"===s?"L":s;m+=l-1}if(g){switch(g){case "M":c=q[0];f=q[1];k=c;r=f;y=u=null;p.push({cmd:"M",x:c,y:f});break;case "m":c+=q[0];f+=q[1];k=c;r=f;y=u=null;p.push({cmd:"M",x:c,y:f});break;case "L":c=q[0];f=q[1];y=u=null;p.push({cmd:"L",
x:c,y:f});break;case "l":c+=q[0];f+=q[1];y=u=null;p.push({cmd:"L",x:c,y:f});break;case "H":c=q[0];y=u=null;p.push({cmd:"L",x:c,y:f});break;case "h":c+=q[0];y=u=null;p.push({cmd:"L",x:c,y:f});break;case "V":f=q[0];y=u=null;p.push({cmd:"L",x:c,y:f});break;case "v":f+=q[0];y=u=null;p.push({cmd:"L",x:c,y:f});break;case "C":c=q[4];f=q[5];y=q[2];u=q[3];p.push({cmd:"C",x1:q[0],y1:q[1],x2:q[2],y2:q[3],x:q[4],y:q[5]});break;case "c":0===q[4]&&0===q[5]&&(q[4]+=1E-4,q[5]+=1E-4);p.push({cmd:"C",x1:q[0]+c,y1:q[1]+
f,x2:q[2]+c,y2:q[3]+f,x:q[4]+c,y:q[5]+f});y=c+q[2];u=f+q[3];c+=q[4];f+=q[5];break;case "S":null!==y&&s.match(/[sc]/i)||(y=c,u=f);p.push({cmd:"C",x1:c-(y-c),y1:f-(u-f),x2:q[0],y2:q[1],x:q[2],y:q[3]});y=q[0];u=q[1];c=q[2];f=q[3];break;case "s":0===q[2]&&0===q[3]&&(q[2]+=1E-4,q[3]+=1E-4);null!==y&&s.match(/[sc]/i)||(y=c,u=f);p.push({cmd:"C",x1:c-(y-c),y1:f-(u-f),x2:c+q[0],y2:f+q[1],x:c+q[2],y:f+q[3]});y=c+q[0];u=f+q[1];c+=q[2];f+=q[3];break;case "Q":y=q[0];u=q[1];c=q[2];f=q[3];p.push({cmd:"Q",x1:q[0],
y1:q[1],x:q[2],y:q[3]});break;case "q":0===q[2]&&0===q[3]&&(q[2]+=1E-4,q[3]+=1E-4);p.push({cmd:"Q",x1:q[0]+c,y1:q[1]+f,x:q[2]+c,y:q[3]+f});y=c+q[0];u=f+q[1];c+=q[2];f+=q[3];break;case "T":null!==y&&s.match(/[qt]/i)?(y=c-(y-c),u=f-(u-f)):(y=c,u=f);p.push({cmd:"Q",x1:y,y1:u,x:q[0],y:q[1]});c=q[0];f=q[1];break;case "t":0===q[0]&&0===q[1]&&(q[0]+=1E-4,q[1]+=1E-4);null!==y&&s.match(/[qt]/i)?(y=c-(y-c),u=f-(u-f)):(y=c,u=f);p.push({cmd:"Q",x1:y,y1:u,x:c+q[0],y:f+q[1]});c+=q[0];f+=q[1];break;case "A":b=d.arcToBezier(c,
f,q[0],q[1],q[2],q[3],q[4],q[5],q[6]);for(c=0;c<b.length;c++)p.push(b[c]);c=q[5];f=q[6];break;case "a":q[5]+=c;q[6]+=f;b=d.arcToBezier(c,f,q[0],q[1],q[2],q[3],q[4],q[5],q[6]);for(c=0;c<b.length;c++)p.push(b[c]);c=q[5];f=q[6];break;case "Z":p.push({cmd:"Z",x:k,y:r});r=k=0;break;case "z":p.push({cmd:"Z",x:k,y:r}),c=k,f=r}s=g}}return p}};d.arcToBezier=function(a,d,e,b,c,f,k,r,y){var u=c*Math.PI/180;c=Math.sin(u);var u=Math.cos(u),s=[];e=Math.abs(e);b=Math.abs(b);var l=u*(a-r)*.5+c*(d-y)*.5,p=u*(d-y)*
.5-c*(a-r)*.5,l=l*l/(e*e)+p*p/(b*b);1<l&&(l=Math.sqrt(l),e*=l,b*=l);var l=u/e,p=c/e,t=-c/b,x=u/b,q=l*a+p*d;d=t*a+x*d;a=l*r+p*y;r=t*r+x*y;l=1/((a-q)*(a-q)+(r-d)*(r-d))-.25;0>l&&(l=0);l=Math.sqrt(l);k===f&&(l=-l);f=.5*(q+a)-l*(r-d);y=.5*(d+r)+l*(a-q);q=Math.atan2(d-y,q-f);d=Math.atan2(r-y,a-f)-q;0>d&&1===k?d+=2*Math.PI:0<d&&0===k&&(d-=2*Math.PI);k=Math.ceil(Math.abs(d/(.5*Math.PI+.001)));for(var v=0;v<k;v++){r=q+v*d/k;var z=q+(v+1)*d/k,l=u*e,p=-c*b,t=c*e,x=u*b;a=.5*(z-r);var C=8/3*Math.sin(.5*a)*Math.sin(.5*
a)/Math.sin(a);a=f+Math.cos(r)-C*Math.sin(r);r=y+Math.sin(r)+C*Math.cos(r);var J=f+Math.cos(z),D=y+Math.sin(z),B=J+C*Math.sin(z),z=D-C*Math.cos(z);s[v]={cmd:"C",x1:l*a+p*r,y1:t*a+x*r,x2:l*B+p*z,y2:t*B+x*z,x:l*J+p*D,y:t*J+x*D}}return s};"undefined"!==typeof module&&module.exports&&(module.exports=d)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.vector=k.vector||{},d=function(a){var d=a.prototype;d.render=function(b){k=a.__self||k;b=b||{};var c=b.ctx||this.ctx,d=b.childNodes||(b.childNodes=[this.vob]);b.placement||(b.placement=this.placement);b.viewBox||(b.viewBox=this.viewBox);b.viewBoxStroke||(b.viewBoxStroke=this.viewBoxStroke);b.defaultFill&&(this.defaultFill=b.defaultFill);c.save();m.call(this,b);this.renderChildNodes(c,b,d);c.restore()};d.hitTest=function(a){var c=a.ctx||(a.ctx=new e.Transform),d=a.childNodes||
(a.childNodes=[this.vob]);a.placement||(a.placement=this.placement);a.viewBox||(a.viewBox=this.viewBox);a.viewBoxStroke||(a.viewBoxStroke=this.viewBoxStroke);this._hitAreas=[];this._transform=new e.Transform;this._transforms=[];c.save();m.call(this,a);this.hitTestChildNodes(c,a,d);c.restore();return this._hitAreas};d.hitTestChildNodes=function(a,c,d){if(d&&d.length)for(var h=e.Point,m=e.Polygon,k=d.length,u=0;u<k;u++){var s=d[u];this.currentNode=s;a.save();if(s.matrix){var l=s.matrix;a.transform(l.a,
l.b,l.c,l.d,l.x,l.y)}if(s.bbox){var p=(new e.Transform(a.matrix)).invert(),l=e.BBox.toRect(s.bbox);if(c.point)p=p.flatten(c.point,!0),h.inPolygon(l,p.x,p.y)&&(l=s._vertices||(s._vertices=g(s)),h.inPolygonChain(l,p.x,p.y)&&this._hitAreas.push(s));else if(c.rect&&(p=p.flatten(c.rect,!0),m.SAT(p,l))){l=s._vertices||(s._vertices=g(s));a:{for(var t=e.Polygon,x=0,q=l.length;x<q;x++)if(t.collision(p,l[x])){l=!0;break a}l=void 0}l&&this._hitAreas.push(s)}}a.restore();s.childNodes&&s.childNodes.length&&this.hitTestChildNodes(a,
c,s.childNodes)}};var g=function(a){var c=new e.Path;c.getData=!0;c.dashAdaptive=1;e.Shape.VOBNode(c,a);a=(new e.Transform(a.matrix)).flatten(c.data);for(var c=[],d,g=0;g<a.length;g++){var h=a[g];"M"===h.cmd?c.push(d=[h]):d.push(h)}return c},m=function(a){var c=a.calcStroke,d=a.ctx,g=a.trx||new e.Transform(a.matrix),h=a.viewBox,m=a.viewBoxStroke,c=c?m:h;switch(a.placement){case "crop":g.translate(-c[0],-c[1]);var g=g.matrix,m=c[2]-c[0],k=c[3]-c[1],h=a.width,s=a.height;isFinite(h+s)?(h=Math.min(h/
m,s/k),g.a*=h,g.d*=h,g.x+=c[0]*(1-h),g.y+=c[1]*(1-h),c=(k-m)*h/2,0<c?g.x+=c:g.y-=c,d.canvas.width=a.width,d.canvas.height=a.height):(d.canvas.width=m>>0,d.canvas.height=k>>0);d.transform(g.a,g.b,g.c,g.d,g.x,g.y);this.vob._matrix=g;break;case "bbox":h=g.matrix;a=c[2]*h.a;h=a-c[0]*h.a;g.scale(a/h);g.translate(-c[0],-c[1]);g.apply(d,!0);this.vob._matrix=g.matrix;break;case "none":d.canvas.width=this.ctx.canvas.width,d.canvas.height=this.ctx.canvas.height}};d.renderChildNodes=function(a,c,d,g){if(d&&
d.length){var h=e.Shape;this.typeface&&(this.typeface.ctx=a);for(var m=d.length,k=0;k<m;k++){var s=d[k],l=s.bbox;this.currentNode=s;a.save();a.beginPath();if(s.matrix){var p=s.matrix;a.transform(p.a,p.b,p.c,p.d,p.x,p.y)}s.clipPath&&s.clipPath.length&&(this.renderChildNodes(a,c,s.clipPath,!0),a.clip(),a.beginPath());h.VOBNode(a,s);(p=s.style)&&!g&&(a.save(),void 0!==p.opacity&&(a.globalAlpha=p.opacity),p.fillStyle&&(a.save(),this.setStyle(a,this.defs[p.fillStyle]||this.defs[this.defaultFill]||p,"fillStyle",
this.defaultFill),a.globalAlpha*=p.fillOpacity,s.content?(a.font=this.fontStyleToString(a,p),"SVG"===p.fontRenderer?(this.typeface.setFont(a.font),this.typeface.fillText(s.content,s.x,s.y)):a.fillText(s.content,s.x,s.y)):a.fill(),a.restore()),a.lineWidth=0===p.strokeWidth?1E-10:p.strokeWidth||1,a.lineCap=p.strokeLinecap||"butt",a.lineJoin=p.strokeLinejoin||"miter",a.miterLimit=p.strokeMiterlimit||a.lineWidth,p.strokeStyle&&"none"!==p.strokeStyle&&(a.save(),this.setStyle(a,this.defs[p.strokeStyle]||
this.defs[this.defaultStroke]||p,"strokeStyle",this.defaultStroke),a.globalAlpha*=p.strokeOpacity,s.content?(a.font=this.fontStyleToString(a,p),"SVG"===p.fontRenderer?(this.typeface.setFont(a.font),this.typeface.strokeText(s.content,s.x,s.y)):a.strokeText(s.content,s.x,s.y)):a.stroke(),a.restore()),a.restore());!g&&l&&this.debugBBox&&(p=this.vob._matrix,a.save(),a.setTransform(p.a,p.b,p.c,p.d,p.x,p.y),a.strokeStyle="red",a.lineWidth=.25,a.strokeRect(l.x1,l.y1,l.x2-l.x1,l.y2-l.y1),a.restore());a.restore();
s.childNodes&&s.childNodes.length&&this.renderChildNodes(a,c,s.childNodes,g)}}};d.setStyle=function(b,c,d,g){k=a.__self||k;void 0!==c.strokeWidth&&(b.lineWidth=c.strokeWidth||1E-10);void 0!==c.strokeLinecap&&(b.lineCap=c.strokeLinecap);void 0!==c.strokeLinejoin&&(b.lineJoin=c.strokeLinejoin);void 0!==c.strokeMiterlimit&&(b.miterLimit=c.strokeMiterlimit);var h;if(c.gradientTransform){var m=c.gradientTransform;this.currentNode&&this.currentNode.matrix&&(h=new e.Transform,h.transform(m.a,m.b,m.c,m.d,
m.x,m.y),h=h.matrix)}switch(c.type){case "linearGradient":void 0===c.x1&&(c.x1=0);void 0===c.y1&&(c.y1=0);void 0===c.x2&&(c.x2=0);void 0===c.y2&&(c.y2=0);if(b){h&&b.transform(h.a,h.b,h.c,h.d,h.x,h.y);if("objectBoundingBox"===c.gradientUnits){0===c.x1+c.y1+c.x2+c.y2&&(c.x2=1);var u=this.currentNode;if(!u.bbox)break;g=u.bbox;var s=g.x1+(g.x2-g.x1)*c.x1,l=g.y1+(g.y2-g.y1)*c.y1,p=g.x1+(g.x2-g.x1)*c.x2,t=g.y1+(g.y2-g.y1)*c.y2;h=b.createLinearGradient(s,l,p,t);h=(new e.Transform(u.matrix)).invert();s=h.point2d(s,
l);h=h.point2d(p,t);h=b.createLinearGradient(s.x,s.y,h.x,h.y)}else h=b.createLinearGradient(c.x1,c.y1,c.x2,c.y2);g=0;for(m=c.stops.length;g<m;g++){var x=c.stops[g];h.addColorStop(x.offset,x.color)}b[d]=h}break;case "radialGradient":void 0===c.cx&&(c.cx=.5);void 0===c.cy&&(c.cy=.5);void 0===c.fx&&(c.fx=.5);void 0===c.fy&&(c.fy=.5);void 0===c.r&&(c.r=.5);if(b){h&&b.transform(h.a,h.b,h.c,h.d,h.x,h.y);if("objectBoundingBox"===c.gradientUnits){u=this.currentNode;g=u.bbox;if(!u.bbox)break;var m=g.x2-g.x1,
x=g.y2-g.y1,s=g.x1+m*c.cx,l=g.y1+x*c.cy,p=g.x1+m*c.fx,t=g.y1+x*c.cy,q=Math.max(m,x)*c.r*1.6;h=(new e.Transform(u.matrix)).invert();s=h.point2d(s,l);h=h.point2d(p,t);h=b.createRadialGradient(s.x,s.y,0,h.x,h.y,q);x<m&&(m=x/m,b.translate(0,g.y2),b.scale(1,m))}else h=b.createRadialGradient(c.cx,c.cy,0,c.fx,c.fy,c.r);g=0;for(m=c.stops.length;g<m;g++)x=c.stops[g],h.addColorStop(x.offset,x.color);b[d]=h}break;case "pattern":b.translate(c.x||0,c.y||0);b[d]=c.pattern||"transparent";break;default:b[d]="default"===
c[d]?g||this.defaultFill:c[d]}}};"undefined"!==typeof module&&module.exports?(require("xmldom"),module.exports=d):d(e.SVG)})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.SVG=function(d){var a=this,h=d.lang;a.save=function(a){var h=d.doc,b=h.scene,c=h.toolkit,f=h.canvas2d;a=a||{};var k,r=a.data||b.children;"function"===typeof a?k=a:"object"===typeof a?(r=a.items||r,k=a.onsave||a.callback||e):k=e;for(var y=[],u=new d.vector.SVG,r=b.clone(r),s=0;s<r.length;s++){var l=r[s],p=l.bbox;l.style||(l.style={});var t={a:p.scale.x,b:0,c:0,d:p.scale.y,x:p.x+f.x,y:p.y+f.y},x={id:l.id,type:l.type,parentNode:u.vob},q=l.type,v=d.detect.brush[q],
z=d.detect.shape[q];if(v||z){var C=l.data;v&&(x.type="polyline");v&&(q="brush");z&&(q="shape");switch(q){case "shape":q=new d.vector.Shape.record;v=Math.max(p.width,p.height)/2;h.toolkit.shape.render(q,p.x,p.y,v,l);x.d=q.stringify();x.type="path";break;case "stamp":case "path":x.d=d.vector.SVGPath.fromVOBPath(C);break;case "brush":case "polygon":case "polyline":x.points=d.vector.SVGPath.fromVOBPolygon(C);break;default:console.log(q)}l.src&&(x.src=l.src)}else if("text"===q)x.content=l.content,b.copyAttributes(c.text._attributes,
l,x),t.y+=p.height;else if("clipart"===q){q=d.assets.getById(l.src);if(!q)continue;z=p.viewBox;v=z[2]-z[0];z=z[3]-z[1];x.type="image";x["xlink:href"]=q.toDataURL();t.a*=p.width/v;t.d*=p.height/z;x.width=p.width;x.height=p.height}else"image"===q?(x["xlink:href"]=l.src,x.width=p.width,x.height=p.height):console.log(q,l);x.bbox={x1:p.x,y1:p.y,x2:p.x+p.width,y2:p.y+p.height};x.matrix=t;x.transform=t;p=x;t=l.style.opacity;q=l.style.fillOpacity;v=l.style.fillRule;z="color"===l.fill.type?l.fill.color:"url(#gradient0)";
p.style={opacity:t,fillOpacity:q,fillRule:v,fillStyle:z,strokeLinecap:l.style.strokeLinecap,strokeLinejoin:l.style.strokeLinejoin,strokeMiterlimit:l.style.strokeMiterlimit,strokeDasharray:l.style.strokeDasharray,strokeDashoffset:l.style.strokeDashoffset,strokeOpacity:l.style.strokeOpacity,strokeStyle:l.style.strokeStyle,strokeWidth:l.diameter};l.labels&&(x.labels=l.labels.join(","));l.license&&(x.license=l.license);l.author&&(x.author=l.author);y.push(x)}b=h.getBounds();u.viewBox=[0,0,b.width,b.height];
u.vob.childNodes=y;u.vob.metadata=btoa(h.mixinAttributes(h,{}));u.stringify?a.toDataURL?k(u,u.toDataURL()):k(u,u.stringify()):console.log("Missing SVGExport module.")};a.toActions=function(a,e){var b=d.doc,c=a.data;if(!c.vob)return console.log("error",c);c=c.vob.childNodes;if(a.mergeIntoScene)var f=[];else f=[],b.scene.setData(f);var h=function(a){for(var c=0;c<a.length;c++){var g=a[c];g.childNodes&&h(g.childNodes);if(g.data){for(var e=g.matrix,l=(new CSSMatrix("matrix("+[e.a,e.b,e.c,e.d,e.x,e.y].join()+
")")).decompose(),e=l.rotate,p=l.scale,l=l.translate,m=new d.vector.bbox(g.data),k=m.x,q=m.y,v=b.scene.clone(g.data),z=0;z<v.length;z++)isFinite(v[z].x)&&(v[z].x-=k,v[z].y-=q),isFinite(v[z].x1)&&(v[z].x1-=k,v[z].y1-=q),isFinite(v[z].x2)&&(v[z].x2-=k,v[z].y2-=q);e={zIndex:c,composite:"source-over",data:v,diameter:g.style.strokeWidth,opacity:100*g.style.fillOpacity,fill:{type:"color",color:g.style.fillStyle},id:b.scene.createId({targetId:g.id}),type:g.type,style:g.style,bbox:{x:k*p.x+l.x,y:q*p.y+l.y,
width:m.width/p.x,height:m.height/p.y,units:"objectBoundingBox",scale:{x:p.x,y:p.y},rotate:e.z}};g.labels&&(e.labels=g.labels.split(","));g.license&&(e.license=g.license);g.author&&(e.author=g.author);f.push(e)}}};h(c);e(f)};a.add=function(d,e,b){d.mergeIntoScene=!0;a.open(d,e,b)};a.open=function(g,m,b){var c=d.doc;if(!g)return console.log("svg.open",arguments);m=m||g.onload||e;b=b||g.onerror||e;var f;g.data?f=g.data:"string"===typeof g?f=g:g.src&&(f=g.src);0===f.indexOf("<polygon")&&(f='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketchjs="https://sketch.io/dtd/" sketchjs:version="3.0">'+
f+"</svg>");0===f.indexOf("<svg")&&(f='<?xml version="1.0" encoding="UTF-8"?>'+f);0===f.indexOf("<?xml")&&(f="data:image/svg+xml;base64,"+btoa(f));d.loader&&d.loader.create("thread",h.translate("reading-format",".SVG..."),0);var k=g.mergeIntoScene;new d.perf;return new d.vector.SVG({skipRender:!0,placement:"none",src:f,onerror:b,onload:function(b){if(b.vob.metadata){var f=JSON.parse(atob(b.vob.metadata));c.labels=f.labels;c.license=f.license;c.author=f.author}a.toActions({data:b,mergeIntoScene:k},
function(a){d.loader&&d.loader.create("thread",h.translate("rendering")+"...",50);setTimeout(function(){if(k)d.io.json.merge(a),d.loader&&d.loader.create("thread",null,100);else{var f=b.vob.viewBox||b.viewBox||[0,0,window.innerWidth,window.innerHeight];c.setSize(f[2],f[3]);c.history.reset();c.scene.setData(a);c.render.preload({chunkBatch:!0,onsuccess:function(){d.loader&&d.loader.stop("thread");m&&m(a)}})}},1)})}})}};var e=function(d,a){console.log("callback",d,a)};"undefined"!==typeof module&&module.exports&&
(module.exports=k.module.SVG)})(sketch);
(function(k){k.registerToolkit("media",function(e,d){var a=this,h=d.canvas2d,g=e.detect,m=d.render,b=d.scene,c=d.toolkit,f=e.ui,k=e.util,r=e.vector,y=e.feature.tools.media;a.id="media";a.units=y.units;var u={x:0,y:0,width:100,height:100,rotate:0,scale:{x:1,y:1}};a._attributes={brightness:"number",contrast:"number",exposure:"number",hue:"number",saturation:"number",temperature:"number",tint:"number",src:"string"};var s=k.copy(a._attributes);a.attributes=k.copyInto(e.attrs.__styledObject,s);(function(){var b=
{};a.enabled=!1;a.enable=function(){!1===a.enabled&&(a.enabled=!0,c.select&&c.select.enable({events:b,cursor:!0,key:!0,mouse:!0,gesture:!0,searchParam:{toolkitId:y.useSearch}}))};a.disable=function(){!0===a.enabled&&(a.enabled=!1,eventjs.removeEvents(b))}})();a.loadResource=function(a){var b=a.object,c=a.onerror,f=a.onsuccess,g=a.onprogress,h=b.src;a=b.type;if(d.config[a]&&h){var l=b.bbox||(b.bbox=k.copy(u)),m=l.owidth||l.width,s=l.oheight||l.height;e.assets.add({src:h,type:a,onprogress:function(a){g&&
g(a.loaded/a.total)},onerror:function(){if(c){var a=h.split("/").pop();c(b,"&ldquo;"+a+"&rdquo; unavailable.")}},onload:function(a){("clipart"===this.type?t:p)({asset:this,hash:a,object:b,onsuccess:f,src:h,scaleBBox:function(a,b){m/a>s/b&&(s=m/a*b);m/a<s/b&&(m=s/b*a);l.width=m;l.height=s;l.owidth=l.owidth||m;l.oheight=l.oheight||s}})}})}else c&&c([b,a+" unavailable"])};a.createObject=function(c,d){var f=a.mergeObjectDefaults(c.object),f=b.addObject(f);d&&d(f)};a.onEnterKey=function(){b.deselectAll();
b.render()};a.onRecord=function(p,q){if("eyeDropper"!==f.colorPicker.state){var t=q.state,s=q.pointerStart,r=q.pointerDown,u=q.pointerEnd,D=c.getPointerId(p,q),B=isFinite(q.shiftKey)?q.shiftKey:eventjs.shiftKey,E=isFinite(q.metaKey)?q.metaKey:eventjs.metaKey,A=!!p,I=A&&d.on.record;d.__interacting=r;if(A)if(s){if(eventjs.prevent(p),b.hoverControlIdx)return}else eventjs.cancel(p);r=m.pointer[D];if(!r||!r.object)if(A&&s)r=m.pointer[D]={},b.copyProperties(a,a.device,r.object={}),a.loadResource({object:r.object});
else{console.warn("media.onRecord - no pointer");return}r.lastModified=Date.now();var r=r.object,F=r.type;if("function"!==typeof r.render)q.pause&&q.pause(),r.src?a.loadResource({object:r,onsuccess:function(b){q.resume&&q.resume();a.onRecord(p,q)},onerror:function(a,b){console.error(a,b)}}):console.error("media.onRecord - undefined src",r),m.removePointer(D);else{if(I){var G;s&&(G=b.compress(b.copyProperties(a,r),!0));d.on.record({op:"TOOL",data:{config:G,toolkitId:"media",type:F,pointerId:D,state:t,
point:b.pointInPeerSceneFromCanvas(q),metaKey:E,shiftKey:B}})}var I=d.zoom,t=(I-1)/I,L=I*d.pixelRatio;G=d.scrollLeft*t;var K=d.scrollTop*t,N=q.start,t=0>q.x-N.x?-1:1,E=0>q.y-N.y?-1:1,H=N.x/I+G,Q=N.y/I+K,N=q.x/I+G-H,T=q.y/I+K-Q,I=r.bbox;G=2*Math.abs(N||1);K=2*Math.abs(T||1);G/I.width>K/I.height?K=G/I.width*I.height:G=K/I.height*I.width;if(s&&(r.dirtyCheck=!0,r.lastSampleSize=Math.sqrt(G*K),r.toolkitId="media",s=e.lib[F].byPath[r.src])){if(!1===b.ensureMaxCopies(opts)){m.removePointer(D);return}b.copyRules(s,
r)}r.dirtyTransform=!0;I.x=H-1*h.x/L;I.y=Q-1*h.y/L;I.width=G;I.height=K;I.units=a.units;s=b.getConstraint(r,!0);I.width=I.owidth=s.width;I.height=I.oheight=s.height;F=!g.useNonUniform[F];F="objectBoundingBox"===a.units||F;B||!1===F?I.rotate=0:(L=-Math.atan2(N,T)*k.RAD_DEG,I.rotate=(L+3600)%360);L=I.scale;if(B||!1===F)if(L.x!==t||L.y!==E)s.constrained=!0,L.x=t,L.y=E;F?(I.x-=L.x*I.width/2,I.y-=L.y*I.height/2):(I.owidth=I.width/=2,I.oheight=I.height/=2);B=Math.sqrt(I.width*I.height)/r.lastSampleSize;
I.scaleCache={x:B,y:B};if(u&&(m.removePointer(D),G*K<a.minWidth*a.minHeight))if(y.addByClick)5>=G&&5>=K?(D=a.defaultWidth,F=a.defaultHeight):(D=a.minWidth,F=a.minHeight),D/G>F/K&&(F=D/G*K),D/G<F/K&&(D=F/K*G),I.width=I.owidth=D,I.height=I.oheight=F,I.x-=(D-G)/2,I.y-=(F-K)/2;else return;b.updateConstrain(r);clearTimeout(r.timeout);D=.5>B||3<B||1!==B&&s.constrained;u||D&&B?l(r,u,A)():1<B&&(r.timeout=setTimeout(l(r),250));m.dirtyPointer=!0}}};var l=function(a,c,d){return function(){a.dirtyCheck=!0;c&&
(a.bbox.scaleCache={x:1,y:1},a=b.addObject(a,{useHistory:!0}),d&&b.selectByIdx(a.zIndex),m.dirty=!0,m.dirtyControls=!0);m.dirtyPointer=!0}},p=function(a){var b=a.asset,c=a.scaleBBox,d=a.object;a=a.onsuccess;var f=d.bbox,f="default"===b.className?[0,0,f.width,f.height]:[0,0,b.width,b.height];e.assets.isDefault(b)||c(f[2]-f[0],f[3]-f[1]);d.dirtyTransform=!0;d.bbox.viewBox=f;d.render=function(a,c,d){c=this.bbox;var f=c.width,g=c.height,e=c.scale;c=e.x;var e=e.y,h=Math.abs(f*c),l=Math.abs(g*e),f=0>c?
f*c:0,g=0>e?g*e:0,p=f?-1:1,m=g?-1:1;a.save();d?(a.scale(1/c,1/e),a.scale(p,m)):(a.scale(p,m),a.translate(f,g));a.drawImage(b,0,0,h,l);a.restore()};a&&a(d)},t=function(a){if(k.exists("sketch.vector.SVG")){var b=a.asset,c=a.scaleBBox,d=a.object;a=a.onsuccess;var f=d.bbox,g=f.width,h=f.height,l=b.viewBox;c(l[2]-l[0],l[3]-l[1]);if("objectBoundingBox"===f.units){var c=f.scale,p=f.height;f.x+=(1-f.width/g)*g/2*c.x;f.y+=(1-p/h)*h/2*c.y}d.svg=b;d.bbox.viewBox=l;d.dirtyCheck=!0;f=b.viewBox||l;g=b.viewBoxStroke||
l;d.padding={left:f[0]-g[0],right:g[2]-f[2],top:f[1]-g[1],bottom:g[3]-f[3]};d.render=function(a,c,d){if(b.render){var f={ctx:a};if("symbol"===this.type){var g=this.fill;g?"gradient"===g.type?(f.defaultFill="defaultFill",this.svg.addDef(r.SVG.Gradient({id:"defaultFill",type:"radial"===g.mode?"radialGradient":"linearGradient",stops:e.style.getColorStopsHelper({asSVGArray:!0,noise:g.noise,dna:g.gradient})}))):f.defaultFill=g.color:f.defaultFill="#000000"}f.trx=d?new r.Transform:c;var h=this.bbox,g=h.width,
p=h.height,m=h.scale,h=m.x,m=m.y,k=g/l[2];d?(a.save(),a.scale(k,k),b.render(f),a.restore()):(c.translate(0>h?-g:0,0>m?-p:0),c.scale(k,k),b.render(f))}else console.warn("error",b)};a&&a(d)}else console.error("SVG module is required")};return c.init(a)})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],d=function(a,h){if(!(this instanceof d))return new d(a,h);this.filters={};this.id="ColorMatrix";if(a)if("object"===typeof a){var g=!0,m;for(m in a)g=!1;g&&(this.matrix=e.slice(0));for(var b in a)break;if("number"===typeof a[b])if(isNaN(b))this.update(a);else{g={};for(m in a)g[m]=o[m];this.matrix=g}else"object"===typeof a[b]&&this.combine(a)}else this.update(a,h);else this.matrix=e.slice(0);return this};d.prototype={brightness:function(a){return[1,
0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0]},contrast:function(a,d){d=d||.5;return[++a,0,0,0,d*(1-a),0,a,0,0,d*(1-a),0,0,a,0,d*(1-a),0,0,0,1,0]},sepia:function(){return[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]},exposure:function(a){return[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0]},colorize:function(a){var d=(a>>>16&255)/255,g=(a>>>8&255)/255,m=(a&255)/255;a=(a>>>24)/255;d=[.212656*d,.715158*d,.072186*d,0,0,.212656*g,.715158*g,.072186*g,0,0,.212656*m,.715158*m,.072186*m,0,0,0,
0,0,1,0];if(1>a)for(g=0;20>g;g++)d[g]=(1-a)*e[g]+a*d[g];return d},monotone:function(a){var d=(a>>>16&255)/255,g=(a>>>8&255)/255,m=(a&255)/255;a=(a>>>24)/255;d=[d,g,m,0,0,d,g,m,0,0,d,g,m,0,0,0,0,0,1,0];if(1>a)for(g=0;20>g;g++)d[g]=(1-a)*e[g]+a*d[g];return d},hue:function(a){a*=sketch.util.DEG_RAD;var d=Math.cos(a);a=Math.sin(a);return[.212656+.787344*d+-.212656*a,.715158+-.715158*d+-.715158*a,.072186+-.072186*d+.927814*a,0,0,.212656+-.212656*d+.143*a,.715158+d*(1-.715158)+.14*a,.072186+-.072186*d+
-.283*a,0,0,.212656+-.212656*d+-.787344*a,.715158+-.715158*d+.715158*a,.072186+.927814*d+.072186*a,0,0,0,0,0,1,0]},invert:function(a,d){d=d||1;a*=-1;return[a,0,0,0,d,0,a,0,0,d,0,0,a,0,d,0,0,0,1,0]},temperature:function(a){return[1+a/256,0,0,0,0,0,1,0,0,0,0,0,1+-a/256,0,0,0,0,0,1,0]},tint:function(a){return[1+a/256,0,0,0,0,0,1+-a/256,0,0,0,0,0,1+a/256,0,0,0,0,0,1,0]},saturation:function(a){var d=.212656*(1-a),g=.715158*(1-a),e=.072186*(1-a);return[d+a,g,e,0,0,d,g+a,e,0,0,d,g,e+a,0,0,0,0,0,1,0]},blend:function(a,
d){for(var g=this.matrix,e=[],b=0;20>b;b++)e[b]=(1-d)*g[b]+d*a[b];this.matrix=e;return this},light:function(a,d,g,e){g=e.highlights;d=-clamp(g.value*(g.max-g.min)+g.min,g.min,g.max);g=e.shadows;e=-clamp(g.value*(g.max-g.min)+g.min,g.min,g.max);var b=Math.PI;g=Math.cos(b);for(var b=Math.sin(b),c=a.data,f=c.length,k=0;k<f;k+=4){var r=c[k],y=c[k+1],u=c[k+2],s=r,l=y,p=u,r=r^255,y=y^255,u=u^255,t=(.299+.701*g+.168*b)*r+(.587-.587*g+.33*b)*y+(.114-.114*g-.497*b)*u,x=(.299-.299*g-.328*b)*r+(.587+.413*g+
.035*b)*y+(.114-.114*g+.292*b)*u,q=(.299-.3*g+1.25*b)*r+(.587-.588*g-1.05*b)*y+(.114+.886*g-.203*b)*u,r=s<t?s:t,y=l<x?l:x,u=p<q?p:q,s=(1-d)*s+d*r,l=(1-d)*l+d*y,p=(1-d)*p+d*u,r=s>t?s:t,y=l>x?l:x,u=p>q?p:q,s=(1-e)*s+e*r,l=(1-e)*l+e*y,p=(1-e)*p+e*u;c[k]=(0>s?0:256>s?s:255)>>0;c[k+1]=(0>l?0:256>l?l:255)>>0;c[k+2]=(0>p?0:256>p?p:255)>>0}return a},duotone:function(a,d,g,e){d=Color.HSV_RGB({H:360*e.hue.value,S:100*e.saturation.value,V:100*e.saturation.value});g=1.5*e.luminance.value;e=e.amount.value;for(var b=
a.data,c=b.length,f=0;f<c;f+=4){var k=b[f],r=b[f+1],y=b[f+2],u=.212656*k+.715158*r+.072186*y,s=(1-u/255)*d.R+u/255*u,l=(1-u/255)*d.G+u/255*u,p=(1-u/255)*d.B+u/255*u,u=u-(s+l+p)/3,s=s+u,l=l+u,p=p+u,u=(s+l+p)/3,t=Math.min(s,l,p);0>t&&(s=u+(s-u)*u/(u-t),l=u+(l-u)*u/(u-t),p=u+(p-u)*u/(u-t));t=Math.max(s,l,p);255<t&&(s=u+(s-u)*(255-u)/(t-u),l=u+(l-u)*(255-u)/(t-u),p=u+(p-u)*(255-u)/(t-u));s=((1-e)*k+e*s)*g;l=((1-e)*r+e*l)*g;p=((1-e)*y+e*p)*g;b[f]=s;b[f+1]=l;b[f+2]=p}return a},combine:function(a){var d=
[];if("number"===typeof a[0])for(var g=0,e=arguments.length;g<e;g++)d[g]=arguments[g];else d=a;var e=this.matrix,b=[];for(g in d)if(e){for(var c=0;5>c;c++)for(var f=0;20>f;f+=5)b[f+c]=e[f]*d[g][c]+e[f+1]*d[g][c+5]+e[f+2]*d[g][c+10]+e[f+3]*d[g][c+15]+(4===c?e[f+4]:0);e=b}else e=d[g];this.matrix=e;return this},update:function(a,d){if("string"===typeof a){if(!this[a])return;"number"===typeof d?this.filters[a]=this[a](d):delete this.filters[a]}else for(var e in a)this[e]&&("number"===typeof a[e]?this.filters[e]=
this[e](a[e]):delete this.filters[e]);delete this.matrix;this.combine(this.filters);return this},getMatrix4x4:function(){var a=this.matrix;return[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]]},toString:function(){return this.matrix.join(",")},apply:function(a,d,e,m){var b=a.canvas;m||(m=[0,0]);e||(e=a);d||(d=[0,0,b.width,b.height]);a=a.getImageData(d[0],d[1],d[2],d[3]);d=a.data;for(var c=this.matrix,b=c[0],f=c[1],k=c[2],r=c[3],y=c[4],u=c[5],s=c[6],l=c[7],
p=c[8],t=c[9],x=c[10],q=c[11],v=c[12],z=c[13],C=c[14],J=c[15],D=c[16],B=c[17],E=c[18],c=c[19],A,I,F,G,L,K,N,H=0,Q=d.length;H<Q;H+=4)A=d[H],I=d[H+1],F=d[H+2],G=d[H+3],L=A*b+I*f+F*k+G*r+y,K=A*u+I*s+F*l+G*p+t,N=A*x+I*q+F*v+G*z+C,A=A*J+I*D+F*B+G*E+c,a.data[H]=(0>L?0:255>L?L:255)>>0,a.data[H+1]=(0>K?0:255>K?K:255)>>0,a.data[H+2]=(0>N?0:255>N?N:255)>>0,a.data[H+3]=(0>A?0:255>A?A:255)>>0;e.putImageData(a,m[0],m[1])},reset:function(){this.matrix=e.slice(0)}};d.setFilter=function(a){var e=new d;isFinite(a.saturation)&&
e.update("saturation",a.saturation);!0===a.invert&&e.update("invert",a.invert);isFinite(a.hue)&&e.update("hue",a.hue);!0===a.sepia&&e.update("sepia",a.sepia);isFinite(a.tint)&&e.update("tint",a.tint);isFinite(a.temperature)&&e.update("temperature",a.temperature);isFinite(a.exposure)&&e.update("exposure",a.exposure);isFinite(a.brightness)&&e.update("brightness",a.brightness);isFinite(a.contrast)&&e.update("contrast",a.contrast,1);isFinite(a.colorize)&&e.update("colorize",4294901760);isFinite(a.monotone)&&
e.update("monotone",4283782485);return e};"undefined"!==typeof module&&module.exports&&(module.exports=d);k.gl=k.gl||{};k.gl.ColorMatrix=d})(sketch);"undefined"===typeof PDFJS&&(("undefined"!==typeof window?window:this).PDFJS={});PDFJS.version="1.0.266";PDFJS.build="5b16323";
(function(){function k(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+a)}function e(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+a)}function d(b){if(1<arguments.length){var c=["Error:"];c.push.apply(c,arguments);console.log.apply(console,c);b=[].join.call(arguments," ")}else console.log("Error: "+b);console.log(a());D.notify(J.unknown);throw Error(b);}function a(){try{throw Error();}catch(a){return a.stack?a.stack.split("\n").slice(2).join("\n"):
""}}function h(a,b){if(!b)return a;if(/^[a-z][a-z0-9+\-.]*:/i.test(b))return b;var c;if("/"==b.charAt(0))return c=a.indexOf("://"),"/"===b.charAt(1)?++c:c=a.indexOf("/",c+3),a.substring(0,c)+b;var d=a.length;c=a.lastIndexOf("#");d=0<=c?c:d;c=a.lastIndexOf("?",d);c=a.lastIndexOf("/",0<=c?c:d);return a.substring(0,c+1)+b}function g(a,b){if(!a)return!1;var c=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(a);if(!c)return b;c=c[0].toLowerCase();switch(c){case "http":case "https":case "ftp":case "mailto":return!0;default:return!1}}
function m(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1});return c}function b(a){for(var b=a.length,c=new Uint8Array(b),d=0;d<b;++d)c[d]=a.charCodeAt(d)&255;return c}function c(a){var b,c=a.length,d=[];if("\u00fe"===a[0]&&"\u00ff"===a[1])for(b=2;b<c;b+=2)d.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;b<c;++b){var f=G[a.charCodeAt(b)];d.push(f?String.fromCharCode(f):a.charAt(b))}return d.join("")}function f(a){return a instanceof
Name}function w(a,b){if(!(a instanceof Dict))return!1;if(!b)return!0;var c=a.get("Type");return f(c)&&c.name==b}function r(a){return a instanceof Array}function y(){var a={};a.promise=new Promise(function(b,c){a.resolve=b;a.reject=c});return a}function u(a,b){this.name=a;this.comObj=b;this.callbackIndex=1;this.postMessageTransfers=!0;var c=this.callbacksCapabilities={},f=this.actionHandler={};f.console_log=[function(a){console.log.apply(console,a)}];f.console_error=[function(a){console.error.apply(console,
a)}];f._unsupported_feature=[function(a){D.notify(a)}];b.onmessage=function(a){var e=a.data;if(e.isReply)if(a=e.callbackId,e.callbackId in c){var g=c[a];delete c[a];"error"in e?g.reject(e.error):g.resolve(e.data)}else d("Cannot resolve callback "+a);else if(e.action in f){var h=f[e.action];e.callbackId?Promise.resolve().then(function(){return h[0].call(h[1],e.data)}).then(function(a){b.postMessage({isReply:!0,callbackId:e.callbackId,data:a})},function(a){b.postMessage({isReply:!0,callbackId:e.callbackId,
error:a})}):h[0].call(h[1],e.data)}else d("Unknown action from worker: "+e.action)}}function s(a,b,c){var d=new Image;d.onload=function(){c.resolve(a,d)};d.src=b}function l(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;return c}function p(a){a.mozCurrentTransform||(a._scaleX=a._scaleX||1,a._scaleY=a._scaleY||1,a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,
a._originalSetTransform=a.setTransform,a._transformMatrix=[a._scaleX,0,0,a._scaleY,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],a=a[5],g=b*f-c*d,h=c*d-b*f;return[f/g,c/h,d/h,b/g,(f*e-d*a)/h,(c*e-b*a)/g]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=
a.slice(0,6);this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4];c[5]=c[1]*a+c[3]*b+c[5];this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]*=a;c[1]*=a;c[2]*=b;c[3]*=b;this._originalScale(a,b)},a.transform=function(b,c,d,f,e,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*
d+h[2]*f,h[1]*d+h[3]*f,h[0]*e+h[2]*g+h[4],h[1]*e+h[3]*g+h[5]];a._originalTransform(b,c,d,f,e,g)},a.setTransform=function(b,c,d,f,e,g){this._transformMatrix=[b,c,d,f,e,g];a._originalSetTransform(b,c,d,f,e,g)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,d[0]*-c+d[2]*b,d[1]*-c+d[3]*b,d[4],d[5]];this._originalRotate(a)})}function t(a){var b=a.width,c=a.height,d,f,e=b+1,g=new Uint8Array(e*(c+1)),h=new Uint8Array([0,2,4,
0,1,0,5,4,8,10,0,8,0,2,1,0]),l=b+7&-8,p=a.data,q=new Uint8Array(l*c),m=0;a=0;for(d=p.length;a<d;a++){f=128;for(var k=p[a];0<f;)q[m++]=k&f?0:255,f>>=1}m=p=0;0!==q[m]&&(g[0]=1,++p);for(d=1;d<b;d++)q[m]!==q[m+1]&&(g[d]=q[m]?2:1,++p),m++;0!==q[m]&&(g[d]=2,++p);for(a=1;a<c;a++){m=a*l;f=a*e;q[m-l]!==q[m]&&(g[f]=q[m]?1:8,++p);k=(q[m]?4:0)+(q[m-l]?8:0);for(d=1;d<b;d++)k=(k>>2)+(q[m+1]?4:0)+(q[m-l+1]?8:0),h[k]&&(g[f+d]=h[k],++p),m++;q[m-l]!==q[m]&&(g[f+d]=q[m]?2:4,++p);if(1E3<p)return null}m=l*(c-1);f=a*e;
0!==q[m]&&(g[f]=8,++p);for(d=1;d<b;d++)q[m]!==q[m+1]&&(g[f+d]=q[m]?4:8,++p),m++;0!==q[m]&&(g[f+d]=4,++p);if(1E3<p)return null;var h=new Int32Array([0,e,-1,0,-e,0,0,0,1]),t=[];for(a=0;p&&a<=c;a++){l=a*e;for(q=l+b;l<q&&!g[l];)l++;if(l!==q){q=[l%e,a];m=g[l];d=l;do{f=h[m];do l+=f;while(!g[l]);f=g[l];5!==f&&10!==f?(m=f,g[l]=0):(m=f&51*m>>4,g[l]&=m>>2|m<<2);q.push(l%e);q.push(l/e|0);--p}while(d!==l);t.push(q);--a}}return function(a){a.save();a.scale(1/b,-1/c);a.translate(0,-c);a.beginPath();for(var d=0,
f=t.length;d<f;d++){var e=t[d];a.moveTo(e[0],e[1]);for(var g=2,h=e.length;g<h;g+=2)a.lineTo(e[g],e[g+1])}a.fill();a.beginPath();a.restore()}}function x(a){var b=ma[a[0]];b||d("Unknown IR type: "+a[0]);return b.fromIR(a)}var q="undefined"===typeof window?this:window,v="undefined"==typeof window,z=[.001,0,0,.001,0,0];q.PDFJS||(q.PDFJS={});q.PDFJS.pdfBug=!1;PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var C=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,
setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,
showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,
endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},J=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",
forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},D=PDFJS.UnsupportedManager=function(){var a=[];return{listen:function(b){a.push(b)},notify:function(b){e('Unsupported feature "'+b+'"');for(var c=0,d=a.length;c<d;c++)a[c](b)}}}();PDFJS.isValidUrl=g;var B=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};(function(){function a(b,c){this.name="PasswordException";this.message=b;this.code=c}a.prototype=Error();return a.constructor=a})();(function(){function a(b,
c){this.name="UnknownErrorException";this.message=b;this.details=c}a.prototype=Error();return a.constructor=a})();(function(){function a(b){this.name="InvalidPDFException";this.message=b}a.prototype=Error();return a.constructor=a})();(function(){function a(b){this.name="MissingPDFException";this.message=b}a.prototype=Error();return a.constructor=a})();var E=function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="NotImplementedException";return a.constructor=a}();(function(){function a(b,
c){this.begin=b;this.end=c;this.message="Missing data ["+b+", "+c+")"}a.prototype=Error();a.prototype.name="MissingDataException";return a.constructor=a})();(function(){function a(b){this.message=b}a.prototype=Error();a.prototype.name="XRefParseException";return a.constructor=a})();Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function(){var a=PDFJS,b=new Uint8Array(2);b[0]=1;b=new Uint16Array(b.buffer);return m(a,"isLittleEndian",1===b[0])}});Object.defineProperty(PDFJS,"hasCanvasTypedArrays",
{configurable:!0,get:function(){var a=PDFJS,b=document.createElement("canvas");b.width=b.height=1;b=b.getContext("2d").createImageData(1,1);return m(a,"hasCanvasTypedArrays","undefined"!==typeof b.data.buffer)}});var A=function(){function a(d,f){this.buffer=d;this.byteLength=d.length;for(var e=this.length=void 0===f?this.byteLength>>2:f;c<e;)Object.defineProperty(a.prototype,c,b(c)),c++}function b(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},
set:function(b){var c=this.buffer,d=a<<2;c[d]=b&255;c[d+1]=b>>8&255;c[d+2]=b>>16&255;c[d+3]=b>>>24&255}}}a.prototype=Object.create(null);var c=0;return a}(),I=[1,0,0,1,0,0],F=PDFJS.Util=function(){function a(){}a.makeCssRgb=function(a){return"rgb("+a[0]+","+a[1]+","+a[2]+")"};a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]};a.applyTransform=function(a,b){return[a[0]*b[0]+a[1]*b[2]+b[4],
a[0]*b[1]+a[1]*b[3]+b[5]]};a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2];return[(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c]};a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),f=a.applyTransform(b.slice(2,4),c),e=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],f[0],e[0],g[0]),Math.min(d[1],f[1],e[1],g[1]),Math.max(d[0],f[0],e[0],g[0]),Math.max(d[1],f[1],e[1],g[1])]};a.inverseTransform=
function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]};a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]};a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[2]*b[1]+a[3]*b[3],f=(c+d)/2;a=Math.sqrt((c+d)*(c+d)-4*(c*d-(a[2]*b[0]+a[3]*b[2])*(a[0]*b[1]+a[1]*b[3])))/2;b=f-a||1;return[Math.sqrt(f+a||1),Math.sqrt(b)]};
a.normalizeRect=function(a){var b=a.slice(0);a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]);a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]);return b};a.intersect=function(b,c){function d(a,b){return a-b}var f=[b[0],b[2],c[0],c[2]].sort(d),e=[b[1],b[3],c[1],c[3]].sort(d),g=[];b=a.normalizeRect(b);c=a.normalizeRect(c);if(f[0]===b[0]&&f[1]===c[0]||f[0]===c[0]&&f[1]===b[0])g[0]=f[1],g[2]=f[2];else return!1;if(e[0]===b[1]&&e[1]===c[1]||e[0]===c[1]&&e[1]===b[1])g[1]=e[1],g[3]=e[2];else return!1;return g};a.sign=function(a){return 0>
a?-1:1};a.concatenateToArray=function(a,b){Array.prototype.push.apply(a,b)};a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)};a.extendObj=function(a,b){for(var c in b)a[c]=b[c]};a.getInheritableProperty=function(a,b){for(;a&&!a.has(b);)a=a.get("Parent");return a?a.get(b):null};a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]};a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",
a);b&&(c.onload=function(){d||b();d=!0});document.getElementsByTagName("head")[0].appendChild(c)};return a}();PDFJS.PageViewport=function(){function a(b,c,d,f,e,g){this.viewBox=b;this.scale=c;this.rotation=d;this.offsetX=f;this.offsetY=e;var h=(b[2]+b[0])/2,l=(b[3]+b[1])/2,p,q,m;d%=360;switch(0>d?d+360:d){case 180:d=-1;q=p=0;m=1;break;case 90:d=0;q=p=1;m=0;break;case 270:d=0;q=p=-1;m=0;break;default:d=1,q=p=0,m=-1}g&&(q=-q,m=-m);0===d?(f=Math.abs(l-b[1])*c+f,e=Math.abs(h-b[0])*c+e,g=Math.abs(b[3]-
b[1])*c,b=Math.abs(b[2]-b[0])*c):(f=Math.abs(h-b[0])*c+f,e=Math.abs(l-b[1])*c+e,g=Math.abs(b[2]-b[0])*c,b=Math.abs(b[3]-b[1])*c);this.transform=[d*c,p*c,q*c,m*c,f-d*c*h-q*c*l,e-p*c*h-m*c*l];this.width=g;this.height=b;this.fontScale=c}a.prototype={clone:function(b){b=b||{};var c="scale"in b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return F.applyTransform([a,b],this.transform)},
convertToViewportRectangle:function(a){var b=F.applyTransform([a[0],a[1]],this.transform);a=F.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],a[0],a[1]]},convertToPdfPoint:function(a,b){return F.applyInverseTransform([a,b],this.transform)}};return a}();var G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];PDFJS.createPromiseCapability=y;(function(){function a(c){this._status=b;this._handlers=[];try{c.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(d){this._reject(d)}}if(q.Promise)"function"!==typeof q.Promise.all&&(q.Promise.all=function(a){var b=0,c=[],d,f,e=new q.Promise(function(a,b){d=
a;f=b});a.forEach(function(a,e){b++;a.then(function(a){c[e]=a;b--;0===b&&d(c)},f)});0===b&&d(c);return e}),"function"!==typeof q.Promise.resolve&&(q.Promise.resolve=function(a){return new q.Promise(function(b){b(a)})}),"function"!==typeof q.Promise.reject&&(q.Promise.reject=function(a){return new q.Promise(function(b,c){c(a)})}),"function"!==typeof q.Promise.prototype["catch"]&&(q.Promise.prototype["catch"]=function(a){return q.Promise.prototype.then(void 0,a)});else{var b=0,c={handlers:[],running:!1,
unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(a){a._status!=b&&(this.handlers=this.handlers.concat(a._handlers),a._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var a=Date.now()+1;0<this.handlers.length;){var b=this.handlers.shift(),c=b.thisPromise._status,d=b.thisPromise._value;try{1===c?"function"==typeof b.onResolve&&(d=b.onResolve(d)):"function"===typeof b.onReject&&(d=b.onReject(d),c=1,b.thisPromise._unhandledRejection&&
this.removeUnhandeledRejection(b.thisPromise))}catch(f){c=2,d=f}b.nextPromise._updateStatus(c,d);if(Date.now()>=a)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=!1;for(var b=0;b<this.unhandledRejections.length;b++)this.unhandledRejections[b].promise===a&&(this.unhandledRejections.splice(b),
b--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var a=Date.now(),b=0;b<this.unhandledRejections.length;b++)if(500<a-this.unhandledRejections[b].time){var c=this.unhandledRejections[b].promise._value,d="Unhandled rejection: "+c;c.stack&&(d+="\n"+c.stack);e(d);this.unhandledRejections.splice(b);b--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};a.all=function(b){function c(a){2!==
e._status&&(h=[],f(a))}var d,f,e=new a(function(a,b){d=a;f=b}),g=b.length,h=[];if(0===g)return d(h),e;for(var l=0,p=b.length;l<p;++l){var q=b[l],m=function(a){return function(b){2!==e._status&&(h[a]=b,g--,0===g&&d(h))}}(l);a.isPromise(q)?q.then(m,c):m(q)}return e};a.isPromise=function(a){return a&&"function"===typeof a.then};a.resolve=function(b){return new a(function(a){a(b)})};a.reject=function(b){return new a(function(a,c){c(b)})};a.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,
_updateStatus:function(b,d){1!==this._status&&2!==this._status&&(1==b&&a.isPromise(d)?d.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=b,this._value=d,2===b&&0===this._handlers.length&&(this._unhandledRejection=!0,c.addUnhandledRejection(this)),c.scheduleHandlers(this)))},_resolve:function(a){this._updateStatus(1,a)},_reject:function(a){this._updateStatus(2,a)},then:function(b,d){var f=new a(function(a,b){this.reject=this.resolve=b});this._handlers.push({thisPromise:this,
onResolve:b,onReject:d,nextPromise:f});c.scheduleHandlers(this);return f},"catch":function(a){return this.then(void 0,a)}};q.Promise=a}})();var L=function(){function a(){this.started={};this.times=[];this.enabled=!0}a.prototype={time:function(a){this.enabled&&(a in this.started&&e("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||e("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),
delete this.started[a])},toString:function(){var a,b,c=this.times,d="",f=0;a=0;for(b=c.length;a<b;++a){var e=c[a].name;e.length>f&&(f=e.length)}a=0;for(b=c.length;a<b;++a){for(var g=c[a],e=g.end-g.start,g=g.name;g.length<f;)g+=" ";d+=g+" "+e+"ms\n"}return d}};return a}();PDFJS.createBlob=function(a,b){if("undefined"!==typeof Blob)return new Blob([a],{type:b});var c=new MozBlobBuilder;c.append(a);return c.getBlob(b)};PDFJS.createObjectURL=function(){return function(a,b){if(!PDFJS.disableCreateObjectURL&&
"undefined"!==typeof URL&&URL.createObjectURL){var c=PDFJS.createBlob(a,b);return URL.createObjectURL(c)}for(var c="data:"+b+";base64,",d=0,f=a.length;d<f;d+=3)var e=a[d]&255,g=a[d+1]&255,h=a[d+2]&255,c=c+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[e>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(e&3)<<4|g>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+1<f?(g&15)<<2|h>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+
2<f?h&63:64]);return c}}();u.prototype={on:function(a,b,c){var f=this.actionHandler;f[a]&&d('There is already an actionName called "'+a+'"');f[a]=[b,c]},send:function(a,b,c){this.postMessage({action:a,data:b},c)},sendWithPromise:function(a,b,c){var d=this.callbackIndex++;a={action:a,data:b,callbackId:d};b=y();this.callbacksCapabilities[d]=b;try{this.postMessage(a,c)}catch(f){b.reject(f)}return b.promise},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)}};
var K=["Link","Text","Widget"],N=function(){function a(b,c,d){var f=F.getAxialAlignedBoundingBox(c,d);c=f[0];d=f[1];var e=f[2],f=f[3];if(c===e||d===f)return[1,0,0,1,b[0],b[1]];e=(b[2]-b[0])/(e-c);f=(b[3]-b[1])/(f-d);return[e,0,0,f,b[0]-c*e,b[1]-d*f]}function b(a){if(a.data)this.data=a.data;else{var c=a.dict,d=this.data={};d.subtype=c.get("Subtype").name;var f=c.get("Rect")||[0,0,0,0];d.rect=F.normalizeRect(f);d.annotationFlags=c.get("F");f=c.get("C");r(f)&&3===f.length?d.color=f:d.color=[0,0,0];if(c.has("BS"))f=
c.get("BS"),d.borderWidth=f.has("W")?f.get("W"):1;else if(f=c.get("Border")||[0,0,1],d.borderWidth=f[2]||0,f=f[3],0<d.borderWidth&&f)if(r(f)){var e=f.length;if(0<e){for(var g=!1,h=0,l=0;l<e;l++)if(0<=+f[l])0<f[l]&&h++;else{g=!0;break}if(g||0===h)d.borderWidth=0}}else d.borderWidth=0;var p,f=c.get("AP");w(f)?(f=f.get("N"),w(f)?(c=c.get("AS"))&&f.has(c.name)&&(p=f.get(c.name)):p=f):p=void 0;this.appearance=p;d.hasAppearance=!!this.appearance;d.id=a.ref.num}}b.prototype={getData:function(){return this.data},
hasHtml:function(){return!1},getHtmlElement:function(a){throw new E("getHtmlElement() should be implemented in subclass");},getEmptyContainer:function(a,b,c){v&&d("getEmptyContainer() should be called from main thread");c=c||0;b=b||this.data.rect;a=document.createElement(a);a.style.borderWidth=c+"px";var f=b[3]-b[1]-2*c;a.style.width=b[2]-b[0]-2*c+"px";a.style.height=f+"px";return a},isInvisible:function(){var a=this.data;return a&&-1!==K.indexOf(a.subtype)?!1:!!(a&&a.annotationFlags&&a.annotationFlags&
1)},isViewable:function(){var a=this.data;return!(this.isInvisible()||!a||a.annotationFlags&&a.annotationFlags&34||!a.rect)},isPrintable:function(){var a=this.data;return!!(!this.isInvisible()&&a&&a.annotationFlags&&a.annotationFlags&4&&a.rect)},loadResources:function(a){return new Promise(function(b,c){this.appearance.dict.getAsync("Resources").then(function(d){d?(new ObjectLoader(d.map,a,d.xref)).load().then(function(){b(d)},c):b()},c)}.bind(this))},getOperatorList:function(b){if(!this.appearance)return Promise.resolve(new OperatorList);
var c=this.data,d=this.appearance.dict,f=this.loadResources("ExtGState ColorSpace Pattern Shading XObject Font".split(" ")),e=d.get("BBox")||[0,0,1,1],g=d.get("Matrix")||[1,0,0,1,0,0],h=a(c.rect,e,g),l=this;return f.then(function(a){var d=new OperatorList;d.addOp(C.beginAnnotation,[c.rect,h,g]);return b.getOperatorList(l.appearance,a,d).then(function(){d.addOp(C.endAnnotation,[]);l.appearance.reset();return d})})}};b.getConstructor=function(a,c){if(a){if("Link"===a)return R;if("Text"===a)return P;
if("Widget"===a){if(c)return"Tx"===c?Q:H}else return b}};b.fromData=function(a){var c=b.getConstructor(a.subtype,a.fieldType);if(c)return new c({data:a})};b.fromRef=function(a,c){var d=a.fetchIfRef(c);if(w(d)){var g=d.get("Subtype");if(g=f(g)?g.name:""){var h=F.getInheritableProperty(d,"FT"),h=f(h)?h.name:"";if(h=b.getConstructor(g,h)){d=new h({dict:d,ref:c});if(d.isViewable()||d.isPrintable())return d;e("unimplemented annotation type: "+g)}}}};b.appendToOperatorList=function(a,b,c,d,f){var e=y();
c=[];for(var g=0,h=a.length;g<h;++g)("display"===f&&a[g].isViewable()||"print"===f&&a[g].isPrintable())&&c.push(a[g].getOperatorList(d));Promise.all(c).then(function(a){b.addOp(C.beginAnnotations,[]);for(var c=0,d=a.length;c<d;++c)b.addOpList(a[c]);b.addOp(C.endAnnotations,[]);e.resolve()},function(a){e.reject(a)});return e.promise};return b}();PDFJS.Annotation=N;var H=function(){function a(b){N.call(this,b);if(!b.data){var d=b.dict,e=this.data;e.fieldValue=c(F.getInheritableProperty(d,"V")||"");
e.alternativeText=c(d.get("TU")||"");e.defaultAppearance=F.getInheritableProperty(d,"DA")||"";var g=F.getInheritableProperty(d,"FT");e.fieldType=f(g)?g.name:"";e.fieldFlags=F.getInheritableProperty(d,"Ff")||0;this.fieldResources=F.getInheritableProperty(d,"DR")||Dict.empty;var g=[],h=d;for(b=b.ref;h;){var d=h.get("Parent"),l=h.getRaw("Parent");if(h=h.get("T"))g.unshift(c(h));else{var h=d.get("Kids"),p,q;p=0;for(q=h.length;p<q;p++){var m=h[p];if(m.num==b.num&&m.gen==b.gen)break}g.unshift("`"+p)}h=
d;b=l}e.fullName=g.join(".")}}var b=N.prototype;F.inherit(a,N,{isViewable:function(){return"Sig"===this.data.fieldType?(e("unimplemented annotation type: Widget signature"),!1):b.isViewable.call(this)}});return a}(),Q=function(){function a(b){H.call(this,b);b.data||(this.data.textAlignment=F.getInheritableProperty(b.dict,"Q"))}F.inherit(a,H,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(a){v&&d("getHtmlElement() shall be called from main thread");
var b=this.data,c=this.getEmptyContainer("div");c.style.display="table";var f=document.createElement("div");f.textContent=b.fieldValue;f.style.textAlign=["left","center","right"][b.textAlignment];f.style.verticalAlign="middle";f.style.display="table-cell";a=b.fontRefName?a.getData(b.fontRefName):null;var e=f.style;e.fontSize=b.fontSize+"px";e.direction=0>b.fontDirection?"rtl":"ltr";a&&(e.fontWeight=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal",e.fontStyle=a.italic?"italic":"normal",b=a.loadedName,
e.fontFamily=(b?'"'+b+'", ':"")+(a.fallbackName||"Helvetica, sans-serif"));c.appendChild(f);return c},getOperatorList:function(a){if(this.appearance)return N.prototype.getOperatorList.call(this,a);var c=new OperatorList,d=this.data;if(!d.defaultAppearance)return Promise.resolve(c);d=new Stream(b(d.defaultAppearance));return a.getOperatorList(d,this.fieldResources,c).then(function(){return c})}});return a}(),T=function(){function a(b){N.call(this,b)}F.inherit(a,N,{hasHtml:function(){return!0},highlight:function(){this.highlightElement&&
this.highlightElement.hasAttribute("hidden")&&this.highlightElement.removeAttribute("hidden")},unhighlight:function(){this.highlightElement&&!this.highlightElement.hasAttribute("hidden")&&this.highlightElement.setAttribute("hidden",!0)},initContainer:function(){for(var a=this.data,b=this.getEmptyContainer("section",a.rect,a.borderWidth),c=b.style.backgroundColor=a.color,d=[],f=0;3>f;++f)d[f]=Math.round(255*c[f]);a.colorCssRgb=F.makeCssRgb(d);a=document.createElement("div");a.className="annotationHighlight";
a.style.left=a.style.top="-4px";a.style.right=a.style.bottom="-4px";a.setAttribute("hidden",!0);this.highlightElement=a;b.appendChild(this.highlightElement);return b}});return a}(),P=function(){function a(b){T.call(this,b);if(!b.data){b=b.dict;var d=this.data,f=b.get("Contents"),e=b.get("T");d.content=c(f||"");d.title=c(e||"");d.hasAppearance?d.name="NoIcon":(d.rect[1]=d.rect[3]-22,d.rect[2]=d.rect[0]+22,d.name=b.has("Name")?b.get("Name").name:"Note");b.has("C")&&(d.hasBgColor=!0)}}F.inherit(a,T,
{getHtmlElement:function(a){v&&d("getHtmlElement() shall be called from main thread");var b=this.data,c=b.rect;10>c[3]-c[1]&&(c[3]=c[1]+10);10>c[2]-c[0]&&(c[2]=c[0]+(c[3]-c[1]));var f=this.initContainer();f.className="annotText";a=document.createElement("img");a.style.height=f.style.height;a.style.width=f.style.width;var e=b.name;a.src=PDFJS.imageResourcesPath+"annotation-"+e.toLowerCase()+".svg";a.alt="[{{type}} Annotation]";a.dataset.l10nId="text_annotation_type";a.dataset.l10nArgs=JSON.stringify({type:e});
e=document.createElement("div");e.className="annotTextContentWrapper";e.style.left=Math.floor(c[2]-c[0]+5)+"px";e.style.top="-10px";var g=document.createElement("div");g.className="annotTextContent";g.setAttribute("hidden",!0);if(b.hasBgColor){for(var h=b.color,l=[],c=0;3>c;++c){var p=Math.round(255*h[c]);l[c]=Math.round(.7*(255-p))+p}g.style.backgroundColor=F.makeCssRgb(l)}h=document.createElement("h1");l=document.createElement("p");h.textContent=b.title;if(b.content||b.title){for(var p=document.createElement("span"),
q=b.content.split(/(?:\r\n?|\n)/),c=0,b=q.length;c<b;++c)p.appendChild(document.createTextNode(q[c])),c<b-1&&p.appendChild(document.createElement("br"));l.appendChild(p);var m=!1,k=function(a){a&&(m=!0);g.hasAttribute("hidden")&&(f.style.zIndex+=1,g.removeAttribute("hidden"))},t=function(a){a&&(m=!1);g.hasAttribute("hidden")||m||(f.style.zIndex-=1,g.setAttribute("hidden",!0))};a.addEventListener("click",function(){m?t(!0):k(!0)},!1);a.addEventListener("mouseover",function(){k()},!1);a.addEventListener("mouseout",
function(){t()},!1);g.addEventListener("click",function(){t(!0)},!1)}else g.setAttribute("hidden",!0);g.appendChild(h);g.appendChild(l);e.appendChild(g);f.appendChild(a);f.appendChild(e);return f}});return a}(),R=function(){function a(b){T.call(this,b);if(!b.data){var c=b.dict;b=this.data;var d=c.get("A");if(d)if(c=d.get("S").name,"URI"===c){var h=d.get("URI");f(h)?h="/"+h.name:h&&(h=h&&0===h.indexOf("www.")?"http://"+h:h);g(h,!1)||(h="");b.url=h}else"GoTo"===c?b.dest=d.get("D"):"GoToR"===c?(c=d.get("F"),
w(c)&&(h=c.get("F")||""),g(h,!1)||(h=""),b.url=h,b.dest=d.get("D")):"Named"===c?b.action=d.get("N").name:e("unrecognized link type: "+c);else c.has("Dest")&&(h=c.get("Dest"),b.dest=f(h)?h.name:h)}}F.inherit(a,T,{hasOperatorList:function(){return!1},getHtmlElement:function(a){a=this.initContainer();a.className="annotLink";a.style.borderColor=this.data.colorCssRgb;a.style.borderStyle="solid";var b=document.createElement("a");b.href=b.title=this.data.url||"";a.appendChild(b);return a}});return a}();
PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize;PDFJS.cMapUrl=void 0===PDFJS.cMapUrl?null:PDFJS.cMapUrl;PDFJS.cMapPacked=void 0===PDFJS.cMapPacked?!1:PDFJS.cMapPacked;PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace;PDFJS.imageResourcesPath=void 0===PDFJS.imageResourcesPath?"":PDFJS.imageResourcesPath;PDFJS.disableWorker=void 0===PDFJS.disableWorker?!1:PDFJS.disableWorker;PDFJS.workerSrc=void 0===PDFJS.workerSrc?null:PDFJS.workerSrc;PDFJS.disableRange=
void 0===PDFJS.disableRange?!1:PDFJS.disableRange;PDFJS.disableAutoFetch=void 0===PDFJS.disableAutoFetch?!1:PDFJS.disableAutoFetch;PDFJS.pdfBug=void 0===PDFJS.pdfBug?!1:PDFJS.pdfBug;PDFJS.postMessageTransfers=void 0===PDFJS.postMessageTransfers?!0:PDFJS.postMessageTransfers;PDFJS.disableCreateObjectURL=void 0===PDFJS.disableCreateObjectURL?!1:PDFJS.disableCreateObjectURL;PDFJS.disableWebGL=void 0===PDFJS.disableWebGL?!0:PDFJS.disableWebGL;PDFJS.verbosity=void 0===PDFJS.verbosity?PDFJS.VERBOSITY_LEVELS.warnings:
PDFJS.verbosity;PDFJS.getDocument=function(a,b,c,f){var e,g;"string"===typeof a?a={url:a}:"object"==typeof a&&null!==a&&void 0!==a&&"byteLength"in a?a={data:a}:"object"!==typeof a&&d("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");a.url||a.data||d("Invalid parameter array, need either .data or .url");var l={};for(e in a)l[e]="url"===e&&"undefined"!==typeof window?h(window.location.href,a[e]):a[e];a=y();e=y();g=new U(a,e,b,f);a.promise.then(function(){g.passwordCallback=
c;g.fetchDocument(l)});return e.promise};var X=function(){function a(b,c){this.pdfInfo=b;this.transport=c}a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},
getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}};return a}(),W=function(){function a(b,c,d){this.pageIndex=b;this.pageInfo=c;this.transport=d;this.stats=new L;this.stats.enabled=!!q.PDFJS.enableStats;this.commonObjs=
d.commonObjs;this.objs=new V;this.pendingDestroy=this.cleanupAfterRender=!1;this.intentStates={}}a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(a,b){2>arguments.length&&(b=this.rotate);return new PDFJS.PageViewport(this.view,a,b,0,0)},getAnnotations:function(){return this.annotationsPromise?this.annotationsPromise:this.annotationsPromise=this.transport.getAnnotations(this.pageIndex)},
render:function(a){function b(a){var d=f.renderTasks.indexOf(e);0<=d&&f.renderTasks.splice(d,1);g.cleanupAfterRender&&(g.pendingDestroy=!0);g._tryDestroy();a?e.capability.reject(a):e.capability.resolve();c.timeEnd("Rendering");c.timeEnd("Overall")}var c=this.stats;c.time("Overall");this.pendingDestroy=!1;var d="intent"in a?"print"==a.intent?"print":"display":"display";this.intentStates[d]||(this.intentStates[d]={});var f=this.intentStates[d];f.displayReadyCapability||(f.receivingOperatorList=!0,f.displayReadyCapability=
y(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d}));var e=new Y(b,a,this.objs,this.commonObjs,f.operatorList,this.pageNumber);f.renderTasks||(f.renderTasks=[]);f.renderTasks.push(e);a=new O(e);var g=this;f.displayReadyCapability.promise.then(function(a){g.pendingDestroy?b():(c.time("Rendering"),e.initalizeGraphics(a),e.operatorListChanged())},function(a){b(a)});return a},
getTextContent:function(){return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1})},destroy:function(){this.pendingDestroy=!0;this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return 0!==a.renderTasks.length||a.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,
this.pendingDestroy=!1)},_startRenderPage:function(a,b){this.intentStates[b].displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var c=this.intentStates[b],d,f;d=0;for(f=a.length;d<f;d++)c.operatorList.fnArray.push(a.fnArray[d]),c.operatorList.argsArray.push(a.argsArray[d]);c.operatorList.lastChunk=a.lastChunk;for(d=0;d<c.renderTasks.length;d++)c.renderTasks[d].operatorListChanged();a.lastChunk&&(c.receivingOperatorList=!1,this._tryDestroy())}};return a}(),U=function(){function a(b,
c,f,e){this.pdfDataRangeTransport=f;this.workerReadyCapability=c;this.progressCallback=e;this.commonObjs=new V;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=y();this.passwordCallback=null;if(!q.PDFJS.disableWorker&&"undefined"!==typeof Worker){(c=PDFJS.workerSrc)||d("No PDFJS.workerSrc specified");try{var g=new Worker(c),h=new u("main",g);this.messageHandler=h;h.on("test",function(a){a&&a.supportTypedArray?(this.worker=g,a.supportTransfers||(PDFJS.postMessageTransfers=!1),this.setupMessageHandler(h),
b.resolve()):(q.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker();b.resolve()}.bind(this)))}.bind(this));var l=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{h.send("test",l,[l.buffer])}catch(p){k("Cannot use postMessage transfers"),l[0]=0,h.send("test",l)}return}catch(m){k("The worker has been disabled.")}}q.PDFJS.disableWorker=!0;this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker();b.resolve()}.bind(this))}a.prototype={destroy:function(){this.pageCache=
[];this.pagePromises=[];var a=this;this.messageHandler.sendWithPromise("Terminate",null).then(function(){ja.clear();a.worker&&a.worker.terminate()})},loadFakeWorkerFiles:function(){PDFJS.fakeWorkerFilesLoadedCapability||(PDFJS.fakeWorkerFilesLoadedCapability=y(),F.loadScript(PDFJS.workerSrc));return PDFJS.fakeWorkerFilesLoadedCapability.promise},setupFakeWorker:function(){e("Setting up fake worker.");var a={postMessage:function(b){a.onmessage({data:b})},terminate:function(){}},b=new u("main",a);this.setupMessageHandler(b);
PDFJS.WorkerMessageHandler.setup(b)},setupMessageHandler:function(a){function b(c){a.send("UpdatePassword",c)}this.messageHandler=a;var c=this.pdfDataRangeTransport;c&&(c.addRangeListener(function(b,c){a.send("OnDataRange",{begin:b,chunk:c})}),c.addProgressListener(function(b){a.send("OnDataProgress",{loaded:b})}),a.on("RequestDataRange",function(a){c.requestDataRange(a.begin,a.end)},this));a.on("GetDoc",function(a){var b=a.pdfInfo;this.numPages=a.pdfInfo.numPages;this.pdfDocument=a=new X(b,this);
this.workerReadyCapability.resolve(a)},this);a.on("NeedPassword",function(a){if(this.passwordCallback)return this.passwordCallback(b,B.NEED_PASSWORD);this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("IncorrectPassword",function(a){if(this.passwordCallback)return this.passwordCallback(b,B.INCORRECT_PASSWORD);this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("InvalidPDF",function(a){this.workerReadyCapability.reject(a.exception.name,a.exception)},
this);a.on("MissingPDF",function(a){this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("UnknownError",function(a){this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){var b=this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request");b._startRenderPage(a.transparency,a.intent)},this);a.on("RenderPageChunk",function(a){this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,
a.intent)},this);a.on("commonobj",function(a){var b=a[0],c=a[1];if(!this.commonObjs.hasData(b))switch(c){case "Font":a=a[2];var d;if("error"in a){var f=a.error;e("Error during font loading: "+f);this.commonObjs.resolve(b,f);break}else d=new ua(a);ja.bind([d],function(a){this.commonObjs.resolve(b,d)}.bind(this));break;case "FontPath":this.commonObjs.resolve(b,a[2]);break;default:f("Got unknown common object type "+c)}},this);a.on("obj",function(a){var b=a[0],c=a[2],f=this.pageCache[a[1]];if(!f.objs.hasData(b))switch(c){case "JpegStream":a=
a[3];s(b,a,f.objs);break;case "Image":a=a[3];f.objs.resolve(b,a);a&&"data"in a&&8E6<a.data.length&&(f.cleanupAfterRender=!0);break;default:d("Got unknown object type "+c)}},this);a.on("DocProgress",function(a){this.progressCallback&&this.progressCallback({loaded:a.loaded,total:a.total})},this);a.on("DocError",function(a){this.workerReadyCapability.reject(a)},this);a.on("PageError",function(a){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];b.displayReadyCapability.promise?b.displayReadyCapability.reject(a.error):
d(a.error)},this);a.on("JpegDecode",function(a){var b=a[0],c=a[1];return 3!=c&&1!=c?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){var f=new Image;f.onload=function(){var b=f.width,d=f.height,e=b*d,g=4*e,e=new Uint8Array(e*c),h=l(b,d).getContext("2d");h.drawImage(f,0,0);var h=h.getImageData(0,0,b,d).data,p,q;if(3==c)for(q=p=0;p<g;p+=4,q+=3)e[q]=h[p],e[q+1]=h[p+1],e[q+2]=h[p+2];else if(1==c)for(q=p=0;p<g;p+=4,q++)e[q]=h[p];a({data:e,width:b,height:d})};
f.onerror=function(){d(Error("JpegDecode failed to load image"))};f.src=b})})},fetchDocument:function(a){a.disableAutoFetch=PDFJS.disableAutoFetch;a.chunkedViewerLoading=!!this.pdfDataRangeTransport;this.messageHandler.send("GetDocRequest",{source:a,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,cMapUrl:PDFJS.cMapUrl,cMapPacked:PDFJS.cMapPacked,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(){return this.messageHandler.sendWithPromise("GetData",
null)},getPage:function(a,b){if(0>=a||a>this.numPages||(a|0)!==a)return Promise.reject(Error("Invalid page request"));var c=a-1;if(c in this.pagePromises)return this.pagePromises[c];var d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:c}).then(function(a){a=new W(c,a,this);return this.pageCache[c]=a}.bind(this));return this.pagePromises[c]=d},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})},getAnnotations:function(a){return this.messageHandler.sendWithPromise("GetAnnotations",
{pageIndex:a})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?
new PDFJS.Metadata(a[1]):null}})},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,b=this.pageCache.length;a<b;a++){var c=this.pageCache[a];c&&c.destroy()}this.commonObjs.clear();ja.clear()}.bind(this))}};return a}(),V=function(){function a(){this.objs={}}a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:y(),data:null,resolved:!1};return this.objs[a]=b},get:function(a,b){if(b)return this.ensureObj(a).capability.promise.then(b),
null;var c=this.objs[a];c&&c.resolved||d("Requesting object that isn't resolved yet "+a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=!0;c.data=b;c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:!1},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs={}}};return a}(),O=function(){function a(b){this.internalRenderTask=b;this.promise=
this.internalRenderTask.capability.promise}a.prototype={cancel:function(){this.internalRenderTask.cancel()},then:function(a,b){return this.promise.then(a,b)}};return a}(),Y=function(){function a(b,c,d,f,e,g){this.callback=b;this.params=c;this.objs=d;this.commonObjs=f;this.operatorListIdx=null;this.operatorList=e;this.pageNumber=g;this.running=!1;this.graphicsReadyCallback=null;this.cancelled=this.graphicsReady=!1;this.capability=y();this._continueBound=this._continue.bind(this);this._scheduleNextBound=
this._scheduleNext.bind(this);this._nextBound=this._next.bind(this)}a.prototype={initalizeGraphics:function(a){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in q&&q.StepperManager.enabled&&(this.stepper=q.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var b=this.params;this.gfx=new ha(b.canvasContext,this.commonObjs,this.objs,b.imageLayer);this.gfx.beginDrawing(b.viewport,a);this.operatorListIdx=0;this.graphicsReady=
!0;this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1;this.cancelled=!0;this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0;this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._scheduleNextBound):
this._scheduleNext())},_scheduleNext:function(){window.requestAnimationFrame(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}};return a}();PDFJS.Metadata=function(){function a(b){return b.replace(/>\\376\\377([^<]+)/g,function(a,
b){for(var c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}),d="",f=0;f<c.length;f+=2)var e=256*c.charCodeAt(f)+c.charCodeAt(f+1),d=d+("&#x"+(65536+e).toString(16).substring(1)+";");return">"+d})}function b(c){"string"===typeof c?(c=a(c),c=(new DOMParser).parseFromString(c,"application/xml")):c instanceof Document||d("Metadata: Invalid metadata object");this.metaDocument=c;this.metadata={};this.parse()}b.prototype={parse:function(){var a=this.metaDocument.documentElement;
if("rdf:rdf"!==a.nodeName.toLowerCase())for(a=a.firstChild;a&&"rdf:rdf"!==a.nodeName.toLowerCase();)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&"rdf:rdf"===b&&a.hasChildNodes()){var a=a.childNodes,c,d,f,e,g,h;f=0;for(g=a.length;f<g;f++)if(b=a[f],"rdf:description"===b.nodeName.toLowerCase())for(e=0,h=b.childNodes.length;e<h;e++)"#text"!==b.childNodes[e].nodeName.toLowerCase()&&(c=b.childNodes[e],d=c.nodeName.toLowerCase(),this.metadata[d]=c.textContent.trim())}},get:function(a){return this.metadata[a]||
null},has:function(a){return"undefined"!==typeof this.metadata[a]}};return b}();var S=function(){var a={};return{getCanvas:function(b,c,d,f){b in a?(b=a[b],b.canvas.width=c,b.canvas.height=d,b.context.setTransform(1,0,0,1,0,0)):(c=l(c,d),d=c.getContext("2d"),f&&p(d),a[b]=b={canvas:c,context:d});return b},clear:function(){a={}}}}(),$=function(){function a(b){this.alphaIsShape=!1;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=I;this.fontMatrix=z;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=
this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=this.textRenderingMode=0;this.strokeColor=this.fillColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.activeSMask=null;this.old=b}a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};return a}(),ha=function(){function a(b,c,d,f){this.ctx=b;this.current=new $;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=!1;this.xobjs=this.res=null;this.commonObjs=c;this.objs=
d;this.imageLayer=f;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;b&&p(b)}function b(a,c){if("undefined"!==typeof ImageData&&c instanceof ImageData)a.putImageData(c,0,0);else{var f=c.height,e=c.width,g=f/16,h=Math.floor(g),g=Math.ceil(g),f=f-16*h,l=a.createImageData(e,16),p=0,q,m=c.data,k=l.data,t,s,v;if(1===c.kind){var r=m.byteLength,k=PDFJS.hasCanvasTypedArrays?new Uint32Array(k.buffer):
new A(k),x=k.length,u=e+7>>3,w=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255;for(t=0;t<g;t++){v=t<h?16:f;for(s=q=0;s<v;s++){for(var y=r-p,z=0,y=y>u?e:8*y-7,C=y&-8,D=0,B=0;z<C;z+=8)B=m[p++],k[q++]=B&128?4294967295:w,k[q++]=B&64?4294967295:w,k[q++]=B&32?4294967295:w,k[q++]=B&16?4294967295:w,k[q++]=B&8?4294967295:w,k[q++]=B&4?4294967295:w,k[q++]=B&2?4294967295:w,k[q++]=B&1?4294967295:w;for(;z<y;z++)0===D&&(B=m[p++],D=128),k[q++]=B&D?4294967295:w,D>>=1}for(;q<x;)k[q++]=0;a.putImageData(l,
0,16*t)}}else if(3===c.kind){s=0;v=64*e;for(t=0;t<h;t++)k.set(m.subarray(p,p+v)),p+=v,a.putImageData(l,0,s),s+=16;t<g&&(k.set(m.subarray(p,p+e*f*4)),a.putImageData(l,0,s))}else if(2===c.kind)for(v=16*e,t=0;t<g;t++){t>=h&&(v=f,v*=e);q=0;for(s=v;s--;)k[q++]=m[p++],k[q++]=m[p++],k[q++]=m[p++],k[q++]=255;a.putImageData(l,0,16*t)}else d("bad image kind: "+c.kind)}}function c(a,b){for(var d=b.height,f=b.width,e=d/16,g=Math.floor(e),e=Math.ceil(e),d=d-16*g,h=a.createImageData(f,16),l=0,p=b.data,q=h.data,
m=0;m<e;m++){for(var k=m<g?16:d,t=3,s=0;s<k;s++)for(var v=0,r=0;r<f;r++){if(!v)var x=p[l++],v=128;q[t]=x&v?0:255;t+=4;v>>=1}a.putImageData(h,0,16*m)}}function f(a,b){for(var c="strokeStyle fillStyle fillRule globalAlpha lineWidth lineCap lineJoin miterLimit globalCompositeOperation font".split(" "),d=0,e=c.length;d<e;d++){var g=c[d];g in a&&(b[g]=a[g])}"setLineDash"in a?(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset):"mozDash"in a&&(b.mozDash=a.mozDash,b.mozDashOffset=a.mozDashOffset)}
function g(a,b,c,d,f,e){e=e?function(a,b,c,d){for(var f=d.length,e=3;e<f;e+=4){var g=d[e]/255;if(0===g)d[e-3]=a,d[e-2]=b,d[e-1]=c;else if(1>g){var h=1-g;d[e-3]=d[e-3]*g+a*h|0;d[e-2]=d[e-2]*g+b*h|0;d[e-1]=d[e-1]*g+c*h|0}}}.bind(null,e[0],e[1],e[2]):function(){};f="Luminosity"===f?function(a,b){for(var c=a.length,d=3;d<c;d+=4)b[d]=b[d]*(77*a[d-3]+152*a[d-2]+28*a[d-1]|0)>>16}:function(a,b){for(var c=a.length,d=3;d<c;d+=4)b[d]=b[d]*a[d]/255|0};for(var h=Math.min(d,Math.ceil(65536/c)),l=0;l<d;l+=h){var p=
Math.min(h,d-l),q=a.getImageData(0,l,c,p),p=b.getImageData(0,l,c,p);e(q.data);f(q.data,p.data);a.putImageData(p,0,l)}}var h=["butt","round","square"],l=["miter","round","bevel"],q={},s={};a.prototype={beginDrawing:function(a,b){var c=this.ctx.canvas.width,d=this.ctx.canvas.height;b?this.ctx.clearRect(0,0,c,d):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,c,d),this.ctx.restore());c=a.transform;this.ctx.save();this.ctx.transform.apply(this.ctx,
c);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var f=a.argsArray;a=a.fnArray;b=b||0;var e=f.length;if(e==b)return b;for(var g=Date.now()+15,h=this.commonObjs,l=this.objs,p;;){if(d&&b===d.nextBreakPoint)return d.breakIt(b,c),b;p=a[b];if(p!==C.dependency)this[p].apply(this,f[b]);else{p=f[b];for(var q=0,m=p.length;q<m;q++){var k=p[q],t="g_"==k.substring(0,2);if(!t&&!l.isResolved(k))return l.get(k,c),b;if(t&&
!h.isResolved(k))return h.get(k,c),b}}b++;if(b==e)return b;if(c&&Date.now()>g)return c(),b}},endDrawing:function(){this.ctx.restore();S.clear();ga.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=h[a]},setLineJoin:function(a){this.ctx.lineJoin=l[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;"setLineDash"in c?(c.setLineDash(a),c.lineDashOffset=
b):(c.mozDash=a,c.mozDashOffset=b)},setRenderingIntent:function(a){},setFlatness:function(a){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],f=d[1];switch(d[0]){case "LW":this.setLineWidth(f);break;case "LC":this.setLineCap(f);break;case "LJ":this.setLineJoin(f);break;case "ML":this.setMiterLimit(f);break;case "D":this.setDash(f[0],f[1]);break;case "RI":this.setRenderingIntent(f);break;case "FL":this.setFlatness(f);break;case "Font":this.setFont(f[0],f[1]);break;case "CA":this.current.strokeAlpha=
d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":f&&f.name&&"Normal"!==f.name?(d=f.name.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).substring(1),this.ctx.globalCompositeOperation=d,this.ctx.globalCompositeOperation!==d&&e('globalCompositeOperation "'+d+'" is not supported')):this.ctx.globalCompositeOperation="source-over";break;case "SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&
this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=S.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,!0),c=this.ctx,d=c.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,d);f(c,b);this.ctx=b;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;
var b=this.ctx=this.groupStack.pop(),c=this.current.activeSMask,d=c.canvas,f=c.context;b.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var e=c.backdrop||null;ga.isEnabled?(a=ga.composeSMask(a.canvas,d,{subtype:c.subtype,backdrop:e}),b.setTransform(1,0,0,1,0,0),b.drawImage(a,c.offsetX,c.offsetY)):(g(f,a,d.width,d.height,c.subtype,e),b.drawImage(d,0,0));this.ctx.restore()},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.activeSMask&&
(this.current.activeSMask=null)},restore:function(){var a=this.stateStack.pop();a&&(this.current.activeSMask&&this.endSMaskGroup(),this.current=a,this.ctx.restore())},transform:function(a,b,c,d,f,e){this.ctx.transform(a,b,c,d,f,e)},constructPath:function(a,b){for(var c=this.ctx,d=this.current,f=d.x,e=d.y,g=0,h=0,l=a.length;g<l;g++)switch(a[g]|0){case C.moveTo:f=b[h++];e=b[h++];c.moveTo(f,e);break;case C.lineTo:f=b[h++];e=b[h++];c.lineTo(f,e);break;case C.curveTo:f=b[h+4];e=b[h+5];c.bezierCurveTo(b[h],
b[h+1],b[h+2],b[h+3],f,e);h+=6;break;case C.curveTo2:c.bezierCurveTo(f,e,b[h],b[h+1],b[h+2],b[h+3]);f=b[h+2];e=b[h+3];h+=4;break;case C.curveTo3:f=b[h+2];e=b[h+3];c.bezierCurveTo(b[h],b[h+1],f,e,f,e);h+=4;break;case C.closePath:c.closePath()}d.setCurrentPoint(f,e)},closePath:function(){this.ctx.closePath()},rectangle:function(a,b,c,d){0===c&&(c=this.getSinglePixelWidth());0===d&&(d=this.getSinglePixelWidth());this.ctx.rect(a,b,c,d)},stroke:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,
c=this.current.strokeColor;0===this.current.lineWidth&&(b.lineWidth=this.getSinglePixelWidth());b.globalAlpha=this.current.strokeAlpha;c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke();a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){a="undefined"!==typeof a?a:!0;var b=this.ctx,c=this.current.fillColor,d=!1;c&&c.hasOwnProperty("type")&&"Pattern"===
c.type&&(b.save(),b.fillStyle=c.getPattern(b,this),d=!0);if(this.pendingEOFill){if(void 0!==b.mozFillRule)b.mozFillRule="evenodd",b.fill(),b.mozFillRule="nonzero";else try{b.fill("evenodd")}catch(f){b.fill()}this.pendingEOFill=!1}else b.fill();d&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0;this.fill()},fillStroke:function(){this.fill(!1);this.stroke(!1);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0;this.fillStroke()},closeFillStroke:function(){this.closePath();
this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=q},eoClip:function(){this.pendingClip=s},beginText:function(){this.current.textMatrix=I;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)b.beginPath();else{b.save();b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,
d.transform);b.translate(d.x,d.y);d.addToPath(b,d.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),f=this.current;c||d("Can't find font for "+a);f.fontMatrix=c.fontMatrix?c.fontMatrix:z;0!==f.fontMatrix[0]&&0!==f.fontMatrix[3]||
e("Invalid font matrix for font "+a);0>b?(b=-b,f.fontDirection=-1):f.fontDirection=1;this.current.font=c;this.current.fontSize=b;if(!c.isType3Font){var f=c.black?c.bold?"bolder":"bold":c.bold?"bold":"normal",g=c.italic?"italic":"normal",c='"'+(c.loadedName||"sans-serif")+'", '+c.fallbackName,h=16<=b?b:16;this.current.fontSizeScale=16!=h?1:b/16;this.ctx.font=g+" "+f+" "+h+"px "+c}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,
b){this.current.x=this.current.lineX+=a;this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,b,c,d,f,e){this.current.textMatrix=[a,b,c,d,f,e];this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var a=this.ctx,b=this.current;a.transform.apply(a,b.textMatrix);a.translate(b.x,b.y+b.textRise);0<b.fontDirection?
a.scale(b.textHScale,-1):a.scale(-b.textHScale,1)},paintChar:function(a,b,c){var d=this.ctx,f=this.current,e=f.font,g=f.fontSize/f.fontSizeScale,h=f.textRenderingMode,f=h&3,h=!!(h&4),l;if(e.disableFontFace||h)l=e.getPathGenerator(this.commonObjs,a);e.disableFontFace?(d.save(),d.translate(b,c),d.beginPath(),l(d,g),0!==f&&2!==f||d.fill(),1!==f&&2!==f||d.stroke(),d.restore()):(0!==f&&2!==f||d.fillText(a,b,c),1!==f&&2!==f||d.strokeText(a,b,c));h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,
x:b,y:c,fontSize:g,addToPath:l})},get isFontSubpixelAAEnabled(){var a=document.createElement("canvas").getContext("2d");a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,b=!1,c=3;c<a.length;c+=4)if(0<a[c]&&255>a[c]){b=!0;break}return m(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.ctx,c=this.current,d=c.font,f=c.fontSize,e=c.fontSizeScale,g=c.charSpacing,h=c.wordSpacing,l=c.textHScale*c.fontDirection,p=c.fontMatrix||z,q=a.length,m=d.vertical,k=d.defaultVMetrics,
t,s,v;if(0!==f)if(d.isType3Font){b.save();b.transform.apply(b,c.textMatrix);b.translate(c.x,c.y);b.scale(l,1);for(t=0;t<q;++t)s=a[t],null===s?(this.ctx.translate(h,0),c.x+=h*l):(this.processingType3=s,this.save(),b.scale(f,f),b.transform.apply(b,p),this.executeOperatorList(d.charProcOperatorList[s.operatorListId]),this.restore(),v=(F.applyTransform([s.width,0],p)[0]*f+g)*c.fontDirection,b.translate(v,0),c.x+=v*l);b.restore();this.processingType3=null}else{b.save();this.applyTextTransforms();t=c.lineWidth;
var p=c.textMatrix[0],r=c.textMatrix[1],p=Math.sqrt(p*p+r*r);t=0===p||0===t?this.getSinglePixelWidth():t/p;1!=e&&(b.scale(e,e),t/=e);b.lineWidth=t;for(t=p=0;t<q;++t)if(s=a[t],null===s)p+=c.fontDirection*h;else{var r=!1,x=s.fontChar,u=s.vmetric||k;if(m)var w=s.vmetric?u[1]:.5*s.width,w=-w*f*c.fontMatrix[0],y=u[2]*f*c.fontMatrix[0];v=u?-u[0]:s.width;u=v*f*c.fontMatrix[0]+g*c.fontDirection;s=s.accent;var C,D,B;m?(C=w/e,D=(p+y)/e):(C=p/e,D=0);d.remeasure&&0<v&&this.isFontSubpixelAAEnabled&&(r=1E3*b.measureText(x).width/
c.fontSize*c.fontSizeScale,v/=r,r=!0,b.save(),b.scale(v,1),C/=v,s&&(B/=v));this.paintChar(x,C,D);s&&(B=C+s.offset.x/e,x=D-s.offset.y/e,this.paintChar(s.fontChar,B,x));p+=u;r&&b.restore()}m?c.y-=p*l:c.x+=p*l;b.restore()}},showSpacedText:function(a){for(var b=this.current,c=b.fontSize,d=.001*b.textHScale*b.fontDirection,f=a.length,e=b.font.vertical,g=0;g<f;++g){var h=a[g];"number"==typeof h?(h=-h*c*d,e?b.y+=h:b.x+=h):this.showText(h)}},nextLineShowText:function(a){this.nextLine();this.showText(a)},
nextLineSetSpacingShowText:function(a,b,c){this.setWordSpacing(a);this.setCharSpacing(b);this.nextLineShowText(c)},setCharWidth:function(a,b){},setCharWidthAndBounds:function(a,b,c,d,f,e){this.rectangle(c,d,f-c,e-d);this.clip();this.endPath()},getColorN_Pattern:function(a){return"TilingPattern"==a[0]?new la(a,a[1],this.ctx,this.objs,this.commonObjs,this.baseTransform):x(a)},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=
this.getColorN_Pattern(arguments)},setStrokeRGBColor:function(a,b,c){var d=F.makeCssRgb(arguments);this.ctx.strokeStyle=d;this.current.strokeColor=d},setFillRGBColor:function(a,b,c){var d=F.makeCssRgb(arguments);this.ctx.fillStyle=d;this.current.fillColor=d},shadingFill:function(a){var b=this.ctx;this.save();a=x(a);b.fillStyle=a.getPattern(b,this,!0);var c=b.mozCurrentTransformInverse;if(c){var b=b.canvas,d=b.width,f=b.height,b=F.applyTransform([0,0],c);a=F.applyTransform([0,f],c);var e=F.applyTransform([d,
0],c),g=F.applyTransform([d,f],c),c=Math.min(b[0],a[0],e[0],g[0]),d=Math.min(b[1],a[1],e[1],g[1]),f=Math.max(b[0],a[0],e[0],g[0]),b=Math.max(b[1],a[1],e[1],g[1]);this.ctx.fillRect(c,d,f-c,b-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){d("Should not call beginInlineImage")},beginImageData:function(){d("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){this.save();this.baseTransformStack.push(this.baseTransform);a&&r(a)&&6==a.length&&
this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;b&&r(b)&&4==b.length&&(this.rectangle(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||k("TODO: Support non-isolated groups.");a.knockout&&e("Knockout groups not supported.");var c=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);a.bbox||d("Bounding box is required.");
var g=F.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),g=F.intersect(g,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0],h=Math.floor(g[0]),l=Math.floor(g[1]),p=Math.max(Math.ceil(g[2])-h,1),q=Math.max(Math.ceil(g[3])-l,1),m=g=1;4096<p&&(g=p/4096,p=4096);4096<q&&(m=q/4096,q=4096);var t="groupAt"+this.groupLevel;a.smask&&(t+="_smask_"+this.smaskCounter++%2);p=S.getCanvas(t,p,q,!0);q=p.context;q.scale(1/g,1/m);q.translate(-h,-l);q.transform.apply(q,c);a.smask?this.smaskStack.push({canvas:p.canvas,
context:q,offsetX:h,offsetY:l,scaleX:g,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop}):(b.setTransform(1,0,0,1,0,0),b.translate(h,l),b.scale(g,m));f(b,q);this.ctx=q;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1;a.smask?this.tempSMask=this.smaskStack.pop():
this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.current=new $},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){this.save();a&&r(a)&&4==a.length&&(this.rectangle(a[0],a[1],a[2]-a[0],a[3]-a[1]),this.clip(),this.endPath());this.transform.apply(this,b);this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(d){this.save();var f=this.ctx;f.scale(1/b,-1/c);f.drawImage(d,
0,0,d.width,d.height,0,-c,b,c);this.imageLayer&&(d=f.mozCurrentTransformInverse,f=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:a,left:f[0],top:f[1],width:b/d[0],height:c/d[3]}));this.restore()}else e("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,d=a.width,f=a.height,e=this.processingType3;!e||"compiled"in e||(e.compiled=1E3>=d&&1E3>=f?t({data:a.data,width:d,height:f}):null);e&&e.compiled?e.compiled(b):(b=S.getCanvas("maskCanvas",d,f),e=b.context,
e.save(),c(e,a),e.globalCompositeOperation="source-in",a=this.current.fillColor,e.fillStyle=a&&a.hasOwnProperty("type")&&"Pattern"===a.type?a.getPattern(e,this):a,e.fillRect(0,0,d,f),e.restore(),this.paintInlineImageXObject(b.canvas))},paintImageMaskXObjectRepeat:function(a,b,d,f){var e=a.width,g=a.height,h=this.ctx,l=S.getCanvas("maskCanvas",e,g),p=l.context;p.save();c(p,a);p.globalCompositeOperation="source-in";a=this.current.fillColor;p.fillStyle=a&&a.hasOwnProperty("type")&&"Pattern"===a.type?
a.getPattern(p,this):a;p.fillRect(0,0,e,g);p.restore();p=0;for(a=f.length;p<a;p+=2)h.save(),h.transform(b,0,0,d,f[p],f[p+1]),h.scale(1,-1),h.drawImage(l.canvas,0,0,e,g,0,-1,1,1),h.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,d=0,f=a.length;d<f;d++){var e=a[d],g=e.width,h=e.height,l=S.getCanvas("maskCanvas",g,h),p=l.context;p.save();c(p,e);p.globalCompositeOperation="source-in";var q=this.current.fillColor;p.fillStyle=q&&q.hasOwnProperty("type")&&"Pattern"===q.type?q.getPattern(p,
this):q;p.fillRect(0,0,g,h);p.restore();b.save();b.transform.apply(b,e.transform);b.scale(1,-1);b.drawImage(l.canvas,0,0,g,h,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):e("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){if(a=this.objs.get(a)){for(var f=a.width,g=a.height,h=[],l=0,p=d.length;l<p;l+=2)h.push({transform:[b,0,0,c,d[l],d[l+1]],x:0,y:0,w:f,h:g});this.paintInlineImageXObjectGroup(a,h)}else e("Dependent image isn't ready yet")},
paintInlineImageXObject:function(a){var c=a.width,d=a.height,f=this.ctx;this.save();f.scale(1/c,-1/d);var e=f.mozCurrentTransformInverse,g=e[0],h=e[1],g=Math.max(Math.sqrt(g*g+h*h),1),h=e[2],l=e[3],h=Math.max(Math.sqrt(h*h+l*l),1),p;if(a instanceof HTMLElement||!a.data)l=a;else{p=S.getCanvas("inlineImage",c,d);var q=p.context;b(q,a);l=p.canvas}for(var m=c,k=d,t="prescale1";2<g&&1<m||2<h&&1<k;){var s=m,v=k;2<g&&1<m&&(s=Math.ceil(m/2),g/=m/s);2<h&&1<k&&(v=Math.ceil(k/2),h/=k/v);p=S.getCanvas(t,s,v);
q=p.context;q.clearRect(0,0,s,v);q.drawImage(l,0,0,m,k,0,0,s,v);l=p.canvas;m=s;k=v;t="prescale1"===t?"prescale2":"prescale1"}f.drawImage(l,0,0,m,k,0,-d,c,d);this.imageLayer&&(f=this.getCanvasPosition(0,-d),this.imageLayer.appendImage({imgData:a,left:f[0],top:f[1],width:c/e[0],height:d/e[3]}));this.restore()},paintInlineImageXObjectGroup:function(a,c){var d=this.ctx,f=a.width,e=a.height,g=S.getCanvas("inlineImage",f,e);b(g.context,a);for(var h=0,l=c.length;h<l;h++){var p=c[h];d.save();d.transform.apply(d,
p.transform);d.scale(1,-1);d.drawImage(g.canvas,p.x,p.y,p.w,p.h,0,-1,1,1);this.imageLayer&&(p=this.getCanvasPosition(p.x,p.y),this.imageLayer.appendImage({imgData:a,left:p[0],top:p[1],width:f,height:e}));d.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=
this.ctx;if(this.pendingClip){if(this.pendingClip==s)if(void 0!==a.mozFillRule)a.mozFillRule="evenodd",a.clip(),a.mozFillRule="nonzero";else try{a.clip("evenodd")}catch(b){a.clip()}else a.clip();this.pendingClip=null}a.beginPath()},getSinglePixelWidth:function(a){a=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var v in C)a.prototype[C[v]]=
a.prototype[v];return a}(),ga=function(){function a(b,c,d){d=b.createShader(d);b.shaderSource(d,c);b.compileShader(d);if(!b.getShaderParameter(d,b.COMPILE_STATUS))throw b=b.getShaderInfoLog(d),Error("Error during shader compilation: "+b);return d}function b(a,c){for(var d=a.createProgram(),f=0,e=c.length;f<e;++f)a.attachShader(d,c[f]);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))throw d=a.getProgramInfoLog(d),Error("Error during program linking: "+d);return d}function c(a,b,d){a.activeTexture(d);
d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return d}function d(){f||(e=document.createElement("canvas"),f=e.getContext("webgl",{premultipliedalpha:!1}))}var f,e,g=null,h=null;return{get isEnabled(){if(PDFJS.disableWebGL)return!1;
var a=!1;try{d(),a=!!f}catch(b){}return m(this,"isEnabled",a)},composeSMask:function(h,l,p){var q=h.width,m=h.height;if(!g){var k,t;d();k=e;e=null;t=f;f=null;var s=a(t,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
t.VERTEX_SHADER),v=a(t,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
t.FRAGMENT_SHADER),r=b(t,[s,v]);t.useProgram(r);s={};s.gl=t;s.canvas=k;s.resolutionLocation=t.getUniformLocation(r,"u_resolution");s.positionLocation=t.getAttribLocation(r,"a_position");s.backdropLocation=t.getUniformLocation(r,"u_backdrop");s.subtypeLocation=t.getUniformLocation(r,"u_subtype");k=t.getAttribLocation(r,"a_texCoord");var v=t.getUniformLocation(r,"u_image"),r=t.getUniformLocation(r,"u_mask"),x=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,x);t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW);t.enableVertexAttribArray(k);t.vertexAttribPointer(k,2,t.FLOAT,!1,0,0);t.uniform1i(v,0);t.uniform1i(r,1);g=s}t=g;s=t.canvas;k=t.gl;s.width=q;s.height=m;k.viewport(0,0,k.drawingBufferWidth,k.drawingBufferHeight);k.uniform2f(t.resolutionLocation,q,m);p.backdrop?k.uniform4f(t.resolutionLocation,p.backdrop[0],p.backdrop[1],p.backdrop[2],1):k.uniform4f(t.resolutionLocation,0,0,0,0);k.uniform1i(t.subtypeLocation,"Luminosity"===p.subtype?1:0);h=c(k,h,k.TEXTURE0);l=
c(k,l,k.TEXTURE1);p=k.createBuffer();k.bindBuffer(k.ARRAY_BUFFER,p);k.bufferData(k.ARRAY_BUFFER,new Float32Array([0,0,q,0,0,m,0,m,q,0,q,m]),k.STATIC_DRAW);k.enableVertexAttribArray(t.positionLocation);k.vertexAttribPointer(t.positionLocation,2,k.FLOAT,!1,0,0);k.clearColor(0,0,0,0);k.enable(k.BLEND);k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA);k.clear(k.COLOR_BUFFER_BIT);k.drawArrays(k.TRIANGLES,0,6);k.flush();k.deleteTexture(h);k.deleteTexture(l);k.deleteBuffer(p);return s},drawFigures:function(c,g,l,
p,q){if(!h){var m,k;d();m=e;e=null;k=f;f=null;var t=a(k,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
k.VERTEX_SHADER),s=a(k,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",k.FRAGMENT_SHADER),t=b(k,[t,
s]);k.useProgram(t);s={};s.gl=k;s.canvas=m;s.resolutionLocation=k.getUniformLocation(t,"u_resolution");s.scaleLocation=k.getUniformLocation(t,"u_scale");s.offsetLocation=k.getUniformLocation(t,"u_offset");s.positionLocation=k.getAttribLocation(t,"a_position");s.colorLocation=k.getAttribLocation(t,"a_color");h=s}m=h;k=m.canvas;t=m.gl;k.width=c;k.height=g;t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight);t.uniform2f(m.resolutionLocation,c,g);c=0;var v,r,x;v=0;for(r=p.length;v<r;v++)switch(p[v].type){case "lattice":x=
p[v].coords.length/p[v].verticesPerRow|0;c+=(x-1)*(p[v].verticesPerRow-1)*6;break;case "triangles":c+=p[v].coords.length}s=new Float32Array(2*c);g=new Uint8Array(3*c);var u=q.coords,w=q.colors,y=0,z=0;v=0;for(r=p.length;v<r;v++){x=p[v];var C=x.coords,D=x.colors;switch(x.type){case "lattice":var B=x.verticesPerRow;x=C.length/B|0;for(var A=1;A<x;A++)for(var G=A*B+1,J=1;J<B;J++,G++)s[y]=u[C[G-B-1]],s[y+1]=u[C[G-B-1]+1],s[y+2]=u[C[G-B]],s[y+3]=u[C[G-B]+1],s[y+4]=u[C[G-1]],s[y+5]=u[C[G-1]+1],g[z]=w[D[G-
B-1]],g[z+1]=w[D[G-B-1]+1],g[z+2]=w[D[G-B-1]+2],g[z+3]=w[D[G-B]],g[z+4]=w[D[G-B]+1],g[z+5]=w[D[G-B]+2],g[z+6]=w[D[G-1]],g[z+7]=w[D[G-1]+1],g[z+8]=w[D[G-1]+2],s[y+6]=s[y+2],s[y+7]=s[y+3],s[y+8]=s[y+4],s[y+9]=s[y+5],s[y+10]=u[C[G]],s[y+11]=u[C[G]+1],g[z+9]=g[z+3],g[z+10]=g[z+4],g[z+11]=g[z+5],g[z+12]=g[z+6],g[z+13]=g[z+7],g[z+14]=g[z+8],g[z+15]=w[D[G]],g[z+16]=w[D[G]+1],g[z+17]=w[D[G]+2],y+=12,z+=18;break;case "triangles":for(x=0,B=C.length;x<B;x++)s[y]=u[C[x]],s[y+1]=u[C[x]+1],g[z]=w[D[v]],g[z+1]=
w[D[x]+1],g[z+2]=w[D[x]+2],y+=2,z+=3}}l?t.clearColor(l[0]/255,l[1]/255,l[2]/255,1):t.clearColor(0,0,0,0);t.clear(t.COLOR_BUFFER_BIT);l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l);t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW);t.enableVertexAttribArray(m.positionLocation);t.vertexAttribPointer(m.positionLocation,2,t.FLOAT,!1,0,0);p=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,p);t.bufferData(t.ARRAY_BUFFER,g,t.STATIC_DRAW);t.enableVertexAttribArray(m.colorLocation);t.vertexAttribPointer(m.colorLocation,
3,t.UNSIGNED_BYTE,!1,0,0);t.uniform2f(m.scaleLocation,q.scaleX,q.scaleY);t.uniform2f(m.offsetLocation,q.offsetX,q.offsetY);t.drawArrays(t.TRIANGLES,0,c);t.flush();t.deleteBuffer(l);t.deleteBuffer(p);return k},clear:function(){h=g=null}}}(),ma={RadialAxial:{fromIR:function(a){var b=a[1],c=a[2],d=a[3],f=a[4],e=a[5],g=a[6];return{type:"Pattern",getPattern:function(a){var h;"axial"===b?h=a.createLinearGradient(d[0],d[1],f[0],f[1]):"radial"===b&&(h=a.createRadialGradient(d[0],d[1],e,f[0],f[1],g));a=0;
for(var l=c.length;a<l;++a){var p=c[a];h.addColorStop(p[0],p[1])}return h}}}}},ba=function(){function a(b,c,d,f,e,g,h,l){var p=c.coords,q=c.colors,m=b.data;b=4*b.width;var k;p[d+1]>p[f+1]&&(k=d,d=f,f=k,k=g,g=h,h=k);p[f+1]>p[e+1]&&(k=f,f=e,e=k,k=h,h=l,l=k);p[d+1]>p[f+1]&&(k=d,d=f,f=k,k=g,g=h,h=k);k=(p[d]+c.offsetX)*c.scaleX;d=(p[d+1]+c.offsetY)*c.scaleY;var t=(p[f]+c.offsetX)*c.scaleX;f=(p[f+1]+c.offsetY)*c.scaleY;var s=(p[e]+c.offsetX)*c.scaleX;c=(p[e+1]+c.offsetY)*c.scaleY;if(!(d>=c)){e=q[g];p=q[g+
1];g=q[g+2];var v=q[h],r=q[h+1];h=q[h+2];var x=q[l],u=q[l+1];l=q[l+2];for(var w=Math.round(d),q=Math.round(c),z,y,C,D,B,A,G,J,F=w;F<=q;F++){F<f?(J=F<d?0:d===f?1:(d-F)/(d-f),w=k-(k-t)*J,z=e-(e-v)*J,y=p-(p-r)*J,C=g-(g-h)*J):(J=F>c?1:f===c?0:(f-F)/(f-c),w=t-(t-s)*J,z=v-(v-x)*J,y=r-(r-u)*J,C=h-(h-l)*J);J=F<d?0:F>c?1:(d-F)/(d-c);D=k-(k-s)*J;B=e-(e-x)*J;A=p-(p-u)*J;G=g-(g-l)*J;J=Math.round(Math.min(w,D));for(var K=Math.round(Math.max(w,D)),E=b*F+4*J,L=J;L<=K;L++)J=(w-L)/(w-D),J=0>J?0:1<J?1:J,m[E++]=z-(z-
B)*J|0,m[E++]=y-(y-A)*J|0,m[E++]=C-(C-G)*J|0,m[E++]=255}}}return function(b,c,f,e,g,h){var l=Math.floor(b[0]),p=Math.floor(b[1]),q=Math.ceil(b[2])-l;b=Math.ceil(b[3])-p;var m=Math.min(Math.ceil(Math.abs(q*c[0]*1.1)),3E3),k=Math.min(Math.ceil(Math.abs(b*c[1]*1.1)),3E3),q=q/m;b/=k;e={coords:f,colors:e,offsetX:-l,offsetY:-p,scaleX:1/q,scaleY:1/b};var t;if(ga.isEnabled)g=ga.drawFigures(m,k,h,g,e),f=S.getCanvas("mesh",m,k,!1),f.context.drawImage(g,0,0);else{f=S.getCanvas("mesh",m,k,!1);c=f.context;k=c.createImageData(m,
k);if(h){var s=k.data,m=0;for(t=s.length;m<t;m+=4)s[m]=h[0],s[m+1]=h[1],s[m+2]=h[2],s[m+3]=255}for(m=0;m<g.length;m++){h=k;var v=g[m];t=e;var s=v.coords,r=v.colors,x=void 0,u=void 0;switch(v.type){case "lattice":for(var v=v.verticesPerRow,u=Math.floor(s.length/v)-1,w=v-1,x=0;x<u;x++)for(var z=x*v,y=0;y<w;y++,z++)a(h,t,s[z],s[z+1],s[z+v],r[z],r[z+1],r[z+v]),a(h,t,s[z+v+1],s[z+1],s[z+v],r[z+v+1],r[z+1],r[z+v]);break;case "triangles":x=0;for(u=s.length;x<u;x+=3)a(h,t,s[x],s[x+1],s[x+2],r[x],r[x+1],r[x+
2]);break;default:d("illigal figure")}}c.putImageData(k,0,0)}g=f.canvas;return{canvas:g,offsetX:l,offsetY:p,scaleX:q,scaleY:b}}}();ma.Mesh={fromIR:function(a){var b=a[2],c=a[3],d=a[4],f=a[5],e=a[6],g=a[8];return{type:"Pattern",getPattern:function(a,h,l){var p;if(l)p=F.singularValueDecompose2dScale(a.mozCurrentTransform);else{p=F.singularValueDecompose2dScale(e);var q=F.singularValueDecompose2dScale(h.baseTransform);p=[p[0]*q[0],p[1]*q[1]]}p=ba(f,p,b,c,d,l?null:g);l||(a.setTransform.apply(a,h.baseTransform),
e&&a.transform.apply(a,e));a.translate(p.offsetX,p.offsetY);a.scale(p.scaleX,p.scaleY);return a.createPattern(p.canvas,"no-repeat")}}}};ma.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var la=function(){function a(b,c,d,f,e,g){this.operatorList=b[2];this.matrix=b[3]||[1,0,0,1,0,0];this.bbox=b[4];this.xstep=b[5];this.ystep=b[6];this.paintType=b[7];this.tilingType=b[8];this.color=c;this.objs=f;this.commonObjs=e;this.baseTransform=g;this.type="Pattern";this.ctx=
d}a.prototype={createPatternCanvas:function(a){var b=this.operatorList,c=this.bbox,d=this.xstep,f=this.ystep,e=this.paintType,g=this.color,h=this.objs,l=this.commonObjs;k("TilingType: "+this.tilingType);var p=c[0],q=c[1],m=c[2],t=c[3],s=[p,q],v=[p+d,q+f],r=v[0]-s[0],v=v[1]-s[1],x=F.singularValueDecompose2dScale(this.matrix),u=F.singularValueDecompose2dScale(this.baseTransform),x=[x[0]*u[0],x[1]*u[1]],r=Math.min(Math.ceil(Math.abs(r*x[0])),3E3),v=Math.min(Math.ceil(Math.abs(v*x[1])),3E3),x=S.getCanvas("pattern",
r,v,!0),u=x.context,h=new ha(u,l,h);h.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(u,e,g);this.setScale(r,v,d,f);this.transformToScale(h);h.transform.apply(h,[1,0,0,1,-s[0],-s[1]]);this.clipBbox(h,c,p,q,m,t);h.executeOperatorList(b);return x.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,d,
f,e){b&&r(b)&&4==b.length&&(a.rectangle(c,d,f-c,e-d),a.clip(),a.endPath())},setFillAndStrokeStyleToContext:function(a,b,c){switch(b){case 1:b=this.ctx;a.fillStyle=b.fillStyle;a.strokeStyle=b.strokeStyle;break;case 2:b=F.makeCssRgb(c);a.fillStyle=b;a.strokeStyle=b;break;default:d("Unsupported paint type: "+b)}},getPattern:function(a,b){var c=this.createPatternCanvas(b);a=this.ctx;a.setTransform.apply(a,this.baseTransform);a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(c,
"repeat")}};return a}();PDFJS.disableFontFace=!1;var ja={insertRule:function(a){var b=document.getElementById("PDFJS_FONT_STYLE_TAG");b||(b=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(b));b=b.sheet;b.insertRule(a,b.cssRules.length)},clear:function(){var a=document.getElementById("PDFJS_FONT_STYLE_TAG");a&&a.parentNode.removeChild(a)},get loadTestFont(){return m(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(v)return!1;var a=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(window.navigator.userAgent);return a&&14<=a[1]?!0:!1}(),bind:function(a,b){v&&d("bind() shall be called from main thread");for(var c=[],f=[],e=0,g=a.length;e<g;e++){var h=a[e];if(!h.attached&&!1!==h.loading){h.attached=!0;var l=h.bindDOM();l&&(c.push(l),f.push(h))}}e=ja.queueLoadingCallback(b);0<c.length&&!this.isSyncFontLoadingSupported?ja.prepareFontLoadEvent(c,
f,e):e.complete()},queueLoadingCallback:function(a){var b=ja.loadingContext,c={id:"pdfjs-font-loading-"+b.nextRequestId++,complete:function(){c.end&&d("completeRequest() cannot be called twice");for(c.end=Date.now();0<b.requests.length&&b.requests[0].end;){var a=b.requests.shift();setTimeout(a.callback,0)}},callback:a,started:Date.now()};b.requests.push(c);return c},prepareFontLoadEvent:function(a,b,c){function d(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+
3)&255}function f(a,b,c,d){var e=a.substr(0,b);a=a.substr(b+c);return e+d+a}function g(a,b){q++;30<q?(e("Load test font never loaded."),b()):(p.font="30px "+a,p.fillText(".",0,20),0<p.getImageData(0,0,1,1).data[3]?b():setTimeout(g.bind(null,a,b)))}var h,l;a=document.createElement("canvas");a.width=1;a.height=1;var p=a.getContext("2d"),q=0;a="lt"+Date.now()+this.loadTestFontId++;var m=this.loadTestFont,m=f(m,976,a.length,a),k=d(m,16);h=0;for(l=a.length-3;h<l;h+=4)k=k-1482184792+d(a,h)|0;h<a.length&&
(k=k-1482184792+d(a+"XXX",h)|0);m=f(m,16,4,String.fromCharCode(k>>24&255,k>>16&255,k>>8&255,k&255));h="url(data:font/opentype;base64,"+btoa(m)+");";ja.insertRule('@font-face { font-family:"'+a+'";src:'+h+"}");m=[];h=0;for(l=b.length;h<l;h++)m.push(b[h].loadedName);m.push(a);var t=document.createElement("div");t.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");h=0;for(l=m.length;h<l;++h)b=document.createElement("span"),b.textContent="Hi",
b.style.fontFamily=m[h],t.appendChild(b);document.body.appendChild(t);g(a,function(){document.body.removeChild(t);c.complete()})}},ua=function(){function a(b,c,d){this.compiledGlyphs={};if(1===arguments.length){var f=arguments[0],e;for(e in f)this[e]=f[e]}}a.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var a,b=new Uint8Array(this.data);a=b.length;if(8192>a)a=String.fromCharCode.apply(null,b);else{for(var c=[],d=0;d<a;d+=8192){var f=
Math.min(d+8192,a),f=b.subarray(d,f);c.push(String.fromCharCode.apply(null,f))}a=c.join("")}b=this.loadedName;a="url(data:"+this.mimetype+";base64,"+window.btoa(a)+");";b='@font-face { font-family:"'+b+'";src:'+a+"}";ja.insertRule(b);PDFJS.pdfBug&&"FontInspector"in q&&q.FontInspector.enabled&&q.FontInspector.fontAdded(this,a);return b},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var c=a.get(this.loadedName+"_path_"+b);this.compiledGlyphs[b]=new Function("c","size",c)}return this.compiledGlyphs[b]}};
return a}()}).call("undefined"===typeof window?this:window);PDFJS.workerSrc||"undefined"===typeof document||(PDFJS.workerSrc=function(){var k=(document.body||document.getElementsByTagName("head")[0]).lastChild.src;return k&&k.replace(/\.js$/i,".worker.js")}());
!function(k,e){e["true"]=k;var d=function(b){function c(a){var c={};this.subscribe=function(a,b,d){if("function"!=typeof b)return!1;c.hasOwnProperty(a)||(c[a]={});var f=Math.random().toString(35);return c[a][f]=[b,!!d],f};this.unsubscribe=function(a){for(var b in c)if(c[b][a])return delete c[b][a],!0;return!1};this.publish=function(d){if(c.hasOwnProperty(d)){var f=Array.prototype.slice.call(arguments,1),e=[],g;for(g in c[d]){var h=c[d][g];try{h[0].apply(a,f)}catch(q){b.console&&console.error("jsPDF PubSub Error",
q.message,q)}h[1]&&e.push(g)}e.length&&e.forEach(this.unsubscribe)}}}function d(m,k,s,l){var p={};"object"==typeof m&&(p=m,m=p.orientation,k=p.unit||k,s=p.format||s,l=p.compress||p.compressPdf||l);k=k||"mm";s=s||"a4";m=(""+(m||"P")).toLowerCase();var t,x,q,v,z,C=(""+s).toLowerCase(),J=!!l&&"function"==typeof Uint8Array,D=p.textColor||"0 g",B=p.drawColor||"0 G",E=p.fontSize||16,A=p.lineHeight||1.15,I=p.lineWidth||.200025,F=2,G=!1,L=[],K={},N={},H=0,Q=[],T=[],P=0,R=0,X=0,W={title:"",subject:"",author:"",
keywords:"",creator:""},U={},V=new c(U),O=function(a){return a.toFixed(2)},Y=function(a){return("0"+parseInt(a)).slice(-2)},S=function(a){G?Q[H].push(a):(X+=a.length+1,T.push(a))},$=function(){return F++,L[F]=X,S(F+" 0 obj"),F},ha=function(a){S("stream");S(a);S("endstream")},ga=function(a,b){var c;c=a;var d=b,f,e,g,h,l,p,q;if(d=d||{},f=d.sourceEncoding||"Unicode",g=d.outputEncoding,(d.autoencode||g)&&K[t].metadata&&K[t].metadata[f]&&K[t].metadata[f].encoding&&(e=K[t].metadata[f].encoding,!g&&K[t].encoding&&
(g=K[t].encoding),!g&&e.codePages&&(g=e.codePages[0]),"string"==typeof g&&(g=e[g]),g)){l=!1;h=[];f=0;for(e=c.length;e>f;f++)(p=g[c.charCodeAt(f)])?h.push(String.fromCharCode(p)):h.push(c[f]),h[f].charCodeAt(0)>>8&&(l=!0);c=h.join("")}for(f=c.length;void 0===l&&0!==f;)c.charCodeAt(f-1)>>8&&(l=!0),f--;if(l){h=d.noBOM?[]:[254,255];f=0;for(e=c.length;e>f;f++){if(p=c.charCodeAt(f),q=p>>8,q>>8)throw Error("Character at position "+f+" of string '"+c+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");h.push(q);
h.push(p-(q<<8))}c=String.fromCharCode.apply(void 0,h)}return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ma=function(){H++;G=!0;Q[H]=[];S(O(I*x)+" w");S(B);0!==P&&S(P+" J");0!==R&&S(R+" j");V.publish("addPage",{pageNumber:H})},ba=function(a,b){var c;a=void 0!==a?a:K[t].fontName;b=void 0!==b?b:K[t].fontStyle;try{c=N[a][b]}catch(d){}if(!c)throw Error("Unable to look up font label for font '"+a+"', '"+b+"'. Refer to getFontList() for available fonts.");return c},la=function(){G=
!1;F=2;T=[];L=[];S("%PDF-"+e);var a,c,g,l,p,q=v*x,m=z*x;p=b.adler32cs||d.adler32cs;J&&"undefined"==typeof p&&(J=!1);for(a=1;H>=a;a++){if($(),S("<</Type /Page"),S("/Parent 1 0 R"),S("/Resources 2 0 R"),S("/Contents "+(F+1)+" 0 R>>"),S("endobj"),c=Q[a].join("\n"),$(),J){g=[];for(l=c.length;l--;)g[l]=c.charCodeAt(l);l=p.from(c);c=new h(6);c.append(new Uint8Array(g));c=c.flush();g=new Uint8Array(c.length+6);g.set(new Uint8Array([120,156]));g.set(c,2);g.set(new Uint8Array([255&l,l>>8&255,l>>16&255,l>>
24&255]),c.length+2);c=String.fromCharCode.apply(null,g);S("<</Length "+c.length+" /Filter [/FlateDecode]>>")}else S("<</Length "+c.length+">>");ha(c);S("endobj")}L[1]=X;S("1 0 obj");S("<</Type /Pages");a="/Kids [";for(l=0;H>l;l++)a+=3+2*l+" 0 R ";S(a+"]");S("/Count "+H);S("/MediaBox [0 0 "+O(q)+" "+O(m)+"]");S(">>");S("endobj");for(var k in K)K.hasOwnProperty(k)&&(q=K[k],q.objectNumber=$(),S("<</BaseFont/"+q.PostScriptName+"/Type/Font"),"string"==typeof q.encoding&&S("/Encoding/"+q.encoding),S("/Subtype/Type1>>"),
S("endobj"));V.publish("putResources");L[2]=X;S("2 0 obj");S("<<");S("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");S("/Font <<");for(var t in K)K.hasOwnProperty(t)&&S("/"+t+" "+K[t].objectNumber+" 0 R");S(">>");S("/XObject <<");V.publish("putXobjectDict");S(">>");S(">>");S("endobj");V.publish("postPutResources");$();S("<<");S("/Producer (jsPDF "+d.version+")");for(var s in W)W.hasOwnProperty(s)&&W[s]&&S("/"+s.substr(0,1).toUpperCase()+s.substr(1)+" ("+ga(W[s])+")");k=new Date;S(["/CreationDate (D:",
k.getFullYear(),Y(k.getMonth()+1),Y(k.getDate()),Y(k.getHours()),Y(k.getMinutes()),Y(k.getSeconds()),")"].join(""));S(">>");S("endobj");$();S("<<");S("/Type /Catalog");S("/Pages 1 0 R");S("/OpenAction [3 0 R /FitH null]");S("/PageLayout /OneColumn");V.publish("putCatalog");S(">>");S("endobj");t=X;S("xref");S("0 "+(F+1));S("0000000000 65535 f ");for(k=1;F>=k;k++)S(("0000000000"+L[k]).slice(-10)+" 00000 n ");S("trailer");S("<<");S("/Size "+(F+1));S("/Root "+F+" 0 R");S("/Info "+(F-1)+" 0 R");return S(">>"),
S("startxref"),S(t),S("%%EOF"),G=!0,T.join("\n")},ja=function(a){var b="S";return"F"===a?b="f":"FD"===a||"DF"===a?b="B":("f"===a||"f*"===a||"B"===a||"B*"===a)&&(b=a),b},ua=function(){for(var a=la(),b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c);b--;)d[b]=a.charCodeAt(b);return c},va=function(){return new Blob([ua()],{type:"application/pdf"})},Fa=function(a){return a.foo=function(){try{return a.apply(this,arguments)}catch(c){var d=c.stack||"";~d.indexOf(" at ")&&(d=d.split(" at ")[1]);d="Error in function "+
d.split("\n")[0].split("<")[0]+": "+c.message;if(!b.console)throw Error(d);b.console.error(d,c);b.alert&&alert(d)}},a.foo.bar=a,a.foo}(function(c,d){var f="dataur"===(""+c).substr(0,6)?"data:application/pdf;base64,"+btoa(la()):0;switch(c){case void 0:return la();case "save":if(navigator.getUserMedia&&(void 0===b.URL||void 0===b.URL.createObjectURL))return U.output("dataurlnewwindow");a(va(),d);"function"==typeof a.unload&&b.setTimeout&&setTimeout(a.unload,911);break;case "arraybuffer":return ua();
case "blob":return va();case "bloburi":case "bloburl":return b.URL&&b.URL.createObjectURL(va())||void 0;case "datauristring":case "dataurlstring":return f;case "dataurlnewwindow":var e=b.open(f);if(e||"undefined"==typeof safari)return e;case "datauri":case "dataurl":return b.document.location.href=f;default:throw Error('Output type "'+c+'" is not supported.');}});switch(k){case "pt":x=1;break;case "mm":x=72/25.4;break;case "cm":x=72/2.54;break;case "in":x=72;break;case "px":x=96/72;break;case "pc":x=
12;break;case "em":x=12;break;case "ex":x=6;break;default:throw"Invalid unit: "+k;}if(g.hasOwnProperty(C))z=g[C][1]/x,v=g[C][0]/x;else try{z=s[1],v=s[0]}catch(Ea){throw Error("Invalid format: "+s);}if("p"===m||"portrait"===m)m="p",v>z&&(q=v,v=z,z=q);else{if("l"!==m&&"landscape"!==m)throw"Invalid orientation: "+m;m="l";z>v&&(q=v,v=z,z=q)}U.internal={pdfEscape:ga,getStyle:ja,getFont:function(){return K[ba.apply(U,arguments)]},getFontSize:function(){return E},getLineHeight:function(){return E*A},write:function(a){S(1===
arguments.length?a:Array.prototype.join.call(arguments," "))},getCoordinateString:function(a){return O(a*x)},getVerticalCoordinateString:function(a){return O((z-a)*x)},collections:{},newObject:$,putStream:ha,events:V,scaleFactor:x,pageSize:{width:v,height:z},output:function(a,b){return Fa(a,b)},getNumberOfPages:function(){return Q.length-1},pages:Q};U.addPage=function(){return ma(),this};U.text=function(a,b,c,d,f){function e(a){return a=a.split("\t").join(Array(p.TabLen||9).join(" ")),ga(a,d)}"number"==
typeof a&&(q=c,c=b,b=a,a=q);"string"==typeof a&&a.match(/[\n\r]/)&&(a=a.split(/\r\n|\r|\n/g));"number"==typeof d&&(f=d,d=null);var g="",h="Td";f&&(f*=Math.PI/180,g=Math.cos(f),h=Math.sin(f),g=[O(g),O(h),O(-1*h),O(g),""].join(" "),h="Tm");if(d=d||{},"noBOM"in d||(d.noBOM=!0),"autoencode"in d||(d.autoencode=!0),"string"==typeof a)a=e(a);else{if(!(a instanceof Array))throw Error('Type of text must be string or Array. "'+a+'" is not recognized.');a=a.concat();f=[];for(var l=a.length;l--;)f.push(e(a.shift()));
a=f.join(") Tj\nT* (")}return S("BT\n/"+t+" "+E+" Tf\n"+E*A+" TL\n"+D+"\n"+g+O(b*x)+" "+O((z-c)*x)+" "+h+"\n("+a+") Tj\nET"),this};U.line=function(a,b,c,d){return this.lines([[c-a,d-b]],a,b)};U.lines=function(a,b,c,d,f,e){var g,h,l,p,m,k,t,s;"number"==typeof a&&(q=c,c=b,b=a,a=q);d=d||[1,1];S((b*x).toFixed(3)+" "+((z-c)*x).toFixed(3)+" m ");g=d[0];d=d[1];h=a.length;s=c;for(c=0;h>c;c++)l=a[c],2===l.length?(b=l[0]*g+b,s=l[1]*d+s,S((b*x).toFixed(3)+" "+((z-s)*x).toFixed(3)+" l")):(p=l[0]*g+b,m=l[1]*d+
s,k=l[2]*g+b,t=l[3]*d+s,b=l[4]*g+b,s=l[5]*d+s,S((p*x).toFixed(3)+" "+((z-m)*x).toFixed(3)+" "+(k*x).toFixed(3)+" "+((z-t)*x).toFixed(3)+" "+(b*x).toFixed(3)+" "+((z-s)*x).toFixed(3)+" c"));return e&&S(" h"),null!==f&&S(ja(f)),this};U.rect=function(a,b,c,d,f){ja(f);return S([O(a*x),O((z-b)*x),O(c*x),O(-d*x),"re"].join(" ")),null!==f&&S(ja(f)),this};U.triangle=function(a,b,c,d,f,e,g){return this.lines([[c-a,d-b],[f-c,e-d],[a-f,b-e]],a,b,[1,1],g,!0),this};U.roundedRect=function(a,b,c,d,f,e,g){var h=
4/3*(Math.SQRT2-1);return this.lines([[c-2*f,0],[f*h,0,f,e-e*h,f,e],[0,d-2*e],[0,e*h,-(f*h),e,-f,e],[-c+2*f,0],[-(f*h),0,-f,-(e*h),-f,-e],[0,-d+2*e],[0,-(e*h),f*h,-e,f,-e]],a+f,b,[1,1],g),this};U.ellipse=function(a,b,c,d,f){var e=4/3*(Math.SQRT2-1)*c,g=4/3*(Math.SQRT2-1)*d;return S([O((a+c)*x),O((z-b)*x),"m",O((a+c)*x),O((z-(b-g))*x),O((a+e)*x),O((z-(b-d))*x),O(a*x),O((z-(b-d))*x),"c"].join(" ")),S([O((a-e)*x),O((z-(b-d))*x),O((a-c)*x),O((z-(b-g))*x),O((a-c)*x),O((z-b)*x),"c"].join(" ")),S([O((a-
c)*x),O((z-(b+g))*x),O((a-e)*x),O((z-(b+d))*x),O(a*x),O((z-(b+d))*x),"c"].join(" ")),S([O((a+e)*x),O((z-(b+d))*x),O((a+c)*x),O((z-(b+g))*x),O((a+c)*x),O((z-b)*x),"c"].join(" ")),null!==f&&S(ja(f)),this};U.circle=function(a,b,c,d){return this.ellipse(a,b,c,c,d)};U.setProperties=function(a){for(var b in W)W.hasOwnProperty(b)&&a[b]&&(W[b]=a[b]);return this};U.setFontSize=function(a){return E=a,this};U.setFont=function(a,b){return t=ba(a,b),this};U.setFontStyle=U.setFontType=function(a){return t=ba(void 0,
a),this};U.getFontList=function(){var a,b,c,d={};for(a in N)if(N.hasOwnProperty(a))for(b in d[a]=c=[],N[a])N[a].hasOwnProperty(b)&&c.push(b);return d};U.setLineWidth=function(a){return S((a*x).toFixed(2)+" w"),this};U.setDrawColor=function(a,b,c,d){var f;return f=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" G":O(a/255)+" G":void 0===d?"string"==typeof a?[a,b,c,"RG"].join(" "):[O(a/255),O(b/255),O(c/255),"RG"].join(" "):"string"==typeof a?[a,b,c,d,"K"].join(" "):[O(a),O(b),O(c),O(d),"K"].join(" "),
S(f),this};U.setFillColor=function(a,b,c,d){var f;return f=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" g":O(a/255)+" g":void 0===d?"string"==typeof a?[a,b,c,"rg"].join(" "):[O(a/255),O(b/255),O(c/255),"rg"].join(" "):"string"==typeof a?[a,b,c,d,"k"].join(" "):[O(a),O(b),O(c),O(d),"k"].join(" "),S(f),this};U.setTextColor=function(a,b,c){"string"==typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)&&(c=parseInt(a.substr(1),16),a=c>>16&255,b=c>>8&255,c&=255);return D=0===a&&0===b&&0===c||"undefined"==
typeof b?(a/255).toFixed(3)+" g":[(a/255).toFixed(3),(b/255).toFixed(3),(c/255).toFixed(3),"rg"].join(" "),this};U.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};U.setLineCap=function(a){var b=this.CapJoinStyles[a];if(void 0===b)throw Error("Line cap style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return P=b,S(b+" J"),this};U.setLineJoin=function(a){var b=this.CapJoinStyles[a];if(void 0===
b)throw Error("Line join style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return R=b,S(b+" j"),this};U.output=Fa;U.save=function(a){U.output("save",a)};for(var Ga in d.API)d.API.hasOwnProperty(Ga)&&("events"===Ga&&d.API.events.length?!function(a,b){var c,d,f;for(f=b.length-1;-1!==f;f--)c=b[f][0],d=b[f][1],a.subscribe.apply(a,[c].concat("function"==typeof d?[d]:d))}(V,d.API.events):U[Ga]=d.API[Ga]);return function(){for(var a=[["Helvetica","helvetica","normal"],
["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"]],b=0,c=a.length;c>b;b++){var d,f=a[b][0],e=a[b][1];d=a[b][2];var g="F"+(Object.keys(K).length+
1).toString(10),f=K[g]={id:g,PostScriptName:f,fontName:e,fontStyle:d,encoding:"StandardEncoding",metadata:{}},h=g;N.hasOwnProperty(e)||(N[e]={});N[e][d]=h;d=(V.publish("addFont",f),g);g=a[b][0].split("-");f=g[0];g=g[1]||"";N.hasOwnProperty(f)||(N[f]={});N[f][g]=d}V.publish("addFonts",{fonts:K,dictionary:N})}(),t="F1",ma(),V.publish("initialized"),U}var e="1.3",g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],
a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],
dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return d.API={events:[]},d.version="1.0.209-git 2014-07-28T16:27:diegocr","function"==typeof define&&define.amd?define("jsPDF",function(){return d}):b.jsPDF=d,d}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);!function(a){a.addHTML=function(a,b,d,e,g){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");
"number"!=typeof b&&(e=b,g=d);"function"==typeof e&&(g=e,e=null);var h=this.internal,m=h.scaleFactor,l=h.pageSize.width,p=h.pageSize.height;return(e=e||{},e.onrendered=function(a){b=parseInt(b)||0;d=parseInt(d)||0;var c=e.dim||{},h=c.h||0,k=c.w||Math.min(l,a.width/m)-b,u="JPEG";if(e.format&&(u=e.format),a.height>p&&e.pagesplit)h=function(){for(var c=0;;){var e=document.createElement("canvas");e.width=Math.min(l*m,a.width);e.height=Math.min(p*m,a.height-c);e.getContext("2d").drawImage(a,0,c,a.width,
e.height,0,0,e.width,e.height);var h=[e,b,c?0:d,e.width/m,e.height/m,u,null,"SLOW"];if(this.addImage.apply(this,h),c+=e.height,c>=a.height)break;this.addPage()}g(k,c,null,h)}.bind(this),"CANVAS"===a.nodeName?(c=new Image,c.onload=h,c.src=a.toDataURL("image/png"),a=c):h();else{var c=Math.random().toString(35),C=[a,b,d,k,h,u,c,"SLOW"];this.addImage.apply(this,C);g(k,h,c,C)}}.bind(this),"undefined"==typeof html2canvas||e.rstz)?"undefined"!=typeof rasterizeHTML?(h="drawDocument","string"==typeof a&&(h=
/^http/.test(a)?"drawURL":"drawHTML"),e.width=e.width||l*m,rasterizeHTML[h](a,void 0,e).then(function(a){e.onrendered(a.image)},function(a){g(null,a)})):null:html2canvas(a,e)}}(d.API);(function(a){var c=["jpeg","jpg","png"],d=function(a){var b=this.internal.newObject(),c=this.internal.write,e=this.internal.putStream;if(a.n=b,c("<</Type /XObject"),c("/Subtype /Image"),c("/Width "+a.w),c("/Height "+a.h),a.cs===this.color_spaces.INDEXED?c("/ColorSpace [/Indexed /DeviceRGB "+(a.pal.length/3-1)+" "+("smask"in
a?b+2:b+1)+" 0 R]"):(c("/ColorSpace /"+a.cs),a.cs===this.color_spaces.DEVICE_CMYK&&c("/Decode [1 0 1 0 1 0 1 0]")),c("/BitsPerComponent "+a.bpc),"f"in a&&c("/Filter /"+a.f),"dp"in a&&c("/DecodeParms <<"+a.dp+">>"),"trns"in a&&a.trns.constructor==Array){for(var g="",h=0,l=a.trns.length;l>h;h++)g+=a.trns[h]+" "+a.trns[h]+" ";c("/Mask ["+g+"]")}if("smask"in a&&c("/SMask "+(b+1)+" 0 R"),c("/Length "+a.data.length+">>"),e(a.data),c("endobj"),"smask"in a)b={w:a.w,h:a.h,cs:"DeviceGray",bpc:a.bpc,dp:"/Predictor 15 /Colors 1 /BitsPerComponent "+
a.bpc+" /Columns "+a.w,data:a.smask},"f"in a&&(b.f=a.f),d.call(this,b);a.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),c("<< /Length "+a.pal.length+">>"),e(this.arrayBufferToBinaryString(new Uint8Array(a.pal))),c("endobj"))},e=function(){var a=this.internal.collections.addImage_images,b;for(b in a)d.call(this,a[b])},g=function(){var a,b=this.internal.collections.addImage_images,c=this.internal.write,d;for(d in b)a=b[d],c("/I"+a.i,a.n,"0","R")},h=function(c){return c&&"string"==typeof c&&
(c=c.toUpperCase()),c in a.image_compression?c:a.image_compression.NONE},m=function(a){var b=0;if(a){if(Object.keys)a=Object.keys(a).length;else{var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;a=b}b=a}return b},k=function(a){return"string"==typeof a&&Array.prototype.reduce&&a.split("").reduce(function(a,b){return a=(a<<5)-a+b.charCodeAt(0),a&a},0)},l=function(a,b){var c;if(b)for(var d in b)if(a===b[d].alias){c=b[d];break}return c};a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",
CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPERATION:"Seperation",DEVICE_N:"DeviceN"};a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};a.isString=
function(a){return"string"==typeof a};a.extractInfoFromBase64DataURI=function(a){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(a)};a.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};a.isArrayBuffer=function(a){return this.supportsArrayBuffer()?a instanceof ArrayBuffer:!1};a.isArrayBufferView=function(a){return this.supportsArrayBuffer()?"undefined"==typeof Uint32Array?!1:a instanceof Int8Array||a instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&
a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array:!1};a.binaryStringToUint8Array=function(a){for(var b=a.length,c=new Uint8Array(b),d=0;b>d;d++)c[d]=a.charCodeAt(d);return c};a.arrayBufferToBinaryString=function(a){this.isArrayBuffer(a)&&(a=new Uint8Array(a));for(var b="",c=a.byteLength,d=0;c>d;d++)b+=String.fromCharCode(a[d]);return b};a.arrayBufferToBase64=function(a){var b,
c,d,f,e,g="";a=new Uint8Array(a);f=a.byteLength;for(var h=f%3,l=f-h,m=0;l>m;m+=3)e=a[m]<<16|a[m+1]<<8|a[m+2],b=(16515072&e)>>18,c=(258048&e)>>12,d=(4032&e)>>6,f=63&e,g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f];return 1==h?(e=a[l],b=(252&e)>>2,c=(3&e)<<4,g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"=="):2==h&&(e=a[l]<<8|a[l+1],b=(64512&e)>>10,c=(1008&e)>>4,d=(15&e)<<2,g+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]+"="),g};a.createImageInfo=function(a,b,c,d,f,e,g,h,l,m,k,s){a={alias:h,w:b,h:c,cs:d,bpc:f,i:g,data:a};return e&&(a.f=e),l&&(a.dp=l),m&&(a.trns=m),
k&&(a.pal=k),s&&(a.smask=s),a};a.addImage=function(d,f,x,q,v,z,C,J){if("number"==typeof f){var D=z;z=v;v=q;q=x;x=f;f=D}var B;B=this.internal.collections.addImage_images;D=(B||(this.internal.collections.addImage_images=B={},this.internal.events.subscribe("putResources",e),this.internal.events.subscribe("putXobjectDict",g)),B);if(!(B=l(d,D))){var E;if("object"==typeof d&&1===d.nodeType){a:{B=d;d=f;if("IMG"===B.nodeName&&B.hasAttribute("src")){var A=""+B.getAttribute("src");if(0===A.indexOf("data:image/")){B=
A;break a}!d&&/\.png(?:[?#].*)?$/i.test(A)&&(d="png")}if("CANVAS"===B.nodeName)A=B;else{A=document.createElement("canvas");A.width=B.clientWidth||B.width;A.height=B.clientHeight||B.height;var I=A.getContext("2d");if(!I)throw"addImage requires canvas to be supported by browser.";I.drawImage(B,0,0,A.width,A.height)}B=A.toDataURL("png"==(""+d).toLowerCase()?"image/png":"image/jpeg")}d=B}if(("undefined"==typeof C||null===C)&&(C=k(d)),!(B=l(C,D))){this.isString(d)&&((A=this.extractInfoFromBase64DataURI(d))?
(f=A[2],d=atob(A[3])):137===d.charCodeAt(0)&&80===d.charCodeAt(1)&&78===d.charCodeAt(2)&&71===d.charCodeAt(3)&&(f="png"));if(f=(f||"JPEG").toLowerCase(),-1===c.indexOf(f))throw Error("addImage currently only supports formats "+c+", not '"+f+"'");if("function"!=typeof a["process"+f.toUpperCase()])throw Error("please ensure that the plugin for '"+f+"' support is added");if(this.supportsArrayBuffer()&&(E=d,d=this.binaryStringToUint8Array(d)),B=this["process"+f.toUpperCase()](d,m(D),C,h(J),E),!B)throw Error("An unkwown error occurred whilst processing the image");
}}f=x;x=B;C=B.i;J=z;z=(v||J||(v=-96,J=-96),0>v&&(v=-72*x.w/v/this.internal.scaleFactor),0>J&&(J=-72*x.h/J/this.internal.scaleFactor),0===v&&(v=J*x.w/x.h),0===J&&(J=v*x.h/x.w),[v,J]);J=this.internal.getCoordinateString;E=this.internal.getVerticalCoordinateString;v=z[0];z=z[1];D[C]=x;this.internal.write("q",J(v),"0 0",J(z),J(f),E(q+z),"cm /I"+x.i,"Do Q");return this};a.processJPEG=function(a,b,c,d,f){var e;d=this.color_spaces.DEVICE_RGB;var g=this.decode.DCT_DECODE;if(this.isString(a)){a:{f=a;var h,
l,m;if(255===!f.charCodeAt(0)||216===!f.charCodeAt(1)||255===!f.charCodeAt(2)||224===!f.charCodeAt(3)||74===!f.charCodeAt(6)||70===!f.charCodeAt(7)||73===!f.charCodeAt(8)||70===!f.charCodeAt(9)||0===!f.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");for(var k=256*f.charCodeAt(4)+f.charCodeAt(5),s=4,r=f.length;r>s;){if(s+=k,255!==f.charCodeAt(s))throw Error("getJpegSize could not find the size of the image");if(192===f.charCodeAt(s+1)||193===f.charCodeAt(s+1)||194===f.charCodeAt(s+
1)||195===f.charCodeAt(s+1)||196===f.charCodeAt(s+1)||197===f.charCodeAt(s+1)||198===f.charCodeAt(s+1)||199===f.charCodeAt(s+1)){f=(l=256*f.charCodeAt(s+5)+f.charCodeAt(s+6),h=256*f.charCodeAt(s+7)+f.charCodeAt(s+8),m=f.charCodeAt(s+9),[h,l,m]);break a}s+=2;k=256*f.charCodeAt(s)+f.charCodeAt(s+1)}f=void 0}a=(e=f,this.createImageInfo(a,e[0],e[1],1==e[3]?this.color_spaces.DEVICE_GRAY:d,8,g,b,c))}else{this.isArrayBuffer(a)&&(a=new Uint8Array(a));if(this.isArrayBufferView(a)){a:{h=a;if(65496!==(h[0]<<
8|h[1]))throw Error("Supplied data is not a JPEG");var u;l=h.length;m=(h[4]<<8)+h[5];for(var w=4;l>w;){if(w+=m,k=h.subarray(w,w+5),m=(k[2]<<8)+k[3],(192===k[1]||194===k[1])&&255===k[0]&&7<m){l=w+5;h=(k=h.subarray(l,l+5),s=(k[2]<<8)+k[3],r=(k[0]<<8)+k[1],u=k[4],{width:s,height:r,numcomponents:u});break a}w+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");}b=(e=h,a=f||this.arrayBufferToBinaryString(a),this.createImageInfo(a,e.width,e.height,1==e.numcomponents?this.color_spaces.DEVICE_GRAY:
d,8,g,b,c))}else b=null;a=b}return a};a.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(d.API);(function(a){a.autoPrint=function(){var a;return this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject();this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+a+" 0 R")}),this}})(d.API);(function(a){var c,d,e,g,h={x:void 0,y:void 0,w:void 0,h:void 0,
ln:void 0},m=1,k={left:0,top:0,bottom:0};a.setHeaderFunction=function(a){g=a};a.getTextDimensions=function(a){c=this.internal.getFont().fontName;d=this.table_font_size||this.internal.getFontSize();e=this.internal.getFont().fontStyle;var b,g,h=19.049976/25.4;return g=document.createElement("font"),g.id="jsPDFCell",g.style.fontStyle=e,g.style.fontName=c,g.style.fontSize=d+"pt",g.innerText=a,document.body.appendChild(g),b={w:(g.offsetWidth+1)*h,h:(g.offsetHeight+1)*h},document.body.removeChild(g),b};
a.cellAddPage=function(){var a=this.margins||k;this.addPage();h={x:a.left,y:a.top,w:void 0,h:void 0,ln:void 0};m+=1};a.cellInitialize=function(){h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};m=1};a.cell=function(a,b,c,d,f,e,g){var m=h;void 0!==m.ln&&(m.ln===e?(a=m.x+m.w,b=m.y):(m.y+m.h+d+13>=this.internal.pageSize.height-(this.margins||k).bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(e,!0)),b=h.y+h.h));if(void 0!==f[0])if(this.printingHeaderRow?this.rect(a,
b,c,d,"FD"):this.rect(a,b,c,d),"right"===g){if(f instanceof Array)for(g=0;g<f.length;g++){var m=f[g],r=this.getStringUnitWidth(m)*this.internal.getFontSize();this.text(m,a+c-r-3,b+this.internal.getLineHeight()*(g+1))}}else this.text(f,a+3,b+this.internal.getLineHeight());h={x:a,y:b,w:c,h:d,ln:e};return this};a.arrayMax=function(a,b){var c,d,f,e=a[0];c=0;for(d=a.length;d>c;c+=1)f=a[c],b?-1===b(e,f)&&(e=f):f>e&&(e=f);return e};a.table=function(c,d,f,e,g){if(!f)throw"No data for PDF table";var v,r,w,
J,D,B,E,A,I=[];B=[];var F={},G={},L=[];E=[];w=!1;var K=!0;r=12;J=k;if(J.width=this.internal.pageSize.width,g&&(!0===g.autoSize&&(w=!0),!1===g.printHeaders&&(K=!1),g.fontSize&&(r=g.fontSize),g.margins&&(J=g.margins)),this.lnMod=0,h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},m=1,this.printHeaders=K,this.margins=J,this.setFontSize(r),this.table_font_size=r,void 0===e||null===e)I=Object.keys(f[0]);else if(e[0]&&"string"!=typeof e[0])for(J=19.049976/25.4,g=0,r=e.length;r>g;g+=1)v=e[g],I.push(v.name),
B.push(v.prompt),G[v.name]=v.width*J;else I=e;if(w)for(A=function(a){return a[v]},g=0,r=I.length;r>g;g+=1){v=I[g];F[v]=f.map(A);L.push(this.getTextDimensions(B[g]||v).w);D=F[v];e=0;for(w=D.length;w>e;e+=1)J=D[e],L.push(this.getTextDimensions(J).w);G[v]=a.arrayMax(L)}if(K){F=this.calculateLineHeight(I,G,B.length?B:I);g=0;for(r=I.length;r>g;g+=1)v=I[g],E.push([c,d,G[v],F,String(B.length?B[g]:v)]);this.setTableHeaderRow(E);this.printHeaderRow(1,!1)}g=0;for(r=f.length;r>g;g+=1)for(B=f[g],F=this.calculateLineHeight(I,
G,B),e=0,E=I.length;E>e;e+=1)v=I[e],this.cell(c,d,G[v],F,B[v],g+2,v.align);return this.lastCellPos=h,this.table_x=c,this.table_y=d,this};a.calculateLineHeight=function(a,b,c){for(var d,f=0,e=0;e<a.length;e++)d=a[e],c[d]=this.splitTextToSize(String(c[d]),b[d]-3),d=this.internal.getLineHeight()*c[d].length+3,d>f&&(f=d);return f};a.setTableHeaderRow=function(a){this.tableHeaderRow=a};a.printHeaderRow=function(a,b){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var c,d,f;if(this.printingHeaderRow=
!0,void 0!==g)d=g(this,m),h={x:d[0],y:d[1],w:d[2],h:d[3],ln:-1};this.setFontStyle("bold");var e=[];d=0;for(f=this.tableHeaderRow.length;f>d;d+=1)this.setFillColor(200,200,200),c=this.tableHeaderRow[d],b&&(c[1]=this.margins&&this.margins.top||0,e.push(c)),c=[].concat(c),this.cell.apply(this,c.concat(a));0<e.length&&this.setTableHeaderRow(e);this.setFontStyle("normal");this.printingHeaderRow=!1}})(d.API);(function(a){var c,d,e,g,h,m,k,l,p,t,x,q,v,z,C,J,D,B,E;c=function(){function a(){}return function(b){return a.prototype=
b,new a}}();p=function(a){var b,c,d,f,e;c=0;d=a.length;for(e=f=!1;!f&&c!==d;)(b=a[c]=a[c].trimLeft())&&(f=!0),c++;for(c=d-1;d&&!e&&-1!==c;)(b=a[c]=a[c].trimRight())&&(e=!0),c--;f=/\s+$/g;e=!0;for(c=0;c!==d;)b=a[c].replace(/\s+/g," "),e&&(b=b.trimLeft()),b&&(e=f.test(b)),a[c]=b,c++;return a};t=function(a,b,c,d){return this.pdf=a,this.x=b,this.y=c,this.settings=d,this.watchFunctions=[],this.init(),this};x=function(a){var b,c;b=void 0;c=a.split(",");for(a=c.shift();!b&&a;)b=e[a.trim().toLowerCase()],
a=c.shift();return b};q=function(a){a="auto"===a?"0px":a;-1<a.indexOf("em")&&!isNaN(Number(a.replace("em","")))&&(a=18.719*Number(a.replace("em",""))+"px");-1<a.indexOf("pt")&&!isNaN(Number(a.replace("pt","")))&&(a=1.333*Number(a.replace("pt",""))+"px");var b;return(b=v[a])?b:(b={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:a}],void 0!==b?v[a]=b/16:(b=parseFloat(a))?v[a]=b/16:(b=a.match(/([\d\.]+)(px)/),v[a]=3===b.length?parseFloat(b[1])/
16:1))};l=function(a){var b,c,d;return d=function(a){var b;return b=function(a){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle?a.currentStyle:a.style}(a),function(a){return a=a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()}),b[a]}}(a),b={},c=void 0,b["font-family"]=x(d("font-family"))||"times",b["font-style"]=g[d("font-style")]||"normal",b["text-align"]=TextAlignMap[d("text-align")]||"left",c=h[d("font-weight")]||
"normal","bold"===c&&(b["font-style"]="normal"===b["font-style"]?c:c+b["font-style"]),b["font-size"]=q(d("font-size"))||1,b["line-height"]=q(d("line-height"))||1,b.display="inline"===d("display")?"inline":"block","block"===b.display&&(b["margin-top"]=q(d("margin-top"))||0,b["margin-bottom"]=q(d("margin-bottom"))||0,b["padding-top"]=q(d("padding-top"))||0,b["padding-bottom"]=q(d("padding-bottom"))||0,b["margin-left"]=q(d("margin-left"))||0,b["margin-right"]=q(d("margin-right"))||0,b["padding-left"]=
q(d("padding-left"))||0,b["padding-right"]=q(d("padding-right"))||0),b["float"]=m[d("cssFloat")]||"none",b.clear=k[d("clear")]||"none",b};z=function(a,b,c){var d,f,e,g;if(e=!1,d=c["#"+a.id])if("function"==typeof d)e=d(a,b);else for(f=0,g=d.length;!e&&f!==g;)e=d[f](a,b),f++;if(d=c[a.nodeName],!e&&d)if("function"==typeof d)e=d(a,b);else for(f=0,g=d.length;!e&&f!==g;)e=d[f](a,b),f++;return e};E=function(a,b){var c,d,f,e,g,h;c=[];d=[];f=0;h=a.rows[0].cells.length;for(e=a.clientWidth;h>f;)g=a.rows[0].cells[f],
d[f]={name:g.textContent.toLowerCase().replace(/\s+/g,""),prompt:g.textContent.replace(/\r?\n/g,""),width:g.clientWidth/e*b.pdf.internal.pageSize.width},f++;for(f=1;f<a.rows.length;){h=a.rows[f];g={};for(e=0;e<h.cells.length;)g[d[e].name]=h.cells[e].textContent.replace(/\r?\n/g,""),e++;c.push(g);f++}return{rows:c,headers:d}};var A={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},I=1;d=function(a,b,c){var e,g,h,p,m,k,q;g=a.childNodes;e=void 0;a=l(a);(p="block"===a.display)&&(b.setBlockBoundary(),
b.setBlockStyle(a));h=0;for(m=g.length;m>h;){if(e=g[h],"object"==typeof e){if(b.executeWatchFunctions(e),1===e.nodeType&&"HEADER"===e.nodeName){var s=e,t=b.pdf.margins_doc.top;b.pdf.internal.events.subscribe("addPage",function(){b.y=t;d(s,b,c);b.pdf.margins_doc.top=b.y+10;b.y+=10},!1)}if(8===e.nodeType&&"#comment"===e.nodeName)~e.textContent.indexOf("ADD_PAGE")&&(b.pdf.addPage(),b.y=b.pdf.margins_doc.top);else if(1!==e.nodeType||A[e.nodeName])if(3===e.nodeType){if((k=e.nodeValue)&&"LI"===e.parentNode.nodeName)if("OL"===
e.parentNode.parentNode.nodeName)k=I++ +". "+k;else{var v=2;20<16*a["font-size"]&&(v=3);q=function(a,b){this.pdf.circle(a,b,v,"FD")}}b.addText(k,a)}else"string"==typeof e&&b.addText(e,a);else if("IMG"===e.nodeName&&C[e.getAttribute("src")]){b.pdf.internal.pageSize.height-b.pdf.margins_doc.bottom<b.y+e.height&&b.y>b.pdf.margins_doc.top&&(b.pdf.addPage(),b.y=b.pdf.margins_doc.top,b.executeWatchFunctions(e));k=l(e);var r=b.x,x=12/b.pdf.internal.scaleFactor,u=(k["margin-left"]+k["padding-left"])*x,w=
(k["margin-right"]+k["padding-right"])*x,y=(k["margin-top"]+k["padding-top"])*x,x=(k["margin-bottom"]+k["padding-bottom"])*x,r=r+(void 0!==k["float"]&&"right"===k["float"]?b.settings.width-e.width-w:u);b.pdf.addImage(C[e.getAttribute("src")],r,b.y+y,e.width,e.height);void 0!==k["float"]?("right"===k["float"]||"left"===k["float"])&&(b.watchFunctions.push(function(a,c,d,f){return b.y>=c?(b.x+=a,b.settings.width+=d,!0):f&&1===f.nodeType&&!A[f.nodeName]&&b.x+f.width>b.pdf.margins_doc.left+b.pdf.margins_doc.width?
(b.x+=a,b.y=c,b.settings.width+=d,!0):!1}.bind(this,"left"===k["float"]?-e.width-u-w:0,b.y+e.height+y+x,e.width)),b.watchFunctions.push(function(a,c,d){return b.y<a&&c===b.pdf.internal.getNumberOfPages()?1===d.nodeType&&"both"===l(d).clear?(b.y=a,!0):!1:!0}.bind(this,b.y+e.height,b.pdf.internal.getNumberOfPages())),b.settings.width-=e.width+u+w,"left"===k["float"]&&(b.x+=e.width+u+w)):b.y+=e.height+x}else"TABLE"===e.nodeName?(k=E(e,b),b.y+=10,b.pdf.table(b.x,b.y,k.rows,k.headers,{autoSize:!1,printHeaders:!0,
margins:b.pdf.margins_doc}),b.y=b.pdf.lastCellPos.y+b.pdf.lastCellPos.h+20):"OL"===e.nodeName||"UL"===e.nodeName?(I=1,z(e,b,c)||d(e,b,c),b.y+=10):"LI"===e.nodeName?(k=b.x,b.x+="UL"===e.parentNode.nodeName?22:10,b.y+=3,z(e,b,c)||d(e,b,c),b.x=k):z(e,b,c)||d(e,b,c)}h++}return p?b.setBlockBoundary(q):void 0};C={};J=function(a,b,c,d){function f(){b.pdf.internal.events.publish("imagesLoaded");d()}function e(a,b,c){if(a){var d=new Image;++g;d.crossOrigin="";d.onerror=d.onload=function(){d.complete&&(0===
d.src.indexOf("data:image/")&&(d.width=b||d.width||0,d.height=c||d.height||0),d.width+d.height&&(C[a]=C[a]||d));--g||f()};d.src=a}}a=a.getElementsByTagName("img");c=a.length;for(var g=0;c--;)e(a[c].getAttribute("src"),a[c].width,a[c].height);return g||f()};D=function(a,b,c,e){var g=a.getElementsByTagName("footer");if(0<g.length){g=g[0];a=b.pdf.internal.write;var h=b.y;b.pdf.internal.write=function(){};d(g,b,c);var l=Math.ceil(b.y-h)+5;b.y=h;b.pdf.internal.write=a;b.pdf.margins_doc.bottom+=l;a=function(a){a=
void 0!==a?a.pageNumber:1;var e=b.y;b.y=b.pdf.internal.pageSize.height-b.pdf.margins_doc.bottom;b.pdf.margins_doc.bottom-=l;for(var h=g.getElementsByTagName("span"),p=0;p<h.length;++p)-1<(" "+h[p].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(h[p].innerHTML=a),-1<(" "+h[p].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(h[p].innerHTML="###jsPDFVarTotalPages###");d(g,b,c);b.pdf.margins_doc.bottom+=l;b.y=e};for(var h=g.getElementsByTagName("span"),p=0;p<h.length;++p)-1<
(" "+h[p].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&b.pdf.internal.events.subscribe("htmlRenderingFinished",b.pdf.putTotalPages.bind(b.pdf,"###jsPDFVarTotalPages###"),!0);b.pdf.internal.events.subscribe("addPage",a,!1);a();A.FOOTER=1}e()};B=function(a,b,c,e,g,h){if(!b)return!1;"string"==typeof b||b.parentNode||(b=""+b.innerHTML);"string"==typeof b&&(b=function(a){var b,c,d;return d="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0),c=document.createElement("div"),
c.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",c.innerHTML='<iframe style="height:1px;width:1px" name="'+d+'" />',document.body.appendChild(c),b=window.frames[d],b.document.body.innerHTML=a,b.document.body}(b.replace(/<\/?script[^>]*?>/gi,"")));var l=new t(a,c,e,g);return h=h||function(){},J.call(this,
b,l,g.elementHandlers,function(){D.call(this,b,l,g.elementHandlers,function(){d(b,l,g.elementHandlers);l.pdf.internal.events.publish("htmlRenderingFinished");h(l.dispose())})}),l.dispose()};t.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")};t.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y}};t.prototype.executeWatchFunctions=function(a){var b=!1,c=[];if(0<this.watchFunctions.length){for(var d=0;d<this.watchFunctions.length;++d)!0===
this.watchFunctions[d](a)?b=!0:c.push(this.watchFunctions[d]);this.watchFunctions=c}return b};t.prototype.splitFragmentsIntoLines=function(a,b){var d,f,e,g,h,l,p,m,k,q,s,t,v;k=this.pdf.internal.scaleFactor;g={};l=p=v=h=e=m=f=void 0;q=[];s=[q];d=0;for(t=this.settings.width;a.length;)if(h=a.shift(),v=b.shift(),h)if(f=v["font-family"],m=v["font-style"],e=g[f+m],e||(e=this.pdf.internal.getFont(f,m).metadata.Unicode,g[f+m]=e),p={widths:e.widths,kerning:e.kerning,fontSize:12*v["font-size"],textIndent:d},
l=this.pdf.getStringUnitWidth(h,p)*p.fontSize/k,d+l>t){d=this.pdf.splitTextToSize(h,t,p);for(q.push([d.shift(),v]);d.length;)q=[[d.shift(),v]],s.push(q);d=this.pdf.getStringUnitWidth(q[0][0],p)*p.fontSize/k}else q.push([h,v]),d+=l;if(void 0!==v["text-align"]&&("center"===v["text-align"]||"right"===v["text-align"]||"justify"===v["text-align"]))for(f=0;f<s.length;++f)e=this.pdf.getStringUnitWidth(s[f][0][0],p)*p.fontSize/k,0<f&&(s[f][0][1]=c(s[f][0][1])),e=t-e,"right"===v["text-align"]?s[f][0][1]["margin-left"]=
e:"center"===v["text-align"]?s[f][0][1]["margin-left"]=e/2:"justify"===v["text-align"]&&(g=s[f][0][0].split(" ").length-1,s[f][0][1]["word-spacing"]=e/g,f===s.length-1&&(s[f][0][1]["word-spacing"]=0));return s};t.prototype.RenderTextFragment=function(a,b){var c;c=0;this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.pdf.internal.getCoordinateString(this.x),
this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),c=Math.max(c,b["line-height"],b["font-size"]),this.pdf.internal.write(0,(-12*c).toFixed(2),"Td"));c=this.pdf.internal.getFont(b["font-family"],b["font-style"]);void 0!==b["word-spacing"]&&0<b["word-spacing"]&&this.pdf.internal.write(b["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+c.id,(12*b["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(a)+") Tj");void 0!==b["word-spacing"]&&this.pdf.internal.write(0,"Tw")};
t.prototype.renderParagraph=function(a){var b,c,d,f,e,g,h,l,m;if(c=p(this.paragraph.text),g=this.paragraph.style,b=this.paragraph.blockstyle,l=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:b},c.join("").trim()){g=this.splitFragmentsIntoLines(c,g);h=e=void 0;c=12/this.pdf.internal.scaleFactor;e=(Math.max((b["margin-top"]||0)-(l["margin-bottom"]||0),0)+(b["padding-top"]||0))*c;l=((b["margin-bottom"]||0)+(b["padding-bottom"]||0))*c;b=this.pdf.internal.write;
f=d=void 0;this.y+=e;b("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var k=0;g.length;){e=g.shift();d=h=0;for(f=e.length;d!==f;)e[d][0].trim()&&(h=Math.max(h,e[d][1]["line-height"],e[d][1]["font-size"]),m=7*e[d][1]["font-size"]),d++;d=0;void 0!==e[0][1]["margin-left"]&&0<e[0][1]["margin-left"]&&(wantedIndent=this.pdf.internal.getCoordinateString(e[0][1]["margin-left"]),d=wantedIndent-k,k=wantedIndent);b(d,(-12*h).toFixed(2),
"Td");d=0;for(f=e.length;d!==f;)e[d][0]&&this.RenderTextFragment(e[d][0],e[d][1]),d++;if(this.y+=h*c,this.executeWatchFunctions(e[0][1])&&0<g.length){var q=[],s=[];g.forEach(function(a){for(var b=0,c=a.length;b!==c;)a[b][0]&&(q.push(a[b][0]+" "),s.push(a[b][1])),++b});g=this.splitFragmentsIntoLines(p(q),s);b("ET","Q");b("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return a&&"function"==typeof a&&a.call(this,this.x-9,this.y-m/2),
b("ET","Q"),this.y+=l}};t.prototype.setBlockBoundary=function(a){return this.renderParagraph(a)};t.prototype.setBlockStyle=function(a){return this.paragraph.blockstyle=a};t.prototype.addText=function(a,b){return this.paragraph.text.push(a),this.paragraph.style.push(b)};e={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};h={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",
800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};g={normal:"normal",italic:"italic",oblique:"italic"};TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"};m={none:"none",right:"right",left:"left"};k={none:"none",both:"both"};v={normal:1};a.fromHTML=function(a,b,c,d,f,e){return this.margins_doc=e||{top:0,bottom:0},d||(d={}),d.elementHandlers||(d.elementHandlers={}),B(this,a,isNaN(b)?4:b,isNaN(c)?4:c,d,f)}})(d.API);(function(a){var c,d,e;a.addJS=
function(a){return e=a,this.internal.events.subscribe("postPutResources",function(){c=this.internal.newObject();this.internal.write("<< /Names [(EmbeddedJS) "+(c+1)+" 0 R] >>","endobj");d=this.internal.newObject();this.internal.write("<< /S /JavaScript /JS (",e,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==c&&void 0!==d&&this.internal.write("/Names <</JavaScript "+c+" 0 R>>")}),this}})(d.API);(function(a){var c=function(c,l,p,m){var x=5,q=g;switch(m){case a.image_compression.FAST:x=
3;q=e;break;case a.image_compression.MEDIUM:x=6;q=k;break;case a.image_compression.SLOW:x=9,q=u}for(var v,z,C=c.length/l,J=new Uint8Array(c.length+C),D=[d,e,g,k,u],B=0;C>B;B++){if(z=B*l,m=c.subarray(z,z+l),q)J.set(q(m,p,v),z+B);else{for(var E=0,A=D.length,I=[];A>E;E++)I[E]=D[E](m,p,v);v=I.concat();for(var F=void 0,A=E=void 0,G=0,L=v.length;L>G;){for(var F=v[G].slice(1),K=0,N=F.length,H=0;N>K;)H+=Math.abs(F[K++]);F=H;(E>F||!E)&&(E=F,A=G);G++}J.set(I[A],z+B)}v=m}c=J;l=Uint8Array;z=Math.LOG2E*Math.log(32768)-
8<<4|8;p=z<<8;q=Math.min(3,0);z=(p|=q<<6,p|=0,p+=31-p%31,[z,p&255]);l=new l(z);z=1;q=0;m=c.length;for(C=0;0<m;){p=void 0<m?void 0:m;m-=p;do z+=c[C++],q+=z;while(--p);z%=65521;q%=65521}p=(q<<16|z)>>>0;z=new h(x);x=z.append(c);z=z.flush();c=l.length+x.length+z.length;q=new Uint8Array(c+4);return q.set(l),q.set(x,l.length),q.set(z,l.length+x.length),q[c++]=p>>>24&255,q[c++]=p>>>16&255,q[c++]=p>>>8&255,q[c++]=255&p,a.arrayBufferToBinaryString(q)},d=function(a){a=Array.apply([],a);return a.unshift(0),
a},e=function(a,b){var c,d=[],f=0,e=a.length;for(d[0]=1;e>f;f++)c=a[f-b]||0,d[f+1]=a[f]-c+256&255;return d},g=function(a,b,c){var d=[],f=0,e=a.length;for(d[0]=2;e>f;f++)b=c&&c[f]||0,d[f+1]=a[f]-b+256&255;return d},k=function(a,b,c){var d,f,e=[],g=0,h=a.length;for(e[0]=3;h>g;g++)d=a[g-b]||0,f=c&&c[g]||0,e[g+1]=a[g]+256-(d+f>>>1)&255;return e},u=function(a,b,c){var d,f,e,g=[],h=0,m=a.length;for(g[0]=4;m>h;h++){d=a[h-b]||0;f=c&&c[h]||0;e=c&&c[h-b]||0;var k=d+f-e,r=Math.abs(k-d),u=Math.abs(k-f),k=Math.abs(k-
e);d=u>=r&&k>=r?d:k>=u?f:e;g[h+1]=a[h]-d+256&255}return g};a.processPNG=function(d,f,e,g){var k,q,v,r,u,w,y=this.color_spaces.DEVICE_RGB,B=this.decode.FLATE_DECODE,E=8;if(this.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.isArrayBufferView(d)){if("function"!=typeof PNG||"function"!=typeof m)throw Error("PNG support requires png.js and zlib.js");if(k=new PNG(d),d=k.imgData,E=k.bits,y=k.colorSpace,r=k.colors,-1!==[4,6].indexOf(k.colorType)){if(8===k.bits)for(var A,I,F=new window["Uint"+k.pixelBitlength+
"Array"](k.decodePixels().buffer),G=F.length,L=new Uint8Array(G*k.colors),K=new Uint8Array(G),N=k.pixelBitlength-k.bits,H=0,Q=0;G>H;H++){A=F[H];for(I=0;N>I;)L[Q++]=A>>>I&255,I+=k.bits;K[H]=A>>>I&255}if(16===k.bits){F=new Uint32Array(k.decodePixels().buffer);G=F.length;L=new Uint8Array(32/k.pixelBitlength*G*k.colors);K=new Uint8Array(32/k.pixelBitlength*G);E=1<k.colors;for(I=Q=H=0;G>H;)A=F[H++],L[Q++]=A>>>0&255,E&&(L[Q++]=A>>>16&255,A=F[H++],L[Q++]=A>>>0&255),K[I++]=A>>>16&255;E=8}if(G=g!==a.image_compression.NONE)if(G=
"function"==typeof h,!G)throw Error("requires deflate.js for compression");G?(d=c(L,k.width*k.colors,k.colors,g),w=c(K,k.width,1,g)):(d=L,w=K,B=null)}if(3===k.colorType&&(y=this.color_spaces.INDEXED,u=k.palette,k.transparency.indexed)){g=k.transparency.indexed;H=K=0;for(G=g.length;G>H;++H)K+=g[H];if(K/=255,K===G-1&&-1!==g.indexOf(0))v=[g.indexOf(0)];else if(K!==G){F=k.decodePixels();K=new Uint8Array(F.length);H=0;for(G=F.length;G>H;H++)K[H]=g[F[H]];w=c(K,k.width,1)}}return q=B===this.decode.FLATE_DECODE?
"/Predictor 15 /Colors "+r+" /BitsPerComponent "+E+" /Columns "+k.width:"/Colors "+r+" /BitsPerComponent "+E+" /Columns "+k.width,(this.isArrayBuffer(d)||this.isArrayBufferView(d))&&(d=this.arrayBufferToBinaryString(d)),(w&&this.isArrayBuffer(w)||this.isArrayBufferView(w))&&(w=this.arrayBufferToBinaryString(w)),this.createImageInfo(d,k.width,k.height,y,E,B,f,e,q,v,u,w)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(d.API);(function(a){a.addSVG=function(a,b,d,e,g){function h(a){for(var b=
parseFloat(a[1]),c=parseFloat(a[2]),d=[],f=3,e=a.length;e>f;)"c"===a[f]?(d.push([parseFloat(a[f+1]),parseFloat(a[f+2]),parseFloat(a[f+3]),parseFloat(a[f+4]),parseFloat(a[f+5]),parseFloat(a[f+6])]),f+=7):"l"===a[f]?(d.push([parseFloat(a[f+1]),parseFloat(a[f+2])]),f+=3):f+=1;return[b,c,d]}if(void 0===b||void 0===d)throw Error("addSVG needs values for 'x' and 'y'");var m=function(a){var b=a.createElement("iframe"),c=a.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":
c.appendChild(a.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));a.getElementsByTagName("head")[0].appendChild(c);return b.name="childframe",b.setAttribute("width",0),b.setAttribute("height",0),b.setAttribute("frameborder","0"),b.setAttribute("scrolling","no"),b.setAttribute("seamless","seamless"),b.setAttribute("class","jsPDF_sillysvg_iframe"),a.body.appendChild(b),b}(document),m=function(a,b){var c=(b.contentWindow||b.contentDocument).document;return c.write(a),c.close(),
c.getElementsByTagName("svg")[0]}(a,m);a=[1,1];var l=parseFloat(m.getAttribute("width")),p=parseFloat(m.getAttribute("height"));l&&p&&(e&&g?a=[e/l,g/p]:e?a=[e/l,e/l]:g&&(a=[g/p,g/p]));var k,l=m.childNodes;e=0;for(g=l.length;g>e;e++)m=l[e],m.tagName&&"PATH"===m.tagName.toUpperCase()&&(k=h(m.getAttribute("d").split(" ")),k[0]=k[0]*a[0]+b,k[1]=k[1]*a[1]+d,this.lines.call(this,k[2],k[0],k[1],a));return this}})(d.API);(function(a){var c=a.getCharWidthsArray=function(a,b){b||(b={});var c,d,f,e=b.widths?
b.widths:this.internal.getFont().metadata.Unicode.widths,g=e.fof?e.fof:1,h=b.kerning?b.kerning:this.internal.getFont().metadata.Unicode.kerning,m=h.fof?h.fof:1,k=0,r=e[0]||g,w=[];c=0;for(d=a.length;d>c;c++)f=a.charCodeAt(c),w.push((e[f]||r)/g+(h[f]&&h[f][k]||0)/m),k=f;return w},d=function(a){for(var b=a.length,c=0;b;)b--,c+=a[b];return c},e=a.getStringUnitWidth=function(a,b){return d(c.call(this,a,b))},g=function(a,b,c,d){for(var f=[],e=0,g=a.length,h=0;e!==g&&h+b[e]<c;)h+=b[e],e++;f.push(a.slice(0,
e));c=e;for(h=0;e!==g;)h+b[e]>d&&(f.push(a.slice(c,e)),h=0,c=e),h+=b[e],e++;return c!==e&&f.push(a.slice(c,e)),f},h=function(a,b,h){h||(h={});var p,m,k,q,v,y=[],C=[y];q=h.textIndent||0;var J=0,D=0,B=a.split(" "),E=c(" ",h)[0];if(v=-1===h.lineIndent?B[0].length+2:h.lineIndent||0){var A=Array(v).join(" "),I=[];B.map(function(a){a=a.split(/\s*\n/);1<a.length?I=I.concat(a.map(function(a,b){return(b&&a.length?"\n":"")+a})):I.push(a[0])});B=I;v=e(A,h)}a=0;for(k=B.length;k>a;a++){var F=0;if(p=B[a],v&&"\n"==
p[0]&&(p=p.substr(1),F=1),m=c(p,h),D=d(m),q+J+D>b||F){if(D>b){q=g(p,m,b-(q+J),b);y.push(q.shift());for(y=[q.pop()];q.length;)C.push([q.shift()]);D=d(m.slice(p.length-y[0].length))}else y=[p];C.push(y);q=D+v}else y.push(p),q+=J+D;J=E}return C.map(v?function(a,b){return(b?A:"")+a.join(" ")}:function(a){return a.join(" ")})};a.splitTextToSize=function(a,b,c){c||(c={});var d=c.fontSize||this.internal.getFontSize(),f;f={0:1};var e={};if(c.widths&&c.kerning)f={widths:c.widths,kerning:c.kerning};else{var g=
this.internal.getFont(c.fontName,c.fontStyle);f=g.metadata.Unicode?{widths:g.metadata.Unicode.widths||f,kerning:g.metadata.Unicode.kerning||e}:{widths:f,kerning:e}}a=Array.isArray(a)?a:a.split(/\r?\n/);b=1*this.internal.scaleFactor*b/d;f.textIndent=c.textIndent?1*c.textIndent*this.internal.scaleFactor/d:0;f.lineIndent=c.lineIndent;e=[];c=0;for(d=a.length;d>c;c++)e=e.concat(h(a[c],b,f));return e}})(d.API);(function(a){var c=function(a){for(var b={},c=0;16>c;c++)b["klmnopqrstuvwxyz"[c]]="0123456789abcdef"[c];
for(var d,f,e,g,h={},m=1,k=h,r=[],w="",D="",B=a.length-1,c=1;c!=B;)g=a[c],c+=1,"'"==g?d?(e=d.join(""),d=void 0):d=[]:d?d.push(g):"{"==g?(r.push([k,e]),k={},e=void 0):"}"==g?(f=r.pop(),f[0][f[1]]=k,e=void 0,k=f[0]):"-"==g?m=-1:void 0===e?b.hasOwnProperty(g)?(w+=b[g],e=parseInt(w,16)*m,m=1,w=""):w+=g:b.hasOwnProperty(g)?(D+=b[g],k[e]=parseInt(D,16)*m,m=1,e=void 0,D=""):D+=g;return h},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},
e={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
a.events.push(["addFonts",function(a){var b,c,d,f,h;for(c in a.fonts)a.fonts.hasOwnProperty(c)&&(b=a.fonts[c],d=g.Unicode[b.PostScriptName],d&&(f=b.metadata.Unicode?b.metadata.Unicode:b.metadata.Unicode={},f.widths=d.widths,f.kerning=d.kerning),h=e.Unicode[b.PostScriptName],h&&(f=b.metadata.Unicode?b.metadata.Unicode:b.metadata.Unicode={},f.encoding=h,h.codePages&&h.codePages.length&&(b.encoding=h.codePages[0])))}])})(d.API);(function(a){a.putTotalPages=function(a){a=new RegExp(a,"g");for(var b=1;b<=
this.internal.getNumberOfPages();b++)for(var d=0;d<this.internal.pages[b].length;d++)this.internal.pages[b][d]=this.internal.pages[b][d].replace(a,this.internal.getNumberOfPages());return this}})(d.API);(function(a){if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return new Blob,void 0}catch(c){}var d=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=
a;this.size=a.length;this.type=b;this.encoding=c},f=c.prototype,e=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},m="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),k=m.length,v=a.URL||a.webkitURL||a,z=v.createObjectURL,C=v.revokeObjectURL,J=v,D=a.btoa,B=a.atob,E=a.ArrayBuffer,A=a.Uint8Array,I=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=e.fake=!0;k--;)h.prototype[m[k]]=k+1;return v.createObjectURL||
(J=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(I),c.origin=b&&b[1])),c}),J.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):D?b+";base64,"+D(a.data):b+","+encodeURIComponent(a.data)):z?z.call(v,a):void 0},
J.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&C&&C.call(v,a)},f.append=function(a){var c=this.data;if(A&&(a instanceof E||a instanceof A)){var f="";a=new A(a);for(var e=0,l=a.length;l>e;e++)f+=String.fromCharCode(a[e]);c.push(f)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");f=new g;c.push(f.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&B?c.push(B(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):
("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},f.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},f.toString=function(){return"[object BlobBuilder]"},e.slice=function(a,b,c){var f=arguments.length;return 3>f&&(c=null),new d(this.data.slice(a,1<f?b:this.data.length),c,this.encoding)},e.toString=function(){return"[object Blob]"},e.close=function(){this.size=0;delete this.data},c}(a);a.Blob=function(a,b){var c=b?b.type||"":"",e=new d;if(a)for(var g=
0,h=a.length;h>g;g++)e.append(a[g]);return e.getBlob(c)}})("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var a=a||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var c=a.document,d=c.createElementNS("http://www.w3.org/1999/xhtml","a"),e=!a.externalHost&&"download"in d,g=function(d){var f=c.createEvent("MouseEvents");
f.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null);d.dispatchEvent(f)},h=a.webkitRequestFileSystem,m=a.requestFileSystem||h||a.mozRequestFileSystem,k=function(c){(a.setImmediate||a.setTimeout)(function(){throw c;},0)},l=0,p=function(c){var d=function(){"string"==typeof c?(a.URL||a.webkitURL||a).revokeObjectURL(c):c.remove()};a.chrome?d():setTimeout(d,10)},t=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var f=a["on"+b[d]];if("function"==typeof f)try{f.call(a,c||a)}catch(e){k(e)}}},
x=function(c,k){var q,s,x,B=this,E=c.type,A=!1,I=function(){t(B,["writestart","progress","write","writeend"])},F=function(){((A||!q)&&(q=(a.URL||a.webkitURL||a).createObjectURL(c)),s)?s.location.href=q:void 0==a.open(q,"_blank")&&"undefined"!=typeof safari&&(a.location.href=q);B.readyState=B.DONE;I();p(q)},G=function(a){return function(){return B.readyState!==B.DONE?a.apply(this,arguments):void 0}},L={create:!0,exclusive:!1};return B.readyState=B.INIT,k||(k="download"),e?(q=(a.URL||a.webkitURL||a).createObjectURL(c),
d.href=q,d.download=k,g(d),B.readyState=B.DONE,I(),p(q),void 0):(a.chrome&&E&&"application/octet-stream"!==E&&(x=c.slice||c.webkitSlice,c=x.call(c,0,c.size,"application/octet-stream"),A=!0),h&&"download"!==k&&(k+=".download"),("application/octet-stream"===E||h)&&(s=a),m?(l+=c.size,m(a.TEMPORARY,l,G(function(a){a.root.getDirectory("saved",L,G(function(a){var b=function(){a.getFile(k,L,G(function(a){a.createWriter(G(function(b){b.onwriteend=function(b){s.location.href=a.toURL();B.readyState=B.DONE;
t(B,"writeend",b);p(a)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&F()};["writestart","progress","write","abort"].forEach(function(a){b["on"+a]=B["on"+a]});b.write(c);B.abort=function(){b.abort();B.readyState=B.DONE};B.readyState=B.WRITING}),F)}),F)};a.getFile(k,{create:!1},G(function(a){a.remove();b()}),G(function(a){a.code===a.NOT_FOUND_ERR?b():F()}))}),F)}),F),void 0):(F(),void 0))},q=x.prototype;return q.abort=function(){this.readyState=this.DONE;t(this,"abort")},q.readyState=q.INIT=
0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,function(a,b){return new x(a,b)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module&&(module.exports=a);void function(a,c){"object"==typeof module?module.exports=c():a.adler32cs=c()}(d,function(){var a="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,c=null,d=function(){if(!a)return function(){return!1};try{var d=
require("buffer");"function"==typeof d.Buffer&&(c=d.Buffer)}catch(f){}return function(a){return a instanceof ArrayBuffer||null!==c&&a instanceof c}}(),e=function(){return null!==c?function(a){return(new c(a,"utf8")).toString("binary")}:function(a){return unescape(encodeURIComponent(a))}}(),g=function(a,b){for(var c=65535&a,d=a>>>16,f=0,e=b.length;e>f;f++)c=(c+(255&b.charCodeAt(f)))%65521,d=(d+c)%65521;return(d<<16|c)>>>0},h=function(a,b){for(var c=65535&a,d=a>>>16,f=0,e=b.length;e>f;f++)c=(c+b[f])%
65521,d=(d+c)%65521;return(d<<16|c)>>>0},k={},m=k.Adler32=function(){var c=function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(a=null==a?1:+a))throw Error("First arguments needs to be a finite number.");this.checksum=a>>>0},p=c.prototype={};return p.constructor=c,c.from=function(a){return a.prototype=p,a}(function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw Error("First argument needs to be a string.");
this.checksum=g(1,a.toString())}),c.fromUtf8=function(a){return a.prototype=p,a}(function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw Error("First argument needs to be a string.");a=e(a.toString());this.checksum=g(1,a)}),a&&(c.fromBuffer=function(a){return a.prototype=p,a}(function(a){if(!(this instanceof c))throw new TypeError("Constructor cannot called be as a function.");if(!d(a))throw Error("First argument needs to be ArrayBuffer.");
a=new Uint8Array(a);return this.checksum=h(1,a)})),p.update=function(a){if(null==a)throw Error("First argument needs to be a string.");return a=a.toString(),this.checksum=g(this.checksum,a)},p.updateUtf8=function(a){if(null==a)throw Error("First argument needs to be a string.");a=e(a.toString());return this.checksum=g(this.checksum,a)},a&&(p.updateBuffer=function(a){if(!d(a))throw Error("First argument needs to be ArrayBuffer.");a=new Uint8Array(a);return this.checksum=h(this.checksum,a)}),p.clone=
function(){return new m(this.checksum)},c}();return k.from=function(a){if(null==a)throw Error("First argument needs to be a string.");return g(1,a.toString())},k.fromUtf8=function(a){if(null==a)throw Error("First argument needs to be a string.");a=e(a.toString());return g(1,a)},a&&(k.fromBuffer=function(a){if(!d(a))throw Error("First argument need to be ArrayBuffer.");a=new Uint8Array(a);return h(1,a)}),k});var h=function(){function a(){var b=this;b.build_tree=function(a){var c,d,f,e=b.dyn_tree;d=
b.stat_desc.static_tree;var g=b.stat_desc.elems,h=-1;a.heap_len=0;a.heap_max=x;for(c=0;g>c;c++)0!==e[2*c]?(a.heap[++a.heap_len]=h=c,a.depth[c]=0):e[2*c+1]=0;for(;2>a.heap_len;)f=a.heap[++a.heap_len]=2>h?++h:0,e[2*f]=1,a.depth[f]=0,a.opt_len--,d&&(a.static_len-=d[2*f+1]);b.max_code=h;for(c=Math.floor(a.heap_len/2);1<=c;c--)a.pqdownheap(e,c);f=g;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],a.pqdownheap(e,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,e[2*f]=e[2*c]+e[2*d],a.depth[f]=Math.max(a.depth[c],
a.depth[d])+1,e[2*c+1]=e[2*d+1]=f,a.heap[1]=f++,a.pqdownheap(e,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];var l,p,g=b.dyn_tree,h=b.stat_desc.static_tree,m=b.stat_desc.extra_bits,q=b.stat_desc.extra_base,s=b.stat_desc.max_length,t=0;for(d=0;k>=d;d++)a.bl_count[d]=0;g[2*a.heap[a.heap_max]+1]=0;for(c=a.heap_max+1;x>c;c++)f=a.heap[c],d=g[2*g[2*f+1]+1]+1,d>s&&(d=s,t++),g[2*f+1]=d,f>b.max_code||(a.bl_count[d]++,l=0,f>=q&&(l=m[f-q]),p=g[2*f],a.opt_len+=p*(d+l),h&&(a.static_len+=p*(h[2*f+1]+l)));
if(0!==t){do{for(d=s-1;0===a.bl_count[d];)d--;a.bl_count[d]--;a.bl_count[d+1]+=2;a.bl_count[s]--;t-=2}while(0<t);for(d=s;0!==d;d--)for(f=a.bl_count[d];0!==f;)l=a.heap[--c],l>b.max_code||(g[2*l+1]!=d&&(a.opt_len+=(d-g[2*l+1])*g[2*l],g[2*l+1]=d),f--)}l=b.max_code;p=a.bl_count;a=[];f=0;for(c=1;k>=c;c++)a[c]=f=f+p[c-1]<<1;for(p=0;l>=p;p++)if(g=e[2*p+1],0!==g){c=e;f=2*p;d=a[g]++;h=0;do h|=1&d,d>>>=1,h<<=1;while(0<--g);c[f]=h>>>1}}}function c(a,b,c,d,f){this.static_tree=a;this.extra_bits=b;this.extra_base=
c;this.elems=d;this.max_length=f}function d(a,b,c,f,e){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=f;this.func=e}function e(a,b,c,d){var f=a[2*b];a=a[2*c];return a>f||f==a&&d[b]<=d[c]}function g(){function d(){var a;for(a=0;t>a;a++)Ba[2*a]=0;for(a=0;m>a;a++)Ia[2*a]=0;for(a=0;l>a;a++)ra[2*a]=0;Ba[2*q]=1;ya=bb=ca.opt_len=ca.static_len=0}function f(a,b){var c,d,e=-1,g=a[1],h=0,l=7,p=4;0===g&&(l=138,p=3);a[2*(b+1)+1]=65535;for(c=0;b>=c;c++)d=g,g=a[2*(c+1)+1],++h<l&&d==g||(p>h?
ra[2*d]+=h:0!==d?(d!=e&&ra[2*d]++,ra[2*v]++):10>=h?ra[2*z]++:ra[2*C]++,h=0,e=d,0===g?(l=138,p=3):d==g?(l=6,p=3):(l=7,p=4))}function h(a){ca.pending_buf[ca.pending++]=a}function k(a){h(255&a);h(a>>>8&255)}function r(a,b){pa>J-b?(ta|=a<<pa&65535,k(ta),ta=a>>>J-pa,pa+=b-J):(ta|=a<<pa&65535,pa+=b)}function x(a,b){var c=2*a;r(65535&b[c],65535&b[c+1])}function u(a,b){var c,d,f=-1,e=a[1],g=0,h=7,l=4;0===e&&(h=138,l=3);for(c=0;b>=c;c++)if(d=e,e=a[2*(c+1)+1],!(++g<h&&d==e)){if(l>g){do x(d,ra);while(0!==--g)
}else 0!==d?(d!=f&&(x(d,ra),g--),x(v,ra),r(g-3,2)):10>=g?(x(z,ra),r(g-3,3)):(x(C,ra),r(g-11,7));g=0;f=d;0===e?(h=138,l=3):d==e?(h=6,l=3):(h=7,l=4)}}function y(){16==pa?(k(ta),ta=0,pa=0):8<=pa&&(h(255&ta),ta>>>=8,pa-=8)}function R(c,d){var f,e,g;if(ca.pending_buf[Qa+2*ya]=c>>>8&255,ca.pending_buf[Qa+2*ya+1]=255&c,ca.pending_buf[cb+ya]=255&d,ya++,0===c?Ba[2*d]++:(bb++,c--,Ba[2*(a._length_code[d]+p+1)]++,Ia[2*a.d_code(c)]++),0===(8191&ya)&&2<sa){f=8*ya;e=Z-za;for(g=0;m>g;g++)f+=Ia[2*g]*(5+a.extra_dbits[g]);
if(f>>>=3,bb<Math.floor(ya/2)&&f<Math.floor(e/2))return!0}return ya==Ma-1}function jb(c,d){var f,e,g,h,l=0;if(0!==ya){do f=ca.pending_buf[Qa+2*l]<<8&65280|255&ca.pending_buf[Qa+2*l+1],e=255&ca.pending_buf[cb+l],l++,0===f?x(e,c):(g=a._length_code[e],x(g+p+1,c),h=a.extra_lbits[g],0!==h&&(e-=a.base_length[g],r(e,h)),f--,g=a.d_code(f),x(g,d),h=a.extra_dbits[g],0!==h&&(f-=a.base_dist[g],r(f,h)));while(ya>l)}x(q,c);Ra=c[2*q+1]}function kb(){8<pa?k(ta):0<pa&&h(255&ta);pa=ta=0}function lb(a,b,c){kb();Ra=
8;c&&(k(b),k(~b));ca.pending_buf.set(aa.subarray(a,a+b),ca.pending);ca.pending+=b}function Ha(e){var g=0<=za?za:-1,h=Z-za,p,k,m=0;if(0<sa){Sa.build_tree(ca);Ta.build_tree(ca);f(Ba,Sa.max_code);f(Ia,Ta.max_code);db.build_tree(ca);for(m=l-1;3<=m&&0===ra[2*a.bl_order[m]+1];m--);m=(ca.opt_len+=3*(m+1)+14,m);p=ca.opt_len+3+7>>>3;k=ca.static_len+3+7>>>3;p>=k&&(p=k)}else p=k=h+5;if(p>=h+4&&-1!=g)r((Fa<<1)+(e?1:0),3),lb(g,h,!0);else if(k==p)r((Ea<<1)+(e?1:0),3),jb(c.static_ltree,c.static_dtree);else{r((Ga<<
1)+(e?1:0),3);g=Sa.max_code+1;h=Ta.max_code+1;m+=1;r(g-257,5);r(h-1,5);r(m-4,4);for(p=0;m>p;p++)r(ra[2*a.bl_order[p]+1],3);u(Ba,g-1);u(Ia,h-1);jb(Ba,Ia)}d();e&&kb();za=Z;ka.flush_pending()}function Za(){var a,b,c,d;do{if(d=nb-ea-Z,0===d&&0===Z&&0===ea)d=ia;else if(-1==d)d--;else if(Z>=ia+ia-oa){aa.set(aa.subarray(ia,ia+ia),0);Na-=ia;Z-=ia;za-=ia;c=a=Oa;do b=65535&na[--c],na[c]=b>=ia?b-ia:0;while(0!==--a);c=a=ia;do b=65535&Aa[--c],Aa[c]=b>=ia?b-ia:0;while(0!==--a);d+=ia}if(0===ka.avail_in)break;a=
ka.read_buf(aa,Z+ea,d);ea+=a;ea>=da&&(fa=255&aa[Z],fa=(fa<<Ca^255&aa[Z+1])&Da)}while(oa>ea&&0!==ka.avail_in)}function mb(a){var b,c,d=eb,f=Z,e=xa,g=Z>ia-oa?Z-(ia-oa):0,h=fb,l=Ja,p=Z+Ka,k=aa[f+e-1],m=aa[f+e];xa>=gb&&(d>>=2);h>ea&&(h=ea);do if(b=a,aa[b+e]==m&&aa[b+e-1]==k&&aa[b]==aa[f]&&aa[++b]==aa[f+1]){f+=2;for(b++;aa[++f]==aa[++b]&&aa[++f]==aa[++b]&&aa[++f]==aa[++b]&&aa[++f]==aa[++b]&&aa[++f]==aa[++b]&&aa[++f]==aa[++b]&&aa[++f]==aa[++b]&&aa[++f]==aa[++b]&&p>f;);if(c=Ka-(p-f),f=p-Ka,c>e){if(Na=a,
e=c,c>=h)break;k=aa[f+e-1];m=aa[f+e]}}while((a=65535&Aa[a&l])>g&&0!==--d);return ea>=e?e:ea}function pb(a){for(var b,c,d=0;;){if(oa>ea){if(Za(),oa>ea&&a==I)return $;if(0===ea)break}if(ea>=da&&(fa=(fa<<Ca^255&aa[Z+(da-1)])&Da,d=65535&na[fa],Aa[Z&Ja]=na[fa],na[fa]=Z),xa=qa,ob=Na,qa=da-1,0!==d&&Ya>xa&&ia-oa>=(Z-d&65535)&&(Ua!=E&&(qa=mb(d)),5>=qa&&(Ua==B||qa==da&&4096<Z-Na)&&(qa=da-1)),xa>=da&&xa>=qa){c=Z+ea-da;b=R(Z-1-ob,xa-da);ea-=xa-1;xa-=2;do++Z<=c&&(fa=(fa<<Ca^255&aa[Z+(da-1)])&Da,d=65535&na[fa],
Aa[Z&Ja]=na[fa],na[fa]=Z);while(0!==--xa);if(Pa=0,qa=da-1,Z++,b&&(Ha(!1),0===ka.avail_out))return $}else if(0!==Pa){if(b=R(0,255&aa[Z-1]),b&&Ha(!1),Z++,ea--,0===ka.avail_out)return $}else Pa=1,Z++,ea--}return 0!==Pa&&(R(0,255&aa[Z-1]),Pa=0),Ha(a==L),0===ka.avail_out?a==L?ga:$:a==L?ma:ha}var ka,wa,$a,La,ia,ab,Ja,aa,nb,Aa,na,fa,Oa,hb,Da,Ca,za,qa,ob,Pa,Z,Na,ea,xa,eb,Ya,sa,Ua,gb,fb,Ba,Ia,ra,ca=this,Sa=new a,Ta=new a,db=new a;ca.depth=[];var cb,Ma,ya,Qa,bb,Ra,ta,pa;ca.bl_count=[];ca.heap=[];Ba=[];Ia=[];
ra=[];ca.pqdownheap=function(a,b){for(var c=ca.heap,d=c[b],f=b<<1;f<=ca.heap_len&&(f<ca.heap_len&&e(a,c[f+1],c[f],ca.depth)&&f++,!e(a,d,c[f],ca.depth));)c[b]=c[f],b=f,f<<=1;c[b]=d};ca.deflateInit=function(a,b,f,e,g,h){e||(e=va);g||(g=W);h||(h=A);a.msg=null;b==D&&(b=6);if(1>g||g>X||e!=va||9>f||15<f||0>b||9<b||0>h||h>E)a=Q;else{a.dstate=ca;ab=f;ia=1<<ab;Ja=ia-1;hb=g+7;Oa=1<<hb;Da=Oa-1;Ca=Math.floor((hb+da-1)/da);aa=new Uint8Array(2*ia);Aa=[];na=[];Ma=1<<g+6;ca.pending_buf=new Uint8Array(4*Ma);$a=4*
Ma;Qa=Math.floor(Ma/2);cb=3*Ma;sa=b;Ua=h;a.total_in=a.total_out=0;a.msg=null;ca.pending=0;ca.pending_out=0;wa=ja;La=I;Sa.dyn_tree=Ba;Sa.stat_desc=c.static_l_desc;Ta.dyn_tree=Ia;Ta.stat_desc=c.static_d_desc;db.dyn_tree=ra;db.stat_desc=c.static_bl_desc;pa=ta=0;Ra=8;d();nb=2*ia;for(a=na[Oa-1]=0;Oa-1>a;a++)na[a]=0;Ya=Y[sa].max_lazy;gb=Y[sa].good_length;fb=Y[sa].nice_length;eb=Y[sa].max_chain;ea=za=Z=0;qa=xa=da-1;fa=Pa=0;a=K}return a};ca.deflateEnd=function(){return wa!=la&&wa!=ja&&wa!=ua?Q:(ca.pending_buf=
null,na=null,Aa=null,aa=null,ca.dstate=null,wa==ja?T:K)};ca.deflateParams=function(a,b,c){var d=K;return b==D&&(b=6),0>b||9<b||0>c||c>E?Q:(Y[sa].func!=Y[b].func&&0!==a.total_in&&(d=a.deflate(F)),sa!=b&&(sa=b,Ya=Y[sa].max_lazy,gb=Y[sa].good_length,fb=Y[sa].nice_length,eb=Y[sa].max_chain),Ua=c,d)};ca.deflateSetDictionary=function(a,b,c){a=c;var d=0;if(!b||wa!=la)return Q;if(da>a)return K;a>ia-oa&&(a=ia-oa,d=c-a);aa.set(b.subarray(d,d+a),0);za=Z=a;fa=255&aa[0];fa=(fa<<Ca^255&aa[1])&Da;for(b=0;a-da>=
b;b++)fa=(fa<<Ca^255&aa[b+(da-1)])&Da,Aa[b&Ja]=na[fa],na[fa]=b;return K};ca.deflate=function(a,b){var d,f,e,g;if(b>L||0>b)return Q;if(!a.next_out||!a.next_in&&0!==a.avail_in||wa==ua&&b!=L)return a.msg=S[H-Q],Q;if(0===a.avail_out)return a.msg=S[H-P],P;ka=a;g=La;La=b;wa==la&&(f=va+(ab-8<<4)<<8,e=(sa-1&255)>>1,3<e&&(e=3),f|=e<<6,0!==Z&&(f|=ba),wa=ja,f+=31-f%31,h(f>>8&255),h(f&255));if(0!==ca.pending){if(ka.flush_pending(),0===ka.avail_out)return La=-1,K}else if(0===ka.avail_in&&g>=b&&b!=L)return ka.msg=
S[H-P],P;if(wa==ua&&0!==ka.avail_in)return a.msg=S[H-P],P;if(0!==ka.avail_in||0!==ea||b!=I&&wa!=ua){switch(g=-1,Y[sa].func){case U:a:{g=65535;for(g>$a-5&&(g=$a-5);;){if(1>=ea){if(Za(),0===ea&&b==I){g=$;break a}if(0===ea)break}if((Z+=ea,ea=0,d=za+g,(0===Z||Z>=d)&&(ea=Z-d,Z=d,Ha(!1),0===ka.avail_out))||Z-za>=ia-oa&&(Ha(!1),0===ka.avail_out)){g=$;break a}}g=(Ha(b==L),0===ka.avail_out?b==L?ga:$:b==L?ma:ha)}break;case V:a:{for(g=0;;){if(oa>ea){if(Za(),oa>ea&&b==I){g=$;break a}if(0===ea)break}if(ea>=da&&
(fa=(fa<<Ca^255&aa[Z+(da-1)])&Da,g=65535&na[fa],Aa[Z&Ja]=na[fa],na[fa]=Z),0!==g&&ia-oa>=(Z-g&65535)&&Ua!=E&&(qa=mb(g)),qa>=da)if(d=R(Z-Na,qa-da),ea-=qa,Ya>=qa&&ea>=da){qa--;do Z++,fa=(fa<<Ca^255&aa[Z+(da-1)])&Da,g=65535&na[fa],Aa[Z&Ja]=na[fa],na[fa]=Z;while(0!==--qa);Z++}else Z+=qa,qa=0,fa=255&aa[Z],fa=(fa<<Ca^255&aa[Z+1])&Da;else d=R(0,255&aa[Z]),ea--,Z++;if(d&&(Ha(!1),0===ka.avail_out)){g=$;break a}}g=(Ha(b==L),0===ka.avail_out?b==L?ga:$:b==L?ma:ha)}break;case O:g=pb(b)}if((g==ga||g==ma)&&(wa=ua),
g==$||g==ga)return 0===ka.avail_out&&(La=-1),K;if(g==ha){if(b==F)r(Ea<<1,3),x(q,c.static_ltree),y(),9>1+Ra+10-pa&&(r(Ea<<1,3),x(q,c.static_ltree),y()),Ra=7;else if(r((Fa<<1)+0,3),lb(0,0,!0),b==G)for(d=0;Oa>d;d++)na[d]=0;if(ka.flush_pending(),0===ka.avail_out)return La=-1,K}}return b!=L?K:N}}function h(){this.total_out=this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var k=15,m=30,l=19,p=256,t=p+1+29,x=2*t+1,q=256,v=16,z=17,C=18,J=16,D=-1,B=1,E=2,A=0,I=0,F=1,G=3,
L=4,K=0,N=1,H=2,Q=-2,T=-3,P=-5,R=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,
26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,
29,29,29,29,29,29,29,29,29,29];a._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,
24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];a.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];a.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,
8192,12288,16384,24576];a.d_code=function(a){return 256>a?R[a]:R[256+(a>>>7)]};a.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];a.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];a.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];a.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];c.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,
18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,
69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,
9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];c.static_dtree=[0,
5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];c.static_l_desc=new c(c.static_ltree,a.extra_lbits,p+1,t,k);c.static_d_desc=new c(c.static_dtree,a.extra_dbits,0,m,k);c.static_bl_desc=new c(null,a.extra_blbits,0,l,7);var X=9,W=8,U=0,V=1,O=2,Y=[new d(0,0,0,0,U),new d(4,4,8,4,V),new d(4,5,16,8,V),new d(4,6,32,32,V),new d(4,4,16,16,O),new d(8,16,32,32,O),new d(8,16,128,128,O),new d(8,32,128,256,O),new d(32,128,
258,1024,O),new d(32,258,258,4096,O)],S="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";"),$=0,ha=1,ga=2,ma=3,ba=32,la=42,ja=113,ua=666,va=8,Fa=0,Ea=1,Ga=2,da=3,Ka=258,oa=Ka+da+1;return h.prototype={deflateInit:function(a,b){return this.dstate=new g,b||(b=k),this.dstate.deflateInit(this,a,b)},deflate:function(a){return this.dstate?this.dstate.deflate(this,a):Q},deflateEnd:function(){if(!this.dstate)return Q;var a=this.dstate.deflateEnd();return this.dstate=null,a},deflateParams:function(a,
b){return this.dstate?this.dstate.deflateParams(this,a,b):Q},deflateSetDictionary:function(a,b){return this.dstate?this.dstate.deflateSetDictionary(this,a,b):Q},read_buf:function(a,b,c){var d=this.avail_in;return d>c&&(d=c),0===d?0:(this.avail_in-=d,a.set(this.next_in.subarray(this.next_in_index,this.next_in_index+d),b),this.next_in_index+=d,this.total_in+=d,d)},flush_pending:function(){var a=this.dstate.pending;a>this.avail_out&&(a=this.avail_out);0!==a&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,
this.dstate.pending_out+a),this.next_out_index),this.next_out_index+=a,this.dstate.pending_out+=a,this.total_out+=a,this.avail_out-=a,this.dstate.pending-=a,0===this.dstate.pending&&(this.dstate.pending_out=0))}},function(a){var b=new h,c=I,d=new Uint8Array(512);"undefined"==typeof a&&(a=D);b.deflateInit(a);b.next_out=d;this.append=function(a,f){var e,g,h=[],l=0,p=0,k=0;if(a.length){b.next_in_index=0;b.next_in=a;b.avail_in=a.length;do{if(b.next_out_index=0,b.avail_out=512,e=b.deflate(c),e!=K)throw"deflating: "+
b.msg;b.next_out_index&&(512==b.next_out_index?h.push(new Uint8Array(d)):h.push(new Uint8Array(d.subarray(0,b.next_out_index))));k+=b.next_out_index;f&&0<b.next_in_index&&b.next_in_index!=l&&(f(b.next_in_index),l=b.next_in_index)}while(0<b.avail_in||0===b.avail_out);return g=new Uint8Array(k),h.forEach(function(a){g.set(a,p);p+=a.length}),g}};this.flush=function(){var a,c,f=[],e=0,g=0;do{if(b.next_out_index=0,b.avail_out=512,a=b.deflate(L),a!=N&&a!=K)throw"deflating: "+b.msg;0<512-b.avail_out&&f.push(new Uint8Array(d.subarray(0,
b.next_out_index)));g+=b.next_out_index}while(0<b.avail_in||0===b.avail_out);return b.deflateEnd(),c=new Uint8Array(g),f.forEach(function(a){c.set(a,e);e+=a.length}),c}}}(this);!function(a){var c;c=function(){function c(a){var b,d,f,e,g,h;this.data=a;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(e=null;;){b=this.readUInt32();h=a=void 0;h=[];for(a=0;4>a;++a)h.push(String.fromCharCode(this.data[this.pos++]));switch(a=h.join("")){case "IHDR":this.width=
this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case "PLTE":this.palette=this.read(b);break;case "fcTL":e&&this.animation.frames.push(e);this.pos+=4;e={width:this.readUInt32(),height:this.readUInt32(),
xOffset:this.readUInt32(),yOffset:this.readUInt32()};a=this.readUInt16();b=this.readUInt16()||100;e.delay=1E3*a/b;e.disposeOp=this.data[this.pos++];e.blendOp=this.data[this.pos++];e.data=[];break;case "IDAT":case "fdAT":"fdAT"===a&&(this.pos+=4,b-=4);a=(null!=e?e.data:void 0)||this.imgData;for(h=0;0<=b?b>h:h>b;0<=b?++h:--h)a.push(this.data[this.pos++]);break;case "tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(b),this.transparency.indexed.length>
f)throw Error("More transparent colors than palette size");if(g=f-this.transparency.indexed.length,0<g)for(b=0;0<=g?g>b:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(b)[0];break;case 2:this.transparency.rgb=this.read(b)}break;case "tEXt":h=this.read(b);b=h.indexOf(0);a=String.fromCharCode.apply(String,h.slice(0,b));this.text[a]=String.fromCharCode.apply(String,h.slice(b+1));break;case "IEND":e&&this.animation.frames.push(e);a:{switch(this.colorType){case 0:case 3:case 4:f=
1;break a;case 2:case 6:f=3;break a}f=void 0}this.colors=f;this.hasAlphaChannel=4===(d=this.colorType)||6===d;d=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*d;a:{switch(this.colors){case 1:d="DeviceGray";break a;case 3:d="DeviceRGB";break a}d=void 0}return this.colorSpace=d,this.imgData=new Uint8Array(this.imgData),void 0;default:this.pos+=b}if(this.pos+=4,this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}var d,e,g;c.load=function(a,b,d){var e;return"function"==
typeof b&&(d=b),e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){var a,g;return a=new Uint8Array(e.response||e.mozResponseArrayBuffer),g=new c(a),"function"==typeof(null!=b?b.getContext:void 0)&&g.render(b),"function"==typeof d?d(g):void 0},e.send(null)};c.prototype.read=function(a){var b,c;c=[];for(b=0;0<=a?a>b:b>a;0<=a?++b:--b)c.push(this.data[this.pos++]);return c};c.prototype.readUInt32=function(){var a,b,c,d;return a=this.data[this.pos++]<<24,b=this.data[this.pos++]<<
16,c=this.data[this.pos++]<<8,d=this.data[this.pos++],a|b|c|d};c.prototype.readUInt16=function(){var a,b;return a=this.data[this.pos++]<<8,b=this.data[this.pos++],a|b};c.prototype.decodePixels=function(a){var b,c,d,f,e,g,h,k,r,u,w,y,A,I,F;if(null==a&&(a=this.imgData),0===a.length)return new Uint8Array(0);a=new m(a);a=a.getBytes();k=this.pixelBitlength/8;y=k*this.width;r=new Uint8Array(y*this.height);g=a.length;for(c=u=w=0;g>u;){switch(a[u++]){case 0:for(b=0;y>b;b+=1)r[c++]=a[u++];break;case 1:for(f=
F=0;y>F;f=F+=1)b=a[u++],e=k>f?0:r[c-k],r[c++]=(b+e)%256;break;case 2:for(f=e=0;y>e;f=e+=1)b=a[u++],d=(f-f%k)/k,A=w&&r[(w-1)*y+d*k+f%k],r[c++]=(A+b)%256;break;case 3:for(f=F=0;y>F;f=F+=1)b=a[u++],d=(f-f%k)/k,e=k>f?0:r[c-k],A=w&&r[(w-1)*y+d*k+f%k],r[c++]=(b+Math.floor((e+A)/2))%256;break;case 4:for(f=F=0;y>F;f=F+=1)b=a[u++],d=(f-f%k)/k,e=k>f?0:r[c-k],0===w?A=I=0:(A=r[(w-1)*y+d*k+f%k],I=d&&r[(w-1)*y+(d-1)*k+f%k]),h=e+A-I,f=Math.abs(h-e),d=Math.abs(h-A),h=Math.abs(h-I),e=d>=f&&h>=f?e:h>=d?A:I,r[c++]=
(b+e)%256;break;default:throw Error("Invalid filter algorithm: "+a[u-1]);}w++}return r};c.prototype.decodePalette=function(){var a,b,c,d,f,e,g,h,k;c=this.palette;e=this.transparency.indexed||[];f=new Uint8Array((e.length||0)+c.length);b=g=a=d=0;for(h=c.length;h>g;b=g+=3)f[d++]=c[b],f[d++]=c[b+1],f[d++]=c[b+2],f[d++]=null!=(k=e[a++])?k:255;return f};c.prototype.copyToImageData=function(a,b){var c,d,f,e,g,h,k,m,r;if(d=this.colors,m=null,c=this.hasAlphaChannel,this.palette.length&&(m=null!=(r=this._decodedPalette)?
r:this._decodedPalette=this.decodePalette(),d=4,c=!0),f=a.data||a,k=f.length,g=m||b,e=h=0,1===d)for(;k>e;)d=m?4*b[e/4]:h,h=g[d++],f[e++]=h,f[e++]=h,f[e++]=h,f[e++]=c?g[d++]:255,h=d;else for(;k>e;)d=m?4*b[e/4]:h,f[e++]=g[d++],f[e++]=g[d++],f[e++]=g[d++],f[e++]=c?g[d++]:255,h=d};c.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};try{e=a.document.createElement("canvas"),g=e.getContext("2d")}catch(h){return-1}return d=function(a){var b;
return g.width=a.width,g.height=a.height,g.clearRect(0,0,a.width,a.height),g.putImageData(a,0,0),b=new Image,b.src=e.toDataURL(),b},c.prototype.decodeFrames=function(a){var b,c,f,e,g,h,k;if(this.animation){h=this.animation.frames;k=[];b=e=0;for(g=h.length;g>e;b=++e)b=h[b],c=a.createImageData(b.width,b.height),f=this.decodePixels(new Uint8Array(b.data)),this.copyToImageData(c,f),b.imageData=c,k.push(b.image=d(c));return k}},c.prototype.renderFrame=function(a,b){var c,d,f;return d=this.animation.frames,
c=d[b],f=d[b-1],0===b&&a.clearRect(0,0,this.width,this.height),1===(null!=f?f.disposeOp:void 0)?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):2===(null!=f?f.disposeOp:void 0)&&a.putImageData(f.imageData,f.xOffset,f.yOffset),0===c.blendOp&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},c.prototype.animate=function(a){var b,c,d,f,e,g,h=this;return c=0,g=this.animation,f=g.numFrames,d=g.frames,e=g.numPlays,(b=function(){var g,k;return g=c++%f,k=d[g],h.renderFrame(a,
g),1<f&&e>c/f?h.animation._timeout=setTimeout(b,k.delay):void 0})()},c.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)},c.prototype.render=function(a){var b,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,b=a.getContext("2d"),this.animation?(this.decodeFrames(b),this.animate(b)):(c=b.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),b.putImageData(c,0,0))},c}();a.PNG=
c}("undefined"!=typeof window&&window||this);var g=function(){function a(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}return a.prototype={ensureBuffer:function(a){var b=this.buffer,d=b?b.byteLength:0;if(d>a)return b;for(var e=512;a>e;)e<<=1;a=new Uint8Array(e);for(e=0;d>e;++e)a[e]=b[e];return this.buffer=a},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var b=this.pos;if(a){this.ensureBuffer(b+
a);for(a=b+a;!this.eof&&this.bufferLength<a;)this.readBlock();var d=this.bufferLength;a>d&&(a=d)}else{for(;!this.eof;)this.readBlock();a=this.bufferLength}return this.pos=a,this.buffer.subarray(b,a)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},
makeSubStream:function(a,b,d){for(var e=a+b;this.bufferLength<=e&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,b,d)},skip:function(a){a||(a=1);this.pos+=a},reset:function(){this.pos=0}},a}(),m=function(){function a(b){throw Error(b);}function c(c){var d=0,f=c[d++],e=c[d++];-1!=f&&-1!=e||a("Invalid header in flate stream");8!=(15&f)&&a("Unknown compression method in flate stream");0!=((f<<8)+e)%31&&a("Bad FCHECK in flate stream");32&e&&a("FDICT bit set in flate stream");this.bytes=c;
this.bytesPos=d;this.codeBuf=this.codeSize=0;g.call(this)}if("undefined"!=typeof Uint32Array){var d=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),h=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,
657409,658433,724993,727041,794625,798721,868353,876545]),k=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,
524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,
524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,
524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,
524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,
524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,
524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,
524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],m=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return c.prototype=Object.create(g.prototype),c.prototype.getBits=function(c){for(var d,f=this.codeSize,e=this.codeBuf,g=this.bytes,
h=this.bytesPos;c>f;)"undefined"==typeof(d=g[h++])&&a("Bad encoding in flate stream"),e|=d<<f,f+=8;return d=e&(1<<c)-1,this.codeBuf=e>>c,this.codeSize=f-c,this.bytesPos=h,d},c.prototype.getCode=function(c){var d=c[0],f=c[1];c=this.codeSize;for(var e=this.codeBuf,g=this.bytes,h=this.bytesPos;f>c;){var k;"undefined"==typeof(k=g[h++])&&a("Bad encoding in flate stream");e|=k<<c;c+=8}f=d[e&(1<<f)-1];d=f>>16;f&=65535;return(0==c||d>c||0==d)&&a("Bad encoding in flate stream"),this.codeBuf=e>>d,this.codeSize=
c-d,this.bytesPos=h,f},c.prototype.generateHuffmanTable=function(a){for(var b=a.length,c=0,d=0;b>d;++d)a[d]>c&&(c=a[d]);for(var f=1<<c,e=new Uint32Array(f),g=1,h=0,k=2;c>=g;++g,h<<=1,k<<=1)for(var m=0;b>m;++m)if(a[m]==g){for(var r=0,u=h,d=0;g>d;++d)r=r<<1|1&u,u>>=1;for(d=r;f>d;d+=k)e[d]=g<<16|m;++h}return[e,c]},c.prototype.readBlock=function(){function c(a,b,d,f,e){for(a=a.getBits(d)+f;0<a--;)b[z++]=e}var g=this.getBits(3);if(1&g&&(this.eof=!0),g>>=1,0==g){var p,t=this.bytes,x=this.bytesPos;"undefined"==
typeof(p=t[x++])&&a("Bad block header in flate stream");var q=p;"undefined"==typeof(p=t[x++])&&a("Bad block header in flate stream");q|=p<<8;"undefined"==typeof(p=t[x++])&&a("Bad block header in flate stream");g=p;"undefined"==typeof(p=t[x++])&&a("Bad block header in flate stream");(g|p<<8)!=(65535&~q)&&a("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;p=this.bufferLength;g=this.ensureBuffer(p+q);this.bufferLength=q=p+q;for(var v=p;q>v;++v){if("undefined"==typeof(p=t[x++])){this.eof=
!0;break}g[v]=p}return this.bytesPos=x,void 0}if(1==g)x=k,p=m;else if(2==g){g=this.getBits(5)+257;p=this.getBits(5)+1;for(var t=this.getBits(4)+4,x=Array(d.length),z=0;t>z;)x[d[z++]]=this.getBits(3);x=this.generateHuffmanTable(x);z=t=0;p=g+p;for(q=Array(p);p>z;)v=this.getCode(x),16==v?c(this,q,2,3,t):17==v?c(this,q,3,3,t=0):18==v?c(this,q,7,11,t=0):q[z++]=t=v;x=this.generateHuffmanTable(q.slice(0,g));p=this.generateHuffmanTable(q.slice(g,p))}else a("Unknown block type in flate stream");q=(g=this.buffer)?
g.length:0;for(v=this.bufferLength;;){var C=this.getCode(x);if(256>C)v+1>=q&&(g=this.ensureBuffer(v+1),q=g.length),g[v++]=C;else{if(256==C)return this.bufferLength=v,void 0;var C=C-257,C=e[C],J=C>>16;0<J&&(J=this.getBits(J));t=(65535&C)+J;C=this.getCode(p);C=h[C];J=C>>16;0<J&&(J=this.getBits(J));C=(65535&C)+J;v+t>=q&&(g=this.ensureBuffer(v+t),q=g.length);for(J=0;t>J;++J,++v)g[v]=g[v-C]}}},c}}();!function(a){"undefined"==typeof a.btoa&&(a.btoa=function(a){var b,d,e,g,h=0,k=0,l="",l=[];if(!a)return a;
do b=a.charCodeAt(h++),d=a.charCodeAt(h++),e=a.charCodeAt(h++),g=b<<16|d<<8|e,b=g>>18&63,d=g>>12&63,e=g>>6&63,g&=63,l[k++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g);while(h<a.length);l=l.join("");a=a.length%3;return(a?l.slice(0,a-3):
l)+"===".slice(a||3)});"undefined"==typeof a.atob&&(a.atob=function(a){var b,d,e,g,h,k=0,l=0,m=[];if(!a)return a;a+="";do b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(k++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(k++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(k++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(k++)),e=b<<18|
d<<12|g<<6|h,b=e>>16&255,d=e>>8&255,e&=255,m[l++]=64==g?String.fromCharCode(b):64==h?String.fromCharCode(b,d):String.fromCharCode(b,d,e);while(k<a.length);return m.join("")});Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var b=Object(this),d=b.length>>>0,e=Array(d),g=1<arguments.length?arguments[1]:void 0,h=0;d>h;h++)h in b&&(e[h]=a.call(g,b[h],h,b));return e});Array.isArray||(Array.isArray=function(a){return"[object Array]"===
Object.prototype.toString.call(a)});Array.prototype.forEach||(Array.prototype.forEach=function(a,b){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var d=Object(this),e=d.length>>>0,g=0;e>g;g++)g in d&&a.call(b,d[g],g,d)});Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),d="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),e=d.length;return function(g){if("object"!=
typeof g&&("function"!=typeof g||null===g))throw new TypeError;var h,k=[];for(h in g)a.call(g,h)&&k.push(h);if(b)for(h=0;e>h;h++)a.call(g,d[h])&&k.push(d[h]);return k}}());String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||
"undefined"!=typeof window&&window||this)}({},function(){return this}());"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.PDF=function(e){var d=e.util;this.save=function(a){a=a||{};var h=a.dpi,g=a.quality,k=a.onsuccess||d.errorHandler("onsuccess");a.onerror||d.errorHandler("onerror");var b=a.onprogress,c=e.doc,f=c.pages.data,w=d.count(f)||1,r=0,y=0;0===f.length?(r=c.bounds.width,y=c.bounds.height):d.foreach(f,function(a){r=Math.max(r,a.width);y=Math.max(y,a.height)});var u=d.toMetrics["px>mm"],s=new jsPDF(r>y?"landscape":"portrait","mm",[r*u,y*u]),l=s.internal.pageSize.width,
p=s.internal.pageSize.height,t=0,x=d.Queue({instant:!1,range:{from:0,to:w-1},oncomplete:function(){b&&b(100);k(s.output("blob"))},next:function(d,k,m){0!==m&&s.addPage();var r=f[m]||c.bounds;Array.isArray(f)?(a.x=0,a.y=t):(e.doc=r,a.x=0,a.y=0);a.width=r.width;a.height=r.height;e.save.canvas(a,function(a){var c=a.ctx;c.globalCompositeOperation="destination-atop";c.fillStyle="#fff";c.fillRect(0,0,a.width,a.height);var c=a.toDataURL("image/jpeg",g),d=72/h;a=Math.max(a.width*d/l,a.height*d/p);s.addImage(c,
"JPEG",0,0,r.width/a,r.height/a);t+=r.height;b&&b(m/w*100);e.client.ios?x.next():setTimeout(x.next,1)})}})};this.open=function(a){var h=e.doc,g=e.feature,k=h.scene,b=a.point,c=a.openAsNew,f=a.onprogress,w=a.onsuccess;PDFJS.getDocument(a.file).then(function(a){var y=[],u=0,s=0,l=d.Queue({instant:!1,range:{from:1,to:a.numPages},oncomplete:function(){f&&f(100);if(c){e.exec("new");h.setSize(s,u);h.pages={};h.pages.data=[];h.pages.length=y.length;var a=0,l=d.Queue({items:y,instant:!1,oncomplete:function(){h.setTool("select");
e.exec("zoom-reset");k.selectByIdx(z,!1);w&&w()},next:function(b,c,d){b=y[d];h.pages.data[d]={src:b.src,width:b.width,height:b.height};d=0;c=a;"objectBoundingBox"===g.tools.media.units&&(d+=b.width/2,c+=b.height/2);k.add({type:"image",src:b.src,width:b.width,height:b.height,x:d,y:c},this.next);a+=b.height}})}else{var r=g.io.translateX,q=g.io.translateY,v=y.length-1;b=b||k.getCenterPoint();b.x-=v/2*r;b.y-=v/2*q;var z={},l=d.Queue({items:y,instant:!1,oncomplete:function(){h.setTool("select");k.selectByIdx(z,
!1);h.render.scene("scene.addPDF");w&&w()},next:function(a,c,d){k.add({type:"image",src:a.src,x:b.x+d*r,y:b.y+d*q},function(a){z[a.zIndex]=!0;l.next()})}})}},next:function(b){a.getPage(b).then(function(c){var e=c.getViewport(1.5),g=d.Canvas(e.width,e.height);c.render({canvasContext:g.ctx,viewport:e}).then(function(){s=Math.max(g.width,s);u+=g.height;g.toBlobURL(function(c){f&&f(Math.round(b/a.numPages*100));y.push({src:c,width:g.width,height:g.height});l.next()})})})}})})}};"undefined"!==typeof module&&
module.exports&&(module.exports=k.module.PDF)})(sketch);
var EnableContextMenu=function(k,e){function d(a){setTimeout(a,0)}function a(a){var b=0,c=0;if(a.getClientRects)return a.getClientRects()[0];do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a);return{left:b,top:c}}function h(a){return a.get?a.get(0):a}function g(a,b){if("none"!==a.style.display){if(b)throw"no need to fade";a.style.display="none";var c=a.launcher;c&&c.removeAttribute("open");E.visible--}}function m(){var a=K.pop();g(a);return a}function b(){L.style.opacity="0.0";G=setTimeout(function(){for(;K.length;)m(!1);
L.style.display="none";L.style.opacity="1.0";z()},H)}function c(a){"inline-block"!==a.style.display&&(a.style.display="inline-block",E.visible++)}function f(a){a.stopPropagation();a.preventDefault()}function w(a,b){return b.nodeName===a?b:w(a,b.parentNode||{nodeName:a})}function r(a){var b=w("CMENU",a.target);if(N){if(N===b){K.push(b);N=void 0;return}console.error("SHOULD NOT BE A PREVIEW")}a=K.length;b=K.indexOf(b);for(a-=1;a>b;a--)m()}function y(a){if("CMENU"!==a.target.nodeName||0!==a.offsetX)return a.stopPropagation(),
a.preventDefault(),!1}function u(a){T=clearTimeout(T);if(w("CMENU",a.toElement)===N)return!1;N&&(g(N),N=void 0)}function s(b){T=clearTimeout(T);T=setTimeout(function(){var d=b.srcElement,e=d._contextMenu;e.launcher=d;d.setAttribute("open",!0);N&&N!==e&&g(N);N=e;d=a(d);e.style.top=d.top-5+"px";e.style.left=d.left+d.width-1+"px";c(e)},200)}function l(a){var b=a.parentNode,c;eventjs.add(a,"mouseover",r,!1);eventjs.add(a,"mousedown",y);eventjs.add(a,"contextmenu",f);"CMENU"===b.nodeName?(c=k.createElement("menuitem"),
a.classList.add("submenu"),c.className=a.className,c.innerHTML=a.innerHTML,c._contextMenu=a,eventjs.add(c,"mouseover",s),eventjs.add(c,"mouseout",u),b.replaceChild(c,a)):b.removeChild(a);L.appendChild(a)}function p(a,b,d){d-=5;Q=new Date;K.push(a);a.style.top=d+"px";a.style.left=b+"px";c(a);L.style.display="block";P=!1;var e=b+a.offsetWidth,f=d+a.offsetHeight,g=document.body.offsetHeight,h=document.body.offsetWidth;f>g&&(a.style.top=d-(f-g)+"px");e>h&&(a.style.left=b-(e-h)+"px")}function t(b,c,d){var e;
void 0===d&&(d=b.target);e=a(d);void 0===c&&(c=q(d));p(c,e.left,e.top+e.height+8);b&&(b.preventDefault(),b.stopPropagation());P=!0;return!1}function x(a,b,c){t(a);P=!1}function q(a){if(a&&a.hasAttribute)return a._contextMenu?a._contextMenu:a.hasAttribute("contextmenu")?(a=k.getElementById(a.getAttribute("contextmenu")),a._contextMenu=a):q(a.parentNode)}function v(a){var b=q(a.srcElement),c=a.clientX,d=a.clientY;p(b,a.clientX,a.clientY);P=!0;I=c;F=d;a.preventDefault();a.stopPropagation();return!1}
function z(){R.forEach(function(a){try{a()}catch(b){setTimeout(function(){throw b;},0)}});R=[]}function C(){K=[];L=k.createElement("div");var a="osx10_7",c=0;/Mac/.test(navigator.userAgent)?a="osx10_7":/Win/.test(navigator.userAgent)&&(a="win7");k.body.classList&&(k.body.classList.add(a),L.className="_contextmenu_screen_",H=150,Q=0,k.body.appendChild(L),eventjs.add(L,"contextmenu",function(a){a.preventDefault()}),eventjs.add(L,"mousedown",function(a){b(a)}),eventjs.add(L,"mouseup",function(a){if(!c){var d=
a.target;if("MENUITEM"===d.nodeName){if(d._contextMenu)return!1;if(P){var e;document.createEvent&&(e=document.createEvent("MouseEvents"));d&&d.dispatchEvent&&e&&e.initMouseEvent&&(e.initMouseEvent("click",!0,!0,document.defaultView,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),d.dispatchEvent(e))}}300>new Date-Q?P=!1:b(a)}}),eventjs.add(L,"mousewheel",function(a){a.preventDefault();a.stopPropagation();return!1},!0),eventjs.add(L,"contextmenu",function(a){L.style.display="none";var e=
k.elementFromPoint(a.clientX,a.clientY),f=q(e),h,l,m;if(f){L.style.display="block";clearTimeout(G);a.preventDefault();if(K[0]===f&&(e=a.clientX,h=a.clientY,l=e-I,m=h-F,I=e,F=h,50>l*l+m*m)){L.style.opacity="1.0";L.style.display="block";clearTimeout(G);d(b);return}c++;setTimeout(function(){for(;K.length;){var b=K.pop();g(b)}L.style.display="none";L.style.opacity="1.0";L.style.display="block";d(function(){c--;p(f,a.clientX,a.clientY)})},H);return!1}L.style.opacity="1.0";L.style.display="block";clearTimeout(G);
d(b)}),eventjs.add(L,"mouseover",function(a){a.target===L&&(T=clearTimeout(T),N&&(g(N),N=void 0))}))}function J(){var a=k.getElementsByTagName("cmenu"),b,c,d=[];b=0;for(c=a.length;b<c;b++)d[b]=a[b];b=0;for(c=d.length;b<c;b++)l(d[b])}function D(){var a=k.querySelectorAll("[contextmenu]"),b,c,d;c=0;for(d=a.length;c<d;c++)b=a[c],b._contextMenu=k.getElementById(b.getAttribute("contextmenu")),"INPUT"===b.nodeName?(eventjs.add(b,"mouseup",x),eventjs.add(b,"contextmenu",t)):eventjs.add(b,"contextmenu",v)}
function B(a){var b=k.createElement("cmenu"),c,d,e,f;b.setAttribute("type","context");c=0;for(d=a.length;c<d;c++)if(e=a[c]){if(e.children)f=B(e.children),f.setAttribute("label",e.label);else if(e.hr)f=k.createElement("hr");else{f=k.createElement("menuitem");f.innerHTML=e.label;f.className=e.className||"";e.onclick&&eventjs.add(f,"mouseup",e.onclick);e.icon&&(f.icon=e.icon);e.checked&&f.setAttribute("checked",e.checked?"checked":"");var g,h={label:!0,icon:!0,hr:!0,onclick:!0,checked:!0};for(g in e)e.hasOwnProperty(g)&&
h[g]&&f.dataset&&(f.dataset[g]=e[g])}b.appendChild(f)}return b}function E(a){a=B(a);var b,c,d,e;k.body.appendChild(a);if(A)return a;b=a.getElementsByTagName("cmenu");c=[a];d=0;for(e=b.length;d<e;d++)c.push(b[d]);d=0;for(e=c.length;d<e;d++)l(c[d]);return a}var A=!1,I,F,G,L,K,N,H,Q,T,P=!1,R=[],X=e.contextmenu;E.visible=0;E.hide=function(a,b){a=a||E.menu;g(a,b)};E.show=function(a,b,c,d){E.menu=a;if(A)throw"Not supported!";"string"===typeof a?a=k.getElementById(a):(a=h(a),a.id=a.id||(0|1E4*Math.random()).toString(30));
"number"===typeof b?(p(a,b,c),P=d||P):(t(null,a,h(b)),P=!1);return this};E.then=function(a){A?a():R.push(a)};E.attach=function(a,b){a=h(a);b=h(b);b.id=b.id||(0|1E4*Math.random()).toString(30);a._contextMenu=b;"INPUT"===a.nodeName||"BUTTON"===a.nodeName?(eventjs.add(a,"mouseup",x),eventjs.add(a,"contextmenu",t)):eventjs.add(a,"contextmenu",v)};E.noConflict=function(){e.contextmenu=X;return E};A||(C(),J(),D());return e.contextmenu=E};
(function(k){var e=k.document,d=function(){var a=!1,d=[],g,m,b,c,f,w,r,y,u,s,l,p={labels:{ok:"OK",cancel:"Cancel"},delay:4E3,buttonReverse:!1,buttonFocus:"ok",transition:void 0,addListeners:function(a){var d="undefined"!==typeof c,h="undefined"!==typeof m,k="undefined"!==typeof b,s=l&&l.length,t=[],r=function(b){var c=function(){w();if(l&&l.length)for(var b=0;b<l.length;b++){var c=l[b];c.id?t[c.id]=c.value:t.push(c.value)}"function"===typeof a&&(l&&l.length?a(!0,t):a(!0))};g.verify?g.verify(l,function(a){a&&
c()}):c()},u=function(b){eventjs.prevent(b);w(b);"function"===typeof a&&a(-1)},x=function(b){eventjs.prevent(b);w(b);"function"===typeof a&&a(!1)},w=function(){p.hide();p.unbind(e.body,"keyup",y);p.unbind(f,"focus",G);d&&p.unbind(c,"click",r);h&&p.unbind(m,"click",x);k&&p.unbind(b,"click",u)},y=function(a){var b=a.keyCode;27===b&&h&&x(a);13===b&&c===e.activeElement&&r(a)},G=function(a){s?l[0].focus():!h||p.buttonReverse?c.focus():m.focus()};p.bind(f,"focus",G);d&&p.bind(c,"click",r);h&&p.bind(m,"click",
x);k&&p.bind(b,"click",u);p.bind(e.body,"keyup",y);p.transition.supported||p.setFocus()},bind:function(a,b,c){"object"===typeof eventjs?eventjs.add(a,b,c):"function"===typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},handleErrors:function(){return"undefined"!==typeof k.onerror?(k.onerror=function(a,b,c){p.error("["+a+" on line "+c+" of "+b+"]",0)},!0):!1},appendButtons:function(a,b){return p.buttonReverse?b+a:a+b},build:function(a,b){var c=b.type,d=b.message||
"",f=b.className||"",g=e.createElement("div");g.className="alertify-dialog";if("none"===p.buttonFocus){var h=e.createElement("button");h.id="alertify-noneFocus";h.className="alertify-hidden";g.appendChild(h)}h=e.createElement("article");h.className="alertify-inner";var l=e.createElement("p");l.className="alertify-message";"object"===typeof d?l.appendChild(d):l.innerHTML=d;h.appendChild(l);if("prompt"===c){var d=b.fields,k=e.createElement("div");k.className="alertify-text-wrapper";d.forEach(function(a){if("textarea"===
a.type){var b=e.createElement("textarea");b.innerHTML=a.value||""}else b=e.createElement("input"),b.value=a.value||"",b.type=a.type;b.id=a.id;b.title=a.title;b.className="alertify-text";var c=e.createElement("span");c.textContent=a.title;k.appendChild(c);k.appendChild(b)});l.appendChild(k)}d=e.createElement("nav");d.className="alertify-buttons";h.appendChild(d);g.appendChild(h);h=e.createElement("button");h.id="alertify-resetFocus";h.className="alertify-resetFocus";h.innerHTML="Reset Focus";g.appendChild(h);
switch(c){case "confirm":case "prompt":t(d,"cancel");t(d,"disregard");t(d,"ok");break;case "alert":t(d,"ok")}u.className="alertify alertify-"+c+" "+f;y.className="alertify-cover";a.style.maxHeight="";a.innerHTML="";a.appendChild(g);c=Math.min(d.offsetHeight+l.offsetHeight,.75*window.innerHeight);a.style.maxHeight=c+"px";eventjs.add(a,"mousedown",eventjs.stop)}},t=function(a,b){if(p.labels[b]){var c=e.createElement("button");c.className="alertify-button alertify-button-"+b;c.id="alertify-"+b;c.innerHTML=
p.labels[b];a.appendChild(c)}};p.close=function(a,b){a=a||p.lastItem;var c=isFinite(b)?b:p.delay;p.bind(a,"click",function(){e(a)});var d=function(a){a.stopPropagation();p.unbind(this,p.transition.type,d);this.parentNode&&this.parentNode.removeChild(this);s.hasChildNodes()||(s.className+=" alertify-logs-hidden")},e=function(a){"undefined"!==typeof a&&a.parentNode===s&&(p.transition.supported?(p.bind(a,p.transition.type,d),a.className+=" alertify-log-hide"):(s.removeChild(a),s.hasChildNodes()||(s.className+=
" alertify-logs-hidden")))};0!==b&&setTimeout(function(){e(a)},c)};p.dialog=function(b,c,f,g,l){var k;if("[object Object]"===String(c)){var m=c;c=m.message;f=m.callback;g=m.fields;l=m.className;k=m.verify;m.labels&&(p.labels=m.labels)}r=e.activeElement;var t=function(){s&&null!==s.scrollTop&&y&&null!==y.scrollTop||t()};if("string"!==typeof b)throw Error("type must be a string");if("undefined"!==typeof f&&"function"!==typeof f)throw Error("callback must be a function");"function"===typeof p.init&&
(p.init(),t());d.push({type:b,message:c,callback:f,verify:k,fields:x(g),className:l});return a?this:p.setup()};var x=function(a){var b=[];"string"===typeof a&&(a=[a]);if(Array.isArray(a))for(var c={string:"text",number:"number","boolean":"checkbox"},d=0;d<a.length;d++){var e=a[d],f=typeof e;"object"===f?b.push(e):(f=c[f])&&b.push({type:f,placeholder:e})}0===b.length&&b.push({type:"text",placeholder:""});return b};p.extend=function(a){if("string"!==typeof a)throw Error("extend method must have exactly one paramter");
return function(b,c){p.log(b,a,c);return this}};p.hide=function(){if(r){var b;d.splice(0,1);0<d.length?p.setup(!0):(a=!1,b=function(a){a.stopPropagation();u.className+=" alertify-isHidden";p.unbind(u,p.transition.type,b)},p.transition.supported?(p.bind(u,p.transition.type,b),u.className="alertify alertify-hide alertify-hidden"):u.className="alertify alertify-hide alertify-hidden alertify-isHidden",y.className="alertify-cover alertify-cover-hidden",r.focus())}};p.init=function(){e.createElement("nav");
e.createElement("article");e.createElement("section");y=e.createElement("div");y.setAttribute("id","alertify-cover");y.className="alertify-cover alertify-cover-hidden";e.body.appendChild(y);u=e.createElement("section");u.setAttribute("id","alertify");u.className="alertify alertify-hidden alertify-isHidden";e.body.appendChild(u);s=e.createElement("section");s.setAttribute("id","alertify-logs");s.className="alertify-logs alertify-logs-hidden";e.body.appendChild(s);e.body.setAttribute("tabindex","0");
var a,b=!1,c=e.createElement("fakeelement"),d={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},f;for(f in d)if(void 0!==c.style[f]){a=d[f];b=!0;break}p.transition={type:a,supported:b};delete p.init};p.log=function(a,b,c){var d=function(){s&&null!==s.scrollTop||d()};"function"===typeof p.init&&(p.init(),d());s.className="alertify-logs";p.notify(a,b,c);return{lastItem:p.lastItem,close:p.close,hide:p.hide}};p.notify=function(a,
b,c){var d=e.createElement("article");d.className="alertify-log"+("string"===typeof b&&""!==b?" alertify-log-"+b:"");d.innerHTML=a;s.appendChild(d);setTimeout(function(){d.className+=" alertify-log-show"},50);p.close(d,c);p.lastItem=d};p.set=function(a){if("object"!==typeof a&&a instanceof Array)throw Error("args must be an object");for(var b in a)a.hasOwnProperty(b)&&(p[b]=a[b])};p.setFocus=function(){l&&l.length?(l[0].focus(),l[0].select()):w.focus()};p.setup=function(k){var s=d[0];a=!0;var t=function(a){a.stopPropagation();
p.setFocus();p.unbind(u,p.transition.type,t)};p.transition.supported&&!k&&p.bind(u,p.transition.type,t);p.build(u,s);eventjs.add(y,"click",p.hide);eventjs.add(u.firstChild,"click",eventjs.stop);f=e.querySelector("#alertify-resetFocus");c=e.querySelector("#alertify-ok")||void 0;m=e.querySelector("#alertify-cancel")||void 0;b=e.querySelector("#alertify-disregard")||void 0;w="cancel"===p.buttonFocus?m:"none"===p.buttonFocus?e.querySelector("#alertify-noneFocus"):c;l=e.querySelectorAll(".alertify-text-wrapper .alertify-text")||
void 0;g=s;if(l&&l.length)for(k=0;k<s.fields.length;k++)l[k].placeholder=s.fields[k].placeholder||"";p.setFocus();p.addListeners(s.callback);return this};p.unbind=function(a,b,c){"object"===typeof eventjs?eventjs.remove(a,b,c):"function"===typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)};return{close:function(a,b){p.close(a,b||1)},log_visible:function(){return!(!e.querySelector(".alertify-logs")||e.querySelector(".alertify-logs.alertify-logs-hidden"))},
hide:function(a,b){p.hide()},alert:function(a,b,c){return p.dialog("alert",a,b,"",c)},confirm:function(a,b,c){return p.dialog("confirm",a,b,"",c)},extend:p.extend,init:p.init,log:function(a,b){return p.log(a,"",b)},prompt:function(a,b,c,d){return p.dialog("prompt",a,b,c,d)},success:function(a,b){return p.log(a,"success",b)},error:function(a,b){return p.log(a,"error",b)},warn:function(a,b){return p.log(a,"warn",b)},dialog:p.dialog,set:p.set,labels:p.labels,debug:p.handleErrors}};"function"===typeof define&&
define.amd?define([],function(){return new d}):"undefined"===typeof k.alertify&&(k.alertify=new d)})(this);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.UISidebar=function(e,d){var a=this,h=e.dom,g=e.util;e.module.Listener(a);a.opened=!1;a.disabled=!0;var k="sk-sidebar-"+d,b=h.$("."+k),c=document.documentElement;if(b&&b.parentNode){for(var f,w=b.offsetWidth,r=["transform","webkitTransform","MozTransform","OTransform","msTransform"],h=0;h<r.length;h++)if("string"===typeof b.style[r[h]]){f=!0;r=r[h];break}a.setAnimate=function(a,c){b.style.cssText="transition: "+(a?"all":"none")+" "+(c||.35)+"s;"};a.setPosition=
function(a){var c="right"===d?-1:1;f?(b.style[r]="translate3d("+a*c+"px, 0, 0)",b.style[d]=0):b.style[d]=a+"px"};a.open=function(){g.setItem("show-sidebar-"+d,"true");!1===a.disabled&&!1===a.opened&&(a.opened=!0,clearTimeout(a.timeoutClose),a.timeoutOpen=setTimeout(function(){a.setPosition(0);c.classList.add("sk-sidebar-active-"+d);e.ui.configureBuild();a.on.open&&a.on.open()},1))};a.close=function(){g.setItem("show-sidebar-"+d,"false");!1===a.disabled&&!0===a.opened&&(a.opened=!1,a.setPosition(-w),
c.classList.remove("sk-sidebar-active-"+d),clearTimeout(a.timeoutOpen),a.on.close&&a.on.close())};a.toggle=function(){a.setAnimate(!0,.35);!0===a.opened?a.close():a.open()};a.disable=function(){a.disabled||(a.disabled=!0,eventjs.remove(b,"drag",y))};a.enable=function(){a.disabled&&(a.disabled=!1,eventjs.add(b,"drag",y))};var y=function(b,c){eventjs.stop(b);var e=c.pointerEnd,f=c.pointerMove;c.pointerStart&&(c.moved=!1,c.timestamp=g.timestamp(),document.activeElement&&document.activeElement.blur());
var h=c.start;if("right"===d)var k=h.x-c.x,m=h.y-c.y;else k=c.x-h.x,m=c.y-h.y;h=Math.abs(k);m=Math.abs(m);f&&h>m&&eventjs.prevent(b);if(!1===a.disabled){a.opened?(f=Math.min(0,k),-20<=f&&!c.moved?f=0:c.moved=!0):(f=Math.min(0,Math.max(0,k)-w),f<=-w+20&&!c.moved?f=-w:c.moved=!0);if(e)if(eventjs.prevent(b),e=g.timestamp()-c.timestamp,e=Math.min(350,e)/1E3,k=!c.moved&&c.isArrow,a.opened){if(-50>=f||k){a.setAnimate(!0,e);a.close();return}f=0}else{if(f>=-w+50||k){a.setAnimate(!0,e);a.open();return}f=-w}a.setAnimate(!1);
a.setPosition(f)}};e.ui.scrollable(b,!0);c.classList.add("sk-sidebar-ready");a.enable();return this}console.warn(k+" does not exist")}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.UITooltip=function(e){var d=this,a=e.lang,h,g,k,b,c=!1,f={},w=!1,r=void 0;d.add=function(a,b,c){"string"===typeof a&&(a=document.querySelector(a));s(a,"add",b,c)};d.remove=function(a){s(a,"remove")};d.update=function(a,c,e){a?(a!==r||b)&&d.show(a,c,e):d.hide()};d.create=function(){h=document.createElement("div");h.setAttribute("id","sk-tooltip");h.style.opacity=0;h.style.filter="alpha(opacity=0)";f.move=eventjs.add(document,"mousemove",u);f.down=eventjs.add(h,
"mousedown",eventjs.cancel);document.body.appendChild(h);window.event&&(w=!0,k=h.offsetWidth,g=h.offsetHeight,u(window.event));return h};d.destroy=function(){h&&(eventjs.removeEvents(f),h.parentNode.removeChild(h),h=null)};d.show=function(e,f,l){r=e=a.translate(e);h=h||d.create();h.innerHTML=e;h.style.width="auto";h.style.display="block";clearTimeout(b);b=void 0;c||(c=!0);h.style.opacity=1;w=!0;k=h.offsetWidth;g=h.offsetHeight;f&&(w=!1,y(f))};d.hide=function(){c&&(h=h||d.create(),h.style.opacity=
0,clearTimeout(b),b=setTimeout(function(){r=void 0;c=w=!1;h.style.display="none"},250))};var y=function(a){var b,c;eventjs.isTouch?(b=22,c=-15):(b=10,c=-10);b=Math.max(0,a.x+15+b);a=Math.max(0,a.y+0+c);c=Math.max(0,k-(window.innerWidth+window.pageXOffset-b));var d=Math.max(0,g-(window.innerHeight+window.pageYOffset-a));c?(c=k+30,h.classList.remove("right")):h.classList.add("right");h.style.left=b-c+"px";h.style.top=a-d+"px"},u=function(a){w&&y(eventjs.getPageXY(a))},s=function(a,b,c,e){eventjs[b](a,
"mouseover",function(a){eventjs.stop(a);"function"===typeof c?d.update(c(),null,e):d.update(c,null,e)});eventjs[b](a,"mouseout",l)},l=function(a){eventjs.stop(a);d.update("")};return d}})(sketch);
(function(k){k.module=k.module||{};k.module.TreeMenu=function(e,d,a,h){var g=this,k=e.dom,b=e.lang,c=e.feature,f=e.detect,w=d.history,r=d.toolkit,y=e.util,u=e.ui,s="#sk-layers .sk-pane-content"===a,l="#sk-history .sk-pane-content"===a,p=h,t=null;g.setData=function(a){p=a};g.length=-1;g.render=function(){t=k.$(a);if(g.length===p.length&&l)x();else{k.empty(t);g.shifted=null;g.selected=null;var c=t,d=void 0,e={},f=0,h=p.length;if(f||h)for(g.length=h,v(t,0,"before");f<h;f++){var q=p[f],r=String(q.groupId);
"undefined"===r?(d=void 0,c=z(t,q,f)):e[r]?(d=r,z(e[d],q,f)):r!==d&&(d=r,-1===d.indexOf(".")&&(c=t),c=e[d]=z(c,q,f,!0))}else s&&k.append(t,'<span style="padding: 15px; display: inline-block;">'+b.translate("no-layers")+"</span>");l&&x();return g}};var x=function(){var a=g.length,b=w.vector.current,c=k.$(".file.enabled",t),d=a;c&&(c.classList.remove("enabled"),d=parseInt(c.getAttribute("data-layer")));for(c=Math.min(d,b);c<a;c++)if(d=k.$(".file"+c,t))c===b?(d.classList.add("enabled"),q(d)):c>b?q(d):
d.classList.remove("selected")};g.select=function(a){a.forEach(function(a){a&&q(k.$(".file"+a.zIndex),!0)})};g.deselect=function(a){a.forEach(function(a){a&&q(k.$(".file"+a.zIndex),!1)})};var q=function(a,b,c){a&&(c=c&&k.$$("li",t),k.setClass(a,"selected",b,c),g.selected=a)},v=function(a,b,c){var d=k.create('<span class="divider '+c+'"></span>');d.setAttribute("data-layer",b);d.setAttribute("data-command",c);a.insertBefore(d,a.firstChild)},z=function(a,b,c,e){var f=k.create('<li data-layer="'+c+'"></li>');
if(e){e=k.create("ul");var g=String(b.groupId).split(".").pop();C(b,f,g,c+1);f.appendChild(e);a.insertBefore(f,a.firstChild);v(e,c-1,"before");v(a,c+1,"after");return e}e=b.name||b.type||"";g=k.create('<span class="content"></span>');f.appendChild(g);f.className="file file"+c;if(s){if(!1===b.selectable)return;d.selection.items[c]&&q(f);var h=new Image;h.width=18;h.height=29;F(h,b);g.appendChild(h)}else h=k.create("b"),h.className="icon-"+(b.icon||"file"),g.appendChild(h),-1!==c&&(h=k.create("i"),
h.style.cssText="float: right; padding-right: 10px;",h.textContent="#"+(c+1),g.appendChild(h));J(b,f,g,e);a.insertBefore(f,a.firstChild);eventjs.add(f,"mousedown",B(b,f));v(a,c+1,"after");return a},C=function(a,b,c,d){var e=k.create("input");e.className="checkbox";e.type="checkbox";e.checked=!0;b.appendChild(e);d=k.create("label");var f=k.create('<span class="carret"></span>');d.appendChild(f);b.appendChild(d);J(a,b,d,c,!0);eventjs.add(f,"mousedown",function(a,b){e.checked=!e.checked});eventjs.add({target:d,
mousedown:eventjs.prevent,dblclick:function(a,b){e.checked=!e.checked}})},J=function(a,c,e,f,g){g=k.create("font");g.innerHTML=b.translate(f);e.appendChild(g);if(s){eventjs.add(e,"contextmenu",D);eventjs.add(e,"drag",I(c),{position:"difference"});f=k.create('<span class="icon-gear"></span>');eventjs.add(f,"mousedown",B(a,c));eventjs.add(f,"mousedown",D);var h=function(a){return!1===a?"icon-eye-close":"icon-eye-open"},l=k.create("span");l.className=h(a.visible);eventjs.add(l,"mousedown",function(b){eventjs.cancel(b);
b=!(a.visible=!1!==a.visible);l.className=h(b);r.setParam({selection:d.selection.fromLayers([a]),param:"visible",value:b})});c=k.create("div");c.className="right";c.appendChild(f);c.appendChild(l);e.appendChild(c)}},D=function(a){eventjs.cancel(a);u.contextMenu.show({target:this,menu:u.menu.layers})},B=function(a,b){return s?A(a,b):E(a,b)},E=function(a,b){return function(a){eventjs.cancel(a);a=w.vector.current;var c=G(b);(a-=c)&&(0>a?w.redo(Math.abs(a)):w.undo(a));g.selected=b}},A=function(a,b){return function(c){eventjs.cancel(c);
if(eventjs.shiftKey){var e=g.selected;c=G(b);var f=G(e||b),e=Math.min(c,f);for(c=Math.max(c,f);e<=c;e++)(f=d.scene.children[e])&&(eventjs.metaKey?f.selected?d.scene.deselect(e):d.scene.selectByIdx(e,!1):d.scene.selectByIdx(e,!1))}else eventjs.metaKey?a.selected?d.scene.deselect(a.zIndex):d.scene.selectByIdx(a.zIndex,!1):!1===b.classList.contains("selected")&&d.scene.selectByIdx(a.zIndex,!0);g.selected=b;d.render.dirtyControls=!0;d.render.scene("mouseDownLayer")}},I=function(a){var b=null,c=null,e=
G(a),f=function(){if(c){var a=G(c),f=c.getAttribute("data-command");console.log("send",e,a,f);d.scene.sendTo({idx:a,record:!0});d.render.dirtyControls=!0;d.render.scene("moveElement");g.render();k.setClass({target:c,className:"hover",on:!1,list:k.$$("span.divider",t)})}t.classList.remove("dragging");b&&(b=null)};return function(g,h){if(!eventjs.metaKey&&!eventjs.shiftKey){var l="up"===h.state;"down"===h.state&&(t.classList.add("dragging"),h.selected=a.classList.contains("selected"),h.offsetTop=a.offsetTop);
if(5>=h.distanceMoved()){if(l)return h.selected&&d.scene.selectByIdx(e,!0),f()}else{eventjs.cancel(g);null===b&&(b=a.cloneNode(!0),b.classList.add("moving"),t.appendChild(b));var p=b.style;p.display="none";var q=eventjs.getPageXY(g),s=eventjs.getBBox(t),q=document.elementFromPoint(q.x-s.pageXOffset,q.y-s.pageYOffset);p.top=h.y+h.offsetTop-t.scrollTop+"px";for(p.display="";q;){if(q===t||q===document)return l&&f();if(q.classList.contains("divider")){c=q;break}else q=q.parentNode}q&&k.setClass({target:q,
className:"hover",on:!0,list:k.$$("span.divider",q.parentNode)});l&&f()}}}},F=function(a,b){if(b.ctx){var d=b.ctx.canvas,e;c.cache257&&f.useColorModeCycle[b.type]&&(e=[0,0,b.bbox.width,b.bbox.height]);var g=d.thumb=d.thumb||y.thumbnailer({crop:"edge",croparea:e,center:!0,background:"#fff",src:d,width:18,height:28});g.blobURL?a.src=g.blobURL:g.toBlobURL(function(b){g.blobURL=b;a.src=b})}else a.src=u.media.clear,a.style.background="#04a";u.tooltip&&u.tooltip.add(a,function(){return d?'<img src="'+y.thumbnailer({crop:"edge",
croparea:e,center:!0,background:"#fff",src:d,width:100,height:100}).toDataURL()+'">':"out of bounds"},50)},G=function(a){return parseFloat(a.getAttribute("data-layer"))};return g.render()}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.util=k.util||{};k.util.Uploader=function(d){var a=this,h=k.dom,g=k.util;d=d||{};this.debug=!1;this.mode=d.mode||"read";this.action=d.action||"./filesystem.php?upload=true";this.confirm=d.confirm||"text";this.onUpload=d.onupload;this.onProgress=d.onprogress;this.onLoad=d.onload;this.onError=d.onerror;this.onAbort=d.onabort;this.onChangeDefault=this.onChange=d.onchange||e("onchange");this.directory=d.directory||!1;this.maxFiles=d.maxFiles||1;this.maxFileSize=d.maxFileSize||104857600;
"object"===typeof d.fakeInput?(this.fakeInput=d.fakeInput,this.fakeInputParent=d.fakeInputParent||null):"object"===typeof d.fileInput&&(this.fileInput=d.fileInput);this.dropAreaContainer=d.dropArea;this.dropAreaMessage=d.dropAreaMessage||"Drop File(s) Here";this.dropAreaStyle=d.dropAreaStyle||"";this.files={};this.filesByName={};this.filesByPath={};this.formats={};var m=(d.formats||"jpg,jpeg,gif,png").split(",");for(d=0;d<m.length;d++)this.formats[m[d].trim().toLowerCase()]=!0;this.addFileInput=function(c){c=
c||{};c.nodeName&&(c={target:c});var d=c.target,e=c.wrapper,f=c.onchange||a.onChange;if(c=d&&d.parentNode){if("sk-fileWrapper"===c.className)return;a.fileInput=null}if(!d||!d.querySelector(".sk-fileInput")){var g=a.fakeInput=d;if(a.fileInput)a.initFileInput(a.fileInput);else if(g||e){var s=a.fileInput=document.createElement("input");s.style.cssText="position: absolute; top: 0; z-index: 99999; font-size: 1000px; text-align: right; cursor: pointer; right: 0; filter: alpha(opacity: 0); opacity: 0.01;";
s.style.width="100%";s.style.height="100%";s.className="sk-fileInput";var r=function(b,c){a.onChange=a.onChangeDefault||a.onChange;eventjs.remove(document.body,"focus",r)};eventjs.add(s,"mousedown",function(b){a.onChange=f});eventjs.add(s,"click",function(a,b){eventjs.add(document.body,"focus",r)});m.length&&k.client&&k.client.chooseEntry?eventjs.add(s,"click",function(b){eventjs.cancel(b);k.open.chooseEntry(function(b){a.handleFiles([b])})}):(s.setAttribute("type","file"),s.setAttribute("capture",
"camera"));1<a.maxFiles?(s.setAttribute("name","files[]"),s.setAttribute("multiple","multiple")):s.setAttribute("name","file");a.directory&&(s.setAttribute("directory",""),s.setAttribute("mozdirectory",""),s.setAttribute("webkitdirectory",""));if(e)e.appendChild(s);else{c=a.fakeInputParent||g.parentNode;e=document.createElement("span");e.className="sk-fileWrapper";e.style.cssText="position: relative; overflow: hidden; z-index: 0;";g.style.cssText&&(e.style.cssText+=g.style.cssText);b[g.nodeName]&&
(e.style.display="inline-block");var u=!0,d=function(){u&&(u=!1,a.fakeInputParent?a.fakeInputParent.appendChild(e):g.parentNode&&g.parentNode.replaceChild(e,g),e.appendChild(g),e.appendChild(s));var c=h.measure(g),d=c.width,c=c.height;!b[g.nodeName]&&d&&c&&(e.style.width=d+"px",e.style.height=c+"px")};c=h.measure(g);var w=c.height;c.width||w?d():setTimeout(d,250)}eventjs.add(s,"mousedown,mousemove,mouseup",eventjs.stop);a.initFileInput(s)}}};var b={A:!0,SPAN:!0};this.initFileInput=function(b){b&&
(b.onchange=function(c){if(b.files&&b.files.length)a.handleFiles(c.target.files,function(){b.value=""},c);else{var d=b.value,e=d.replace(/\\/g,"/").replace(/.*\//,"");a.handleFiles([{src:d,name:e}],null,c)}})};var c=document.createElement("form");c.id="sk-uploader";this.addDropArea=function(b){b=b||{};b.nodeName&&(b={target:b});var d=d||a.dropAreaContainer;b=!b.target;c.innerHTML=a.dropAreaMessage;a.dropAreaStyle&&(c.style.cssText+=a.dropAreaStyle);c.onclick=function(){e()};c.ondragenter=function(a){eventjs.cancel(a);
return!1};c.ondragover=function(a){eventjs.cancel(a);return!1};c.ondrop=function(b){eventjs.cancel(b);e();var c=b.dataTransfer;c&&(c.items?new s(c.items,function(c){c.length&&a.handleFiles(c,null,b)}):c.files&&(c=c.files,c.length&&a.handleFiles(c,null,b)))};c.ondragleave=function(a){var b=eventjs.getPageXY(a);if(0!==b.x||0!==b.y)for(b=document.elementFromPoint(b.x,b.y);b!==document&&b;){if("sk-uploader"===b.id)return;b=b.parentNode}eventjs.cancel(a);setTimeout(e,100)};var e=function(){c.className=
"";e.timeout=setTimeout(function(){c.style.display="none"},250)};d===window&&(d=document.body);b&&d.appendChild(c);d.ondragenter=function(a){(a=a.dataTransfer)&&a.types&&u(a.types,"Files")&&(clearTimeout(e.timeout),c.style.display="block",setTimeout(function(){c.className="visible";c.style.display="table"},10))};d===document.body&&eventjs.add(window,"resize",function(a){window.innerWidth&&window.innerHeight&&(c.style.width=window.innerWidth+"px",c.style.height=window.innerHeight+"px")})};this.handleFiles=
function(b,c,d){if(a.onProgress)a.onProgress({transferPercent:0},d);var e=0,g=function(b,c){c.src&&(c=[c]);for(var d in c){var e=a.files[d],f=c[d];e.src=f.src;e.size=f.size;e.type=f.type;e.name=f.name}m()},h={jpg:!0,jpeg:!0,gif:!0,png:!0},k=function(b){var c=b.hash;if(b.type&&!h[b.type.substr(6).toLowerCase()]){var d=new FileReader;d.onload=function(b){a.files[c].src=b.target.result;a.files[c].isRead=!0;return m()};d.readAsText(b)}else try{var e=URL.createObjectURL(b);a.files[c].src=e;a.files[c].isRead=
!0;return m()}catch(f){try{d=new FileReader,d.onload=function(b){a.files[c].src=b.target.result;a.files[c].isRead=!0;return m()},d.readAsDataURL(b)}catch(l){b.upload=new a.upload({file:b,onupload:g})}}},m=function(a){a?s():setTimeout(s,30)},s=function(){if(a.onProgress)a.onProgress({transferPercent:e/b.length*100>>0},d);var h=b[e];if(++e>a.maxFiles||!h){if(a.onLoad)a.onLoad();if(1===a.maxFiles){if("undefined"===typeof b[0]){if(a.onError)a.onError(a,"UPLOAD_ERR_FORMAT");c&&c();return}var s=f(b[0]);
a.file=a.files[s]||b[0];c&&c();return a.onChange(a,d||{})}for(var r in a.files);c&&c();return a.files[r]?a.onChange(a,d||{}):void 0}r=h.name||h.fileName||"";var v=h.path||r,s=h.type||"",u;s&&(u=s.split("/").pop());a.formats[u]||(u=r.split(".").pop().toLowerCase());var s=f(h),w=a.files[s];if(w&&(a.changedFiles[s]=w,a.changedFilesByName[r]=w,a.changedFilesByPath[v]=w,"upload"===a.mode&&w.isUploaded||"read"===a.mode&&w.isRead))return m(!0);if(!a.formats[u]){if(a.onError)a.onError(a,"UPLOAD_ERR_FORMAT");
return m(!0)}u=h.fileSize||h.size;if(0===u){if(a.onError)a.onError(a,"UPLOAD_ERR_NO_FILE");return m(!0)}if(u&&u>a.maxFileSize){if(a.onError)a.onError(a,"UPLOAD_ERR_FORM_SIZE");return m(!0)}h.hash=s;a.files[s]=h;a.filesByName[r]=h;a.filesByPath[v]=h;a.changedFiles[s]=h;a.changedFilesByName[r]=h;a.changedFilesByPath[v]=h;if("upload"===a.mode)h.upload=new a.upload({file:h,onupload:g});else if("read"===a.mode)k(h);else return m(!0)};a.changedFiles={};a.changedFilesByName={};a.changedFilesByPath={};m()};
var f=function(a){var b={};b.name=a.name||a.fileName;b.src=a.src;b.size=a.size||a.fileSize;b.type=a.type;a=JSON.stringify(b);for(var b=5381,c=0,d=a.length;c<d;c++)var e=a.substr(c,1).charCodeAt(),b=(b<<5)+b+e;return b};this.UPLOAD_ERR={UPLOAD_ERR_INI_SIZE:"The uploaded file exceeds the upload_max_filesize directive",UPLOAD_ERR_FORM_SIZE:"The uploaded file exceeds the MAX_FILE_SIZE directive",UPLOAD_ERR_PARTIAL:"The uploaded file was only partially uploaded",UPLOAD_ERR_NO_FILE:"No file was uploaded",
UPLOAD_ERR_NO_TMP_DIR:"Missing a temporary folder",UPLOAD_ERR_CANT_WRITE:"Failed to write file to disk",UPLOAD_ERR_EXTENSION:"A PHP extension stopped the file upload",UPLOAD_ERR_FORMAT:"The uploaded file was an invalid format",UPLOAD_ERR_XHTTP:""};this.upload=function(b){this.onAbort=b.onabort;this.onUpload=b.onupload;this.onProgress=b.onprogress;this.onError=b.onerror;this.action=b.action||a.action;this.confirm=b.confirm||a.confirm;this.files=0===String(b.file).indexOf("[object")?[b.file]:b.files;
this.bytes=this.timeLapse=this.timeRemaining=this.transferPercent=this.transferTotal=this.transferSpeed=0;window.FormData?r(this,this.onUpload):y(this,this.onUpload)};var w=function(a,b){var c=Object.prototype.toString.call(a);"[object Object]"===c&&a.src&&(c="");switch(c){case "[object Array]":for(var c=0,d=a.length;c<d;c++)b(a[c]);break;case "[object Object]":for(d in a)b(a[d],d);break;default:b(a)}},r=function(b){if("[object Blob]"===String(b.files))var c=b.files;else c=new FormData,w(b.files,
function(a,b){if("undefined"!==typeof a.data)c.append(b||a.name||a.fileName,a.data);else if(a.src&&"data:"===a.src.substr(0,5)){var d=JSON.stringify(a);c.append(b||a.name||a.fileName,d)}else c.append(b||a.hash,a)});var d=new XMLHttpRequest;d.upload.onprogress=function(c){if(c.lengthComputable){var d=c.loaded;b.lengthComputable=!0;b.transferPercent=Math.round(100*d/c.total);b.transferTotal=g.bytesToSize(d);var e=2*(d-b.bytes);0!==e&&(b.bytes=d,b.transferSpeed=g.bytesToSize(e),b.timeRemaining=g.getTimeFormat((c.total-
b.bytes)/e*1E3,!0),b.timeLapse=g.getTimeFormat(Date.now()-c.timeStamp,!0));if(b.onProgress)b.onProgress(b,c);else if(a.onProgress)a.onProgress(b,c)}else b.lengthComputable=!1,b.transferSpeed=0,b.transferTotal=0,b.transferPercent=0,b.timeRemaining=0};d.onload=function(c){"[object Blob]"!==String(b.files)&&w(b.files,function(a,b){"undefined"===typeof a.date&&(a.isUploaded=!0)});var d=c.target.responseText;if("json"===b.confirm)try{d=JSON.parse(d)}catch(e){console.log(c.target.responseText)}if(a.UPLOAD_ERR[d]){if(a.onError)a.onError(a,
d);if(b.onError)b.onError(a,d)}else{if(a.onLoad)a.onLoad(b,d);if(b.onUpload)b.onUpload(b,d)}};d.onerror=function(c){if(a.onError)a.onError(a,"UPLOAD_ERR_XHTTP",c);if(b.onError)b.onError(a,"UPLOAD_ERR_XHTTP",c)};d.onabort=function(c){if(a.onAbort)a.onAbort(a,"UPLOAD_ERR_XHTTP",c);if(b.onAbort)b.onAbort(a,"UPLOAD_ERR_XHTTP",c)};d.open("POST",b.action,!0);d.send(c)},y=function(b){var c=document.createElement("form");document.body.appendChild(c);var d=document.createElement("iframe");d.setAttribute("id",
"upload_iframe");d.setAttribute("name","upload_iframe");d.setAttribute("width","0");d.setAttribute("height","0");d.setAttribute("border","0");d.setAttribute("style","width: 0; height: 0; border: none;");var e=function(){try{var e=d.contentDocument.body}catch(f){try{e=d.contentWindow.document.body}catch(g){e=d.document.body}}if(e.innerHTML){w(b.files,function(a){"undefined"===typeof a.date&&(a.isUploaded=!0)});e=e.innerHTML;if("json"===b.confirm)try{e=JSON.parse(e)}catch(h){console.log&&console.log(e)}if(a.UPLOAD_ERR[e]){if(a.onError)a.onError(a,
e);if(b.onError)b.onError(a,e)}else{if(a.onLoad)a.onLoad(a,e);if(b.onUpload)b.onUpload(a,e)}}setTimeout(function(){c.parentNode&&c.parentNode.removeChild(c);a.fileInput.parent&&a.fileInput.parent.appendChild(a.fileInput)},250)};d.addEventListener?d.addEventListener("load",e,!0):d.attachEvent&&d.attachEvent("onload",e);c.appendChild(d);window.frames.upload_iframe.name="upload_iframe";w(b.files,function(b,d){if("undefined"!==typeof b.data){var e=document.createElement("input");e.type="hidden";e.value=
b.data;e.name=d||b.name||b.fileName}else b.src&&"data:image/"===b.src.substr(0,11)?(e=document.createElement("input"),e.type="hidden",e.value=JSON.stringify(b),e.name=d||b.name||b.fileName):"string"===typeof b?(e=document.createElement("input"),e.type="hidden",e.value=b,e.name=d):(e=a.fileInput,e.parent=e.parentNode,e.name=d||b.hash);c.appendChild(e)});c.setAttribute("target","upload_iframe");c.setAttribute("action",b.action);c.setAttribute("method","post");c.setAttribute("enctype","multipart/form-data");
c.setAttribute("encoding","multipart/form-data");c.submit()},u=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},s=function(a,b,c){c=isFinite(c)?c:Infinity;var d=this;this.files=[];this.pending=0;this.recurse=function(a,b,c){this.pending++;if(!a)return d.runCallback();a.isFile?a.file(function(a){a.path=b+a.name;d.files.push(a);d.runCallback()}):a.isDirectory&&a.createReader().readEntries(function(e){for(var f=0;f<e.length;f++)d.recurse(e[f],b+a.name+"/",c+1);d.runCallback()})};
this.runCallback=function(){--this.pending||b(this.files)};for(c=0;c<a.length;c++)if(a[c].webkitGetAsEntry){var e=a[c].webkitGetAsEntry();this.recurse(e,"",0)}return this};this.dropAreaContainer&&this.addDropArea();(this.fakeInput||this.fileInput)&&this.addFileInput();return this};var e=function(d){return function(){console.warn(d,arguments)}}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){k.setup.add(function(e){var d=e.feature,a=e.io,h=e.lang,g=e.util,k=["jpg","jpeg","gif","png","svg"];a.json&&k.push("json");a.zip&&k.push("zip");a.json&&a.zip&&k.push("sketchpad");d.io.pdf&&k.push("pdf");d.io.psd&&k.push("psd");a.blobToABR&&k.push("abr");a.blobToGBR&&k.push("gbr");g.exists("Color.open.GGR")&&k.push("ggr");g.exists("Color.open.GPL")&&k.push("gpl");(e.uploader=new g.Uploader({confirm:"json",action:e.loc.POST,mode:"read",maxFiles:e.client.ios?1:Infinity,formats:k.join(","),
dropArea:document.body,dropAreaMessage:'\t\t<div class="sk-uploader-anim"></div>\t\t  <div class="sk-uploader-text">Drop files here<br>\t\t\t  <div><i>Accepted formats: </i><br>.'+k.join(" .")+"</div>\t\t  </div>\t\t</div>",onchange:function(a,c){var d=e.doc,g=e.doc.scene;if(isFinite(c.pageX)){for(var h=eventjs.elementsFromEvent(c),k=0;k<h.length;k++){var m=h[k];if(m.matches(".sk-dummy-canvas")){e.setDocument(m.getAttribute("data-pid"));break}}g=g.pointInSceneFromEvent(c);a.addMedia({self:a,pt:{x:g.x-
d.x,y:g.y-d.y}})}else a.addMedia({self:a})},onprogress:function(a){e.loader&&e.loader.create("thread","Uploading...",a.transferPercent)},onerror:function(a,c,d){e.loader&&e.loader.stop("thread");e.ui.log(h.translate("upload-invalid"))}})).addMedia=function(a){var c=e.doc,f=e.doc.scene;if(!c.addMedia)return console.warn("doc.addMedia undefined");var h=a.pt||{},k=a.self,m=a.openAsNew;c.config.reset("image");var u=[],s=function(){h.x+=d.io.translateX;h.y+=d.io.translateY;d.vector.edit?isFinite(c.selection.idx)&&
u.push(c.selection.idx):f.deselectAll();setTimeout(l.next,50)};a=k.changedFilesByName;if(a["sketch.json"])return e.open.folder({entries:a});var l=g.Queue({flatten:!1,instant:!1,items:k.changedFiles,oncomplete:function(){1===u.length?e.ui.configureBuild&&e.ui.configureBuild(f.children[u[0]].type,!0):(f.deselectAll(),f.selectByIdx(u,!1),c.render.dirtyControls=!0,c.render.scene("setup.uploader"))},next:function(a){l=this;var b=0===(a.type||"").indexOf("image/"),d={openAsNew:m,blob:a,x:h.x,y:h.y,onload:s};
e.vortex&&b&&h.x&&h.y?e.vortex.create({pid:a.src,point:f.pointInWindowFromScene(h),message:a.name||"adding image",callback:function(a){e.vortex.destroy(a);c.addMedia(d)}}):c.addMedia(d)}})}})})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e,d={id:"loader",bars:12,radius:0,lineWidth:14,lineHeight:40,timeout:0,display:!0};k.ui=k.ui||{};k.ui.Loader=function(g){var m=this;void 0===e&&(e=!!document.createElement("canvas").getContext);if(e){var b=k.ui.Loader.threads;"string"===typeof g&&(g={message:g});"boolean"===typeof g&&(g={display:!1});"undefined"===typeof g&&(g={});g.container=g.container||document.body;if(g.container){for(var c in d)"undefined"===typeof g[c]&&(g[c]=d[c]);var f=function(a){for(var c in b)if(b[c]===
a)return c},w=document.getElementById(g.id);if(w)this.span=w.parentNode.getElementsByTagName("span")[0];else{var r=document.createElement("div");c=document.createElement("span");c.className="message";r.className=d.id;r.style.cssText=a("opacity",400);this.span=c;this.div=r;w=document.createElement("canvas");w.id=g.id;w.style.cssText="opacity: 1; position: absolute; z-index: 10000;";r.appendChild(w);r.appendChild(c);var y=document.createElement("div");y.className="meter";y.style.padding="10px";c=document.createElement("span");
c.style.width="3%";y.appendChild(c);this.meter=c;this.meterContainer=y;this.span.appendChild(y);g.container.appendChild(r)}var u=g.bars,s=g.radius,l=2*(g.lineHeight+20)+2*g.radius;h(g.container);var p=window.devicePixelRatio||1;w.width=l*p;w.height=l*p;var t=0,x=w.getContext("2d");x.globalCompositeOperation="lighter";x.shadowOffsetX=1;x.shadowOffsetY=1;x.shadowBlur=0;x.shadowColor="rgba(0,0,0,0.5)";this.messages={};this.threads=k.ui.Loader.threads;this.create=function(a,c,d){a=b[a]=b[a]||m.add(c);
isFinite(a)&&c&&"string"===typeof(c.message||c)?m.update(a,c.message||c,c.percent||d):isFinite(d)&&m.update(a,null,d)};this.update=function(a,b,c){"object"===typeof a&&(c=a.percent,b=a.message,a=a.id);if(!isFinite(a))for(a in m.messages);if(a=m.messages[a])a.message=b=b||a.message,"number"===typeof c&&(a.span.innerHTML=c+"%"),"..."===b.substr(-3)?(a._message=b.substr(0,b.length-3),a.messageAnimate=[".&nbsp;&nbsp;","..&nbsp;","..."].reverse()):(a._message=b,a.messageAnimate=!1),a.element.innerHTML=
b};this.add=function(b){b||(b={message:""});"string"===typeof b&&(b={message:b});this.span.style.cssText="background: "+(g.background?g.background:"rgba(0,0,0,1)")+";";this.div.style.cssText=a("opacity",400);this.stopPropagation?this.div.style.cssText+="background: rgba(0,0,0,0.25);":(this.div.style.pointerEvents="none",this.div.style.height=0);this.div.style.opacity=1;this.div.style.display="block";g.background&&(this.div.style.background=g.backgrond);var c=Date.now(),d=Math.abs(c*Math.random()>>
0),e=b.message,f=document.createElement("div");f.style.cssText=a("opacity",500);var h=document.createElement("span");h.style.cssText="float: right; width: 50px;";var k=document.createElement("span");k.innerHTML=e;f.appendChild(k);f.appendChild(h);f.appendChild(document.createElement("br"));c=this.messages[d]={seed:d,container:f,element:k,span:h,message:e,timeout:1E3*(b.timeout||g.timeout),timestamp:c,getProgress:b.getProgress};this.span.appendChild(f);this.span.style.display="block";this.update(c.seed,
e);b.onstart&&setTimeout(b.onstart,150);this.center();this.interval||b.delay||v();clearInterval(this.interval);this.interval=setInterval(v,30);return d};this.remove=function(a){t+=.07;Date.now();"object"===typeof a&&(a=a.join(":"));a&&(a=":"+a+":");for(var c in this.messages){var d=this.messages[c];if(!a||-1!==a.indexOf(":"+d.seed+":")){var e=f(d.seed);e&&delete b[e];delete this.messages[d.seed];d.container.style.color="#99ff88";q(d);d.getProgress&&(d.span.innerHTML="100%")}}};this.stop=function(a){"string"===
typeof a&&(a=f(a));if(isFinite(a))this.update(a,null,100);else{m.remove();clearInterval(m.interval);delete m.interval;if(g.oncomplete)g.oncomplete();w&&w.style&&(setTimeout(function(){m.div.style.opacity=0},1),setTimeout(function(){m.interval||(m.stopPropagation=!1,r.style.display="none",x.clearRect(0,0,l,l))},400))}};this.center=function(){var a=h(g.container),b=a.width-l,a=(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)+(a.height-l)/2-Math.max(70,m.span.offsetHeight/
2)+l;w.style.left=b/2+"px";w.style.top=a-l+"px";w.style.width=l+"px";w.style.height=l+"px";m.span.style.top=a+"px"};c=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText=".loader { color: #fff; position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 100000; opacity: 0; display: none; font-size: 1em; }.loader span { overflow: hidden; white-space: nowrap; }.loader span.message { margin: auto; opacity: 1; display: none; border-radius: 10px; padding: 0; width: 300px; text-align: center; position: absolute; z-index: 10000; left: 0; right: 0; }.loader span.message div { border-bottom: 1px solid rgba(255,255,255,0.15); padding: 7px 10px; clear: both; text-align: left; opacity: 1; }.loader span.message span { text-overflow: ellipsis; -o-text-overflow: ellipsis; width: 80%; float: left }.loader span.message div:last-child { border-bottom: none; }":
c.innerHTML=".loader { color: #fff; position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 100000; opacity: 0; display: none; font-size: 1em; }.loader span { overflow: hidden; white-space: nowrap; }.loader span.message { margin: auto; opacity: 1; display: none; border-radius: 10px; padding: 0; width: 300px; text-align: center; position: absolute; z-index: 10000; left: 0; right: 0; }.loader span.message div { border-bottom: 1px solid rgba(255,255,255,0.15); padding: 7px 10px; clear: both; text-align: left; opacity: 1; }.loader span.message span { text-overflow: ellipsis; -o-text-overflow: ellipsis; width: 80%; float: left }.loader span.message div:last-child { border-bottom: none; }";
var q=function(a){setTimeout(function(){a.container.style.opacity=0},1);setTimeout(function(){a.container.parentNode.removeChild(a.container)},250)},v=function(){var a=Date.now();m.center();for(var b in m.messages){var c=m.messages[b],d=t/.07>>0,e=parseInt(c.span.innerHTML);if(isFinite(e)&&100<=e)m.remove(c.seed);else{if(0===d%5&&c.getProgress){if(c.timeout&&c.timestamp&&a-c.timestamp>c.timeout){m.remove(c.seed);continue}e=c.getProgress();if(100<=e){m.remove(c.seed);continue}c.span.innerHTML=(e>>
0)+"%"}0===d%10&&c.messageAnimate&&(c.element.innerHTML=c._message+c.messageAnimate[d/10%c.messageAnimate.length])}}b||m.stop();if(isFinite(m.percent))m.meterContainer.style.display="",m.meter.style.width=m.percent+"%";else{m.meterContainer.style.display="none";x.save();x.clearRect(0,0,l*p,l*p);x.scale(p,p);x.translate(l/2,l/2);a=360-360/u;for(b=0;b<u;b++){c=b/u*2*Math.PI+t;x.save();x.translate(s*Math.sin(-c),s*Math.cos(-c));x.rotate(c);var c=-g.lineWidth/2,d=g.lineWidth,e=g.lineHeight,f=d/2;x.beginPath();
x.moveTo(c+f,0);x.lineTo(c+d-f,0);x.quadraticCurveTo(c+d,0,c+d,0+f);x.lineTo(c+d,0+e-f);x.quadraticCurveTo(c+d,0+e,c+d-f,0+e);x.lineTo(c+f,0+e);x.quadraticCurveTo(c,0+e,c,0+e-f);x.lineTo(c,0+f);x.quadraticCurveTo(c,0,c+f,0);x.fillStyle="hsla("+b/(u-1)*a+", 100%, 50%, 0.85)";x.fill();x.restore()}x.restore();t+=.07}};if(!1===g.display)return this;g.message&&m.add(g.message);return this}}};k.ui.Loader.threads={};var a=function(a,d){return"\t\t-webkit-transition-property: "+a+";\t\t-webkit-transition-duration: "+
d+"ms;\t\t-moz-transition-property: "+a+";\t\t-moz-transition-duration: "+d+"ms;\t\t-o-transition-property: "+a+";\t\t-o-transition-duration: "+d+"ms;\t\t-ms-transition-property: "+a+";\t\t-ms-transition-duration: "+d+"ms;"},h=function(a){if(window.innerWidth&&window.innerHeight)var d=window.innerWidth,b=window.innerHeight;else"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(d=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight):
document.body&&document.body.offsetWidth&&(d=document.body.offsetWidth,b=document.body.offsetHeight);a&&(d=a.offsetWidth);return{width:d,height:b}}})(sketch);"undefined"===typeof sketch&&(sketch={});sketch.color=sketch.color||{};
(function(k){k.color.picker=function(a){a=a||{};var c=this,f=k.color.space,m={light:{arrow:"000",interlace:{size:8,color1:"#fff",color2:"#eee"}},dark:{arrow:"#fff",interlace:{size:8,color1:"#fff",color2:"#eee"}}};c.init=function(){k.ui=k.ui||{};k.ui.zIndexGlobal=k.ui.zIndexGlobal||100;c.pixelRatio=1;c.state="colorPicker";c.color=g(a.color||"#000");c.container=a.container||document.body;c.margin=a.margin||10;c.offset=c.margin/2;c.strokeColor=a.strokeColor||"rgba(255,255,255,0.15)";c.recordId=a.recordId;
c.feature=a.feature||{};c.eyeDropper=c.feature.eyeDropper||{};c.theme=m[a.theme||"dark"];var f=c.theme.arrow,l=document.createElement("canvas"),p=l.getContext("2d"),r=16/3;l.width=16;l.height=16;for(var u=0;20>u;u++)p.beginPath(),p.fillStyle=f,p.moveTo(0,4),p.lineTo(4,0),p.lineTo(4,8),p.fill();p.translate(-r,-16);c.arrow=l;f=document.createElement("canvas");f.width=10;f.height=10;l=f.getContext("2d");l.lineWidth=1;l.beginPath();p=f.width/2;r=f.width/2;l.arc(p,r,4.5,0,2*Math.PI,!0);l.strokeStyle="#000";
l.stroke();l.beginPath();l.arc(p,r,3.5,0,2*Math.PI,!0);l.strokeStyle="#FFF";l.stroke();c.circle=f;p=c.theme.interlace;f=p.size;l=p.color1;r=p.color2;p=document.createElement("canvas").getContext("2d");p.canvas.width=2*f;p.canvas.height=2*f;p.fillStyle=l;p.fillRect(0,0,f,f);p.fillStyle=r;p.fillRect(f,0,f,f);p.fillStyle=r;p.fillRect(0,f,f,f);p.fillStyle=l;p.fillRect(f,f,f,f);f=p.createPattern(p.canvas,"repeat");try{f.data=p.canvas.toDataURL()}catch(q){}c.interlace=f;c.onChange=a.onChange||a.onchange;
c.onClose=a.onClose||a.onclose;c.onMouseDown=a.onMouseDown||a.onmousedown;c.onMouseUp=a.onMouseUp||a.onmousedown;f=c.modules=a.modules||{hue:!0,satval:!0,alpha:!0};l=c.config={};f.hue&&(p=f.hue,l.hue={column:0,enable:!a.modules||p.enable||!1,width:isFinite(p.width)?p.width:30,height:isFinite(p.height)?p.height:200});f.satval&&(p=f.satval,l.satval={column:1,enable:!a.modules||p.enable||!1,width:isFinite(p.width)?p.width:200,height:isFinite(p.height)?p.height:200});f.alpha&&(p=f.alpha,l.alpha={column:2,
enable:!a.modules||p.enable||!1,width:isFinite(p.width)?p.width:30,height:isFinite(p.height)?p.height:200});f=c.element=document.createElement("div");f.id=a.id||"ColorPicker";a.className&&(f.className=a.className);a.style&&(f.style.cssText=a.style);a.draggable&&eventjs.proxy.dragElement(f);c.container.appendChild(f);c.feature.hexInput&&d(c);c.feature.closeButton&&h(c);e(c);return c};c.update=function(a,b){b=void 0===b?"update":b;a&&(c.color=g(a));y.alpha.enable||(c.color.A=255);var d=0,e=0,f=-1,h;
for(h in u){var k=u[h];!1!==k.enable&&(d+=k.width+c.margin+c.offset-5,f!==k.row&&(e+=k.height+2*c.margin,f=k.row))}d*=c.pixelRatio;e*=c.pixelRatio;f=c.canvas;h=c.element;if(f.width!==d||f.height!==e)f.width=d,f.height=e,f.style.cssText="left: "+-(c.offset-1)+"px;",h.style.height=e+"px",h.style.width=d+"px";c.render(b,!!a);return c};c.render=function(a,b){var d=u.satval,e=u.hue,g=u.alpha,h=c.canvas,k=c.ctx;k.clearRect(0,0,h.width,h.height);var m=f({H:c.color.H,S:100,V:100},"HSV>RGB>HEX24>W3");f.HEX_RGB("0x"+
m);var h=c.offset,w=u.satval.width,y=u.satval.height,D=c.ctx;D.save();D.fillStyle=c.interlace;D.fillRect(h,c.offset,u.satval.width,u.satval.height);D.globalAlpha=c.color.A/255;D.fillStyle=r(m,"satval");D.fillRect(h,h,w,y);m=D.createLinearGradient(h,h,w+h,0);m.addColorStop(0,r("rgba(255, 255, 255, 1)","satval"));m.addColorStop(1,r("rgba(255, 255, 255, 0)","satval"));D.fillStyle=m;D.fillRect(h,h,w,y);m=D.createLinearGradient(0,h,0,y+h);m.addColorStop(0,"rgba(0, 0, 0, 0)");m.addColorStop(1,"rgba(0, 0, 0, 1)");
D.fillStyle=m;D.fillRect(h,h,w,y);D.strokeStyle=r(c.strokeColor,"satval");D.strokeRect(h+.5,h+.5,w-1,y-1);D.restore();h=c.ctx;w=u.satval.width+c.margin+c.offset;h.fillStyle=c.interlace;h.fillRect(w,c.offset,u.hue.width,u.hue.height);y=h.createLinearGradient(0,0,0,u.hue.height+c.offset);y.addColorStop(0,r("rgba(255, 0, 0, 1)","hue"));y.addColorStop(5/6,r("rgba(255, 255, 0, 1)","hue"));y.addColorStop(4/6,r("rgba(0, 255, 0, 1)","hue"));y.addColorStop(.5,r("rgba(0, 255, 255, 1)","hue"));y.addColorStop(2/
6,r("rgba(0, 0, 255, 1)","hue"));y.addColorStop(1/6,r("rgba(255, 0, 255, 1)","hue"));y.addColorStop(1,r("rgba(255, 0, 0, 1)","hue"));h.save();h.globalAlpha=c.color.A/255;h.fillStyle=y;h.fillRect(w,c.offset,u.hue.width,u.hue.height);h.strokeStyle=r(c.strokeColor,"hue");h.strokeRect(w+.5,c.offset+.5,u.hue.width-1,u.hue.height-1);h.restore();g.enable&&(h=c.ctx,w=u.satval.width+2*c.margin+u.hue.width+c.offset,h.fillStyle=c.interlace,h.fillRect(w,c.offset,u.alpha.width,u.satval.height),y=f.HSV_RGB({H:c.color.H,
S:c.color.S,V:c.color.V}),D=h.createLinearGradient(0,0,0,u.satval.height),y.A=255,D.addColorStop(0,r(f.RGBA_W3(y),"alpha")),y.A=0,D.addColorStop(1,r(f.RGBA_W3(y),"alpha")),h.fillStyle=D,h.fillRect(w,c.offset,u.alpha.width,u.satval.height),h.strokeStyle=c.strokeColor,h.strokeRect(w+.5,c.offset+.5,u.alpha.width-1,u.satval.height-1));h=f(c.color,"HSVA>RGBA");w=f(h,"RGB>HEX24>W3");c.feature.hexInput&&(c.hexInput.value=w.substr(1),c.hexBox.style.backgroundColor=f(h,"RGBA>W3"));k.save();g.enable&&(k.globalAlpha=
g.enable?1:0,g=d.width+2*c.margin+e.width+g.width+c.offset,w=(255-c.color.A)/255*d.height-2,k.drawImage(c.arrow,g+2,Math.round(w)+c.offset-1));e&&(k.globalAlpha=e.enable?1:0,g=d.width+c.margin+c.offset+e.width,w=(360-c.color.H)/362*d.height-2,w=Math.round(w)+c.offset-1,k.drawImage(c.arrow,g+2,w),k.beginPath(),k.moveTo(g-e.width,w+3.5),k.lineTo(g,w+3.5),k.strokeStyle="rgba(255,255,255,0.5)",k.stroke(),k.beginPath(),k.moveTo(g-e.width,w+4.5),k.lineTo(g,w+4.5),k.strokeStyle="rgba(0,0,0,0.5)",k.stroke());
d&&(k.globalAlpha=d.enable?1:0,g=c.color.S/100*d.width,w=(1-c.color.V/100)*d.height,g-=c.circle.width/2,w-=c.circle.height/2,k.drawImage(c.circle,Math.round(g)+c.offset,Math.round(w)+c.offset));k.restore();c.onChange&&a&&b&&(d=c.toString(h),c.onChange(h,a,d))};var r=function(a,b){if(!0===u[b].enable)return a;a="rgba"===a.substr(0,4)?f(a,"W3>RGBA"):f(a,"W3>HEX32>RGBA");var c=Math.round(.33*a.R+.33*a.G+.33*a.B);return"rgba("+c+","+c+","+c+","+a.A/255*.42+")"};c.toggle=function(a){return"boolean"===
typeof a?a?c.open():c.close():-1===(" "+c.element.className+" ").indexOf(" opened ")?c.open():c.close()};c.open=function(){var d=c.element,d=c.recordId||d.id,e=document.getElementById(d);if(!e)return console.warn("#"+d+" does not exist");a.recordWindow&&a.recordWindow&&a.recordWindow({id:d,display:"block"});-1===(" "+e.className+" ").indexOf(" opened ")&&(e.className=(e.className+" opened").trim());e.style.display="block";e.style.zIndex=k.ui.zIndexGlobal++;window.clearTimeout(e.interval);return c};
c.close=function(){var d=c.element,d=c.recordId||d.id,e=document.getElementById(d);a.recordWindow&&a.recordWindow({id:d,display:"none"});e.className=(" "+e.className+" ").replace(" opened "," ").trim();e.interval=setTimeout(function(){e.style.display="none"},250);return c};c.destory=function(){document.body.removeChild(c.element);for(var a in c)delete c[a];return c};c.toString=function(a){a=a||c.color;isFinite(a.H)&&(a=f(a,"HSVA>RGBA"));return 255===a.A?f(a,"RGB>HEX24>W3"):f(a,"RGBA>W3")};c.init();
var y=c.modules,u=c.config;c.update();c.toggle("undefined"===typeof a.display);return c};var e=function(a){var c=a.element,d=a.config,e=document.createElement("canvas"),g=e.getContext("2d");a.canvas=e;a.ctx=g;c.appendChild(e);eventjs.add(e,"drag",function(g,h){eventjs.stop(g);var r=h.pointerStart,l=h.pointerEnd;if(r&&("function"===typeof a.mouseLayerExit&&a.mouseLayerExit(),a.onMouseDown))a.onMouseDown(g);if(l&&a.onMouseUp)a.onMouseUp(g);var p=a.margin/2,t=h.x-p,p=h.y-p,x=m(t,0,e.width),q=m(p,0,e.height);
if("hexInput"===h.target.className)r&&eventjs.stop(g),c.style.cursor="text";else{if(x!==t||q!==p)a.feature.drag?(c.style.cursor="move",r&&eventjs.proxy.drag({position:"move",event:g,target:c,animationFrame:!0,listener:function(d,e){eventjs.prevent(d);var f=window.innerWidth,g=window.innerHeight,h=e.target.offsetWidth,l=e.target.offsetHeight;e.x+h>f&&(e.x=f-h);e.y+l>g&&(e.y=g-l);0>e.x&&(e.x=0);0>e.y&&(e.y=0);c.style.left=e.x+"px";c.style.top=e.y+"px";e.pointerStart?c.style.zIndex=k.ui.zIndexGlobal++:
e.pointerEnd&&params.recordWindow&&params.recordWindow({id:a.recordId||c.id,left:e.x/f,top:e.y/g,display:"block"})}})):c.style.cursor="default";else if(x<=d.satval.width){if(!1===d.satval.enable)return;r&&eventjs.stop(g);c.style.cursor="default";r&&eventjs.proxy.drag({position:"relative",event:g,target:e,animationFrame:!0,listener:function(c,e){eventjs.prevent(c);var g=m(e.x-a.offset,0,d.satval.width),h=m(e.y-a.offset,0,d.satval.height);a.color.S=g/d.satval.width*100;a.color.V=100-h/d.satval.height*
100;a.render(e.state,!0)}})}else if(x>d.satval.width+a.margin&&x<=d.satval.width+a.margin+a.offset+d.hue.width){if(!1===d.hue.enable)return;r&&eventjs.stop(g);c.style.cursor="crosshair";r&&eventjs.proxy.drag({position:"relative",event:g,target:e,animationFrame:!0,listener:function(c,e){eventjs.prevent(c);var g=m(e.y-a.offset,0,d.satval.height);a.color.H=360-360*Math.min(1,g/d.satval.height);a.render(e.state,!0)}})}else if(d.alpha&&x>d.satval.width+d.alpha.width+2*a.margin&&x<=d.satval.width+2*a.margin+
a.offset+2*d.alpha.width){if(!1===d.alpha.enable)return;r&&eventjs.stop(g);c.style.cursor="crosshair";r&&eventjs.proxy.drag({position:"relative",event:g,target:e,animationFrame:!0,listener:function(c,e){eventjs.prevent(c);var g=m(e.y-a.offset,0,d.satval.height);a.color.A=255*(1-Math.min(1,g/d.satval.height));a.render(e.state,!0)}})}else c.style.cursor="default";l&&(c.style.cursor="default");return!1}})},d=function(b){var c=b.hexBoxContainer=document.createElement("div");b.interlace.data&&(c.style.backgroundImage=
"url("+b.interlace.data+")");c.className="hexBox";var d=b.element,e=b.hexBox=document.createElement("div");c.appendChild(e);d.appendChild(c);b.eyeDropper.target&&a(b);var g=/[^a-f0-9]/gi,h=b.hexInput=document.createElement("input");h.className="hexInput";h.size=6;h.type="text";eventjs.add(h,"mousedown",eventjs.stop);eventjs.add(h,"keydown keyup change",function(a){var c=a.keyCode;eventjs.keyTracker(a);setTimeout(function(){var d=h.value.replace(g,"").substr(0,6),d=k.color.space(d,"W3>HEX24");if("NaN"!==
String(d)){if("keydown"===a.type||"keyup"===a.type)if(40===c)d=Math.max(0,d-(a.shiftKey?10:1)),h.value=k.color.space(d,"HEX24>W3").substr(1);else if(38===c)d=Math.min(16777215,d+(a.shiftKey?10:1)),h.value=k.color.space(d,"HEX24>W3").substr(1);else if(!eventjs.metaKey||86!==c)return;16777215<d&&(d=16777215);0>d&&(d=0);b.update(k.color.space(d,"HEX24>RGB"),"up")}},50);27===c&&b.blur()});d.appendChild(h)},a=function(a){var c=a.element,d=document.createElement("span");d.className="icon-eyedropper";c.appendChild(d);
var c=a.eyeDropper,e=c.target,g=c.canvas.getContext("2d"),h,m={},s=function(c,d){eventjs.prevent(c);var e=g.getImageData(d.x,d.y,1,1);0!==e.data[3]&&(h=k.color.space(e.data,"RGBA>HSVA"),a.modules.alpha||(h.A=255),a.update(h));d.pointerEnd&&a.mouseLayerExit()};a.mouseLayerExit=function(){eventjs.removeEvents(m);h&&a.update(h,"up");a.hexBoxContainer.className="hexBox";e.style.cursor="default";setTimeout(function(){a.state="colorPicker"},50)};k.ui.tooltip&&k.ui.tooltip.add(d,"eyedropper");eventjs.add(d,
"click",function(c){if("eyeDropper"===a.state)return a.mouseLayerExit();h=void 0;a.state="eyeDropper";a.hexBoxContainer.className="hexBox active";e.style.cursor="crosshair";m.drag=eventjs.add(e,"drag",s,{monitor:!0})})},h=function(a){var c=a.element,d=document.createElement("div");d.className="hexClose icon-close";d.innerHTML="x";k.ui.tooltip&&k.ui.tooltip.add(d,"Close Color Picker");eventjs.add(d,"mousedown",eventjs.cancel);eventjs.add(d,"click",a.onClose||function(c){eventjs.cancel(c);a.close()});
c.appendChild(d)},g=function(a){"string"===typeof a?a="hsla"===a.substr(0,4)?k.color.space(a,"W3>HSLA>RGBA>HSVA"):"rgba"===a.substr(0,4)?k.color.space(a,"W3>RGBA>HSVA"):"rgb"===a.substr(0,3)?k.color.space(a,"W3>RGB>HSV"):k.color.webcolors[a]?k.color.space(k.color.webcolors[a],"W3>HEX24>RGB>HSV"):k.color.space(a,"W3>HEX24>RGB>HSV"):"undefined"!==typeof a.R&&(a=k.color.space(a,"RGB>HSV"));"undefined"===typeof a.A&&(a.A=255);return a},m=function(a,c,d){return a<c?c:a>d?d:a}})(sketch);
"undefined"===typeof sketch&&(sketch={});
(function(k){k.module=k.module||{};k.module.UIPalette=function(e,d){var a=this,h=e.detect,g=e.dom,k=e.feature,b=e.lang,c=e.ui,f=e.util;e.module.Listener(a);var w,r,y,u="color";a.paintMethod="fill";var s=function(a){var b=a.data,c=a.paintMethod,d={useRender:!0,useRecord:a.state||!0};d.configure=a.configure;d[c]=b;e.style.apply(d)};(function(){a.createTrigger=function(b,d,l,p,r,t){var u=d.type,x=l.constructor.type,w={stroke:"fill",fill:"stroke"}[x],y=f.Canvas(),G=function(a){var b=d[x]&&d[x].__cache,
c=d[w]&&d[w].__cache;s({data:{enabled:a},paintMethod:x,state:!0});L(a);b&&c&&!1===b.vars.checked&&!1===c.vars.checked&&(c.vars.setValue(!0),c.input.classList.add("sk-checked"))},L=function(a){a?e.style.renderSwatch(y,l.type,l[l.type],44,28):e.style.renderSwatch(y,"pattern",c.media.transparent,44,28)},K=function(){var b=function(a){var b="color"===a.type;f.style.display="gradient"===a.type?"block":"none";b&&c.colorPicker.update(a.color,!1)};a.removeListeners("setPane");a.on("setPane",b);var e=c.fullpath?
g.empty("#sk-"+c.fullpath.replace(":","")):g.empty("#sk-configure");c.addHeader(e,{title:r,left:{icon:"icon-left",onclick:function(){c.fullpath&&"configure:"!==c.fullpath?c.setPane(c.fullpath,!0):c.configureBuild(null,!0)}}});G(!0);e=g.append(e,'<div class="sk-pane-content"></div>');a.append(e,d,l);"stroke"===x&&(c.appendRange(e,{label:"lineWidth",param:"lineWidth",title:"lineWidth",value:l.lineWidth,min:.001,max:50,format:"px",onchange:function(a,b){s({data:{lineWidth:b.value},paintMethod:"stroke",
state:a.state,configure:d})}}),k.style.lineJoin&&h.shape[u]&&c.appendSelect(e,{label:"lineJoin",param:"lineJoin",title:"lineJoin",selected:l.lineJoin,options:["round","bevel","miter"],onchange:function(a,b){s({data:{lineJoin:b},paintMethod:"stroke",state:!0,configure:d})}}));var f=g.append(e,'<div class="sk-gradient-opts"></div>');k.style.colorMode&&!h.useColorModeCycle[u]&&(h.useColorModeAll[u]?e=["cycle","linear","radial"]:(e=["linear","radial"],"cycle"===l.mode&&(l.mode="linear")),c.appendSelect(f,
{label:"colorMode",param:"colorMode",title:"colorMode",selected:l.mode,options:e,onchange:function(a,b){s({data:{mode:b},paintMethod:x,state:!0,configure:d});K()}}),"linear"===l.mode&&c.appendRange(f,{value:l.angle,min:0,max:360,format:"degree",label:"angle",param:"angle",title:"angle",onchange:function(a,b){s({data:{angle:b.value>>0},paintMethod:x,state:a.state,configure:d})}}));k.style.colorNoise&&c.appendTag("Checkbox",f,{label:"colorNoise",param:"colorNoise",title:"colorNoise",checked:!!l.noise,
onchange:function(a){s({data:{noise:a},paintMethod:x,state:!0,configure:d})}});b(l);a.setPaintMethod(x);s=t||q};c.addClick(y,K);c.tooltip&&c.tooltip.add(y,"choose-"+x);var N=g.create("div");N.className="sk-style";N.appendChild(y);var H={checked:!0};if(d.fill&&d.stroke){var H=new c.vars.Checkbox({label:"enable",param:"enable",title:function(){return H.checked?"disable":"enable"},checked:l.enabled,onchange:function(a){G(a)}}),Q=c.Checkbox(H);d[x].__cache={};d[x].__cache.vars=H;d[x].__cache.input=Q;
N.appendChild(Q)}L(H&&H.checked);b?p?c.appendLabel(b,N,p):b.appendChild(N):K();s=t||q}})();a.append=function(b,c){if(!c.useBackgroundOverlay)if(a.container)b.appendChild(a.container);else{g.append(b,'<div id="sk-palette"></div>');var d=c.fill,e={};e.paintMethod=d.method;e.paintType=d.type;a.init(e)}};(function(){a.init=function(b){b=b||{};var c=b.colorPicker,d=b.paintMethod||a.paintMethod,e=b.onready;u=b.paintType||u;a.paintMethod=d;h();k.palette.colorPicker&&(f.exists("sk.color.picker")?l(c):console.warn("sk.color.picker is not loaded"));
a.update(u,!0,!0,e);a.setIndicator()};var h=function(){var d=g.empty("#sk-palette"),h=g.create('<div class="sk-header"></div>'),l=k.style.gradient&&"Gradients",p=k.style.pattern&&"Patterns",q=k.style.color&&"Colors";if(!1!==k.palette.header){var s=k.palette.header,t=g.create('<div class="sk-header-content"></div>');t.innerHTML=l&&p||p&&q||q&&l?s||"":s||l||q||p;h.appendChild(t);k.palette.closeButton&&(l=g.create('<span class="sk-close icon-close"></span>'),eventjs.add({target:l,mousedown:eventjs.cancel,
click:function(a,b){eventjs.cancel(a);setTimeout(function(){e.windows.close(b.target.parentNode.parentNode.getAttribute("data-id"))},1)}}),h.appendChild(l));d.appendChild(h)}l=g.create('<div class="sk-palette-content"></div>');k.palette.grid&&(y=g.create('<div class="sk-scroller sk-scroller-official sk-scroller-palette"></div>'),c.scrollable(y),l.appendChild(y),l.appendChild(g.create('<div style="clear: both; padding: 5px;"></div>')),r=g.create('<div class="sk-scroller sk-scroller-palette"></div>'),
c.scrollable(r),l.appendChild(r),l.appendChild(g.create('<div style="clear: both"></div>')));w=g.create('<div class="editor"></div>');w.style.display="none";l.appendChild(w);d.appendChild(l);if(k.style.gradient||k.style.pattern){var v=g.create('<ol class="tabs"></ol>');h.appendChild(v);h=function(d){var e=f.Canvas();e.style.background=c.media.transparent.css;var g=document.createElement("span");g.className=d+"-indicator";g.appendChild(e);v.appendChild(g);eventjs.add(g,"click",function(b){eventjs.prevent(b);
a.updateAndRecord(d)});e=document.createElement("span");e.textContent=b.translate(d);g.appendChild(e)};k.style.color&&h("color");k.style.gradient&&h("gradient");k.style.pattern&&h("pattern")}a.container=d},l=function(b){b=b||{};var f=b.width||206,h=b.height||165,l=b.theme,p=b.onclose;b=b.onchange||function(b,c,d){"down"===c&&a.deselect("color");s({data:{paintType:"color",dna:d},paintMethod:a.paintMethod,state:c})};var q=g.$("#sk-palette .editor"),r=k.palette.eyeDropper?{canvas:d.contexts.layer0,target:d.contexts.active}:
null,t=k.palette.closeButton;"boolean"!==typeof t&&(t=!!p);c.colorPicker=new e.color.picker({recordId:"sk-palette",recordWindow:e.windows.record,onchange:b,onclose:p,theme:l,container:q,feature:{closeButton:!1,hexInput:k.palette.hexInput,eyeDropper:r},modules:{hue:{column:2,enable:!0,width:30,height:h},satval:{column:1,enable:!0,width:f-40,height:h},alpha:{column:3,enable:!1,width:30,height:h}}});g.append(c.colorPicker.element,'<div class="clear"></div>');return c.colorPicker}})();a.setPane=function(b,
c){!1===k.palette[b]&&(k.palette[b]=!0,k.palette.grid=!0,k.palette.header="",a.init());a.update(b,!1,!1,c);a.emit("setPane",e.style[a.paintMethod])};a.setPaintMethod=function(b,c){a.paintMethod=b;a.update(e.style[b].type,!1,!1,c);a.setIndicator()};a.deselect=function(a,b){b=b||r;a=a||u;var c=g.$$("."+a+".selected",b);f.foreach(c,function(a){a.classList.remove("selected")})};a.update=function(b,d,h,p){var q=e.perf(),s=e.style[a.paintMethod];b=b||s.type;if(u!==b||d)if(u=s.type=b,void 0!==w){switch(s.type){case "color":k.palette.colorPicker&&
(w.style.display="block");break;case "gradient":case "pattern":w.style.display="none"}if(k.palette.grid){a.queue&&a.queue.cancel();(d=g.$("."+b+"-indicator"))&&g.setClass(d,"selected",!0,"span");b=s.type;d="color"===b;var E="gradient"===b,A="pattern"===b,I=b+e.style.hashDNA(s[b]);y.style.display="none";g.setClass(y,"color",d);g.setClass(y,"gradient",E);g.setClass(y,"pattern",A);g.setClass(r,"color",d);g.setClass(r,"gradient",E);g.setClass(r,"pattern",A);h&&(g.empty(r),g.empty(y));var F=e.style[b];
if(F){var G,L,K=k.palette.drag&&!e.client.mobile,N="color"===b&&c.tooltip;a.queue=f.Queue({items:F,oncancel:p,oncomplete:function(){k.debug&&console.log("build palette",b,q());a.setIndicator();p&&p()},next:function(a,d,g){a=F[g];d=e.style.hashDNA(a);var p=b+d,q=e.style[b+"Official"][d]?y:r,s=document.getElementById(p);if(s&&!h)return l(b,s,d,I,p),this.next();var u=f.Canvas(),s=document.createElement("li");s.id=p;s.className=b;s.setAttribute("data-type",b);s.setAttribute("data-dna",a);s.appendChild(u);
G||L||(q.appendChild(s),L=(G=u.offsetWidth)||u.offsetHeight);e.style.renderSwatch(u,b,a,G,L);l(b,s,d,I,p);q.appendChild(s);N&&c.tooltip.add(u,a.toUpperCase());K&&eventjs.add(u,"drag",t);eventjs.add(u,"click",x);k.palette.buildInstant?this.next():0!==g%10?this.next():setTimeout(this.next,0)}})}}}};a.rebuild=function(b){b=g.$$("#sk-palette .sk-scroller-palette "+(b?"."+b:"li"));g.remove(b);a.update(null,!0)};var l=function(a,b,c,d,f){e.style[a+"Official"][c]&&(y.style.display="block",g.setClass(b,"official",
!0));f===d&&g.setClass(b,"selected",!0)};a.updateAndRecord=function(b){var c=e.style[a.paintMethod][b];a.setPane(b);s({data:{paintType:b,dna:c},paintMethod:a.paintMethod,state:!0})};var p=function(a,b){for(var c=g.$$("."+a+"-indicator canvas"),d=0;d<c.length;d++){var f=c[d],h=f.offsetWidth;e.style.renderSwatch(f,a,b[a],h,h||f.offsetHeight)}};a.setIndicator=function(){var b=e.doc,c=a.paintMethod,d=e.style[c]||b.tool.device[c];b.scene&&1===b.selection.length&&(b=b.scene.getOneSelected())&&"clipart"!==
b.type&&(c=b&&b[c])&&(d[c.type]=c[c.type]);p("color",d);p("gradient",d);p("pattern",d);c=g.$$(".style-indicator canvas");for(b=0;b<c.length;b++)c[b].style.cssText="color"===d.type?"background: "+d.color:e.style.toCSSGradientBG({dna:d.gradient});c=d.type;d=e.style.hashDNA(d[c]);(d=g.$("#"+c+d))&&g.setClass({target:d,list:d.parentNode.querySelectorAll("li"),className:"selected",on:!0})};var t=function(a,b){var c=e.doc;eventjs.cancel(a);"down"===b.state&&(b.clone=g.clone(b.target,"sk-palette-clone"),
b.metrics=g.measure(b.target),document.body.appendChild(b.clone));var d=b.x-b.start.x,f=b.y-b.start.y;10<Math.max(Math.abs(d),Math.abs(f))&&c.selection.reset();"up"===b.state?(g.remove(b.clone),x(a,b),d=eventjs.getPageXY(a),document.elementFromPoint(d.x,d.y)===c.contexts.active&&(d=b.target.parentNode,f=c.scene.findAtPoint({point:b}),(c=c.scene.children[f.pop()])&&e.vector.setStyleFromDropPoint({dna:d.getAttribute("data-dna"),object:c,paintType:d.getAttribute("data-type"),point:a}))):(c=b.clone.style,
c.position="absolute",c.left=d+b.metrics.x1+"px",c.top=f+b.metrics.y1+"px",c.cursor="crosshair")},x=function(b,d){eventjs.prevent(b);var f=a.paintMethod,h=d.target.parentNode,l=h.getAttribute("data-type"),p=h.getAttribute("data-dna");a[f]=p;a.deselect(l,r);a.deselect(l,y);g.setClass(h,"selected",!0);setTimeout(function(){"pattern"===l?e.style.loadPattern(p,function(b){s({data:{paintType:l,dna:p},paintMethod:a.paintMethod,state:!0})}):"color"===l&&c.colorPicker.update?"none"!==p&&c.colorPicker.update(p,
!0):s({data:{paintType:l,dna:p},paintMethod:a.paintMethod,state:!0});k.debug&&console.log("dna",p)},10)};(function(){a.visible=!1;a.show=function(b){a.visible=!0;b=b||{};var d=b.aside;if(b=b.style){var h=e.style.validate(dna);h&&(s({data:{dna:b},paintMethod:a.paintMethod,state:!0}),"color"===h&&c.colorPicker&&c.colorPicker.update(b))}if(d){h=b=0;if(d.target){var k=g.measure(d.target);b+=k.x1;h+=k.y1}if(d.position){var l=g.$("#sk-palette"),k=l.style.display;l.style.display="block";var m=f.arrayToObject(d.position.split(" "));
m.bottom&&(h-=l.offsetHeight);m.right&&(b-=l.offsetWidth);l.style.display=k}d.top&&(h+=d.top);d.bottom&&(h-=d.bottom);d.left&&(b+=d.left);d.right&&(b-=d.right);l.style.left=b+"px";l.style.top=h+"px";e.windows.record({id:"sk-palette",x:b,y:h,left:b/window.innerWidth,top:h/window.innerHeight,display:"block"});e.windows.open("#sk-palette",!1)}else e.windows.open("#sk-palette")};a.hide=function(){a.visible=!1;e.windows.close("#sk-palette")};a.toggle=function(b){var c=g.$("#sk-palette");e.windows.isOpen(c)?
a.hide():a.show(b)}})();var q=s;return a}})(sketch);"undefined"===typeof sketch&&(sketch={});
(function(k){var e=k.dom,d=k.util,a=k.windows=[];a.focused=[];var h=a.idToIndex={};k.module.Listener(a);a.add=function(b){k.ui=k.ui||{};k.ui.zIndexGlobal=k.ui.zIndexGlobal||100;var c=b.id,f=e.$(c);if(isFinite(h[c]))return k.feature.debug&&console.warn("element already exists"),a;if(c){if(!f)return k.feature.debug&&console.warn("window does not exist",b),a}else{for(var g in b)f=b[g],f.id=g,a.add(f);return a.restore()}var m=b.display;!0===m&&(m="block");!1===m&&(m="none");var y=(b.position||"top left").split(" ");
g=b.vAlign=y[0]||"top";y=b.hAlign=y[1]||"left";"px"===b.format&&("top"===g?b.top=(b.top||0)/window.innerHeight:b.bottom=(b.bottom||0)/window.innerHeight,"left"===y?b.left=(b.left||0)/window.innerWidth:b.right=(b.right||0)/window.innerWidth);b.element=f;f.setAttribute("data-id",c);if(b.autoclose){var u=b.ghost=document.createElement("div");0===c.indexOf("#")?u.id=c+"-ghost":u.className=c+"-ghost";u.style.cssText="width: 100%; height: 100%; position: fixed; top: 0; z-index: 100;";f.parentNode.insertBefore(u,
f);eventjs.add(u,"mousemove",function(a){"eyeDropper"===k.ui.colorPicker.state&&k.ui.colorPicker.mouseLayerUpdate(a)});eventjs.add(u,"mousedown",function(b){eventjs.prevent(b);"eyeDropper"===k.ui.colorPicker.state?k.ui.colorPicker.mouseLayerExit(b):a.close(c)})}a.addWindowEvent(f);h[c]=a.length;a.push(b);d.getItem(c,function(a){a&&("boolean"===typeof m&&m?a.display="block":m&&(a.display=m),"NONE"===b.display&&(a.display="none"),"BLOCK"===b.display&&(a.display="block"),b.autoclose&&(u.style.display=
a.display),d.copyInto(a,b))});return a};a.setCurrentTab=function(b,c){b&&c&&(e.setClass({className:"selected",list:"div",target:e.$(b+" "+c)}),a.record({id:b,className:c}))};a.byId=function(b){b=h[b];return isFinite(b)?a[b]:!1};a.record=function(b){var c=a.byId(b.id);if(c){"undefined"!==typeof b.left&&(c.left=b.left);"undefined"!==typeof b.top&&(c.top=b.top);"undefined"!==typeof b.right&&(c.right=b.right);"undefined"!==typeof b.bottom&&(c.bottom=b.bottom);"undefined"!==typeof b.display&&(c.display=
b.display);"undefined"!==typeof b.index&&(c.index=b.index);"undefined"!==typeof b.className&&(c.className=b.className);var e=JSON.stringify(c,d.json.filterCircular);d.setItem(b.id,e);a.focusElement(b.id,c.display)}};a.restore=function(){var b=document.body||document.documentElement,c=b.scrollTop,d=b.scrollLeft,h=window.innerWidth,m=window.innerHeight;g.element&&a.setContainer(g.element);for(var b=[],y={},u=0;u<a.length;u++){var s=a[u],l=s.vAlign,p=s.hAlign,t=e.$(s.id);if(t&&t.style){t.style.display=
"block";var t=e.measure(t),x=g[l||"top"],q=g[p||"left"],v="top"===l?s.top*m:m-s.bottom*m-t.height,v,s="left"===p?s.left*h:h-s.right*h-t.width;v+=c+x;s+=d+q;x=Math.min(v,m);q=Math.min(s,h);y.BOTTOM=v+t.height-m;y.TOP=x-v;y.RIGHT=s+t.width-h;y.LEFT=q-s;y[l]=Math.max(y[l]||0,y[l.toUpperCase()]);y[p]=Math.max(y[p]||0,y[p.toUpperCase()]);b.push({top:Math.max(0,v),left:Math.max(0,s)})}}c=100;for(u=0;u<a.length;u++)s=a[u],s.display&&!0!==s.display||(s.display="block"),(t=e.$(s.id))&&t.style&&(h=b[u],d="bottom"===
s.vAlign?h.top-y.bottom:h.top+y.top,h="right"===s.hAlign?h.left-y.right:h.left+y.left,d=Math.ceil(d),h=Math.ceil(h),t.style.top=d+"px",t.style.left=h+"px",t.style.display=s.display||"block",t.style.zIndex=s.zIndexFixed||s.index||++c,k.ui.zIndexGlobal=Math.max(k.ui.zIndexGlobal,s.index||0),"block"===s.display&&-1===t.className.indexOf("opened")&&t.classList.add("opened"));return a};a.blink=function(b,c){var d=e.$(b);if(d)if(a.isOpen(d)||a.open(b),setTimeout(function(){d.blinking=!1},250),d.blinking)c&&
c(!0);else return d.blinking=!0,d.classList.remove("blink"),d.classList.add("blink-stall"),setTimeout(function(){d.classList.remove("blink-stall");-1===d.className.indexOf("opened")?a.open(b):d.classList.add("blink");c&&c(!0)},0),a};a.open=function(b,c){c=!1!==c;var d=e.$(b);if(d&&-1!==d.className.indexOf("sk-window")){d.classList.add("opened");var g=a.byId(b),h=g.zIndexFixed?g.zIndexFixed:++k.ui.zIndexGlobal;d.style.display="block";d.style.zIndex=h;d.style.opacity=1;clearTimeout(d.interval);a.record({id:b,
display:"block",index:h});g.autoclose&&g.ghost&&(g.ghost.style.display="block");c&&setTimeout(a.restore,500);return a}};a.close=function(b){var c=a.byId(b);if(c&&!1!==c.closeable){var d=e.$(b);d.classList.remove("opened");d.style.opacity=0;d.interval=setTimeout(function(){d.style.opacity=1;d.style.display="none";a.record({id:b,display:"none"})},250);c.autoclose&&c.ghost&&(c.ghost.style.display="none")}return a};a.focus=function(b){var c=e.$(b);if(c){var d=a.byId(b),d=d.zIndexFixed?d.zIndexFixed:++k.ui.zIndexGlobal;
c.style.zIndex=d;a.record({id:b,index:d})}return a};a.clearFocus=function(){a.focused=[]};a.focusElement=function(b,c){if("none"!==c){var d=a.focused.slice(-1)[0],e=" "+a.focused.join(" ")+" ";d!==b&&-1===e.indexOf(b)&&a.focused.push(b)}};a.hasFocus=function(){return isFinite(h[a.focused.slice(-1)[0]])};a.closeFocused=function(){var b=a.focused.pop();a.close(b)};a.isOpen=function(a){"string"===typeof a&&(a=e.$(a));if(a)return"none"===a.style.display?!1:-1!==(" "+a.className+" ").indexOf(" opened ")};
a.isClosed=function(b){return!a.isOpen(b)};a.toggle=function(b,c){var d,g=e.$(b);g?(a.isOpen(g)?(a.close(b),d=!1):(a.open(b),a.restore(),d=!0),c&&setTimeout(function(){c(d)},1)):k.feature.debug&&console.warn("missing",arguments)};var g={x:0,y:0,left:0,right:0,top:0,bottom:0,vAlign:"top",hAlign:"left"};a.setClamp=function(b,c,d,e,h){"object"===typeof b&&(b.element&&a.setContainer(b.element),h=b.format,e=b.height,d=b.width,c=b.y,b=b.x);g.x=b||null;g.y=c||null;g.width=d||null;g.height=e||null;g.format=
h};a.setContainer=function(a){var c=e.measure(a);g.element=a;g.metrics=c;g.left=c.x1;g.right=c.x2;g.top=c.y1;g.bottom=c.y2};a.drag=function(b,c){var d=document.body||document.documentElement,h=d.scrollTop,r=d.scrollLeft,y=window.innerWidth,u=window.innerHeight,s=m(b),l=a.byId(s);if(!1!==l.draggable)return eventjs.proxy.drag({event:c,target:b,position:"move",listener:function(c,d){a.emit("drag");eventjs.cancel(c);var f=e.measure(d.target);d.width=f.width;d.height=f.height;var m=g.x||0,v=g.y||0,z=g.width||
window.innerWidth,C=g.height||window.innerHeight;d.x+d.width>z&&(d.x=z-d.width);d.x<m&&(d.x=m);d.y+d.height>C&&(d.y=C-d.height);d.y<v&&(d.y=v);b.style.left=Math.ceil(d.x+r)+"px";b.style.top=Math.ceil(d.y+h)+"px";d.pointerDown?(f=l.zIndexFixed?l.zIndexFixed:++k.ui.zIndexGlobal,b.style.zIndex=f):d.pointerUp&&(m={},m.id=s,m.index=k.ui.zIndexGlobal,"bottom"===l.vAlign?m.bottom=(u-d.y-g.bottom-f.height)/u:m.top=(d.y-g.top)/u,"right"===l.hAlign?m.right=(y-d.x-g.right-f.width)/y:m.left=(d.x-g.left)/y,a.record(m),
a.restore())}})};a.addWindowEvent=function(b){if(void 0===b.hasWindowEvent){b.hasWindowEvent=!0;var c;m(b);eventjs.add({target:b,contextmenu:function(a){c&&c.remove&&c.remove()},mousedown:function(b){c=a.drag(this,b)},mouseover:function(a){eventjs.stop(a);k.ui.tooltip&&k.ui.tooltip.update("")}});var e=b.querySelector("span.sk-close");e&&(k.ui.tooltip&&k.ui.tooltip.add(e,"Close"),eventjs.add({target:e,mousedown:eventjs.stop,click:function(b,c){eventjs.cancel(b);window.setTimeout(function(){for(var b=
c.target;b!==document;)if(b.classList.contains("sk-window")){a.close(m(b));break}else if(b.parentNode)b=b.parentNode;else break},1)}}));d.each(b.querySelectorAll(".tree"),function(b){eventjs.add(b,"click",function(b,c){a.setCurrentTab("#sk-open",".start")})})}};var m=function(a){return a.getAttribute("data-id")||a.id}})(sketch);
(function(k){k.ui=k.ui||{};k.ui.scrollers={};k.ui.InfiniteScroll=function(d,a,h){var g=d.feature,k=h.type,b=h.target,c=d.lib[k];if(c&&c.paths){var f=d.ui.scrollers,w=f[k],r=!1;w&&(r=g.ui.addToLibrary?w.positions.length===c.paths.length:!0);if(r)return w.target=b,w.show(h);w=new e(d,a,h);return f[k]=w}};var e=function(d,a,e){var g=this,k=d.dom,b=d.feature,c=d.lang,f=a.render,w=a.toolkit,r=d.util;g.credits=void 0;g.folder=e.folder;g.media=void 0;g.positions=[];g.scroller=void 0;g.scrollTop=0;g.target=
e.target;g.type=e.type;g.hide=function(){g.scroller.style.display="none"};g.show=function(a){var b=d.lib[g.type];if(b&&b.paths){var c=g.folder=a.folder,e=g.credits;a=g.scroller;var f=g.target;a.style.display="none";a.scrollTop=g.scrollTop;f.appendChild(a);f.appendChild(e);for(var e=0,f=b.paths,h=f.length,l=0;l<h;l++){var p=f[l],r=p.container;if(p.image&&r){var s=!c||"*"===c,t=p.selected===c;"Your Files"===c&&0===b.getSrc(p).indexOf("#")||t||s?(e++,r.style.display="inline-block"):r.style.display="none"}}(b=
k.$(".noItemsAdded"))||(b=k.create('<div class="noItemsAdded"></div>'),b.textContent="No files have been added.",a.appendChild(b));b.style.display=0===e?"block":"none";a.style.display="block";g.scrollTo();g.lazyLoad();return g}};g.lazyLoad=function(){var a=g.scroller,b=a.scrollTop,c=a.offsetHeight;a.style.display="none";for(var d=g.positions,e=g.folder,f=[],h=g.media.paths,k=h.length,l=0;l<k;l++){var m=h[l],p=!e||"*"===e,r=m.selected===e;("Your Files"===e&&"#"===m.filepath[0]||r||p)&&f.push(m)}e=
f.length;for(h=0;h<e;h++)if(k=d[h])l=k[0],l>=b-k[1]&&l<=b+c&&(l=f[h],k=l.image,l=l.container,k&&l&&(k.src=l.getAttribute("data-thumbnail")));a.style.display="block"};g.calcMetrics=function(a,b,c){b=a.offsetWidth-t;c=c.thumbnail;var d=c._height/c._width,e=isFinite(c.rows)?c.rows:5,f=isFinite(c.columns)?c.columns:4,g=isFinite(c.padding)?c.padding:0;b/=f;b=r.copyInto(c,{width:Math.round(b),height:Math.round(b*d),padding:g,columns:f,rows:e});a.style.cssText+="max-height: "+b.height*b.rows+"px;";return b};
var y=function(c,d){c.events&&eventjs.removeEvents(c.events);c.events={};c.events.click=eventjs.add(c,"click",u);if(d){var e=function(c,d){b.vector.edit||a.scene.deselectAll();d.drag=a.addFromDrag({target:d,event:c,src:d.getAttribute("data-src")})};"longpress"===d?c.events.longpress=eventjs.add(c,"longpress",function(a,b){eventjs.stop(a);"start"===b.state&&e(a,b.target)}):c.events.mousedown=eventjs.add(c,"mousedown",function(a,b){eventjs.stop(a);e(a,this)})}};g.select=function(a){k.setClass({className:"selected",
list:k.$$("."+g.type,g.scroller),target:a,on:!0})};var u=function(a,e){var h=d.doc,l=e.target,p=g.type,r=l.getAttribute("data-src"),t=l.getAttribute("data-name"),u=r.split("/"),w=b.placement.mediaClick;g.select(l);var y=document.createElement("span");y.className="loader";l.appendChild(y);setTimeout(function(){s(p,u[u.length-2]);if(l.drag){l.drag.remove();var a=k.$("#sk-draggable");a&&a.parentNode.removeChild(a)}var a="text"===p,b="stamp"===p;(a=!("select"===h.tool.type&&h.selection.length||a||b))&&
h.scene.deselectAll();h.changeMedia({src:r,fontFamily:t,type:p,onerror:function(){d.ui.log(c.translate("loading-error")+" \u201c"+t+"\u201d");l.removeChild(y)},onload:function(){f.dirtyControls=!0;l.removeChild(y)}});a&&w&&h.scene.add({type:p,src:r})},250)};g.scrollTo=function(a){"undefined"===typeof a?a=g.scroller.querySelector(".selected"):"string"===typeof a&&(a=g.scroller.querySelector(".hash"+r.hash(a)));if(a&&a.nodeName){var b=a.offsetTop;a.classList.contains("sk-divider")&&(b+=a.offsetHeight);
g.scroller.scrollTop=b;g.scrollTop=b}};var s=function(a,b){var c=g.credits;c.innerHTML="";c.style.display="none";var e=d.lib[a].credits;if(e&&e[b]){c.style.display="block";var e=e[b],f=k.create('<a target="_blank" href="'+e.url+'"></a>'),h=document.createElement("span");h.setAttribute("data-title",e.name);h.textContent=e.name;f.appendChild(h);c.appendChild(document.createTextNode("By: "));c.appendChild(f)}},l=function(){console.warn("error",this)},p=function(){var a="stamp"===g.type||"text"===g.type,
c=this.canvas;r.thumbnailer({background:"none",src:this,canvas:c,width:c.width,height:c.height,crop:"edge",center:!0,shadow:a&&b.ui.scrollerShadow,onload:function(b){if(a){var c=b.className||"";c.indexOf("selected");var e=b.getContext("2d");e.save();e.globalCompositeOperation="source-atop";e.fillStyle=d.feature.ui.scrollerAtopColor;e.fillRect(0,0,b.width,b.height);b.setAttribute("data-className",c);e.restore()}}})},t=function(){var a=document.createElement("p");a.style.width="100%";a.style.height=
"200px";var b=document.createElement("div");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.visibility="hidden";b.style.width="200px";b.style.height="150px";b.style.overflow="hidden";b.appendChild(a);document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";a=a.offsetWidth;c===a&&(a=b.clientWidth);document.body.removeChild(b);return c-a+2}();(function(e){e=g.type;var f=d.lib[e];if(f&&f.paths){f.thumbnail=f.thumbnail||{};var h=k.create('<div class="sk-configure-scroller sk-scroller"></div>'),
t=k.create('<div class="sk-configure-credits"></div>'),u=g.target;u.appendChild(h);u.appendChild(t);g.scroller=h;g.credits=t;g.media=f;g.thumbnail=g.calcMetrics(h,e,f);g.positions=[];s(e,g.folder);a:{if(t=a.selection.item||a.config[e]){var u=d.detect.useSrc,J=t.type,D=d.lib[t.type];if(u[t.type]){var B=a.tool.type;!t.src&&d.lib[J]&&(t.src=D.getSrc(D.paths[0]));u[B]&&J!==B&&w.setTool(J);t=t.src||"";break a}else if(t.fontFamily){t=D.getSrc(D.byName[t.fontFamily])||"";break a}}t=""}var u=("clipart"===
e||"image"===e)&&b.placement.mediaDrag,J=b.ui.scrollerCategories,E=g.thumbnail,D=E.padding,B=E.width,A=E.height,E=E.columns,I=a.pixelRatio,F=g.positions;h.style.display="none";for(var G="",L=0,K=0,N,H=f.paths,Q=H.length,T=0;T<Q;T++){var P=H[T],R=f.getSrc(P,!0),X=f.getThumbnail(P);if(P.category!==G&&J){var G=P.category||"Your Files",L="hash"+r.hash(G),W=document.createElement("div");W.className=L+" sk-divider";W.style.height="35px";W.textContent=c.translate(G);h.appendChild(W);L=0;K+=35;0!==T&&(K+=
A)}else++L===E&&(L=0,K+=A);var W=P.canvas,U=B*I,V=A*I;if(W&&W.width===U&&W.height===V)var O=P.image,U=P.container;else O=P.image=document.createElement("img"),W=P.canvas=r.Canvas(U-2*D,V-2*D),U=P.container=document.createElement("span"),W.style.padding=D+"px",W.style.width=B+"px",W.style.height=A+"px",W.title=P.filename,U.style.width=B+"px",U.style.height=A+"px",U.setAttribute("data-src",R),U.setAttribute("data-thumbnail",X),U.setAttribute("data-name",P.name),U.setAttribute("data-n",T),U.className=
e,U.appendChild(W),O.canvas=W,O.onload=p,O.onerror=l;y(U,u);R&&-1!==t.indexOf(R)&&(N=U);F.push([K,A]);h.appendChild(U)}h.style.display="block";g.select(N)}})(e);g.show(e);d.ui.scrollable(g.scroller);eventjs.add(g.scroller,"scroll",function(){var a=g.scroller;g.scrollTop=a.scrollTop;clearTimeout(a.timeout);a.timeout=setTimeout(function(){g.lazyLoad()},100)});return g}})(sketch);
